import{bI as N,ah as R,dz as O}from"./main-CnDVnExo.js";import{s as S,q as M,o as P}from"./mat4-i0cPq9AY.js";import{F as T,N as r,b as f}from"./projectionUtils-B4YRVrjd.js";function A(e,c,s){const E=Math.sin(e),C=Math.cos(e),n=Math.sin(c),a=Math.cos(c),t=s;return t[0]=-E,t[4]=-n*C,t[8]=a*C,t[12]=0,t[1]=C,t[5]=-n*E,t[9]=a*E,t[13]=0,t[2]=0,t[6]=a,t[10]=n,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,t}function m(e,c,s){return A(e,c,s),S(s,s),s}function p(e,c,s,E){const C=T(e,E);if(C==null)return!1;const n=C.source.spatialReferenceId,a=C.dest.spatialReferenceId;if(n===a&&!L(a)&&(n!==r.UNKNOWN||N(e,E)))return M(s,c),!0;if(L(a)){const u=f[n][r.LON_LAT],_=f[r.LON_LAT][a];return u!=null&&_!=null&&(u(c,0,o,0),_(o,0,i,0),A(l*o[0],l*o[1],s),s[12]=i[0],s[13]=i[1],s[14]=i[2],!0)}const t=L(n);if((a===r.WEB_MERCATOR||a===r.PLATE_CARREE||a===r.WGS84||a===r.CGCS2000)&&(n===r.WGS84||t||n===r.WEB_MERCATOR||n===r.CGCS2000)){const u=f[n][r.LON_LAT],_=f[r.LON_LAT][a];return u!=null&&_!=null&&(u(c,0,o,0),_(o,0,i,0),t?m(l*o[0],l*o[1],s):P(s),s[12]=i[0],s[13]=i[1],s[14]=i[2],!0)}return!1}function L(e){return e===r.SPHERICAL_ECEF||e===r.SPHERICAL_MARS_PCPF||e===r.SPHERICAL_MOON_PCPF||e===r.WGS84_ECEF}const l=O(1),o=R(),i=R();export{p as m,A as n};
