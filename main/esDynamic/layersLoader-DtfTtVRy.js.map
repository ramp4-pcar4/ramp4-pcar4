{"version":3,"file":"layersLoader-DtfTtVRy.js","sources":["../../node_modules/@arcgis/core/portal/support/layersLoader.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{parse as t}from\"../../layers/support/arcgisLayerUrl.js\";import{fetchFeatureService as r}from\"../../layers/support/fetchService.js\";import{LayerLoadContext as a}from\"../../layers/support/LayerLoadContext.js\";import{applyPreferredHostToPortalItem as o,getPreferredHost as n,isPreferredUrlApplicable as s}from\"../../layers/support/layerUtils.js\";import l from\"../Portal.js\";import{createForItemRead as i}from\"./jsonContext.js\";import{instanceTypeToLayerTypes as p,getSublayersByLayerType as u,getFirstLayerOrTable as c,preprocessFSItemData as y,populateSceneServiceItemData as d,getNumLayersAndTables as f,layerTypeToLayerModuleType as m,createSublayerData as w}from\"./loadUtils.js\";import{hasTypeKeyword as h}from\"./portalItemUtils.js\";import{loadStyleRenderer as g}from\"../../renderers/support/styleUtils.js\";import{fetchArcGISServiceJSON as I}from\"../../support/requestPresets.js\";async function b(e,t){const r=e.instance.portalItem;if(r?.id)return await r.load(t),v(e),e.validateItem&&e.validateItem(r),L(e,t)}function v(t){const r=t.instance.portalItem;if(!r?.type||!t.supportedTypes.includes(r.type))throw new e(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}'\",{type:r?.type,expectedType:t.supportedTypes.join(\", \")})}async function L(e,t){const r=e.instance,o=r.portalItem;if(!o)return;let{url:n}=o;const{title:s}=o,l=i(o,\"portal-item\");if(\"group\"===r.type)return S(r,l,e);n&&\"media\"!==r.type&&r.read({url:n},l);const p=new a,{data:u,preferredHost:c}=await x(e,p,t);return n=o.url,\"isUrlHostModified\"in r&&(c?r.applyPreferredHost({preferredHost:c}):r.applyHostFromPortalItem()),u&&r.read(u,l),r.resourceReferences={portalItem:o,paths:l.readResourcePaths??[]},\"subtype-group\"!==r.type&&r.read({title:s},l),g(r,l)}async function S(t,r,a){const o=t.portalItem;if(!t.sourceIsPortalItem)return;const{title:n,type:s}=o;if(\"Group Layer\"===s){if(!h(o,\"Map\"))throw new e(\"portal:invalid-layer-item-typekeyword\",\"'Group Layer' item without 'Map' type keyword is not supported\");return T(t,a)}return t.read({title:n},r),j(t,a)}async function T(t,r){const a=t.portalItem,o=await a.fetchData(\"json\");if(!o)return;if(!r.populateGroupLayer)throw new e(\"portal:missing-populate-group-layer\",\"Missing populate group layer\");const n=i(a,\"web-map\");t.read(o,n),await r.populateGroupLayer(t,o,{context:n}),t.resourceReferences={portalItem:a,paths:n.readResourcePaths??[]}}async function j(t,r){let n;const{portalItem:s}=t;if(!s)return;const l=s.type,i=r.layerModuleTypeMap;if(!i)throw new e(\"portal:missing-layer-module-type-map\",\"Layer module type map is required to construct sub layers\");switch(l){case\"Feature Service\":case\"Feature Collection\":n=i.FeatureLayer;break;case\"Stream Service\":n=i.StreamLayer;break;case\"Scene Service\":n=i.SceneLayer;break;case\"Video Service\":n=i.VideoLayer;break;default:throw new e(\"portal:unsupported-item-type-as-group\",`The item type '${l}' is not supported as a 'IGroupLayer'`)}const p=\"Video Service\"===l,u=new a;let[m,{data:w}]=await Promise.all([n(),p?{data:null}:x(r,u)]),h=()=>m;if(p)return F(t,h,i);if(\"Feature Service\"===l){const e=c(w)?.customParameters;w=s.url?(await y(w,s.url,u)).data:{},h=await E(w,i)||h;const{provider:r,preferredHost:a}=await U(s.url,{customParameters:e,loadContext:u});return o(s,a),await H(t,h,h,w,i,r)}return\"Scene Service\"===l&&s.url&&(w=await d(s,w,u)),f(w)>0?await H(t,h,null,w,i):await P(t,h,i)}async function P(e,t,r){const{portalItem:a}=e;if(!a?.url)return;const o=await I(a.url);o&&H(e,t,null,{layers:o.layers?.map(w),tables:o.tables?.map(w)},r)}async function F(e,t,r){const{portalItem:a}=e;if(!a?.url)return;const o=await I(a.url);o&&H(e,t,null,{layers:o.layers?.map((({id:e,name:t})=>({id:e,name:t})))},r)}async function H(e,t,r,a,o,n){let s=a.layers||[];const l=a.tables||[];if(\"Feature Collection\"===e.portalItem?.type?(s.forEach(((e,t)=>{e.id=t,\"Table\"===e?.layerDefinition?.type&&l.push(e)})),s=s.filter((e=>\"Table\"!==e?.layerDefinition?.type))):(s.reverse(),l.reverse()),s.forEach((r=>{const o=n?.(r);if(o||!n){const n=M(e,t(r),a,r,o);e.add(n)}})),l.length){const t=r?null:await o.FeatureLayer();l.forEach((o=>{const s=n?.(o);if(s||!n){const n=M(e,r?r(o):t,a,o,s);e.tables.add(n)}}))}}function M(e,t,r,a,o){const n=e.portalItem,s={portalItem:n.clone(),layerId:a.id};null!=a.url&&(s.url=a.url);const i=new t(s);if(\"sourceJSON\"in i&&(i.sourceJSON=o),\"subtype-group\"!==i.type&&\"catalog\"!==i.type&&(i.sublayerTitleMode=\"service-name\"),\"Feature Collection\"===n.type){const e={origin:\"portal-item\",portal:n.portal||l.getDefault()};i.read(a,e);const t=r.showLegend;null!=t&&i.read({showLegend:t},e)}return i}async function x(e,t,r){if(!1===e.supportsData)return{data:void 0};const a=e.instance,n=a.portalItem;if(!n)return{data:void 0};let s=null;try{s=await n.fetchData(\"json\",r)}catch(l){}if(C(a)){let e=null;const{count:r,preferredHost:l}=await G(n,s,t);if(o(n,l),(s?.layers||s?.tables)&&r>0){if(null==a.layerId){const e=p(a.type),t=e?.length?u(s,e)[0]:c(s);t&&(a.layerId=t.id)}e=k(s,a),\"OrientedImageryLayer\"===e?.layerType&&\"oriented-imagery\"===a.type&&a.supportedSourceTypes.add(\"Feature Layer\"),e&&null!=s.showLegend&&(e.showLegend=s.showLegend)}return r>1&&\"sublayerTitleMode\"in a&&\"service-name\"!==a.sublayerTitleMode&&(a.sublayerTitleMode=\"item-title-and-service-name\"),{data:e,preferredHost:l}}return{data:s}}async function G(e,r,a){if(r?.layers&&r?.tables)return{count:f(r)};const o=t(e.url);if(!o)return{count:1};const l=o.url.path,i=await a.fetchServiceMetadata(l,{customParameters:c(r)?.customParameters}).catch((()=>null));return{count:(r?.layers?.length??i?.layers?.length??0)+(r?.tables?.length??i?.tables?.length??0),preferredHost:s(e)?n():null}}function k(e,t){const{layerId:r}=t,a=e.layers?.find((e=>e.id===r))||e.tables?.find((e=>e.id===r));return a&&D(a,t)?a:null}function C(e){return\"stream\"!==e.type&&\"layerId\"in e}function D(e,t){const r=\"layerType\"in e&&e.layerType,{type:a}=t;return!(\"feature\"===a&&r&&\"ArcGISFeatureLayer\"!==e.layerType||\"catalog\"===a&&!r||\"oriented-imagery\"===a&&!r||\"subtype-group\"===a&&!r)}async function U(e,t){const{layersJSON:a,preferredHost:o}=await r(e,t);if(!a)return{provider:null,preferredHost:o};const n=[...a.layers,...a.tables];return{provider:e=>n.find((t=>t.id===e.id)),preferredHost:o}}async function E(e,t){const{layers:r,tables:a}=e,o=[...r??[],...a??[]];if(!o.length)return;const n=new Set,s=[];for(const{layerType:p}of o){const e=p??\"ArcGISFeatureLayer\";if(n.has(e))continue;n.add(e);const r=t[m(e)];s.push(r())}const l=await Promise.all(s),i=new Map;return Array.from(n).forEach(((e,t)=>{i.set(e,l[t])})),({layerType:e})=>{const t=e??\"ArcGISFeatureLayer\";return i.get(t)}}export{b as load};\n"],"names":["b","e","t","v","L","r","o","n","s","i","S","p","a","c","x","g","h","T","j","l","u","m","w","F","y","E","U","H","d","f","P","I","M","C","G","k","D"],"mappings":"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","x_google_ignoreList":[0]}