var T,Et=(T=typeof document<"u"?document.currentScript?.src:void 0,async function(K={}){var H,b,e=K,Q=new Promise((t,r)=>{H=t,b=r}),V=typeof window=="object",R=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type;var j,_,U=Object.assign({},e),C=(t,r)=>{throw r},c="";function X(t){return e.locateFile?e.locateFile(t,c):c+t}(V||R)&&(R?c=self.location.href:typeof document<"u"&&document.currentScript&&(c=document.currentScript.src),T&&(c=T),c=c.startsWith("blob:")?"":c.slice(0,c.replace(/[?#].*/,"").lastIndexOf("/")+1),R&&(_=t=>{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),j=async t=>{var r=await fetch(t,{credentials:"same-origin"});if(r.ok)return r.arrayBuffer();throw new Error(r.status+" : "+r.url)}),e.print||console.log.bind(console);var y=e.printErr||console.error.bind(console);Object.assign(e,U),U=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram;var w,d,h,E,f,g=e.wasmBinary,v=!1;function F(){var t=w.buffer;e.HEAP8=h=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAPU8=E=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAP32=new Int32Array(t),e.HEAPU32=f=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t),e.HEAP64=new BigInt64Array(t),e.HEAPU64=new BigUint64Array(t)}function Y(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)ft(e.preRun.shift());k(M)}function Z(){s.i()}function z(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)ct(e.postRun.shift());k(B)}var S,p=0,l=null;function tt(t){p++,e.monitorRunDependencies?.(p)}function rt(t){if(p--,e.monitorRunDependencies?.(p),p==0&&l){var r=l;l=null,r()}}function P(t){e.onAbort?.(t),y(t="Aborted("+t+")"),v=!0,t+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(t);throw b(r),r}function et(){return e.locateFile?X("qb3-wasm.wasm"):new URL("qb3-wasm.wasm","").href}function nt(t){if(t==S&&g)return new Uint8Array(g);if(_)return _(t);throw"both async and sync fetching of the wasm failed"}async function it(t){if(!g)try{var r=await j(t);return new Uint8Array(r)}catch{}return nt(t)}async function at(t,r){try{var i=await it(t);return await WebAssembly.instantiate(i,r)}catch(n){y(`failed to asynchronously prepare wasm: ${n}`),P(n)}}async function ot(t,r,i){if(!t&&typeof WebAssembly.instantiateStreaming=="function")try{var n=fetch(r,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(n,i)}catch(a){y(`wasm streaming compile failed: ${a}`),y("falling back to ArrayBuffer instantiation")}return at(r,i)}function st(){return{a:Rt}}async function ut(){function t(n,a){return s=n.exports,w=s.h,F(),rt(),s}function r(n){return t(n.instance)}tt();var i=st();if(e.instantiateWasm)return new Promise((n,a)=>{e.instantiateWasm(i,(u,o)=>{t(u),n(u.exports)})});S??=et();try{return r(await ot(g,S,i))}catch(n){return b(n),Promise.reject(n)}}class W{name="ExitStatus";constructor(r){this.message=`Program terminated with exit(${r})`,this.status=r}}var k=t=>{for(;t.length>0;)t.shift()(e)},B=[],ct=t=>B.unshift(t),M=[],ft=t=>M.unshift(t),D=e.noExitRuntime||!0,O=typeof TextDecoder<"u"?new TextDecoder:void 0,pt=(t,r=0,i=NaN)=>{for(var n=r+i,a=r;t[a]&&!(a>=n);)++a;if(a-r>16&&t.buffer&&O)return O.decode(t.subarray(r,a));for(var u="";r<a;){var o=t[r++];if(128&o){var x=63&t[r++];if((224&o)!=192){var N=63&t[r++];if((o=(240&o)==224?(15&o)<<12|x<<6|N:(7&o)<<18|x<<12|N<<6|63&t[r++])<65536)u+=String.fromCharCode(o);else{var J=o-65536;u+=String.fromCharCode(55296|J>>10,56320|1023&J)}}else u+=String.fromCharCode((31&o)<<6|x)}else u+=String.fromCharCode(o)}return u},A=(t,r)=>t?pt(E,t,r):"",ht=(t,r,i,n)=>P(`Assertion failed: ${A(t)}, at: `+[r?A(r):"unknown filename",i,n?A(n):"unknown function"]);class lt{constructor(r){this.excPtr=r,this.ptr=r-24}set_type(r){f[this.ptr+4>>2]=r}get_type(){return f[this.ptr+4>>2]}set_destructor(r){f[this.ptr+8>>2]=r}get_destructor(){return f[this.ptr+8>>2]}set_caught(r){r=r?1:0,h[this.ptr+12]=r}get_caught(){return h[this.ptr+12]!=0}set_rethrown(r){r=r?1:0,h[this.ptr+13]=r}get_rethrown(){return h[this.ptr+13]!=0}init(r,i){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(i)}set_adjusted_ptr(r){f[this.ptr+16>>2]=r}get_adjusted_ptr(){return f[this.ptr+16>>2]}}var $=0,m={},q=t=>{if(t instanceof W||t=="unwind")return d;C(1,t)},G=()=>D||$>0,L=t=>{d=t,G()||(e.onExit?.(t),v=!0),C(t,new W(t))},mt=(t,r)=>{d=t,L(t)},yt=()=>{if(!G())try{mt(d)}catch(t){q(t)}},wt=t=>{if(!v)try{t(),yt()}catch(r){q(r)}},dt=()=>performance.now(),gt=()=>2147483648,vt=(t,r)=>Math.ceil(t/r)*r,At=t=>{var r=(t-w.buffer.byteLength+65535)/65536|0;try{return w.grow(r),F(),1}catch{}},bt=(t,r)=>{h.set(t,r)},Rt={a:ht,b:(t,r,i)=>{throw new lt(t).init(r,i),t},f:()=>P(""),d:()=>{D=!1,$=0},e:(t,r)=>{if(m[t]&&(clearTimeout(m[t].id),delete m[t]),!r)return 0;var i=setTimeout(()=>{delete m[t],wt(()=>_t(t,dt()))},r);return m[t]={id:i,timeout_ms:r},0},g:t=>{var r=E.length;t>>>=0;var i=gt();if(t>i)return!1;for(var n=1;n<=4;n*=2){var a=r*(1+.2/n);a=Math.min(a,t+100663296);var u=Math.min(i,vt(Math.max(t,a),65536));if(At(u))return!0}return!1},c:L},s=await ut();s.i,e._GetInfo=s.j,e._decode=s.k;var _t=s.m;function I(){function t(){e.calledRun=!0,v||(Z(),H(e),e.onRuntimeInitialized?.(),z())}p>0?l=I:(Y(),p>0?l=I:e.setStatus?(e.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>e.setStatus(""),1),t()},1)):t())}if(e._malloc=s.n,e._free=s.o,e.UTF8ToString=A,e.writeArrayToMemory=bt,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return I(),Q});export{Et as default};
