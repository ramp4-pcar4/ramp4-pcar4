import{ap as h,ho as L,hp as z,T as s0,c3 as r0,hq as c0,d0 as o0,aE as h0,hr as d0,aK as M0,aL as p0,aM as I0,gs as R0,gt as q0,aJ as P0,d4 as g0,ci as j0,hs as S0}from"./main-6gYsRPh_.js";const m0=Math.PI/180,w0=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,R=h.radius,d=h.eccentricitySquared,k0={a1:R*d,a2:R*d*R*d,a3:R*d*d/2,a4:R*d*R*d*2.5,a5:R*d+R*d*d/2,a6:1-d},y0={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:h.radius,f:h.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:z.radius,f:z.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:L.radius,f:L.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:L.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}},V={2:{5:f,7:null,9:null,10:f,1:T,6:null,8:null,0:null,3:w,11:k,2:f,4:x},5:{5:f,7:null,9:null,10:f,1:T,6:null,8:null,0:null,3:w,11:k,2:f,4:x},7:{5:null,7:f,9:null,10:f,1:null,6:a0,8:null,0:null,3:null,11:null,2:null,4:null},9:{5:null,7:null,9:f,10:f,1:null,6:null,8:e0,0:null,3:null,11:null,2:null,4:null},3:{5:D,7:null,9:null,10:D,1:b0,6:null,8:null,0:null,3:f,11:O0,2:D,4:x0},4:{5:O,7:null,9:null,10:O,1:A0,6:null,8:null,0:null,3:C0,11:U0,2:O,4:f},1:{5:b,7:null,9:null,10:b,1:f,6:null,8:null,0:null,3:T0,11:_0,2:b,4:v0},6:{5:null,7:t0,9:null,10:t0,1:null,6:f,8:null,0:null,3:null,11:null,2:null,4:null},8:{5:null,7:null,9:n0,10:n0,1:null,6:null,8:f,0:null,3:null,11:null,2:null,4:null},0:{5:null,7:null,9:null,10:null,1:null,6:null,8:null,0:f,3:null,11:null,2:null,4:null},10:{5:f,7:f,9:f,10:f,1:T,6:a0,8:e0,0:null,3:w,11:k,2:f,4:x},11:{5:y,7:null,9:null,10:y,1:E0,6:null,8:null,0:null,3:L0,11:f,2:y,4:D0}};function W(n,t){return X(n,t)?.projector}function X(n,t){if(n==null||t==null)return null;if(M.source.spatialReference===n&&M.dest.spatialReference===t)return M;const e=Y(n,M.source),a=Y(t,M.dest);return e===0&&a===0?s0(n,t)?M.projector=f:M.projector=null:M.projector=V[e][a],M}function Y(n,t){return n?t.spatialReference===n?t.spatialReferenceId:(t.spatialReference=n,"metersPerUnit"in t&&(t.metersPerUnit=r0(n,1)),c0(n)?t.spatialReferenceId=1:o0(n)?t.spatialReferenceId=2:h0(n)?t.spatialReferenceId=3:d0(n)?t.spatialReferenceId=11:n.wkt===M0.wkt?t.spatialReferenceId=4:n.wkid===4490?t.spatialReferenceId=5:n.wkt===p0.wkt?t.spatialReferenceId=6:n.wkt===I0.wkt?t.spatialReferenceId=8:R0(n)?t.spatialReferenceId=7:q0(n)?t.spatialReferenceId=9:t.spatialReferenceId=0):0}function f(n,t,e,a){n!==e&&(e[a++]=n[t++],e[a++]=n[t++],e[a]=n[t])}function D(n,t,e,a){e[a]=_*(n[t]/g),e[a+1]=_*(l0-2*Math.atan(Math.exp(-n[t+1]/g))),e[a+2]=n[t+2]}function b0(n,t,e,a){const i=n[t]/g,u=l0-2*Math.atan(Math.exp(-n[t+1]/g)),s=g+n[t+2],l=Math.cos(u)*s;e[a]=Math.cos(i)*l,e[a+1]=Math.sin(i)*l,e[a+2]=Math.sin(u)*s}function x0(n,t,e,a){D(n,t,e,a),x(e,a,e,a)}function Z(n,t,e,a,i){const u=.4999999*Math.PI,s=P0(U*n[t+1],-u,u),l=Math.sin(s);e[a++]=U*n[t]*i.radius,e[a++]=i.halfSemiMajorAxis*Math.log((1+l)/(1-l)),e[a]=n[t+2]}function w(n,t,e,a){Z(n,t,e,a,h)}function k(n,t,e,a){e[a]=n[t]*f0,e[a+1]=n[t+1]*f0,e[a+2]=n[t+2]}function y(n,t,e,a){e[a]=n[t]*u0,e[a+1]=n[t+1]*u0,e[a+2]=n[t+2]}function O0(n,t,e,a){D(n,t,e,a),k(e,a,e,a)}function U0(n,t,e,a){O(n,t,e,a),k(e,a,e,a)}function _0(n,t,e,a){b(n,t,e,a),k(e,a,e,a)}function E0(n,t,e,a){y(n,t,e,a),T(e,a,e,a)}function L0(n,t,e,a){y(n,t,e,a),w(e,a,e,a)}function D0(n,t,e,a){y(n,t,e,a),x(e,a,e,a)}function G(n,t,e,a,i){const u=i+n[t+2],s=U*n[t+1],l=U*n[t],r=Math.cos(s)*u;e[a]=Math.cos(l)*r,e[a+1]=Math.sin(l)*r,e[a+2]=Math.sin(s)*u}function e0(n,t,e,a){G(n,t,e,a,z.radius)}function a0(n,t,e,a){G(n,t,e,a,L.radius)}function T(n,t,e,a){G(n,t,e,a,h.radius)}function A(n,t,e,a,i){const u=n[t],s=n[t+1],l=n[t+2],r=Math.sqrt(u*u+s*s+l*l),o=S0(l/(r===0?1:r)),c=Math.atan2(s,u);e[a++]=_*c,e[a++]=_*o,e[a]=r-i}function n0(n,t,e,a){A(n,t,e,a,z.radius)}function t0(n,t,e,a){A(n,t,e,a,L.radius)}function b(n,t,e,a){A(n,t,e,a,h.radius)}function T0(n,t,e,a){b(n,t,e,a),w(e,a,e,a)}function v0(n,t,e,a){b(n,t,e,a),x(e,a,e,a)}function z0(n,t,e,a,i){const u=U*n[t],s=U*n[t+1],l=n[t+2],r=Math.sin(s),o=Math.cos(s),c=i.radius/Math.sqrt(1-i.eccentricitySquared*r*r);e[a++]=(c+l)*o*Math.cos(u),e[a++]=(c+l)*o*Math.sin(u),e[a++]=(c*(1-i.eccentricitySquared)+l)*r}function x(n,t,e,a){z0(n,t,e,a,h)}function O(n,t,e,a){const i=k0,u=n[t],s=n[t+1],l=n[t+2];let r,o,c,q,P,C,v,p,I,E,J,B,H,j,S,K,$,F,m,N,Q;r=Math.abs(l),o=u*u+s*s,c=Math.sqrt(o),q=o+l*l,P=Math.sqrt(q),N=Math.atan2(s,u),C=l*l/q,v=o/q,j=i.a2/P,S=i.a3-i.a4/P,v>.3?(p=r/P*(1+v*(i.a1+j+C*S)/P),m=Math.asin(p),E=p*p,I=Math.sqrt(1-E)):(I=c/P*(1-C*(i.a5-j-v*S)/P),m=Math.acos(I),E=1-I*I,p=Math.sqrt(E)),J=1-h.eccentricitySquared*E,B=h.radius/Math.sqrt(J),H=i.a6*B,j=c-B*I,S=r-H*p,$=I*j+p*S,K=I*S-p*j,F=K/(H/J+$),m+=F,Q=$+K*F/2,l<0&&(m=-m),e[a++]=_*N,e[a++]=_*m,e[a]=Q}function A0(n,t,e,a){O(n,t,e,a),T(e,a,e,a)}function C0(n,t,e,a){O(n,t,e,a),w(e,a,e,a)}const M={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:f},U=j0(1),_=g0(1),l0=.5*Math.PI,g=h.radius,f0=g*Math.PI/180,u0=180/(g*Math.PI);function i0(n,t,e,a,i,u,s=Math.floor(n.length/3)){const l=W(t,i);if(l==null)return!1;if(l===f){if(n===a&&e===u)return!0;const o=e+3*s;for(let c=e,q=u;c<o;c++,q++)a[q]=n[c];return!0}const r=e+3*s;for(let o=e,c=u;o<r;o+=3,c+=3)l(n,o,a,c);return!0}const J0=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:i0},Symbol.toStringTag,{value:"Module"}));export{W as C,X as I,A as J,y0 as d,Z as g,m0 as i,i0 as o,J0 as p,w0 as t,V as w};
