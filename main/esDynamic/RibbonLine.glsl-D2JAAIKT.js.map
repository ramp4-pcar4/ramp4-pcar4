{"version":3,"file":"RibbonLine.glsl-D2JAAIKT.js","sources":["../../node_modules/@arcgis/core/views/3d/layers/interfaces.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/utils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DirtyEvents.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/LocalOriginFactory.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/fov.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js","../../node_modules/@arcgis/core/views/3d/webgl/RenderCamera.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/stippleTextureRepository.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ensureColor4.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js","../../node_modules/@arcgis/core/views/3d/support/engineContent/marker.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js","../../node_modules/@arcgis/core/chunks/RibbonLine.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechnique.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js","../../node_modules/@arcgis/core/views/3d/support/ElevationProvider.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar e,a,t;!function(e){e[e.RasterImage=0]=\"RasterImage\",e[e.Features=1]=\"Features\"}(e||(e={})),function(e){e[e.MapLayer=0]=\"MapLayer\",e[e.ViewLayer=1]=\"ViewLayer\",e[e.Outline=2]=\"Outline\",e[e.SnappingHint=3]=\"SnappingHint\"}(a||(a={})),function(e){e[e.WithRasterImage=0]=\"WithRasterImage\",e[e.WithoutRasterImage=1]=\"WithoutRasterImage\"}(t||(t={}));export{e as DrapeSourceType,t as DrapeTargetType,a as DrapedRenderGroup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar C;!function(C){C[C.ASYNC=0]=\"ASYNC\",C[C.SYNC=1]=\"SYNC\"}(C||(C={}));export{C as UpdatePolicy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{encodeDoubleArray as e}from\"../../../../webgl/doublePrecisionUtils.js\";function n(t,e){return null==t&&(t=[]),t.push(e),t}function r(t,e){if(null==t)return null;const n=t.filter((t=>t!==e));return 0===n.length?null:n}function l(t,n,r,l,i){o[0]=t.get(n,0),o[1]=t.get(n,1),o[2]=t.get(n,2),e(o,s,3),r.set(i,0,s[0]),l.set(i,0,s[1]),r.set(i,1,s[2]),l.set(i,1,s[3]),r.set(i,2,s[4]),l.set(i,2,s[5])}const o=t(),s=new Float32Array(6);export{n as addObject3DStateID,l as encodeDoubleVec3,r as removeObject3DStateID};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{generateUID as t}from\"../../../../core/uid.js\";import{multiply as i,copy as e,hasIdentityRotation as s}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as o,IDENTITY as r}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{m as a,t as n,j as h,i as m,f as l,q as c,c as d}from\"../../../../chunks/vec32.js\";import{create as g,fromValues as u}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as f,c as _}from\"../../../../chunks/sphere.js\";import{maxScale as b}from\"../../support/mathUtils.js\";import{Object3DState as v}from\"./basicInterfaces.js\";import{Object3DOccludeeStateID as p,Object3DHighlightStateID as S}from\"./Object3DStateID.js\";import{assert as j}from\"./Util.js\";import{affectsGeometry as y}from\"./VertexAttribute.js\";import{addObject3DStateID as x,removeObject3DStateID as V}from\"../materials/renderers/utils.js\";class A{constructor(i={}){this.id=t(),this._highlightIds=new Set,this._shaderTransformation=null,this._visible=!0,this.castShadow=i.castShadow??!0,this.usesVerticalDistanceToGround=i.usesVerticalDistanceToGround??!1,this.graphicUid=i.graphicUid,this.layerViewUid=i.layerViewUid,i.isElevationSource&&(this.lastValidElevationBB=new M),this._geometries=i.geometries?Array.from(i.geometries):new Array}dispose(){this._geometries.length=0}get layer(){return this._layer}set layer(t){j(null==this._layer||null==t,\"Object3D can only be added to a single Layer\"),this._layer=t}addGeometry(t){t.visible=this._visible,this._geometries.push(t);for(const i of this._highlightIds)t.addHighlight(i);this._emit(\"geometryAdded\",{object:this,geometry:t}),this._highlightIds.size&&this._emit(\"highlightChanged\",this),this._invalidateBoundingVolume()}removeGeometry(t){const i=this._geometries.splice(t,1)[0];if(i){for(const t of this._highlightIds)i.removeHighlight(t);this._emit(\"geometryRemoved\",{object:this,geometry:i}),this._highlightIds.size&&this._emit(\"highlightChanged\",this),this._invalidateBoundingVolume()}}removeAllGeometries(){for(;this._geometries.length>0;)this.removeGeometry(0)}geometryVertexAttributeUpdated(t,i,e=!1){this._emit(\"attributesChanged\",{object:this,geometry:t,attribute:i,sync:e}),y(i)&&this._invalidateBoundingVolume()}get visible(){return this._visible}set visible(t){if(this._visible!==t){this._visible=t;for(const t of this._geometries)t.visible=this._visible;this._emit(\"visibilityChanged\",this)}}maskOccludee(){const t=new p;for(const i of this._geometries)i.occludees=x(i.occludees,t);return this._emit(\"occlusionChanged\",this),t}removeOcclude(t){for(const i of this._geometries)i.occludees=V(i.occludees,t);this._emit(\"occlusionChanged\",this)}highlight(t){const i=new S(t);for(const e of this._geometries)e.addHighlight(i);return this._emit(\"highlightChanged\",this),this._highlightIds.add(i),i}removeHighlight(t){this._highlightIds.delete(t);for(const i of this._geometries)i.removeHighlight(t);this._emit(\"highlightChanged\",this)}removeStateID(t){t.channel===v.Highlight?this.removeHighlight(t):this.removeOcclude(t)}getCombinedStaticTransformation(t,e){return i(e,this.transformation,t.transformation)}getCombinedShaderTransformation(t,e=o()){return i(e,this.effectiveTransformation,t.transformation)}get boundingVolumeWorldSpace(){return this._bvWorldSpace||(this._bvWorldSpace=this._bvWorldSpace||new O,this._validateBoundingVolume(this._bvWorldSpace,w.WorldSpace)),this._bvWorldSpace}get boundingVolumeObjectSpace(){return this._bvObjectSpace||(this._bvObjectSpace=this._bvObjectSpace||new O,this._validateBoundingVolume(this._bvObjectSpace,w.ObjectSpace)),this._bvObjectSpace}_validateBoundingVolume(t,i){const e=i===w.ObjectSpace;for(const s of this._geometries){const i=s.boundingInfo;i&&T(i,t,e?s.transformation:this.getCombinedShaderTransformation(s))}a(f(t.bounds),t.min,t.max,.5);for(const s of this._geometries){const i=s.boundingInfo;if(null==i)continue;const o=e?s.transformation:this.getCombinedShaderTransformation(s),r=b(o);n(I,i.center,o);const a=h(I,f(t.bounds)),m=i.radius*r;t.bounds[3]=Math.max(t.bounds[3],a+m)}}_invalidateBoundingVolume(){const t=this._bvWorldSpace?.bounds;this._bvObjectSpace=this._bvWorldSpace=void 0,this.layer&&t&&this.layer.notifyObjectBBChanged(this,t)}_emit(t,i){this.layer?.events.emit(t,i)}get geometries(){return this._geometries}get transformation(){return this._transformation??r}set transformation(t){this._transformation=e(this._transformation??o(),t),this._invalidateBoundingVolume(),this._emit(\"transformationChanged\",this)}get shaderTransformation(){return this._shaderTransformation}set shaderTransformation(t){this._shaderTransformation=t?e(this._shaderTransformation??o(),t):null,this._invalidateBoundingVolume(),this._emit(\"shaderTransformationChanged\",this)}get effectiveTransformation(){return this.shaderTransformation??this.transformation}get test(){}}class M{constructor(){this.min=u(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this.max=u(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE)}isEmpty(){return this.max[0]<this.min[0]&&this.max[1]<this.min[1]&&this.max[2]<this.min[2]}}class O extends M{constructor(){super(...arguments),this.bounds=_()}}function T(t,i,e){const o=t.bbMin,r=t.bbMax;if(s(e)){const t=m(C,e[12],e[13],e[14]);l(B,o,t),l(U,r,t);for(let e=0;e<3;++e)i.min[e]=Math.min(i.min[e],B[e]),i.max[e]=Math.max(i.max[e],U[e])}else if(n(B,o,e),c(o,r))for(let s=0;s<3;++s)i.min[s]=Math.min(i.min[s],B[s]),i.max[s]=Math.max(i.max[s],B[s]);else{n(U,r,e);for(let t=0;t<3;++t)i.min[t]=Math.min(i.min[t],B[t],U[t]),i.max[t]=Math.max(i.max[t],B[t],U[t]);for(let t=0;t<3;++t){d(B,o),d(U,r),B[t]=r[t],U[t]=o[t],n(B,B,e),n(U,U,e);for(let t=0;t<3;++t)i.min[t]=Math.min(i.min[t],B[t],U[t]),i.max[t]=Math.max(i.max[t],B[t],U[t])}}}const C=g(),B=g(),U=g(),I=g();var w;!function(t){t[t.WorldSpace=0]=\"WorldSpace\",t[t.ObjectSpace=1]=\"ObjectSpace\"}(w||(w={}));export{O as BoundingVolume,A as Object3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nconst e=[\"layerObjectAdded\",\"layerObjectRemoved\",\"layerObjectsAdded\",\"layerObjectsRemoved\",\"transformationChanged\",\"shaderTransformationChanged\",\"visibilityChanged\",\"occlusionChanged\",\"highlightChanged\",\"geometryAdded\",\"geometryRemoved\",\"attributesChanged\"];export{e as DirtyEventNames};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{removeUnordered as e}from\"../../../../core/arrayUtils.js\";import{toConst as t}from\"../../../../core/compilerUtils.js\";import s from\"../../../../core/Evented.js\";import i from\"../../../../core/Handles.js\";import\"../../../../core/has.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{generateUID as r}from\"../../../../core/uid.js\";import{DirtyEventNames as h}from\"./DirtyEvents.js\";import c from\"./Octree.js\";import{UpdatePolicy as d}from\"./UpdatePolicy.js\";class l{constructor(e,t,o=\"\"){this.stage=e,this.apiLayerViewUid=o,this.id=r(),this.events=new s,this.visible=!0,this.sliceable=!1,this._objectsAdded=new Array,this._handles=new i,this._objects=new Map,this._pickable=!0,this.visible=t?.visible??!0,this._pickable=t?.pickable??!0,this.updatePolicy=t?.updatePolicy??d.ASYNC,e.addLayer(this);for(const s of h)this._handles.add(this.events.on(s,(t=>e.handleEvent(s,t))))}destroy(){this._handles.size&&(this._handles.destroy(),this.stage.removeLayer(this),this.invalidateSpatialQueryAccelerator())}get objects(){return this._objects}getObject(e){return t(this._objects.get(e))}set pickable(e){this._pickable=e}get pickable(){return this._pickable&&this.visible}add(e){this._objects.set(e.id,e),e.layer=this,this.events.emit(\"layerObjectAdded\",e),null!=this._octree&&this._objectsAdded.push(e)}remove(t){this._objects.delete(t.id)&&(this.events.emit(\"layerObjectRemoved\",t),t.layer=null,null!=this._octree&&(e(this._objectsAdded,t)||this._octree.remove([t])))}addMany(e){for(const t of e)this._objects.set(t.id,t),t.layer=this;this.events.emit(\"layerObjectsAdded\",e),null!=this._octree&&this._objectsAdded.push(...e)}removeMany(t){const s=new Array;for(const e of t)this._objects.delete(e.id)&&s.push(e);if(0!==s.length&&(this.events.emit(\"layerObjectsRemoved\",s),s.forEach((e=>e.layer=null)),null!=this._octree)){for(let t=0;t<s.length;)e(this._objectsAdded,s[t])?(s[t]=s[s.length-1],s.length-=1):++t;this._octree.remove(s)}}sync(){this.updatePolicy!==d.SYNC&&this.stage.syncLayer(this.id)}notifyObjectBBChanged(e,t){null==this._octree||this._objectsAdded.includes(e)||this._octree.update(e,t)}getSpatialQueryAccelerator(){return null==this._octree&&this._objects.size>50?(this._octree=new c((e=>e.boundingVolumeWorldSpace.bounds)),this._octree.add(this._objects.values())):null!=this._octree&&this._objectsAdded.length>0&&(this._octree.add(this._objectsAdded),this._objectsAdded.length=0),this._octree}invalidateSpatialQueryAccelerator(){this._octree=o(this._octree),this._objectsAdded.length=0}get test(){}}export{l as WebGLLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{fromValues as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";class s{constructor(r,s){this.vec3=r,this.id=s}}function t(t,o,c,e){return new s(r(t,o,c),e)}export{s as LocalOrigin,t as fromValues};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nfunction t(t,a,n){return 2*Math.atan(Math.sqrt(a*a+n*n)*Math.tan(.5*t)/a)}function a(t,a,n){return 2*Math.atan(Math.sqrt(a*a+n*n)*Math.tan(.5*t)/n)}function n(t,a,n){return 2*Math.atan(a*Math.tan(.5*t)/Math.sqrt(a*a+n*n))}function r(t,a,n){return 2*Math.atan(n*Math.tan(.5*t)/Math.sqrt(a*a+n*n))}export{n as fovd2fovx,r as fovd2fovy,t as fovx2fovd,a as fovy2fovd};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{MaterialChangeSet as e}from\"./ChangeSet.js\";var r,t;function n(r){const t=new Map,n=n=>{let o=t.get(n);return o||(o=new e(r),t.set(n,o)),o};return r.removes.forAll((e=>{o(e)&&n(e.material).removes.push(e)})),r.adds.forAll((e=>{o(e)&&n(e.material).adds.push(e)})),r.updates.forAll((e=>{o(e.renderGeometry)&&n(e.renderGeometry.material).updates.push(e)})),t}function o(e){return e.geometry.indexCount>=1}!function(e){e[e.Default=0]=\"Default\",e[e.Screenshot=1]=\"Screenshot\",e[e.ObjectAndLayerID=2]=\"ObjectAndLayerID\"}(r||(r={})),function(e){e[e.TOP=0]=\"TOP\",e[e.RIGHT=1]=\"RIGHT\",e[e.BOTTOM=2]=\"BOTTOM\",e[e.LEFT=3]=\"LEFT\"}(t||(t={}));export{t as PaddingSide,r as RendererTarget,n as splitRenderGeometryChangeSetByMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import e from\"../../../core/Logger.js\";import{lerp as r}from\"../../../core/mathUtils.js\";import{createScreenPointArray as s,createRenderScreenPointArray3 as o}from\"../../../core/screenUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import{copy as a,multiply as p,invert as u,transpose as l,frustum as _,equals as c,lookAt as v}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as w}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{copy as d,exactEquals as y}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as g}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{d as m,i as f,j as x,c as M,q as D,a as j,e as T,y as R,x as P,g as F,l as V,h as O,n as C,E as b}from\"../../../chunks/vec32.js\";import{create as S}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{d as I,e as E,a as L,c as H,f as A,t as G}from\"../../../chunks/vec42.js\";import{fromValues as B,create as U}from\"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{create as k,copy as z,fromMatrix as W}from\"../../../geometry/support/frustum.js\";import{create as q}from\"../../../geometry/support/ray.js\";import{projectPointSignedLength as X}from\"../../../geometry/support/vector.js\";import{ViewingMode as Y}from\"../../ViewingMode.js\";import{fovd2fovx as N,fovx2fovd as J,fovd2fovy as K,fovy2fovd as Q}from\"../webgl-engine/lib/fov.js\";import{PaddingSide as Z}from\"../webgl-engine/lib/rendererUtils.js\";var $;let tt=$=class extends i{constructor(t){super(t),this._ray=q(),this._viewport=B(0,0,1,1),this._padding=B(0,0,0,0),this._fov=55/180*Math.PI,this._nearFar=g(1,1e3),this._viewDirty=!0,this._viewMatrix=w(),this._viewProjectionDirty=!0,this._viewProjectionMatrix=w(),this._viewInverseTransposeMatrixDirty=!0,this._viewInverseTransposeMatrix=w(),this._frustumDirty=!0,this._frustum=k(),this._fullViewport=U(),this._pixelRatio=1,this.row=0,this.column=0,this._rows=1,this._columns=1,this._center=S(),this._up=S(),this.relativeElevation=0}get pixelRatio(){return this._pixelRatio}set pixelRatio(t){this._pixelRatio=t>0?t:1}get rows(){return this._rows}set rows(t){this._rows=Math.max(1,t)}get columns(){return this._columns}set columns(t){this._columns=Math.max(1,t)}get eye(){return this._ray.origin}set eye(t){this._compareAndSetView(t,this._ray.origin)}get center(){return this._center}set center(t){this._compareAndSetView(t,this._center,\"_center\")}get ray(){return m(this._ray.direction,this.center,this.eye),this._ray}get up(){return this._up}set up(t){this._compareAndSetView(t,this._up,\"_up\")}get viewMatrix(){return this._ensureViewClean(),this._viewMatrix}set viewMatrix(t){a(this._viewMatrix,t),this.notifyChange(\"_viewMatrix\"),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get viewForward(){return this._ensureViewClean(),f(S(),-this._viewMatrix[2],-this._viewMatrix[6],-this._viewMatrix[10])}get viewUp(){return this._ensureViewClean(),f(S(),this._viewMatrix[1],this._viewMatrix[5],this._viewMatrix[9])}get viewRight(){return this._ensureViewClean(),f(S(),this._viewMatrix[0],this._viewMatrix[4],this._viewMatrix[8])}get nearFar(){return this._nearFar}get near(){return this._nearFar[0]}set near(t){this._nearFar[0]!==t&&(this._nearFar[0]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange(\"_nearFar\"))}get far(){return this._nearFar[1]}set far(t){this._nearFar[1]!==t&&(this._nearFar[1]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange(\"_nearFar\"))}get viewport(){return this._viewport}set viewport(t){this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]}get screenViewport(){if(1===this.pixelRatio)return this._viewport;const t=I(U(),this._viewport,1/this.pixelRatio),i=this._get(\"screenViewport\");return i&&E(t,i)?i:t}get screenPadding(){if(1===this.pixelRatio)return this._padding;const t=I(U(),this._padding,1/this.pixelRatio),i=this._get(\"screenPadding\");return i&&E(t,i)?i:t}get x(){return this._viewport[0]}set x(t){t+=this._padding[Z.LEFT],this._viewport[0]!==t&&(this._viewport[0]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange(\"_viewport\"))}get y(){return this._viewport[1]}set y(t){t+=this._padding[Z.BOTTOM],this._viewport[1]!==t&&(this._viewport[1]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange(\"_viewport\"))}get width(){return this._viewport[2]}set width(t){this._viewport[2]!==t&&(this._viewport[2]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange(\"_viewport\"))}get height(){return this._viewport[3]}set height(t){this._viewport[3]!==t&&(this._viewport[3]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange(\"_viewport\"))}get fullWidth(){return this._viewport[2]+this._padding[Z.RIGHT]+this._padding[Z.LEFT]}set fullWidth(t){this.width=t-(this._padding[Z.RIGHT]+this._padding[Z.LEFT])}get fullHeight(){return this._viewport[3]+this._padding[Z.TOP]+this._padding[Z.BOTTOM]}set fullHeight(t){this.height=t-(this._padding[Z.TOP]+this._padding[Z.BOTTOM])}get fullViewport(){return this._fullViewport[0]=this._viewport[0]-this._padding[Z.LEFT],this._fullViewport[1]=this._viewport[1]-this._padding[Z.BOTTOM],this._fullViewport[2]=this.fullWidth,this._fullViewport[3]=this.fullHeight,this._fullViewport}get _aspect(){return this.width/this.height}get padding(){return this._padding}set padding(t){L(this._padding,t)||(this._viewport[0]+=t[Z.LEFT]-this._padding[Z.LEFT],this._viewport[1]+=t[Z.BOTTOM]-this._padding[Z.BOTTOM],this._viewport[2]-=t[Z.RIGHT]+t[Z.LEFT]-(this._padding[Z.RIGHT]+this._padding[Z.LEFT]),this._viewport[3]-=t[Z.TOP]+t[Z.BOTTOM]-(this._padding[Z.TOP]+this._padding[Z.BOTTOM]),H(this._padding,t),this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange(\"_padding\"),this.notifyChange(\"_viewport\"))}get viewProjectionMatrix(){return this._viewProjectionDirty&&(p(this._viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),this._viewProjectionDirty=!1),this._viewProjectionMatrix}get projectionMatrix(){return this._projectionMatrixInternal}get inverseProjectionMatrix(){return u(w(),this.projectionMatrix)||this._get(\"inverseProjectionMatrix\")||w()}get fov(){return this._fov}set fov(t){this._fov=t,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovX(){return N(this._fov,this.width,this.height)}set fovX(t){this._fov=J(t,this.width,this.height),this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovY(){return K(this._fov,this.width,this.height)}set fovY(t){this._fov=Q(t,this.width,this.height),this._viewProjectionDirty=!0,this._frustumDirty=!0}get distance(){return x(this.center,this.eye)}get frustum(){return this._recomputeFrustum(),this._frustum}get viewInverseTransposeMatrix(){return(this._viewInverseTransposeMatrixDirty||this._viewDirty)&&(u(this._viewInverseTransposeMatrix,this.viewMatrix),l(this._viewInverseTransposeMatrix,this._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),this._viewInverseTransposeMatrix}depthNDCToWorld(t){const{near:i,far:e}=this;return 2*i*e/(e+i-t*(e-i))}get perRenderPixelRatio(){return Math.tan(this.fovX/2)/(this.width/2)}get perScreenPixelRatio(){return this.perRenderPixelRatio*this.pixelRatio}get aboveGround(){return null!=this.relativeElevation&&this.relativeElevation>=0}get _projectionMatrixInternal(){const t=this.width,i=this.height,e=this.near*Math.tan(this.fovY/2)*2,r=e*this._aspect,s=e/this.rows,o=r/this.columns,n=-r/2+this.column*o,h=n+o,a=-e/2+this.row*s,p=a+s,u=_(w(),n*(1+2*this._padding[Z.LEFT]/t),h*(1+2*this._padding[Z.RIGHT]/t),a*(1+2*this._padding[Z.BOTTOM]/i),p*(1+2*this._padding[Z.TOP]/i),this.near,this.far),l=this._get(\"projectionMatrix\");return l&&c(l,u)?l:u}copyFrom(t){M(this._ray.origin,t.eye),this.center=t.center,this.up=t.up,H(this._viewport,t.viewport),this.notifyChange(\"_viewport\"),H(this._padding,t.padding),this.notifyChange(\"_padding\"),d(this._nearFar,t.nearFar),this.notifyChange(\"_nearFar\"),this._fov=t.fov,this.row=t.row,this.column=t.column,this.rows=t.rows,this.columns=t.columns,this.relativeElevation=t.relativeElevation;const i=t;return this._viewDirty=i._viewDirty,this._viewDirty||(a(this._viewMatrix,t.viewMatrix),this.notifyChange(\"_viewMatrix\")),this._viewProjectionDirty=!0,this._frustumDirty=i._frustumDirty,this._frustumDirty||(z(this._frustum,t.frustum),this._frustumDirty=!1),i._viewInverseTransposeMatrixDirty?this._viewInverseTransposeMatrixDirty=!0:(a(this._viewInverseTransposeMatrix,t.viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),H(this._fullViewport,t.fullViewport),this.pixelRatio=t.pixelRatio,this}copyViewFrom(t){this.eye=t.eye,this.center=t.center,this.up=t.up,this.fov=t.fov}clone(){return(new $).copyFrom(this)}equals(t){return D(this.eye,t.eye)&&D(this.center,t.center)&&D(this.up,t.up)&&L(this._viewport,t.viewport)&&L(this._padding,t.padding)&&y(this.nearFar,t.nearFar)&&this._fov===t.fov&&this.pixelRatio===t.pixelRatio&&this.relativeElevation===t.relativeElevation&&this.row===t.row&&this.column===t.column&&this.rows===t.rows&&this.columns===t.columns}almostEquals(t){const i=Math.max(1,1/this.pixelRatio,1/t.pixelRatio);if(Math.abs(t.fov-this._fov)>=.001||A(t.screenPadding,this.screenPadding)>=i||A(this.screenViewport,t.screenViewport)>=i||this.row!==t.row||this.column!==t.column||this.rows!==t.rows||this.columns!==t.columns)return!1;j(st,t.eye,t.center),j(ot,this.eye,this.center);const e=T(st,ot),r=R(st),s=R(ot),o=5e-4;return e*e>=(1-1e-10)*r*s&&P(t.eye,this.eye)<Math.max(r,s)*o*o}computeRenderPixelSizeAt(t){return this.computeRenderPixelSizeAtDist(this._viewDirectionDistance(t))}computeRenderPixelSizeAtDist(t){return t*this.perRenderPixelRatio}computeScreenPixelSizeAt(t){return this.computeScreenPixelSizeAtDist(this._viewDirectionDistance(t))}_viewDirectionDistance(t){return Math.abs(X(this.viewForward,m(st,t,this.eye)))}computeScreenPixelSizeAtDist(t){return t*this.perScreenPixelRatio}computeDistanceFromRadius(t,i){return t/Math.tan(Math.min(this.fovX,this.fovY)/(2*(i||1)))}getScreenCenter(t=s()){return t[0]=(this.padding[Z.LEFT]+this.width/2)/this.pixelRatio,t[1]=(this.padding[Z.TOP]+this.height/2)/this.pixelRatio,t}getRenderCenter(t,i=.5,e=.5){return t[0]=this.padding[Z.LEFT]+this.width*i,t[1]=this.padding[Z.BOTTOM]+this.height*e,t[2]=.5,t}setGLViewport(t){const i=this.viewport,e=this.padding;t.setViewport(i[0]-e[3],i[1]-e[2],i[2]+e[1]+e[3],i[3]+e[0]+e[2])}applyProjection(t,i){t!==et&&M(et,t),et[3]=1,G(et,et,this.projectionMatrix);const e=Math.abs(et[3]);F(et,et,1/e);const s=this.fullViewport;i[0]=r(0,s[0]+s[2],.5+.5*et[0]),i[1]=r(0,s[1]+s[3],.5+.5*et[1]),i[2]=.5*(et[2]+1),i[3]=e}unapplyProjection(t,i){const e=this.fullViewport;et[0]=(t[0]/(e[0]+e[2])*2-1)*t[3],et[1]=(t[1]/(e[1]+e[3])*2-1)*t[3],et[2]=(2*t[2]-1)*t[3],et[3]=t[3],null!=this.inverseProjectionMatrix&&(G(et,et,this.inverseProjectionMatrix),i[0]=et[0],i[1]=et[1],i[2]=et[2])}projectToScreen(t,i){return this.projectToRenderScreen(t,nt),this.renderToScreen(nt,i),i}projectToRenderScreen(t,i){if(et[0]=t[0],et[1]=t[1],et[2]=t[2],et[3]=1,G(et,et,this.viewProjectionMatrix),0===et[3])return null;const e=et;F(e,e,1/Math.abs(et[3]));const s=this.fullViewport,o=r(0,s[0]+s[2],.5+.5*e[0]),n=r(0,s[1]+s[3],.5+.5*e[1]);return\"x\"in i?(i.x=o,i.y=n):(i[0]=o,i[1]=n,i.length>2&&(i[2]=.5*(e[2]+1))),i}unprojectFromScreen(t,i){return this.unprojectFromRenderScreen(this.screenToRender(t,nt),i)}unprojectFromRenderScreen(t,i){if(p(rt,this.projectionMatrix,this.viewMatrix),!u(rt,rt))return null;const e=this.fullViewport;return et[0]=2*(t[0]-e[0])/e[2]-1,et[1]=2*(t[1]-e[1])/e[3]-1,et[2]=2*t[2]-1,et[3]=1,G(et,et,rt),0===et[3]?null:(i[0]=et[0]/et[3],i[1]=et[1]/et[3],i[2]=et[2]/et[3],i)}constrainWindowSize(t,i,e,r){const s=t*this.pixelRatio,o=i*this.pixelRatio,n=Math.max(s-e/2,0),h=Math.max(this.fullHeight-o-r/2,0),a=-Math.min(s-e/2,0),p=-Math.min(this.fullHeight-o-r/2,0),u=e-a- -Math.min(this.fullWidth-s-e/2,0),l=r-p- -Math.min(o-r/2,0);return[Math.round(n),Math.round(h),Math.round(u),Math.round(l)]}computeUp(t){t===Y.Global?this._computeUpGlobal():this._computeUpLocal()}screenToRender(t,i){const e=t[0]*this.pixelRatio,r=this.fullHeight-t[1]*this.pixelRatio;return i[0]=e,i[1]=r,i}renderToScreen(t,i){const e=t[0]/this.pixelRatio,r=(this.fullHeight-t[1])/this.pixelRatio;i[0]=e,i[1]=r}_computeUpGlobal(){m(st,this.center,this.eye);const t=V(this.center);t<1?(f(this._up,0,0,1),this._markViewDirty(),this.notifyChange(\"_up\")):Math.abs(T(st,this.center))>.9999*V(st)*t||(O(this._up,st,this.center),O(this._up,this._up,st),C(this._up,this._up),this.notifyChange(\"_up\"),this._markViewDirty())}_computeUpLocal(){b(st,this.eye,this.center),Math.abs(st[2])<=.9999&&(F(st,st,st[2]),f(this._up,-st[0],-st[1],1-st[2]),C(this._up,this._up),this.notifyChange(\"_up\"),this._markViewDirty())}_compareAndSetView(t,i,r=\"\"){\"number\"==typeof t[0]&&isFinite(t[0])&&\"number\"==typeof t[1]&&isFinite(t[1])&&\"number\"==typeof t[2]&&isFinite(t[2])?D(t,i)||(M(i,t),this._markViewDirty(),r.length&&this.notifyChange(r)):e.getLogger(\"esri.views.3d.webgl-engine.lib.RenderCamera\").warn(\"RenderCamera vector contains invalid number, ignoring value\")}_markViewDirty(){this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0}_recomputeFrustum(){this._frustumDirty&&(W(this.viewMatrix,this.projectionMatrix,this._frustum),this._frustumDirty=!1)}_ensureViewClean(){this._viewDirty&&(v(this._viewMatrix,this.eye,this.center,this.up),this.notifyChange(\"_viewMatrix\"),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0)}};t([n()],tt.prototype,\"_viewport\",void 0),t([n()],tt.prototype,\"_padding\",void 0),t([n()],tt.prototype,\"_fov\",void 0),t([n()],tt.prototype,\"_nearFar\",void 0),t([n()],tt.prototype,\"_viewDirty\",void 0),t([n()],tt.prototype,\"_viewMatrix\",void 0),t([n()],tt.prototype,\"_pixelRatio\",void 0),t([n()],tt.prototype,\"pixelRatio\",null),t([n()],tt.prototype,\"row\",void 0),t([n()],tt.prototype,\"column\",void 0),t([n()],tt.prototype,\"_rows\",void 0),t([n()],tt.prototype,\"rows\",null),t([n()],tt.prototype,\"_columns\",void 0),t([n()],tt.prototype,\"columns\",null),t([n()],tt.prototype,\"eye\",null),t([n()],tt.prototype,\"center\",null),t([n()],tt.prototype,\"_center\",void 0),t([n()],tt.prototype,\"up\",null),t([n()],tt.prototype,\"_up\",void 0),t([n()],tt.prototype,\"viewMatrix\",null),t([n({readOnly:!0})],tt.prototype,\"viewForward\",null),t([n({readOnly:!0})],tt.prototype,\"viewUp\",null),t([n({readOnly:!0})],tt.prototype,\"viewRight\",null),t([n({readOnly:!0})],tt.prototype,\"nearFar\",null),t([n()],tt.prototype,\"near\",null),t([n()],tt.prototype,\"far\",null),t([n()],tt.prototype,\"viewport\",null),t([n({readOnly:!0})],tt.prototype,\"screenViewport\",null),t([n({readOnly:!0})],tt.prototype,\"screenPadding\",null),t([n()],tt.prototype,\"x\",null),t([n()],tt.prototype,\"y\",null),t([n()],tt.prototype,\"width\",null),t([n()],tt.prototype,\"height\",null),t([n()],tt.prototype,\"fullWidth\",null),t([n()],tt.prototype,\"fullHeight\",null),t([n({readOnly:!0})],tt.prototype,\"_aspect\",null),t([n()],tt.prototype,\"padding\",null),t([n({readOnly:!0})],tt.prototype,\"projectionMatrix\",null),t([n({readOnly:!0})],tt.prototype,\"inverseProjectionMatrix\",null),t([n()],tt.prototype,\"fov\",null),t([n()],tt.prototype,\"fovX\",null),t([n()],tt.prototype,\"fovY\",null),t([n()],tt.prototype,\"viewInverseTransposeMatrix\",null),t([n({readOnly:!0})],tt.prototype,\"_projectionMatrixInternal\",null),t([n()],tt.prototype,\"relativeElevation\",void 0),tt=$=t([h(\"esri.views.3d.webgl.RenderCamera\")],tt);const it=tt,et=U(),rt=w(),st=S(),ot=S(),nt=o();export{it as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";var s,p;!function(e){e[e.Draped=0]=\"Draped\",e[e.Screen=1]=\"Screen\",e[e.World=2]=\"World\",e[e.COUNT=3]=\"COUNT\"}(s||(s={})),function(e){e[e.Center=0]=\"Center\",e[e.Tip=1]=\"Tip\",e[e.COUNT=2]=\"COUNT\"}(p||(p={}));class a extends i{constructor(){super(...arguments),this.space=s.Screen,this.anchor=p.Center,this.occluder=!1,this.writeDepth=!1,this.hideOnShortSegments=!1,this.hasCap=!1,this.hasTip=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.textureCoordinateType=t.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.hasVvInstancing=!0,this.hasSliceTranslatedView=!0,this.objectAndLayerIdColorInstanced=!1,this.overlayEnabled=!1,this.snowCover=!1}get draped(){return this.space===s.Draped}}e([r({count:s.COUNT})],a.prototype,\"space\",void 0),e([r({count:p.COUNT})],a.prototype,\"anchor\",void 0),e([r()],a.prototype,\"occluder\",void 0),e([r()],a.prototype,\"writeDepth\",void 0),e([r()],a.prototype,\"hideOnShortSegments\",void 0),e([r()],a.prototype,\"hasCap\",void 0),e([r()],a.prototype,\"hasTip\",void 0),e([r()],a.prototype,\"vvSize\",void 0),e([r()],a.prototype,\"vvColor\",void 0),e([r()],a.prototype,\"vvOpacity\",void 0),e([r()],a.prototype,\"hasOccludees\",void 0),e([r()],a.prototype,\"terrainDepthTest\",void 0),e([r()],a.prototype,\"cullAboveTerrain\",void 0);export{p as LineMarkerAnchor,s as LineMarkerSpace,a as LineMarkerTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{VisualVariables as i}from\"../shading/VisualVariables.glsl.js\";import{Float3PassUniform as e}from\"../../shaderModules/Float3PassUniform.js\";import{FloatPassUniform as a}from\"../../shaderModules/FloatPassUniform.js\";import{FloatsPassUniform as t}from\"../../shaderModules/FloatsPassUniform.js\";import{glsl as v}from\"../../shaderModules/glsl.js\";import{VertexAttribute as r}from\"../../../lib/VertexAttribute.js\";const o=8;function c(c,l){const{vertex:s,attributes:n}=c;s.uniforms.add(new a(\"intrinsicWidth\",(i=>i.width))),l.vvSize?(n.add(r.SIZEFEATUREATTRIBUTE,\"float\"),s.uniforms.add(new e(\"vvSizeMinSize\",(i=>i.vvSize.minSize)),new e(\"vvSizeMaxSize\",(i=>i.vvSize.maxSize)),new e(\"vvSizeOffset\",(i=>i.vvSize.offset)),new e(\"vvSizeFactor\",(i=>i.vvSize.factor)),new e(\"vvSizeFallback\",(i=>i.vvSize.fallback))),s.code.add(v`float getSize() {\nif (isnan(sizeFeatureAttribute)) {\nreturn vvSizeFallback.x;\n}\nreturn intrinsicWidth * clamp(vvSizeOffset + sizeFeatureAttribute * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize).x;\n}`)):(n.add(r.SIZE,\"float\"),s.code.add(v`float getSize(){\nreturn intrinsicWidth * size;\n}`)),l.vvOpacity?(n.add(r.OPACITYFEATUREATTRIBUTE,\"float\"),s.constants.add(\"vvOpacityNumber\",\"int\",8),s.uniforms.add(new t(\"vvOpacityValues\",(i=>i.vvOpacity.values),o),new t(\"vvOpacityOpacities\",(i=>i.vvOpacity.opacityValues),o),new a(\"vvOpacityFallback\",(i=>i.vvOpacity.fallback))),s.code.add(v`float interpolateOpacity(float value){\nif (isnan(value)) {\nreturn vvOpacityFallback;\n}\nif (value <= vvOpacityValues[0]) {\nreturn vvOpacityOpacities[0];\n}\nfor (int i = 1; i < vvOpacityNumber; ++i) {\nif (vvOpacityValues[i] >= value) {\nfloat f = (value - vvOpacityValues[i-1]) / (vvOpacityValues[i] - vvOpacityValues[i-1]);\nreturn mix(vvOpacityOpacities[i-1], vvOpacityOpacities[i], f);\n}\n}\nreturn vvOpacityOpacities[vvOpacityNumber - 1];\n}\nvec4 applyOpacity( vec4 color ){\nreturn vec4(color.xyz, interpolateOpacity(opacityFeatureAttribute));\n}`)):s.code.add(v`vec4 applyOpacity( vec4 color ){\nreturn color;\n}`),l.vvColor?(c.include(i,l),n.add(r.COLORFEATUREATTRIBUTE,\"float\"),s.code.add(v`vec4 getColor(){\nreturn applyOpacity(interpolateVVColor(colorFeatureAttribute));\n}`)):(n.add(r.COLOR,\"vec4\"),s.code.add(v`vec4 getColor(){\nreturn applyOpacity(color);\n}`))}export{c as RibbonVertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{packFloatRGBA as t}from\"../../../../core/floatRGBA.js\";import{ProceduralTextureRepository as e}from\"./ProceduralTextureRepository.js\";import{PixelFormat as r,TextureWrapMode as o}from\"../../../webgl/enums.js\";import{Texture as n}from\"../../../webgl/Texture.js\";import{TextureDescriptor as i}from\"../../../webgl/TextureDescriptor.js\";function u(t,u){return new e((e=>{const{encodedData:u,textureSize:c}=a(e),f=new i;return f.internalFormat=r.RGBA,f.width=c,f.height=1,f.wrapMode=o.REPEAT,new n(t,f,u)}),(t=>`${t.pattern.join(\",\")}-r${t.pixelRatio}`),u)}function a(e){const r=c(e),o=1/e.pixelRatio,n=f(e),i=s(e),u=(Math.floor(.5*(i-1))+.5)*o,a=[];let l=1;for(const t of r){for(let e=0;e<t;e++){const r=l*(Math.min(e,t-1-e)+.5)*o/u*.5+.5;a.push(r)}l=-l}const p=Math.round(r[0]/2),m=[...a.slice(p),...a.slice(0,p)],d=new Uint8Array(4*n);let x=0;for(const c of m)t(c,d,x),x+=4;return{encodedData:d,textureSize:n}}function c(t){return t.pattern.map((e=>Math.round(e*t.pixelRatio)))}function f(t){if(null==t)return 1;const e=c(t);return Math.floor(e.reduce(((t,e)=>t+e)))}function s(t){return c(t).reduce(((t,e)=>Math.max(t,e)))}export{s as computeLongestPattern,f as computeTextureSize,u as createStippleTextureRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{s as r}from\"../../../../chunks/vec42.js\";import{ZEROS as o,create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";function s(t){return null==t?o:4===t.length?t:r(c,t[0],t[1],t[2],1)}const c=t();export{s as ensureColor4};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RgbaFloatEncoding as e}from\"../util/RgbaFloatEncoding.glsl.js\";import{addCameraPosition as t,addPixelRatio as o}from\"../util/View.glsl.js\";import{Float4PassUniform as r}from\"../../shaderModules/Float4PassUniform.js\";import{FloatBindUniform as i}from\"../../shaderModules/FloatBindUniform.js\";import{FloatPassUniform as l}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as a,If as p}from\"../../shaderModules/glsl.js\";import{Texture2DPassUniform as s}from\"../../shaderModules/Texture2DPassUniform.js\";import{computeTextureSize as n,computeLongestPattern as d}from\"../../../materials/stippleTextureRepository.js\";import{ensureColor4 as c}from\"../../../shaders/ensureColor4.js\";function f(n,d){if(!d.stippleEnabled)return void n.fragment.code.add(a`float getStippleAlpha() { return 1.0; }\nvoid discardByStippleAlpha(float stippleAlpha, float threshold) {}\nvec4 blendStipple(vec4 color, float stippleAlpha) { return color; }`);const f=!(d.draped&&d.stipplePreferContinuous),{vertex:g,fragment:h}=n;h.include(e),d.draped||(t(g,d),g.uniforms.add(new i(\"worldToScreenPerDistanceRatio\",(({camera:e})=>1/e.perScreenPixelRatio))).code.add(a`float computeWorldToScreenRatio(vec3 segmentCenter) {\nfloat segmentDistanceToCamera = length(segmentCenter - cameraPosition);\nreturn worldToScreenPerDistanceRatio / segmentDistanceToCamera;\n}`)),n.varyings.add(\"vStippleDistance\",\"float\"),n.varyings.add(\"vStippleDistanceLimits\",\"vec2\"),n.varyings.add(\"vStipplePatternStretch\",\"float\"),g.code.add(a`\n    float discretizeWorldToScreenRatio(float worldToScreenRatio) {\n      float step = ${a.float(u)};\n\n      float discreteWorldToScreenRatio = log(worldToScreenRatio);\n      discreteWorldToScreenRatio = ceil(discreteWorldToScreenRatio / step) * step;\n      discreteWorldToScreenRatio = exp(discreteWorldToScreenRatio);\n      return discreteWorldToScreenRatio;\n    }\n  `),g.code.add(a`vec2 computeStippleDistanceLimits(float startPseudoScreen, float segmentLengthPseudoScreen, float segmentLengthScreen, float patternLength) {`),g.code.add(a`\n    if (segmentLengthPseudoScreen >= ${f?\"patternLength\":\"1e4\"}) {\n  `),o(g),g.code.add(a`float repetitions = segmentLengthScreen / (patternLength * pixelRatio);\nfloat flooredRepetitions = max(1.0, floor(repetitions + 0.5));\nfloat segmentLengthScreenRounded = flooredRepetitions * patternLength;\nfloat stretch = repetitions / flooredRepetitions;\nvStipplePatternStretch = max(0.75, stretch);\nreturn vec2(0.0, segmentLengthScreenRounded);\n}\nreturn vec2(startPseudoScreen, startPseudoScreen + segmentLengthPseudoScreen);\n}`),h.uniforms.add(new s(\"stipplePatternTexture\",(e=>e.stippleTexture)),new l(\"stipplePatternSDFNormalizer\",(e=>m(e.stipplePattern))),new l(\"stipplePatternPixelSizeInv\",(e=>1/S(e)))),d.stippleOffColorEnabled&&h.uniforms.add(new r(\"stippleOffColor\",(e=>c(e.stippleOffColor)))),h.code.add(a`float getStippleSDF(out bool isClamped) {\nfloat stippleDistanceClamped = clamp(vStippleDistance, vStippleDistanceLimits.x, vStippleDistanceLimits.y);\nvec2 aaCorrectedLimits = vStippleDistanceLimits + vec2(1.0, -1.0) / gl_FragCoord.w;\nisClamped = vStippleDistance < aaCorrectedLimits.x || vStippleDistance > aaCorrectedLimits.y;\nfloat u = stippleDistanceClamped * gl_FragCoord.w * stipplePatternPixelSizeInv * vLineSizeInv;\nu = fract(u);\nfloat encodedSDF = rgbaTofloat(texture(stipplePatternTexture, vec2(u, 0.5)));\nfloat sdf = (encodedSDF * 2.0 - 1.0) * stipplePatternSDFNormalizer;\nreturn (sdf - 0.5) * vStipplePatternStretch + 0.5;\n}\nfloat getStippleSDF() {\nbool ignored;\nreturn getStippleSDF(ignored);\n}\nfloat getStippleAlpha() {\nbool isClamped;\nfloat stippleSDF = getStippleSDF(isClamped);\nfloat antiAliasedResult = clamp(stippleSDF * vLineWidth + 0.5, 0.0, 1.0);\nreturn isClamped ? floor(antiAliasedResult + 0.5) : antiAliasedResult;\n}`),h.code.add(a`\n    void discardByStippleAlpha(float stippleAlpha, float threshold) {\n     ${p(!d.stippleOffColorEnabled,\"if (stippleAlpha < threshold) { discard; }\")}\n    }\n\n    vec4 blendStipple(vec4 color, float stippleAlpha) {\n      return ${d.stippleOffColorEnabled?\"mix(color, stippleOffColor, stippleAlpha)\":\"vec4(color.rgb, color.a * stippleAlpha)\"};\n    }\n  `)}function m(e){return e?(Math.floor(.5*(d(e)-1))+.5)/e.pixelRatio:1}function S(e){const t=e.stipplePattern;return t?n(e.stipplePattern)/t.pixelRatio:1}const u=.4;export{f as LineStipple,S as computePixelSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{createPrimitive as r}from\"./sdfPrimitives.js\";import{PixelFormat as e,TextureWrapMode as t}from\"../../../webgl/enums.js\";import{Texture as o}from\"../../../webgl/Texture.js\";import{TextureDescriptor as i}from\"../../../webgl/TextureDescriptor.js\";const m=64,s=m/2,n=s/5,p=m/n,w=.25;function f(p,w){const f=r(p,m,s,n),u=new i;return u.internalFormat=e.RGBA,u.width=m,u.height=m,u.wrapMode=t.CLAMP_TO_EDGE,new o(w,u,f)}export{f as createMarkerTexture,p as markerSizePerLineWidth,s as markerSymbolSize,m as markerTextureSize,n as markerThickness,w as markerTipThicknessFactor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{markerSizePerLineWidth as e}from\"../../../../support/engineContent/marker.js\";import{addPixelRatio as r}from\"../util/View.glsl.js\";import{FloatBindUniform as o}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as t}from\"../../shaderModules/glsl.js\";import{LineMarkerSpace as a}from\"../../../shaders/LineMarkerTechniqueConfiguration.js\";function n(n,i){const d=n.vertex;r(d),null==d.uniforms.get(\"markerScale\")&&d.constants.add(\"markerScale\",\"float\",1),d.constants.add(\"markerSizePerLineWidth\",\"float\",e).code.add(t`float getLineWidth() {\nreturn max(getSize(), 1.0) * pixelRatio;\n}\nfloat getScreenMarkerSize() {\nreturn markerSizePerLineWidth * markerScale * getLineWidth();\n}`),i.space===a.World&&(d.constants.add(\"maxSegmentLengthFraction\",\"float\",.45),d.uniforms.add(new o(\"perRenderPixelRatio\",(e=>e.camera.perRenderPixelRatio))),d.code.add(t`bool areWorldMarkersHidden(vec4 pos, vec4 other) {\nvec3 midPoint = mix(pos.xyz, other.xyz, 0.5);\nfloat distanceToCamera = length(midPoint);\nfloat screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\nfloat worldMarkerSize = getScreenMarkerSize() * screenToWorldRatio;\nfloat segmentLen = length(pos.xyz - other.xyz);\nreturn worldMarkerSize > maxSegmentLengthFraction * segmentLen;\n}\nfloat getWorldMarkerSize(vec4 pos) {\nfloat distanceToCamera = length(pos.xyz);\nfloat screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\nreturn getScreenMarkerSize() * screenToWorldRatio;\n}`))}export{n as MarkerSizing};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as e}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as r}from\"../materials/DefaultTechniqueConfiguration.js\";var s;!function(o){o[o.BUTT=0]=\"BUTT\",o[o.SQUARE=1]=\"SQUARE\",o[o.ROUND=2]=\"ROUND\",o[o.COUNT=3]=\"COUNT\"}(s||(s={}));class p extends r{constructor(){super(...arguments),this.capType=s.BUTT,this.hasPolygonOffset=!1,this.writeDepth=!1,this.draped=!1,this.stippleEnabled=!1,this.stippleOffColorEnabled=!1,this.stipplePreferContinuous=!0,this.roundJoins=!1,this.applyMarkerOffset=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.falloffEnabled=!1,this.innerColorEnabled=!1,this.hasOccludees=!1,this.occluder=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.wireframe=!1,this.discardInvisibleFragments=!1,this.objectAndLayerIdColorInstanced=!1,this.textureCoordinateType=t.None,this.emissionSource=e.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.hasSliceTranslatedView=!0,this.overlayEnabled=!1,this.snowCover=!1}}o([i({count:s.COUNT})],p.prototype,\"capType\",void 0),o([i()],p.prototype,\"hasPolygonOffset\",void 0),o([i()],p.prototype,\"writeDepth\",void 0),o([i()],p.prototype,\"draped\",void 0),o([i()],p.prototype,\"stippleEnabled\",void 0),o([i()],p.prototype,\"stippleOffColorEnabled\",void 0),o([i()],p.prototype,\"stipplePreferContinuous\",void 0),o([i()],p.prototype,\"roundJoins\",void 0),o([i()],p.prototype,\"applyMarkerOffset\",void 0),o([i()],p.prototype,\"vvSize\",void 0),o([i()],p.prototype,\"vvColor\",void 0),o([i()],p.prototype,\"vvOpacity\",void 0),o([i()],p.prototype,\"falloffEnabled\",void 0),o([i()],p.prototype,\"innerColorEnabled\",void 0),o([i()],p.prototype,\"hasOccludees\",void 0),o([i()],p.prototype,\"occluder\",void 0),o([i()],p.prototype,\"terrainDepthTest\",void 0),o([i()],p.prototype,\"cullAboveTerrain\",void 0),o([i()],p.prototype,\"wireframe\",void 0),o([i()],p.prototype,\"discardInvisibleFragments\",void 0),o([i()],p.prototype,\"objectAndLayerIdColorInstanced\",void 0);export{s as CapType,p as RibbonLineTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ObjectAndLayerIdColor as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{RibbonVertexPosition as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js\";import{LineStipple as r,computePixelSize as o}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js\";import{MarkerSizing as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js\";import{PiUtils as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js\";import{terrainDepthTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as p,addPixelRatio as c}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2BindUniform as m}from\"../views/3d/webgl-engine/core/shaderModules/Float2BindUniform.js\";import{Float4BindUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/Float4BindUniform.js\";import{Float4PassUniform as f}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatBindUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js\";import{FloatPassUniform as h}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as D}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Matrix4BindUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js\";import{VertexAttribute as u}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{LineMarkerSpace as x}from\"../views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js\";import{outputColorHighlightOID as L}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{CapType as w}from\"../views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js\";import{ShaderBuilder as b}from\"../views/webgl/ShaderBuilder.js\";import{alphaCutoff as y}from\"../webscene/support/AlphaCutoff.js\";const j=1;function P(P){const C=new b,{attributes:F,varyings:A,vertex:R,fragment:z}=C,{applyMarkerOffset:T,draped:V,output:W,capType:E,stippleEnabled:O,falloffEnabled:M,roundJoins:N,wireframe:_,innerColorEnabled:I}=P;z.include(s),C.include(n,P),C.include(r,P),C.include(t,P),C.include(l,P);const k=T&&!V;k&&(R.uniforms.add(new h(\"markerScale\",(e=>e.markerScale))),C.include(a,{space:x.World})),p(R,P),R.uniforms.add(new S(\"inverseProjectionMatrix\",(e=>e.camera.inverseProjectionMatrix)),new m(\"nearFar\",(e=>e.camera.nearFar)),new h(\"miterLimit\",(e=>\"miter\"!==e.join?0:e.miterLimit)),new v(\"viewport\",(e=>e.camera.fullViewport))),R.constants.add(\"LARGE_HALF_FLOAT\",\"float\",65500),F.add(u.POSITION,\"vec3\"),F.add(u.PREVIOUSDELTA,\"vec4\"),F.add(u.NEXTDELTA,\"vec4\"),F.add(u.LINEPARAMETERS,\"vec2\"),F.add(u.U0,\"float\"),A.add(\"vColor\",\"vec4\"),A.add(\"vpos\",\"vec3\",{invariant:!0}),A.add(\"vLineDistance\",\"float\"),A.add(\"vLineWidth\",\"float\");const U=O;U&&A.add(\"vLineSizeInv\",\"float\");const B=E===w.ROUND,$=O&&B,H=M||$;H&&A.add(\"vLineDistanceNorm\",\"float\"),B&&(A.add(\"vSegmentSDF\",\"float\"),A.add(\"vReverseSegmentSDF\",\"float\")),R.code.add(D`vec2 perpendicular(vec2 v) {\nreturn vec2(v.y, -v.x);\n}\nfloat interp(float ncp, vec4 a, vec4 b) {\nreturn (-ncp - a.z) / (b.z - a.z);\n}\nvec2 rotate(vec2 v, float a) {\nfloat s = sin(a);\nfloat c = cos(a);\nmat2 m = mat2(c, -s, s, c);\nreturn m * v;\n}`),R.code.add(D`vec4 projectAndScale(vec4 pos) {\nvec4 posNdc = proj * pos;\nposNdc.xy *= viewport.zw / posNdc.w;\nreturn posNdc;\n}`),R.code.add(D`void clipAndTransform(inout vec4 pos, inout vec4 prev, inout vec4 next, in bool isStartVertex) {\nfloat vnp = nearFar[0] * 0.99;\nif(pos.z > -nearFar[0]) {\nif (!isStartVertex) {\nif(prev.z < -nearFar[0]) {\npos = mix(prev, pos, interp(vnp, prev, pos));\nnext = pos;\n} else {\npos = vec4(0.0, 0.0, 0.0, 1.0);\n}\n} else {\nif(next.z < -nearFar[0]) {\npos = mix(pos, next, interp(vnp, pos, next));\nprev = pos;\n} else {\npos = vec4(0.0, 0.0, 0.0, 1.0);\n}\n}\n} else {\nif (prev.z > -nearFar[0]) {\nprev = mix(pos, prev, interp(vnp, pos, prev));\n}\nif (next.z > -nearFar[0]) {\nnext = mix(next, pos, interp(vnp, next, pos));\n}\n}\nforwardViewPosDepth(pos.xyz);\npos = projectAndScale(pos);\nnext = projectAndScale(next);\nprev = projectAndScale(prev);\n}`),c(R),R.constants.add(\"aaWidth\",\"float\",O?0:1).main.add(D`\n    // unpack values from vertex type\n    bool isStartVertex = abs(abs(lineParameters.y)-3.0) == 1.0;\n    vec3 prevPosition = position + previousDelta.xyz * previousDelta.w;\n    vec3 nextPosition = position + nextDelta.xyz * nextDelta.w;\n\n    float coverage = 1.0;\n\n    // Check for special value of lineParameters.y which is used by the Renderer when graphics are removed before the\n    // VBO is recompacted. If this is the case, then we just project outside of clip space.\n    if (lineParameters.y == 0.0) {\n      // Project out of clip space\n      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n    }\n    else {\n      bool isJoin = abs(lineParameters.y) < 3.0;\n      float lineSize = getSize();\n\n      if (lineSize < 1.0) {\n        coverage = lineSize; // convert sub-pixel coverage to alpha\n        lineSize = 1.0;\n      }\n      lineSize += aaWidth;\n\n      float lineWidth = lineSize * pixelRatio;\n      vLineWidth = lineWidth;\n      ${U?D`vLineSizeInv = 1.0 / lineSize;`:\"\"}\n\n      vec4 pos  = view * vec4(position, 1.0);\n      vec4 prev = view * vec4(prevPosition, 1.0);\n      vec4 next = view * vec4(nextPosition, 1.0);\n  `),k&&R.main.add(D`vec4 other = isStartVertex ? next : prev;\nbool markersHidden = areWorldMarkersHidden(pos, other);\nif(!isJoin && !markersHidden) {\npos.xyz += normalize(other.xyz - pos.xyz) * getWorldMarkerSize(pos) * 0.5;\n}`),R.main.add(D`clipAndTransform(pos, prev, next, isStartVertex);\nvec2 left = (pos.xy - prev.xy);\nvec2 right = (next.xy - pos.xy);\nfloat leftLen = length(left);\nfloat rightLen = length(right);`);(O||B)&&R.main.add(D`\n      float isEndVertex = float(!isStartVertex);\n      vec2 segmentOrigin = mix(pos.xy, prev.xy, isEndVertex);\n      vec2 segment = mix(right, left, isEndVertex);\n      ${B?D`vec2 segmentEnd = mix(next.xy, pos.xy, isEndVertex);`:\"\"}\n    `),R.main.add(D`left = (leftLen > 0.001) ? left/leftLen : vec2(0.0, 0.0);\nright = (rightLen > 0.001) ? right/rightLen : vec2(0.0, 0.0);\nvec2 capDisplacementDir = vec2(0, 0);\nvec2 joinDisplacementDir = vec2(0, 0);\nfloat displacementLen = lineWidth;\nif (isJoin) {\nbool isOutside = (left.x * right.y - left.y * right.x) * lineParameters.y > 0.0;\njoinDisplacementDir = normalize(left + right);\njoinDisplacementDir = perpendicular(joinDisplacementDir);\nif (leftLen > 0.001 && rightLen > 0.001) {\nfloat nDotSeg = dot(joinDisplacementDir, left);\ndisplacementLen /= length(nDotSeg * left - joinDisplacementDir);\nif (!isOutside) {\ndisplacementLen = min(displacementLen, min(leftLen, rightLen)/abs(nDotSeg));\n}\n}\nfloat subdivisionFactor = lineParameters.x;\nif (isOutside && (displacementLen > miterLimit * lineWidth)) {`),N?R.main.add(D`\n        vec2 startDir = leftLen < 0.001 ? right : left;\n        startDir = perpendicular(startDir);\n\n        vec2 endDir = rightLen < 0.001 ? left : right;\n        endDir = perpendicular(endDir);\n\n        float factor = ${O?D`min(1.0, subdivisionFactor * ${D.float((j+2)/(j+1))})`:D`subdivisionFactor`};\n\n        float rotationAngle = acos(clamp(dot(startDir, endDir), -1.0, 1.0));\n        joinDisplacementDir = rotate(startDir, -sign(lineParameters.y) * factor * rotationAngle);\n      `):R.main.add(D`if (leftLen < 0.001) {\njoinDisplacementDir = right;\n}\nelse if (rightLen < 0.001) {\njoinDisplacementDir = left;\n}\nelse {\njoinDisplacementDir = (isStartVertex || subdivisionFactor > 0.0) ? right : left;\n}\njoinDisplacementDir = perpendicular(joinDisplacementDir);`);const J=E!==w.BUTT;return R.main.add(D`\n        displacementLen = lineWidth;\n      }\n    } else {\n      // CAP handling ---------------------------------------------------\n      joinDisplacementDir = isStartVertex ? right : left;\n      joinDisplacementDir = perpendicular(joinDisplacementDir);\n\n      ${J?D`capDisplacementDir = isStartVertex ? -right : left;`:\"\"}\n    }\n  `),R.main.add(D`\n    // Displacement (in pixels) caused by join/or cap\n    vec2 dpos = joinDisplacementDir * sign(lineParameters.y) * displacementLen + capDisplacementDir * displacementLen;\n    float lineDistNorm = sign(lineParameters.y) * pos.w;\n\n    vLineDistance =  lineWidth * lineDistNorm;\n    ${H?D`vLineDistanceNorm = lineDistNorm;`:\"\"}\n\n    pos.xy += dpos;\n  `),B&&R.main.add(D`vec2 segmentDir = normalize(segment);\nvSegmentSDF = (isJoin && isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentOrigin, segmentDir) * pos.w) ;\nvReverseSegmentSDF = (isJoin && !isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentEnd, -segmentDir) * pos.w);`),O&&(V?R.uniforms.add(new g(\"worldToScreenRatio\",(e=>1/e.screenToPCSRatio))):R.main.add(D`vec3 segmentCenter = mix((nextPosition + position) * 0.5, (position + prevPosition) * 0.5, isEndVertex);\nfloat worldToScreenRatio = computeWorldToScreenRatio(segmentCenter);`),R.main.add(D`float segmentLengthScreenDouble = length(segment);\nfloat segmentLengthScreen = segmentLengthScreenDouble * 0.5;\nfloat discreteWorldToScreenRatio = discretizeWorldToScreenRatio(worldToScreenRatio);\nfloat segmentLengthRender = length(mix(nextPosition - position, position - prevPosition, isEndVertex));\nvStipplePatternStretch = worldToScreenRatio / discreteWorldToScreenRatio;`),V?R.main.add(D`float segmentLengthPseudoScreen = segmentLengthScreen / pixelRatio * discreteWorldToScreenRatio / worldToScreenRatio;\nfloat startPseudoScreen = u0 * discreteWorldToScreenRatio - mix(0.0, segmentLengthPseudoScreen, isEndVertex);`):R.main.add(D`float startPseudoScreen = mix(u0, u0 - segmentLengthRender, isEndVertex) * discreteWorldToScreenRatio;\nfloat segmentLengthPseudoScreen = segmentLengthRender * discreteWorldToScreenRatio;`),R.uniforms.add(new h(\"stipplePatternPixelSize\",(e=>o(e)))),R.main.add(D`float patternLength = lineSize * stipplePatternPixelSize;\nvStippleDistanceLimits = computeStippleDistanceLimits(startPseudoScreen, segmentLengthPseudoScreen, segmentLengthScreen, patternLength);\nvStippleDistance = mix(vStippleDistanceLimits.x, vStippleDistanceLimits.y, isEndVertex);\nif (segmentLengthScreenDouble >= 0.001) {\nvec2 stippleDisplacement = pos.xy - segmentOrigin;\nfloat stippleDisplacementFactor = dot(segment, stippleDisplacement) / (segmentLengthScreenDouble * segmentLengthScreenDouble);\nvStippleDistance += (stippleDisplacementFactor - isEndVertex) * (vStippleDistanceLimits.y - vStippleDistanceLimits.x);\n}\nvStippleDistanceLimits *= pos.w;\nvStippleDistance *= pos.w;\nvStippleDistanceLimits = isJoin ?\nvStippleDistanceLimits :\nisStartVertex ?\nvec2(-1e34, vStippleDistanceLimits.y) :\nvec2(vStippleDistanceLimits.x, 1e34);`)),R.main.add(D`\n      // Convert back into NDC\n      pos.xy = (pos.xy / viewport.zw) * pos.w;\n\n      vColor = getColor();\n      vColor.a *= coverage;\n\n      ${_&&!V?\"pos.z -= 0.001 * pos.w;\":\"\"}\n\n      // transform final position to camera space for slicing\n      vpos = (inverseProjectionMatrix * pos).xyz;\n      gl_Position = pos;\n      forwardObjectAndLayerIdColor();\n    }`),C.fragment.include(i,P),C.include(L,P),z.include(d),z.main.add(D`discardBySlice(vpos);\ndiscardByTerrainDepth();`),_?z.main.add(D`vec4 finalColor = vec4(1.0, 0.0, 1.0, 1.0);`):(B&&z.main.add(D`\n        float sdf = min(vSegmentSDF, vReverseSegmentSDF);\n        vec2 fragmentPosition = vec2(\n          min(sdf, 0.0),\n          vLineDistance\n        ) * gl_FragCoord.w;\n\n        float fragmentRadius = length(fragmentPosition);\n        float fragmentCapSDF = (fragmentRadius - vLineWidth) * 0.5; // Divide by 2 to transform from double pixel scale\n        float capCoverage = clamp(0.5 - fragmentCapSDF, 0.0, 1.0);\n\n        if (capCoverage < ${D.float(y)}) {\n          discard;\n        }\n      `),$?z.main.add(D`\n      vec2 stipplePosition = vec2(\n        min(getStippleSDF() * 2.0 - 1.0, 0.0),\n        vLineDistanceNorm * gl_FragCoord.w\n      );\n      float stippleRadius = length(stipplePosition * vLineWidth);\n      float stippleCapSDF = (stippleRadius - vLineWidth) * 0.5; // Divide by 2 to transform from double pixel scale\n      float stippleCoverage = clamp(0.5 - stippleCapSDF, 0.0, 1.0);\n      float stippleAlpha = step(${D.float(y)}, stippleCoverage);\n      `):z.main.add(D`float stippleAlpha = getStippleAlpha();`),W!==e.ObjectAndLayerIdColor&&z.main.add(D`discardByStippleAlpha(stippleAlpha, ${D.float(y)});`),z.uniforms.add(new f(\"intrinsicColor\",(e=>e.color))),z.main.add(D`vec4 color = intrinsicColor * vColor;`),I&&(z.uniforms.add(new f(\"innerColor\",(e=>e.innerColor??e.color)),new h(\"innerWidth\",((e,i)=>e.innerWidth*i.camera.pixelRatio))),z.main.add(D`float distToInner = abs(vLineDistance * gl_FragCoord.w) - innerWidth;\nfloat innerAA = clamp(0.5 - distToInner, 0.0, 1.0);\nfloat innerAlpha = innerColor.a + color.a * (1.0 - innerColor.a);\ncolor = mix(color, vec4(innerColor.rgb, innerAlpha), innerAA);`)),z.main.add(D`vec4 finalColor = blendStipple(color, stippleAlpha);`),M&&(z.uniforms.add(new h(\"falloff\",(e=>e.falloff))),z.main.add(D`finalColor.a *= pow(max(0.0, 1.0 - abs(vLineDistanceNorm * gl_FragCoord.w)), falloff);`)),O||z.main.add(D`float featherStartDistance = max(vLineWidth - 2.0, 0.0);\nfloat value = abs(vLineDistance) * gl_FragCoord.w;\nfloat feather = (value - featherStartDistance) / (vLineWidth - featherStartDistance);\nfinalColor.a *= 1.0 - clamp(feather, 0.0, 1.0);`)),z.main.add(D`outputColorHighlightOID(finalColor, vpos, finalColor.rgb);`),C}const C=Object.freeze(Object.defineProperty({__proto__:null,build:P,ribbonlineNumRoundJoinSubdivisions:j},Symbol.toStringTag,{value:\"Module\"}));export{C as R,P as b,j as r};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isColorOrColorEmission as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i,depthOnlyOutputBuffersOr as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as l}from\"../lib/OITPass.js\";import{OITPolygonOffset as n,depthWrite as s,oitDepthTest as o,blending as u,getDrawBuffers as p}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as c}from\"../lib/RenderSlot.js\";import{stencilToolMaskBaseParams as a,stencilBaseAllZerosParams as d,stencilWriteMaskOn as T,stencilToolTransparentOccluderParams as f,depthCompareAlways as h,stencilToolMaskOccluderParams as m,stencilWriteMaskOff as O,depthCompareLess as E}from\"../lib/StencilUtils.js\";import{VertexAttribute as P}from\"../lib/VertexAttribute.js\";import{R}from\"../../../../chunks/RibbonLine.glsl.js\";import{PrimitiveType as A}from\"../../../webgl/enums.js\";import{makePipelineState as b,defaultColorWrite as g,unpremultipliedAlphaToPremultipliedAlpha as I}from\"../../../webgl/renderState.js\";class S extends i{constructor(e,i){super(e,i,new t(R,(()=>import(\"./RibbonLine.glsl.js\"))),_),this.primitiveType=i.wireframe?A.LINES:A.TRIANGLE_STRIP}_makePipelineState(t,i){const{oitPass:c,output:f,hasOccludees:h,hasPolygonOffset:m}=t,O=c===l.NONE,E=c===l.FrontFace;return b({blending:e(f)?u(c):null,depthTest:{func:o(c)},depthWrite:s(t),drawBuffers:r(f,p(c,f)),colorWrite:g,stencilWrite:h?T:null,stencilTest:h?i?a:d:null,polygonOffset:O||E?m?L:null:n})}initializePipeline(e){if(e.occluder){const t=e.hasPolygonOffset?L:null,{output:i,hasOccludees:l}=e;this._occluderPipelineTransparent=b({blending:I,polygonOffset:t,depthTest:h,depthWrite:null,colorWrite:g,stencilWrite:null,stencilTest:l?f:null,drawBuffers:r(i)}),this._occluderPipelineOpaque=b({blending:I,polygonOffset:t,depthTest:l?h:E,depthWrite:null,colorWrite:g,stencilWrite:l?O:null,stencilTest:l?m:null,drawBuffers:r(i)}),this._occluderPipelineMaskWrite=b({blending:null,polygonOffset:t,depthTest:E,depthWrite:null,colorWrite:null,stencilWrite:l?T:null,stencilTest:l?a:null,drawBuffers:r(i)})}return this._occludeePipeline=this._makePipelineState(e,!0),this._makePipelineState(e,!1)}getPipeline(e,t){if(e)return this._occludeePipeline;switch(t){case c.TRANSPARENT_OCCLUDER_MATERIAL:return this._occluderPipelineTransparent??super.getPipeline();case c.OCCLUDER_MATERIAL:return this._occluderPipelineOpaque??super.getPipeline();default:return this._occluderPipelineMaskWrite??super.getPipeline()}}}const L={factor:0,units:-4},_=new Map([[P.POSITION,0],[P.PREVIOUSDELTA,1],[P.NEXTDELTA,2],[P.U0,3],[P.LINEPARAMETERS,4],[P.COLOR,5],[P.COLORFEATUREATTRIBUTE,5],[P.SIZE,6],[P.SIZEFEATUREATTRIBUTE,6],[P.OPACITYFEATUREATTRIBUTE,7],[P.OLIDCOLOR,8]]);export{S as RibbonLineTechnique,_ as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{copy as i}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{i as s,d as a,e as n,g as o,f as l,c,l as p,j as h,t as f}from\"../../../../chunks/vec32.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as u}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{makeFloat16Array as T}from\"../../../../geometry/support/float16.js\";import{PlaneIndex as d}from\"../../../../geometry/support/frustum.js\";import{distance2 as E,fromPoints as _,create as A,closestLineSegmentPoint as R}from\"../../../../geometry/support/lineSegment.js\";import{fromPoints as g,create as S,signedDistance as O,getNormal as I}from\"../../../../geometry/support/plane.js\";import{newLayout as v}from\"../../support/buffer/InterleavedLayout.js\";import{isHighlightOrOID as P,isColorOrColorEmission as N,isDepth as L,isColorEmissionHighlightOIDOrDepth as b,is2DGeometryOutput as C,ShaderOutput as U}from\"../core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as y}from\"../effects/geometry/olidUtils.js\";import j from\"../lib/GLMaterial.js\";import{Material as D,RenderOccludedFlag as F}from\"../lib/Material.js\";import{RenderSlot as w}from\"../lib/RenderSlot.js\";import{isTranslationMatrix as M}from\"../lib/Util.js\";import{VertexAttribute as B}from\"../lib/VertexAttribute.js\";import{VisualVariablePassParameters as x}from\"./VisualVariablePassParameters.js\";import{writeDeltaF16Vector as J}from\"./internal/bufferWriterUtils.js\";import{LineMarkerAnchor as z}from\"../shaders/LineMarkerTechniqueConfiguration.js\";import{r as H}from\"../../../../chunks/RibbonLine.glsl.js\";import{vertexAttributeLocations as G,RibbonLineTechnique as k}from\"../shaders/RibbonLineTechnique.js\";import{RibbonLineTechniqueConfiguration as Z,CapType as V}from\"../shaders/RibbonLineTechniqueConfiguration.js\";import{alphaCutoff as W}from\"../../../../webscene/support/AlphaCutoff.js\";var Y;!function(e){e[e.LEFT_JOIN_START=-2]=\"LEFT_JOIN_START\",e[e.LEFT_JOIN_END=-1]=\"LEFT_JOIN_END\",e[e.LEFT_CAP_START=-4]=\"LEFT_CAP_START\",e[e.LEFT_CAP_END=-5]=\"LEFT_CAP_END\",e[e.RIGHT_JOIN_START=2]=\"RIGHT_JOIN_START\",e[e.RIGHT_JOIN_END=1]=\"RIGHT_JOIN_END\",e[e.RIGHT_CAP_START=4]=\"RIGHT_CAP_START\",e[e.RIGHT_CAP_END=5]=\"RIGHT_CAP_END\"}(Y||(Y={}));class q extends D{constructor(e){super(e,Q),this._configuration=new Z,this.vertexAttributeLocations=G,this.produces=new Map([[w.OPAQUE_MATERIAL,e=>P(e)||N(e)&&this.parameters.renderOccluded===F.OccludeAndTransparentStencil],[w.OPAQUE_MATERIAL_WITHOUT_NORMALS,e=>L(e)],[w.OCCLUDER_MATERIAL,e=>b(e)&&this.parameters.renderOccluded===F.OccludeAndTransparentStencil],[w.TRANSPARENT_OCCLUDER_MATERIAL,e=>b(e)&&this.parameters.renderOccluded===F.OccludeAndTransparentStencil],[w.TRANSPARENT_MATERIAL,e=>N(e)&&this.parameters.writeDepth&&this.parameters.renderOccluded!==F.OccludeAndTransparentStencil],[w.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>N(e)&&!this.parameters.writeDepth&&this.parameters.renderOccluded!==F.OccludeAndTransparentStencil],[w.DRAPED_MATERIAL,e=>C(e)]])}getConfiguration(e,t){super.getConfiguration(e,t,this._configuration),this._configuration.oitPass=t.oitPass,this._configuration.draped=t.slot===w.DRAPED_MATERIAL;const r=null!=this.parameters.stipplePattern&&e!==U.Highlight;return this._configuration.stippleEnabled=r,this._configuration.stippleOffColorEnabled=r&&null!=this.parameters.stippleOffColor,this._configuration.stipplePreferContinuous=r&&this.parameters.stipplePreferContinuous,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.roundJoins=\"round\"===this.parameters.join,this._configuration.capType=this.parameters.cap,this._configuration.applyMarkerOffset=null!=this.parameters.markerParameters&&te(this.parameters.markerParameters),this._configuration.hasPolygonOffset=this.parameters.hasPolygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.vvOpacity=!!this.parameters.vvOpacity,this._configuration.innerColorEnabled=this.parameters.innerWidth>0&&null!=this.parameters.innerColor,this._configuration.falloffEnabled=this.parameters.falloff>0,this._configuration.hasOccludees=t.hasOccludees,this._configuration.occluder=this.parameters.renderOccluded===F.OccludeAndTransparentStencil,this._configuration.terrainDepthTest=t.terrainDepthTest&&N(e),this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.wireframe=this.parameters.wireframe,this._configuration}get visible(){return this.parameters.color[3]>=W||null!=this.parameters.stipplePattern&&(this.parameters.stippleOffColor?.[3]??0)>W}intersectDraped({attributes:e,screenToWorldRatio:r},i,s,a,n){if(!i.options.selectionMode)return;const o=e.get(B.SIZE);let l=this.parameters.width;if(this.parameters.vvSize){const r=e.get(B.SIZEFEATUREATTRIBUTE).data[0];Number.isNaN(r)?l*=this.parameters.vvSize.fallback[0]:l*=t(this.parameters.vvSize.offset[0]+r*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0])}else o&&(l*=o.data[0]);const c=s[0],p=s[1],h=(l/2+4)*r;let f=Number.MAX_VALUE,m=0;const u=e.get(B.POSITION).data,T=ee(this.parameters,e)?u.length-2:u.length-5;for(let d=0;d<T;d+=3){const e=u[d],r=u[d+1],i=(d+3)%u.length,s=c-e,a=p-r,n=u[i]-e,o=u[i+1]-r,l=t((n*s+o*a)/(n*n+o*o),0,1),h=n*l-s,T=o*l-a,E=h*h+T*T;E<f&&(f=E,m=d/3)}f<h*h&&a(n.distance,n.normal,m)}intersect(r,f,m,u,T,A){const{options:S,camera:v,rayBegin:P,rayEnd:N}=m;if(!S.selectionMode||!r.visible||!v)return;if(!M(f))return void e.getLogger(\"esri.views.3d.webgl-engine.materials.RibbonLineMaterial\").error(\"intersection assumes a translation-only matrix\");const L=r.attributes,b=L.get(B.POSITION).data;let C=this.parameters.width;if(this.parameters.vvSize){const e=L.get(B.SIZEFEATUREATTRIBUTE).data[0];Number.isNaN(e)||(C*=t(this.parameters.vvSize.offset[0]+e*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0]))}else L.has(B.SIZE)&&(C*=L.get(B.SIZE).data[0]);const U=ne;i(U,m.point);const y=C*v.pixelRatio/2+4*v.pixelRatio;s(de[0],U[0]-y,U[1]+y,0),s(de[1],U[0]+y,U[1]+y,0),s(de[2],U[0]+y,U[1]-y,0),s(de[3],U[0]-y,U[1]-y,0);for(let e=0;e<4;e++)if(!v.unprojectFromRenderScreen(de[e],Ee[e]))return;g(v.eye,Ee[0],Ee[1],_e),g(v.eye,Ee[1],Ee[2],Ae),g(v.eye,Ee[2],Ee[3],Re),g(v.eye,Ee[3],Ee[0],ge);let j=Number.MAX_VALUE,D=0;const F=ee(this.parameters,L)?b.length-2:b.length-5;for(let e=0;e<F;e+=3){re[0]=b[e]+f[12],re[1]=b[e+1]+f[13],re[2]=b[e+2]+f[14];const t=(e+3)%b.length;if(ie[0]=b[t]+f[12],ie[1]=b[t+1]+f[13],ie[2]=b[t+2]+f[14],O(_e,re)<0&&O(_e,ie)<0||O(Ae,re)<0&&O(Ae,ie)<0||O(Re,re)<0&&O(Re,ie)<0||O(ge,re)<0&&O(ge,ie)<0)continue;if(v.projectToRenderScreen(re,oe),v.projectToRenderScreen(ie,le),oe[2]<0&&le[2]>0){a(se,re,ie);const e=v.frustum,t=-O(e[d.NEAR],re)/n(se,I(e[d.NEAR]));o(se,se,t),l(re,re,se),v.projectToRenderScreen(re,oe)}else if(oe[2]>0&&le[2]<0){a(se,ie,re);const e=v.frustum,t=-O(e[d.NEAR],ie)/n(se,I(e[d.NEAR]));o(se,se,t),l(ie,ie,se),v.projectToRenderScreen(ie,le)}else if(oe[2]<0&&le[2]<0)continue;oe[2]=0,le[2]=0;const r=E(_(oe,le,he),U);r<j&&(j=r,c(ce,re),c(pe,ie),D=e/3)}if(j<y*y){let e=Number.MAX_VALUE;if(R(_(ce,pe,he),_(P,N,fe),ae)){a(ae,ae,P);const t=p(ae);o(ae,ae,1/t),e=t/h(P,N)}A(e,ae,D)}}get _layout(){const e=v().vec3f(B.POSITION).vec4f16(B.PREVIOUSDELTA).vec4f16(B.NEXTDELTA).f32(B.U0).vec2f16(B.LINEPARAMETERS);return this.parameters.vvColor?e.f32(B.COLORFEATUREATTRIBUTE):e.vec4u8(B.COLOR,{glNormalized:!0}),this.parameters.vvSize?e.f32(B.SIZEFEATUREATTRIBUTE):e.f32(B.SIZE),this.parameters.vvOpacity&&e.f32(B.OPACITYFEATUREATTRIBUTE),y()&&e.vec4u8(B.OLIDCOLOR),e}createBufferWriter(){return new K(this._layout,this.parameters)}createGLMaterial(e){return new X(e)}validateParameters(e){\"miter\"!==e.join&&(e.miterLimit=0),null!=e.markerParameters&&(e.markerScale=e.markerParameters.width/e.width)}}class X extends j{constructor(){super(...arguments),this._stipplePattern=null}dispose(){super.dispose(),this._stippleTextures.release(this._stipplePattern),this._stipplePattern=null}beginSlot(e){const t=this._material.parameters.stipplePattern;return this._stipplePattern!==t&&(this._material.setParameters({stippleTexture:this._stippleTextures.swap(t,this._stipplePattern)}),this._stipplePattern=t),this.getTechnique(k,e)}}class Q extends x{constructor(){super(...arguments),this.width=0,this.color=u,this.join=\"miter\",this.cap=V.BUTT,this.miterLimit=5,this.writeDepth=!0,this.hasPolygonOffset=!1,this.stippleTexture=null,this.stipplePreferContinuous=!0,this.markerParameters=null,this.markerScale=1,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.isClosed=!1,this.falloff=0,this.innerWidth=0,this.wireframe=!1}get transparent(){return this.color[3]<1||null!=this.stipplePattern&&(this.stippleOffColor?.[3]??0)<1}}class K{constructor(e,t){this.vertexBufferLayout=e,this._parameters=t;const r=t.stipplePattern?1:0;switch(this._parameters.join){case\"miter\":case\"bevel\":this.numJoinSubdivisions=r;break;case\"round\":this.numJoinSubdivisions=H+r}}_isClosed(e){return ee(this._parameters,e)}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){const t=2,r=e.get(B.POSITION).indices.length/2+1,i=this._isClosed(e);let s=i?2:2*t;return s+=((i?r:r-1)-(i?0:1))*(2*this.numJoinSubdivisions+4),s+=2,this._parameters.wireframe&&(s=2+4*(s-2)),s}write(e,t,r,i,a,n){const o=r.get(B.POSITION),l=o.indices,p=o.data.length/3,m=r.get(B.DISTANCETOSTART)?.data;l&&l.length!==2*(p-1)&&console.warn(\"RibbonLineMaterial does not support indices\");const u=(this.vertexBufferLayout.fields.has(B.SIZEFEATUREATTRIBUTE)?r.get(B.SIZEFEATUREATTRIBUTE)?.data[0]:r.get(B.SIZE)?.data[0])??1;let d=[1,1,1,1],E=0;const _=this.vertexBufferLayout.fields.has(B.COLORFEATUREATTRIBUTE);_?E=r.get(B.COLORFEATUREATTRIBUTE).data[0]:r.has(B.COLOR)&&(d=r.get(B.COLOR).data);const A=this.vertexBufferLayout.fields.has(B.OPACITYFEATUREATTRIBUTE),R=A?r.get(B.OPACITYFEATUREATTRIBUTE).data[0]:0,g=new Float32Array(a.buffer),S=T(a.buffer),O=new Uint8Array(a.buffer),I=this.vertexBufferLayout.stride/4;let v=n*I;const P=v;let N=0;const L=m?(e,t,r)=>N=m[r]:(e,t,r)=>N+=h(e,t),b=g.BYTES_PER_ELEMENT/S.BYTES_PER_ELEMENT,C=4/b,U=(e,t,r,s,a,n,o)=>{g[v++]=t[0],g[v++]=t[1],g[v++]=t[2],J(e,t,S,v*b),v+=C,J(r,t,S,v*b),v+=C,g[v++]=o;let l=v*b;if(S[l++]=s,S[l++]=a,v=Math.ceil(l/b),_)g[v]=E;else{const e=Math.min(4*n,d.length-4),t=4*v;O[t]=255*d[e],O[t+1]=255*d[e+1],O[t+2]=255*d[e+2],O[t+3]=255*d[e+3]}if(v++,g[v++]=u,A&&(g[v++]=R),y()){let e=4*v;i?(O[e++]=i[0],O[e++]=i[1],O[e++]=i[2],O[e++]=i[3]):(O[e++]=0,O[e++]=0,O[e++]=0,O[e++]=0),v=Math.ceil(.25*e)}};v+=I,s(ue,o.data[0],o.data[1],o.data[2]),e&&f(ue,ue,e);const j=this._isClosed(r);if(j){const t=o.data.length-3;s(me,o.data[t],o.data[t+1],o.data[t+2]),e&&f(me,me,e)}else s(Te,o.data[3],o.data[4],o.data[5]),e&&f(Te,Te,e),U(ue,ue,Te,1,Y.LEFT_CAP_START,0,0),U(ue,ue,Te,1,Y.RIGHT_CAP_START,0,0),c(me,ue),c(ue,Te);const D=j?0:1,F=j?p:p-1;for(let h=D;h<F;h++){const t=(h+1)%p*3;s(Te,o.data[t],o.data[t+1],o.data[t+2]),e&&f(Te,Te,e),L(me,ue,h),U(me,ue,Te,0,Y.LEFT_JOIN_END,h,N),U(me,ue,Te,0,Y.RIGHT_JOIN_END,h,N);const r=this.numJoinSubdivisions;for(let e=0;e<r;++e){const t=(e+1)/(r+1);U(me,ue,Te,t,Y.LEFT_JOIN_END,h,N),U(me,ue,Te,t,Y.RIGHT_JOIN_END,h,N)}U(me,ue,Te,1,Y.LEFT_JOIN_START,h,N),U(me,ue,Te,1,Y.RIGHT_JOIN_START,h,N),c(me,ue),c(ue,Te)}j?(s(Te,o.data[3],o.data[4],o.data[5]),e&&f(Te,Te,e),N=L(me,ue,F),U(me,ue,Te,0,Y.LEFT_JOIN_END,D,N),U(me,ue,Te,0,Y.RIGHT_JOIN_END,D,N)):(N=L(me,ue,F),U(me,ue,ue,0,Y.LEFT_CAP_END,F,N),U(me,ue,ue,0,Y.RIGHT_CAP_END,F,N)),$(g,P+I,g,P,I);return v=$(g,v-I,g,v,I),this._parameters.wireframe&&this._addWireframeVertices(a,P,v,I),null}_addWireframeVertices(e,t,r,i){const s=new Float32Array(e.buffer,r*Float32Array.BYTES_PER_ELEMENT),a=new Float32Array(e.buffer,t*Float32Array.BYTES_PER_ELEMENT,r-t);let n=0;const o=e=>n=$(a,e,s,n,i);for(let l=0;l<a.length-1;l+=2*i)o(l),o(l+2*i),o(l+1*i),o(l+2*i),o(l+1*i),o(l+3*i)}}function $(e,t,r,i,s){for(let a=0;a<s;a++)r[i++]=e[t++];return i}function ee(e,t){if(!e.isClosed)return!1;return t.get(B.POSITION).indices.length>2}function te(e){return e.anchor===z.Tip&&e.hideOnShortSegments&&\"begin-end\"===e.placement&&e.worldSpace}const re=m(),ie=m(),se=m(),ae=m(),ne=m(),oe=r(),le=r(),ce=m(),pe=m(),he=A(),fe=A(),me=m(),ue=m(),Te=m(),de=[r(),r(),r(),r()],Ee=[m(),m(),m(),m()],_e=S(),Ae=S(),Re=S(),ge=S();export{Q as Parameters,q as RibbonLineMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{generateUID as t}from\"../../../../core/uid.js\";import{d as r}from\"../../../../chunks/vec32.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectBuffer as s}from\"../../../../geometry/projection/projectBuffer.js\";import{Attribute as e}from\"./Attribute.js\";import{Geometry as n}from\"./Geometry.js\";import{fromValues as a}from\"./LocalOriginFactory.js\";import{Object3D as h}from\"./Object3D.js\";import{gridLocalOriginFactory as m}from\"./testUtils.js\";import{VertexAttribute as c}from\"./VertexAttribute.js\";import{WebGLLayer as g}from\"./WebGLLayer.js\";import{RibbonLineMaterial as f}from\"../materials/RibbonLineMaterial.js\";import{GeometryType as d}from\"./IntersectableGeometry.js\";class l{constructor(r){this._originSR=r,this._rootOriginId=\"root/\"+t(),this._origins=new Map,this._objects=new Map,this._gridSize=5e5}getOrigin(t){const i=this._origins.get(this._rootOriginId);if(null==i){const r=m.rootOrigin;if(null!=r)return this._origins.set(this._rootOriginId,a(r[0],r[1],r[2],this._rootOriginId)),this.getOrigin(t);const i=a(t[0]+Math.random()-.5,t[1]+Math.random()-.5,t[2]+Math.random()-.5,this._rootOriginId);return this._origins.set(this._rootOriginId,i),i}const o=this._gridSize,s=Math.round(t[0]/o),e=Math.round(t[1]/o),n=Math.round(t[2]/o),h=`${s}/${e}/${n}`;let c=this._origins.get(h);const g=.5*o;if(r(_,t,i.vec3),_[0]=Math.abs(_[0]),_[1]=Math.abs(_[1]),_[2]=Math.abs(_[2]),_[0]<g&&_[1]<g&&_[2]<g){if(c){const i=Math.max(..._);r(_,t,c.vec3),_[0]=Math.abs(_[0]),_[1]=Math.abs(_[1]),_[2]=Math.abs(_[2]);if(Math.max(..._)<i)return c}return i}return c||(c=a(s*o,e*o,n*o,h),this._origins.set(h,c)),c}_drawOriginBox(t,r=o(1,1,0,1)){const i=window.view,a=i.stage,m=r.toString();if(!this._objects.has(m)){this._material=new f({width:2,color:r});const t=new g(a,{pickable:!1}),i=new h({castShadow:!1});t.add(i),this._objects.set(m,i)}const l=this._objects.get(m),_=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],p=_.length,j=new Array(3*p),b=new Array,u=.5*this._gridSize;for(let o=0;o<p;o++)j[3*o]=t[0]+(1&_[o]?u:-u),j[3*o+1]=t[1]+(2&_[o]?u:-u),j[3*o+2]=t[2]+(4&_[o]?u:-u),o>0&&b.push(o-1,o);s(j,this._originSR,0,j,i.renderSpatialReference,0,p);const M=new n(this._material,[[c.POSITION,new e(j,b,3,!0)]],null,d.Line);l.addGeometry(M)}get test(){}}const _=i();export{l as GridLocalOriginFactory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isDehydratedPoint as e}from\"../../../layers/graphics/dehydratedFeatureUtils.js\";class r{constructor(e,r=null,t=0){this.array=e,this.spatialReference=r,this.offset=t}}function t(e){return\"array\"in e}function a(r,a,n=\"ground\"){if(e(a))return r.getElevation(a.x,a.y,a.z||0,a.spatialReference,n);if(t(a)){let e=a.offset;return r.getElevation(a.array[e++],a.array[e++],a.array[e]||0,a.spatialReference??r.spatialReference,n)}return r.getElevation(a[0],a[1],a[2]||0,r.spatialReference,n)}export{r as SamplePosition,a as getElevationAtPoint,t as isSamplePosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{copy as e}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeTranslationToOriginAndRotation as o}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBuffer as r}from\"../../../../geometry/projection/projectBuffer.js\";import{isDehydratedPoint as i}from\"../../../../layers/graphics/dehydratedFeatureUtils.js\";import{isSamplePosition as a,getElevationAtPoint as s}from\"../../support/ElevationProvider.js\";import{VertexAttribute as l}from\"../../webgl-engine/lib/VertexAttribute.js\";function u(e,t,n,o,i,a,s,l,u,c,f){const m=x[f.mode];let d,g,p=0;if(r(e,t,n,o,u.spatialReference,i,l))return m?.requiresAlignment(f)?(p=m.applyElevationAlignmentBuffer(o,i,a,s,l,u,c,f),d=a,g=s):(d=o,g=i),r(d,u.spatialReference,g,a,c.spatialReference,s,l)?p:void 0}function c(e,t,n,o,r){const l=(i(e)?e.z:a(e)?e.array[e.offset+2]:e[2])||0;switch(n.mode){case\"on-the-ground\":{const n=s(t,e,\"ground\")??0;return r.verticalDistanceToGround=0,r.sampledElevation=n,void(r.z=n)}case\"relative-to-ground\":{const i=s(t,e,\"ground\")??0,a=n.geometryZWithOffset(l,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case\"relative-to-scene\":{const i=s(t,e,\"scene\")??0,a=n.geometryZWithOffset(l,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case\"absolute-height\":{const i=n.geometryZWithOffset(l,o),a=s(t,e,\"ground\")??0;return r.verticalDistanceToGround=i-a,r.sampledElevation=a,void(r.z=i)}default:return void(r.z=0)}}function f(e,t,n,o){return c(e,t,n,o,D),D.z}function m(e,t,n){return\"on-the-ground\"===t&&\"on-the-ground\"===n?e.staysOnTheGround:t===n||\"on-the-ground\"!==t&&\"on-the-ground\"!==n?null==t||null==n?e.definedChanged:b.UPDATE:e.onTheGroundChanged}function d(e){return\"relative-to-ground\"===e||\"relative-to-scene\"===e}function g(e){return\"absolute-height\"!==e}function p(t,n,r,i,a){c(n,r,a,i,D),E(t,D.verticalDistanceToGround);const s=D.sampledElevation,l=e(C,t.transformation);O[0]=n.x,O[1]=n.y,O[2]=D.z;return o(n.spatialReference,O,l,i.spatialReference)?t.transformation=l:console.warn(\"Could not locate symbol object properly, it might be misplaced\"),s}function E(e,t){for(let n=0;n<e.geometries.length;++n){const o=e.geometries[n].getMutableAttribute(l.CENTEROFFSETANDDISTANCE);o&&o.data[3]!==t&&(o.data[3]=t,e.geometryVertexAttributeUpdated(e.geometries[n],l.CENTEROFFSETANDDISTANCE))}}function v(e,t,n,o,r,i){let a=0;const s=i.spatialReference;t*=3,o*=3;for(let l=0;l<r;++l){const r=e[t],l=e[t+1],u=e[t+2],c=i.getElevation(r,l,u,s,\"ground\")??0;a+=c,n[o]=r,n[o+1]=l,n[o+2]=c,t+=3,o+=3}return a/r}function h(e,t,n,o,r,i,a,s){let l=0;const u=s.calculateOffsetRenderUnits(a),c=s.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let m=0;m<r;++m){const r=e[t],a=e[t+1],s=e[t+2],m=i.getElevation(r,a,s,f,\"ground\")??0;l+=m,n[o]=r,n[o+1]=a,n[o+2]=null==c?s+m+u:m+u,t+=3,o+=3}return l/r}function A(e,t,n,o,r,i,a,s){let l=0;const u=s.calculateOffsetRenderUnits(a),c=s.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let m=0;m<r;++m){const r=e[t],a=e[t+1],s=e[t+2],m=i.getElevation(r,a,s,f,\"scene\")??0;l+=m,n[o]=r,n[o+1]=a,n[o+2]=null==c?s+m+u:m+u,t+=3,o+=3}return l/r}function T(e){const t=e.meterUnitOffset,n=e.featureExpressionInfoContext;return 0!==t||null!=n}function y(e,t,n,o,r,i,a,s){const l=s.calculateOffsetRenderUnits(a),u=s.featureExpressionInfoContext;t*=3,o*=3;for(let c=0;c<r;++c){const r=e[t],i=e[t+1],a=e[t+2];n[o]=r,n[o+1]=i,n[o+2]=null==u?a+l:l,t+=3,o+=3}return 0}class R{constructor(){this.verticalDistanceToGround=0,this.sampledElevation=0,this.z=0}}var b;!function(e){e[e.NONE=0]=\"NONE\",e[e.UPDATE=1]=\"UPDATE\",e[e.RECREATE=2]=\"RECREATE\"}(b||(b={}));const x={\"absolute-height\":{applyElevationAlignmentBuffer:y,requiresAlignment:T},\"on-the-ground\":{applyElevationAlignmentBuffer:v,requiresAlignment:()=>!0},\"relative-to-ground\":{applyElevationAlignmentBuffer:h,requiresAlignment:()=>!0},\"relative-to-scene\":{applyElevationAlignmentBuffer:A,requiresAlignment:()=>!0}},C=t(),D=new R,O=n();export{R as SampleElevationInfo,b as SymbolUpdateType,p as applyElevationAlignmentForHUD,u as applyPerVertexElevationAlignment,m as elevationModeChangeUpdateType,f as evaluateElevationAlignmentAtPoint,c as evaluateElevationInfoAtPoint,d as needsElevationUpdates2D,g as needsElevationUpdates3D,E as updateVertexPointGroundDistance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{hydrateGeometry as r}from\"../../../../layers/graphics/hydratedFeatures.js\";import{loadArcade as n}from\"../../../../support/loadArcade.js\";const c=()=>e.getLogger(\"esri.views.3d.layers.graphics.featureExpressionInfoUtils\");function o(e){return{cachedResult:e.cachedResult,arcade:e.arcade?{func:e.arcade.func,context:e.arcade.modules.arcadeUtils.createExecContext(null,{sr:e.arcade.context.spatialReference}),modules:e.arcade.modules}:null}}function u(e){const t=e?.expression;if(\"string\"==typeof t){const e=m(t);if(null!=e)return{cachedResult:e}}return null}async function a(e,r,c,o){const u=e?.expression;if(\"string\"!=typeof u)return null;const a=m(u);if(null!=a)return{cachedResult:a};const s=await n();t(c);const l=s.arcadeUtils,i=l.createSyntaxTree(u);return l.dependsOnView(i)?(null!=o&&o.error(\"Expressions containing '$view' are not supported on ElevationInfo\"),{cachedResult:0}):{arcade:{func:l.createFunction(i),context:l.createExecContext(null,{sr:r}),modules:s}}}function s(e,t,r){return e.arcadeUtils.createFeature(t.attributes,t.geometry,r)}function l(e,t){if(null!=e&&!p(e)){if(!t||!e.arcade)return void c().errorOncePerTick(\"Arcade support required but not provided\");const n=t;n._geometry&&(n._geometry=r(n._geometry)),e.arcade.modules.arcadeUtils.updateExecContext(e.arcade.context,t)}}function i(e){if(null!=e){if(p(e))return e.cachedResult;const t=e.arcade;let r=t?.modules.arcadeUtils.executeFunction(t.func,t.context);return\"number\"!=typeof r&&(e.cachedResult=0,r=0),r}return 0}function d(e,t=!1){let r=e?.featureExpressionInfo;const n=r?.expression;return t||\"0\"===n||(r=null),r??null}const f={cachedResult:0};function p(e){return null!=e.cachedResult}function m(e){return\"0\"===e?0:null}export{o as clone,a as createContext,u as createContextWithoutExpressionSupport,s as createFeature,i as execute,d as extractExpressionInfo,l as setContextFeature,f as zeroContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnit as t,supportsUnit as e}from\"../../../../symbols/support/unitConversionUtils.js\";import{execute as n,clone as s,setContextFeature as i,createFeature as r}from\"./featureExpressionInfoUtils.js\";class o{constructor(){this._meterUnitOffset=0,this._renderUnitOffset=0,this._unit=\"meters\",this._metersPerElevationInfoUnit=1,this._featureExpressionInfoContext=null,this.centerPointInElevationSR=null,this.mode=null}get featureExpressionInfoContext(){return this._featureExpressionInfoContext}get meterUnitOffset(){return this._meterUnitOffset}get unit(){return this._unit}set unit(e){this._unit=e,this._metersPerElevationInfoUnit=t(e)}get requiresSampledElevationInfo(){return\"absolute-height\"!==this.mode}reset(){this.mode=null,this._meterUnitOffset=0,this._renderUnitOffset=0,this._featureExpressionInfoContext=null,this.unit=\"meters\"}set offsetMeters(t){this._meterUnitOffset=t,this._renderUnitOffset=0}set offsetElevationInfoUnits(t){this._meterUnitOffset=t*this._metersPerElevationInfoUnit,this._renderUnitOffset=0}addOffsetRenderUnits(t){this._renderUnitOffset+=t}geometryZWithOffset(t,e){const n=this.calculateOffsetRenderUnits(e);return null!=this.featureExpressionInfoContext?n:t+n}calculateOffsetRenderUnits(t){let e=this._meterUnitOffset;const s=this.featureExpressionInfoContext;return null!=s&&(e+=n(s)*this._metersPerElevationInfoUnit),e/t.unitInMeters+this._renderUnitOffset}setFromElevationInfo(t){this.mode=t.mode,this.unit=e(t.unit)?t.unit:\"meters\",this.offsetElevationInfoUnits=t.offset??0}updateFeatureExpressionInfoContext(t,e,n){if(null==t)return void(this._featureExpressionInfoContext=null);const o=t?.arcade;o&&null!=e&&null!=n?(this._featureExpressionInfoContext=s(t),i(this._featureExpressionInfoContext,r(o.modules,e,n))):this._featureExpressionInfoContext=t}static fromElevationInfo(t){const e=new o;return null!=t&&e.setFromElevationInfo(t),e}}export{o as ElevationContext};\n"],"names":["e","a","t","C","n","r","l","i","o","s","M","j","y","p","x","V","S","v","O","w","T","f","b","I","h","m","u","_","B","U","c","d","g","l$2","$","tt","q","k","E","Z","L","H","N","J","K","Q","z","D","A","st","ot","R","P","X","et","G","F","rt","Y","W","it","a$2","p$2","RibbonLine_glsl","te","ee","ne","de","Ee","_e","Ae","Re","ge","re","ie","oe","le","se","he","ce","pe","fe","ae","ue","me","Te"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]}