{"version":3,"file":"queryAttachments-Le2E4ln1.js","sources":["../../node_modules/@arcgis/core/rest/query/operations/queryAttachments.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{addTokenParameter as t}from\"../../../kernel.js\";import o from\"../../../request.js\";import{addProxy as e}from\"../../../core/urlUtils.js\";import{mapParameters as r}from\"../../operations/urlUtils.js\";import n from\"../support/AttachmentInfo.js\";function s(t){const o=t.toJSON();return o.attachmentTypes&&(o.attachmentTypes=o.attachmentTypes.join(\",\")),o.keywords&&(o.keywords=o.keywords.join(\",\")),o.globalIds&&(o.globalIds=o.globalIds.join(\",\")),o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.size&&(o.size=o.size.join(\",\")),o.orderByFields&&(o.orderByFields=o.orderByFields.join(\",\")),o}function a(o,r){const s={};for(const a of r){const{parentObjectId:r,parentGlobalId:c,attachmentInfos:i}=a;for(const a of i){const{id:i}=a,d=e(t(`${o.path}/${r}/attachments/${i}`)),m=n.fromJSON(a);m.set({url:d,parentObjectId:r,parentGlobalId:c}),s[r]?s[r].push(m):s[r]=[m]}}return s}function c(t,e,n){let a={query:r({...t.query,f:\"json\",...s(e)})};return n&&(a={...n,...a,query:{...n.query,...a.query}}),o(t.path+\"/queryAttachments\",a).then((t=>t.data.attachmentGroups))}async function i(t,e,r){const{objectIds:n}=e,s=[];for(const a of n)s.push(o(t.path+\"/\"+a+\"/attachments\",r));return Promise.all(s).then((t=>n.map(((o,e)=>({parentObjectId:o,attachmentInfos:t[e].data.attachmentInfos})))))}export{c as executeAttachmentQuery,i as fetchAttachments,a as processAttachmentQueryResult};\n"],"names":["s","t","o","a","r","c","i","d","e","m","n"],"mappings":";;;AAIwP,SAASA,EAAEC,GAAE;AAAC,QAAMC,IAAED,EAAE;AAAS,SAAOC,EAAE,oBAAkBA,EAAE,kBAAgBA,EAAE,gBAAgB,KAAK,GAAG,IAAGA,EAAE,aAAWA,EAAE,WAASA,EAAE,SAAS,KAAK,GAAG,IAAGA,EAAE,cAAYA,EAAE,YAAUA,EAAE,UAAU,KAAK,GAAG,IAAGA,EAAE,cAAYA,EAAE,YAAUA,EAAE,UAAU,KAAK,GAAG,IAAGA,EAAE,SAAOA,EAAE,OAAKA,EAAE,KAAK,KAAK,GAAG,IAAGA,EAAE,kBAAgBA,EAAE,gBAAcA,EAAE,cAAc,KAAK,GAAG,IAAGA;AAAC;AAAC,SAASC,EAAED,GAAEE,GAAE;AAAC,QAAMJ,IAAE,CAAA;AAAG,aAAU,KAAKI,GAAE;AAAC,UAAK,EAAC,gBAAeA,GAAE,gBAAeC,GAAE,iBAAgBC,EAAC,IAAE;AAAE,eAAUH,KAAKG,GAAE;AAAC,YAAK,EAAC,IAAGA,EAAC,IAAEH,GAAEI,IAAEC,EAAEP,EAAE,GAAGC,EAAE,IAAI,IAAIE,CAAC,gBAAgBE,CAAC,EAAE,CAAC,GAAEG,IAAEC,EAAE,SAASP,CAAC;AAAE,MAAAM,EAAE,IAAI,EAAC,KAAIF,GAAE,gBAAeH,GAAE,gBAAeC,EAAC,CAAC,GAAEL,EAAEI,CAAC,IAAEJ,EAAEI,CAAC,EAAE,KAAKK,CAAC,IAAET,EAAEI,CAAC,IAAE,CAACK,CAAC;AAAA,IAAC;AAAA,EAAC;AAAC,SAAOT;AAAC;AAAC,SAASK,EAAEJ,GAAEO,GAAEE,GAAE;AAAC,MAAI,IAAE,EAAC,OAAMN,EAAE,EAAC,GAAGH,EAAE,OAAM,GAAE,QAAO,GAAGD,EAAEQ,CAAC,EAAC,CAAC,EAAC;AAAE,SAAOE,MAAI,IAAE,EAAC,GAAGA,GAAE,GAAG,GAAE,OAAM,EAAC,GAAGA,EAAE,OAAM,GAAG,EAAE,MAAK,EAAC,IAAGR,EAAED,EAAE,OAAK,qBAAoB,CAAC,EAAE,KAAM,CAAAA,MAAGA,EAAE,KAAK,gBAAgB;AAAE;AAAC,eAAeK,EAAEL,GAAEO,GAAEJ,GAAE;AAAC,QAAK,EAAC,WAAUM,EAAC,IAAEF,GAAER,IAAE;AAAG,aAAUG,KAAKO,EAAE,CAAAV,EAAE,KAAKE,EAAED,EAAE,OAAK,MAAIE,IAAE,gBAAeC,CAAC,CAAC;AAAE,SAAO,QAAQ,IAAIJ,CAAC,EAAE,KAAM,CAAAC,MAAGS,EAAE,IAAK,CAACR,GAAEM,OAAK,EAAC,gBAAeN,GAAE,iBAAgBD,EAAEO,CAAC,EAAE,KAAK,gBAAe,EAAE,CAAE;AAAE;","x_google_ignoreList":[0]}