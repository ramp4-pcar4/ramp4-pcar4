{"version":3,"file":"visualVariableUtils-DrW_hKbO.js","sources":["../../node_modules/@arcgis/core/renderers/visualVariables/support/sizeVariableUtils.js","../../node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction n(n){return n&&\"esri.renderers.visualVariables.SizeVariable\"===n.declaredClass}function e(n){return null!=n&&!isNaN(n)&&isFinite(n)}function i(n){return n.valueExpression?\"expression\":n.field&&\"string\"==typeof n.field?\"field\":\"unknown\"}function l(n,e){const l=e||i(n),a=n.valueUnit||\"unknown\";return\"unknown\"===l?\"constant\":n.stops?\"stops\":null!=n.minSize&&null!=n.maxSize&&null!=n.minDataValue&&null!=n.maxDataValue?\"clamped-linear\":\"unknown\"===a?null!=n.minSize&&null!=n.minDataValue?n.minSize&&n.minDataValue?\"proportional\":\"additive\":\"identity\":\"real-world-size\"}export{i as getInputValueType,l as getTransformationType,n as isSizeVariable,e as isValidNumber};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import n from\"../../../Graphic.js\";import{neverReached as i}from\"../../../core/compilerUtils.js\";import t from\"../../../core/Logger.js\";import{meterIn as a}from\"../../support/lengthUtils.js\";import{isValidNumber as r,isSizeVariable as l}from\"./sizeVariableUtils.js\";const s=()=>t.getLogger(\"esri.renderers.visualVariables.support.visualVariableUtils\"),o=e=>s().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),c=()=>s().error(\"Use of arcade expressions requires an arcade context\"),u=new n,f=Math.PI,p=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i;function d(n,i,t){const a=\"visualVariables\"in n?n.visualVariables?.find(e=>\"color\"===e.type):n;if(!a)return;if(\"esri.renderers.visualVariables.ColorVariable\"!==a.declaredClass)return void o(\"ColorVariable\");const l=\"number\"==typeof i,s=l?null:i,u=s?.attributes;let f=l?i:null;const p=a.field,{ipData:d,hasExpression:v}=a.cache;let m=a.cache.compiledFunc;if(!p&&!v){const e=a.stops;return e&&e[0]&&e[0].color}if(\"number\"!=typeof f)if(v){if(null==t?.arcade)return void c();const e={viewingMode:t.viewingMode,scale:t.scale,spatialReference:t.spatialReference},n=t.arcade.arcadeUtils,i=n.getViewInfo(e),r=n.createExecContext(s,i,t.timeZone);if(!m){const e=n.createSyntaxTree(a.valueExpression);m=n.createFunction(e),a.cache.compiledFunc=m}f=n.executeFunction(m,r)}else u&&(f=u[p]);const h=a.normalizationField,b=null!=u&&null!=h?parseFloat(u[h]):void 0;if(null!=f&&(!h||l||!isNaN(b)&&0!==b)){r(b)&&!l&&(f/=b);const n=R(f,d);if(n){const i=n[0],r=n[1],l=i===r?a.stops[i].color:e.blendColors(a.stops[i].color,a.stops[r].color,n[2],null!=t?t.color:void 0);return new e(l)}}}function v(e,n,i){const t=\"visualVariables\"in e?e.visualVariables?.find(e=>\"opacity\"===e.type):e;if(!t)return;if(\"esri.renderers.visualVariables.OpacityVariable\"!==t.declaredClass)return void o(\"OpacityVariable\");const a=\"number\"==typeof n,l=a?null:n,s=l?.attributes;let u=a?n:null;const f=t.field,{ipData:p,hasExpression:d}=t.cache;let v=t.cache.compiledFunc;if(!f&&!d){const e=t.stops;return e&&e[0]&&e[0].opacity}if(\"number\"!=typeof u)if(d){if(null==i?.arcade)return void c();const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},n=i.arcade.arcadeUtils,a=n.getViewInfo(e),r=n.createExecContext(l,a,i.timeZone);if(!v){const e=n.createSyntaxTree(t.valueExpression);v=n.createFunction(e),t.cache.compiledFunc=v}u=n.executeFunction(v,r)}else s&&(u=s[f]);const m=t.normalizationField,h=null!=s&&null!=m?parseFloat(s[m]):void 0;if(null!=u&&(!m||a||!isNaN(h)&&0!==h)){r(h)&&!a&&(u/=h);const e=R(u,p);if(e){const n=e[0],i=e[1];if(n===i)return t.stops[n].opacity;{const a=t.stops[n].opacity;return a+(t.stops[i].opacity-a)*e[2]}}}}function m(e,n,i){const t=\"visualVariables\"in e?e.visualVariables?.find(e=>\"rotation\"===e.type):e;if(!t)return;if(\"esri.renderers.visualVariables.RotationVariable\"!==t.declaredClass)return void o(\"RotationVariable\");const a=t.axis||\"heading\",r=\"heading\"===a&&\"arithmetic\"===t.rotationType?90:0,l=\"heading\"===a&&\"arithmetic\"===t.rotationType?-1:1,s=\"number\"==typeof n?null:n,u=s?.attributes,f=t.field,{hasExpression:p}=t.cache;let d=t.cache.compiledFunc,v=null;if(!f&&!p)return v;if(p){if(null==i?.arcade)return void c();const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},n=i.arcade.arcadeUtils,a=n.getViewInfo(e),r=n.createExecContext(s,a,i.timeZone);if(!d){const e=n.createSyntaxTree(t.valueExpression);d=n.createFunction(e),t.cache.compiledFunc=d}v=n.executeFunction(d,r)}else u&&(v=u[f]);return v=\"number\"!=typeof v||isNaN(v)?null:r+l*v,v}function h(e,n,i){const t=\"number\"==typeof n,a=t?null:n,l=a?.attributes;let s=t?n:null;const{isScaleDriven:o}=e.cache;let u=e.cache.compiledFunc;if(o){const n=null!=i?i.scale:void 0,t=null!=i?i.view:void 0;s=null==n||\"3d\"===t?b(e):n}else if(!t)switch(e.inputValueType){case\"expression\":{if(null==i?.arcade)return void c();const n={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},t=i.arcade.arcadeUtils,r=t.getViewInfo(n),l=t.createExecContext(a,r,i.timeZone);if(!u){const n=t.createSyntaxTree(e.valueExpression);u=t.createFunction(n),e.cache.compiledFunc=u}s=t.executeFunction(u,l);break}case\"field\":l&&(s=l[e.field]);break;case\"unknown\":s=null}if(!r(s))return null;if(t||!e.normalizationField)return s;const f=l?parseFloat(l[e.normalizationField]):null;return r(f)&&0!==f?s/f:null}function b(e){let n=null,i=null;const t=e.stops;return t?(n=t[0].value,i=t[t.length-1].value):(n=e.minDataValue||0,i=e.maxDataValue||0),(n+i)/2}function V(e,n,i){const t=\"visualVariables\"in e?e.visualVariables?.find(e=>\"size\"===e.type):e;if(!t)return;if(\"esri.renderers.visualVariables.SizeVariable\"!==t.declaredClass)return void o(\"SizeVariable\");const a=k(h(t,n,i),t,n,i,t.cache.ipData);return null==a||isNaN(a)?void 0:a}function x(e,n,i){return null==e?null:l(e)?V(e,n,i):r(e)?e:null}function y(e,n,i){return r(i)&&e>i?i:r(n)&&e<n?n:e}function w(e,n,i,t){const a=x(n.minSize,i,t)||n.minDataValue;return null==e&&null==a?null:(e??0)+(a??0)}function g(e,n,i){const t=e.stops;let a=t?.length&&t[0].size;return null==a&&(a=e.minSize),x(a,n,i)}function z(e,n,i,t){const a=x(n.minSize,i,t);if(null==e)return a;const{minDataValue:r,maxDataValue:l}=n;if(null==r||null==l)return null;const s=(e-r)/(l-r),o=x(n.maxSize,i,t),c=null!=t?t.shape:void 0;if(e<=r)return a;if(e>=l)return o;if(null==a||null==o)return null;if(\"area\"===n.scaleBy&&c){const e=\"circle\"===c,n=e?f*(a/2)**2:a*a,i=n+s*((e?f*(o/2)**2:o*o)-n);return e?2*Math.sqrt(i/f):Math.sqrt(i)}return a+s*(o-a)}function F(e,n,i,t){const a=x(n.minSize,i,t);if(null==e||null==a)return a;const r=null!=t?t.shape:void 0,{minDataValue:l}=n;if(null==l)return null;const s=e/l,o=x(n.maxSize,i,t);let c=null;return c=\"circle\"===r?2*Math.sqrt(s*(a/2)**2):\"square\"===r||\"diamond\"===r||\"image\"===r?Math.sqrt(s*a**2):s*a,y(c,a,o)}function S(e,n,i,t,a){if(null==e)return null;const[r,l,s]=R(e,a);if(r===l)return x(n.stops?.[r].size,i,t);{const e=x(n.stops?.[r].size,i,t),a=x(n.stops?.[l].size,i,t);return null==e||null==a?null:e+(a-e)*s}}function E(e,n,i,t){const r=(t?.resolution??1)*a[n.valueUnit],l=x(n.minSize,i,t),s=x(n.maxSize,i,t),{valueRepresentation:o}=n;if(null==e)return l;let c=null;return c=\"area\"===o?2*Math.sqrt(e/f)/r:\"radius\"===o||\"distance\"===o?2*e/r:e/r,y(c,l,s)}function M(e){return e}function k(e,n,i,t,a){switch(n.transformationType){case\"additive\":return w(e,n,i,t);case\"constant\":return g(n,i,t);case\"clamped-linear\":return z(e,n,i,t);case\"proportional\":return F(e,n,i,t);case\"stops\":return S(e,n,i,t,a);case\"real-world-size\":return E(e,n,i,t);case\"identity\":return M(e);case\"unknown\":return null}}function C(e,n,i){const{isScaleDriven:t}=e.cache;if(!(t&&\"3d\"===i||n))return null;const a={scale:n,view:i};let r=x(e.minSize,u,a),l=x(e.maxSize,u,a);if(null!=r||null!=l){if(r>l){const e=l;l=r,r=e}return{minSize:r,maxSize:l}}}function D(e,n,i){if(!e.visualVariables)return;const t=[],a=[],r=[],l=[],s=[];for(const o of e.visualVariables)switch(o.type){case\"color\":a.push(o);break;case\"opacity\":r.push(o);break;case\"rotation\":s.push(o);break;case\"size\":l.push(o)}return a.forEach(e=>{const a=d(e,n,i);t.push({variable:e,value:a})}),r.forEach(e=>{const a=v(e,n,i);t.push({variable:e,value:a})}),s.forEach(e=>{const a=m(e,n,i);t.push({variable:e,value:a})}),l.forEach(e=>{const a=V(e,n,i);t.push({variable:e,value:a})}),t}function R(e,n){if(!n)return;let i=0,t=n.length-1;return n.some((n,a)=>e<n?(t=a,!0):(i=a,!1)),[i,t,(e-n[i])/(n[t]-n[i])]}function U(e,n,t){const a=[\"proportional\",\"proportional\",\"proportional\"];for(const r of e){const e=r.useSymbolValue?\"symbol-value\":V(r,n,t)??\"proportional\";switch(r.axis){case\"width\":a[0]=e;break;case\"depth\":a[1]=e;break;case\"height\":a[2]=e;break;case\"width-and-depth\":a[0]=e,a[1]=e;break;case\"all\":case void 0:case null:a[0]=e,a[1]=e,a[2]=e;break;default:i(r.axis)}}return a}export{U as getAllSizes,d as getColor,v as getOpacity,m as getRotationAngle,V as getSize,k as getSizeForValue,x as getSizeFromNumberOrVariable,C as getSizeRangeAtScale,D as getVisualVariableValues,p as viewScaleRE};\n"],"names":["n","e","i","l","a","s","t","o","c","u","f","p","d","m","r","h","b","R","v","V","k","x","y","w","g","z","F","S","E","C","D","U"],"mappings":"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","x_google_ignoreList":[0,1]}