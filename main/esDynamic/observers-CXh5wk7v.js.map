{"version":3,"file":"observers-CXh5wk7v.js","sources":["../../node_modules/@esri/calcite-components/dist/chunks/observers.js"],"sourcesContent":["/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { isServer } from \"lit\";\nfunction createObserver(type, callback, options) {\n  if (isServer) {\n    return void 0;\n  }\n  const Observer = getObserver(type);\n  return new Observer(callback, options);\n}\nfunction getObserver(type) {\n  class ExtendedMutationObserver extends window.MutationObserver {\n    constructor(callback) {\n      super(callback);\n      this.observedEntry = [];\n      this.callback = callback;\n    }\n    observe(target, options) {\n      this.observedEntry.push({ target, options });\n      return super.observe(target, options);\n    }\n    unobserve(target) {\n      const newObservedEntries = this.observedEntry.filter((observed) => observed.target !== target);\n      this.observedEntry = [];\n      this.callback(super.takeRecords(), this);\n      this.disconnect();\n      newObservedEntries.forEach((observed) => this.observe(observed.target, observed.options));\n    }\n  }\n  return function() {\n    return type === \"intersection\" ? window.IntersectionObserver : type === \"mutation\" ? ExtendedMutationObserver : window.ResizeObserver;\n  }();\n}\nfunction updateRefObserver(observer, oldTarget, target, options) {\n  if (!observer) {\n    return;\n  }\n  if (oldTarget) {\n    observer.unobserve(oldTarget);\n  }\n  if (!target) {\n    return;\n  }\n  if (observer instanceof MutationObserver) {\n    observer.observe(target, options);\n    return;\n  }\n  observer.observe(target);\n}\nexport {\n  createObserver as c,\n  updateRefObserver as u\n};\n"],"names":["createObserver","type","callback","options","Observer","getObserver","ExtendedMutationObserver","target","newObservedEntries","observed","updateRefObserver","observer","oldTarget"],"mappings":";AAIA,SAASA,EAAeC,GAAMC,GAAUC,GAAS;AAI/C,QAAMC,IAAWC,EAAYJ,CAAI;AACjC,SAAO,IAAIG,EAASF,GAAUC,CAAO;AACvC;AACA,SAASE,EAAYJ,GAAM;AAAA,EACzB,MAAMK,UAAiC,OAAO,iBAAiB;AAAA,IAC7D,YAAYJ,GAAU;AACpB,YAAMA,CAAQ,GACd,KAAK,gBAAgB,CAAA,GACrB,KAAK,WAAWA;AAAA,IAClB;AAAA,IACA,QAAQK,GAAQJ,GAAS;AACvB,kBAAK,cAAc,KAAK,EAAE,QAAAI,GAAQ,SAAAJ,EAAO,CAAE,GACpC,MAAM,QAAQI,GAAQJ,CAAO;AAAA,IACtC;AAAA,IACA,UAAUI,GAAQ;AAChB,YAAMC,IAAqB,KAAK,cAAc,OAAO,CAACC,MAAaA,EAAS,WAAWF,CAAM;AAC7F,WAAK,gBAAgB,CAAA,GACrB,KAAK,SAAS,MAAM,YAAW,GAAI,IAAI,GACvC,KAAK,WAAU,GACfC,EAAmB,QAAQ,CAACC,MAAa,KAAK,QAAQA,EAAS,QAAQA,EAAS,OAAO,CAAC;AAAA,IAC1F;AAAA,EACJ;AACE,SAAO,WAAW;AAChB,WAAOR,MAAS,iBAAiB,OAAO,uBAAuBA,MAAS,aAAaK,IAA2B,OAAO;AAAA,EACzH,EAAC;AACH;AACA,SAASI,EAAkBC,GAAUC,GAAWL,GAAQJ,GAAS;AAC/D,MAAKQ,MAGDC,KACFD,EAAS,UAAUC,CAAS,GAE1B,EAACL,IAGL;AAAA,QAAII,aAAoB,kBAAkB;AACxC,MAAAA,EAAS,QAAQJ,GAAQJ,CAAO;AAChC;AAAA,IACF;AACA,IAAAQ,EAAS,QAAQJ,CAAM;AAAA;AACzB;","x_google_ignoreList":[0]}