import{a9 as P,j1 as J,j2 as nn,bI as y,bL as re,j3 as _n,cX as Sn,aj as Pn,gO as ie,aq as ae,j4 as ue,at as oe,au as ce,fv as fe,fw as Ce,af as Ee,dx as Re,dz as _e,hm as Se,ah as Wn,j5 as N,bH as gn,d2 as Pe,O as he,d3 as Ae,f as pe,j6 as Me,dR as Oe,a2 as Fn,d4 as de,J as hn,c_ as L,fu as wn,bZ as Ne,bY as Le,am as Ge,al as Ie,cx as me,s as We,g as yn}from"./main-CnDVnExo.js";const ge=Math.PI/180,Fe=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,G=P.radius,h=P.eccentricitySquared,we={a1:G*h,a2:G*h*G*h,a3:G*h*h/2,a4:G*h*G*h*2.5,a5:G*h+G*h*h/2,a6:1-h},ye={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:P.radius,f:P.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:nn.radius,f:nn.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:J.radius,f:J.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:J.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var s;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(s||(s={}));const Tn={[s.WGS84]:{[s.CGCS2000]:C,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:C,[s.SPHERICAL_ECEF]:Y,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:T,[s.PLATE_CARREE]:H,[s.WGS84]:C,[s.WGS84_ECEF]:v},[s.CGCS2000]:{[s.CGCS2000]:C,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:C,[s.SPHERICAL_ECEF]:Y,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:T,[s.PLATE_CARREE]:H,[s.WGS84]:C,[s.WGS84_ECEF]:v},[s.GCSMARS2000]:{[s.CGCS2000]:null,[s.GCSMARS2000]:C,[s.GCSMOON2000]:null,[s.LON_LAT]:C,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:xn,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.GCSMOON2000]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:C,[s.LON_LAT]:C,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:vn,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.WEB_MERCATOR]:{[s.CGCS2000]:X,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:X,[s.SPHERICAL_ECEF]:Te,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:C,[s.PLATE_CARREE]:je,[s.WGS84]:X,[s.WGS84_ECEF]:He},[s.WGS84_ECEF]:{[s.CGCS2000]:x,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:x,[s.SPHERICAL_ECEF]:qe,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:Ze,[s.PLATE_CARREE]:ke,[s.WGS84]:x,[s.WGS84_ECEF]:C},[s.SPHERICAL_ECEF]:{[s.CGCS2000]:k,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:k,[s.SPHERICAL_ECEF]:C,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:ze,[s.PLATE_CARREE]:ve,[s.WGS84]:k,[s.WGS84_ECEF]:Be},[s.SPHERICAL_MARS_PCPF]:{[s.CGCS2000]:null,[s.GCSMARS2000]:Un,[s.GCSMOON2000]:null,[s.LON_LAT]:Un,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:C,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.SPHERICAL_MOON_PCPF]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:Kn,[s.LON_LAT]:Kn,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:C,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.UNKNOWN]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:null,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:C,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.LON_LAT]:{[s.CGCS2000]:C,[s.GCSMARS2000]:C,[s.GCSMOON2000]:C,[s.LON_LAT]:C,[s.SPHERICAL_ECEF]:Y,[s.SPHERICAL_MARS_PCPF]:xn,[s.SPHERICAL_MOON_PCPF]:vn,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:T,[s.PLATE_CARREE]:H,[s.WGS84]:C,[s.WGS84_ECEF]:v},[s.PLATE_CARREE]:{[s.CGCS2000]:j,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:j,[s.SPHERICAL_ECEF]:xe,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:Ke,[s.PLATE_CARREE]:C,[s.WGS84]:j,[s.WGS84_ECEF]:Ue}};function An(e,t){return Hn(e,t)?.projector}function Hn(e,t){if(e==null||t==null)return null;if(O.source.spatialReference===e&&O.dest.spatialReference===t)return O;const n=jn(e,O.source),l=jn(t,O.dest);return n===s.UNKNOWN&&l===s.UNKNOWN?y(e,t)?O.projector=C:O.projector=null:O.projector=Tn[n][l],O}function jn(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=re(e,1)),_n(e)?t.spatialReferenceId=s.SPHERICAL_ECEF:Sn(e)?t.spatialReferenceId=s.WGS84:Pn(e)?t.spatialReferenceId=s.WEB_MERCATOR:ie(e)?t.spatialReferenceId=s.PLATE_CARREE:e.wkt===ae.wkt?t.spatialReferenceId=s.WGS84_ECEF:e.wkid===ue.CGCS2000?t.spatialReferenceId=s.CGCS2000:e.wkt===oe.wkt?t.spatialReferenceId=s.SPHERICAL_MARS_PCPF:e.wkt===ce.wkt?t.spatialReferenceId=s.SPHERICAL_MOON_PCPF:fe(e)?t.spatialReferenceId=s.GCSMARS2000:Ce(e)?t.spatialReferenceId=s.GCSMOON2000:t.spatialReferenceId=s.UNKNOWN):s.UNKNOWN}function C(e,t,n,l){e!==n&&(n[l++]=e[t++],n[l++]=e[t++],n[l]=e[t])}function X(e,t,n,l){n[l]=U*(e[t]/W),n[l+1]=U*(zn-2*Math.atan(Math.exp(-e[t+1]/W))),n[l+2]=e[t+2]}function Te(e,t,n,l){const r=e[t]/W,i=zn-2*Math.atan(Math.exp(-e[t+1]/W)),u=W+e[t+2],a=Math.cos(i)*u;n[l]=Math.cos(r)*a,n[l+1]=Math.sin(r)*a,n[l+2]=Math.sin(i)*u}function He(e,t,n,l){X(e,t,n,l),v(n,l,n,l)}function kn(e,t,n,l,r){const i=.4999999*Math.PI,u=Ee(K*e[t+1],-i,i),a=Math.sin(u);n[l++]=K*e[t]*r.radius,n[l++]=r.halfSemiMajorAxis*Math.log((1+a)/(1-a)),n[l]=e[t+2]}function T(e,t,n,l){kn(e,t,n,l,P)}function H(e,t,n,l){n[l]=e[t]*Bn,n[l+1]=e[t+1]*Bn,n[l+2]=e[t+2]}function j(e,t,n,l){n[l]=e[t]*bn,n[l+1]=e[t+1]*bn,n[l+2]=e[t+2]}function je(e,t,n,l){X(e,t,n,l),H(n,l,n,l)}function ke(e,t,n,l){x(e,t,n,l),H(n,l,n,l)}function ve(e,t,n,l){k(e,t,n,l),H(n,l,n,l)}function xe(e,t,n,l){j(e,t,n,l),Y(n,l,n,l)}function Ke(e,t,n,l){j(e,t,n,l),T(n,l,n,l)}function Ue(e,t,n,l){j(e,t,n,l),v(n,l,n,l)}function pn(e,t,n,l,r){const i=r+e[t+2],u=K*e[t+1],a=K*e[t],o=Math.cos(u)*i;n[l]=Math.cos(a)*o,n[l+1]=Math.sin(a)*o,n[l+2]=Math.sin(u)*i}function vn(e,t,n,l){pn(e,t,n,l,nn.radius)}function xn(e,t,n,l){pn(e,t,n,l,J.radius)}function Y(e,t,n,l){pn(e,t,n,l,P.radius)}function en(e,t,n,l,r){const i=e[t],u=e[t+1],a=e[t+2],o=Math.sqrt(i*i+u*u+a*a),f=Se(a/(o===0?1:o)),c=Math.atan2(u,i);n[l++]=U*c,n[l++]=U*f,n[l]=o-r}function Kn(e,t,n,l){en(e,t,n,l,nn.radius)}function Un(e,t,n,l){en(e,t,n,l,J.radius)}function k(e,t,n,l){en(e,t,n,l,P.radius)}function ze(e,t,n,l){k(e,t,n,l),T(n,l,n,l)}function Be(e,t,n,l){k(e,t,n,l),v(n,l,n,l)}function be(e,t,n,l,r){const i=K*e[t],u=K*e[t+1],a=e[t+2],o=Math.sin(u),f=Math.cos(u),c=r.radius/Math.sqrt(1-r.eccentricitySquared*o*o);n[l++]=(c+a)*f*Math.cos(i),n[l++]=(c+a)*f*Math.sin(i),n[l++]=(c*(1-r.eccentricitySquared)+a)*o}function v(e,t,n,l){be(e,t,n,l,P)}function x(e,t,n,l){const r=we,i=e[t],u=e[t+1],a=e[t+2];let o,f,c,R,E,p,M,S,d,D,on,cn,fn,g,F,Cn,En,Rn,w,In,mn;o=Math.abs(a),f=i*i+u*u,c=Math.sqrt(f),R=f+a*a,E=Math.sqrt(R),In=Math.atan2(u,i),p=a*a/R,M=f/R,g=r.a2/E,F=r.a3-r.a4/E,M>.3?(S=o/E*(1+M*(r.a1+g+p*F)/E),w=Math.asin(S),D=S*S,d=Math.sqrt(1-D)):(d=c/E*(1-p*(r.a5-g-M*F)/E),w=Math.acos(d),D=1-d*d,S=Math.sqrt(D)),on=1-P.eccentricitySquared*D,cn=P.radius/Math.sqrt(on),fn=r.a6*cn,g=c-cn*d,F=o-fn*S,En=d*g+S*F,Cn=d*F-S*g,Rn=Cn/(fn/on+En),w+=Rn,mn=En+Cn*Rn/2,a<0&&(w=-w),n[l++]=U*In,n[l++]=U*w,n[l]=mn}function qe(e,t,n,l){x(e,t,n,l),Y(n,l,n,l)}function Ze(e,t,n,l){x(e,t,n,l),T(n,l,n,l)}const O={source:{spatialReference:null,spatialReferenceId:s.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:s.UNKNOWN,metersPerUnit:1},projector:C},K=_e(1),U=Re(1),zn=.5*Math.PI,W=P.radius,Bn=W*Math.PI/180,bn=180/(W*Math.PI);function z(e,t,n,l,r,i,u=Math.floor(e.length/3)){const a=An(t,r);if(a==null)return!1;if(a===C){if(e===l&&n===i)return!0;const f=n+3*u;for(let c=n,R=i;c<f;c++,R++)l[R]=e[c];return!0}const o=n+3*u;for(let f=n,c=i;f<o;f+=3,c+=3)a(e,f,l,c);return!0}const De=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:z},Symbol.toStringTag,{value:"Module"}));function Mn(e,t,n,l,r,i){return tn[0]=e,tn[1]=t,tn[2]=n,z(tn,l,0,r,i,0)}const tn=Wn();let ln=0;class Z{static fromGE(t){const n=new Z;return n._wkt=t.wkt,n._wkid=t.wkid,n._isInverse=t.isInverse,n}constructor(t){this.uid=ln++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=ln++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=ln++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=ln++}getInverse(){const t=new Z;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}let sn=class ${static cacheKey(t,n){return[t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??"",n.wkid?.toString()??"-1",n.wkt?.toString()??"",n.wkt2?.toString()??""].join()}static fromGE(t){const n=new $;let l="";for(const r of t.steps){const i=Z.fromGE(r);n.steps.push(i),l+=i.uid.toString()+","}return n._cachedProjection={},n._gtlistentry=null,n._chain=l,n}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t?.steps)for(const n of t.steps)n instanceof Z?this.steps.push(n):this.steps.push(new Z({wkid:n.wkid,wkt:n.wkt,isInverse:n.isInverse}))}getInverse(){const t=new $;t.steps=[];for(let n=this.steps.length-1;n>=0;n--){const l=this.steps[n];t.steps.push(l.getInverse())}return t}getGTListEntry(){let t="";for(const n of this.steps)t+=n.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,n,l){this._cachedProjection[$.cacheKey(t,n)]=l}getCachedGeTransformation(t,n){let l="";for(const i of this.steps)l+=i.uid.toString()+",";l!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=l);const r=this._cachedProjection[$.cacheKey(t,n)];return r===void 0?null:r}};function qn(e,t,n){if(t==null||n==null||n.vcsWkid||y(t,n)||N(t)||N(n))return null;const l=gn(t)/gn(n);if(l===1)return null;switch(e){case"point":case"esriGeometryPoint":return r=>Je(r,l);case"polyline":case"esriGeometryPolyline":return r=>Ye(r,l);case"polygon":case"esriGeometryPolygon":return r=>Xe(r,l);case"multipoint":case"esriGeometryMultipoint":return r=>Qe(r,l);case"extent":case"esriGeometryEnvelope":return r=>Ve(r,l);default:return null}}function Je(e,t){e?.z!=null&&(e.z*=t)}function Xe(e,t){if(e)for(const n of e.rings)for(const l of n)l.length>2&&(l[2]*=t)}function Ye(e,t){if(e)for(const n of e.paths)for(const l of n)l.length>2&&(l[2]*=t)}function Qe(e,t){if(e)for(const n of e.points)n.length>2&&(n[2]*=t)}function Ve(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let A=null,I=null,Q=null,rn={};const On=new pe;function B(){return!!A&&de()}function Zn(){return!!B()||(yn(On),b(),!1)}function Dn(e,t){return!e||!t||m(e,t)||Zn()}function $e(e,t){return!m(e,t)&&!B()}function b(e){return Q==null&&(Q=Promise.all([Pe(),import("./geometryEngineBase-BcMV6k0z.js").then(t=>t.g),import("./hydrated-DdiRBwv4.js")])),Q.then(([,t,{hydratedAdapter:n}])=>{he(e),I=n,A=t.default,A._enableProjection(Ae),On.notify()})}function dn(e,t,n=null,l=null){return Array.isArray(e)?e.length===0?[]:(Me(e),an(I,e,e[0].spatialReference,t,n,l)):(Oe(e),an(I,[e],e.spatialReference,t,n,l)[0])}function an(e,t,n,l,r=null,i=null){if(n==null||l==null)return t;if(m(n,l,r))return t.map(u=>V(u,n,l));if(r==null&&_n(n))return t.map(u=>V(u,n,hn.WGS84)).map(u=>q(u,l));if(r==null&&_n(l))return t.map(u=>q(u,hn.WGS84)).map(u=>V(u,hn.WGS84,l));if(r==null){const u=sn.cacheKey(n,l);rn[u]!==void 0?r=rn[u]:((r=Ln(n,l,void 0))==null&&(r=new sn),rn[u]=r)}if(A==null||e==null)throw new un;return i!=null?A._project(e,t,n,l,r,i):A._project(e,t,n,l,r)}function Jn(e,t){const n=Nn([e],t);return n.pending!=null?{pending:n.pending,geometry:null}:n.geometries!=null?{pending:null,geometry:n.geometries[0]}:{pending:null,geometry:null}}function Nn(e,t){if(!B()){for(const n of e)if(n!=null&&!y(n.spatialReference,t)&&L(n.spatialReference)&&L(t)&&!m(n.spatialReference,t))return yn(On),{pending:b(),geometries:null}}return{pending:null,geometries:e.map(n=>n==null?null:y(n.spatialReference,t)?n:L(n.spatialReference)&&L(t)?q(n,t):null)}}function Ln(e,t,n=null){if(e==null||t==null)return null;if(A==null||I==null)throw new un;const l=A._getTransformation(I,e,t,n,n?.spatialReference);return l!==null?sn.fromGE(l):null}function nt(e,t,n=null){if(A==null||I==null)throw new un;const l=A._getTransformationBySuitability(I,e,t,n,n?.spatialReference);if(l!==null){const r=[];for(const i of l)r.push(sn.fromGE(i));return r}return[]}class un extends We{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function et(){A=null,I=null,Q=null,rn={}}const tt={get loadPromise(){return Q}};function q(e,t){try{const n=dn(e,t);return n==null?null:("xmin"in e&&"xmin"in n&&(n.zmin=e.zmin,n.zmax=e.zmax),qn(n.type,e.spatialReference,t)?.(n),n)}catch(n){if(!(n instanceof un))throw n;return null}}async function Xn(e,t,n){const l=e.spatialReference;return l!=null&&t!=null&&await Gn(l,t,null,n),q(e,t)}function m(e,t,n){return!n&&(!!y(e,t)||L(e)&&L(t)&&!!An(e,t))}function Yn(e,t){if(y(e,t))return!0;if(!L(e)||!L(t))return!1;const n=Sn(e)||Pn(e)||wn(e),l=Sn(t)||Pn(t)||wn(t);return n&&l}async function Gn(e,t,n,l){if(B())return Fn(l);if(Array.isArray(e)){for(const{source:r,dest:i,geographicTransformation:u}of e)if(r&&i&&!m(r,i,u))return b(l)}else if(e&&t&&!m(e,t,n))return b(l);return Fn(l)}function V(e,t,n){return e?"x"in e?Vn(e,t,new Ne,n,0):"xmin"in e?le(e,t,new Le,n,0):"rings"in e?te(e,t,new Ge,n,0):"paths"in e?ne(e,t,new Ie,n,0):"points"in e?$n(e,t,new me,n,0):null:null}function Qn(e,t,n=t.spatialReference,l=0){return n!=null&&e.spatialReference!=null&&Vn(e,e.spatialReference,t,n,l)!=null}function Vn(e,t,n,l,r){_[0]=e.x,_[1]=e.y;const i=e.z;return _[2]=i!==void 0?i:r,z(_,t,0,_,l,0)?(n.x=_[0],n.y=_[1],n.spatialReference=l,i!==void 0||N(l)?(n.z=_[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),e.m===void 0?(n.m=void 0,n.hasM=!1):(n.m=e.m,n.hasM=!0),n):null}function lt(e,t,n=t.spatialReference,l=0){return e.spatialReference!=null&&n!=null&&$n(e,e.spatialReference,t,n,l)!=null}function $n(e,t,n,l,r){const{points:i,hasZ:u,hasM:a}=e,o=[],f=i.length,c=[];for(const E of i)c.push(E[0],E[1],u?E[2]:r);if(!z(c,t,0,c,l,0,f))return null;const R=u||N(l);for(let E=0;E<f;++E){const p=3*E,M=c[p],S=c[p+1];R&&a?o.push([M,S,c[p+2],i[E][3]]):R?o.push([M,S,c[p+2]]):a?o.push([M,S,i[E][2]]):o.push([M,S])}return n.points=o,n.spatialReference=l,n.hasZ=u,n.hasM=a,n}function st(e,t,n=t.spatialReference,l=0){return e.spatialReference!=null&&n!=null&&ne(e,e.spatialReference,t,n,l)!=null}function ne(e,t,n,l,r){const{paths:i,hasZ:u,hasM:a}=e,o=[];if(!se(i,u??!1,a??!1,t,o,l,r))return null;const f=u||N(l);return n.paths=o,n.spatialReference=l,n.hasZ=f,n.hasM=a,n}function ee(e,t,n=t.spatialReference,l=0){return e.spatialReference!=null&&n!=null&&te(e,e.spatialReference,t,n,l)!=null}function te(e,t,n,l,r){const{rings:i,hasZ:u,hasM:a}=e,o=[];if(!se(i,u??!1,a??!1,t,o,l,r))return null;const f=u||N(l);return n.rings=o,n.spatialReference=l,n.hasZ=f,n.hasM=a,n}function rt(e,t,n=t.spatialReference,l=0){return e.spatialReference!=null&&n!=null&&le(e,e.spatialReference,t,n,l)!=null}function le(e,t,n,l,r){const{xmin:i,ymin:u,xmax:a,ymax:o,hasZ:f,hasM:c}=e,R=f?e.zmin:r;if(!Mn(i,u,R,t,_,l))return null;const E=f||N(l);n.xmin=_[0],n.ymin=_[1],E&&(n.zmin=_[2]);const p=f?e.zmax:r;return Mn(a,o,p,t,_,l)?(n.xmax=_[0],n.ymax=_[1],E&&(n.zmax=_[2]),c&&(n.mmin=e.mmin,n.mmax=e.mmax),n.spatialReference=l,n):null}function se(e,t,n,l,r,i,u=0){const a=new Array;for(const c of e)for(const R of c)a.push(R[0],R[1],t?R[2]:u);if(!z(a,l,0,a,i,0))return!1;let o=0;r.length=0;const f=t||N(i);for(const c of e){const R=new Array;for(const E of c)f&&n?R.push([a[o++],a[o++],a[o++],E[3]]):f?R.push([a[o++],a[o++],a[o++]]):n?(R.push([a[o++],a[o++],E[2]]),o++):(R.push([a[o++],a[o++]]),o++);r.push(R)}return!0}const _=Wn(),it=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:m,getTransformation:Ln,getTransformations:nt,initializeProjection:Gn,isEqualBaseGCS:Yn,isLoaded:B,isLoadedOrLoad:Zn,isLoadedOrLoadFor:Dn,load:b,project:dn,projectExtent:rt,projectMany:an,projectMultipoint:lt,projectOrLoad:Jn,projectOrLoadMany:Nn,projectPoint:Qn,projectPolygon:ee,projectPolyline:st,projectWithZConversion:Xn,projectWithoutEngine:V,requiresLoad:$e,test:tt,tryProjectWithZConversion:q,unload:et},Symbol.toStringTag,{value:"Module"}));export{V as $,Hn as F,An as G,q as I,Xn as J,b as K,m as L,s as N,dn as O,Gn as Q,Dn as U,an as V,Jn as X,Nn as Y,qn as a,Tn as b,Yn as c,ye as d,Mn as e,it as f,kn as h,ge as i,B as k,Qn as n,z as o,De as p,Ln as q,ee as s,Fe as t,en as v};
