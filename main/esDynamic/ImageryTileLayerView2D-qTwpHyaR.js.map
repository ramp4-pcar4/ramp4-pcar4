{"version":3,"file":"ImageryTileLayerView2D-qTwpHyaR.js","sources":["../../node_modules/@arcgis/core/views/2d/engine/imagery/RasterBitmap.js","../../node_modules/@arcgis/core/views/2d/engine/imagery/RasterTile.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/sampleBilinear.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/projection.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/BaseRasterColorizerShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/lut.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/RasterColorizerLUTShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/colorConversion.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/surface.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/RasterColorizerShadedReliefShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/stretch.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/RasterColorizerStretchShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/RasterColorizerTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/textureUtils.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/BaseRasterProcessorTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/BaseRasterProcessorShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/AspectShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/AspectTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/math.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/BandArithmeticShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/BandArithmeticTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/ColormapToRGBShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/ColormapToRGBTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/MultiRasterMixin.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/CompositeBandShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/CompositeBandTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/LocalShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/ComputeChangeShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/ComputeChangeTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/ContrastBrightnessShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/ContrastBrightnessTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/ConvolutionShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/ConvolutionTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/CurvatureShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/CurvatureTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/ExtractBandShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/ExtractBandTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/FocalStatisticsShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/FocalStatisticsTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/GrayscaleShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/GrayscaleTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/HillshadeShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/HillshadeTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/LocalTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/MaskShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/MaskTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/NDVIShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/NDVITechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/RemapShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/RemapTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/ReprojectShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/ReprojectTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/ShadedReliefShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/ShadedReliefTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/SlopeShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/SlopeTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/raster/processor/StretchShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/processor/StretchTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/raster/RasterProcessorTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/imagery/RasterTileContainer.js","../../node_modules/@arcgis/core/views/2d/layers/imagery/BaseImageryTileSubView2D.js","../../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryTileView2D.js","../../node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFTile.js","../../node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFTileContainer.js","../../node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldTileView2D.js","../../node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js","../../node_modules/@arcgis/core/views/2d/layers/ImageryTileLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t}from\"../../../../core/maybe.js\";import{identity as e,translate as s,rotate as r,scaleByVec2 as i,multiply as a}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as h}from\"../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{fromValues as o}from\"../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import{DisplayObject as u}from\"../DisplayObject.js\";import{TextureSamplingMode as n}from\"../../../webgl/enums.js\";import{createTransformTexture as l,createPixelMaskTexture as d,createRasterTexture as _,createColormapTexture as x}from\"../../../webgl/rasterUtils.js\";const m={bandCount:3,minOutput:0,maxOutput:1,minCutOff:[0,0,0],maxCutOff:[255,255,255],factor:[1/255,1/255,1/255],useGamma:!1,gamma:[1,1,1],gammaCorrection:[1,1,1],colormap:null,colormapOffset:null,stretchType:\"none\",type:\"stretch\"};class c extends u{constructor(t=null,e=null,s=null){super(),this._textureInvalidated=!0,this._colormapTextureInvalidated=!0,this._rasterTexture=null,this._maskTexture=null,this._rasterTextureBandIds=null,this._transformGridTexture=null,this._colormapTexture=null,this._colormap=null,this._supportsBilinearTexture=!0,this._processedTexture=null,this.functionTextures=[],this.projected=!1,this.stencilRef=0,this.coordScale=[1,1],this._processed=!1,this._symbolizerParameters=null,this.height=null,this.isRendereredSource=!1,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._mask=null,this.rawPixelData=null,this._suspended=!1,this._bandIds=null,this._interpolation=null,this._transformGrid=null,this.width=null,this.x=0,this.y=0,this.source=t,this.transformGrid=e,this.interpolation=s}destroy(){this._disposeTextures()}get processedTexture(){return this._processedTexture}set processedTexture(t){this._processedTexture!==t&&(this._disposeTextures(!0),this._processedTexture=t)}get rasterTexture(){return this._rasterTexture}set rasterTexture(t){this._rasterTexture!==t&&(this._rasterTexture?.dispose(),this._rasterTexture=t),null==t&&(this.projected=!1)}get processed(){return this._processed}set processed(e){this._processed=e,e||(this.processedTexture=t(this.processedTexture),this.invalidateTexture())}get symbolizerParameters(){return this._symbolizerParameters||m}set symbolizerParameters(t){this._symbolizerParameters!==t&&(this._symbolizerParameters=t,this._colormapTextureInvalidated=!0)}get source(){return this._source}set source(e){this._source!==e&&(this._source=e,this._rasterTexture&&(this._rasterTexture=t(this._rasterTexture),this._rasterTextureBandIds=null),this.projected=!1,this.invalidateTexture())}get mask(){return this._mask}set mask(e){this._mask!==e&&(this._mask=e,this._maskTexture=t(this._maskTexture))}get suspended(){return this._suspended}set suspended(t){this._suspended&&!t&&this.stage&&(this.ready(),this.requestRender()),this._suspended=t}get bandIds(){return this._bandIds}set bandIds(t){this._bandIds=t,this._isBandIdsChanged(t)&&(this.projected=!1,this.invalidateTexture())}get interpolation(){return this._interpolation||\"nearest\"}set interpolation(t){this._interpolation=t,this._rasterTexture&&this._rasterTexture.setSamplingMode(\"bilinear\"===this._getTextureSamplingMethod(t||\"nearest\")?n.LINEAR:n.NEAREST)}get transformGrid(){return this._transformGrid}set transformGrid(e){this._transformGrid!==e&&(this._transformGrid=e,this._transformGridTexture=t(this._transformGridTexture))}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRender())}getRasterTextureSize(t=!1){const e=t||this.projected;return[e?this.width:this.source?.width||this.width,e?this.height:this.source?.height||this.height]}getRasterCellSize(){const t=this.rawPixelData?.srcPixelSize,{projected:e,resolution:s}=this;return t&&!e?[t.x,t.y]:[s,s]}_createTransforms(){return{displayViewScreenMat3:h()}}setTransform(t){const h=e(this.transforms.displayViewScreenMat3),[u,n]=t.toScreenNoRotation([0,0],[this.x,this.y]),l=this.resolution/this.pixelRatio/t.resolution,d=l*this.width,_=l*this.height,x=Math.PI*this.rotation/180;s(h,h,o(u,n)),s(h,h,o(d/2,_/2)),r(h,h,-x),s(h,h,o(-d/2,-_/2)),i(h,h,o(d,_)),a(this.transforms.displayViewScreenMat3,t.displayViewMat3,h)}getTextures({forProcessing:t=!1,useProcessedTexture:e=!1}={}){const s=e?this._processedTexture??this._rasterTexture:this._rasterTexture,r=[],i=[];return s?(this._transformGridTexture&&!this.projected&&(i.push(this._transformGridTexture),r.push(\"u_transformGrid\")),i.push(s),r.push(\"u_image\"),!this._colormapTexture||!e&&t||(i.push(this._colormapTexture),r.push(\"u_colormap\")),this._maskTexture&&(i.push(this._maskTexture),r.push(\"u_mask\")),{names:r,textures:i}):{names:r,textures:i}}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}updateTexture({context:t}){if(!this.stage)return void this._disposeTextures();const e=this._isValidSource(this.source);e&&this._colormapTextureInvalidated&&(this._colormapTextureInvalidated=!1,this._updateColormapTexture(t)),this._textureInvalidated&&(this._textureInvalidated=!1,this._createOrDestroyRasterTexture(t),this._rasterTexture&&(e?(this.transformGrid&&!this._transformGridTexture&&(this._transformGridTexture=l(t,this.transformGrid)),this._mask&&!this._maskTexture&&(this._maskTexture=d(t,this._mask,[this.width,this.height]))):this._rasterTexture.setData(null)),this.suspended||(this.ready(),this.requestRender()))}updateProcessedTexture(){const{functionTextures:t}=this;0!==t.length&&(this.processedTexture=t.shift(),t.forEach((t=>t?.dispose())),t.length=0,this.processed=!!this.processedTexture)}_createOrDestroyRasterTexture(e){const s=this.source?.extractBands(this.bandIds);if(!this._isValidSource(s))return void(this._rasterTexture&&(this._rasterTexture=t(this._rasterTexture),this._rasterTextureBandIds=null));const r=!this._isBandIdsChanged(this.bandIds);if(this._rasterTexture){if(r)return;this._rasterTexture=t(this._rasterTexture),this._rasterTextureBandIds=null}this._supportsBilinearTexture=!!e.capabilities.textureFloatLinear;const i=this._getTextureSamplingMethod(this.interpolation),a=this.isRendereredSource;this._rasterTexture=_(e,s,i,a),this.projected=!1,this._processed=!1,this._rasterTextureBandIds=this.bandIds?[...this.bandIds]:null}_isBandIdsChanged(t){const e=this._rasterTextureBandIds;return!(null==e&&null==t||e&&t&&e.join(\"\")===t.join(\"\"))}_isValidSource(t){return null!=t&&t.pixels?.length>0}_getTextureSamplingMethod(t){const{type:e}=this.symbolizerParameters,s=\"lut\"===e&&!this.symbolizerParameters.isClassBreaks||\"hillshade\"===e||\"stretch\"===e&&1===this.symbolizerParameters.bandCount;return!this._supportsBilinearTexture||s||\"bilinear\"!==t&&\"cubic\"!==t?\"nearest\":\"bilinear\"}_updateColormapTexture(e){const s=this._colormap,r=this.symbolizerParameters.colormap;return r?s?r.length!==s.length||r.some(((t,e)=>t!==s[e]))?(this._colormapTexture&&(this._colormapTexture=t(this._colormapTexture)),this._colormapTexture=x(e,r),void(this._colormap=r)):void 0:(this._colormapTexture=x(e,r),void(this._colormap=r)):(this._colormapTexture&&(this._colormapTexture=t(this._colormapTexture)),void(this._colormap=null))}_disposeTextures(e=!1){e?this.projected&&(this._transformGridTexture=t(this._transformGridTexture)):(this._rasterTexture=t(this._rasterTexture),this._colormapTexture=t(this._colormapTexture),this._transformGridTexture=t(this._transformGridTexture),this._maskTexture=t(this._maskTexture),this._rasterTextureBandIds=null,this._colormap=null,this._colormapTextureInvalidated=!0),this._processedTexture=t(this._processedTexture)}}class p extends c{get source(){return this._source}}function T(t){return null!=t.source}export{c as RasterBitmap,p as RasterBitmapWithSource,T as hasSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{RasterBitmap as s}from\"./RasterBitmap.js\";import{TiledDisplayObject as e}from\"../webgl/TiledDisplayObject.js\";class i extends e{constructor(t,e,i,a,r,l,n=null){super(t,e,i,a,r,l),this.bitmap=null,this.bitmap=new s(n,null,null),this.bitmap.coordScale=[r,l],this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy(),this.bitmap=null,this.stage=null}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}setTransform(t){super.setTransform(t),this.bitmap.transforms.displayViewScreenMat3=this.transforms.displayViewScreenMat3}_createTransforms(){return{displayViewScreenMat3:t(),tileMat3:t()}}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap.stage=null}}export{i as RasterTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{floor as n,IVec2 as l,Int as t,texelFetch as e,fract as y,mix as d,Vec4 as w,texture2D as a}from\"../../../graph/glsl.js\";import{oneMinus as i}from\"../utils.js\";function m(m,p,r,u){const x=n(p.multiply(r)),o=new l(new t(x.x),new t(x.y)),s=new l(o.x.add(1),o.y),f=new l(o.x,o.y.add(1)),c=new l(o.x.add(1),o.y.add(1)),g=e(m,o,new t(0)),j=e(m,s,new t(0)),h=e(m,f,new t(0)),z=e(m,c,new t(0)),b=y(p.multiply(r)),k=d(g,j,b.x),q=d(h,z,b.x),v=d(k,q,b.y);if(!u)return v;const A=new w(g.a,j.a,h.a,z.a),B=A.xy.multiply(A.zw),C=n(B.x.multiply(B.y).add(.5)),D=v.multiply(C),E=i(C).multiply(a(m,p));return D.add(E)}export{m as sampleBilinear};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../../../chunks/tslib.es6.js\";import{uniform as r,UniformGroup as t}from\"../../../GraphShaderModule.js\";import{step as n,Vec2 as o,Bool as i,texture2D as s,floor as a,fract as m,IVec2 as u,int as p,Vec3 as c,ifElse as d,lessThanEqual as f,texelFetch as l,Int as w,dot as g,Sampler2D as x}from\"../../../graph/glsl.js\";import{sampleBicubicBSpline as y}from\"../bitmapUtils.js\";import{oneMinus as b}from\"../utils.js\";import{sampleBilinear as S}from\"./sampleBilinear.js\";class j extends t{}function v(e,r){const t=s(r.transformTexture,e);return new o(t.r,t.g)}function z(e,r){const{transformTexture:t,targetImageSize:n,transformSpacing:i}=r,s=a(e.multiply(n)),l=new o(4,1),w=a(s.divide(i)).multiply(l),g=m(s.add(new o(.5,.5)).divide(i)),x=new u(p(w.x),p(w.y)),y=new c(g,1);return d(f(g.x,g.y),h(t,x,y),I(t,x,y))}function h(e,r,t){const n=l(e,r,new w(0)),i=new u(r.x.add(1),r.y),s=l(e,i,new w(0));return new o(g(n.rgb,t),g(s.rgb,t))}function I(e,r,t){const n=new u(r.x.add(2),r.y),i=l(e,n,new w(0)),s=new u(r.x.add(3),r.y),a=l(e,s,new w(0));return new o(g(i.rgb,t),g(a.rgb,t))}function T(e){const r=n(new o(-1e-5,-1e-5),e).multiply(n(e,new o(1.00001,1.00001))),t=b(r.x.multiply(r.y));return new i(t)}function G(e,r,t=!1){return r?t?v(e,r):z(e,r):e}function k(e,r,t){const{bicubic:n=!1,bilinear:o=!1,nearestOnEdge:i=!1}=t??{};return n||o?n?y(r.texture,e,r.srcImageSize):S(r.texture,e,r.srcImageSize,i):s(r.texture,e)}e([r(x)],j.prototype,\"transformTexture\",void 0),e([r(o)],j.prototype,\"targetImageSize\",void 0),e([r(o)],j.prototype,\"transformSpacing\",void 0),e([r(o)],j.prototype,\"transformGridSize\",void 0);export{j as ProjectionConfig,k as getPixel,G as getPixelLocation,T as isOutside};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o,a as t}from\"../../../../../../../../chunks/tslib.es6.js\";import{GraphShaderModule as e,FragmentOutput as i,location as p,uniform as r,define as s,option as n,input as l,VertexInput as a,UniformGroup as c,FragmentInput as d}from\"../../../GraphShaderModule.js\";import{Vec3 as y,Vec4 as u,ifElse as v,texture2D as g,sign as h,Vec2 as x,Sampler2D as m,Mat3 as f,Float as b}from\"../../../graph/glsl.js\";import{getPixelLocation as j,isOutside as k,getPixel as P,ProjectionConfig as M}from\"./projection.js\";class w extends a{}o([p(0,x)],w.prototype,\"position\",void 0);class C extends d{}class _ extends c{}o([r(m)],_.prototype,\"texture\",void 0),o([r(f)],_.prototype,\"dvsMat3\",void 0),o([r(x)],_.prototype,\"coordScale\",void 0),o([r(x)],_.prototype,\"srcImageSize\",void 0),o([r(b)],_.prototype,\"opacity\",void 0);class E extends c{}o([r(m)],E.prototype,\"maskTexture\",void 0);class O extends e{constructor(){super(...arguments),this.applyProjection=!0,this.lookupProjection=!1,this.bilinear=!1,this.bicubic=!1,this.nearestOnEdge=!1,this.applyPixelMask=!1}vertex(o){const t=o.position,{dvsMat3:e,coordScale:i}=this.config,p=e.multiply(new y(t.multiply(i),1));return{uv:t,glPosition:new u(p,1)}}fragment(o){const t=new i,e=j(o.uv,this.applyProjection?this.projectionConfig:void 0,this.lookupProjection),p=v(k(e),new u(0,0,0,0),this._colorize(e));let r=p.a.multiply(this.config.opacity);if(this.applyPixelMask){const t=this._getPixelMask(o.uv);r=r.multiply(t)}return t.fragColor=new u(p.rgb,1).multiply(r),t}_getPixel(o){const{config:t,bicubic:e,bilinear:i,nearestOnEdge:p}=this;return P(o,t,{bicubic:e,bilinear:i,nearestOnEdge:p})}_getPixelMask(o){const{maskTexture:t}=this.pixelMaskConfig,e=g(t,o);return h(e.a)}}o([s],O.prototype,\"applyProjection\",void 0),o([s],O.prototype,\"lookupProjection\",void 0),o([s],O.prototype,\"bilinear\",void 0),o([s],O.prototype,\"bicubic\",void 0),o([s],O.prototype,\"nearestOnEdge\",void 0),o([s],O.prototype,\"applyPixelMask\",void 0),o([r(_)],O.prototype,\"config\",void 0),o([n(M)],O.prototype,\"projectionConfig\",void 0),o([n(E)],O.prototype,\"pixelMaskConfig\",void 0),o([t(0,l(w))],O.prototype,\"vertex\",null),o([t(0,l(C))],O.prototype,\"fragment\",null);export{O as BaseRasterColorizerShader,E as PixelMaskConfig,C as RasterColorizerFragmentInput,_ as RasterConfig};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../../../../../chunks/tslib.es6.js\";import{uniform as r,UniformGroup as t}from\"../../../GraphShaderModule.js\";import{clamp as e,Float as p,Vec2 as a,texture2D as l,Vec4 as m,step as s,Sampler2D as d}from\"../../../graph/glsl.js\";class i extends t{}function n(o,r,t,d=!0){const{colormapTexture:i,colormapOffset:n,colormapMaxIndex:c}=t,u=o.r.multiply(r).subtract(n),x=e(u,new p(0),c),f=new a(x.add(.5).divide(c.add(1)),0),y=l(i,f),h=new m(y.rgb,y.a.multiply(o.a));if(d)return h;const v=s(new p(0),u).multiply(s(u,t.colormapMaxIndex));return h.multiply(v)}o([r(d)],i.prototype,\"colormapTexture\",void 0),o([r(p)],i.prototype,\"colormapOffset\",void 0),o([r(p)],i.prototype,\"colormapMaxIndex\",void 0);export{i as ColormapConfig,n as lookupColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../../../../../chunks/tslib.es6.js\";import{uniform as o}from\"../../../GraphShaderModule.js\";import{Float as s}from\"../../../graph/glsl.js\";import{BaseRasterColorizerShader as t}from\"./BaseRasterColorizerShader.js\";import{lookupColor as e,ColormapConfig as i}from\"./lut.js\";class p extends t{constructor(){super(...arguments),this.type=\"RasterColorizerLUTShader\"}_colorize(r){const o=this._getPixel(r);return e(o,new s(1),this.colormapConfig,!1)}}r([o(i)],p.prototype,\"colormapConfig\",void 0);export{p as RasterColorizerLUTShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{Vec4 as x,ifElse as n,lessThan as t,min as w,Float as e,abs as y,Vec3 as d,fract as r,clamp as u,mix as i}from\"../../../graph/glsl.js\";function a(r){const u=new x(0,-1/3,2/3,-1),i=n(t(r.y,r.z),new x(r.zy,u.wz),new x(r.yz,u.xy)),a=n(t(r.x,i.x),new x(i.xyw,r.x),new x(r.x,i.yzx)),c=a.x.subtract(w(a.w,a.y)),l=new e(1e-10),s=a.w.subtract(a.y),z=c.multiply(6).add(l),o=y(s.divide(z).add(a.z)),p=a.x.add(l),m=w(c.divide(p),new e(1));return new d(o,m,a.x)}function c(n){const t=new x(1,2/3,1/3,3),w=y(r(n.xxx.add(t.xyz)).multiply(6).subtract(t.www)),e=u(w.subtract(t.xxx),new d(0,0,0),new d(1));return n.z.multiply(i(t.xxx,e,n.y))}export{c as hsv2rgb,a as rgb2hsv};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as n}from\"../../../../../../../../chunks/tslib.es6.js\";import{uniform as t,UniformGroup as e}from\"../../../GraphShaderModule.js\";import{Float as i,texture2D as o,Vec2 as s,Vec4 as r,FixedArray as d,sqrt as l,dot as p,Vec3 as w,abs as c,step as u}from\"../../../graph/glsl.js\";class a extends e{}function y(n){const t=c(n),e=u(t,new s(1,1)).multiply(t),o=new i(2).subtract(t),r=u(new i(1),t).multiply(o);return e.add(r)}function m(n,t,e){const l=new i(1).divide(e),p=o(n,y(l.multiply(new s(-1,-1)).add(t))),w=o(n,y(l.multiply(new s(0,-1)).add(t))),c=o(n,y(l.multiply(new s(1,-1)).add(t))),u=o(n,y(l.multiply(new s(-1,0)).add(t))),a=o(n,y(t)),m=o(n,y(l.multiply(new s(1,0)).add(t))),f=o(n,y(l.multiply(new s(-1,1)).add(t))),Z=o(n,y(l.multiply(new s(0,1)).add(t))),x=o(n,y(l.multiply(new s(1,1)).add(t))),z=new r(p.a,w.a,c.a,u.a),A=new r(m.a,f.a,Z.a,x.a),h=z.multiply(A),g=h.xy.multiply(h.zw),v=g.x.multiply(g.y).multiply(a.a),b=new d(new i(0),10);return b[0]=p.r,b[1]=w.r,b[2]=c.r,b[3]=u.r,b[4]=a.r,b[5]=m.r,b[6]=f.r,b[7]=Z.r,b[8]=x.r,b[9]=v,b}function f(n,t){const e=new r(n[5],n[3],n[7],n[1]).multiply(2),i=new w(n[2],e[0],n[8]),o=new w(n[0],e[1],n[6]),d=p(i.subtract(o),new w(1)),l=new w(n[6],e[2],n[8]),c=new w(n[0],e[3],n[2]),u=p(l.subtract(c),new w(1));return new s(d,u).multiply(t)}function Z(n,t,e){const{factor:o}=t,s=f(n,o),d=l(p(s,s).add(1)),c=n[9],{sinZsinAs:u,sinZcosAs:a,cosZs:y,weights:m}=t;if(!e){const n=x({sinZsinA:u[0],sinZcosA:a[0],cosZ:y[0],weights:new i(1),dzxy:s,dzd:d});return new r(n,n,n,c)}const Z=x({sinZsinA:new w(u[0],u[1],u[2]),sinZcosA:new w(a[0],a[1],a[2]),cosZ:new w(y[0],y[1],y[2]),weights:new w(m[0],m[1],m[2]),dzxy:s,dzd:d}),z=x({sinZsinA:new w(u[3],u[4],u[5]),sinZcosA:new w(a[3],a[5],a[5]),cosZ:new w(y[3],y[4],y[5]),weights:new w(m[3],m[4],m[5]),dzxy:s,dzd:d}),A=p(Z.add(z),new w(1));return new r(A,A,A,c)}function x(n){const t=n.sinZsinA.multiply(n.dzxy.y),e=n.sinZcosA.multiply(n.dzxy.x),o=t.subtract(e),s=n.cosZ.add(o).divide(n.dzd);return s.multiply(u(new i(0),s)).multiply(n.weights)}function z(n,t){const{pixelSizeFactor:e}=n,i=[n.factor[0]/t[0],n.factor[1]/t[1]];if(e>0){const{zFactor:o,pixelSizePower:s,gcsFactor:r}=n,d=t[0]*r,l=t[1]*r;i[0]=(o+d**s*e)/(8*d),i[1]=(o+l**s*e)/(8*l)}return i}n([t(d.ofType(i,6))],a.prototype,\"sinZcosAs\",void 0),n([t(d.ofType(i,6))],a.prototype,\"sinZsinAs\",void 0),n([t(d.ofType(i,6))],a.prototype,\"cosZs\",void 0),n([t(d.ofType(i,6))],a.prototype,\"weights\",void 0),n([t(i)],a.prototype,\"minValue\",void 0),n([t(i)],a.prototype,\"maxValue\",void 0),n([t(s)],a.prototype,\"factor\",void 0);export{a as HillshadeConfig,f as computeDeltaZ,z as computeZFactor,m as getSurfaceValues,Z as hillshade,y as mirror};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../../../../../chunks/tslib.es6.js\";import{define as i,uniform as r,option as t}from\"../../../GraphShaderModule.js\";import{Vec4 as e,clamp as s,Float as l,Vec3 as a}from\"../../../graph/glsl.js\";import{BaseRasterColorizerShader as p}from\"./BaseRasterColorizerShader.js\";import{rgb2hsv as n,hsv2rgb as h}from\"./colorConversion.js\";import{lookupColor as m,ColormapConfig as c}from\"./lut.js\";import{getSurfaceValues as d,hillshade as f,HillshadeConfig as u}from\"./surface.js\";class g extends p{constructor(){super(...arguments),this.type=\"RasterColorizerShadedReliefShader\",this.applyColormap=!1,this.isMultidirectional=!1}_colorize(o){const{texture:i}=this.config,r=d(i,o,this.config.srcImageSize),t=f(r,this.hillshadeConfig,this.isMultidirectional);if(!this.applyColormap)return new e(t.x,t.x,t.x,t.a);const{minValue:p,maxValue:c}=this.hillshadeConfig,u=this._getPixel(o),g=c.subtract(p),x=u.r.subtract(p),y=s(x.divide(g),new l(0),new l(1)),C=m(new e(y,y,y,1),new l(255),this.colormapConfig),j=n(C.xyz),w=h(new a(j.xy,t.x));return new e(w,C.a.multiply(t.a))}}o([i],g.prototype,\"applyColormap\",void 0),o([i],g.prototype,\"isMultidirectional\",void 0),o([r(u)],g.prototype,\"hillshadeConfig\",void 0),o([t(c)],g.prototype,\"colormapConfig\",void 0);export{g as RasterColorizerShadedReliefShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../../../../chunks/tslib.es6.js\";import{uniform as o,UniformGroup as i}from\"../../../GraphShaderModule.js\";import{Vec4 as r,clamp as u,step as m,Float as p,sign as a,Vec3 as e,pow as n}from\"../../../graph/glsl.js\";import{oneMinus as d}from\"../utils.js\";class f extends i{}function s(t,o){const{minCutOff:i,maxCutOff:r,factor:m,minOutput:p}=o;return u(t,i,r).subtract(i).multiply(m).add(p)}function l(t,o){const{minCutOff:i,maxCutOff:r,minOutput:f,maxOutput:s,gamma:l,gammaCorrection:c}=o,y=u(t,i,r).subtract(i),v=r.subtract(i),O=y.divide(v),b=m(new p(1),l),g=a(l.subtract(1)),C=s.subtract(f),x=new e(1),h=n(x.divide(C),O.multiply(c)),j=d(b.multiply(g).multiply(h)),w=n(O,x.divide(l)),k=j.multiply(C).multiply(w).add(f);return u(k,f,s)}function c(t,o,i,u=255){const m=i?l(t.rgb,o).divide(u):s(t.rgb,o);return new r(m,t.a)}t([o(p)],f.prototype,\"minOutput\",void 0),t([o(p)],f.prototype,\"maxOutput\",void 0),t([o(e)],f.prototype,\"minCutOff\",void 0),t([o(e)],f.prototype,\"maxCutOff\",void 0),t([o(e)],f.prototype,\"factor\",void 0),t([o(e)],f.prototype,\"gamma\",void 0),t([o(e)],f.prototype,\"gammaCorrection\",void 0);export{f as StretchConfig,c as stretch};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../../../../../chunks/tslib.es6.js\";import{define as t,uniform as r,option as s}from\"../../../GraphShaderModule.js\";import{Vec4 as i,Float as e}from\"../../../graph/glsl.js\";import{BaseRasterColorizerShader as p}from\"./BaseRasterColorizerShader.js\";import{lookupColor as a,ColormapConfig as m}from\"./lut.js\";import{stretch as h,StretchConfig as l}from\"./stretch.js\";class n extends p{constructor(){super(...arguments),this.type=\"RasterColorizerStretchShader\",this.isMultiband=!0,this.applyColormap=!1,this.useGamma=!1,this.noOp=!1}_colorize(o){const t=this._getPixel(o);if(this.noOp)return t;let r=h(t,this.stretchConfig,this.useGamma);if(this.isMultiband)return r;if(r=new i(r.rrr,r.a),this.applyColormap){const o=this.useGamma?255:1;r=a(r,new e(o),this.colormapConfig)}return r}}o([t],n.prototype,\"isMultiband\",void 0),o([t],n.prototype,\"applyColormap\",void 0),o([t],n.prototype,\"useGamma\",void 0),o([t],n.prototype,\"noOp\",void 0),o([r(l)],n.prototype,\"stretchConfig\",void 0),o([s(m)],n.prototype,\"colormapConfig\",void 0);export{n as RasterColorizerStretchShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{Technique as e}from\"../Technique.js\";import{RasterTechniqueType as t}from\"../TechniqueType.js\";import{RasterColorizerLUTShader as o}from\"../shaders/raster/RasterColorizerLUTShader.js\";import{RasterColorizerShadedReliefShader as i}from\"../shaders/raster/RasterColorizerShadedReliefShader.js\";import{RasterColorizerStretchShader as r}from\"../shaders/raster/RasterColorizerStretchShader.js\";import{StencilOperation as s,CompareFunction as n}from\"../../../../../../webgl/enums.js\";class a extends e{constructor(){super(...arguments),this.name=\"BrushRasterColorizer\",this.type=t.RasterColorizer,this.shaders={lut:new o,stretch:new r,shadedRelief:new i}}render(e,t){for(const o of t.bitmaps){if(!o.source||o.suspended)continue;e.timeline.begin(this.name);const{painter:t}=e;t.setPipelineState({depth:!1,stencil:{test:{mask:255,ref:o.stencilRef,compare:n.EQUAL,op:{fail:s.KEEP,zFail:s.KEEP,zPass:s.KEEP}},write:!1},color:{write:[!0,!0,!0,!0],blendMode:\"composite\"}}),o.updateTexture(e),o.processedTexture||o.updateProcessedTexture();const{type:i}=o.symbolizerParameters,r=\"stretch\"===i?this._getStretchOptions(o):\"lut\"===i?this._getLutOptions(o):this._getShadedReliefOptions(o);\"bilinear\"!==o.interpolation||e.context.capabilities.textureFloatLinear||(r.defines.bilinear=!0),t.submitDrawMesh(e.context,r,t.quadMesh),e.timeline.end(this.name)}}_getLutOptions(e){const{config:t,projectionConfig:o,colormapConfig:i,pixelMaskConfig:r,projectionDefines:s}=this._getCommonConfig(e),n=this._getInterpolationDefines(\"nearest\",!1);return{shader:this.shaders.lut,uniforms:{projectionConfig:o,config:t,colormapConfig:i,pixelMaskConfig:r},defines:{...s,...n,applyPixelMask:!!r},optionalAttributes:null,useComputeBuffer:!1}}_getStretchOptions(e){const t=e.symbolizerParameters,{config:o,projectionConfig:i,colormapConfig:r,pixelMaskConfig:s,projectionDefines:n}=this._getCommonConfig(e),a=this._getInterpolationDefines(e.interpolation,1===t.bandCount);return{shader:this.shaders.stretch,uniforms:{projectionConfig:i,config:o,stretchConfig:t,colormapConfig:r,pixelMaskConfig:s},defines:{...n,...a,isMultiband:t.bandCount>1,applyColormap:!!r,useGamma:t.useGamma,noOp:e.isRendereredSource&&!e.processed,applyPixelMask:!!s},optionalAttributes:null,useComputeBuffer:!1}}_getShadedReliefOptions(e){const t=e.symbolizerParameters,{config:o,projectionConfig:i,colormapConfig:r,pixelMaskConfig:s,projectionDefines:n}=this._getCommonConfig(e),a=this._getInterpolationDefines(e.interpolation,!0);return{shader:this.shaders.shadedRelief,uniforms:{projectionConfig:i,config:o,hillshadeConfig:t,colormapConfig:r,pixelMaskConfig:s},defines:{...n,...a,isMultidirectional:t.hillshadeType>0,applyColormap:!!r,applyPixelMask:!!s},optionalAttributes:null,useComputeBuffer:!1}}_getCommonConfig(e){const{coordScale:t,computedOpacity:o,transforms:i}=e,{names:r,textures:s}=e.getTextures({useProcessedTexture:e.processed}),n=s[r.indexOf(\"u_image\")],a=e.getRasterTextureSize(),p={texture:{texture:n,unit:0},dvsMat3:i.displayViewScreenMat3,coordScale:t,srcImageSize:a,opacity:o},l=s[r.indexOf(\"u_transformGrid\")],{transformGrid:c}=e,f=!(!l||!c),m=f?{transformTexture:{texture:l,unit:2},targetImageSize:[e.width,e.height],transformSpacing:c.spacing,transformGridSize:c.size}:void 0,u=s[r.indexOf(\"u_colormap\")],{colormap:d,colormapOffset:g}=e.symbolizerParameters,h=u&&d?{colormapTexture:{texture:u,unit:1},colormapOffset:g??0,colormapMaxIndex:d.length/4-1}:void 0,C=s[r.indexOf(\"u_mask\")];return{config:p,projectionConfig:m,colormapConfig:h,pixelMaskConfig:C?{maskTexture:{texture:C,unit:3}}:void 0,projectionDefines:{applyProjection:f,lookupProjection:f&&1===c.spacing[0]}}}_getInterpolationDefines(e,t){const o=\"bilinear\"===e&&t;return{bilinear:o,bicubic:\"cubic\"===e,nearestOnEdge:o}}}export{a as RasterColorizerTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{SizedPixelFormat as e,TextureSamplingMode as r,PixelType as t,TextureWrapMode as n}from\"../../../../../../../webgl/enums.js\";import{FramebufferObject as o}from\"../../../../../../../webgl/FramebufferObject.js\";import{Texture as m}from\"../../../../../../../webgl/Texture.js\";import{TextureDescriptor as i}from\"../../../../../../../webgl/TextureDescriptor.js\";function s(o,m){const s=new i;return s.width=o,s.height=m,s.internalFormat=e.RGBA32F,s.samplingMode=r.NEAREST,s.dataType=t.FLOAT,s.isImmutable=!0,s.wrapMode=n.CLAMP_TO_EDGE,s}function u(e,r,t){const n=s(r,t);return new m(e,n)}function a(e,r,t){const n=s(r,t);return new o(e,n)}export{a as createNewFBO,u as createProcessedTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e}from\"../../../../../../../../core/maybe.js\";import{tileSize as t}from\"../../../../definitions.js\";import{Technique as r}from\"../../Technique.js\";import{createNewFBO as n,createProcessedTexture as s}from\"./textureUtils.js\";import{BlendFactor as o}from\"../../../../../../../webgl/enums.js\";import{createColormapTexture as a}from\"../../../../../../../webgl/rasterUtils.js\";class i extends r{shutdown(e){super.shutdown(e),this._fbo?.dispose(),this._fbo=void 0}render(r,i){const{rasterFunction:u}=r;if(!u)return;const{context:m}=r,p=\"indexedColormap\"in u.parameters?a(m,u.parameters.indexedColormap):void 0,d=\"Reproject\"===u.name,l=m.getBoundFramebufferObject(),c=m.getViewport();for(const a of i.bitmaps){const l=d?!(a.rasterTexture&&a.projected):!a.processed;if(!a.source||!l||a.suspended)continue;r.timeline.begin(this.name);const{painter:c}=r;c.setPipelineState({depth:!1,stencil:{test:!1,write:!1},color:{write:[!0,!0,!0,!0],blendMode:\"custom\",blendParameters:{srcRGB:o.ONE,dstRGB:o.ZERO,srcAlpha:o.ONE,dstAlpha:o.ZERO}}}),d||(a.processedTexture=e(a.processedTexture)),a.updateTexture(r);const[g,f]=a.getRasterTextureSize(d),h=g===t&&f===t,x=h?i.processorFbo:n(m,g,f);m.bindFramebuffer(x),m.setViewport(0,0,x.width,x.height),this._process(r,a,p);const w=s(r.context,g,f);if(x.copyToTexture(0,0,g,f,0,0,w),d)a.rasterTexture=w;else{const e=r.hasBranches?u.id:0;a.functionTextures[e]=w}h||x.dispose(),r.timeline.end(this.name)}p?.dispose(),m.bindFramebuffer(l),m.setViewport(c.x,c.y,c.width,c.height)}_getCommonConfig(e,t){const{rasterFunction:r,hasBranches:n}=e,{raster:s,rasters:o}=r.parameters,a=n?s?.id??o?.filter((e=>\"Constant\"!==e.name))?.[0]?.id??-1:0,i=t.functionTextures[a]??t.rasterTexture,u=\"Reproject\"===r.name;return{texture:{texture:i,unit:0},srcImageSize:t.getRasterTextureSize(u)}}_getMultipleInputConfig(e,t){return t?.length?2===t.length?{twoRasterConfig:this._getTwoInputConfig(t,e)}:3===t.length?{threeRasterConfig:this._getThreeInputConfig(t,e)}:{}:{}}_getConstantCount(e){return e?.filter((e=>\"Constant\"===e.name)).length??0}_getTextures(e,t){return e.filter((e=>\"Constant\"!==e.name)).map((e=>null!=e.id&&\"Identity\"!==e.name?t.functionTextures[e.id]:t.rasterTexture))}_getTwoInputConfig(e,t){const r=this._getTextures(e,t),n=r[1]?{texture:r[1],unit:1}:void 0,s=e.findIndex((e=>\"Constant\"===e.name)),o=0===s?new Float32Array([0,1,0,1,0,0,0,0,0]):new Float32Array([1,0,0,0,1,0,0,0,0]);return{image1:n,image1Const:s>-1?e[s].parameters.value:0,imageSwap:o}}_getThreeInputConfig(e,t){const r=this._getTextures(e,t);let n=0,s=0,o=new Float32Array([1,0,0,0,1,0,0,0,1]);const a=r[1]?{texture:r[1],unit:1}:void 0,i=r[2]?{texture:r[2],unit:2}:void 0,u=[];if(e.forEach(((e,t)=>\"Constant\"===e.name&&u.push(t))),1===u.length)n=e[u[0]].parameters.value,o=0===u[0]?new Float32Array([0,1,0,0,0,1,1,0,0]):1===u[0]?new Float32Array([1,0,0,0,0,1,0,1,0]):new Float32Array([1,0,0,0,1,0,0,0,1]);else if(2===u.length){n=e[u[0]].parameters.value,s=e[u[1]].parameters.value;const t=e.findIndex((e=>\"Constant\"!==e.name));o=0===t?new Float32Array([1,0,0,0,1,0,0,0,1]):1===t?new Float32Array([0,1,0,1,0,0,0,0,1]):new Float32Array([0,0,1,1,0,0,0,1,0])}return{image1:a,image2:i,image1Const:n,image2Const:s,imageSwap:o}}}export{i as BaseRasterProcessorTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o,a as t}from\"../../../../../../../../../chunks/tslib.es6.js\";import{GraphShaderModule as e,FragmentOutput as r,location as s,uniform as i,input as p,VertexInput as n,UniformGroup as l,FragmentInput as a}from\"../../../../GraphShaderModule.js\";import{Vec4 as m,Vec2 as u,Sampler2D as c}from\"../../../../graph/glsl.js\";import{uvToClip as g}from\"../../utils.js\";import{getPixelLocation as d,getPixel as f}from\"../projection.js\";class x extends n{}o([s(0,u)],x.prototype,\"position\",void 0);class v extends a{}class y extends l{}o([i(c)],y.prototype,\"texture\",void 0),o([i(u)],y.prototype,\"srcImageSize\",void 0);class h extends e{vertex(o){return{uv:o.position,glPosition:new m(g(o.position),0,1)}}fragment(o){const t=new r,e=d(o.uv),s=this._process(e);return t.fragColor=new m(s.rgb,1).multiply(s.a),t}_getPixel(o){return f(o,this.config)}}o([i(y)],h.prototype,\"config\",void 0),o([t(0,p(x))],h.prototype,\"vertex\",null),o([t(0,p(v))],h.prototype,\"fragment\",null);export{h as BaseRasterProcessorShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../../../../chunks/tslib.es6.js\";import{uniform as t,UniformGroup as s}from\"../../../../GraphShaderModule.js\";import{Vec2 as i,negate as r,sign as l,abs as o,Float as p,step as m,mod as d,atan as a,mix as c,Vec4 as n}from\"../../../../graph/glsl.js\";import{getSurfaceValues as u,computeDeltaZ as y}from\"../surface.js\";import{BaseRasterProcessorShader as f}from\"./BaseRasterProcessorShader.js\";class h extends s{}e([t(i)],h.prototype,\"cellSize\",void 0);class g extends f{constructor(){super(...arguments),this.type=\"AspectShader\"}_process(e){const{texture:t}=this.config,s=u(t,e,this.config.srcImageSize),f=new i(1).divide(this.aspectConfig.cellSize.multiply(8)),{x:h,y:g}=y(s,f),w=r(g),S=s[9].multiply(l(o(h).add(o(w)))),j=o(l(h)),x=new p(3.14159265359),v=new p(0),z=m(v,w).multiply(.5).multiply(x).add(m(w,v).multiply(1.5).multiply(x)),C=d(new p(2.5).multiply(x).add(a(w,r(h))),new p(2).multiply(x)),_=c(z,C,j).multiply(180).divide(x);return new n(_,_,_,S)}}e([t(h)],g.prototype,\"aspectConfig\",void 0);export{g as AspectShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as e}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as s}from\"./BaseRasterProcessorTechnique.js\";import{AspectShader as t}from\"../../shaders/raster/processor/AspectShader.js\";class r extends s{constructor(){super(...arguments),this.name=\"RasterAspectProcessor\",this.type=e.Aspect,this.shaders={aspect:new t}}_process(e,s){const t={cellSize:s.getRasterCellSize()},r=this._getCommonConfig(e,s),o={shader:this.shaders.aspect,uniforms:{config:r,aspectConfig:t},defines:{},optionalAttributes:null,useComputeBuffer:!1},{painter:i,context:a}=e;i.submitDrawMesh(a,o,i.quadMesh)}}export{r as AspectTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{Vec4 as n,floor as t,sign as e,abs as r,step as u,Vec3 as l,Float as i,mix as o,dot as a}from\"../../../../graph/glsl.js\";function c(n){const t=e(n),u=n.add(r(t).subtract(1));return t.multiply(t).divide(u)}function d(e){return new n(t(e.rgb.add(.5)),e.a)}function w(n,t){return u(t.x,n).multiply(u(n,t.y))}function p(n,t,r){const c=new l(n);let d=new l(0,0,0),w=new i(0);for(let e=0;e<r/3;e++){const n=9*e,r=new l(t[n],t[n+3],t[n+6]),i=new l(t[n+1],t[n+4],t[n+7]),a=u(r,c).multiply(u(c,i)),p=new l(t[n+2],t[n+5],t[n+8]);w=o(w,p.x,a.x),w=o(w,p.y,a.y),w=o(w,p.z,a.z),d=d.add(a)}return{mapValue:w,includeMask:e(a(d,new l(1,1,1)))}}export{p as computeMapValue,w as getRangeClipFactor,c as invertValue,d as roundOutput};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../../../../../chunks/tslib.es6.js\";import{uniform as s,define as u,option as r,UniformGroup as l}from\"../../../../GraphShaderModule.js\";import{Vec4 as i,pow as a,Float as e,sqrt as d,Mat3 as p,Vec3 as c}from\"../../../../graph/glsl.js\";import{oneMinus as m}from\"../../utils.js\";import{BaseRasterProcessorShader as n}from\"./BaseRasterProcessorShader.js\";import{roundOutput as o,invertValue as y}from\"./math.js\";class b extends l{}t([s(p)],b.prototype,\"bandIndexMat3\",void 0);class h extends l{}t([s(c)],h.prototype,\"adjustments\",void 0);class x extends n{constructor(){super(...arguments),this.type=\"BandArithmeticShader\",this.isOutputRounded=!1}_process(t){const s=this._getPixel(t),u=this.bandArithmeticConfig.bandIndexMat3.multiply(s.rgb),r=this._processIndex(u),l=new i(r,r,r,s.a);return this.isOutputRounded?o(l):l}_processIndex(t){const{r:s,g:u}=t,r=this.adjustmentConfig?.adjustments;switch(this.indexType){case\"ndxi\":{const t=s.subtract(u),r=s.add(u);return t.multiply(y(r))}case\"sr\":return s.multiply(y(u));case\"ci\":return s.multiply(y(u)).subtract(1);case\"savi\":{const{x:t}=r,l=s.subtract(u),i=s.add(u).add(t);return l.multiply(y(i)).multiply(t.add(1))}case\"tsavi\":{const{x:t,y:l,z:i}=r,a=i.multiply(t.multiply(t).add(1)).subtract(l.multiply(t)),e=t.multiply(s.subtract(t.multiply(u)).subtract(l)),d=l.multiply(s).add(u).add(a);return e.multiply(y(d))}case\"msavi\":{const t=s.multiply(2).add(1),r=t.multiply(t).subtract(s.subtract(u).multiply(8));return t.subtract(d(r)).multiply(.5)}case\"gemi\":{const t=s.multiply(s).subtract(u.multiply(u)).multiply(2).add(s.multiply(1.5)).add(u.multiply(.5)),r=s.add(u).add(.5),l=t.multiply(y(r)),i=l.multiply(m(l.multiply(.25))),a=u.subtract(.125).multiply(y(m(u)));return i.subtract(a)}case\"pvi\":{const{x:t,y:l}=r,i=d(t.multiply(t).add(1));return s.subtract(u.multiply(t)).subtract(l).multiply(y(i))}case\"vari\":{const s=t.g.subtract(t.r),u=t.g.add(t.r).subtract(t.b);return s.multiply(y(u))}case\"rtvicore\":return s.subtract(u).multiply(100).subtract(s.subtract(t.b).multiply(10));case\"bai\":{const t=a(new e(.1).subtract(u),new e(2)),r=a(new e(.06).subtract(s),new e(2));return y(t.add(r))}case\"evi\":{const r=t.b,l=s.add(u.multiply(6)).subtract(r.multiply(7.5)).add(1);return s.subtract(u).multiply(2.5).multiply(y(l))}case\"wndwi\":{const{r:s,g:u,b:l}=t,i=r.x,a=i.multiply(u),e=i.multiply(l),d=s.add(a).add(l).subtract(e);return s.subtract(a).subtract(l).add(e).multiply(y(d))}case\"mtvi\":{const r=t.b,l=a(s.multiply(2).add(1),new e(2)),i=s.multiply(6).subtract(d(u).multiply(5)),p=d(l.subtract(i).subtract(.5)),c=s.subtract(r).multiply(1.2),m=u.subtract(r).multiply(2.5);return c.subtract(m).multiply(1.5).multiply(y(p))}default:return s}}}t([u],x.prototype,\"indexType\",void 0),t([u],x.prototype,\"isOutputRounded\",void 0),t([s(b)],x.prototype,\"bandArithmeticConfig\",void 0),t([r(h)],x.prototype,\"adjustmentConfig\",void 0);export{x as BandArithmeticShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as e}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as t}from\"./BaseRasterProcessorTechnique.js\";import{BandArithmeticShader as s}from\"../../shaders/raster/processor/BandArithmeticShader.js\";class r extends t{constructor(){super(...arguments),this.name=\"RasterBandArithmeticProcessor\",this.type=e.BandArithmetic,this.shaders={bandArithmetic:new s}}_process(e,t){const s=e.rasterFunction.parameters,r={indexType:s.indexType,isOutputRounded:s.isOutputRounded},i={bandIndexMat3:s.bandIndexMat3},n=s.adjustments?{adjustments:[...s.adjustments]}:void 0,a=this._getCommonConfig(e,t),o={shader:this.shaders.bandArithmetic,uniforms:{config:a,bandArithmeticConfig:i,adjustmentConfig:n},defines:r,optionalAttributes:null,useComputeBuffer:!1},{painter:d,context:m}=e;d.submitDrawMesh(m,o,d.quadMesh)}}export{r as BandArithmeticTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../../../../../../chunks/tslib.es6.js\";import{uniform as r}from\"../../../../GraphShaderModule.js\";import{Float as s,Vec4 as t}from\"../../../../graph/glsl.js\";import{lookupColor as e,ColormapConfig as p}from\"../lut.js\";import{BaseRasterProcessorShader as i}from\"./BaseRasterProcessorShader.js\";class m extends i{constructor(){super(...arguments),this.type=\"ColormapToRGBShader\"}_process(o){const r=this._getPixel(o),p=e(r,new s(1),this.colormapConfig,!1);return new t(p.xyz.multiply(255),p.a)}}o([r(p)],m.prototype,\"colormapConfig\",void 0);export{m as ColormapToRGBShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as o}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as e}from\"./BaseRasterProcessorTechnique.js\";import{ColormapToRGBShader as r}from\"../../shaders/raster/processor/ColormapToRGBShader.js\";class s extends e{constructor(){super(...arguments),this.name=\"RasterColormapToRGBProcessor\",this.type=o.ColormapToRGB,this.shaders={colormapToRGB:new r}}_process(o,e,r){const s=o.rasterFunction.parameters,t={colormapTexture:{texture:r,unit:1},colormapOffset:s.offset,colormapMaxIndex:s.indexedColormap.length/4-1},a=this._getCommonConfig(o,e),m={shader:this.shaders.colormapToRGB,uniforms:{config:a,colormapConfig:t},defines:{},optionalAttributes:null,useComputeBuffer:!1},{painter:n,context:p}=o;n.submitDrawMesh(p,m,n.quadMesh)}}export{s as ColormapToRGBTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../../../../../chunks/tslib.es6.js\";import{define as o,option as e,uniform as a,UniformGroup as i}from\"../../../../GraphShaderModule.js\";import{texture2D as r,Vec3 as s,Sampler2D as n,Float as p,Mat3 as u}from\"../../../../graph/glsl.js\";class g extends i{}t([a(n)],g.prototype,\"image1\",void 0),t([a(p)],g.prototype,\"image1Const\",void 0),t([a(u)],g.prototype,\"imageSwap\",void 0);class l extends i{}t([a(n)],l.prototype,\"image1\",void 0),t([a(n)],l.prototype,\"image2\",void 0),t([a(p)],l.prototype,\"image1Const\",void 0),t([a(p)],l.prototype,\"image2Const\",void 0),t([a(u)],l.prototype,\"imageSwap\",void 0);const m=a=>{class i extends a{constructor(){super(...arguments),this.constantCount=0,this.imageCount=1}_getRasterValues(t){const{imageCount:o}=this;if(1===o){const o=r(this.config.texture,t);return{a:o.r,b:o.g,c:o.b,alpha:o.a}}if(2===o){const o=this._getTwoValues(t);return{a:o.a,b:o.b,c:o.b,alpha:o.alpha}}return this._getThreeValues(t)}_getTwoValues(t){const o=r(this.config.texture,t);if(1===this.constantCount){const{imageSwap:t,image1Const:e}=this.twoRasterConfig,a=t.multiply(new s(o.r,e,0));return{a:a.x,b:a.y,alpha:o.a}}const{image1:e}=this.twoRasterConfig,a=r(e,t);return{a:o.r,b:a.r,alpha:o.a.multiply(a.a)}}_getThreeValues(t){const o=r(this.config.texture,t),{imageSwap:e,image1:a,image2:i,image1Const:n,image2Const:p}=this.threeRasterConfig;if(2===this.constantCount){const t=e.multiply(new s(o.r,n,p));return{a:t.x,b:t.y,c:t.z,alpha:o.a}}if(1===this.constantCount){const i=r(a,t),p=e.multiply(new s(o.r,i.r,n));return{a:p.x,b:p.y,c:p.z,alpha:o.a.multiply(i.a)}}const u=r(a,t),g=r(i,t);return{a:o.r,b:u.r,c:g.r,alpha:o.a.multiply(u.a).multiply(g.a)}}}return t([o],i.prototype,\"constantCount\",void 0),t([o],i.prototype,\"imageCount\",void 0),t([e(g)],i.prototype,\"twoRasterConfig\",void 0),t([e(l)],i.prototype,\"threeRasterConfig\",void 0),i};export{m as MultiRasterMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{Vec4 as s}from\"../../../../graph/glsl.js\";import{BaseRasterProcessorShader as r}from\"./BaseRasterProcessorShader.js\";import{MultiRasterMixin as e}from\"./MultiRasterMixin.js\";class t extends(e(r)){constructor(){super(...arguments),this.type=\"CompositeBandShader\"}_process(r){const{a:e,b:t,c:o,alpha:a}=this._getRasterValues(r);return new s(e,t,o,a)}}export{t as CompositeBandShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as s}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as e}from\"./BaseRasterProcessorTechnique.js\";import{CompositeBandShader as t}from\"../../shaders/raster/processor/CompositeBandShader.js\";class o extends e{constructor(){super(...arguments),this.name=\"RasterCompositeBandProcessor\",this.type=s.CompositeBand,this.shaders={compositeBand:new t}}_process(s,e){const{rasters:t}=s.rasterFunction.parameters,o={constantCount:this._getConstantCount(t),imageCount:t?.length??1},r=this._getMultipleInputConfig(e,t),n=this._getCommonConfig(s,e),i={shader:this.shaders.compositeBand,uniforms:{config:n,...r},defines:o,optionalAttributes:null,useComputeBuffer:!1},{painter:a,context:p}=s;a.submitDrawMesh(p,i,a.quadMesh)}}export{o as CompositeBandTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../../../../chunks/tslib.es6.js\";import{uniform as a,define as s,UniformGroup as t}from\"../../../../GraphShaderModule.js\";import{Vec4 as n,float as r,equal as i,Float as o,notEqual as c,lessThanEqual as b,lessThan as l,greaterThanEqual as u,greaterThan as p,xor as w,or as k,and as h,bitXor as m,Int as d,bitNot as g,bitRShift as y,bitShift as _,bitOr as f,bitAnd as R,tanh as v,tan as x,sinh as A,sin as O,cosh as j,cos as q,atan as B,ifElse as T,atanh as Z,asinh as M,asin as N,acosh as S,acos as C,abs as V,negate as G,mod as L,sign as P,floor as z,ceil as D,pow as E,exp as F,log2 as H,log as I,sqrt as J,mix as K,Vec2 as Q}from\"../../../../graph/glsl.js\";import{BaseRasterProcessorShader as U}from\"./BaseRasterProcessorShader.js\";import{getRangeClipFactor as W,roundOutput as X,invertValue as Y}from\"./math.js\";import{MultiRasterMixin as $}from\"./MultiRasterMixin.js\";class ee extends t{}e([a(Q)],ee.prototype,\"domainRange\",void 0);class ae extends($(U)){constructor(){super(...arguments),this.type=\"LocalShader\",this.isOutputRounded=!1}_process(e){if(\"conditional\"===this.operationName)return this._conditional(e);const{a,b:s,alpha:t}=this._getRasterValues(e),{value:n,alpha:r}=this._compute(a,s,t);return this._processResult(n,r)}_processResult(e,a){const s=W(e,this.domainRangeConfig.domainRange),t=new n(e,e,e,a).multiply(s);return this.isOutputRounded?X(t):t}_compute(e,a,s){const{operationName:t}=this;let n;switch(t){case\"plus\":n=e.add(a);break;case\"minus\":n=e.subtract(a);break;case\"times\":n=e.multiply(a);break;case\"divide\":case\"floatdivide\":n=e.multiply(Y(a)),s=s.multiply(r(V(P(a))));break;case\"floordivide\":n=z(e.multiply(Y(a))),s=s.multiply(r(V(P(a))));break;case\"square\":n=e.multiply(e);break;case\"sqrt\":n=J(e);break;case\"power\":n=E(e,a);break;case\"ln\":n=T(p(e,new o(0)),I(e),new o(0)),s=s.multiply(this._isAboveZero(e));break;case\"log10\":n=T(p(e,new o(0)),H(e).multiply(Y(H(new o(10)))),new o(0)),s=s.multiply(this._isAboveZero(e));break;case\"log2\":n=T(p(e,new o(0)),H(e),new o(0)),s=s.multiply(this._isAboveZero(e));break;case\"exp\":n=F(e);break;case\"exp10\":n=E(new o(10),e);break;case\"exp2\":n=E(new o(2),e);break;case\"rounddown\":n=z(e);break;case\"roundup\":n=D(e);break;case\"int\":n=P(e).multiply(z(V(e)));break;case\"mod\":n=L(e,a);break;case\"negate\":n=G(e);break;case\"abs\":n=V(e);break;case\"acos\":{const a=this._isAbsBiggerThanOne(e);n=T(a,new o(0),C(e)),s=T(a,new o(0),s);break}case\"acosh\":n=S(e);break;case\"asin\":{const a=this._isAbsBiggerThanOne(e);n=T(a,new o(0),N(e)),s=T(a,new o(0),s);break}case\"asinh\":n=M(e);break;case\"atan\":n=B(e);break;case\"atanh\":{const a=this._isAbsBiggerThanOne(e);n=T(a,new o(0),Z(e)),s=T(a,new o(0),s);break}case\"atan2\":n=B(e,a);break;case\"cos\":n=q(e);break;case\"cosh\":n=j(e);break;case\"sin\":n=O(e);break;case\"sinh\":n=A(e);break;case\"tan\":n=x(e);break;case\"tanh\":n=v(e);break;case\"bitwiseand\":n=new o(R(new d(e),new d(a)));break;case\"bitwiseor\":n=new o(f(new d(e),new d(a)));break;case\"bitwiseleftshift\":n=new o(_(new d(e),new d(a)));break;case\"bitwiserightshift\":n=new o(y(new d(e),new d(a)));break;case\"bitwisenot\":n=new o(g(new d(e)));break;case\"bitwisexor\":n=new o(m(new d(e),new d(a)));break;case\"booleanand\":n=r(h(c(e,new o(0)),c(a,new o(0))));break;case\"booleanor\":n=r(k(c(e,new o(0)),c(a,new o(0))));break;case\"booleannot\":n=r(i(e,new o(0)));break;case\"booleanxor\":n=r(w(c(e,new o(0)),c(a,new o(0))));break;case\"greaterthan\":n=r(p(e,a));break;case\"greaterthanequal\":n=r(u(e,a));break;case\"lessthan\":n=r(l(e,a));break;case\"lessthanequal\":n=r(b(e,a));break;case\"equalto\":n=r(i(e,a));break;case\"notequal\":n=r(c(e,a));break;case\"isnull\":n=r(i(s,new o(0))),s=new o(1);break;case\"setnull\":{const t=r(i(e,new o(0)));n=t.multiply(a),s=s.multiply(t);break}default:n=e}return{value:n,alpha:s}}_conditional(e){const{a,b:s,c:t,alpha:n}=this._getRasterValues(e),r=new o(V(P(a))),i=K(t,s,r);return this._processResult(i,n)}_isAboveZero(e){return r(p(e,new o(0)))}_isAbsBiggerThanOne(e){return p(V(e),new o(1))}}e([s],ae.prototype,\"operationName\",void 0),e([s],ae.prototype,\"isOutputRounded\",void 0),e([a(ee)],ae.prototype,\"domainRangeConfig\",void 0);export{ee as DomainRangeConfig,ae as LocalShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../../../../../chunks/tslib.es6.js\";import{define as o,uniform as e}from\"../../../../GraphShaderModule.js\";import{max as r,abs as s,Vec4 as i}from\"../../../../graph/glsl.js\";import{BaseRasterProcessorShader as a}from\"./BaseRasterProcessorShader.js\";import{DomainRangeConfig as p}from\"./LocalShader.js\";import{invertValue as m,getRangeClipFactor as d,roundOutput as n}from\"./math.js\";import{MultiRasterMixin as u}from\"./MultiRasterMixin.js\";class h extends(u(a)){constructor(){super(...arguments),this.type=\"ComputeChangeShader\",this.isOutputRounded=!1}_process(t){const{a:o,b:e,alpha:a}=this._getRasterValues(t);let p=o.subtract(e);\"relative-difference\"===this.method&&(p=p.multiply(m(r(s(o),s(e)))));const u=d(p,this.domainRangeConfig.domainRange),h=new i(p,p,p,a).multiply(u);return this.isOutputRounded?n(h):h}}t([o],h.prototype,\"method\",void 0),t([o],h.prototype,\"isOutputRounded\",void 0),t([e(p)],h.prototype,\"domainRangeConfig\",void 0);export{h as ComputeChangeShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as e}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as t}from\"./BaseRasterProcessorTechnique.js\";import{ComputeChangeShader as s}from\"../../shaders/raster/processor/ComputeChangeShader.js\";class o extends t{constructor(){super(...arguments),this.name=\"RasterComputeChangeProcessor\",this.type=e.ComputeChange,this.shaders={computeChange:new s}}_process(e,t){const s=e.rasterFunction.parameters,{rasters:o}=s,n={constantCount:this._getConstantCount(o),imageCount:o.length,method:s.method,isOutputRounded:s.isOutputRounded},r={domainRange:s.domainRange},{twoRasterConfig:a}=this._getMultipleInputConfig(t,o),i=this._getCommonConfig(e,t),u={shader:this.shaders.computeChange,uniforms:{config:i,domainRangeConfig:r,twoRasterConfig:a},defines:n,optionalAttributes:null,useComputeBuffer:!1},{painter:h,context:m}=e;h.submitDrawMesh(m,u,h.quadMesh)}}export{o as ComputeChangeTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../../../../../chunks/tslib.es6.js\";import{uniform as s,UniformGroup as e}from\"../../../../GraphShaderModule.js\";import{Float as r,cond as o,greaterThan as i,equal as n,sign as d,Vec3 as a,Vec4 as p}from\"../../../../graph/glsl.js\";import{BaseRasterProcessorShader as l}from\"./BaseRasterProcessorShader.js\";import{roundOutput as m}from\"./math.js\";class f extends e{}t([s(r)],f.prototype,\"contrastOffset\",void 0),t([s(r)],f.prototype,\"brightnessOffset\",void 0);class h extends l{constructor(){super(...arguments),this.type=\"ContrastBrightnessShader\"}_process(t){const{rgb:s,a:e}=this._getPixel(t),{contrastOffset:l,brightnessOffset:f}=this.contrastBrightnessConfig,h=new r(255),c=new r(128),u=s.multiply(200),g=h.multiply(100),y=h.multiply(2).multiply(f),w=u.subtract(g).add(y),b=o([n(l,new r(-100)),new a(c)],[n(l,new r(100)),d(w).add(1).divide(2).multiply(h)],[i(l,new r(0)),w.divide(new r(100).subtract(l).multiply(2)).add(c)],[!0,w.multiply(l.add(100)).divide(2e4).add(c)]);return m(new p(b,e))}}t([s(f)],h.prototype,\"contrastBrightnessConfig\",void 0);export{h as ContrastBrightnessShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as s}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as t}from\"./BaseRasterProcessorTechnique.js\";import{ContrastBrightnessShader as r}from\"../../shaders/raster/processor/ContrastBrightnessShader.js\";class e extends t{constructor(){super(...arguments),this.name=\"RasterContrastBrightnessProcessor\",this.type=s.ContrastBrightness,this.shaders={contrastBrightness:new r}}_process(s,t){const r=this._getCommonConfig(s,t),e=s.rasterFunction.parameters,o={shader:this.shaders.contrastBrightness,uniforms:{config:r,contrastBrightnessConfig:e},defines:{},optionalAttributes:null,useComputeBuffer:!1},{painter:n,context:i}=s;n.submitDrawMesh(i,o,n.quadMesh)}}export{e as ContrastBrightnessTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../../../../../../chunks/tslib.es6.js\";import{uniform as t,define as e,UniformGroup as r}from\"../../../../GraphShaderModule.js\";import{Vec2 as s,Float as i,reduce2D as n,Vec4 as l,clamp as a,texture2D as p,FixedArray2D as c}from\"../../../../graph/glsl.js\";import{mirror as u}from\"../surface.js\";import{BaseRasterProcessorShader as d}from\"./BaseRasterProcessorShader.js\";class m extends r{}o([t(c.ofType(i,5,5,!0))],m.prototype,\"kernel\",void 0),o([t(s)],m.prototype,\"clampRange\",void 0);class h extends d{constructor(){super(...arguments),this.type=\"ConvolutionShader\",this.rows=3,this.cols=3}_process(o){const{rows:t,cols:e}=this,r=new s(Math.floor(t/2),Math.floor(e/2)),{texture:c,srcImageSize:d}=this.config,m=new i(1).divide(d),{kernel:h}=this.convolutionConfig,g=n(h,{initialValue:new l(0,0,0,1),xRange:[0,t],yRange:[0,e],callback:(t,e,n,a)=>{const d=new s(new i(n),new i(a)).subtract(r).multiply(m),h=p(c,u(o.add(d))),g=h.rgb.multiply(e).add(t.rgb),f=h.a.multiply(t.a);return new l(g,f)}}),{clampRange:f}=this.convolutionConfig;return new l(a(g.rgb,f.x,f.y),1).multiply(g.a)}}o([e],h.prototype,\"rows\",void 0),o([e],h.prototype,\"cols\",void 0),o([t(m)],h.prototype,\"convolutionConfig\",void 0);export{h as ConvolutionShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as o}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as e}from\"./BaseRasterProcessorTechnique.js\";import{ConvolutionShader as s}from\"../../shaders/raster/processor/ConvolutionShader.js\";class r extends e{constructor(){super(...arguments),this.name=\"RasterConvolutionProcessor\",this.type=o.Convolution,this.shaders={convolution:new s}}_process(o,e){const s=o.rasterFunction.parameters,r={rows:s.kernelRows,cols:s.kernelCols},n={kernel:[...s.kernel],clampRange:s.clampRange},t=this._getCommonConfig(o,e),i={shader:this.shaders.convolution,uniforms:{config:t,convolutionConfig:n},defines:r,optionalAttributes:null,useComputeBuffer:!1},{painter:a,context:c}=o;a.submitDrawMesh(c,i,a.quadMesh)}}export{r as ConvolutionTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../../../../../chunks/tslib.es6.js\";import{uniform as r,define as e,UniformGroup as s}from\"../../../../GraphShaderModule.js\";import{negate as i,dot as o,Vec3 as a,Vec4 as u,Float as d}from\"../../../../graph/glsl.js\";import{getSurfaceValues as p}from\"../surface.js\";import{BaseRasterProcessorShader as l}from\"./BaseRasterProcessorShader.js\";class c extends s{}t([r(d)],c.prototype,\"zlFactor\",void 0);class m extends l{constructor(){super(...arguments),this.type=\"CurvatureShader\"}_process(t){const{texture:r}=this.config,e=p(r,t,this.config.srcImageSize),s=e[3].add(e[5]).multiply(.5).subtract(e[4]),d=e[1].add(e[7]).multiply(.5).subtract(e[4]),{zlFactor:l}=this.curvatureConfig,{curvatureType:c}=this;let m;if(\"standard\"===c)m=i(l).multiply(s.add(d));else{const t=e[2].subtract(e[0]).add(e[6]).subtract(e[8]).divide(4),r=e[5].subtract(e[3]).divide(2),u=e[1].subtract(e[7]).divide(2),p=r.multiply(r),n=u.multiply(u),y=r.multiply(u),f=l.divide(p.add(n));m=\"profile\"===c?o(new a(s,d,t),new a(p,n,y)).multiply(f):o(new a(s,d,i(t)),new a(n,p,y)).multiply(i(f))}return new u(m,m,m,e[9])}}t([e],m.prototype,\"curvatureType\",void 0),t([r(c)],m.prototype,\"curvatureConfig\",void 0);export{m as CurvatureShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as r}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as e}from\"./BaseRasterProcessorTechnique.js\";import{CurvatureShader as s}from\"../../shaders/raster/processor/CurvatureShader.js\";class t extends e{constructor(){super(...arguments),this.name=\"RasterCurvatureProcessor\",this.type=r.Curvature,this.shaders={curvature:new s}}_process(r,e){const s=r.rasterFunction.parameters,t={curvatureType:s.curvatureType},o=e.getRasterCellSize(),a={zlFactor:200*s.zFactor/o[0]/o[1]},u=this._getCommonConfig(r,e),i={shader:this.shaders.curvature,uniforms:{config:u,curvatureConfig:a},defines:t,optionalAttributes:null,useComputeBuffer:!1},{painter:c,context:n}=r;c.submitDrawMesh(n,i,c.quadMesh)}}export{t as CurvatureTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../../../../../chunks/tslib.es6.js\";import{uniform as r,UniformGroup as s}from\"../../../../GraphShaderModule.js\";import{Vec4 as e,Mat3 as o}from\"../../../../graph/glsl.js\";import{BaseRasterProcessorShader as a}from\"./BaseRasterProcessorShader.js\";class n extends s{}t([r(o)],n.prototype,\"bandIndexMat3\",void 0);class d extends a{constructor(){super(...arguments),this.type=\"ExtractBandShader\"}_process(t){const r=this._getPixel(t),s=this.extractBandConfig.bandIndexMat3.multiply(r.rgb);return new e(s,r.a)}}t([r(n)],d.prototype,\"extractBandConfig\",void 0);export{d as ExtractBandShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as e}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as t}from\"./BaseRasterProcessorTechnique.js\";import{ExtractBandShader as s}from\"../../shaders/raster/processor/ExtractBandShader.js\";class r extends t{constructor(){super(...arguments),this.name=\"RasterExtractBandProcessor\",this.type=e.ExtractBand,this.shaders={extractBand:new s}}_process(e,t){const s={bandIndexMat3:e.rasterFunction.parameters.bandIndexMat3},r=this._getCommonConfig(e,t),a={shader:this.shaders.extractBand,uniforms:{config:r,extractBandConfig:s},defines:{},optionalAttributes:null,useComputeBuffer:!1},{painter:n,context:o}=e;n.submitDrawMesh(o,a,n.quadMesh)}}export{r as ExtractBandTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../../../../../chunks/tslib.es6.js\";import{uniform as e,define as r,UniformGroup as s}from\"../../../../GraphShaderModule.js\";import{step as a,Float as o,mix as n,Vec4 as i,clamp as l,Vec2 as c,texture2D as u,sqrt as p,max as m,min as d,Int as w,block as b}from\"../../../../graph/glsl.js\";import{mirror as g}from\"../surface.js\";import{BaseRasterProcessorShader as h}from\"./BaseRasterProcessorShader.js\";import{invertValue as y}from\"./math.js\";class f extends s{}t([e(c)],f.prototype,\"clampRange\",void 0);class _ extends h{constructor(){super(...arguments),this.type=\"FocalStatisticsShader\",this.rows=3,this.cols=3,this.fill=!1}_process(t){const e=this._process1(t),r=a(new o(1),e.a);if(!this.fill)return this._clamp(e.rgb,r);const s=this._getPixel(t),i=n(e.rgb,s.rgb,s.a);return this._clamp(i,r)}_clamp(t,e){const{clampRange:r}=this.focalStatisticsConfig;return new i(l(t,r.x,r.y),1).multiply(e)}_process1(t){const{texture:e,srcImageSize:r}=this.config,{rows:s,cols:a}=this,n=new c(Math.floor(s/2),Math.floor(a/2)),l=new o(1).divide(r),w=this._getPixel(t),{statisticsType:b}=this,h=\"min\"===b||\"max\"===b?new i(w.rgb,0):new i(0,0,0,0);switch(b){case\"min\":return this._stat(s,a,h,((r,s,a)=>{const p=new c(new o(s),new o(a)).subtract(n).multiply(l),m=u(e,g(t.add(p))),w=d(r.rgb,m.rgb);return new i(w,r.a.add(m.a))}));case\"max\":return this._stat(s,a,h,((r,s,a)=>{const p=new c(new o(s),new o(a)).subtract(n).multiply(l),d=u(e,g(t.add(p))),w=m(r.rgb,d.rgb);return new i(w,r.a.add(d.a))}));case\"mean\":{const r=this._stat(s,a,h,((r,s,a)=>{const p=new c(new o(s),new o(a)).subtract(n).multiply(l),m=u(e,g(t.add(p))),d=r.rgb.add(m.rgb.multiply(m.a));return new i(d,r.a.add(m.a))})),p=r.rgb.multiply(y(r.a));return new i(p,r.a)}case\"stddev\":{const r=this._stat(s,a,h,((r,s,a)=>{const p=new c(new o(s),new o(a)).subtract(n).multiply(l),m=u(e,g(t.add(p))),d=r.rgb.add(m.rgb.multiply(m.a));return new i(d,r.a.add(m.a))})),m=this._stat(s,a,h,((r,s,a)=>{const p=new c(new o(s),new o(a)).subtract(n).multiply(l),m=u(e,g(t.add(p))),d=r.rgb.add(m.a.multiply(m.rgb).multiply(m.rgb));return new i(d,r.a.add(m.a))})),d=y(m.a),w=p(m.subtract(r.multiply(r).multiply(d)).multiply(d));return new i(w.rgb,r.a)}default:return w}}_stat(t=3,e=3,r,s){const a=new w(0).setMutable().setDebugName(\"StatColIterator\"),o=new w(0).setMutable().setDebugName(\"StatRowIterator\"),n=r.setMutable().setDebugName(\"StatAccumulator\"),l=s(n,a,o).setDebugName(\"StatPredicate\"),c=b({iterX:a,iterY:o,accumulator:n},i,l,(({out:r,iterX:s,iterY:a,accumulator:o,subgraph:n})=>`\\n  for (${a} = 0; ${a} < ${t}; ${a}++) {\\n    for (${s} = 0; ${s} < ${e}; ${s}++) {\\n  \\n    ${n.body}\\n  \\n    ${o} = ${n.varName};\\n    }\\n  }\\n  ${r} = ${o};\\n  `)).setDebugName(\"statBody\");return c}}t([r],_.prototype,\"rows\",void 0),t([r],_.prototype,\"cols\",void 0),t([r],_.prototype,\"statisticsType\",void 0),t([r],_.prototype,\"fill\",void 0),t([e(f)],_.prototype,\"focalStatisticsConfig\",void 0);export{_ as FocalStatisticsShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as s}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as t}from\"./BaseRasterProcessorTechnique.js\";import{FocalStatisticsShader as e}from\"../../shaders/raster/processor/FocalStatisticsShader.js\";class i extends t{constructor(){super(...arguments),this.name=\"RasterFocalStatisticsProcessor\",this.type=s.Statistics,this.shaders={focalStatistics:new e}}_process(s,t){const e=s.rasterFunction.parameters,i={rows:e.kernelRows,cols:e.kernelCols,statisticsType:e.statisticsType,fill:e.fillNoDataOnly},o={clampRange:e.clampRange},r=this._getCommonConfig(s,t),a={shader:this.shaders.focalStatistics,uniforms:{config:r,focalStatisticsConfig:o},defines:i,optionalAttributes:null,useComputeBuffer:!1},{painter:c,context:n}=s;c.submitDrawMesh(n,a,c.quadMesh)}}export{i as FocalStatisticsTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../../../../../../../chunks/tslib.es6.js\";import{uniform as r,UniformGroup as e}from\"../../../../GraphShaderModule.js\";import{dot as o,Vec4 as t,Vec3 as a}from\"../../../../graph/glsl.js\";import{BaseRasterProcessorShader as i}from\"./BaseRasterProcessorShader.js\";class p extends e{}s([r(a)],p.prototype,\"weights\",void 0);class c extends i{constructor(){super(...arguments),this.type=\"GrayscaleShader\"}_process(s){const r=this._getPixel(s),{weights:e}=this.grayscaleConfig,a=o(e,r.rgb);return new t(a,a,a,r.a)}}s([r(p)],c.prototype,\"grayscaleConfig\",void 0);export{c as GrayscaleShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as s}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as e}from\"./BaseRasterProcessorTechnique.js\";import{GrayscaleShader as r}from\"../../shaders/raster/processor/GrayscaleShader.js\";class t extends e{constructor(){super(...arguments),this.name=\"RasterGrayscaleProcessor\",this.type=s.Grayscale,this.shaders={grayscale:new r}}_process(s,e){const r={weights:s.rasterFunction.parameters.weights},t=this._getCommonConfig(s,e),a={shader:this.shaders.grayscale,uniforms:{config:t,grayscaleConfig:r},defines:{},optionalAttributes:null,useComputeBuffer:!1},{painter:o,context:i}=s;o.submitDrawMesh(i,a,o.quadMesh)}}export{t as GrayscaleTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../../../../../../../chunks/tslib.es6.js\";import{define as i,uniform as r}from\"../../../../GraphShaderModule.js\";import{Vec4 as t}from\"../../../../graph/glsl.js\";import{getSurfaceValues as o,hillshade as e,HillshadeConfig as l}from\"../surface.js\";import{BaseRasterProcessorShader as a}from\"./BaseRasterProcessorShader.js\";class h extends a{constructor(){super(...arguments),this.type=\"HillshadeShader\",this.isMultidirectional=!1}_process(s){const{texture:i}=this.config,r=o(i,s,this.config.srcImageSize),l=e(r,this.hillshadeConfig,this.isMultidirectional);return new t(l.rgb.multiply(255),l.a)}}s([i],h.prototype,\"isMultidirectional\",void 0),s([r(l)],h.prototype,\"hillshadeConfig\",void 0);export{h as HillshadeShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as e}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as s}from\"./BaseRasterProcessorTechnique.js\";import{computeZFactor as r}from\"../../shaders/raster/surface.js\";import{HillshadeShader as t}from\"../../shaders/raster/processor/HillshadeShader.js\";class a extends s{constructor(){super(...arguments),this.name=\"RasterHillshadeProcessor\",this.type=e.Hillshade,this.shaders={hillshade:new t}}_process(e,s){const t=e.rasterFunction.parameters,a={isMultidirectional:t.hillshadeType>0},i=s.getRasterCellSize(),o=r(t,i),h={...t,factor:o,minValue:0,maxValue:8e3},l=this._getCommonConfig(e,s),n={shader:this.shaders.hillshade,uniforms:{config:l,hillshadeConfig:h},defines:a,optionalAttributes:null,useComputeBuffer:!1},{painter:d,context:m}=e;d.submitDrawMesh(m,n,d.quadMesh)}}export{a as HillshadeTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as e}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as s}from\"./BaseRasterProcessorTechnique.js\";import{LocalShader as t}from\"../../shaders/raster/processor/LocalShader.js\";class o extends s{constructor(){super(...arguments),this.name=\"RasterLocalProcessor\",this.type=e.Local,this.shaders={local:new t}}_process(e,s){const t=e.rasterFunction.parameters,o={constantCount:this._getConstantCount(t.rasters),imageCount:t.imageCount,operationName:t.operationName,isOutputRounded:t.isOutputRounded},r={domainRange:t.domainRange},a=\"conditional\"===t.operationName?t.rasters:t.rasters?.slice(0,2),n=this._getMultipleInputConfig(s,a),i=this._getCommonConfig(e,s),u={shader:this.shaders.local,uniforms:{config:i,domainRangeConfig:r,...n},defines:o,optionalAttributes:null,useComputeBuffer:!1},{painter:c,context:m}=e;c.submitDrawMesh(m,u,c.quadMesh)}}export{o as LocalTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../../../../../chunks/tslib.es6.js\";import{maxMapSizeGpu as o}from\"../../../../../../../../../layers/support/rasterFunctions/pixelUtils.js\";import{uniform as s,define as e,UniformGroup as r}from\"../../../../GraphShaderModule.js\";import{Vec3 as i,abs as a,sign as l,step as p,FixedArray as n,Float as u}from\"../../../../graph/glsl.js\";import{BaseRasterProcessorShader as c}from\"./BaseRasterProcessorShader.js\";class m extends r{}t([s(n.ofType(u,6))],m.prototype,\"includedRanges\",void 0),t([s(n.ofType(u,o))],m.prototype,\"noDataValues\",void 0);class y extends c{constructor(){super(...arguments),this.type=\"MaskShader\",this.isMultiband=!0}_process(t){const o=this._getPixel(t),s=this._computeNoDataFactor(o.r),e=this._computeRangeFactor(o.rgb);let r;if(this.isMultiband){const t=this._computeNoDataFactor(o.g),a=this._computeNoDataFactor(o.b),l=new i(s,t,a).multiply(e);r=l.x.multiply(l.y).multiply(l.z)}else r=s.multiply(e.x);return o.multiply(r)}_computeNoDataFactor(t){const{noDataValues:s}=this.maskConfig;let e=new i(1);for(let r=0;r<o/3;r++){const o=3*r,p=new i(s[o+0],s[o+1],s[o+2]),n=a(l(p.subtract(t)));e=e.multiply(n)}return e.x.multiply(e.y).multiply(e.z)}_computeRangeFactor(t){const{includedRanges:o}=this.maskConfig,s=new i(o[0],o[2],o[4]),e=new i(o[1],o[3],o[5]);return p(s,t).multiply(p(t,e))}}t([e],y.prototype,\"isMultiband\",void 0),t([s(m)],y.prototype,\"maskConfig\",void 0);export{y as MaskShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as s}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as e}from\"./BaseRasterProcessorTechnique.js\";import{MaskShader as r}from\"../../shaders/raster/processor/MaskShader.js\";class a extends e{constructor(){super(...arguments),this.name=\"RasterMaskProcessor\",this.type=s.Mask,this.shaders={mask:new r}}_process(s,e){const r=s.rasterFunction.parameters,a={isMultiband:r.bandCount>1},t={includedRanges:[...r.includedRanges],noDataValues:[...r.noDataValues]},o=this._getCommonConfig(s,e),n={shader:this.shaders.mask,uniforms:{config:o,maskConfig:t},defines:a,optionalAttributes:null,useComputeBuffer:!1},{painter:i,context:u}=s;i.submitDrawMesh(u,n,i.quadMesh)}}export{a as MaskTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../../../../../chunks/tslib.es6.js\";import{uniform as s,define as r,UniformGroup as e}from\"../../../../GraphShaderModule.js\";import{Vec4 as o,floor as a,Mat3 as i}from\"../../../../graph/glsl.js\";import{BaseRasterProcessorShader as d}from\"./BaseRasterProcessorShader.js\";import{invertValue as p}from\"./math.js\";class n extends e{}t([s(i)],n.prototype,\"bandIndexMat3\",void 0);class l extends d{constructor(){super(...arguments),this.type=\"NDVIShader\",this.scaled=!0}_process(t){const s=this._getPixel(t),{r,g:e}=this.ndviConfig.bandIndexMat3.multiply(s.rgb),i=r.subtract(e),d=r.add(e),n=i.multiply(p(d));if(!this.scaled)return new o(n,n,n,s.a);const l=a(n.multiply(100).add(100.5));return new o(l,l,l,s.a)}}t([r],l.prototype,\"scaled\",void 0),t([s(n)],l.prototype,\"ndviConfig\",void 0);export{l as NDVIShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as s}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as e}from\"./BaseRasterProcessorTechnique.js\";import{NDVIShader as r}from\"../../shaders/raster/processor/NDVIShader.js\";class t extends e{constructor(){super(...arguments),this.name=\"RasterNDVIProcessor\",this.type=s.NDVI,this.shaders={ndvi:new r}}_process(s,e){const r=s.rasterFunction.parameters,t={scaled:r.scaled},o={bandIndexMat3:r.bandIndexMat3},n=this._getCommonConfig(s,e),a={shader:this.shaders.ndvi,uniforms:{config:n,ndviConfig:o},defines:t,optionalAttributes:null,useComputeBuffer:!1},{painter:i,context:d}=s;i.submitDrawMesh(d,a,i.quadMesh)}}export{t as NDVITechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../../../../chunks/tslib.es6.js\";import{maxMapSizeGpu as t}from\"../../../../../../../../../layers/support/rasterFunctions/pixelUtils.js\";import{uniform as o,define as r,UniformGroup as a}from\"../../../../GraphShaderModule.js\";import{mix as p,clamp as s,max as i,Vec4 as m,Vec3 as n,step as l,sign as c,dot as u,FixedArray as d,Float as h,Vec2 as y}from\"../../../../graph/glsl.js\";import{oneMinus as f}from\"../../utils.js\";import{BaseRasterProcessorShader as g}from\"./BaseRasterProcessorShader.js\";import{computeMapValue as j}from\"./math.js\";class v extends a{}e([o(d.ofType(h,3*t))],v.prototype,\"rangeMaps\",void 0),e([o(d.ofType(h,2*t))],v.prototype,\"noDataRanges\",void 0),e([o(h)],v.prototype,\"unmatchMask\",void 0),e([o(h)],v.prototype,\"replacementValue\",void 0),e([o(y)],v.prototype,\"clampRange\",void 0);class x extends g{constructor(){super(...arguments),this.type=\"RemapShader\"}_process(e){const o=this._getPixel(e),{rangeMaps:r,unmatchMask:a,clampRange:n,replacementValue:l}=this.remapConfig,{mapValue:c,includeMask:u}=j(o.r,r,t),d=this.replaceUnmatched?l:a.multiply(o.r),h=p(d,c,u),y=s(h,n.x,n.y),f=this._computeNoDataFactor(o.rrr).multiply(i(a,u));return new m(y,y,y,o.a).multiply(f)}_computeNoDataFactor(e){const{noDataRanges:o}=this.remapConfig;let r=new n(0,0,0);for(let a=0;a<t/3;a++){const t=6*a,p=new n(o[t],o[t+2],o[t+4]),s=new n(o[t+1],o[t+3],o[t+5]);r=r.add(l(p,e).multiply(l(e,s)))}return f(c(u(r,new n(1,1,1))))}}e([o(v)],x.prototype,\"remapConfig\",void 0),e([r],x.prototype,\"replaceUnmatched\",void 0);export{x as RemapShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as e}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as a}from\"./BaseRasterProcessorTechnique.js\";import{RemapShader as s}from\"../../shaders/raster/processor/RemapShader.js\";class r extends a{constructor(){super(...arguments),this.name=\"RasterRemapProcessor\",this.type=e.Remap,this.shaders={remap:new s}}_process(e,a){const s=e.rasterFunction.parameters,r={replaceUnmatched:s.allowUnmatched&&null!=s.replacementValue},t={rangeMaps:[...s.rangeMaps],noDataRanges:[...s.noDataRanges],unmatchMask:s.allowUnmatched?1:0,replacementValue:s.replacementValue??0,clampRange:s.clampRange},n=this._getCommonConfig(e,a),o={shader:this.shaders.remap,uniforms:{config:n,remapConfig:t},defines:r,optionalAttributes:null,useComputeBuffer:!1},{painter:m,context:p}=e;m.submitDrawMesh(p,o,m.quadMesh)}}export{r as RemapTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BaseRasterColorizerShader as e}from\"../BaseRasterColorizerShader.js\";class r extends e{constructor(){super(...arguments),this.type=\"ReprojectShader\"}_colorize(e){return this._getPixel(e)}}export{r as ReprojectShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as e}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as r}from\"./BaseRasterProcessorTechnique.js\";import{ReprojectShader as t}from\"../../shaders/raster/processor/ReprojectShader.js\";class o extends r{constructor(){super(...arguments),this.name=\"RasterReprojectProcessor\",this.type=e.Reproject,this.shaders={reproject:new t}}_process(e,r){const t=e.rasterFunction.parameters,o=this._getInterpolationDefines(r.interpolation,!!t.requireNNEdge),{config:i,projectionConfig:n,projectionDefines:s}=this._getReprojectConfig(r),a={shader:this.shaders.reproject,uniforms:{config:i,projectionConfig:n},defines:{...s,...o,applyPixelMask:!1},optionalAttributes:null,useComputeBuffer:!1},{interpolation:c}=r;r.interpolation=\"nearest\";const{painter:p,context:u}=e;p.submitDrawMesh(u,a,p.quadMesh),r.interpolation=c,r.projected=!0}_getReprojectConfig(e){const{source:r}=e,{names:t,textures:o}=e.getTextures({forProcessing:!0}),i={texture:{texture:o[t.indexOf(\"u_image\")],unit:0},dvsMat3:new Float32Array([2,0,0,0,2,0,-1,-1,0]),coordScale:[1,1],srcImageSize:[r.width,r.height],opacity:1},n=o[t.indexOf(\"u_transformGrid\")],{transformGrid:s}=e,a=!(!n||!s);return{config:i,projectionConfig:a?{transformTexture:{texture:n,unit:1},targetImageSize:[e.width,e.height],transformSpacing:s.spacing,transformGridSize:s.size}:void 0,projectionDefines:{applyProjection:a,lookupProjection:a&&1===s.spacing[0]}}}_getInterpolationDefines(e,r){const t=\"bilinear\"===e&&r;return{bilinear:t,bicubic:\"cubic\"===e,nearestOnEdge:t}}}export{o as ReprojectTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../../../../../../chunks/tslib.es6.js\";import{uniform as e}from\"../../../../GraphShaderModule.js\";import{clamp as o,Float as s,Vec4 as t,Vec3 as i}from\"../../../../graph/glsl.js\";import{rgb2hsv as l,hsv2rgb as p}from\"../colorConversion.js\";import{lookupColor as a,ColormapConfig as m}from\"../lut.js\";import{HillshadeShader as n}from\"./HillshadeShader.js\";class d extends n{constructor(){super(...arguments),this.type=\"ShadedReliefShader\"}_process(r){const e=super._process(r),{minValue:m,maxValue:n}=this.hillshadeConfig,d=this._getPixel(r),h=n.subtract(m),u=d.r.subtract(m),c=o(u.divide(h),new s(0),new s(1)),f=a(new t(c,c,c,1),new s(255),this.colormapConfig),x=l(f.xyz),g=p(new i(x.xy,e.x.divide(255))).multiply(255);return new t(g,f.a.multiply(e.a))}}r([e(m)],d.prototype,\"colormapConfig\",void 0);export{d as ShadedReliefShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as e}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as s}from\"./BaseRasterProcessorTechnique.js\";import{computeZFactor as r}from\"../../shaders/raster/surface.js\";import{ShadedReliefShader as o}from\"../../shaders/raster/processor/ShadedReliefShader.js\";class t extends s{constructor(){super(...arguments),this.name=\"RasterShadedReliefProcessor\",this.type=e.ShadedRelief,this.shaders={shadedRelief:new o}}_process(e,s,o){const t=e.rasterFunction.parameters,a={isMultidirectional:t.hillshadeType>0},i=s.getRasterCellSize(),d=r(t,i),h={...t,factor:d},n={colormapTexture:{texture:o,unit:1},colormapOffset:t.offset,colormapMaxIndex:t.indexedColormap.length/4-1},f=this._getCommonConfig(e,s),l={shader:this.shaders.shadedRelief,uniforms:{config:f,hillshadeConfig:h,colormapConfig:n},defines:a,optionalAttributes:null,useComputeBuffer:!1},{painter:c,context:m}=e;c.submitDrawMesh(m,l,c.quadMesh)}}export{t as ShadedReliefTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../../../../chunks/tslib.es6.js\";import{uniform as t,define as o,UniformGroup as i}from\"../../../../GraphShaderModule.js\";import{pow as r,Vec2 as p,sqrt as s,atan as l,Vec4 as d,Float as u}from\"../../../../graph/glsl.js\";import{getSurfaceValues as c,computeDeltaZ as m}from\"../surface.js\";import{BaseRasterProcessorShader as a}from\"./BaseRasterProcessorShader.js\";import{roundOutput as n}from\"./math.js\";class h extends i{}e([t(u)],h.prototype,\"pixelSizePower\",void 0),e([t(u)],h.prototype,\"pixelSizeFactor\",void 0),e([t(u)],h.prototype,\"zFactor\",void 0),e([t(p)],h.prototype,\"cellSize\",void 0);class y extends a{constructor(){super(...arguments),this.type=\"SlopeShader\",this.isOutputRounded=!1,this.percentRise=!1}_process(e){const{cellSize:t,pixelSizePower:o,pixelSizeFactor:i,zFactor:u}=this.slopeConfig,a=r(t,new p(o)).multiply(i).add(u).divide(t.multiply(8)),{texture:h}=this.config,y=c(h,e,this.config.srcImageSize),{x:f,y:S}=m(y,a),x=s(f.multiply(f).add(S.multiply(S))),z=this.percentRise?x.multiply(100):l(x).multiply(57.2957795),v=new d(z,z,z,y[9]);return this.isOutputRounded?n(v):v}}e([o],y.prototype,\"isOutputRounded\",void 0),e([o],y.prototype,\"percentRise\",void 0),e([t(h)],y.prototype,\"slopeConfig\",void 0);export{y as SlopeShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as e}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as s}from\"./BaseRasterProcessorTechnique.js\";import{SlopeShader as o}from\"../../shaders/raster/processor/SlopeShader.js\";class r extends s{constructor(){super(...arguments),this.name=\"RasterSlopeProcessor\",this.type=e.Slope,this.shaders={slope:new o}}_process(e,s){const o=e.rasterFunction.parameters,r={isOutputRounded:o.isOutputRounded,percentRise:\"percent-rise\"===o.slopeType},t={cellSize:s.getRasterCellSize(),pixelSizePower:\"adjusted\"===o.slopeType?o.pixelSizePower:0,pixelSizeFactor:\"adjusted\"===o.slopeType?o.pixelSizeFactor:0,zFactor:o.zFactor},i=this._getCommonConfig(e,s),p={shader:this.shaders.slope,uniforms:{config:i,slopeConfig:t},defines:r,optionalAttributes:null,useComputeBuffer:!1},{painter:a,context:n}=e;a.submitDrawMesh(n,p,a.quadMesh)}}export{r as SlopeTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../../../../../chunks/tslib.es6.js\";import{define as s,uniform as r}from\"../../../../GraphShaderModule.js\";import{Vec4 as o}from\"../../../../graph/glsl.js\";import{stretch as e,StretchConfig as i}from\"../stretch.js\";import{BaseRasterProcessorShader as p}from\"./BaseRasterProcessorShader.js\";import{roundOutput as a}from\"./math.js\";class h extends p{constructor(){super(...arguments),this.type=\"StretchShader\",this.isMultiband=!0,this.isOutputRounded=!1,this.useGamma=!1}_process(t){const s=this._getPixel(t);let r=e(s,this.stretchConfig,this.useGamma,1);return this.isMultiband||(r=new o(r.rrr,r.a)),this.isOutputRounded?a(r):r}}t([s],h.prototype,\"isMultiband\",void 0),t([s],h.prototype,\"isOutputRounded\",void 0),t([s],h.prototype,\"useGamma\",void 0),t([r(i)],h.prototype,\"stretchConfig\",void 0);export{h as StretchShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{RasterTechniqueType as s}from\"../../TechniqueType.js\";import{BaseRasterProcessorTechnique as e}from\"./BaseRasterProcessorTechnique.js\";import{StretchShader as t}from\"../../shaders/raster/processor/StretchShader.js\";class r extends e{constructor(){super(...arguments),this.name=\"RasterStretchProcessor\",this.type=s.Stretch,this.shaders={stretch:new t}}_process(s,e){const t=s.rasterFunction.parameters,r={isMultiband:t.bandCount>1,isOutputRounded:t.isOutputRounded,useGamma:t.useGamma},o=this._getCommonConfig(s,e),a={shader:this.shaders.stretch,uniforms:{config:o,stretchConfig:t},defines:r,optionalAttributes:null,useComputeBuffer:!1},{painter:i,context:n}=s;i.submitDrawMesh(n,a,i.quadMesh)}}export{r as StretchTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{tileSize as e}from\"../../../definitions.js\";import{Technique as o}from\"../Technique.js\";import{RasterTechniqueType as r}from\"../TechniqueType.js\";import{AspectTechnique as s}from\"./processor/AspectTechnique.js\";import{BandArithmeticTechnique as t}from\"./processor/BandArithmeticTechnique.js\";import{ColormapToRGBTechnique as i}from\"./processor/ColormapToRGBTechnique.js\";import{CompositeBandTechnique as c}from\"./processor/CompositeBandTechnique.js\";import{ComputeChangeTechnique as p}from\"./processor/ComputeChangeTechnique.js\";import{ContrastBrightnessTechnique as n}from\"./processor/ContrastBrightnessTechnique.js\";import{ConvolutionTechnique as m}from\"./processor/ConvolutionTechnique.js\";import{CurvatureTechnique as h}from\"./processor/CurvatureTechnique.js\";import{ExtractBandTechnique as u}from\"./processor/ExtractBandTechnique.js\";import{FocalStatisticsTechnique as a}from\"./processor/FocalStatisticsTechnique.js\";import{GrayscaleTechnique as f}from\"./processor/GrayscaleTechnique.js\";import{HillshadeTechnique as q}from\"./processor/HillshadeTechnique.js\";import{LocalTechnique as j}from\"./processor/LocalTechnique.js\";import{MaskTechnique as T}from\"./processor/MaskTechnique.js\";import{NDVITechnique as l}from\"./processor/NDVITechnique.js\";import{RemapTechnique as d}from\"./processor/RemapTechnique.js\";import{ReprojectTechnique as C}from\"./processor/ReprojectTechnique.js\";import{ShadedReliefTechnique as B}from\"./processor/ShadedReliefTechnique.js\";import{SlopeTechnique as _}from\"./processor/SlopeTechnique.js\";import{StretchTechnique as R}from\"./processor/StretchTechnique.js\";import{createNewFBO as S}from\"./processor/textureUtils.js\";const g=new Map([[\"Aspect\",s],[\"BandArithmetic\",t],[\"ColormapToRGB\",i],[\"CompositeBand\",c],[\"ComputeChange\",p],[\"ContrastBrightness\",n],[\"Convolution\",m],[\"Curvature\",h],[\"ExtractBand\",u],[\"Grayscale\",f],[\"Hillshade\",q],[\"Local\",j],[\"Mask\",T],[\"NDVI\",l],[\"Remap\",d],[\"Reproject\",C],[\"ShadedRelief\",B],[\"Slope\",_],[\"Statistics\",a],[\"Stretch\",R]]);class v extends o{constructor(){super(...arguments),this.type=r.RasterProcessor,this.shaders={},this._techniques=new Map}shutdown(e){super.shutdown(e),this._fbo?.dispose(),this._fbo=void 0;for(const o of this._techniques.values())o.shutdown();this._techniques.clear()}render(o,r){this._fbo??=S(o.context,e,e);let{name:s}=o.rasterFunction;if(\"Arithmetic\"===s&&(s=\"Local\"),!this._techniques.has(s)){const e=g.get(s);if(!e)return;this._techniques.set(s,new e)}this._techniques.get(s).render(o,{...r,processorFbo:this._fbo})}}export{v as RasterProcessorTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../geometry/support/aaBoundingRect.js\";import{getWorldWidth as i}from\"../../viewpointUtils.js\";import{RasterTile as t}from\"./RasterTile.js\";import{WGLDrawPhase as s}from\"../webgl/enums.js\";import o from\"../webgl/TileContainer.js\";import{RasterColorizerTechnique as r}from\"../webgl/shaderGraph/techniques/raster/RasterColorizerTechnique.js\";import{RasterProcessorTechnique as n}from\"../webgl/shaderGraph/techniques/raster/RasterProcessorTechnique.js\";class c extends o{constructor(){super(...arguments),this.isCustomTilingScheme=!1}createTile(e){const i=this._getTileBounds(e),[s,o]=this.tileInfoView.tileInfo.size,r=this.tileInfoView.getTileResolution(e.level);return new t(e,r,i[0],i[3],s,o)}onAttach(){super.onAttach(),this._colorizerTechnique=new r,this._processorTechnique=new n}onDetach(){super.onDetach(),this._colorizerTechnique?.shutdown(),this._colorizerTechnique=void 0,this._processorTechnique?.shutdown(),this._processorTechnique=void 0}doRender(e){if(!this.visible||e.drawPhase!==s.MAP||!this._colorizerTechnique)return;const{rasterFunctionChain:i}=this;if(i?.functions?.length){if(!this._processorTechnique)return;const{functions:t,hasBranches:s}=i;for(const i of t){if(\"Constant\"===i.name||\"Identity\"===i.name)continue;e.rasterFunction=i,e.hasBranches=s,super.doRender(e);const t=this.children.map((e=>e.bitmap));this._processorTechnique.render(e,{bitmaps:t})}}e.rasterFunction=null,super.doRender(e);const t=this.children.map((e=>e.bitmap));this._colorizerTechnique.render(e,{bitmaps:t})}_getTileBounds(t){const s=this.tileInfoView.getTileBounds(e(),t);if(this.isCustomTilingScheme&&t.world){const{tileInfo:e}=this.tileInfoView,o=i(e.spatialReference);if(o){const i=e.lodAt(t.level);if(!i)return s;const{resolution:r}=i,n=r*e.size[0];s[0]=o*t.world+e.origin.x+t.col*n,s[2]=s[0]+n}}return s}}export{c as RasterTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Logger.js\";import{assertIsSome as s}from\"../../../../core/maybe.js\";import{debounce as r,isAbortError as a}from\"../../../../core/promiseUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as n}from\"../../../../core/support/UpdatingHandles.js\";import h from\"../../../../geometry/Extent.js\";import c from\"../../../../geometry/Point.js\";import u from\"../../../../layers/support/PixelBlock.js\";import d from\"../../../../layers/support/TileInfo.js\";import{update as p,unregister as m,getRasterId as y,register as g}from\"../../../../layers/support/rasterDatasets/RawBlockCache.js\";import{getWorldWidth as _,computeProjectedScales as f}from\"../../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import b from\"../../tiling/TileInfoView.js\";import\"../../tiling/TileKey.js\";import w from\"../../tiling/TileQueue.js\";import I from\"../../tiling/TileStrategy.js\";import{tileSize as P}from\"../../engine/webgl/definitions.js\";import{TaskPriority as S}from\"../../../support/Scheduler.js\";import{getWebGLCapabilities as R}from\"../../../webgl/capabilities.js\";const C=[0,0];let U=class extends t{constructor(){super(...arguments),this._updatingHandles=new n,this._emptyTilePixelBlock=null,this._tileStrategy=null,this._tileInfoView=null,this._fetchQueue=null,this._blockCacheRegistryUrl=null,this._blockCacheRegistryId=null,this._srcResolutions=[],this.previousLOD=null,this._needBlockCacheUpdate=!1,this._globalSymbolizerParams=null,this._symbolizerParams=null,this._abortController=null,this._isCustomTilingScheme=!1,this._maxIndexedColormapSize=0,this._rasterFunctionState=\"na\",this._globalUpdateRequested=!1,this.attached=!1,this.timeExtent=null,this.redrawOrRefetch=r((async(e={})=>{const t=this._rasterFunctionState,i=e.reprocess||\"gpu\"===t&&!this.canUseWebGLForProcessing||\"cpu\"===t&&this.canUseWebGLForProcessing;if(i&&(await this._updatingHandles.addPromise(this.layer.updateRasterFunction()),this.updateRasterFunctionParameters()),!this.previousLOD||this.layerView.suspended)return;const s=this._rasterFunctionState,{type:r}=this;return e.refetch||\"raster\"!==r&&!!i||\"cpu\"===s||\"cpu\"===t?this._updatingHandles.addPromise(this.doRefresh()):this._updatingHandles.addPromise(this._redrawImage(e.signal))}))}destroy(){this._updatingHandles.destroy()}get canUseWebGLForProcessing(){return!1}get canUseLocalSymbolizerParams(){return(this.canUseWebGLForProcessing||\"rasterVF\"===this.type)&&!this.layerView.hasTilingEffects}get useWebGLForProcessing(){return this._get(\"useWebGLForProcessing\")??!0}set useWebGLForProcessing(e){this._set(\"useWebGLForProcessing\",e)}get useProgressiveUpdate(){return this._get(\"useProgressiveUpdate\")??!0}set useProgressiveUpdate(e){if(this._tileStrategy&&this.useProgressiveUpdate!==e){this._tileStrategy.destroy(),this.container.removeAllChildren();const t=this._getCacheSize(e);this._tileStrategy=new I({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._set(\"useProgressiveUpdate\",e),this.layerView.requestUpdate()}}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume();const{extent:t,resolution:i,scale:s}=e.state,r=this._tileInfoView.getClosestInfoForScale(s);if(this.layer.raster){if(!this.useProgressiveUpdate||this._needBlockCacheUpdate){const e=this._srcResolutions[r.level],s=\"toJSON\"in t?t:h.fromJSON(t);p(this._blockCacheRegistryUrl,this._blockCacheRegistryId,s,i,e,this.layer.raster.ioConfig.sampling)}this._needBlockCacheUpdate=!1,this.previousLOD?.level!==r.level&&(this.previousLOD=r,null!=this._symbolizerParams&&this.canUseLocalSymbolizerParams&&this._updateSymbolizerParams(),this._tileStrategy.updateCacheSize(0))}}moveEnd(){!this.layerView.hasTilingEffects&&this.useProgressiveUpdate||(this._abortController&&this._abortController.abort(),this._abortController=new AbortController,0===this._fetchQueue.length&&this._redrawImage(this._abortController.signal).then((()=>{this._globalUpdateRequested=!1,this.layerView.requestUpdate()})));const e=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy.updateCacheSize(e),this.layerView.requestUpdate()}get updating(){return this._globalUpdateRequested||this._updatingHandles?.updating}attach(){const e=R();this._maxIndexedColormapSize=4*(e.maxTextureSize||4096),this._initializeTileInfo(),this._tileInfoView=new b(this.layerView.tileInfo,this.layerView.fullExtent);const t=this._computeFetchConcurrency();this._fetchQueue=new w({tileInfoView:this._tileInfoView,concurrency:t,process:(e,t)=>this._fetchTile(e,t),priority:S.MAPVIEW_FETCH_QUEUE,scheduler:this.scheduler});const i=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy=new I({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:i,tileInfoView:this._tileInfoView}),this._updateBlockCacheRegistry()}detach(){this._tileStrategy.destroy(),this._fetchQueue.clear(),this.container.removeAllChildren(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null,m(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryUrl=this._blockCacheRegistryId=null}acquireTile(e){const t=this.container.createTile(e);return this._updatingHandles.addPromise(this._enqueueTileFetch(t)),this.layerView.requestUpdate(),this._needBlockCacheUpdate=!0,this._globalUpdateRequested=this.layerView.hasTilingEffects||!this.useProgressiveUpdate,t}releaseTile(e){this._fetchQueue.abort(e.key.id),this.container.removeChild(e),e.once(\"detach\",(()=>{e.destroy(),this.layerView.requestUpdate()})),this.layerView.requestUpdate()}createEmptyTilePixelBlock(e=null){const t=null==e||e.join(\",\")===this._tileInfoView.tileInfo.size.join(\",\");if(t&&null!=this._emptyTilePixelBlock)return this._emptyTilePixelBlock;e=e||this._tileInfoView.tileInfo.size;const[i,s]=e,r=new u({width:i,height:s,pixels:[new Uint8Array(i*s)],mask:new Uint8Array(i*s),pixelType:\"u8\"});return t&&(this._emptyTilePixelBlock=r),r}_getBandIds(){if(!(\"rasterFunctionChain\"in this.container)||!this.container.rasterFunctionChain)return this.layer.bandIds;const{bandIds:e,raster:t}=this.layer,i=\"rasterFunction\"in t?t.rasterFunction.rawInputBandIds:null;return e?.length&&i?.length&&1!==t.rasterInfo.bandCount?e.map((e=>i[Math.min(e,i.length-1)])):\"rasterFunction\"in t?i:e}updateRasterFunctionParameters(){}_fetchTile(e,t){const i=this._getFetchOptions(e.level,t.signal);return this.fetchTile(e,i)}_getFetchOptions(e,t){const{canUseWebGLForProcessing:i}=this,{layerView:s}=this,{tileInfo:r}=s,a=!r.isWrappable&&null!=_(s.view.spatialReference),o=i&&this.layer.raster.hasUniqueSourceStorageInfo,{layer:l}=this.layerView,n=l.serviceRasterInfo?.storageInfo.isBsqTile?l.bandIds:void 0;return{allowPartialFill:!0,datumTransformation:s.datumTransformation,interpolation:i?\"nearest\":this.layer.interpolation,registryId:this._blockCacheRegistryId,requestRawData:o,skipRasterFunction:\"raster\"===this.type&&null!=this.container.rasterFunctionChain,signal:t,srcResolution:this._srcResolutions[e],timeExtent:s.timeExtent,tileInfo:r,bandIds:n,disableWrapAround:a}}_getCacheSize(e){return e?40:0}_initializeTileInfo(){const{layerView:e}=this,t=e.view.spatialReference;if(this._canUseLayerLODs()){const{origin:i,lods:s}=this.layer.tileInfo,r=s.map((({scale:e})=>e)),a=d.create({spatialReference:t,size:P,scales:r,origin:i});return e.set(\"tileInfo\",a),void(this._srcResolutions=s.map((({resolution:e})=>({x:e,y:e}))))}const{scales:i,srcResolutions:r,isCustomTilingScheme:a}=f(this.layer.serviceRasterInfo,t,{tileSize:P,alignGlobalDatasetWithAGOL:!0,limitToSrcResolution:!1}),o=d.create({spatialReference:t,size:P,scales:i}),l=0===o.origin.x;s(e.fullExtent);const{xmin:n,ymax:h}=e.fullExtent;(l||a&&o.origin.x>n)&&(o.origin=new c({x:n,y:h,spatialReference:t})),this._isCustomTilingScheme=a,e.set(\"tileInfo\",o),this._srcResolutions=r??[]}_canUseLayerLODs(){const{layer:e,layerView:t}=this;if(\"Map\"!==e.raster.tileType)return!1;const{lods:i}=e.tileInfo,s=t.view.constraints?.effectiveLODs;return s?.length===i.length&&s.every((({scale:e},t)=>Math.abs(e-i[t].scale)<.001))}_computeFetchConcurrency(){const{blockBoundary:e}=this.layer.serviceRasterInfo.storageInfo,t=e[e.length-1];return(t.maxCol-t.minCol+1)*(t.maxRow-t.minRow+1)>64?2:10}async _enqueueTileFetch(e,t){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key),r=this._getBandIds();let o=!this.useProgressiveUpdate||this.layerView.hasTilingEffects&&!this._globalSymbolizerParams;if(this._globalUpdateRequested&&!this.layerView.moving&&0===this._fetchQueue.length){o=!1;try{await this._redrawImage(this._abortController?.signal)}catch(s){a(s)&&i.getLogger(this).error(s)}this._globalUpdateRequested=!1}this.canUseLocalSymbolizerParams&&null==this._symbolizerParams&&this._updateSymbolizerParams();const l=this._tileInfoView.getTileCoords(C,e.key),n=this._tileInfoView.getTileResolution(e.key);await this.updateTileSource(e,{source:t,symbolizerParams:this._symbolizerParams,globalSymbolizerParams:this._globalSymbolizerParams,suspended:o,bandIds:r,coords:l,resolution:n}),e.once(\"attach\",(()=>this.layerView.requestUpdate())),this.container.addChild(e)}catch(s){a(s)||i.getLogger(this).error(s)}this.layerView.requestUpdate()}}async _redrawImage(e){if(0===this.container.children.length)return;await this.layer.updateRenderer(),this.layerView.hasTilingEffects?await this._updateGlobalSymbolizerParams(e):(this.canUseLocalSymbolizerParams&&this._updateSymbolizerParams(),this._globalSymbolizerParams=null);const t=this.container.children.map((async e=>this.updateTileSymbolizerParameters(e,{local:this._symbolizerParams,global:this._globalSymbolizerParams})));await Promise.allSettled(t),this.container.requestRender()}async _updateGlobalSymbolizerParams(e){const t=this._getFetchOptions(this.previousLOD.level,e),i=await this.layer.fetchPixels(this.layerView.view.extent,this.layerView.view.width,this.layerView.view.height,{...t,interpolation:\"nearest\",requestRawData:!1,skipRasterFunction:!1});if(!i?.pixelBlock)return;const{resolution:s}=this.previousLOD,{isBsqTile:r}=this.layer.raster.rasterInfo.storageInfo,a=r?null:this._getBandIds(),o=this.layer.symbolizer.generateWebGLParameters({pixelBlock:i.pixelBlock.extractBands(a),isGCS:this.layerView.view.spatialReference.isGeographic,resolution:{x:s,y:s},bandIds:a});!this.canUseWebGLForProcessing&&o&&\"stretch\"===o.type&&this.layer.renderer&&\"raster-stretch\"===this.layer.renderer.type&&(o.factor=o.factor.map((e=>255*e)),o.minOutput=Math.round(255*o.minOutput),o.maxOutput=Math.round(255*o.maxOutput)),this._globalSymbolizerParams=o}_updateSymbolizerParams(){const{resolution:e}=this.previousLOD,t=this._getBandIds();this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null,isGCS:this.layerView.view.spatialReference.isGeographic,resolution:{x:e,y:e},bandIds:t})}_updateBlockCacheRegistry(e=!1){const{layer:t,layerView:i}=this,{raster:s}=t,{multidimensionalDefinition:r}=t.normalizeRasterFetchOptions({multidimensionalDefinition:t.multidimensionalDefinition,timeExtent:i.timeExtent}),a=s.rasterInfo.multidimensionalInfo?s.getSliceIndex(r):null,o=s.rasterInfo.storageInfo.isBsqTile&&t.bandIds?.length?t.bandIds:null,l=y(s.rasterId,a,o);if(l!==this._blockCacheRegistryUrl){if(null!=this._blockCacheRegistryUrl&&m(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryId=g(l,s.rasterInfo),e){const{view:e}=i,t=this._tileInfoView.getClosestInfoForScale(e.scale),r=this._srcResolutions[t.level];p(l,this._blockCacheRegistryId,e.extent,e.resolution,r,s.ioConfig.sampling)}this._blockCacheRegistryUrl=l}}async doRefresh(){if(!this.attached||!this.previousLOD||this.layerView.suspended)return;await this.layer.updateRenderer(),this.canUseLocalSymbolizerParams&&this._updateSymbolizerParams(),this._updateBlockCacheRegistry(!0),this._fetchQueue.reset();const e=[];this._globalUpdateRequested=this.layerView.hasTilingEffects||!this.useProgressiveUpdate,this._tileStrategy.refresh((t=>e.push(this._enqueueTileFetch(t)))),await this._updatingHandles.addPromise(Promise.allSettled(e))}};e([o()],U.prototype,\"_globalUpdateRequested\",void 0),e([o()],U.prototype,\"attached\",void 0),e([o()],U.prototype,\"canUseWebGLForProcessing\",null),e([o()],U.prototype,\"canUseLocalSymbolizerParams\",null),e([o()],U.prototype,\"container\",void 0),e([o()],U.prototype,\"layer\",void 0),e([o()],U.prototype,\"layerView\",void 0),e([o()],U.prototype,\"scheduler\",void 0),e([o()],U.prototype,\"type\",void 0),e([o()],U.prototype,\"useWebGLForProcessing\",null),e([o()],U.prototype,\"useProgressiveUpdate\",null),e([o()],U.prototype,\"timeExtent\",void 0),e([o()],U.prototype,\"updating\",null),U=e([l(\"esri.views.2d.layers.imagery.BaseImageryTileSubView2D\")],U);export{U as BaseImageryTileSubView2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import has from\"../../../../core/has.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{isFunctionRaster as s}from\"../../../../layers/support/rasterDatasets/datasetUtils.js\";import{getBytesPerPixel as i}from\"../../../../layers/support/rasterFormats/pixelRangeUtils.js\";import{convertGeometryToMask as o}from\"../../../../layers/support/rasterFunctions/clipUtils.js\";import{RasterTileContainer as n}from\"../../engine/imagery/RasterTileContainer.js\";import{BaseImageryTileSubView2D as a}from\"./BaseImageryTileSubView2D.js\";import{canUseMajorityInterpolationOnDataSource as l}from\"../support/util.js\";let c=class extends a{constructor(){super(...arguments),this.type=\"raster\"}get canUseWebGLForProcessing(){const{loaded:e,symbolizer:t}=this.layer;if(!e||!t)return!1;const r=t.lookup.colormapLut?.indexedColormap,s=r&&r.length>this._maxIndexedColormapSize,o=i(this.layer.serviceRasterInfo);return!(has(\"ios\")&&o>4)&&this.useWebGLForProcessing&&t.canRenderInWebGL&&!s&&!(\"majority\"===this.layer.interpolation&&l(this.layer))}attach(){super.attach(),this.container=new n(this._tileInfoView),this.container.isCustomTilingScheme=this._isCustomTilingScheme,this.updateRasterFunctionParameters()}detach(){super.detach(),this.container.removeAllChildren(),this.container=null}fetchTile(e,t){return this.layer.fetchTile(e.level,e.row,e.col,t)}updateRasterFunctionParameters(){const{raster:e,type:t}=this.layer,{container:r}=this;if(\"Function\"!==e.datasetFormat||\"wcs\"===t)return r.rasterFunctionChain=null,r.children.forEach((e=>{const{bitmap:t}=e;t&&(t.suspended=!0,t.processed=!1,t.projected&&(t.invalidateTexture(),t.rasterTexture=null))})),void(this._rasterFunctionState=\"na\");const s=this._rasterFunctionState,{rasterFunction:i,primaryRasters:o}=e,n=i.supportsGPU&&(!o||o.rasters.length<=1),a=n?i.flatWebGLFunctionChain:null,{renderer:l}=this.layer,c=!n||!a?.functions.length||\"raster-stretch\"===l?.type&&l.dynamicRangeAdjustment||!this.canUseWebGLForProcessing;r.rasterFunctionChain=c?null:this._addProjection(a);const p=null==i?\"na\":r.rasterFunctionChain?\"gpu\":\"cpu\",u=s===p||\"na\"===s&&\"cpu\"===p&&0===a?.functions?.length;r.children.forEach((e=>{const{bitmap:t}=e;t&&(t.suspended=!u,t.processed=!1,t.processedTexture=null)})),this._rasterFunctionState=p}async updateTileSource(e,t){const r=this._getBandIds(),i=this._getLayerInterpolation(),{canUseWebGLForProcessing:n}=this,{source:a,globalSymbolizerParams:l,suspended:c,coords:p,resolution:u}=t,d=this.layerView.hasTilingEffects?l:t.symbolizerParams,{bitmap:h}=e;if([h.x,h.y]=p,h.resolution=u,null!=a?.pixelBlock){const e={extent:a.extent,pixelBlock:a.pixelBlock,srcPixelSize:a.srcTilePixelSize};if(h.rawPixelData=e,n)h.source=a.pixelBlock,h.isRendereredSource=!1;else{const t=await this.layer.applyRenderer(e,\"stretch\"===l?.type?l:void 0);h.source=t,h.isRendereredSource=!0}h.symbolizerParameters=n?d:null,h.transformGrid=n?a.transformGrid:null}else{const e=this.createEmptyTilePixelBlock();h.source=e,h.symbolizerParameters=n?d:null,h.transformGrid=null}const{isBsqTile:m}=this.layer.raster.rasterInfo.storageInfo;h.bandIds=n&&!m?r:null,h.width=this._tileInfoView.tileInfo.size[0],h.height=this._tileInfoView.tileInfo.size[1],h.interpolation=i,h.suspended=c;const{raster:y}=this.layer;if(s(y)){const t=y.getClippingGeometry(this.layerView.view.spatialReference);if(t){const r=y.getTileExtentFromTileInfo(e.key.level,e.key.row,e.key.col,this._tileInfoView.tileInfo);h.mask=o({srcExtent:r,geometry:t,size:[h.width,h.height]})}}h.invalidateTexture()}async updateTileSymbolizerParameters(e,t){const{local:r,global:s}=t,i=this._getBandIds(),o=this._getLayerInterpolation(),{canUseWebGLForProcessing:n}=this,{bitmap:a}=e,{rawPixelData:l}=a;n||null==l?(a.isRendereredSource&&null!=l&&(a.source=l.pixelBlock),a.isRendereredSource=!1):(a.source=await this.layer.applyRenderer(l,\"stretch\"===s?.type?s:void 0),a.isRendereredSource=!0),a.symbolizerParameters=n?this.layerView.hasTilingEffects?s:r:null;const{isBsqTile:c}=this.layer.raster.rasterInfo.storageInfo;a.bandIds=n&&!c?i:null,a.interpolation=o,a.suspended=!1}_getLayerInterpolation(){const{interpolation:e,renderer:t}=this.layer;if(!t)return e;const r=t.type;return\"raster-colormap\"===r||\"unique-value\"===r?\"nearest\":\"raster-stretch\"===t.type&&null!=t.colorRamp?\"bilinear\"===e||\"cubic\"===e?\"bilinear\":\"nearest\":e}_addProjection(e){return e?.functions?.length&&!e.hasFocalFunction&&e.functions.unshift({name:\"Reproject\",parameters:{targetImageSize:this._tileInfoView.tileInfo.size,requireNNEdge:e.isSourceSingleBand},pixelType:\"f32\",id:0,isNoopProcess:!1}),e}};e([t()],c.prototype,\"canUseWebGLForProcessing\",null),e([t()],c.prototype,\"container\",void 0),e([t()],c.prototype,\"layer\",void 0),e([t()],c.prototype,\"type\",void 0),c=e([r(\"esri.views.2d.layers.imagery.ImageryTileView2D\")],c);export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{set as t,multiply as e}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{RasterVFDisplayObject as i}from\"./RasterVFDisplayObject.js\";import{TiledDisplayObject as a}from\"../webgl/TiledDisplayObject.js\";class r extends a{constructor(t,e,s,a,r,l,o=null){super(t,e,s,a,r,l),this.tileData=new i(o),this.tileData.coordScale=[r,l],this.tileData.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.tileData.destroy(),this.tileData=null,this.stage=null}set stencilRef(t){this.tileData.stencilRef=t}get stencilRef(){return this.tileData.stencilRef}_createTransforms(){return{displayViewScreenMat3:s(),tileMat3:s()}}setTransform(s){super.setTransform(s);const i=this.resolution/(s.resolution*s.pixelRatio),a=this.transforms.tileMat3,[r,l]=this.tileData.offset,o=[this.x+r*this.resolution,this.y-l*this.resolution],[n,h]=s.toScreenNoRotation([0,0],o),{symbolTileSize:c}=this.tileData.symbolizerParameters,f=Math.round((this.width-this.tileData.offset[0])/c)*c,m=Math.round((this.height-this.tileData.offset[1])/c)*c,D=f/this.rangeX*i,d=m/this.rangeY*i;t(a,D,0,0,0,d,0,n,h,1),e(this.transforms.displayViewScreenMat3,s.displayViewMat3,a),this.tileData.transforms.displayViewScreenMat3=this.transforms.displayViewScreenMat3}onAttach(){this.tileData.stage=this.stage}onDetach(){this.tileData.stage=null}}export{r as RasterVFTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../geometry/support/aaBoundingRect.js\";import s from\"./BrushVectorField.js\";import{RasterVFTile as r}from\"./RasterVFTile.js\";import{WGLDrawPhase as t}from\"../webgl/enums.js\";import i from\"../webgl/TileContainer.js\";class o extends i{constructor(){super(...arguments),this.isCustomTilingScheme=!1,this.symbolTypes=[\"triangle\"]}createTile(s){const t=this.tileInfoView.getTileBounds(e(),s),[i,o]=this.tileInfoView.tileInfo.size,n=this.tileInfoView.getTileResolution(s.level);return new r(s,n,t[0],t[3],i,o)}prepareRenderPasses(e){const r=e.registerRenderPass({name:\"imagery (vf tile)\",brushes:[s],target:()=>this.children.map((e=>e.tileData)),drawPhase:t.MAP});return[...super.prepareRenderPasses(e),r]}doRender(e){this.visible&&e.drawPhase===t.MAP&&this.symbolTypes.forEach((s=>{e.renderPass=s,super.doRender(e)}))}}export{o as RasterVFTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{watch as t}from\"../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{sampleVectorField as o}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFTileContainer as s}from\"../../engine/imagery/RasterVFTileContainer.js\";import{BaseImageryTileSubView2D as l}from\"./BaseImageryTileSubView2D.js\";let a=class extends l{constructor(){super(...arguments),this._handle=null,this.type=\"rasterVF\"}async fetchTile(e,t){t={...t,interpolation:\"nearest\",requestProjectedLocalDirections:!0};const i=await this.layer.fetchTile(e.level,e.row,e.col,t);return\"vector-magdir\"===this.layer.serviceRasterInfo?.dataType&&i?.pixelBlock&&(i.pixelBlock=await this.layer.convertVectorFieldData(i.pixelBlock,\"vector-magdir\",t)),i}updateTileSource(e,t){const i=t.symbolizerParams,{tileData:r}=e;r.key=e.key,r.width=this._tileInfoView.tileInfo.size[0],r.height=this._tileInfoView.tileInfo.size[1];const{symbolTileSize:o}=i,{source:s}=t;if(r.offset=this._getTileSymbolOffset(r.key,o),null!=s?.pixelBlock){const e={extent:s.extent,pixelBlock:s.pixelBlock};r.rawPixelData=e,r.symbolizerParameters=i,r.source=this._sampleVectorFieldData(s.pixelBlock,i,r.offset)}else{const e=[Math.round((this._tileInfoView.tileInfo.size[0]-r.offset[0])/o),Math.round((this._tileInfoView.tileInfo.size[1]-r.offset[1])/o)],t=this.createEmptyTilePixelBlock(e);r.source=t,r.symbolizerParameters=i}return r.invalidateVAO(),Promise.resolve()}updateTileSymbolizerParameters(e,t){const i=t.local,{symbolTileSize:r}=i,{tileData:o}=e;o.offset=this._getTileSymbolOffset(o.key,r);const s=o.symbolizerParameters.symbolTileSize;o.symbolizerParameters=i;const l=o.rawPixelData?.pixelBlock;return null!=l&&s!==r&&(o.source=this._sampleVectorFieldData(l,o.symbolizerParameters,o.offset)),Promise.resolve()}attach(){super.attach(),this.container=new s(this._tileInfoView),this.container.isCustomTilingScheme=this._isCustomTilingScheme,this._updateSymbolType(this.layer.renderer),this._handle=t((()=>this.layer.renderer),(e=>this._updateSymbolType(e)))}detach(){super.detach(),this.container.removeAllChildren(),this._handle?.remove(),this._handle=null,this.container=null}_getTileSymbolOffset(e,t){const i=e.col*this._tileInfoView.tileInfo.size[0]%t,r=e.row*this._tileInfoView.tileInfo.size[1]%t;return[i>t/2?t-i:-i,r>t/2?t-r:-r]}_sampleVectorFieldData(e,t,i){const{symbolTileSize:r}=t;return o(e,\"vector-uv\",r,i)}_updateSymbolType(e){\"vector-field\"===e?.type&&(this.container.symbolTypes=\"wind-barb\"===e.style?[\"scalar\",\"triangle\"]:\"simple-scalar\"===e.style?[\"scalar\"]:[\"triangle\"])}};e([i()],a.prototype,\"container\",void 0),e([i()],a.prototype,\"layer\",void 0),e([i()],a.prototype,\"type\",void 0),a=e([r(\"esri.views.2d.layers.imagery.VectorFieldTileView2D\")],a);export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../core/Error.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import{addMultidimensionalFieldValues as a,commonRasterFieldNames as o,rasterFieldPrefix as n}from\"../../layers/support/rasterFieldUtils.js\";import{combineTimeExtent as l}from\"../../layers/support/timeSupport.js\";import{isFunctionRaster as u}from\"../../layers/support/rasterDatasets/datasetUtils.js\";import{getDefaultDatumTransformationForDataset as p,projectDatasetExtent as c,getSourceScale as m}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{getFetchPopupTemplate as y}from\"./support/popupUtils.js\";const f=f=>{let d=class extends f{constructor(){super(...arguments),this.layer=null,this.tileInfo=null}get fullExtent(){try{return this.layer.loaded?this._getFullExtent():null}catch{return null}}get timeExtent(){return l(this.layer,this.view?.timeExtent,this._get(\"timeExtent\"))}get hasTilingEffects(){return!!(this.layer.renderer&&\"dynamicRangeAdjustment\"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment)}get datumTransformation(){try{return this.layer.loaded?p(this.layer.fullExtent,this.view.spatialReference,!0):null}catch{return null}}supportsSpatialReference(e){try{return!this.layer.loaded||!!c(this.layer.serviceRasterInfo,e)}catch{return!1}}async fetchPopupFeaturesAtLocation(e,s){const{layer:i}=this;if(!e)throw new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:i});const{popupEnabled:l}=i,p=y(i,s);if(!l||null==p)return[];const c=[],{value:m,magdirValue:f,processedValue:d}=await i.identify(e,{timeExtent:this.timeExtent,signal:s?.signal});let h=\"\";if(m?.length){h=\"imagery-tile\"===i.type&&i.hasStandardTime()&&null!=m[0]?m.map((e=>i.getStandardTimeValue(e))).join(\", \"):m.join(\", \");const e={ObjectId:0};e[o.servicePixelValue]=\"imagery-tile\"===i.type&&u(i.raster)?d?.join(\", \"):h,e[o.rawServicePixelValue]=h;const r=i.raster?.rasterInfo??i.serviceRasterInfo,s=r?.attributeTable;if(null!=s){const{fields:t,features:r}=s,i=t.find((({name:e})=>\"value\"===e.toLowerCase())),a=e[o.servicePixelValue],l=i?r.find((e=>String(e.attributes[i.name])===a)):null;if(l)for(const s in l.attributes)if(l.attributes.hasOwnProperty(s)){e[n+s]=l.attributes[s]}}const l=r?.dataType;\"vector-magdir\"!==l&&\"vector-uv\"!==l||(e[o.magnitude]=f?.[0],e[o.direction]=f?.[1]);const{multidimensionalDefinition:p}=this.layer.normalizeRasterFetchOptions({timeExtent:this.timeExtent});a(i.rasterFields,e,p);const y=new t({geometry:this.fullExtent?.clone(),attributes:e,layer:i,sourceLayer:i});c.push(y)}return c}async getSourceScale(){return await this.layer.load(),m(this.layer.serviceRasterInfo,this.view.spatialReference)}_getFullExtent(){return c(this.layer.serviceRasterInfo,this.view.spatialReference)}};return e([s()],d.prototype,\"fullExtent\",null),e([s()],d.prototype,\"layer\",void 0),e([s({readOnly:!0})],d.prototype,\"timeExtent\",null),e([s()],d.prototype,\"tileInfo\",void 0),e([s({readOnly:!0})],d.prototype,\"hasTilingEffects\",null),e([s()],d.prototype,\"datumTransformation\",null),d=e([i(\"esri.views.layers.ImageryTileLayerView\")],d),d};export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Logger.js\";import{isAbortError as i}from\"../../../core/promiseUtils.js\";import{watch as t,sync as r,initial as o}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{hasExcludedVariableOrDimension as u}from\"../../../layers/support/rasterDatasets/multidimensionalUtils.js\";import h from\"../engine/flow/FlowView2D.js\";import{LayerView2DMixin as l}from\"./LayerView2D.js\";import d from\"./imagery/ImageryTileView2D.js\";import c from\"./imagery/VectorFieldTileView2D.js\";import{canUseMajorityInterpolationOnDataSource as p}from\"./support/util.js\";import v from\"../../layers/ImageryTileLayerView.js\";import m from\"../../layers/LayerView.js\";import b from\"../../layers/RefreshableLayerView.js\";let w=class extends(v(b(l(m)))){constructor(){super(...arguments),this._useWebGLForProcessing=!0,this._useProgressiveUpdate=!0,this.subview=null}get useWebGLForProcessing(){return this._useWebGLForProcessing}set useWebGLForProcessing(e){this._useWebGLForProcessing=e,this.subview&&\"useWebGLForProcessing\"in this.subview&&(this.subview.useWebGLForProcessing=e)}get useProgressiveUpdate(){return this._useWebGLForProcessing}set useProgressiveUpdate(e){this._useProgressiveUpdate=e,this.subview&&\"useProgressiveUpdate\"in this.subview&&(this.subview.useProgressiveUpdate=e)}get displayParameters(){const{layer:e}=this,s=this._get(\"displayParameters\");return e.renderer&&e.visible?{bandIds:e.bandIds,renderer:e.renderer,interpolation:e.interpolation,multidimensionalDefinition:e.multidimensionalDefinition,rasterFunction:\"imagery-tile\"===e.type?e.rasterFunction:null}:s}update(e){this.subview?.update(e),this.notifyChange(\"updating\")}isUpdating(){return!this.subview||this.subview.updating}attach(){this.layer.increaseRasterJobHandlerUsage(),this._updateSubview(),this.addAttachHandles([t((()=>this.displayParameters),((e,t)=>{const r=e.interpolation!==t?.interpolation&&(\"majority\"===e.interpolation||\"majority\"===t?.interpolation)&&p(this.layer),o=!!this.layer.serviceRasterInfo?.storageInfo?.isBsqTile&&e.bandIds?.join()!==t?.bandIds?.join(),a=e.renderer!==t?.renderer&&this._getSubviewType(t?.renderer)!==this._getSubviewType(e.renderer);a&&this._updateSubview();const n=e.multidimensionalDefinition!==t?.multidimensionalDefinition,u=e.rasterFunction!==t?.rasterFunction,h=u&&!this._useWebGLForProcessing,l=n||r||a||h||o;this.subview.redrawOrRefetch({refetch:l,reprocess:u}).catch((e=>{i(e)||s.getLogger(this).error(e)})),this.notifyChange(\"updating\")})),t((()=>this.layer.multidimensionalSubset??null),((e,t)=>{const{multidimensionalDefinition:r}=this.layer;null!=r&&u(r,e)!==u(r,t)&&(this.subview.redrawOrRefetch({refetch:!0}).catch((e=>{i(e)||s.getLogger(this).error(e)})),this.notifyChange(\"updating\"))}),r),t((()=>this.timeExtent),(()=>{this.subview.timeExtent=this.timeExtent,this.subview.redrawOrRefetch({refetch:!0}).catch((e=>{i(e)||s.getLogger(this).error(e)}))}),o)])}detach(){this.layer.decreaseRasterJobHandlerUsage(),this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null}viewChange(){this.requestUpdate()}moveEnd(){this.subview.moveEnd()}doRefresh(){return this.subview?this.subview.doRefresh():Promise.resolve()}_updateSubview(){const{renderer:e}=this.layer;if(!e)return;const s=this._getSubviewType(e);if(this.subview){if(this.subview.type===s)return void this._attachSubview(this.subview);this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null}const{layer:i}=this;let t;if(t=\"rasterVF\"===s?new c({layer:i,layerView:this,scheduler:this.scheduler}):\"flow\"===s?new h({layer:i,layerView:this,scheduler:this.scheduler}):new d({layer:i,layerView:this,scheduler:this.scheduler}),\"useWebGLForProcessing\"in t&&(t.useWebGLForProcessing=this._useWebGLForProcessing),\"useProgressiveUpdate\"in t&&(t.useProgressiveUpdate=this._useProgressiveUpdate),\"previousLOD\"in t){const{subview:e}=this;t.previousLOD=e&&\"previousLOD\"in e?e.previousLOD:null}this._attachSubview(t),this.subview=t,this.requestUpdate()}_attachSubview(e){e&&!e.attached&&(e.attach(),e.attached=!0,this.container.addChildAt(e.container,0))}_detachSubview(e){e?.attached&&(this.container.removeChild(e.container),e.detach(),e.attached=!1)}_getSubviewType(e){const s=e?.type;return\"vector-field\"===s?\"rasterVF\":\"flow\"===s?\"flow\":\"raster\"}};e([a()],w.prototype,\"subview\",void 0),e([a()],w.prototype,\"useWebGLForProcessing\",null),e([a()],w.prototype,\"useProgressiveUpdate\",null),e([a({readOnly:!0})],w.prototype,\"displayParameters\",null),w=e([n(\"esri.views.2d.layers.ImageryTileLayerView2D\")],w);const g=w;export{g as default};\n"],"names":["m","c$7","u","t","e","s","n","h","l","d","_","x","o","r","i","a","p","f","c","g","j","z","b","y","k","q","v","A","w","B","C","D","E","I","T","G","S","w$2","C$1","_$1","O","P","M","p$2","a$5","Z","g$4","i$1","v$2","h$8","h$7","g$3","r$8","x$1","r$7","m$4","g$2","t$4","o$4","ee","Q","ae","$","U","W","X","Y","V","J","H","F","L","N","R","K","f$2","h$4","h$3","r$6","m$1","t$3","d$1","r$5","f$1","c$2","t$2","a$2","y$1","a$1","t$1","r$4","r$3","h$1","r$1","has"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66]}