{"version":3,"file":"VectorTileLayerView2D-CaNJmLK_.js","sources":["../../node_modules/@arcgis/core/graphic/isVectorTileGraphicOrigin.js","../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js","../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphMosaic.js","../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphSource.js","../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/SpriteMosaic.js","../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler.js","../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileManager.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/RenderableTile.js","../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileContainer.js","../../node_modules/@arcgis/core/graphic/VectorTileGraphicOrigin.js","../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileFeatureIndex.js","../../node_modules/@arcgis/core/views/2d/tiling/TileInfoViewPOT.js","../../node_modules/@arcgis/core/views/2d/layers/VectorTileLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst i=Symbol(\"isVectorTileGraphicOrigin\");function n(n){return!!n&&i in n}export{n as isVectorTileGraphicOrigin,i as isVectorTileGraphicOriginSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport h from\"../webgl/Rect.js\";class e{constructor(e,t){this._width=0,this._height=0,this._free=[],this._width=e,this._height=t,this._free.push(new h(0,0,e,t))}get width(){return this._width}get height(){return this._height}allocate(e,t){if(e>this._width||t>this._height)return new h;let i=null,s=-1;for(let h=0;h<this._free.length;++h){const w=this._free[h];e<=w.width&&t<=w.height&&(null===i||w.y<=i.y&&w.x<=i.x)&&(i=w,s=h)}return null===i?new h:(this._free.splice(s,1),i.width<i.height?(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,t)),i.height>t&&this._free.push(new h(i.x,i.y+t,i.width,i.height-t))):(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,i.height)),i.height>t&&this._free.push(new h(i.x,i.y+t,e,i.height-t))),new h(i.x,i.y,e,t))}release(h){for(let e=0;e<this._free.length;++e){const t=this._free[e];if(t.y===h.y&&t.height===h.height&&t.x+t.width===h.x)t.width+=h.width;else if(t.x===h.x&&t.width===h.width&&t.y+t.height===h.y)t.height+=h.height;else if(h.y===t.y&&h.height===t.height&&h.x+h.width===t.x)t.x=h.x,t.width+=h.width;else{if(h.x!==t.x||h.width!==t.width||h.y+h.height!==t.y)continue;t.y=h.y,t.height+=h.height}this._free.splice(e,1),this.release(h)}this._free.push(h)}}export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"./RectangleBinPack.js\";import e from\"../webgl/Rect.js\";import{Texture as s}from\"../../../webgl/Texture.js\";import{TextureDescriptor as i}from\"../../../webgl/TextureDescriptor.js\";class h{constructor(e,s,i){this.width=0,this.height=0,this._dirties=[],this._glyphData=[],this._currentPage=0,this._glyphIndex={},this._textures=[],this._rangePromises=new Map,this.width=e,this.height=s,this._glyphSource=i,this._binPack=new t(e-4,s-4),this._glyphData.push(new Uint8Array(e*s)),this._dirties.push(!0),this._textures.push(void 0)}getGlyphItems(s,i){const h=[],r=this._glyphSource,n=new Set,o=1/256;for(const t of i){const e=Math.floor(t*o);n.add(e)}const a=[];return n.forEach(t=>{const e=s+t;if(this._rangePromises.has(e))a.push(this._rangePromises.get(e));else{const i=r.getRange(s,t).then(()=>{this._rangePromises.delete(e)},()=>{this._rangePromises.delete(e)});this._rangePromises.set(e,i),a.push(i)}}),Promise.all(a).then(()=>{let n=this._glyphIndex[s];n||(n={},this._glyphIndex[s]=n);for(const o of i){const i=n[o];if(i){h[o]={sdf:!0,rect:i.rect,metrics:i.metrics,page:i.page,code:o};continue}const a=r.getGlyph(s,o);if(!a?.metrics)continue;const l=a.metrics;let c;if(0===l.width)c=new e(0,0,0,0);else{const e=3,s=l.width+2*e,i=l.height+2*e;let h=s%4?4-s%4:4,r=i%4?4-i%4:4;1===h&&(h=5),1===r&&(r=5),c=this._binPack.allocate(s+h,i+r),c.isEmpty&&(this._dirties[this._currentPage]||(this._glyphData[this._currentPage]=null),this._currentPage=this._glyphData.length,this._glyphData.push(new Uint8Array(this.width*this.height)),this._dirties.push(!0),this._textures.push(void 0),this._binPack=new t(this.width-4,this.height-4),c=this._binPack.allocate(s+h,i+r));const n=this._glyphData[this._currentPage],o=a.bitmap;let g,_;if(o)for(let t=0;t<i;t++){g=s*t,_=this.width*(c.y+t+1)+c.x;for(let t=0;t<s;t++)n[_+t+1]=o.at(g+t)}}n[o]={rect:c,metrics:l,tileIDs:null,page:this._currentPage},h[o]={sdf:!0,rect:c,metrics:l,page:this._currentPage,code:o},this._dirties[this._currentPage]=!0}return h})}removeGlyphs(t){for(const e in this._glyphIndex){const s=this._glyphIndex[e];if(!s)continue;let i;for(const e in s)if(i=s[e],i.tileIDs.delete(t),0===i.tileIDs.size){const t=this._glyphData[i.page],h=i.rect;let r,n;for(let e=0;e<h.height;e++)for(r=this.width*(h.y+e)+h.x,n=0;n<h.width;n++)t[r+n]=0;delete s[e],this._dirties[i.page]=!0}}}bind(t,e,h,r=0){if(!this._textures[h]){const e=new i(this.width,this.height);e.pixelFormat=6406,e.wrapMode=33071,this._textures[h]=new s(t,e,new Uint8Array(this.width*this.height))}const n=this._textures[h];n.setSamplingMode(e),this._dirties[h]&&n.setData(this._glyphData[h]),t.bindTexture(n,r),this._dirties[h]=!1}destroy(){this.dispose()}dispose(){this._glyphData.length=0,this._binPack=null;for(const t of this._textures)t&&t.dispose();this._textures.length=0}}export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../../request.js\";import e from\"../../../../core/pbf.js\";class s{constructor(t){if(this._metrics=[],!t)return void(this._allBitmaps=null);const e=new Map;let s=0;for(;t.next();)switch(t.tag()){case 1:{const a=t.getMessage();for(;a.next();)switch(a.tag()){case 3:{const t=a.getMessage();let r,n,i,c,o,g,h;for(;t.next();)switch(t.tag()){case 1:r=t.getUInt32();break;case 2:n=t.getBytes();break;case 3:i=t.getUInt32();break;case 4:c=t.getUInt32();break;case 5:o=t.getSInt32();break;case 6:g=t.getSInt32();break;case 7:h=t.getUInt32();break;default:t.skip()}if(t.release(),r){const t=n?.length??0;this._metrics[r]={width:i,height:c,left:o,top:g,advance:h,startOffset:s,length:t},e.set(r,n),s+=t}break}default:a.skip()}a.release();break}default:t.skip()}const a=new Uint8Array(s),r=this._metrics;for(const[n,i]of e){const{startOffset:t,length:e}=r[n];if(i)for(let s=0;s<e;++s)a[t+s]=i[s]}this._allBitmaps=a}getMetrics(t){return this._metrics[t]}getBitmap(t){if(!this._allBitmaps)return;const e=this._metrics[t];if(void 0===e)return;const{startOffset:s,length:a}=e;return 0!==a?new n(this._allBitmaps,s,a):void 0}}class a{constructor(){this._ranges=[]}get ranges(){return this._ranges}getRange(t){return this._ranges[t]}addRange(t,e){this._ranges[t]=e}}class r{constructor(t){this._glyphInfo={},this._baseURL=t}getRange(a,r){const n=this._getFontStack(a);if(n.getRange(r))return Promise.resolve();const i=256*r,c=i+255;if(this._baseURL){const o=this._baseURL.replace(\"{fontstack}\",a).replace(\"{range}\",i+\"-\"+c);return t(o,{responseType:\"array-buffer\"}).then(t=>{n.addRange(r,new s(new e(new Uint8Array(t.data),new DataView(t.data))))}).catch(()=>{n.addRange(r,new s)})}return n.addRange(r,new s),Promise.resolve()}getGlyph(t,e){const s=this._getFontStack(t);if(!s)return;const a=Math.floor(e/256),r=s.getRange(a);return r?{metrics:r.getMetrics(e),bitmap:r.getBitmap(e)}:void 0}_getFontStack(t){let e=this._glyphInfo[t];return e||(e=this._glyphInfo[t]=new a),e}}class n{constructor(t,e,s){this._array=t,this._start=e,this.length=s}at(t){return 0<=t&&t<this.length?this._array[this._start+t]:void 0}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{rasterizeDash as t}from\"../../../../symbols/cim/rasterizingUtils.js\";import i from\"./RectangleBinPack.js\";import s from\"../webgl/Rect.js\";import{Texture as e}from\"../../../webgl/Texture.js\";import{TextureDescriptor as h}from\"../../../webgl/TextureDescriptor.js\";const a=\"dasharray-\";class r{constructor(t,s,e=0){this._size=[],this._mosaicsData=[],this._textures=[],this._dirties=[],this._maxItemSize=0,this._currentPage=0,this._pageWidth=0,this._pageHeight=0,this._mosaicRects={},this.pixelRatio=1,s<=0&&console.error(\"Sprites mosaic defaultWidth and defaultHeight must be greater than zero!\"),this._pageWidth=t,this._pageHeight=s,e>0&&(this._maxItemSize=e),this._binPack=new i(t-4,s-4)}destroy(){this.dispose()}dispose(){this._binPack=null,this._mosaicsData.length=0,this._mosaicRects={};for(const t of this._textures)t&&t.dispose();this._textures.length=0}getWidth(t){return t>=this._size.length?-1:this._size[t][0]}getHeight(t){return t>=this._size.length?-1:this._size[t][1]}getPageSize(t){return t>=this._size.length?null:this._size[t]}setSpriteSource(t){if(this.dispose(),this.pixelRatio=t.devicePixelRatio,0===this._mosaicsData.length){this._binPack=new i(this._pageWidth-4,this._pageHeight-4);const t=Math.floor(this._pageWidth),s=Math.floor(this._pageHeight),e=new Uint32Array(t*s);this._mosaicsData[0]=e,this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0)}this._sprites=t}getSpriteItem(t,i=!1){let s,e,h=this._mosaicRects[t];if(h)return h;if(!this._sprites||\"loaded\"!==this._sprites.loadStatus)return null;if(t&&t.startsWith(a)?([s,e]=this._rasterizeDash(t),i=!0):s=this._sprites.getSpriteInfo(t),!s?.width||!s.height||s.width<0||s.height<0)return null;const r=s.width,o=s.height,[n,_,g]=this._allocateImage(r,o);return n.width<=0?null:(this._copy(n,s,_,g,i,e),h={type:\"sprite\",rect:n,width:r,height:o,sdf:s.sdf,simplePattern:!1,rasterizationScale:s.pixelRatio??1,samplingMode:\"Linear\",page:_},this._mosaicRects[t]=h,h)}getSpriteItems(t){const i={};for(const s of t)i[s.name]=this.getSpriteItem(s.name,s.repeat);return i}getMosaicItemPosition(t,i){const s=this.getSpriteItem(t,i),e=s?.rect;if(!e)return null;e.width=s.width,e.height=s.height;const h=s.width,a=s.height,r=2;return{tl:[e.x+r,e.y+r],br:[e.x+r+h,e.y+r+a],page:s.page}}bind(t,i,s=0,a=0){if(s>=this._size.length||s>=this._mosaicsData.length)return;if(!this._textures[s]){const i=new h(this._size[s][0],this._size[s][1]);i.wrapMode=33071,this._textures[s]=new e(t,i,new Uint8Array(this._mosaicsData[s].buffer))}const r=this._textures[s];r.setSamplingMode(i),this._dirties[s]&&r.setData(new Uint8Array(this._mosaicsData[s].buffer)),t.bindTexture(r,a),this._dirties[s]=!1}static _copyBits(t,i,s,e,h,a,r,o,n,_,g){let c=e*i+s,p=o*a+r;if(g){p-=a;for(let r=-1;r<=_;r++,c=((r+_)%_+e)*i+s,p+=a)for(let i=-1;i<=n;i++)h[p+i]=t[c+(i+n)%n]}else for(let l=0;l<_;l++){for(let i=0;i<n;i++)h[p+i]=t[c+i];c+=i,p+=a}}_copy(t,i,s,e,h,a){if(!this._sprites||\"loaded\"!==this._sprites.loadStatus||s>=this._mosaicsData.length)return;const o=new Uint32Array(a?a.buffer:this._sprites.image.buffer),n=this._mosaicsData[s],_=2,g=a?i.width:this._sprites.width;r._copyBits(o,g,i.x,i.y,n,e[0],t.x+_,t.y+_,i.width,i.height,h),this._dirties[s]=!0}_allocateImage(t,e){t+=2,e+=2;const h=Math.max(t,e);if(this._maxItemSize&&this._maxItemSize<h){const i=new s(0,0,t,e);return this._mosaicsData.push(new Uint32Array(t*e)),this._dirties.push(!0),this._size.push([t,e]),this._textures.push(void 0),[i,this._mosaicsData.length-1,[t,e]]}let a=t%4?4-t%4:4,r=e%4?4-e%4:4;1===a&&(a=5),1===r&&(r=5);const o=this._binPack.allocate(t+a,e+r);return o.width<=0?(this._dirties[this._currentPage]||(this._mosaicsData[this._currentPage]=null),this._currentPage=this._mosaicsData.length,this._mosaicsData.push(new Uint32Array(this._pageWidth*this._pageHeight)),this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0),this._binPack=new i(this._pageWidth-4,this._pageHeight-4),this._allocateImage(t,e)):[o,this._currentPage,[this._pageWidth,this._pageHeight]]}_rasterizeDash(i){const s=/\\[(.*?)\\]/,e=i.match(s);if(!e)return null;const h=e[1].split(\",\").map(Number),a=i.slice(i.lastIndexOf(\"-\")+1),[r,o,n]=t(h,a);return[{x:0,y:0,width:o,height:n,sdf:!0,pixelRatio:1},new Uint8Array(r.buffer)]}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{abortMaybe as t}from\"../../../../core/maybe.js\";import{throwIfNotAbortError as e,throwIfAbortError as s,isAbortError as r,eachAlways as i}from\"../../../../core/promiseUtils.js\";import{addQueryParameters as o}from\"../../../../core/urlUtils.js\";import{open as n}from\"../../../../core/workers/workers.js\";import a from\"./GlyphMosaic.js\";import l from\"./GlyphSource.js\";import c from\"./SpriteMosaic.js\";import u from\"../../tiling/TileKey.js\";class h{constructor(t,e,s,r){this._layer=t,this._styleRepository=e,this.devicePixelRatio=s,this._sourceDataMaxLOD=r,this._spriteMosaic=null,this._glyphMosaic=null,this._connection=null,this._spriteSourceAbortController=null,this._startOptionsInputSignal=null,this._inputSignalEventListener=null}destroy(){this._connection?.close(),this._connection=null,this._styleRepository=null,this._layer=null,this._spriteMosaic?.destroy(),this._spriteMosaic=null,this._glyphMosaic=null,this._spriteSourceAbortController=t(this._spriteSourceAbortController),this._spriteSourcePromise=null,this._inputSignalEventListener&&this._startOptionsInputSignal?.removeEventListener(\"abort\",this._inputSignalEventListener),this._startOptionsInputSignal=null,this._inputSignalEventListener=null}get spriteMosaic(){return this._spriteSourcePromise.then(()=>this._spriteMosaic)}get glyphMosaic(){return this._glyphMosaic}async start(t){this._requestSprite(t);const s=this._layer.currentStyleInfo.glyphsUrl,r=new l(s?o(s,{...this._layer.customParameters,token:this._layer.apiKey}):null);this._glyphMosaic=new a(1024,1024,r),this._broadcastPromise=n(\"WorkerTileHandler\",{client:this,schedule:t.schedule,signal:t.signal}).then(s=>{if(this._layer&&(this._connection?.close(),this._connection=s,this._layer&&!this._connection.closed)){const r=s.broadcast(\"setStyle\",{style:this._layer.currentStyleInfo.style,sourceDataMaxLOD:this._sourceDataMaxLOD},t);Promise.all(r).catch(t=>e(t))}})}_requestSprite(t){this._spriteSourceAbortController?.abort();const e=new AbortController;this._spriteSourceAbortController=e;const r=t?.signal;this._inputSignalEventListener&&this._startOptionsInputSignal?.removeEventListener(\"abort\",this._inputSignalEventListener),this._startOptionsInputSignal=null,r&&(this._inputSignalEventListener=p(e),r.addEventListener(\"abort\",this._inputSignalEventListener,{once:!0}));const{signal:i}=e,o={...t,signal:i};this._spriteSourcePromise=this._layer.loadSpriteSource(this.devicePixelRatio,o),this._spriteSourcePromise.then(t=>{s(i),this._spriteMosaic=new c(1024,1024,250),this._spriteMosaic.setSpriteSource(t)})}async updateStyle(t){const e=[];for(const s of t)4===s.type?e.push({type:4,data:{spriteSource:null}}):e.push(s);return await this._broadcastPromise,this._broadcastPromise=Promise.all(this._connection.broadcast(\"updateStyle\",e)),this._broadcastPromise}setSpriteSource(t){const e=new c(1024,1024,250);return e.setSpriteSource(t),this._spriteMosaic=e,this._spriteSourcePromise=Promise.resolve(t),this._spriteSourceAbortController=null,e}async setStyle(t,e,s){await this._broadcastPromise,this._styleRepository=t,this._sourceDataMaxLOD=s,this._requestSprite();const r=new l(this._layer.currentStyleInfo.glyphsUrl?o(this._layer.currentStyleInfo.glyphsUrl,{...this._layer.customParameters,token:this._layer.apiKey}):null);return this._glyphMosaic=new a(1024,1024,r),this._broadcastPromise=Promise.all(this._connection.broadcast(\"setStyle\",{style:e,sourceDataMaxLOD:this._sourceDataMaxLOD})),this._broadcastPromise}async fetchTileData(t,e){const s=await this._getRefKeys(t,e);return this._getSourcesData(Object.keys(this._layer.sourceNameToSource),s,e)}async fetchTilePBFs(t){const e=Object.keys(this._layer.sourceNameToSource),s={},r=await this._getRefKeys(t,s),i=[],o=[];for(let n=0;n<r.length;n++)if(null==r[n].value||null==e[n])o.push(null);else{const t=r[n].value,a=this._getTilePayload(t,e[n],s);a.then(e=>{i.push({...e,key:t})}),o.push(a)}return Promise.all(o).then(()=>i)}async parseTileData(t,e){const s=t&&t.data;if(!s)return null;const{sourceName2DataAndRefKey:r,transferList:i}=s;return 0===Object.keys(r).length?null:this._broadcastPromise.then(()=>this._connection.invoke(\"createTileAndParse\",{key:t.key.id,sourceName2DataAndRefKey:r,styleLayerUIDs:t.styleLayerUIDs},{...e,transferList:i}))}async getSprites(t){return await this._spriteSourcePromise,this._spriteMosaic.getSpriteItems(t)}getGlyphs(t){return this._glyphMosaic.getGlyphItems(t.font,t.codePoints)}async _getTilePayload(t,e,s){const i=u.pool.acquire(t.id),o=this._layer.sourceNameToSource[e],{level:n,row:a,col:l}=i;u.pool.release(i);try{return{protobuff:await o.requestTile(n,a,l,s),sourceName:e}}catch(c){if(r(c))throw c;return{protobuff:null,sourceName:e}}}async _getRefKeys(t,e){const s=this._layer.sourceNameToSource,r=new Array;for(const i in s){const o=s[i].getRefKey(t,e);r.push(o)}return i(r)}_getSourcesData(t,e,s){const r=[];for(let i=0;i<e.length;i++)if(null==e[i].value||null==t[i])r.push(null);else{const o=e[i].value,n=this._getTilePayload(o,t[i],s);r.push(n)}return i(r).then(t=>{const s={},r=[];for(let i=0;i<t.length;i++){const o=t[i].value;if(o&&(o.protobuff&&o.protobuff.byteLength>0)){const t=e[i].value.id;s[o.sourceName]={refKey:t,protobuff:o.protobuff},r.push(o.protobuff)}}return{sourceName2DataAndRefKey:s,transferList:r}})}}function p(t){return()=>t.abort()}export{h as TileHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{LRUCache as e}from\"../../../../core/LRUCache.js\";import{fromValues as i,create as t,intersects as s}from\"../../../../geometry/support/aaBoundingRect.js\";import{tilePixelSize as l}from\"./constants.js\";import o from\"../../tiling/TileCoverage.js\";import r from\"../../tiling/TileKey.js\";const n=1e-6,a=(e,i)=>e+1/(1<<2*i);class c{constructor(i,t){this._tiles=new Map,this._tileCache=new e(40,e=>e.dispose()),this._viewSize=[0,0],this._visibleTiles=new Map,this.acquireTile=i.acquireTile,this.releaseTile=i.releaseTile,this.tileInfoView=i.tileInfoView,this._container=t}destroy(){for(const e of this._tiles.values())e.dispose();this._tiles=null,this._tileCache.clear(),this._tileCache=null}update(e){this._updateCacheSize(e);const i=this.tileInfoView,t=i.getTileCoverage(e.state,0,!0,\"smallest\");if(!t)return!0;const{spans:s,lodInfo:l}=t,{level:n}=l,a=this._tiles,c=new Set,h=new Set;for(const{row:o,colFrom:_,colTo:f}of s)for(let e=_;e<=f;e++){const i=r.getId(n,o,l.normalizeCol(e),l.getWorldForColumn(e)),t=this._getOrAcquireTile(i);c.add(i),t.processed()?this._addToContainer(t):h.add(new r(i))}for(const[o,r]of a)r.isCoverage=c.has(o);for(const o of h)this._findPlaceholdersForMissingTiles(o,c);let d=!1;for(const[o,r]of a)r.neededForCoverage=c.has(o),r.neededForCoverage||r.isHoldingForFade&&i.intersects(t,r.key)&&c.add(o),r.isFading&&(d=!0);for(const o of this._tiles.keys())c.has(o)||this._releaseTile(o);return o.pool.release(t),!d}clear(){this._tiles.clear(),this._tileCache.clear(),this._visibleTiles.clear()}clearCache(){this._tileCache.clear()}getIntersectingTiles(e,l,o,r,n){const a=[0,0],c=[0,0];r.toMap(a,e-o,l+o),r.toMap(c,e+o,l-o);const h=Math.min(a[0],c[0]),d=Math.min(a[1],c[1]),_=Math.max(a[0],c[0]),f=Math.max(a[1],c[1]),T=i(h,d,_,f),u=t(),p=[];for(const i of this._visibleTiles.values())this.tileInfoView.getTileBounds(u,i.key),s(T,u)&&p.push(i);if(null!=n&&n.length>0){const e=new Set(p.map(e=>e.id)),i=n.filter(i=>!e.has(i.tileKey.id)).map(e=>this._visibleTiles.get(e.tileKey.id)).filter(e=>void 0!==e);p.push(...i)}return p}_findPlaceholdersForMissingTiles(e,i){const t=[];for(const l of this._tiles.values())this._addPlaceholderChild(t,l,e,i);const s=t.reduce(a,0);Math.abs(1-s)<n||this._addPlaceholderParent(e.id,i)}_addPlaceholderChild(e,i,t,s){i.key.level<=t.level||!i.hasData()||d(t,i.key)&&(this._addToContainer(i),s.add(i.id),e.push(i.key.level-t.level))}_addPlaceholderParent(e,i){const t=this._tiles;let s=e;for(;;){if(s=h(s),!s||i.has(s))return;const e=t.get(s);if(e?.hasData())return this._addToContainer(e),void i.add(e.id)}}_getOrAcquireTile(e){let i=this._tiles.get(e);return i||(i=this._tileCache.pop(e),i||(i=this.acquireTile(new r(e))),this._tiles.set(e,i),i)}_releaseTile(e){const i=this._tiles.get(e);this.releaseTile(i),this._removeFromContainer(i),this._tiles.delete(e),i.hasData()?this._tileCache.put(e,i,1):i.dispose()}_addToContainer(e){let i;const t=[],s=this._container;if(s.contains(e))return;const l=this._visibleTiles;for(const o of l.values())this._canConnectDirectly(e,o)&&t.push(o),null==i&&this._canConnectDirectly(o,e)&&(i=o);if(null!=i){for(const s of t)i.childrenTiles.delete(s),e.childrenTiles.add(s),s.parentTile=e;i.childrenTiles.add(e),e.parentTile=i}else for(const o of t)e.childrenTiles.add(o),o.parentTile=e;l.set(e.id,e),s.addChild(e)}_removeFromContainer(e){if(this._visibleTiles.delete(e.id),this._container.removeChild(e),null!=e.parentTile){e.parentTile.childrenTiles.delete(e);for(const i of e.childrenTiles)null!=e.parentTile&&e.parentTile.childrenTiles.add(i)}for(const i of e.childrenTiles)i.parentTile=e.parentTile;e.parentTile=null,e.childrenTiles.clear()}_canConnectDirectly(e,i){const t=e.key;let{level:s,row:l,col:o,world:r}=i.key;const n=this._visibleTiles;for(;s>0;){if(s--,l>>=1,o>>=1,t.level===s&&t.row===l&&t.col===o&&t.world===r)return!0;if(n.has(`${s}/${l}/${o}/${r}`))return!1}return!1}_updateCacheSize(e){const i=e.state.size;if(i[0]===this._viewSize[0]&&i[1]===this._viewSize[1])return;const t=Math.ceil(i[0]/l)+1,s=Math.ceil(i[1]/l)+1;this._viewSize[0]=i[0],this._viewSize[1]=i[1],this._tileCache.maxSize=5*t*s}}function h(e){const[i,t,s,l]=e.split(\"/\"),o=parseInt(i,10);return 0===o?null:`${o-1}/${parseInt(t,10)>>1}/${parseInt(s,10)>>1}/${parseInt(l,10)}`}function d(e,i){const t=i.level-e.level;return e.row===i.row>>t&&e.col===i.col>>t&&e.world===i.world}export{c as TileManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{TiledDisplayObject as r}from\"./TiledDisplayObject.js\";class t extends r{_createTransforms(){return{displayViewScreenMat3:e(),tileMat3:e()}}}export{t as RenderableTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../geometry/support/aaBoundingRect.js\";import t from\"../../../../layers/support/TileInfo.js\";import{tileCoordSize as s,tilePixelSize as r}from\"./constants.js\";import{SymbolFader as i}from\"./decluttering/SymbolFader.js\";import{writeOpacityToBuffers as l}from\"./decluttering/util.js\";import{RenderableTile as o}from\"../webgl/RenderableTile.js\";import n from\"../webgl/TileContainer.js\";import a from\"../../tiling/TileCoverage.js\";import d from\"../../tiling/TileKey.js\";const c=1e-6;function h(e,t){if(e){const s=e.getLayoutProperty(\"visibility\");if(!s||1!==s.getValue()&&(void 0===e.minzoom||e.minzoom<t+c)&&(void 0===e.maxzoom||e.maxzoom>=t-c))return!0}return!1}class u extends n{constructor(e){super(e),this._backgroundTiles=[],this._computeDisplayInfoView(e)}destroy(){super.destroy(),this.removeAllChildren(),this._spriteMosaic?.dispose(),this._spriteMosaic=null,this._glyphMosaic?.dispose(),this._glyphMosaic=null,null!=this._symbolFader&&(this._symbolFader.clear(),this._symbolFader=null),this._styleRepository=null,this._backgroundTiles=[]}get fading(){return this._symbolFader?.fading??!1}get symbolFader(){return this._symbolFader}get symbolRepository(){return this._symbolFader?.symbolRepository}setStyleResources(e,t,r,o){if(this._spriteMosaic=e,this._glyphMosaic=t,this._styleRepository=r,this.tileInfoView=o,this._computeDisplayInfoView(o),null==this._symbolFader){const e=(e,t)=>{e.allSymbolsFadingOut=!0,e.lastOpacityUpdate=t,l(e,t,!0),e.decluttered=!0,e.requestRender()};this._symbolFader=new i(\"vector-tile\",this._styleRepository,e,this.children,s)}this._symbolFader.styleRepository=r}setSpriteMosaic(e){this._spriteMosaic?.dispose(),this._spriteMosaic=e}deleteStyleLayers(e){null!=this._symbolFader&&this._symbolFader.deleteStyleLayers(e)}createRenderParams(e){return{...super.createRenderParams(e),renderPass:null,styleLayer:null,styleLayerUID:-1,glyphMosaic:this._glyphMosaic,spriteMosaic:this._spriteMosaic,hasClipping:!!this._clippingInfos}}doRender(e){!this.visible||1!==e.drawPhase&&64!==e.drawPhase||void 0===this._spriteMosaic||super.doRender(e)}addChild(e){return super.addChild(e),null!=this._symbolFader?this._symbolFader.addTile(e):e.decluttered=!0,this.requestRender(),e}removeChild(e){return null!=this._symbolFader&&this._symbolFader.removeTile(e),this.requestRender(),super.removeChild(e)}renderChildren(e){const{drawPhase:t}=e;64!==t?this._doRender(e):super.renderChildren(e)}removeAllChildren(){for(let e=0;e<this.children.length;e++){const t=this.children[e];null!=this._symbolFader&&this._symbolFader.removeTile(t),t.dispose()}super.removeAllChildren()}getStencilTarget(){return this.children.filter(e=>e.neededForCoverage&&e.hasData())}restartDeclutter(){null!=this._symbolFader&&this._symbolFader.restartDeclutter()}_doRender(e){const{context:t,state:s}=e,r=this._styleRepository;if(!r)return;const i=r.layers,l=this._displayInfo.scaleToZoom(s.scale);r.backgroundBucketIds.length>0&&(e.renderPass=\"background\",this._renderBackgroundLayers(e,r.backgroundBucketIds,l)),super.renderChildren(e),1===e.drawPhase&&this._fade(l,s);const o=this.children.filter(e=>e.visible&&e.hasData());if(!o||0===o.length)return t.bindVAO(null),t.setStencilTestEnabled(!0),void t.setBlendingEnabled(!0);for(const n of o)n.triangleCount=0;t.setStencilWriteMask(0),t.setColorMask(!0,!0,!0,!0),t.setStencilOp(7680,7680,7681),t.setStencilTestEnabled(!0),t.setBlendingEnabled(!1),t.setDepthTestEnabled(!0),t.setDepthWriteEnabled(!0),t.setDepthFunction(515),t.setClearDepth(1),t.clear(256),e.renderPass=\"opaque\";for(let n=i.length-1;n>=0;n--)this._renderStyleLayer(i[n],e,o);t.setDepthWriteEnabled(!1),t.setBlendingEnabled(!0),t.setBlendFunctionSeparate(1,771,1,771),e.renderPass=\"translucent\";for(let n=0;n<i.length;n++)this._renderStyleLayer(i[n],e,o);t.bindVAO(null),t.setStencilTestEnabled(!0),t.setBlendingEnabled(!0);for(const n of o)n.debugInfo.display.triangleCount=n.triangleCount}_fade(e,t){null!=this._symbolFader&&(this._symbolFader.update(e,t)||this.requestRender())}_renderStyleLayer(e,t,s){const{displayLevel:r,painter:i,renderPass:l}=t;if(void 0===e)return;const o=e.getLayoutProperty(\"visibility\");if(o&&1===o.getValue())return;let n;switch(e.type){case 0:return;case 1:if(\"opaque\"!==l&&\"translucent\"!==t.renderPass)return;n=\"vtlFill\";break;case 2:if(\"translucent\"!==l)return;n=\"vtlLine\";break;case 4:if(\"translucent\"!==l)return;n=\"vtlCircle\";break;case 3:if(\"translucent\"!==l)return;n=\"vtlSymbol\"}if(s=3===e.type?s.filter(e=>e.decluttered):s.filter(e=>e.neededForCoverage),\"vtlSymbol\"!==n&&(0===s.length||void 0!==e.minzoom&&e.minzoom>=r+c||void 0!==e.maxzoom&&e.maxzoom<r-c))return;const a=e.uid;t.styleLayerUID=a,t.styleLayer=e;for(const d of s)if(d.layerData.has(a)){i.renderObjects(t,s,n);break}}_renderBackgroundLayers(t,i,l){const{context:n,painter:c,state:u}=t,y=this._styleRepository;let p=!1;for(const e of i){if(0===y.getLayerById(e).type&&h(y.getLayerById(e),l)){p=!0;break}}if(!p)return;const m=this.tileInfoView,f=m.getTileCoverage(t.state,0,!0,\"smallest\"),{spans:g,lodInfo:b}=f,{level:_}=b,F=e(),v=[];if(this._renderPasses){const e=this._renderPasses[0];null!=this._clippingInfos&&(e.brushes[0].prepareState(t),e.brushes[0].drawMany(t,this._clippingInfos))}const C=this._backgroundTiles;let R,T=0;for(const{row:a,colFrom:h,colTo:I}of g)for(let t=h;t<=I;t++){if(T<C.length)R=C[T],R.key.set(_,a,b.normalizeCol(t),b.getWorldForColumn(t)),m.getTileBounds(F,R.key,!1),R.x=F[0],R.y=F[3],R.resolution=m.getTileResolution(_);else{const i=new d(_,a,b.normalizeCol(t),b.getWorldForColumn(t)),l=m.getTileBounds(e(),i),n=m.getTileResolution(_);R=new o(i,n,l[0],l[3],r,r,s,s),C.push(R)}R.setTransform(u),v.push(R),T++}n.setStencilWriteMask(0),n.setColorMask(!0,!0,!0,!0),n.setStencilOp(7680,7680,7681),n.setStencilFunction(514,0,255),n.setStencilTestEnabled(!0);for(const e of i){const s=y.getLayerById(e);0===s.type&&h(s,l)&&(t.styleLayerUID=s.uid,t.styleLayer=s,c.renderObjects(t,v,\"vtlBackground\"))}a.pool.release(f)}_computeDisplayInfoView(e){let s=e.tileInfo.lods[0].scale;const i=Math.max(25,e.tileInfo.lods.length),l=[];for(let t=0;t<=i;t++)l.push(s),s/=2;this._displayInfo=t.create({scales:l,size:r,spatialReference:e.spatialReference,numLODs:i})}}export{u as VectorTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getSliceableContainerSymbol as r}from\"./getSliceableContainer.js\";import e from\"./GraphicOrigin.js\";import{isVectorTileGraphicOriginSymbol as t}from\"./isVectorTileGraphicOrigin.js\";var i;class s extends e{get[(i=t,r)](){return this.layer}constructor(r,e,t){super(),this[i]=!0,this.type=\"vector-tile\",this.layer=r,this.layerId=e,this.layerIndex=t}get id(){return`${this.layer.id}:__${this.layerId}__:__${this.layerIndex}__`}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Graphic.js\";import{getOrCreateMapValue as t}from\"../../../../core/MapUtils.js\";import s from\"../../../../core/pbf.js\";import{PooledRBush as r}from\"../../../../core/libs/rbush/PooledRBush.js\";import i from\"../../../../graphic/VectorTileGraphicOrigin.js\";import{tilePixelSize as o,tileCoordSize as l,tilePixelRatio as n}from\"./constants.js\";import a from\"./Feature.js\";import{getTileMargins as y}from\"./GeometryUtils.js\";import c from\"./SourceLayerData.js\";import{IndexItem as u}from\"./style/StyleLayer.js\";const h=(e,t)=>{const s=e.vtlSymbol.sourceTile,r=t.vtlSymbol.sourceTile;return s.level!==r.level?s.level-r.level:s.row!==r.row?s.row-r.row:s.col!==r.col?s.col-r.col:e.styleLayerUID-t.styleLayerUID};class m{constructor(e,t,s,r,i){this.tileKey=e,this._tileLayerData=t,this._styleRepository=s,this._tileHandler=r,this._parentLayer=i,this._index=null,this._tileKeyToPBF=new Map}static create(e,t,s,r,i){return new m(e,t,s,r,i)}clear(){this._index?.clear(),this._tileKeyToPBF.clear()}async queryAttributes(e,t,s,i,o){if(0===this._tileLayerData.size||!this._styleRepository||!this._tileHandler)return[];null===this._index&&(this._index=new r(100,f),await this._indexLayers());const l=[];return this._queryIndex(l,e,t,s,this.tileKey.level,i),o&&o?.length>0&&await this._getSymbolsAttributes(l,o),l}async _indexLayers(){const e=this.tileKey,t=this._styleRepository.layers,s=await this._getTilePayload(e);for(const[r,i]of this._tileLayerData){const o=t[r],l=s.find(e=>e.sourceName===o.source);if(!l)continue;const{protobuff:n,key:a}=l;if(3!==i.type){const t=1<<e.level-a.level,s=e.row-a.row*t,r=e.col-a.col*t;this._indexLayer(o,n,e.level,t,s,r)}}}_indexLayer(e,t,r,i,n,h){const m=e.sourceLayer,f=e.getFeatureFilter(),d=r,_=r+1,p=y(d),g=new s(new Uint8Array(t),new DataView(t));for(;g.next();)switch(g.tag()){case 3:{const t=g.getMessage(),s=new c(t);if(t.release(),s.name!==m)continue;const y=s.getData(),w=s.extent/i,b=w*h-p,x=w*n-p,L=b+w+2*p,v=x+w+2*p,I=w/o,T=l/w,D=w*h,P=w*n;for(;y.nextTag(2);){const t=y.getMessage(),i=new a(t,s);if(t.release(),f&&!f.filter(i,r))continue;const o=i.values||{},l=o._minzoom,n=o._maxzoom;if(l&&l>=10*_||n&&n<=10*d)continue;const c=e.getFeatureInflatedBounds(i,d,s.extent,I);null==c||c[0]>L||c[1]>v||c[2]<b||c[3]<x||(c[0]=(c[0]-D)*T,c[1]=(c[1]-P)*T,c[2]=(c[2]-D)*T,c[3]=(c[3]-P)*T,this._index.insert(new u(e,i,c,T,D,P)))}break}default:g.skip()}g.release()}async _getSymbolsAttributes(e,t){if(!t||0===t.length)return e;const s=[];if(t.sort(h),t.length>0){let e=0,{styleLayerUID:r}=t[0];for(let o=1;o<t.length;o++){const{styleLayerUID:i}=t[o];i!==r&&(s.push({from:e,to:o,styleLayerUID:r,sourceTileKey:t[o-1].vtlSymbol.sourceTile}),e=o,r=i)}const i=t.length-1;s.push({from:e,to:t.length,styleLayerUID:r,sourceTileKey:t[i].vtlSymbol.sourceTile})}const r=this._styleRepository.layers;for(const i of s){const s=await this._getTilePayload(i.sourceTileKey),o=r[i.styleLayerUID],l=!!o&&s.find(e=>e.sourceName===o.source);l&&this._addSymbolsAttributes(e,t.slice(i.from,i.to).map(e=>e.vtlSymbol.featureIndex),i.styleLayerUID,l)}return e}_addSymbolsAttributes(t,s,r,o){const l=this._styleRepository.layers,n=o.key,a=this.tileKey,y=1<<a.level-n.level,c=a.row-n.row*y,u=a.col-n.col*y;this._getSymbolAttributes(o.protobuff,s,r,y,c,u).forEach(s=>{const{attributes:o,tilePoint:n}=s;t.push({layerId:l[r].id,layerIndex:r,graphic:new e({attributes:o,origin:new i(this._parentLayer,l[r].id,r)}),tilePoint:n})})}_getSymbolAttributes(e,t,r,i,o,n){const y=[],u=this._styleRepository.layers;let h=0;t.sort((e,t)=>e-t);const m=new s(new Uint8Array(e),new DataView(e));for(;m.next();)switch(m.tag()){case 3:{const e=m.getMessage(),s=new c(e);if(e.release(),s.name!==u[r].sourceLayer)continue;const f=s.getData(),d=s.extent/i,_=l/d,p=d*n,g=d*o;let w=0;for(;f.nextTag(2);){const e=f.getMessage();if(w++===t[h]){const t=new a(e,s),r=t.values,i=t.getGeometry(),o=null!=i?[_*(i[0][0].x-p),_*(i[0][0].y-g)]:null;y.push({attributes:r,tilePoint:o}),h++}if(e.release(),h===t.length)return y}break}default:m.skip()}return m.release(),y}_queryIndex(t,s,r,o,l,a){const y=n*o*(window.devicePixelRatio||1);return this._index?.search({minX:s-y,minY:r-y,maxX:s+y,maxY:r+y},n=>{const{layer:y,feature:c}=n;y.isIntersectingFeature(s,r,o,c,l,a,n)&&t.push({layerId:y.id,layerIndex:y.uid,tilePoint:null,graphic:new e({attributes:c.values,origin:new i(this._parentLayer,n.layer.id,n.layer.uid)})})}),t}async _getTilePayload(e){return t(this._tileKeyToPBF,e.id,()=>this._tileHandler.fetchTilePBFs(e)).then(e=>e)}}const f=e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]});export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../layers/support/TileInfo.js\";import l from\"./TileInfoView.js\";import s from\"./TileKey.js\";class t extends l{constructor(){super(...arguments),this._fullCacheLodInfos=null,this._levelByScale={}}getTileParentId(e){const l=s.pool.acquire(e),t=0===l.level?null:s.getId(l.level-1,l.row>>1,l.col>>1,l.world);return s.pool.release(l),t}getTileCoverage(e,l,s=!0,t){const o=super.getTileCoverage(e,l,s,t);if(!o)return o;const i=1<<o.lodInfo.level;return o.spans=o.spans.filter(e=>e.row>=0&&e.row<i),o}scaleToLevel(e){if(this._fullCacheLodInfos||this._initializeFullCacheLODs(this._lodInfos),this._levelByScale[e])return this._levelByScale[e];{const l=this._fullCacheLodInfos;if(e>l[0].scale)return l[0].level;let s,t;for(let o=0;o<l.length-1;o++)if(t=l[o+1],e>t.scale)return s=l[o],s.level+(s.scale-e)/(s.scale-t.scale);return l[l.length-1].level}}_initializeFullCacheLODs(l){let s;if(0===l[0].level)s=l.map(e=>({level:e.level,resolution:e.resolution,scale:e.scale}));else{const l=this.tileInfo.size[0],t=this.tileInfo.spatialReference;s=e.create({size:l,spatialReference:t}).lods.map(e=>({level:e.level,resolution:e.resolution,scale:e.scale}))}for(let e=0;e<s.length;e++)this._levelByScale[s[e].scale]=s[e].level;this._fullCacheLodInfos=s}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{clone as t}from\"../../../core/lang.js\";import i from\"../../../core/Logger.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{isAbortError as r}from\"../../../core/promiseUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{diff as n,hasDiff as o}from\"../../../core/accessorSupport/diffUtils.js\";import h from\"../../../geometry/Point.js\";import{create as u}from\"../../../geometry/support/aaBoundingRect.js\";import{equals as c}from\"../../../geometry/support/spatialReferenceUtils.js\";import{isVectorTileGraphicOrigin as y}from\"../../../graphic/isVectorTileGraphicOrigin.js\";import{TileHandler as d}from\"../engine/vectorTiles/TileHandler.js\";import{TileManager as p}from\"../engine/vectorTiles/TileManager.js\";import{VectorTile as _}from\"../engine/vectorTiles/VectorTile.js\";import{VectorTileContainer as f}from\"../engine/vectorTiles/VectorTileContainer.js\";import g from\"../engine/vectorTiles/VectorTileFeatureIndex.js\";import m from\"../engine/vectorTiles/style/StyleRepository.js\";import{LayerView2DMixin as T}from\"./LayerView2D.js\";import C from\"../tiling/TileInfoViewPOT.js\";import v from\"../tiling/TileQueue.js\";import w from\"../../layers/LayerView.js\";import{RefreshableLayerView as R}from\"../../layers/RefreshableLayerView.js\";import{TaskPriority as H}from\"../../support/Scheduler.js\";const I=2,Q=8,S=512;let P=class extends(R(T(w))){constructor(){super(...arguments),this._styleChanges=[],this._fetchQueue=null,this._parseQueue=null,this._tileHandlerPromise=null,this._isTileHandlerReady=!1,this._styeChanged=!1,this._spriteSourceChanged=!1}get fading(){return this._vectorTileContainer?.fading??!1}get hasVisibleFeatures(){const e=this._vectorTileContainer.children;for(const t of e)if(t.hasFeatures())return!0;return!1}get spriteSourceChanged(){return this._spriteSourceChanged}get styleChanged(){return this._styeChanged}async hitTest(e,t){const i=this._tileHandlerPromise,s=this._vectorTileContainer?.symbolFader;if(!i||!this._isTileHandlerReady||!s)return;await i;let r=null;const a=this._vectorTileContainer?.symbolRepository;a&&(r=a.querySymbols(t,I,s.decluttererOffset,{}));const l=this.view.state,n=this._tileManager.getIntersectingTiles(t.x,t.y,I,l,r);if((!n||0===n.length)&&0===r?.length)return null;e=e.clone().normalize();const o=[],h=[];for(const u of n)o.push(this._queryTile(h,e,I,this.view.state.rotation,u,r?.filter(e=>e.tileKey.id===u.id)));return await Promise.all(o),h}update(e){if(this._tileHandlerPromise&&this._isTileHandlerReady)return e.pixelRatio!==this._tileHandler.devicePixelRatio?(this._tileHandler.devicePixelRatio=e.pixelRatio,void this._loadStyle()):void(this._styleChanges.length>0?this._tileHandlerPromise=this._applyStyleChanges():(this._pauseQueues(),this._fetchQueue.state=e.state,this._parseQueue.state=e.state,this._tileManager.update(e)||this.requestUpdate(),this._resumeQueues()))}attach(){const{style:e}=this.layer.currentStyleInfo;this._styleRepository=new m(e),this._tileInfoView=new C(this.layer.tileInfo,this.layer.fullExtent),this._vectorTileContainer=new f(this._tileInfoView),this._tileHandler=new d(this.layer,this._styleRepository,window.devicePixelRatio||1,this.layer.tileInfo.lods.length-1),this.container.addChild(this._vectorTileContainer),this._start(),this.addAttachHandles([this.layer.on(\"paint-change\",e=>{if(this._styeChanged=!0,e.isDataDriven)this._styleChanges.push({type:0,data:e}),this.requestUpdate();else{const t=this._styleRepository,i=t.getLayerById(e.layer);if(!i)return;const s=3===i.type;t.setPaintProperties(e.layer,e.paint),s&&this._vectorTileContainer?.restartDeclutter(),this._vectorTileContainer?.requestRender()}}),this.layer.on(\"layout-change\",e=>{const t=this._styleRepository,i=t.getLayerById(e.layer);if(!i)return;this._styeChanged=!0;const s=n(i.layout,e.layout);if(null!=s){if(o(s,\"visibility\")&&1===b(s))return t.setLayoutProperties(e.layer,e.layout),3===i.type&&this._vectorTileContainer?.restartDeclutter(),void this._vectorTileContainer?.requestRender();this._styleChanges.push({type:1,data:e}),this.requestUpdate()}}),this.layer.on(\"style-layer-visibility-change\",e=>{const t=this._styleRepository,i=t.getLayerById(e.layer);i&&(this._styeChanged=!0,t.setStyleLayerVisibility(e.layer,e.visibility),3===i.type&&this._vectorTileContainer?.restartDeclutter(),this._vectorTileContainer?.requestRender())}),this.layer.on(\"style-layer-change\",e=>{this._styleChanges.push({type:2,data:e}),this._styeChanged=!0,this.requestUpdate()}),this.layer.on(\"delete-style-layer\",e=>{this._styleChanges.push({type:3,data:e}),this._styeChanged=!0,this.requestUpdate()}),this.layer.on(\"load-style\",()=>this._loadStyle()),this.layer.on(\"spriteSource-change\",e=>{this._spriteSourceChanged=!0,this._styleChanges.push({type:4,data:e});const t=this._styleRepository.layers;for(const i of t)switch(i.type){case 3:i.getLayoutProperty(\"icon-image\")&&this._styleChanges.push({type:1,data:{layer:i.id,layout:i.layout}});break;case 2:i.getPaintProperty(\"line-pattern\")&&this._styleChanges.push({type:0,data:{layer:i.id,paint:i.paint,isDataDriven:i.isPainterDataDriven()}});break;case 1:i.getLayoutProperty(\"fill-pattern\")&&this._styleChanges.push({type:0,data:{layer:i.id,paint:i.paint,isDataDriven:i.isPainterDataDriven()}})}this.requestUpdate()})])}detach(){this._stop(),this.container.removeAllChildren(),this._vectorTileContainer=s(this._vectorTileContainer),this._tileHandler=s(this._tileHandler)}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}supportsSpatialReference(e){return c(this.layer.tileInfo?.spatialReference,e)}canResume(){let e=super.canResume();const{currentStyleInfo:t}=this.layer;if(e&&t?.layerDefinition){const i=this.view.scale,{minScale:s,maxScale:r}=t.layerDefinition;t?.layerDefinition&&(s&&s<i&&(e=!1),r&&r>i&&(e=!1))}return e}isUpdating(){return this.fading}acquireTile(e){const t=this._createVectorTile(e);return this._updatingHandles.addPromise(this._fetchQueue.push(t.key).then(e=>this._parseQueue.push({key:t.key,data:e})).then(e=>{t.once(\"attach\",()=>this.requestUpdate()),t.setData(e),this.requestUpdate()}).catch(e=>{r(e)||i.getLogger(this).error(e)})),t}releaseTile(e){const t=e.key.id;this._fetchQueue.abort(t),this._parseQueue.abort(t),this.requestUpdate()}async doRefresh(){if(!this.attached)return;if(this.suspended)return this._tileManager.clear(),void this.requestUpdate();this._isTileHandlerReady=!1,this._pauseQueues(),this._clearQueues(),this._tileManager.clearCache(),this._resumeQueues();const e=this._vectorTileContainer.children,t=[];try{for(const i of e){const e=this._updatingHandles.addPromise(this._fetchQueue.push(i.key).then(e=>this._parseQueue.push({key:i.key,data:e})).then(e=>i.setData(e)).finally(()=>i.featureIndex=null));t.push(e)}await Promise.all(t)}catch(s){i.getLogger(this).error(\"error refreshing vector-tiles layer-view\",s),this._resumeQueues(),this._isTileHandlerReady=!0}this._isTileHandlerReady=!0,this.requestUpdate()}_start(){if(this._stop(),this._tileManager=new p({acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),tileInfoView:this._tileInfoView},this._vectorTileContainer),!this.layer.currentStyleInfo)return;const e=new AbortController,t=this._tileHandler.start({signal:e.signal}).then(()=>{this._fetchQueue=new v({tileInfoView:this._tileInfoView,process:(e,t)=>this._getTileData(e,t),concurrency:15,scheduler:this.scheduler,priority:H.MAPVIEW_FETCH_QUEUE}),this._parseQueue=new v({tileInfoView:this._tileInfoView,process:(e,t)=>this._parseTileData(e,t),concurrency:8,scheduler:this.scheduler,priority:H.MAPVIEW_VECTOR_TILE_PARSING_QUEUE}),this.requestUpdate(),this._isTileHandlerReady=!0});this._tileHandler.spriteMosaic.then(e=>{this._vectorTileContainer.setStyleResources(e,this._tileHandler.glyphMosaic,this._styleRepository,this._tileInfoView),this.requestUpdate()}),this._tileHandlerAbortController=e,this._tileHandlerPromise=t}_stop(){if(!this._tileHandlerAbortController||!this._vectorTileContainer)return;const e=this._tileHandlerAbortController;e&&e.abort(),this._tileHandlerPromise=null,this._isTileHandlerReady=!1,this._fetchQueue=s(this._fetchQueue),this._parseQueue=s(this._parseQueue),this._tileManager=s(this._tileManager),this._vectorTileContainer.removeAllChildren()}async _getTileData(e,t){return this._tileHandler.fetchTileData(e,t)}async _parseTileData(e,t){return this._tileHandler.parseTileData(e,t)}async _applyStyleChanges(){this._isTileHandlerReady=!1,this._pauseQueues(),this._clearQueues(),this._tileManager.clearCache();const e=this._styleChanges;try{await this._tileHandler.updateStyle(e)}catch(l){i.getLogger(this).error(\"error applying vector-tiles style update\",l.message),this._resumeQueues(),this._isTileHandlerReady=!0}const t=this._styleRepository,s=new Set;e.forEach(e=>{if(3!==e.type)return;const i=e.data,r=t.getLayerById(i.layer);r&&s.add(r.uid)});const r=new Set;e.forEach(e=>{let i;switch(e.type){case 0:t.setPaintProperties(e.data.layer,e.data.paint),i=e.data.layer;break;case 1:t.setLayoutProperties(e.data.layer,e.data.layout),i=e.data.layer;break;case 3:return void t.deleteStyleLayer(e.data.layer);case 2:t.setStyleLayer(e.data.layer,e.data.index),i=e.data.layer.id;break;case 4:this._vectorTileContainer.setSpriteMosaic(this._tileHandler.setSpriteSource(e.data.spriteSource))}if(i){const e=t.getLayerById(i);e&&r.add(e.uid)}});const a=this._vectorTileContainer.children;if(s.size>0){const e=Array.from(s);this._vectorTileContainer.deleteStyleLayers(e);for(const t of a)t.deleteLayerData(e)}if(this._resumeQueues(),r.size>0){const e=Array.from(r),t=[];for(const i of a){const s=this._updatingHandles.addPromise(this._fetchQueue.push(i.key).then(t=>this._parseQueue.push({key:i.key,data:t,styleLayerUIDs:e})).then(e=>i.setData(e)).finally(()=>i.featureIndex=null));t.push(s)}await Promise.all(t)}this._styleChanges=[],this._isTileHandlerReady=!0,this.requestUpdate()}async _loadStyle(){const{style:e}=this.layer.currentStyleInfo,i=t(e);this._isTileHandlerReady=!1,this._pauseQueues(),this._clearQueues(),this._styleRepository=new m(i),this._vectorTileContainer.destroy(),this._tileManager.clear(),this._tileHandlerAbortController.abort(),this._tileHandlerAbortController=new AbortController;const{signal:s}=this._tileHandlerAbortController;try{this._tileHandlerPromise=this._tileHandler.setStyle(this._styleRepository,i,this.layer.tileInfo.lods.length-1),await this._tileHandlerPromise}catch(n){if(!r(n))throw n}if(s.aborted)return this._resumeQueues(),this._isTileHandlerReady=!0,this._styeChanged=!1,this._spriteSourceChanged=!1,void this.requestUpdate();const a=await this._tileHandler.spriteMosaic,l=this._vectorTileContainer;this._tileInfoView=new C(this.layer.tileInfo,this.layer.fullExtent),l.setStyleResources(a,this._tileHandler.glyphMosaic,this._styleRepository,this._tileInfoView),this._tileManager=new p({acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),tileInfoView:this._tileInfoView},this._vectorTileContainer),this._resumeQueues(),this._isTileHandlerReady=!0,this.requestUpdate(),this._styeChanged=!1,this._spriteSourceChanged=!1}_createVectorTile(e){const t=this._tileInfoView.getTileBounds(u(),e),i=this._tileInfoView.getTileResolution(e.level);return new _(e,i,t[0],t[3],512,512,this._styleRepository)}async _queryTile(e,t,i,s,r,a){if(0===r.layerData.size)return;const l=this._ensureTileIndex(r),n=this._tileInfoView.getTileBounds(u(),r.key,!0),o=Q*S*((t.x-n[0])/(n[2]-n[0])),h=Q*S*(1-(t.y-n[1])/(n[3]-n[1])),c=await l.queryAttributes(o,h,i,s,a);for(const u of c)u.graphic.geometry=this._tileToMapPoint(u.tilePoint,r.transforms.tileUnitsToPixels),e.push({type:\"graphic\",layer:this.layer,graphic:u.graphic,mapPoint:t.clone()});e.sort((e,t)=>(y(t.graphic.origin)?t.graphic.origin.layerIndex:0)-(y(e.graphic.origin)?e.graphic.origin.layerIndex:0))}_tileToMapPoint(e,t){if(!e)return null;const i=e[0]*t[0]+e[1]*t[3]+t[6],s=e[0]*t[1]+e[1]*t[4]+t[7],r=this.view.state,a=[0,0];return r.toMap(a,[i,s]),new h({x:a[0],y:a[1],spatialReference:r.spatialReference})}_ensureTileIndex(e){let t=e.featureIndex;return t||(t=g.create(e.key,e.layerData,this._styleRepository,this._tileHandler,this.layer),e.featureIndex=t),t}_pauseQueues(){this._fetchQueue.pause(),this._parseQueue.pause()}_resumeQueues(){this._fetchQueue.resume(),this._parseQueue.resume()}_clearQueues(){this._fetchQueue.clear(),this._parseQueue.clear()}};function b(e){if(null==e)return 0;switch(e.type){case\"partial\":return Object.keys(e.diff).length;case\"complete\":return Math.max(Object.keys(e.oldValue).length,Object.keys(e.newValue).length);case\"collection\":return Object.keys(e.added).length+Object.keys(e.changed).length+Object.keys(e.removed).length}}e([a()],P.prototype,\"_isTileHandlerReady\",void 0),P=e([l(\"esri.views.2d.layers.VectorTileLayerView2D\")],P);const V=P;export{V as default};\n"],"names":["i","n","e","h","s","w","t","h$4","o","a","l","c","r","g","_","a$2","r$1","n$1","p","h$3","u","c$1","f","d","T","t$1","y","m","b","F","v","C","R","I","x","L","D","P","Q","S","H","V"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12]}