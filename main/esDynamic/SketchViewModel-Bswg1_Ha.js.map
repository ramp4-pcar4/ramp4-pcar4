{"version":3,"file":"SketchViewModel-Bswg1_Ha.js","sources":["../../node_modules/@arcgis/core/views/interactive/sketch/Units.js","../../node_modules/@arcgis/core/views/support/angularMeasurementUtils.js","../../node_modules/@arcgis/core/views/interactive/sketch/SketchValueOptions.js","../../node_modules/@arcgis/core/views/3d/interactive/editingTools/isSupportedObjectUtils.js","../../node_modules/@arcgis/core/views/3d/interactive/editingTools/move/isSupportedObject.js","../../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshape/isSupportedObject.js","../../node_modules/@arcgis/core/views/3d/interactive/editingTools/transform/isSupportedGraphic.js","../../node_modules/@arcgis/core/views/draw/support/layerUtils.js","../../node_modules/@arcgis/core/views/interactive/sketch/SketchLabelOptions.js","../../node_modules/@arcgis/core/views/interactive/sketch/SketchTooltipElevationOptions.js","../../node_modules/@arcgis/core/views/interactive/sketch/SketchTooltipVisibleElements.js","../../node_modules/@arcgis/core/views/interactive/sketch/SketchTooltipOptions.js","../../node_modules/@arcgis/core/views/interactive/sketch/SketchOptions.js","../../node_modules/@arcgis/core/views/interactive/sketch/normalizedPoint.js","../../node_modules/@arcgis/core/views/interactive/snapping/Settings.js","../../node_modules/@arcgis/core/views/interactive/snapping/SnappingDomain.js","../../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingLayerSource.js","../../node_modules/@arcgis/core/views/interactive/snapping/SnappingOptions.js","../../node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js","../../node_modules/@arcgis/core/views/support/geometry2dUtils.js","../../node_modules/@arcgis/core/views/support/geometry3dUtils.js","../../node_modules/@arcgis/core/views/interactive/sketch/constraints.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/SnappingCandidate.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/FeatureSnappingCandidate.js","../../node_modules/@arcgis/core/views/interactive/snapping/hints/SnappingHint.js","../../node_modules/@arcgis/core/views/interactive/snapping/hints/LineSnappingHint.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/DrapedEdgeSnappingCandidate.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/EdgeSnappingCandidate.js","../../node_modules/@arcgis/core/views/interactive/snapping/hints/IntersectionSnappingHint.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/IntersectionSnappingCandidate.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/LineSnappingCandidate.js","../../node_modules/@arcgis/core/views/interactive/snapping/hints/ParallelSnappingHint.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/ParallelLineSnappingCandidate.js","../../node_modules/@arcgis/core/views/interactive/snapping/hints/RightAngleSnappingHint.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleSnappingCandidate.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleTriangleSnappingCandidate.js","../../node_modules/@arcgis/core/views/3d/interactive/support/viewUtils.js","../../node_modules/@arcgis/core/views/interactive/support/viewUtils.js","../../node_modules/@arcgis/core/views/support/geodesicMeasurementUtils.js","../../node_modules/@arcgis/core/views/support/geodesicLengthMeasurementUtils.js","../../node_modules/@arcgis/core/views/interactive/snapping/SnappingManager.js","../../node_modules/@arcgis/core/views/support/measurementUtils.js","../../node_modules/@arcgis/core/views/support/euclideanAreaMeasurementUtils.js","../../node_modules/@arcgis/core/views/support/geodesicAreaMeasurementUtils.js","../../node_modules/@arcgis/core/views/support/automaticAreaMeasurementUtils.js","../../node_modules/@arcgis/core/views/support/euclideanLengthMeasurementUtils.js","../../node_modules/@arcgis/core/views/support/automaticLengthMeasurementUtils.js","../../node_modules/@arcgis/core/views/support/hitTestSelectUtils.js","../../node_modules/@arcgis/core/widgets/Sketch/support/OperationHandle.js","../../node_modules/@arcgis/core/widgets/Sketch/support/sketchUtils.js","../../node_modules/@arcgis/core/widgets/Sketch/SketchViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let e=class extends r{constructor(o){super(o),this.length=null,this.verticalLength=null,this.area=null}};o([t()],e.prototype,\"length\",void 0),o([t()],e.prototype,\"verticalLength\",void 0),o([t()],e.prototype,\"area\",void 0),e=o([s(\"esri.views.interactive.sketch.Units\")],e);const c=e;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{cyclicalDegrees as e,Cyclical as t}from\"../../core/Cyclical.js\";import{createAngle as r,convertRotationType as i}from\"../../core/quantityUtils.js\";import{convertUnit as o}from\"../../core/unitUtils.js\";import{angle as n}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a,UNIT_Y as s}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{q as c,c as l,i as u}from\"../../chunks/vec32.js\";import{create as f}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectVectorToVector as m}from\"../../geometry/projection/projectVectorToVector.js\";import{geodesicCompatibleSpatialReference as g,inverseGeodeticSolver as p,InverseGeodeticSolverResult as v,directGeodeticSolver as d}from\"../../geometry/support/geodesicUtils.js\";import{equals as h}from\"../../geometry/support/spatialReferenceUtils.js\";var j;function R(e,t){if(null==e||null==t)return;const i=b(e,t);return null!=i?r(i,\"radians\",\"geographic\"):void 0}!function(e){e.Absolute=\"absolute\",e.Relative=\"relative\",e.RelativeBilateral=\"relative-bilateral\"}(j||(j={}));const b=(()=>{const e=f(),t=f();return(r,i)=>(u(e,r.x,r.y,r.z??0),u(t,i.x,i.y,i.z??0),y(e,t,r.spatialReference,i.spatialReference))})(),y=(()=>{const e=a(),t=f(),r=f();return(i,a,l,u)=>{if(c(i,a))return;const f=g(l),v=g(u);if(f&&v&&h(f,v)&&m(i,l,t,f)&&m(a,u,r,v)){const{azimuth:e}=p(V,t,r,f);return null!=e?o(e,\"degrees\",\"radians\"):void 0}e[0]=a[0]-i[0],e[1]=a[1]-i[1];let d=n(s,e);return e[0]<0&&(d=k-d),d}})();function x(e,t,r,i=j.Absolute){if(t&&r)switch(i){case j.Absolute:return R(t,r);case j.Relative:return w(z(e,t,r),j.Relative);case j.RelativeBilateral:return w(z(e,t,r),j.RelativeBilateral)}}function z(e,t,i){if(!e||!t||!i)return;const o=b(e,t),n=b(t,i);return null!=o&&null!=n?r(n-o,\"radians\",\"geographic\"):void 0}function w(e,t){if(null!=e)switch(t){case j.Absolute:return A(e);case j.Relative:{const t=T(e);let i=I.normalize(t,0,!0);return-180===i&&(i=180),r(i,\"degrees\",\"geographic\")}case j.RelativeBilateral:{const t=T(e),i=Math.abs(I.normalize(t,0,!0));return r(i,\"degrees\",\"geographic\")}}}function A(e){const t=T(e),i=C.normalize(t,0,!0);return r(i,\"degrees\",\"geographic\")}function B(e,t,n){let a=o(e.value,e.unit,\"degrees\");return a=i(a,e.rotationType,n),a=o(a,\"degrees\",t),r(a,t,n)}const M=(()=>{const e=f();return(t,r,n,a,s,c=\"geodesic\")=>{l(e,r);const f=T(s);if(\"geodesic\"===c){const i=g(n);if(i&&m(e,n,e,i))return d(t,e,f,a,i),t[2]=r[2],!!m(t,i,t,n)}const p=i(f,\"geographic\",\"arithmetic\"),v=o(p,\"degrees\",\"radians\"),h=r[0]+a*Math.cos(v),j=r[1]+a*Math.sin(v),R=r[2];return u(t,h,j,R),!0}})();function T(e){if(null!=e)return i(q(e),e.rotationType,\"geographic\")}function U(e){if(null!=e)return i(q(e),e.rotationType,\"arithmetic\")}function q(e){return o(e.value,e.unit,\"degrees\")}const V=new v,k=2*Math.PI,C=e,I=new t(-180,180);export{j as DirectionMode,B as convertAngle,R as directionBetweenPoints,x as directionForVertices,U as getDegreesArithmetic,T as getDegreesGeographic,w as getNormalizedDirection,A as getNormalizedGeographicOrientation,M as pointFromDistanceAlongAzimuth,y as radiansGeographicBetweenVec};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import r from\"./Units.js\";import{DirectionMode as o}from\"../../support/angularMeasurementUtils.js\";let n=class extends e{constructor(t){super(t),this.directionMode=\"relative\",this.relativeDirectionIsBilateral=!1}get effectiveDirectionMode(){switch(this.directionMode){case\"relative\":return this.relativeDirectionIsBilateral?o.RelativeBilateral:o.Relative;case\"absolute\":return o.Absolute}}get displayUnits(){return this._get(\"displayUnits\")??new r}set displayUnits(t){this._set(\"displayUnits\",t)}get inputUnits(){return this._get(\"inputUnits\")??new r}set inputUnits(t){this._set(\"inputUnits\",t)}};t([i({type:String,nonNullable:!0})],n.prototype,\"directionMode\",void 0),t([i({type:Boolean,nonNullable:!0})],n.prototype,\"relativeDirectionIsBilateral\",void 0),t([i()],n.prototype,\"effectiveDirectionMode\",null),t([i({type:r,nonNullable:!0})],n.prototype,\"displayUnits\",null),t([i({type:r,nonNullable:!0})],n.prototype,\"inputUnits\",null),n=t([s(\"esri.views.interactive.sketch.SketchValueOptions\")],n);const l=n;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";function E(E){switch(E){case P.SUPPORTED:break;case P.GRAPHICS_LAYER_MISSING:return\"not owned by a graphics layer\";case P.GEOMETRY_MISSING:return\"no geometry\";case P.GEOMETRY_TYPE_UNSUPPORTED:return\"the geometry type is not supported\";case P.ELEVATION_MODE_UNSUPPORTED:return\"the elevation mode is not supported\";case P.SYMBOL_TYPE_UNSUPPORTED:return\"the symbol type is not supported\"}return\"\"}var P;!function(E){E[E.SUPPORTED=0]=\"SUPPORTED\",E[E.GRAPHICS_LAYER_MISSING=1]=\"GRAPHICS_LAYER_MISSING\",E[E.GEOMETRY_MISSING=2]=\"GEOMETRY_MISSING\",E[E.GEOMETRY_TYPE_UNSUPPORTED=3]=\"GEOMETRY_TYPE_UNSUPPORTED\",E[E.ELEVATION_MODE_UNSUPPORTED=4]=\"ELEVATION_MODE_UNSUPPORTED\",E[E.SYMBOL_TYPE_UNSUPPORTED=5]=\"SYMBOL_TYPE_UNSUPPORTED\"}(P||(P={}));export{P as SupportedObjectResult,E as isSupportedObjectResultMessage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{hasEffectiveFeatureExpressionInfo as t}from\"../../../../../support/elevationInfoUtils.js\";import{SupportedObjectResult as e}from\"../isSupportedObjectUtils.js\";function r(r){if(r.graphic&&\"graphics\"!==r.graphic.layer?.type)return e.GRAPHICS_LAYER_MISSING;const o=r.operations?.data.type;if(!o)return e.GEOMETRY_TYPE_UNSUPPORTED;switch(o){case\"polygon\":case\"point\":case\"polyline\":case\"mesh\":break;default:return e.GEOMETRY_TYPE_UNSUPPORTED}const i=r.elevationInfo;return t(i)?e.ELEVATION_MODE_UNSUPPORTED:e.SUPPORTED}export{r as isSupportedObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{hasEffectiveFeatureExpressionInfo as t}from\"../../../../../support/elevationInfoUtils.js\";import{SupportedObjectResult as r}from\"../isSupportedObjectUtils.js\";function e(t){return o(t).result}function o(e){if(e.graphic&&\"graphics\"!==e.graphic.layer?.type)return{result:r.GRAPHICS_LAYER_MISSING};if(!e.operations)return{result:r.GEOMETRY_MISSING};if(t(e.elevationInfo))return{result:r.ELEVATION_MODE_UNSUPPORTED};const o=e.operations.data.type,i=e.operations.data.geometry;return\"point\"===o||\"mesh\"===o||\"polyline\"===o||\"polygon\"===o?{result:r.SUPPORTED,geometry:i}:{result:r.GEOMETRY_TYPE_UNSUPPORTED}}export{e as isSupportedObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{getGraphicEffectiveElevationMode as e,hasGraphicFeatureExpressionInfo as t}from\"../../../../../support/elevationInfoUtils.js\";import{SupportedObjectResult as o}from\"../isSupportedObjectUtils.js\";function r(r){if(\"graphics\"!==r.layer?.type)return o.GRAPHICS_LAYER_MISSING;if(null==r.geometry)return o.GEOMETRY_MISSING;switch(r.geometry.type){case\"point\":break;case\"polygon\":case\"polyline\":case\"multipoint\":case\"extent\":case\"mesh\":return o.SUPPORTED;default:return o.GEOMETRY_TYPE_UNSUPPORTED}const s=null!=r.symbol&&\"point-3d\"===r.symbol.type&&r.symbol.symbolLayers;if(!s||!s.some((e=>\"object\"===e.type)))return o.SYMBOL_TYPE_UNSUPPORTED;return\"on-the-ground\"!==e(r)&&t(r)?o.ELEVATION_MODE_UNSUPPORTED:o.SUPPORTED}export{r as isSupportedGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isEditableLayer as r}from\"../../../layers/support/editableLayers.js\";import{isSubtypeSublayer as e,isGraphicsLayer as s,isKnowledgeGraphSublayer as n}from\"../../../layers/support/layerUtils.js\";function t(r,e,s){if(!e||!r?.map)return;const{map:n}=r,t=n.layers.find((r=>r===e));t||n.add(e,s),t&&null!=s&&n.layers.reorder(t,s)}function l(r,e){const s=\"subtype-sublayer\"===e?.type?e.parent:e;return r.allLayerViews.find((r=>{const e=r.layer;return e===s||\"sublayers\"in e&&null!=e.sublayers&&e.sublayers.includes(s)}))}function a(t){return r(t)||e(t)||s(t)||n(t)}export{t as addUniqueLayer,l as findLayerView,a as isConnectedReshapeSupportedLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let t=class extends r{constructor(o){super(o),this.enabled=!1}};o([e({type:Boolean,nonNullable:!0})],t.prototype,\"enabled\",void 0),t=o([s(\"esri.views.interactive.sketch.SketchLabelOptions\")],t);const c=t;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let t=class extends r{constructor(o){super(o),this.mode=\"absolute-height\"}toJSON(){return{mode:this.mode}}};o([e({type:String,nonNullable:!0})],t.prototype,\"mode\",void 0),t=o([s(\"esri.views.interactive.sketch.SketchTooltipElevationOptions\")],t);export{t as SketchTooltipElevationOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";let a=class extends e{constructor(o){super(o),this.area=!0,this.coordinates=!0,this.direction=!0,this.distance=!0,this.elevation=!0,this.header=!0,this.helpMessage=!1,this.orientation=!0,this.radius=!0,this.rotation=!0,this.scale=!0,this.size=!0,this.totalLength=!0}};o([t({type:Boolean,nonNullable:!0})],a.prototype,\"area\",void 0),o([t({type:Boolean,nonNullable:!0})],a.prototype,\"coordinates\",void 0),o([t({type:Boolean,nonNullable:!0})],a.prototype,\"direction\",void 0),o([t({type:Boolean,nonNullable:!0})],a.prototype,\"distance\",void 0),o([t({type:Boolean,nonNullable:!0})],a.prototype,\"elevation\",void 0),o([t({type:Boolean,nonNullable:!0})],a.prototype,\"header\",void 0),o([t({type:Boolean,nonNullable:!0})],a.prototype,\"helpMessage\",void 0),o([t({type:Boolean,nonNullable:!0})],a.prototype,\"orientation\",void 0),o([t({type:Boolean,nonNullable:!0})],a.prototype,\"radius\",void 0),o([t({type:Boolean,nonNullable:!0})],a.prototype,\"rotation\",void 0),o([t({type:Boolean,nonNullable:!0})],a.prototype,\"scale\",void 0),o([t({type:Boolean,nonNullable:!0})],a.prototype,\"size\",void 0),o([t({type:Boolean,nonNullable:!0})],a.prototype,\"totalLength\",void 0),a=o([l(\"esri.views.interactive.sketch.SketchTooltipVisibleElements\")],a);const n=a;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{SketchTooltipElevationOptions as l}from\"./SketchTooltipElevationOptions.js\";import i from\"./SketchTooltipVisibleElements.js\";let p=class extends o{constructor(e){super(e),this.enabled=!1,this.forceEnabled=!1,this.helpMessage=null,this.helpMessageIcon=null,this.inputEnabled=!0,this.elevation=new l,this.placement=\"auto\",this.offset=null,this.visibleElements=new i,this.visualVariables=null,this.xyMode=\"auto\"}get effectiveEnabled(){return this.forceEnabled||this.enabled}};e([t({type:Boolean,nonNullable:!0})],p.prototype,\"enabled\",void 0),e([t()],p.prototype,\"forceEnabled\",void 0),e([t()],p.prototype,\"effectiveEnabled\",null),e([t()],p.prototype,\"helpMessage\",void 0),e([t()],p.prototype,\"helpMessageIcon\",void 0),e([t({type:Boolean,nonNullable:!0})],p.prototype,\"inputEnabled\",void 0),e([t({type:l,nonNullable:!0})],p.prototype,\"elevation\",void 0),e([t()],p.prototype,\"placement\",void 0),e([t()],p.prototype,\"offset\",void 0),e([t({type:i,nonNullable:!0})],p.prototype,\"visibleElements\",void 0),e([t()],p.prototype,\"visualVariables\",void 0),e([t()],p.prototype,\"xyMode\",void 0),p=e([s(\"esri.views.interactive.sketch.SketchTooltipOptions\")],p);const r=p;export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import r from\"./SketchLabelOptions.js\";import p from\"./SketchTooltipOptions.js\";import i from\"./SketchValueOptions.js\";let c=class extends t{constructor(o){super(o),this.labels=new r,this.tooltips=new p,this.values=new i}};o([s({nonNullable:!0,type:r})],c.prototype,\"labels\",void 0),o([s({nonNullable:!0,type:p})],c.prototype,\"tooltips\",void 0),o([s({nonNullable:!0,type:i})],c.prototype,\"values\",void 0),c=o([e(\"esri.views.interactive.sketch.SketchOptions\")],c);const l=c;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{fromValues as n}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{makeDehydratedPoint as t,setDehydratedPoint as e}from\"../../../layers/graphics/dehydratedPoint.js\";import{getConvertedElevation as o,getConvertedElevationFromVector as r,getConvertedElevationFromXYZ as u,absoluteHeightElevationInfo as i}from\"../../../support/elevationInfoUtils.js\";var l;function f(n,t,e){return c(n,t,e)}function c(t=0,e=0,o=0){return n(t,e,o)}function a(n){return n}function s(n){return n}function d(t,e,o){return a(n(t,e,o))}function v(n){const[t,e,o]=n;return n.length>3?[t,e,o,n[3]]:[t,e,o]}function p(n){return n[3]=((n.length>3?n[3]:void 0)??l.NONE)|l.TARGET,n}function m(n){return Boolean(((n.length>3?n[3]:void 0)??l.NONE)&l.TARGET)}function N(n,t,{coordinateHelper:e,elevationInfo:o},r){return n?E(e.vectorToDehydratedPoint(n,g),t,o,r):null}function E(n,t,e,r=c()){return r[0]=n.x,r[1]=n.y,r[2]=n.z??0,null==t||(\"2d\"===t.type?r[2]=0:r[2]=o(t,n,e,i)??0),r}function T(n,o,r){return r?(e(r,n[0],n[1],n[2],o),r):t(n[0],n[1],n[2],o)}function h(n,o,{z:u,m:l},f,c){const{spatialReference:a,elevationInfo:s}=f;let d;if(null==u&&null==l)d=void 0;else if(null==o||\"2d\"===o.type)d=u??void 0;else{d=r(o,n,a,i,s)??0}const[v,p]=n;return c?e(c,v,p,d,a):c=t(v,p,d,a),null!=l&&(c.m=l,c.hasM=!0),c}function y(n,t,e,o,r=c()){const[f,a]=n;return r[0]=f,r[1]=a,n.length>3&&(r[3]=n[3]??l.NONE),\"3d\"!==e?.type?(r[2]=t.value,r):(r[2]=u(e,f,a,t.value,o,t.elevationInfo,i)??0,r)}!function(n){n[n.NONE=0]=\"NONE\",n[n.TARGET=1]=\"TARGET\"}(l||(l={}));const g=t(0,0,0,null);export{s as asVec2,v as clone,f as create,c as createWritable,N as fromAnyMapPoint,E as fromPoint,d as fromValues,a as fromVec3,m as isTarget,p as markAsTarget,T as toDehydratedPoint,h as toElevationAlignedDehydratedPoint,y as withSelfSnappingZ};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import n from\"../../../Color.js\";import t from\"../../../core/JSONSupport.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";let o=class extends t{constructor(){super(...arguments),this.enabled=!0}};e([i({type:Boolean})],o.prototype,\"enabled\",void 0),o=e([r(\"esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm\")],o);let l=class extends t{constructor(e){super(e),this.lineSnapper=new o,this.parallelLineSnapper=new o,this.rightAngleSnapper=new o,this.rightAngleTriangleSnapper=new o,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.verticalLineThresholdMeters=.3,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new n([255,127,0]),this.orangeTransparent=new n([255,127,0,.5]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5,this.satisfiesConstraintScreenThreshold=1}};e([i({type:o,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,\"lineSnapper\",void 0),e([i({type:o,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,\"parallelLineSnapper\",void 0),e([i({type:o,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,\"rightAngleSnapper\",void 0),e([i({type:o,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,\"rightAngleTriangleSnapper\",void 0),e([i({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],l.prototype,\"shortLineThreshold\",void 0),e([i({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],l.prototype,\"distance\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,\"pointThreshold\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,\"intersectionParallelLineThreshold\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,\"parallelLineThreshold\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],l.prototype,\"verticalLineThresholdMeters\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,\"touchSensitivityMultiplier\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,\"pointOnLineThreshold\",void 0),e([i({type:n,nonNullable:!0})],l.prototype,\"orange\",void 0),e([i({type:n,nonNullable:!0})],l.prototype,\"orangeTransparent\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,\"lineHintWidthReference\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,\"lineHintWidthTarget\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],l.prototype,\"lineHintFadedExtensions\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,\"parallelLineHintWidth\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],l.prototype,\"parallelLineHintLength\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],l.prototype,\"parallelLineHintOffset\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],l.prototype,\"rightAngleHintSize\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],l.prototype,\"rightAngleHintOutlineSize\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],l.prototype,\"satisfiesConstraintScreenThreshold\",void 0),l=e([r(\"esri.views.interactive.snapping.Settings.Defaults\")],l);const p=new l;export{p as defaults};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar E;!function(E){E[E.FEATURE=1]=\"FEATURE\",E[E.SELF=2]=\"SELF\",E[E.ALL=3]=\"ALL\"}(E||(E={}));export{E as SnappingDomain};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import e from\"../../../core/Collection.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let i=class extends r{constructor(o){super(o),this.layer=null,this.enabled=!0,this.updating=!1,this.availability=1,this.sublayerSources=new e}};o([t({constructOnly:!0})],i.prototype,\"layer\",void 0),o([t()],i.prototype,\"enabled\",void 0),o([t()],i.prototype,\"updating\",void 0),o([t()],i.prototype,\"availability\",void 0),o([t()],i.prototype,\"sublayerSources\",void 0),i=o([s(\"esri.views.interactive.snapping.FeatureSnappingLayerSource\")],i);export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{difference as r}from\"../../../core/arrayUtils.js\";import o from\"../../../core/Collection.js\";import i from\"../../../core/Logger.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"./FeatureSnappingLayerSource.js\";import{defaults as l}from\"./Settings.js\";let u=class extends t{constructor(e){super(e),this.enabled=!1,this.enabledToggled=!1,this.forceDisabled=!1,this.selfEnabled=!0,this.featureEnabled=!0,this.gridEnabled=!1,this.attributeRulesEnabled=!1,this.featureSources=new o,this.distance=l.distance,this.touchSensitivityMultiplier=l.touchSensitivityMultiplier}get effectiveEnabled(){return!this.forceDisabled&&(this.enabledToggled?!this.enabled:this.enabled)}get effectiveGridEnabled(){return this.effectiveEnabled&&this.gridEnabled}get effectiveSelfEnabled(){return this.effectiveEnabled&&this.selfEnabled}get effectiveFeatureEnabled(){return this.effectiveEnabled&&this.featureEnabled}get _effectiveFeatureSources(){const e=this.featureSources;e.some(c)&&i.getLogger(this).warnOnce(\"Do not configure SubtypeGroupLayer sources in SnappingOptions.featureSources directly. Create a FeatureSnappingLayerSource for each SubtypeSublayer.\");const t=e.filter(d),s=this._get(\"_effectiveFeatureSources\")?.filter(c)??new o;for(const r of t){const e=s.find((e=>e.layer===r.layer.parent));if(e)e.sublayerSources.includes(r)||e.sublayerSources.add(r);else if(r.layer.parent){const e=new n({layer:r.layer.parent});e.sublayerSources.add(r),s.add(e)}}for(const r of s){const e=r.sublayerSources.filter((e=>!t.includes(e)));r.sublayerSources.removeMany(e)}s.removeMany(s.filter((e=>0===e.sublayerSources.length)));const a=e.filter(p),l=this._get(\"_effectiveFeatureSources\")??new o,{added:u,removed:f}=r(l.toArray(),[...a,...s]);return l.removeMany(f),l.addMany(u),l}};function c(e){return\"subtype-group\"===e.layer.type}function p(e){return\"subtype-group\"!==e.layer.type}function d(e){return\"subtype-sublayer\"===e.layer.type}e([s()],u.prototype,\"enabled\",void 0),e([s()],u.prototype,\"enabledToggled\",void 0),e([s()],u.prototype,\"forceDisabled\",void 0),e([s()],u.prototype,\"selfEnabled\",void 0),e([s()],u.prototype,\"featureEnabled\",void 0),e([s()],u.prototype,\"gridEnabled\",void 0),e([s()],u.prototype,\"attributeRulesEnabled\",void 0),e([s({type:o.ofType(n)})],u.prototype,\"featureSources\",void 0),e([s()],u.prototype,\"distance\",void 0),e([s()],u.prototype,\"touchSensitivityMultiplier\",void 0),e([s({readOnly:!0})],u.prototype,\"effectiveEnabled\",null),e([s({readOnly:!0})],u.prototype,\"effectiveGridEnabled\",null),e([s({readOnly:!0})],u.prototype,\"effectiveSelfEnabled\",null),e([s({readOnly:!0})],u.prototype,\"effectiveFeatureEnabled\",null),e([s({readOnly:!0})],u.prototype,\"_effectiveFeatureSources\",null),u=e([a(\"esri.views.interactive.snapping.SnappingOptions\")],u);export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{watch as e,syncAndInitial as t}from\"../../../core/reactiveUtils.js\";import{intersection as n}from\"../../../core/SetUtils.js\";import{sqlAnd as r}from\"../../../core/sql.js\";import{mergeTimeExtents as o}from\"../../../core/timeUtils.js\";import{s as i}from\"../../../chunks/vec32.js\";import{makeDehydratedPoint as s}from\"../../../layers/graphics/dehydratedPoint.js\";import a from\"../../../rest/support/Query.js\";import{ViewEventPriorities as p}from\"../../input/InputManager.js\";import{snappingKeys as c}from\"../keybindings.js\";import{fromAnyMapPoint as l}from\"../sketch/normalizedPoint.js\";import{isWebMap as m}from\"../../../webmap/utils.js\";const d=Symbol(\"grid-placement-graphic\");function u(e,t){const n=e.length===t.length&&e[0]===t[0]&&e[1]===t[1];switch(e.length){case 2:return n;case 3:return n&&e[2]===t[2];case 4:return n&&e[2]===t[2]&&e[3]===t[3]}return!1}function g(e,t){const n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function f(e,t){return Math.sqrt(g(e,t))}function E(e,t){t.sort(((t,n)=>i(t.targetPoint,e)-i(n.targetPoint,e)))}var h;function y({parameters:{point:e,distance:t,returnEdge:n,vertexMode:i,coordinateHelper:{spatialReference:p},filter:c},mode:l,returnZ:m,filter:d}){const u=d?.clone()??new a({where:\"1=1\"});return u.returnZ=m??\"3d\"===l,c&&(u.geometry=c.geometry,u.distance=c.distance,u.spatialRelationship=c.spatialRelationship,u.where=r(u.where,c.where),u.timeExtent=o(u.timeExtent,c.timeExtent),u.objectIds=w(u.objectIds,c.objectIds)),{point:s(e[0],e[1],e[2],p.toJSON()),mode:l,distance:t,returnEdge:n,vertexMode:i,query:u.toJSON()}}function w(e,t){return e||t?t?e?Array.from(n(new Set(e),new Set(t))):t:e:null}function j(e,t,n){return{left:l(e.leftVertex.pos,t,n),right:l(e.rightVertex.pos,t,n)}}!function(e){e[e.TARGET=0]=\"TARGET\",e[e.REFERENCE=1]=\"REFERENCE\",e[e.REFERENCE_EXTENSION=2]=\"REFERENCE_EXTENSION\"}(h||(h={}));const R=Symbol(\"snapping-toggle\");function N(n,r=()=>{}){const o=e((()=>({view:n.view,snappingOptions:n.snappingOptions})),(({view:e,snappingOptions:t})=>{if(n.removeHandles(R),!e||!t)return;const o=p.TOOL,i=[e.on(\"key-down\",(e=>{e.key!==c.toggle||e.repeat||(t.enabledToggled=!0,r())}),o),e.on(\"key-up\",(e=>{e.key===c.toggle&&(t.enabledToggled=!1,r())}),o),e.on(\"pointer-move\",(e=>{const n=e.native.ctrlKey;t.enabledToggled!==n&&(t.enabledToggled=n,r())}),o)];n.addHandles(i,R)}),t);n.addHandles(o)}function b(e){return m(e)&&\"utilityNetworks\"in e&&!!e.utilityNetworks?.length}export{h as LineSegmentHintType,j as editEdgeToSnappingEdge,d as gridPlacementGraphicSymbol,b as isUtilityNetworkWebMap,y as makeSnappingQuery,u as objectEqual,f as screenDistance,N as setupSnappingToggleHandles,E as sortCandidatesInPlace,g as squaredScreenDistance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{subtract as n,scaleAndAdd as r,add as e,length as s,dot as o,squaredLength as c,scale as u,distance as i,copy as f}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a,clone as p}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";function m(t,n){return t[0]*n[1]-t[1]*n[0]}function h(t,n,r){const e=(n[0]-t[0])*(r[1]-t[1])-(n[1]-t[1])*(r[0]-t[0]);return Math.abs(e)/i(n,r)}function E(t,n,r){const e=o(r,n)/c(r);return u(t,r,e)}function I(t,r,s,o,c=s){return n(x,o,s),n(g,r,c),E(A,g,x),e(t,c,A)}function L(t,e,s,u){n(x,u,s),n(g,e,s);const i=o(x,g)/c(x);return i>0?r(t,s,x,i):f(t,s)}function N(t,e,o,c){n(x,e,o);const u=c/s(x);return r(t,o,x,u)}function l(n,r){return I(g,r,n.start,n.end),t(g[0],r[0])&&t(g[1],r[1])?[p(r)]:[]}function y(n,r,e){return N(g,e,n,r),t(g[0],e[0])&&t(g[1],e[1])?[p(e)]:[]}function b(t,e){const s=t.start,o=t.end,c=e.start,u=e.end,i=n(x,o,s),f=n(M,u,c),a=m(i,f);if(Math.abs(a)<=v)return[];const p=n(g,s,c),h=m(f,p)/a,E=m(i,p)/a;if(h>=0){if(E>=0||e.type===j.LINE)return[r(A,s,i,h)]}else if(t.type===j.LINE&&(E>=0||e.type===j.LINE))return[r(A,s,i,h)];return[]}function d(t,e,s){const u=[],i=n(x,t.end,t.start),f=n(M,t.start,e),a=c(i),p=2*o(i,f),m=p*p-4*a*(c(f)-s*s);if(0===m){const n=-p/(2*a);(t.type===j.LINE||n>=0)&&u.push(r(A,t.start,i,n))}else if(m>0){const n=Math.sqrt(m),e=(-p+n)/(2*a);(t.type===j.LINE||e>=0)&&u.push(r(A,t.start,i,e));const s=(-p-n)/(2*a);(t.type===j.LINE||s>=0)&&u.push(r(g,t.start,i,s))}return u}var j;!function(t){t[t.RAY=0]=\"RAY\",t[t.LINE=1]=\"LINE\"}(j||(j={}));const v=1e-6,x=a(),M=a(),g=a(),A=a();export{j as LineType,m as cross,y as intersectCircleAndPoint,l as intersectLineAndPoint,b as intersectLineAndRay,d as intersectLineLikeAndCircle,h as pointToLineDistance,E as projectPoint,N as projectPointToCircle,I as projectPointToLine,L as projectPointToRay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{subtract as n,length as r,scaleAndAdd as s,sub as e,dot as o,squaredLength as c,lerp as i,set as u,distance as a,squaredDistance as f}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{create as p,fromValues as m,ZEROS as L}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{a as h,e as d,b as A,i as l,h as E,y as N,d as y,c as P,j as b,H as j}from\"../../chunks/vec32.js\";import{create as M,clone as I}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getEpsilon as R}from\"../../core/libs/gl-matrix-2/math/common.js\";import{fromPositionAndNormal as Y,create as g,distance as x,intersectLine as v,isPointInside as H}from\"../../geometry/support/plane.js\";import{tangentFrame as q}from\"../3d/support/mathUtils.js\";import{LineType as F,intersectLineLikeAndCircle as _}from\"./geometry2dUtils.js\";function U({start:t,end:r,type:e},i,u){const a=[],f=n(et,r,t),m=n(ot,t,i),L=c(f),h=2*o(f,m),d=h*h-4*L*(c(m)-u*u);if(0===d){const n=-h/(2*L);(e===rt.PLANE||n>=0)&&a.push(s(p(),t,f,n))}else if(d>0){const n=Math.sqrt(d),r=(-h+n)/(2*L);(e===rt.PLANE||r>=0)&&a.push(s(p(),t,f,r));const o=(-h-n)/(2*L);(e===rt.PLANE||o>=0)&&a.push(s(p(),t,f,o))}return a}function k(t,r){const s=t.start,c=t.end,i=n(et,c,s),u=l(it,-i[1],i[0],0),a=r.start,f=r.end,p=h(ut,f,a),m=d(p,u),L=l(at,s[0],s[1],0),E=h(ft,L,a),N=d(E,u),y=R();if(Math.abs(m)<y)return Math.abs(N),[];const P=A(pt,a,p,N/m);if(r.type===F.RAY){const t=h(mt,P,a);if(d(t,p)<-y)return[]}if(t.type===rt.HALF_PLANE){const t=e(ot,P,s);if(o(t,i)<-y)return[]}return[I(P)]}function w(t,n){return T(X(ht,n[2],t),n)}function C(t,n){const r=0;return S(X(ht,r,t),X(dt,r,n)).map((([t,n])=>m(t,n)))}function z(t,n,r){return J(t,X(ht,t[2],n),r)}function B(t,n){return K(X(ht,t[2],n),t)}function D(t,e,o,c=M()){const i=n(et,t,e),u=r(i);return s(c,e,i,0===u?1:o/u),c[2]=t[2],c}function G(t,n,r){return a(t,n)-r}function J(t,{start:n,end:r,type:s},e=M()){const o=h(ct,t,n),c=h(it,r,n),i=d(o,c)/d(c,c);return A(e,n,c,s===F.RAY?Math.max(i,0):i)}function K({start:t,end:n,type:r},s){const e=h(ct,s,t),o=h(it,n,t);if(r===F.RAY&&d(o,e)<-R())return b(t,s);const c=E(ut,o,e);return j(c)/j(o)}const O=(()=>{const t=M(),n=M(),r=M();return({start:s,end:e},{center:o,radius:c,normal:i,slicePlane:a})=>{const f=Y(o,i,Lt);if($(x(f,s),0)&&$(x(f,e),0)){q(i,t,n);const f=(s,e)=>(y(r,e,o),u(s,d(r,t),d(r,n)),s),p=_({start:f(et,s),end:f(ot,e),type:F.LINE},L,c),m=[];for(const[r,s]of p){const e=P(M(),o);A(e,e,t,r),A(e,e,n,s),a&&!nt(a,e)||m.push(e)}return m}const p=M();return v(f,s,e,p)?!$(b(p,o),c)||a&&!nt(a,p)?[]:[p]:[]}})();function Q({start:t,end:r,type:s},e,i){const u=[],a=y(ct,r,t),f=n(ot,t,e),p=c(a),m=2*o(a,f),L=m*m-4*p*(c(f)-i*i);if(0===L){const n=-m/(2*p);(s===F.LINE||n>=0)&&u.push(A(M(),t,a,n))}else if(L>0){const n=Math.sqrt(L),r=(-m+n)/(2*p);(s===F.LINE||r>=0)&&u.push(A(M(),t,a,r));const e=(-m-n)/(2*p);(s===F.LINE||e>=0)&&u.push(A(M(),t,a,e))}return u}function S(t,n){const r=t.start,s=t.end,e=n.start,o=n.end,c=h(ct,s,r),i=h(it,o,e),u=h(ut,e,r),a=E(at,c,i);if(!$(d(u,a),0))return[];const f=N(a);if($(f,0))return[];const p=E(ft,u,i),m=d(p,a)/f,L=A(pt,r,c,m);if(t.type===F.RAY){const t=h(mt,L,r);if(d(c,t)<-R())return[]}if(n.type===F.RAY){const t=h(mt,L,e);if(d(i,t)<-R())return[]}return[I(L)]}function T({start:t,end:n,type:r},s){const e=h(ct,s,t),o=h(it,n,t),c=E(ut,o,e),i=N(c)/N(o),u=R();if(i<u)switch(r){case F.LINE:return[I(s)];case F.RAY:return d(o,e)<-u?[]:[I(s)]}return[]}function V(t,n,r){return $(f(r,t),n*n)?[I(r)]:[]}function W(t,n,r,s){const[e,o]=t,[c,u]=r,a=c-e,f=u-o,p=a*a+f*f,L=Math.sqrt(p);if(L>n+s)return[];if(L<Math.abs(n-s))return[];if($(L,0)&&$(n,s))return[];const h=(n*n-s*s+p)/(2*L),d=Math.sqrt(n*n-h*h),A=d*f/L,l=d*a/L,[E,N]=i(et,t,r,h/L);return $(A,l)?[m(E,N)]:[m(E+A,N-l),m(E-A,N+l)]}function X(t,n,{start:r,end:s,type:e}){return l(t.start,r[0],r[1],n),l(t.end,s[0],s[1],n),t.type=st[e],t}function Z(t,n){return $(t[2],n[2])}function $(n,r){return t(Math.abs(n-r),0,R())}function tt(t,n){return n.filter((n=>nt(t,n)))}function nt(t,n){return H(t,n)}var rt;!function(t){t[t.PLANE=0]=\"PLANE\",t[t.HALF_PLANE=1]=\"HALF_PLANE\"}(rt||(rt={}));const st={[rt.PLANE]:F.LINE,[rt.HALF_PLANE]:F.RAY},et=p(),ot=p(),ct=M(),it=M(),ut=M(),at=M(),ft=M(),pt=M(),mt=M(),Lt=g(),ht={start:M(),end:M(),type:F.LINE},dt={start:M(),end:M(),type:F.LINE};export{F as LineType,rt as VerticalPlaneType,T as intersectLineAndPoint,O as intersectLineLikeAndCircle,Q as intersectLineLikeAndVerticalCylinder,S as intersectLineLikes,V as intersectVerticalCylinderAndPoint,W as intersectVerticalCylinders,k as intersectVerticalPlaneAndLineLike,w as intersectVerticalPlaneAndPoint,U as intersectVerticalPlaneAndVerticalCylinder,C as intersectVerticalPlanes,$ as isClose,nt as isPointInsidePlane,K as pointToLineLikeDistance,G as pointToVerticalCylinderDistance,B as pointToVerticalPlaneDistance,tt as pointsInsidePlane,J as projectPointToLineLike,D as projectPointToVerticalCylinder,z as projectPointToVerticalPlane,Z as vectorsHaveCloseZ};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isSome as t,equals as e}from\"../../../core/arrayUtils.js\";import{asinClamped as s}from\"../../../core/mathUtils.js\";import{dot as r,subtract as n,squaredDistance as i,exactEquals as o,set as c}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as u}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{q as a,c as h,i as f,d as l,G as d,b as p,s as m,a as g,k as _,e as L,h as k,n as x}from\"../../../chunks/vec32.js\";import{create as y,UNIT_Z as P,fromValues as z,clone as M}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as T,g as q}from\"../../../chunks/vec42.js\";import{create as w}from\"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{toRadians as j}from\"../../../geometry/support/geodesicConstants.js\";import{directGeodeticSolver as v,inverseGeodeticSolver as A,InverseGeodeticSolverResult as D}from\"../../../geometry/support/geodesicUtils.js\";import{create as b,fromPoints as E,fromPositionAndNormal as R,intersectLine as N,signedDistance as U,projectPoint as Z,getNormal as I,distance as G}from\"../../../geometry/support/plane.js\";import{e as S,h as C,j as O,p as F,a as H}from\"../../../chunks/sphere.js\";import{tangentFrame as V}from\"../../3d/support/mathUtils.js\";import{clone as Y,asVec2 as B,createWritable as J,create as K,fromValues as Q,fromVec3 as W}from\"./normalizedPoint.js\";import{VerticalPlaneType as X,projectPointToVerticalPlane as $,isClose as tt,projectPointToVerticalCylinder as et,projectPointToLineLike as st,intersectLineLikes as rt,intersectVerticalPlaneAndLineLike as nt,intersectLineLikeAndVerticalCylinder as it,intersectLineLikeAndCircle as ot,intersectVerticalPlanes as ct,intersectVerticalPlaneAndVerticalCylinder as ut,intersectVerticalCylinders as at,intersectVerticalPlaneAndPoint as ht,vectorsHaveCloseZ as ft,isPointInsidePlane as lt,pointsInsidePlane as dt}from\"../../support/geometry3dUtils.js\";import{LineType as pt}from\"../../support/geometry2dUtils.js\";class mt{intersect(t){return Ht(this,t)}closestPoints(t){return[this.closestTo(t)]}}class gt extends mt{constructor(t){super(),this.point=t}equals(t){return this===t||Le(t)&&a(this.point,t.point)}closestTo(){return Y(this.point)}}class _t extends mt{constructor(t,e,s){super(),this.start=t,this.end=e,this.lineLike={start:t,end:e,type:s}}equals(t){return this===t||ke(t)&&this.lineLike.type===t.lineLike.type&&a(this.start,t.start)&&a(this.end,t.end)}closestTo(t){const e=J();return st(t,this.lineLike,e),e}}class Lt extends _t{constructor(t,e){super(t,e,pt.LINE)}}class kt extends _t{constructor(t,e){super(t,e,pt.RAY)}}class xt extends mt{constructor(t){super(),this.constraints=t}equals(t){return this===t||_e(t)&&e(this.constraints,t.constraints,((t,e)=>t.equals(e)))}closestTo(t){let e,s=1/0;for(const r of this.constraints){const n=r.closestTo(t),i=m(t,n);i<s&&(s=i,e=n)}return Y(e??t)}closestPoints(t){return this.constraints.flatMap((e=>e===this?[]:e.closestPoints(t)))}}class yt extends mt{constructor(t,e){super(),this.center=t,this.radius=e}equals(t){return this===t||Pe(t)&&this.center[0]===t.center[0]&&this.center[1]===t.center[1]&&this.radius===t.radius}closestTo(t){const e=J();return et(t,this.center,this.radius,e),e}}class Pt extends mt{constructor(t,e){super(),this.center=t,this.radius=e}equals(t){return this===t||ze(t)&&a(this.center,t.center)&&this.radius===t.radius}closestTo(t){const e=J();return et(t,this.center,this.radius,e),e[2]=this.center[2],e}asCircle(){return new zt(Y(this.center),this.radius,Q(0,0,1))}}class zt extends mt{constructor(t,e,s,r=void 0){super(),this.center=t,this.radius=e,this.normal=s,this.slicePlane=r}equals(t){return this===t||Me(t)&&a(this.center,t.center)&&a(this.normal,t.normal)&&this.radius===t.radius}closestTo(t){const{center:e,radius:s}=this;Z(this.getPlane(Tt),t,Mt);const r=g(Mt,Mt,e),n=_(r);if(tt(n,0))return Y(t);const i=s/Math.sqrt(n),o=J();p(o,e,r,i);const{slicePlane:c}=this;if(c&&!lt(c,o)){const e=Jt(c,this);return e?.closestTo(t)??Y(t)}return o}getPlane(t=b()){return R(this.center,this.normal,t)}}const Mt=y(),Tt=b();class qt extends mt{constructor(t){super(),this.z=t}equals(t){return this===t||xe(t)&&this.z===t.z}closestTo(t){return Q(t[0],t[1],this.z)}getPlane(t=b()){return f(wt,0,0,this.z),R(wt,P,t)}}const wt=y();class jt extends mt{constructor(t,e,s){super(),this.start=t,this.end=e,this.planeLike={start:B(t),end:B(e),type:s}}equals(t){return this===t||ye(t)&&this.planeLike.type===t.planeLike.type&&a(this.start,t.start)&&a(this.end,t.end)}closestTo(t){const e=J();return $(t,this.planeLike,e),e}closestEndTo(t){const{start:e,end:s}=this.planeLike;return Math.sign(r(n(vt,s,e),n(At,B(t),e)))>0?this.end:this.start}getPlane(t=b()){const e=h(Dt,this.end);return e[2]+=1,E(this.start,this.end,e,t)}getSlicePlane(t=b()){const{start:e,end:s,type:r}=this.planeLike;if(r===X.PLANE)return;const n=f(Dt,e[0],e[1],0),i=f(bt,s[0],s[1],0),o=l(bt,i,n);return R(n,o,t),t}}const vt=u(),At=u(),Dt=y(),bt=y();class Et extends jt{constructor(t,e){super(t,e,X.HALF_PLANE)}}class Rt extends jt{constructor(t,e){super(t,e,X.PLANE)}}class Nt extends mt{constructor(t,e){super(),this.sphere=C(t,e)}equals(t){return this===t||Te(t)&&O(this.sphere,t.sphere)}closestTo(t){const e=J();return F(this.sphere,t,e),e}get center(){return H(this.sphere)}get radius(){return this.sphere[3]}}class Ut extends mt{constructor(t,e,s){super(),this.start=t,this.end=e,this.getZ=s,this.planeLike={start:B(t),end:B(e),type:X.PLANE}}equals(t){return this===t||qe(t)&&a(this.start,t.start)&&a(this.end,t.end)&&this.getZ===t.getZ}closestTo(t){return Ft(this,t)}addIfOnTheGround(t,e){for(const s of e){const e=this.getZ(s[0],s[1])??0;tt(s[2],e)&&(s[2]=e,t.push(s))}}}class Zt extends mt{constructor(t,e,s){super(),this._x=t,this._y=e,this._z=s}equals(t){return this===t||je(t)&&this._x===t._x&&this._y===t._y&&this._z===t._z}closestTo([t,e,s]){return K(this._x??t,this._y??e,this._z??s)}}class It extends mt{constructor(t,e,s,r,n){super(),this._origin=t,this._spatialReference=e,this._distanceMeters=s,this._z=r,this._directionDegrees=n}equals(t){return this===t||we(t)&&o(this._origin,t._origin)&&this._spatialReference===t._spatialReference&&this._distanceMeters===t._distanceMeters&&this._z===t._z&&this._directionDegrees===t._directionDegrees}closestTo([t,e,s]){return c(Gt,t,e),o(Gt,this._origin)||this._applyDirectionAndDistance(Gt),K(Gt[0],Gt[1],this._z??s)}_applyDirectionAndDistance(t){if(null!=this._directionDegrees&&null!=this._distanceMeters)v(t,this._origin,this._directionDegrees,this._distanceMeters,this._spatialReference);else if(null!=this._directionDegrees)Ct(t,this._origin,this._directionDegrees,t,this._spatialReference);else if(null!=this._distanceMeters){const{azimuth:e}=A(St,this._origin,t,this._spatialReference);v(t,this._origin,e??0,this._distanceMeters,this._spatialReference)}}}const Gt=[0,0],St=new D;function Ct(t,e,s,r,n){let{azimuth:i,distance:o}=A(Ot,e,r,n);i??=0;let c=o*Math.cos((i-s)*j);c=Math.max(0,c),v(t,e,s,c,n)}const Ot=new D;function Ft(t,e){const s=J();return $(e,t.planeLike,s),s[2]=t.getZ(s[0],s[1])??ve,s}function Ht(t,e){if(_e(t)){const s=[];for(const r of t.constraints){const t=r.intersect(e);t&&s.push(t)}return ge(s)}if(_e(e))return Ht(e,t);if(qe(t))return le(t,e);if(qe(e))return le(e,t);if(Le(t)){const{point:s}=t;if(Le(e))return a(s,e.point)?t:void 0;const r=e.closestTo(s);return d(r,s)?t:void 0}if(ke(t)){if(Le(e))return Ht(e,t);if(ke(e))return pe(rt(t.lineLike,e.lineLike));if(xe(e))return Vt(t,e);if(ye(e))return pe(nt(e.planeLike,t.lineLike));if(Pe(e))return pe(it(t.lineLike,e.center,e.radius));if(Me(e))return pe(ot(t.lineLike,e));if(ze(e))return Yt(t,e);if(Te(e))return Bt(t,e)}else if(xe(t)){if(Le(e)||ke(e))return Ht(e,t);if(xe(e))return Kt(t,e);if(ye(e))return Qt(t,e);if(Pe(e))return Wt(t,e);if(Me(e))return $t(t,e);if(ze(e))return Xt(t,e);if(Te(e))return te(t,e)}else if(ye(t)){if(Le(e)||ke(e)||xe(e))return Ht(e,t);if(ye(e))return de(ct(t.planeLike,e.planeLike));if(Pe(e))return de(ut(t.planeLike,e.center,e.radius));if(Me(e))return se(t,e);if(ze(e))return ee(t,e);if(Te(e))return re(t,e)}else if(Pe(t)){if(Le(e)||ke(e)||xe(e)||ye(e))return Ht(e,t);if(Pe(e))return de(at(B(t.center),t.radius,B(e.center),e.radius));if(Me(e))return ne();if(ze(e))return ie(t,e);if(Te(e))return oe()}else if(Me(t)){if(Le(e)||ke(e)||xe(e)||ye(e)||Pe(e))return Ht(e,t);if(Me(e))return ce();if(ze(e))return ce(e.asCircle());if(Te(e))return ue()}else if(ze(t)){if(Le(e)||ke(e)||xe(e)||ye(e)||Pe(e)||Me(e))return Ht(e,t);if(ze(e))return ae(e,t);if(Te(e))return he()}else if(Te(t)){if(Le(e)||ke(e)||xe(e)||ye(e)||Pe(e)||ze(e))return Ht(e,t);if(Te(e))return fe()}}const Vt=(()=>{const t=b();return(e,s)=>{const{start:r,end:n}=e;if(ft(r,n)&&tt(r[2],s.z))return e;const i=J();return N(s.getPlane(t),r,n,i)?new gt(i):void 0}})();function Yt({lineLike:t},{center:e,radius:s}){const r=e[2];return pe(it(t,e,s).filter((t=>tt(t[2],r))))}function Bt({lineLike:t},{sphere:e}){return pe(S(e,t.start,t.end))}const Jt=(()=>{const t=w(),e=y(),r=y();return(n,i,o)=>{const{normal:c,center:u,radius:a}=i;V(c,e,r);const h=I(n),f=a*L(h,e),l=a*L(h,r);T(t,u[0],u[1],u[2],1);const d=q(n,t),m=Math.hypot(f,l),g=tt(m,0);if(tt(G(n,u),0)){if(g)return i;if(tt(a,0))return!o||lt(o,u)?new gt(Y(u)):void 0;k(e,h,c),x(e,e);const t=new Array,s=M(u);p(s,s,e,a),o&&!lt(o,s)||t.push(s);const r=M(u);return p(r,r,e,-a),o&&!lt(o,r)||t.push(r),pe(t)}if(g)return;const _=-d/m;if(Math.abs(_)>1||tt(_,1))return;const P=Math.atan(f/l),z=s(_)-P,w=Math.PI-z,j=new Array,v=y();p(v,u,e,a*Math.cos(z)),p(v,v,r,a*Math.sin(z)),j.push(v);const A=y();return p(A,u,e,a*Math.cos(w)),p(A,A,r,a*Math.sin(w)),j.push(A),pe(o?dt(o,j):j)}})();function Kt(t,e){return tt(t.z,e.z)?t:void 0}function Qt({z:t},{planeLike:e}){const[s,r]=e.start,[n,i]=e.end,o=Q(s,r,t),c=Q(n,i,t);return e.type===X.PLANE?new Lt(o,c):new kt(o,c)}function Wt(t,e){const[s,r]=e.center;return new Pt(Q(s,r,t.z),e.radius)}function Xt(t,e){return tt(e.center[2],t.z)?e:void 0}const $t=(()=>{const t=b();return(e,s)=>Jt(e.getPlane(t),s,s.slicePlane)})();function te(t,{center:e,radius:s}){const r=Math.abs(e[2]-t.z);if(r>s&&!tt(r,s))return;const n=Q(e[0],e[1],t.z),i=Math.sqrt(s**2-r**2);return tt(i,0)?void 0:new Pt(n,i)}const ee=(()=>{const t=b();return(e,{center:s,radius:r})=>{const n=ut(e.planeLike,s,r),i=s[2];e.getSlicePlane(t);const o=new Array;for(const[c,u]of n){const e=[c,u,i];lt(t,e)&&o.push(e)}return pe(o)}})(),se=(()=>{const t=b(),e=b();return(s,r)=>Jt(s.getPlane(t),r,s.getSlicePlane(e))})(),re=(()=>{const t=b();return(e,{center:s,radius:r})=>{const n=e.getPlane(t),i=U(n,s),o=Math.abs(i);if(o>r&&!tt(o,r))return;const c=Math.sqrt(r**2-i**2);if(tt(c,0)){const t=J();return Z(n,s,t),new gt(t)}const u=J(),a=M(I(n));return p(u,s,a,i),new zt(u,c,a,e.getSlicePlane())}})();function ne(t,e){}function ie(t,e){const s=i(B(t.center),B(e.center));if(tt(s,0)&&tt(t.radius,e.radius))return e;return me(at(B(t.center),t.radius,B(e.center),e.radius),e.center[2])}function oe(t,e){}function ce(t,e){}function ue(t,e){}function ae(t,e){if(!ft(t.center,e.center))return;const s=i(B(t.center),B(e.center));if(tt(s,0)&&tt(t.radius,e.radius))return t;return me(at(B(t.center),t.radius,B(e.center),e.radius),t.center[2])}function he(t,e){}function fe(t,e){}function le(t,e){const{planeLike:s,getZ:r}=t,n=new Array;if(Le(e))t.addIfOnTheGround(n,ht(s,e.point));else if(ke(e))t.addIfOnTheGround(n,nt(s,e.lineLike));else if(Pe(e))for(const[i,o]of ut(s,e.center,e.radius)){const t=r(i,o);null!=t&&n.push(z(i,o,t))}else if(ye(e)||qe(e))for(const[i,o]of ct(s,e.planeLike)){const t=r(i,o)??ve;n.push(z(i,o,t))}return pe(n)}function de(t){return ge(t.map((([t,e])=>{const s=Q(t,e,0),r=Q(t,e,1);return new Lt(s,r)})))}function pe(t){return ge(t.map((t=>t?new gt(W(t)):void 0)))}function me(t,e){return pe(t.map((([t,s])=>[t,s,e])))}function ge(e){if(0!==e.length)return 1===e.length?e[0]??void 0:new xt(e.filter(t))}function _e(t){return t instanceof xt}function Le(t){return t instanceof gt}function ke(t){return t instanceof _t}function xe(t){return t instanceof qt}function ye(t){return t instanceof jt}function Pe(t){return t instanceof yt}function ze(t){return t instanceof Pt}function Me(t){return t instanceof zt}function Te(t){return t instanceof Nt}function qe(t){return t instanceof Ut}function we(t){return t instanceof It}function je(t){return t instanceof Zt}const ve=0;export{zt as CircleConstraint,mt as Constraint,Zt as CoordinateConstraint,Ut as DrapedLineConstraint,It as GeodesicConstraint,Pt as HorizontalCircleConstraint,qt as HorizontalPlaneConstraint,Lt as LineConstraint,_t as LineLikeConstraint,gt as PointConstraint,kt as RayConstraint,xt as SetConstraint,Nt as SphereConstraint,yt as VerticalCylinderConstraint,Et as VerticalHalfPlaneConstraint,Rt as VerticalPlaneConstraint,jt as VerticalPlaneLikeConstraint,ge as constraintOrSet,Le as isPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,i,o){this.targetPoint=t,this.constraint=s,this.isDraped=i,this.domain=o}}export{t as SnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{SnappingDomain as t}from\"../SnappingDomain.js\";import{SnappingCandidate as o}from\"./SnappingCandidate.js\";class n extends o{constructor({targetPoint:o,objectId:n,constraint:r,isDraped:i}){super(o,r,i,t.FEATURE),this.objectId=n}}export{n as FeatureSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass s{constructor(s,t){this.isDraped=s,this.domain=t}}export{s as SnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{q as t,j as e}from\"../../../../chunks/vec32.js\";import{SnappingDomain as i}from\"../SnappingDomain.js\";import{SnappingHint as s}from\"./SnappingHint.js\";class n extends s{constructor(t,e,s,n,r=i.ALL,a=!0,h=!0){super(n,r),this.type=t,this.lineStart=e,this.lineEnd=s,this.fadeLeft=a,this.fadeRight=h}equals(e){return e instanceof n&&(this.type===e.type&&t(this.lineStart,e.lineStart)&&t(this.lineEnd,e.lineEnd)&&this.fadeLeft===e.fadeLeft&&this.fadeRight===e.fadeRight)}get length(){return e(this.lineStart,this.lineEnd)}}export{n as LineSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{DrapedLineConstraint as t}from\"../../sketch/constraints.js\";import{LineSegmentHintType as n}from\"../snappingUtils.js\";import{FeatureSnappingCandidate as s}from\"./FeatureSnappingCandidate.js\";import{LineSnappingHint as i}from\"../hints/LineSnappingHint.js\";class r extends s{constructor(n){super({...n,isDraped:!0,constraint:new t(n.edgeStart,n.edgeEnd,n.getGroundElevation)})}get hints(){return[new i(n.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}}export{r as DrapedEdgeSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{LineConstraint as t}from\"../../sketch/constraints.js\";import{LineSegmentHintType as n}from\"../snappingUtils.js\";import{FeatureSnappingCandidate as s}from\"./FeatureSnappingCandidate.js\";import{LineSnappingHint as i}from\"../hints/LineSnappingHint.js\";class r extends s{constructor(n){super({...n,constraint:new t(n.edgeStart,n.edgeEnd)})}get hints(){return[new i(n.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}}export{r as EdgeSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{q as n}from\"../../../../chunks/vec32.js\";import{SnappingDomain as t}from\"../SnappingDomain.js\";import{SnappingHint as i}from\"./SnappingHint.js\";class o extends i{constructor(n,i,o=t.ALL){super(i,o),this.intersectionPoint=n}equals(t){return t instanceof o&&n(this.intersectionPoint,t.intersectionPoint)}}export{o as IntersectionSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{PointConstraint as t}from\"../../sketch/constraints.js\";import{SnappingDomain as i}from\"../SnappingDomain.js\";import{SnappingCandidate as s}from\"./SnappingCandidate.js\";import{IntersectionSnappingHint as n}from\"../hints/IntersectionSnappingHint.js\";class r extends s{constructor(s,n,r,o){super(s,new t(s),o,i.ALL),this.first=n,this.second=r}get hints(){return this.first.targetPoint=this.targetPoint,this.second.targetPoint=this.targetPoint,[...this.first.hints,...this.second.hints,new n(this.targetPoint,this.isDraped,this.domain)]}}export{r as IntersectionSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{VerticalPlaneConstraint as t}from\"../../sketch/constraints.js\";import{SnappingDomain as n}from\"../SnappingDomain.js\";import{LineSegmentHintType as i}from\"../snappingUtils.js\";import{SnappingCandidate as e}from\"./SnappingCandidate.js\";import{LineSnappingHint as s}from\"../hints/LineSnappingHint.js\";class r extends e{constructor({lineStart:e,lineEnd:r,targetPoint:o,isDraped:a}){super(o,new t(e,r),a,n.SELF),this._referenceLineHint=new s(i.REFERENCE_EXTENSION,e,r,a,this.domain)}get hints(){return[this._referenceLineHint,new s(i.TARGET,this._lineEndClosestToTarget(),this.targetPoint,this.isDraped,this.domain)]}_lineEndClosestToTarget(){return this.constraint.closestEndTo(this.targetPoint)}}export{r as LineSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{q as t}from\"../../../../chunks/vec32.js\";import{SnappingDomain as n}from\"../SnappingDomain.js\";import{SnappingHint as i}from\"./SnappingHint.js\";class r extends i{constructor(t,i,r,s=n.ALL){super(r,s),this.lineStart=t,this.lineEnd=i}equals(n){return n instanceof r&&(t(this.lineStart,n.lineStart)&&t(this.lineEnd,n.lineEnd))}}export{r as ParallelSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{d as e,f as t,q as i}from\"../../../../chunks/vec32.js\";import{clone as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{VerticalPlaneConstraint as s}from\"../../sketch/constraints.js\";import{fromVec3 as n}from\"../../sketch/normalizedPoint.js\";import{SnappingDomain as a}from\"../SnappingDomain.js\";import{LineSegmentHintType as f}from\"../snappingUtils.js\";import{SnappingCandidate as o}from\"./SnappingCandidate.js\";import{LineSnappingHint as d}from\"../hints/LineSnappingHint.js\";import{ParallelSnappingHint as h}from\"../hints/ParallelSnappingHint.js\";class g extends o{constructor({referenceLine:i,lineStart:f,targetPoint:o,isDraped:d}){const h=r(f),{left:g,right:p}=i;e(h,t(h,h,p),g),super(o,new s(f,n(h)),d,a.SELF),this._referenceLines=[{edge:i,fadeLeft:!0,fadeRight:!0}]}get hints(){return[new d(f.TARGET,this.constraint.start,this.targetPoint,this.isDraped,this.domain),new h(this.constraint.start,this.targetPoint,this.isDraped,this.domain),...this._referenceLines.map((e=>new d(f.REFERENCE,e.edge.left,e.edge.right,this.isDraped,this.domain,e.fadeLeft,e.fadeRight)))]}addReferenceLine(e){const t={edge:e,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach((r=>{i(e.right,r.edge.left)&&(r.fadeLeft=!1,t.fadeRight=!1),i(e.right,r.edge.right)&&(r.fadeRight=!1,t.fadeRight=!1),i(e.left,r.edge.right)&&(r.fadeRight=!1,t.fadeLeft=!1),i(e.left,r.edge.left)&&(r.fadeLeft=!1,t.fadeLeft=!1)})),this._referenceLines.push(t)}}export{g as ParallelLineSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{q as e}from\"../../../../chunks/vec32.js\";import{SnappingDomain as t}from\"../SnappingDomain.js\";import{SnappingHint as r}from\"./SnappingHint.js\";class s extends r{constructor(e,r,s,i,o=t.ALL){super(i,o),this.previousVertex=e,this.centerVertex=r,this.nextVertex=s}equals(t){return t instanceof s&&(e(this.previousVertex,t.previousVertex)&&e(this.centerVertex,t.centerVertex)&&e(this.nextVertex,t.nextVertex))}}export{s as RightAngleSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{SnappingDomain as t}from\"../SnappingDomain.js\";import{LineSegmentHintType as e}from\"../snappingUtils.js\";import{SnappingCandidate as i}from\"./SnappingCandidate.js\";import{LineSnappingHint as r}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as s}from\"../hints/RightAngleSnappingHint.js\";class n extends i{constructor({targetPoint:e,constraint:i,previousVertex:r,otherVertex:s,otherVertexType:n,isDraped:o,selfSnappingType:h,objectId:a,domain:x}){super(e,i,o,x??t.SELF),this.previousVertex=r,this.otherVertex=s,this.otherVertexType=n,this.selfSnappingType=h??p.None,this.objectId=a??null}get hints(){const t=this.previousVertex,i=this.otherVertexType===o.CENTER?this.otherVertex:this.targetPoint,n=this.otherVertexType===o.CENTER?this.targetPoint:this.otherVertex;return[new r(e.TARGET,i,n,this.isDraped,this.domain),new r(e.REFERENCE,t,i,this.isDraped,this.domain),new s(this.previousVertex,i,n,this.isDraped,this.domain)]}}var o,p;!function(t){t[t.NEXT=0]=\"NEXT\",t[t.CENTER=1]=\"CENTER\"}(o||(o={})),function(t){t[t.None=0]=\"None\",t[t.LastVertex=1]=\"LastVertex\",t[t.FirstVertex=2]=\"FirstVertex\",t[t.ExistingEdge=3]=\"ExistingEdge\"}(p||(p={}));export{o as OtherVertexType,n as RightAngleSnappingCandidate,p as SelfSnappingRightAngleType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{distance as t}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{m as i}from\"../../../../chunks/vec32.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{VerticalCylinderConstraint as r}from\"../../sketch/constraints.js\";import{fromVec3 as n,asVec2 as o}from\"../../sketch/normalizedPoint.js\";import{SnappingDomain as p}from\"../SnappingDomain.js\";import{LineSegmentHintType as e}from\"../snappingUtils.js\";import{SnappingCandidate as m}from\"./SnappingCandidate.js\";import{LineSnappingHint as a}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as h}from\"../hints/RightAngleSnappingHint.js\";class g extends m{constructor({targetPoint:e,point1:m,point2:a,isDraped:h}){super(e,new r(n(i(s(),m,a,.5)),.5*t(o(m),o(a))),h,p.SELF),this._p1=m,this._p2=a}get hints(){return[new a(e.REFERENCE,this.targetPoint,this._p1,this.isDraped,this.domain),new a(e.REFERENCE,this.targetPoint,this._p2,this.isDraped,this.domain),new h(this._p1,this.targetPoint,this._p2,this.isDraped,this.domain)]}}export{g as RightAngleTriangleSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{createRenderScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{subtract as o,normalize as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{c as t}from\"../../../../chunks/vec32.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getConvertedElevationFromVector as s}from\"../../../../support/elevationInfoUtils.js\";function n(r,t,c,s){c.projectToRenderScreen(r,p),c.projectToRenderScreen(t,f),o(s,f,p),e(s,s)}function i(r,o,e,n,i=c()){const p=t(m,r);return p[2]=s(n,p,o,e)||0,n.renderCoordsHelper.toRenderCoords(p,o,i),i}const m=c(),p=r(),f=r();export{n as renderScreenSpaceTangent,i as vectorToRender};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e,createScreenPoint as r}from\"../../../core/screenUtils.js\";import{create as t}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{makeDehydratedPoint as o}from\"../../../layers/graphics/dehydratedPoint.js\";import{vectorToRender as i}from\"../../3d/interactive/support/viewUtils.js\";function s(e,t,o,s){return\"2d\"===s.type?(c.x=e[0],c.y=e[1],c.spatialReference=t,s.toScreen(c)):(i(e,t,o,s,a),s.state.camera.projectToScreen(a,n),r(n[0],n[1]))}const c=o(0,0,0,null),a=t(),n=e();export{s as vectorToScreenPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isSupported as e}from\"../../geometry/support/geodesicUtils.js\";import{isWebMercator as o}from\"../../geometry/support/spatialReferenceUtils.js\";function r(r){return e(r)||o(r)}function t(o,r,t,...p){return e(o)?r.apply(void 0,p):o.isWebMercator?t.apply(void 0,p):null}const p=1e5;export{p as geodesicDistanceThreshold,t as geodesicMeasure,r as supportsGeodesicMeasurement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{createLength as e}from\"../../core/quantityUtils.js\";import{create as t}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import r from\"../../geometry/Polyline.js\";import{l as n,e as s}from\"../../chunks/geodeticLengthOperator.js\";import{inverseGeodeticSolver as i,InverseGeodeticSolverResult as o,geodesicLengths as c}from\"../../geometry/support/geodesicUtils.js\";import{equals as a}from\"../../geometry/support/spatialReferenceUtils.js\";import{geodesicMeasure as u}from\"./geodesicMeasurementUtils.js\";function m(e){const{spatialReference:t}=e;return u(t,j,h,e)}function f(e,t){if(!a(e.spatialReference,t.spatialReference))return null;const{spatialReference:r}=e;return x[0]=e.x,x[1]=e.y,x[2]=e.hasZ?e.z:0,U[0]=t.x,U[1]=t.y,U[2]=t.hasZ?t.z:0,p(x,U,r)}function p(e,t,r){return u(r,y,d,e,t,r)}const l={geodesicLength:m,geodesicDistanceBetweenPoints:f,geodesicDistance:p};async function g(){return await n(),l}function y(t,r,n){return e(i(w,t,r,n).distance,\"meters\")}function d(t,r,n){return e(s(R(t,r,n),{unit:\"meters\"}),\"meters\")}function j(t){return e(c([t],\"meters\")[0],\"meters\")}function h(t){return e(s(t,{unit:\"meters\"}),\"meters\")}function R(e,t,n){return new r({spatialReference:n,paths:[[[...e],[...t]]]})}const w=new o,x=t(),U=t();export{g as loadGeodesicLengthMeasurementUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{createTask as n}from\"../../../core/asyncUtils.js\";import i from\"../../../core/Evented.js\";import\"../../../core/has.js\";import{throwIfAborted as s,isAborted as a}from\"../../../core/promiseUtils.js\";import{watch as r,syncAndInitial as o,sync as p}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{project as h,initializeProjection as l}from\"../../../geometry/projectionUtils.js\";import{absoluteHeightElevationInfo as u}from\"../../../support/elevationInfoUtils.js\";import{fromPoint as f,markAsTarget as g,toElevationAlignedDehydratedPoint as _}from\"../sketch/normalizedPoint.js\";import{defaults as S}from\"./Settings.js\";import{SnappingDomain as m}from\"./SnappingDomain.js\";import v from\"./SnappingOptions.js\";import{sortCandidatesInPlace as y,squaredScreenDistance as C}from\"./snappingUtils.js\";import{DrapedEdgeSnappingCandidate as w}from\"./candidates/DrapedEdgeSnappingCandidate.js\";import{EdgeSnappingCandidate as E}from\"./candidates/EdgeSnappingCandidate.js\";import{IntersectionSnappingCandidate as P}from\"./candidates/IntersectionSnappingCandidate.js\";import{LineSnappingCandidate as T}from\"./candidates/LineSnappingCandidate.js\";import{ParallelLineSnappingCandidate as j}from\"./candidates/ParallelLineSnappingCandidate.js\";import{RightAngleSnappingCandidate as M,SelfSnappingRightAngleType as R}from\"./candidates/RightAngleSnappingCandidate.js\";import{RightAngleTriangleSnappingCandidate as q}from\"./candidates/RightAngleTriangleSnappingCandidate.js\";import{vectorToScreenPoint as A}from\"../support/viewUtils.js\";import{loadGeodesicLengthMeasurementUtils as I}from\"../../support/geodesicLengthMeasurementUtils.js\";let x=class extends(i.EventedMixin(t)){constructor(e){super(e),this.options=new v,this._engineCache=new Map,this._loadTask=null,this._engines=[],this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=b.MAIN}initialize(){this.addHandles([r((()=>{const{distance:e,touchSensitivityMultiplier:t,effectiveSelfEnabled:n,effectiveFeatureEnabled:i,effectiveGridEnabled:s}=this.options;return{selfEnabled:n,featureEnabled:i,gridEnabled:\"2d\"===this.view.type&&s,viewReady:this.view.ready,viewSpatialReference:this.view.spatialReference,distance:e,touchSensitivityMultiplier:t}}),((e,t)=>{t&&(this.doneSnapping(),this.emit(\"changed\")),this._loadTask?.abort(),this._loadTask=n((n=>this._updateEngines(e,t,n)))}),o),r((()=>this.options),(e=>{for(const t of this._engines)t.options=e}),p)])}destroy(){this._loadTask?.abort(),this._destroyEngines()}get updating(){return this._engines.some((e=>e.updating))||!this._loadTask?.finished}_destroyEngines(){this._engineCache.forEach((e=>e.destroy())),this._engineCache.clear(),this._engines=[]}async _updateEngines(e,t,n){if(!e.viewReady)return void this._destroyEngines();t?.viewSpatialReference!==e.viewSpatialReference&&this._destroyEngines();const i=this._engineCache,s=await Promise.allSettled([e.featureEnabled&&!i.has(\"feature\")?this._createFeatureSnappingEngine(n):void 0,e.selfEnabled&&!i.has(\"self\")?this._createSelfSnappingEngine(n):void 0,e.gridEnabled&&!i.has(\"grid\")?this._createGridSnappingEngine(n):void 0]);if(n.aborted)for(const a of s)\"fulfilled\"===a.status&&a.value?.engine.destroy();else{for(const e of s)\"fulfilled\"===e.status&&e.value&&i.set(e.value.type,e.value.engine);this._engines=Array.from(i.values())}}async _createSelfSnappingEngine(e){const[{SelfSnappingEngine:t},n]=await Promise.all([import(\"./SelfSnappingEngine.js\"),I()]);return s(e),{type:\"self\",engine:new t({view:this.view,options:this.options,geodesicLengthMeasurementUtils:n})}}async _createGridSnappingEngine(e){const{view:t}=this;if(\"2d\"!==t.type)return;const{GridSnappingEngine:n}=await import(\"./GridSnappingEngine.js\");return s(e),{type:\"grid\",engine:new n({view:t,options:this.options})}}async _createFeatureSnappingEngine(e){const{FeatureSnappingEngine:t}=await import(\"./FeatureSnappingEngine.js\");s(e);const{view:n,options:i}=this,{spatialReference:a}=n;return{type:\"feature\",engine:new t({view:n,options:i,spatialReference:a})}}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:e,touchSensitivityMultiplier:t}=this.options,n=e*t;return n*n}snap(e){return k(e)?this._snapMultiPoint(e):this._snapSinglePoint(e)}update(e){const{point:t,context:n}=e;this._removeVisualization();const i=this._currentMainCandidate;if(null==i)return t;const s=this._selectUpdateInput(e);if(null==s)return t;const{spatialReference:a}=n,r=h(s,a);if(null==r)return t;const{view:o}=this,{elevationInfo:p,visualizer:d}=n,c=[],l=f(r,o,p),u=i.constraint.closestTo(l);if(!this._arePointsWithinScreenThreshold(l,u,n)||!L(i,n.drawConstraints))return this._resetSnappingState(),t;i.targetPoint=g(u),c.push(...i.hints);for(const h of this._currentOtherActiveCandidates)L(h,n.drawConstraints)&&(h.targetPoint=g(u),c.push(...h.hints));return null!=d&&this.addHandles(d.draw(c,{spatialReference:a,elevationInfo:H(n),view:o,selfSnappingZ:n.selfSnappingZ}),z),_(u,o,t,n)}doneSnapping(){this._removeVisualization(),this._resetSnappingState()}_selectUpdateInput({point:e,scenePoint:t}){switch(this._currentSnappedType){case b.MAIN:return e;case b.SCENE:return t}}_resetSnappingState(){this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=b.MAIN}_removeVisualization(){this.removeHandles(z)}async _snapSinglePoint({point:e,context:t,signal:n}){const{view:i}=this,{elevationInfo:s}=t,a=f(e,i,s),r=await this._fetchCandidates(a,m.ALL,t,n);return this._createSnapResult(a,b.MAIN,r,i,e,t,n)}async _snapMultiPoint({point:e,scenePoint:t,context:n,signal:i}){const{view:s}=this,{coordinateHelper:a,elevationInfo:r,spatialReference:o}=n;await l(t.spatialReference,o);const p=h(t,o),d=f(p,s,r),c=await this._fetchCandidates(d,m.FEATURE,n,i);if(c.length>0){const e=await this._fetchCandidates(d,m.SELF,n,i);return this._createSnapResult(d,b.SCENE,[...c,...e],s,p,n,i)}const u=f(e,s,r),g=await this._fetchCandidates(u,m.SELF,n,i);return this._createSnapResult(u,b.MAIN,g,s,{z:a.hasZ()&&e.hasZ?e.z??0:void 0,m:a.hasM()&&e.hasM?e.m??0:void 0},n,i)}async _fetchCandidates(e,t,n,i){return(await Promise.all(this._engines.map((s=>s.fetchCandidates(e,t,n,i))))).flat()}_createSnapResult(e,t,n,i,s,r,o){return{get valid(){return!a(o)},apply:()=>{const{spatialReference:a}=r,{snappedPoint:o,hints:p}=this._processCandidates(e,t,n,r);return this._removeVisualization(),null!=r.visualizer&&this.addHandles(r.visualizer.draw(p,{spatialReference:a,elevationInfo:u,view:i,selfSnappingZ:r.selfSnappingZ}),z),_(o,i,s,r)}}}_processCandidates(e,t,n,i){if(n.length<1)return this.doneSnapping(),{snappedPoint:e,hints:[]};this._currentSnappedType!==t&&this._resetSnappingState(),y(e,n);const s=this._currentMainCandidate;if(null!=s){const a=N(s,n);if(a>=0){if(!(n[a]instanceof P))return this._intersectWithOtherCandidates(a,n,e,t,i);if(this._arePointsWithinScreenThreshold(e,s.targetPoint,i))return this._updateSnappingCandidate(s,t,n,i)}}return this._intersectWithOtherCandidates(0,n,e,t,i)}_intersectWithOtherCandidates(e,t,n,i,s){const{coordinateHelper:a}=s,r=t[e],o=[];for(let p=0;p<t.length;++p){if(p===e)continue;const i=t[p],s=r.constraint.intersect(i.constraint);if(s)for(const e of s.closestPoints(r.targetPoint))o.push([new P(g(e),r,i,i.isDraped),this._squaredScreenDistance(n,e,a)])}return o.length>0&&(o.sort(((e,t)=>e[1]-t[1])),o[0][1]<this._squaredPointProximityThreshold(s.pointer))?this._updateSnappingCandidate(o[0][0],i,t,s):L(r,s.drawConstraints)?this._updateSnappingCandidate(r,i,t,s):{snappedPoint:n,hints:[]}}_updateSnappingCandidate(e,t,n,i){this.doneSnapping(),this._currentMainCandidate=e,this._currentSnappedType=t;const s=this._currentMainCandidate.targetPoint,a=[];a.push(...e.hints);for(const r of n){if(e instanceof P){if(r.constraint.equals(e.first.constraint)||r.constraint.equals(e.second.constraint))continue}else if(r.constraint.equals(e.constraint))continue;const t=r.constraint.closestTo(s);this._squaredScreenDistance(t,s,i.coordinateHelper)<U()&&(r.targetPoint=s,this._currentOtherActiveCandidates.push(r),a.push(...r.hints))}return{snappedPoint:s,hints:a}}_squaredPointProximityThreshold(e){return\"touch\"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}_arePointsWithinScreenThreshold(e,t,n){return this._squaredScreenDistance(e,t,n.coordinateHelper)<this._squaredPointProximityThreshold(n.pointer)}_squaredScreenDistance(e,t,n){return C(this._toScreen(e,n),this._toScreen(t,n))}_toScreen(e,t){return A(e,t.spatialReference,u,this.view)}get test(){}};var b;e([d({constructOnly:!0})],x.prototype,\"view\",void 0),e([d()],x.prototype,\"options\",void 0),e([d({readOnly:!0})],x.prototype,\"updating\",null),e([d()],x.prototype,\"_loadTask\",void 0),e([d()],x.prototype,\"_engines\",void 0),e([d()],x.prototype,\"_squaredMouseProximityThreshold\",null),e([d()],x.prototype,\"_squaredTouchProximityThreshold\",null),x=e([c(\"esri.views.interactive.snapping.SnappingManager\")],x),function(e){e[e.MAIN=0]=\"MAIN\",e[e.SCENE=1]=\"SCENE\"}(b||(b={}));const z=\"visualization-handle\";function U(){return S.satisfiesConstraintScreenThreshold*S.satisfiesConstraintScreenThreshold}function L(e,t){return!t||null==t.direction&&null==t.distance||!(e instanceof w||e instanceof E||e instanceof T||e instanceof j||e instanceof q)&&(!(e instanceof M)||null==t.direction&&e.selfSnappingType===R.LastVertex)}function N(e,t){return e instanceof P?O(t,e.first)>=0&&O(t,e.second)>=0?0:-1:O(t,e)}function O(e,t){let n=-1;for(let i=0;i<e.length;++i)if(t.constraint.equals(e[i].constraint)){n=i;break}return n}function k(e){return null!=e.scenePoint}function H({coordinateHelper:e,elevationInfo:t}){return e.hasZ()?u:t}export{x as SnappingManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isSphericalECEF as e}from\"../../geometry/ellipsoidUtils.js\";import{WGS84ECEFSpatialReference as r,getSphericalPCPF as t}from\"../../geometry/spatialReferenceEllipsoidUtils.js\";import{isEarth as o,isWGS84 as i,isWebMercator as s,isCGCS2000 as p}from\"../../geometry/support/spatialReferenceUtils.js\";function l(l){return o(l)?i(l)||s(l)||p(l)||e(l)?r:l:t(l)}export{l as computeEuclideanMeasurementSR};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{createArea as t}from\"../../core/quantityUtils.js\";import{areaUnitFromSpatialReference as o}from\"../../core/unitUtils.js\";import{e as r}from\"../../chunks/earcut.js\";import{i as n,b as e,k as s}from\"../../chunks/vec32.js\";import{create as i}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectVectorToVector as c}from\"../../geometry/projection/projectVectorToVector.js\";import{fromPoints as f,wrap as l,getNormal as u,projectPointLocal as m}from\"../../geometry/support/plane.js\";import{areaPoints2d as p}from\"../../geometry/support/triangle.js\";import{computeEuclideanMeasurementSR as a}from\"./measurementUtils.js\";function g(t,o=k()){return h(t,o)}function j(t,o=k()){return h(t,o,!1)}function h(r,g,j=r.hasZ){const h=a(r.spatialReference),k=o(h);if(null==k)return null;const b=(t,o)=>!(o.length<2)&&(n(t,o[0],o[1],j&&o[2]||0),!0);let v=0;for(const t of r.rings){const o=t.length;if(o<3)continue;const{positionsWorldCoords:a}=g;for(;a.length<o;)a.push(i());const j=y,k=n(d,0,0,0),x=1/o;for(let n=0;n<o;n++){if(!b(j,t[n]))return null;if(!c(j,r.spatialReference,a[n],h))return null;e(k,k,a[n],x)}const C=f(a[0],a[1],k,l());if(0===s(u(C)))continue;for(let t=0;t<o;t++)m(C,k,a[t],a[t]);const R=U(a);for(let t=0;t<R.length;t+=3)v+=p(a[R[t]],a[R[t+1]],a[R[t+2]])}return t(v,k)}const y=i(),d=i();function k(){return{positionsWorldCoords:[]}}function U(t){return r(b(t),[],2)}function b(t){const o=new Float64Array(2*t.length);for(let r=0;r<t.length;++r){const n=t[r],e=2*r;o[e]=n[0],o[e+1]=n[1]}return o}export{h as computeEuclideanPlanarArea,k as createEuclideanPlanarAreaCache,j as euclideanHorizontalPlanarArea,g as euclideanPlanarArea,U as triangulate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{createArea as e}from\"../../core/quantityUtils.js\";import{geodesicAreas as r}from\"../../geometry/support/geodesicUtils.js\";import{geodesicMeasure as t}from\"./geodesicMeasurementUtils.js\";const s=e=>({geodesicArea(r){const{spatialReference:s}=r;return t(s,n,(r=>a(e,r)),r)}});async function o(){const e=await import(\"../../geometry/geometryEngine.js\");return s(e)}function n(t){return e(Math.abs(r([t],\"square-meters\")[0]),\"square-meters\")}function a(r,t){try{return e(Math.abs(r.geodesicArea(t,\"square-meters\")),\"square-meters\")}catch(s){return null}}export{o as loadGeodesicAreaMeasurementUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{createEuclideanPlanarAreaCache as e,euclideanHorizontalPlanarArea as t,euclideanPlanarArea as r}from\"./euclideanAreaMeasurementUtils.js\";import{loadGeodesicAreaMeasurementUtils as o}from\"./geodesicAreaMeasurementUtils.js\";const n=o=>({autoAreaByElevationMode(n,a,u=e()){if(\"on-the-ground\"===a){const e=o.geodesicArea(n);return null!=e?e:t(n,u)}return r(n,u)},autoArea2D(t,r=e()){return this.autoAreaByElevationMode(t,\"on-the-ground\",r)}});let a=null;async function u(){return a||(a=n(await o())),a}export{u as loadAutomaticAreaMeasurementUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{createLength as t}from\"../../core/quantityUtils.js\";import{lengthUnitFromSpatialReference as n,verticalLengthUnitFromSpatialReference as r}from\"../../core/unitUtils.js\";import{j as e,i}from\"../../chunks/vec32.js\";import{create as l}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectVectorToVector as o}from\"../../geometry/projection/projectVectorToVector.js\";import{equals as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{computeEuclideanMeasurementSR as u}from\"./measurementUtils.js\";var a;function s(t){return p(t,a.Direct)}function f(t){return p(t,a.Horizontal)}function p(r,e){const{hasZ:i,spatialReference:l}=r,o=u(l);let c=0;const s=n(o);if(null==s)return null;const f=e===a.Direct?x:Z;for(const t of r.paths){if(t.length<2)continue;const n=t.length-1;for(let r=0;r<n;++r){const n=t[r];D[0]=n[0],D[1]=n[1],D[2]=i?n[2]:0;const e=t[r+1];H[0]=e[0],H[1]=e[1],H[2]=i?e[2]:0;const o=f(D,H,l);if(null==o)return null;c+=o.value}}return t(c,s)}function h(t,n){const{spatialReference:r}=t;return c(r,n.spatialReference)?(D[0]=t.x,D[1]=t.y,D[2]=t.hasZ?t.z:0,H[0]=n.x,H[1]=n.y,H[2]=n.hasZ?n.z:0,v(D,H,r)):null}function m(t,n){const{spatialReference:r}=t;return c(r,n.spatialReference)?(D[0]=t.x,D[1]=t.y,D[2]=t.hasZ?t.z:0,H[0]=n.x,H[1]=n.y,H[2]=n.hasZ?n.z:0,x(D,H,r)):null}function z(t,n){const{spatialReference:r}=t;return c(r,n.spatialReference)?(D[0]=t.x,D[1]=t.y,D[2]=t.hasZ?t.z:0,H[0]=n.x,H[1]=n.y,H[2]=n.hasZ?n.z:0,Z(D,H,r)):null}function y(t,n){const{spatialReference:r}=t;return c(r,n.spatialReference)?(D[0]=t.x,D[1]=t.y,D[2]=t.hasZ?t.z:0,H[0]=n.x,H[1]=n.y,H[2]=n.hasZ?n.z:0,g(D,H,r)):null}function R(t){return null!=t?j(t.hasZ?t.z:0,t.spatialReference):null}function j(n,e){const i=r(e);return null!=i?t(n??0,i):null}function v(n,r,e){const i=V(n,r,e);return null!=i?{direct:t(i.direct,i.unit),horizontal:t(i.horizontal,i.unit),vertical:t(i.vertical,i.unit)}:null}function x(n,r,e){const i=V(n,r,e,a.Direct);return null!=i?t(i.direct,i.unit):null}function Z(n,r,e){const i=V(n,r,e,a.Horizontal);return null!=i?t(i.horizontal,i.unit):null}function d(n,r,e){const i=V(n,r,e,a.Vertical);return null!=i?t(Math.abs(i.verticalSigned),i.unit):null}function g(n,r,e){const i=V(n,r,e,a.Vertical);return null!=i?t(i.verticalSigned,i.unit):null}function V(t,r,l,c){const s=u(l),f=n(s);if(null==f)return null;const p=r[2]-t[2];if(c===a.Vertical)return{verticalSigned:p,unit:f};if(!o(t,l,U,s)||!o(r,l,b,s))return null;if(c===a.Direct){return{direct:e(b,U),unit:f}}if(i(S,t[0],t[1],r[2]),!o(S,l,S,s))return null;const h=e(S,b);if(c===a.Horizontal)return{horizontal:h,unit:f};return{direct:e(b,U),horizontal:h,vertical:Math.abs(p),unit:f}}!function(t){t[t.Direct=0]=\"Direct\",t[t.Horizontal=1]=\"Horizontal\",t[t.Vertical=2]=\"Vertical\"}(a||(a={}));const D=l(),H=l(),U=l(),b=l(),S=l();export{R as elevationFromPoint,j as elevationFromZ,x as euclideanDirectDistance,m as euclideanDirectDistanceBetweenPoints,v as euclideanDistance,h as euclideanDistanceBetweenPoints,Z as euclideanHorizontalDistance,z as euclideanHorizontalDistanceBetweenPoints,f as euclideanHorizontalLength,s as euclideanLength,d as verticalDistance,g as verticalSignedDistance,y as verticalSignedDistanceBetweenPoints};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{euclideanHorizontalDistance as t,euclideanHorizontalDistanceBetweenPoints as n,euclideanHorizontalLength as i}from\"./euclideanLengthMeasurementUtils.js\";import{loadGeodesicLengthMeasurementUtils as o}from\"./geodesicLengthMeasurementUtils.js\";function s(e){return{autoLength2D:t=>e.geodesicLength(t)??i(t),autoDistanceBetweenPoints2D:(t,i)=>e.geodesicDistanceBetweenPoints(t,i)??n(t,i),autoDistance2D:(n,i,o)=>(r[0]=n[0],r[1]=n[1],r[2]=3===n.length?n[2]:0,a[0]=i[0],a[1]=i[1],a[2]=3===i.length?i[2]:0,e.geodesicDistance(r,a,o)??t(r,a,o))}}async function c(){return s(await o())}const r=e(),a=e();export{c as loadAutomaticLengthMeasurementUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nasync function t(t,e){if(\"2d\"===t.type)return t.hitTest(e);const r=await t.hitTest(e);if(0===r.results.length)return r;const s=r.results[0],u=(s.distance??0)*(1+n),i=r.results.findIndex((t=>(t.distance??0)>u));return-1!==i&&(r.results=r.results.slice(0,i)),s&&r.ground.distance>u&&(r.ground.mapPoint=null),r}const n=.05;function e(t){return\"graphic\"===t?.type}function r(t){return t.find(e)??null}function s(t){return t.filter(e)}export{s as filterGraphicHits,r as findFirstGraphicHit,t as hitTestSelectSimilarDistance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{neverReached as t}from\"../../../core/compilerUtils.js\";import o from\"../../../core/Evented.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let n=class extends o.EventedAccessor{constructor(e){super(e),this.cancelled=!1,this.history={undo:[],redo:[]},this.type=null}get tool(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case\"graphic-mover\":case\"move-3d\":return\"move\";case\"box\":case\"transform-3d\":return\"transform\";case\"reshape\":case\"reshape-3d\":return\"reshape\";case\"draw-2d\":case\"draw-3d\":return this.activeComponent.geometryType;default:t(this.activeComponent)}return null}addToHistory(e){this.history.redo=[],this.history.undo.push(e)}resetHistory(){this.history.redo=[],this.history.undo=[]}canUndo(){return this.history.undo.length>0}canRedo(){return this.history.redo.length>0}complete(){this._reset(),this.onEnd(),this.emit(\"complete\")}cancel(){this.cancelled=!0,this.complete()}_reset(){this.activeComponent?.reset()}refreshComponent(){const e=this.activeComponent;e&&(\"box\"!==e.type&&\"reshape\"!==e.type&&\"graphic-mover\"!==e.type||e.refresh())}set undo(e){this._set(\"undo\",(()=>{this.canUndo()&&e()}))}set redo(e){this._set(\"redo\",(()=>{this.canRedo()&&e()}))}};e([r()],n.prototype,\"activeComponent\",void 0),e([r()],n.prototype,\"cancelled\",void 0),e([r()],n.prototype,\"history\",void 0),e([r()],n.prototype,\"tool\",null),e([r()],n.prototype,\"type\",void 0),e([r()],n.prototype,\"canUndo\",null),e([r()],n.prototype,\"canRedo\",null),e([r()],n.prototype,\"onEnd\",void 0),e([r()],n.prototype,\"undo\",null),e([r()],n.prototype,\"redo\",null),e([r()],n.prototype,\"toggleTool\",void 0),e([r()],n.prototype,\"addToSelection\",void 0),e([r()],n.prototype,\"removeFromSelection\",void 0),n=e([s(\"esri.widgets.Sketch.support.OperationHandle\")],n);let p=class extends n{};e([r()],p.prototype,\"activeComponent\",void 0),p=e([s(\"esri.widgets.Sketch.support.OperationHandle.CreateOperationHandle\")],p);let i=class extends n{};e([r()],i.prototype,\"activeComponent\",void 0),i=e([s(\"esri.widgets.Sketch.support.OperationHandle.UpdateOperationHandle\")],i);export{p as CreateOperationHandle,n as OperationHandle,i as UpdateOperationHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nfunction e(e,n){if(\"freehandPolygon\"===n||\"freehandPolyline\"===n)return\"freehand\";return e??(\"rectangle\"===n||\"circle\"===n?\"hybrid\":\"click\")}function n(e){switch(e){case\"freehandPolygon\":return\"polygon\";case\"freehandPolyline\":return\"polyline\";default:return e}}function r(e){return!!e&&(\"draw-2d\"===e.type||\"draw-3d\"===e.type)}var o;!function(e){e[e.ForceCollapse=-1]=\"ForceCollapse\",e[e.Low=0]=\"Low\",e[e.Medium=10]=\"Medium\",e[e.High=100]=\"High\",e[e.Max=1e3]=\"Max\"}(o||(o={}));export{o as LayoutPriority,n as getDrawToolGeometryTypeFromCreateTool,e as getModeFromCreateOptions,r as isDrawGraphicTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Collection.js\";import o from\"../../core/Error.js\";import i from\"../../core/Evented.js\";import{drainHandles as a}from\"../../core/handleUtils.js\";import\"../../core/has.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as r,abortMaybe as n}from\"../../core/maybe.js\";import{createAbortError as p,whenOrAbort as l,ignoreAbortErrors as h}from\"../../core/promiseUtils.js\";import{on as c,watch as d,syncAndInitial as u,when as m,whenOnce as y}from\"../../core/reactiveUtils.js\";import{property as g}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/RandomLCG.js\";import{subclass as v}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as f}from\"../../core/support/UpdatingHandles.js\";import{getReferenceEllipsoid as _}from\"../../geometry/ellipsoidUtils.js\";import{canProjectWithoutEngine as b,isLoaded as w,load as G,project as O}from\"../../geometry/projectionUtils.js\";import{geometryToCoordinates as T}from\"../../geometry/support/coordsUtils.js\";import{equals as E}from\"../../geometry/support/spatialReferenceUtils.js\";import S from\"../../layers/GraphicsLayer.js\";import{isIntegratedMeshLayer as M}from\"../../layers/support/layerUtils.js\";import k from\"../../symbols/FillSymbol3DLayer.js\";import A from\"../../symbols/MeshSymbol3D.js\";import C from\"../../symbols/SimpleFillSymbol.js\";import H from\"../../symbols/SimpleLineSymbol.js\";import D from\"../../symbols/SimpleMarkerSymbol.js\";import{symbolTypes as j}from\"../../symbols/support/typeUtils.js\";import{SupportedObjectResult as U,isSupportedObjectResultMessage as R}from\"../../views/3d/interactive/editingTools/isSupportedObjectUtils.js\";import{isSupportedObject as I}from\"../../views/3d/interactive/editingTools/move/isSupportedObject.js\";import{isSupportedObject as P}from\"../../views/3d/interactive/editingTools/reshape/isSupportedObject.js\";import{isSupportedGraphic as x}from\"../../views/3d/interactive/editingTools/transform/isSupportedGraphic.js\";import{addUniqueLayer as L}from\"../../views/draw/support/layerUtils.js\";import{ViewEventPriorities as F}from\"../../views/input/InputManager.js\";import{sketchKeys as V}from\"../../views/interactive/keybindings.js\";import K from\"../../views/interactive/sketch/SketchLabelOptions.js\";import W from\"../../views/interactive/sketch/SketchOptions.js\";import Z from\"../../views/interactive/sketch/SketchTooltipOptions.js\";import q from\"../../views/interactive/sketch/SketchValueOptions.js\";import{SnappingManager as N}from\"../../views/interactive/snapping/SnappingManager.js\";import z from\"../../views/interactive/snapping/SnappingOptions.js\";import{setupSnappingToggleHandles as B}from\"../../views/interactive/snapping/snappingUtils.js\";import{loadAutomaticAreaMeasurementUtils as $}from\"../../views/support/automaticAreaMeasurementUtils.js\";import{loadAutomaticLengthMeasurementUtils as Y}from\"../../views/support/automaticLengthMeasurementUtils.js\";import{defaultHighlightName as J}from\"../../views/support/HighlightDefaults.js\";import{findFirstGraphicHit as Q}from\"../../views/support/hitTestSelectUtils.js\";import{createScreenPointFromEvent as X}from\"../../views/support/screenUtils.js\";import{CreateOperationHandle as ee,UpdateOperationHandle as te}from\"./support/OperationHandle.js\";import{getModeFromCreateOptions as oe,getDrawToolGeometryTypeFromCreateTool as ie}from\"./support/sketchUtils.js\";const ae={defaultZ:0},se={reshapeOptions:{edgeOperation:\"split\",shapeOperation:\"move\",vertexOperation:\"move\"},enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,enableZ:!0,highlightOptions:{enabled:!0,name:J},tool:\"transform\"};let re=class extends i.EventedAccessor{constructor(e){super(e),this._defaultSnappingManager=null,this._updatingHandles=new f,this._internalGraphicsLayer=new S({listMode:\"hide\",internal:!0,title:\"SVM Internal\"}),this._operationHandle=null,this._viewHandlesKey=\"viewHandles\",this.activeFillSymbol=null,this.activeLineSymbol=null,this.activeVertexSymbol=null,this.allowDeleteKey=!0,this.layer=null,this.pointSymbol=new D({style:\"circle\",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.polygonSymbol=new C({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}}),this.polylineSymbol=new H({color:[130,130,130,1],width:2}),this.meshSymbol=new A({symbolLayers:new t([new k])}),this.updateGraphics=new t,this.updateOnGraphicClick=!0,this.creationMode=\"single\",this.vertexSymbol=new D({style:\"circle\",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.sketchOptions=new W,this._moduleLoaderAbortController=null,this._viewReadyAbortController=null,this._sketchContinuationFlag=!1,this._originalPopupEnabled=null,this.defaultCreateOptions=ae,this.defaultUpdateOptions=se,this.snappingOptions=e?.snappingManager?.options??e?.snappingOptions??new z}initialize(){this.addHandles([c((()=>this.view?.map?.layers),\"change\",(e=>{e.removed.includes(this.layer)&&this.cancel()})),c((()=>this.layer?.graphics),\"change\",(e=>{if(null!=this._operationHandle)for(const t of e.removed)this.updateGraphics.includes(t)&&(this.updateGraphics.length>1?this._operationHandle.removeFromSelection(t):this._operationHandle.cancel())})),d((()=>this.layer?.elevationInfo??null),(e=>{e!==this._internalGraphicsLayer.elevationInfo&&(this.cancel(),this._internalGraphicsLayer.elevationInfo=e)}),u),d((()=>this.view),(e=>{this._defaultSnappingManager=r(this._defaultSnappingManager),e&&(this.snappingManager||(this._defaultSnappingManager=new N({view:e,options:this.snappingOptions})),\"2d\"===e.type?import(\"../../views/2d/interactive/editingTools.js\"):\"3d\"===e.type&&(import(\"../../views/3d/interactive/editingTools.js\"),import(\"../../views/3d/layers/GraphicsLayerView3D.js\")))}),u),d((()=>this.view?.spatialReference),((e,t)=>{e&&t&&!e.equals(t)&&this.cancel()}))]),B(this)}destroy(){this.cancel(),this._removeDefaultLayer(),this._defaultSnappingManager=r(this._defaultSnappingManager),this._set(\"snappingManager\",null),this._set(\"view\",null),this._updatingHandles.destroy(),this.emit(\"destroy\")}get updating(){return this._updatingHandles.updating||null!=this.snappingManager&&this.snappingManager.updating}get activeTool(){return this._operationHandle?.tool??null}get activeCreateToolDrawMode(){return\"create\"===this._operationHandle?.type&&this._operationHandle.activeComponent&&\"mode\"in this._operationHandle.activeComponent?this._operationHandle.activeComponent.mode:null}get activeTooltip(){const{activeComponent:e,destroyed:t}=this,o=!t&&e&&\"tooltip\"in e?e.tooltip:null;return o?.visible?o:null}get activeComponent(){return this._operationHandle?.activeComponent??null}get createGraphic(){return null==this.activeComponent||\"draw-3d\"!==this.activeComponent.type&&\"draw-2d\"!==this.activeComponent.type?this._get(\"createGraphic\"):this.activeComponent.graphic}get defaultCreateOptions(){return this._get(\"defaultCreateOptions\")}set defaultCreateOptions(e){this._set(\"defaultCreateOptions\",{...ae,...e})}get defaultUpdateOptions(){return this._get(\"defaultUpdateOptions\")}set defaultUpdateOptions(e){this._set(\"defaultUpdateOptions\",{...se,...e,reshapeOptions:{...se.reshapeOptions,...e?.reshapeOptions},highlightOptions:{...se.highlightOptions,...e?.highlightOptions}})}get labelOptions(){return this.sketchOptions.labels}set labelOptions(e){this.sketchOptions.labels=e}get snappingOptions(){return this.snappingManager?.options??this._get(\"snappingOptions\")}set snappingOptions(e){null!=this._defaultSnappingManager&&(this._defaultSnappingManager.options=e),this._set(\"snappingOptions\",e)}get snappingManager(){return this._isOverridden(\"snappingManager\")&&this._get(\"snappingManager\"),this._defaultSnappingManager}set snappingManager(e){if(e)this._isOverridden(\"snappingManager\")||(this._defaultSnappingManager=r(this._defaultSnappingManager)),this._override(\"snappingManager\",e);else{const{view:e}=this;!this._defaultSnappingManager&&e&&(this._defaultSnappingManager=new N({options:this.snappingOptions,view:e})),this._clearOverride(\"snappingManager\")}}get state(){const e=!(!this.view?.ready||!this.layer),t=this._operationHandle;return e&&t?\"active\":e?\"ready\":\"disabled\"}get tooltipOptions(){return this.sketchOptions.tooltips}set tooltipOptions(e){this.sketchOptions.tooltips=e}get valueOptions(){return this.sketchOptions.values}set valueOptions(e){this.sketchOptions.values=e}get view(){return this._get(\"view\")}set view(e){const t=this._get(\"view\");if(t){const{container:e,map:o}=t;e&&(t.cursor=null),o?.remove(this._internalGraphicsLayer),this.removeHandles(this._viewHandlesKey),this.cancel()}const o=\"view-ready\";this.removeHandles(o),e&&this.addHandles(m((()=>e.ready),(t=>{this.removeHandles(this._viewHandlesKey),t&&this.addHandles(this._generateViewHandles(e),this._viewHandlesKey)}),u),o),this._set(\"view\",e)}cancel(){this._moduleLoaderAbortController=n(this._moduleLoaderAbortController),this._viewReadyAbortController=n(this._viewReadyAbortController),this._sketchContinuationFlag=!0,this._operationHandle&&this._operationHandle.cancel()}complete(){this._operationHandle&&this._operationHandle.complete()}delete(){const{state:e,updateGraphics:t}=this;if(\"active\"===e&&t.length){const{activeTool:e,layer:o}=this,i=t.toArray();o.removeMany(i),this.cancel(),this._emitDeleteEvent({graphics:i,tool:e})}}duplicate(){if(\"active\"===this.state&&this.updateGraphics.length){const e=this.updateGraphics.map((e=>e.clone())).toArray();return this.layer.addMany(e),this.emit(\"duplicate\",{graphics:e,type:\"duplicate\"}),e}return[]}async create(e,t){this.cancel(),await this._waitViewReady();const{view:o,layer:i}=this;if(!o||\"disabled\"===this.state)throw i||this._logMissingLayer(),p();if(null!=o.activeTool&&(o.activeTool=null),!e)return void this._logError(\"sketch:missing-parameter\",\"Missing parameter 'tool'.\");L(o,this._internalGraphicsLayer);const a=await this._updatingHandles.addPromise(this._setupCreateOperation(e,t));if(null==a||this.destroyed)return void o.map.remove(this._internalGraphicsLayer);const s=()=>{if(a===this._operationHandle){const o=this.createGraphic,s=this._operationHandle.cancelled;if(this._operationHandle.destroy(),this._operationHandle=null,this._set(\"createGraphic\",null),this.view?.map&&this.view.map.remove(this._internalGraphicsLayer),a.cancelled||null==o||i.add(o),this._sketchContinuationFlag=!1,this.emit(\"create\",{graphic:o,state:s?\"cancel\":\"complete\",tool:e,toolEventInfo:null,type:\"create\"}),s||this._sketchContinuationFlag)return;const{creationMode:r}=this;if(\"continuous\"===r){if(t?.geometryToPlace)return;this._updatingHandles.addPromise(h(this.create(e,t)))}else\"update\"===r&&o&&this._updatingHandles.addPromise(h(this.update([o])))}};a.on(\"complete\",s),this._operationHandle=a,o.ready&&o.focus()}async place(e,t){return this.create(\"mesh\",{mode:\"click\",hasZ:e.hasZ,geometryToPlace:e,...t})}async update(e,t){this.cancel(),await this._waitViewReady();const{layer:o,view:i,state:a}=this;if(!i||\"disabled\"===a)throw o||this._logMissingLayer(),p();null!=i.activeTool&&(i.activeTool=null);const s=Array.isArray(e)?e:[e];if(null==e||!s?.length)return void this._logError(\"sketch:missing-parameter\",\"Missing parameter 'graphics'.\");if(s.some((e=>e.layer!==o?(this._logError(\"sketch:invalid-parameter\",\"Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer.\"),!0):null==e.geometry&&(this._logError(\"sketch:invalid-parameter\",\"Parameter 'graphics' contains one or more graphics with an unsupported geometry.\"),!0))))return;const r=await this._updatingHandles.addPromise(this._setupUpdateOperation(s,t));this.destroyed||null==r||ge(r)||(L(i,this._internalGraphicsLayer),this._setUpdateOperationHandle(r,t),this.emit(\"update\",{graphics:s,state:\"start\",aborted:!1,tool:r.tool,toolEventInfo:null,type:\"update\"}))}async _updateSpatialReference(e){const t=this.view;if(t){e=Array.isArray(e)?e:[e];for(const o of e)null==o.geometry||\"mesh\"===o.geometry.type||E(o.geometry.spatialReference,t.spatialReference)||(b(o.geometry.spatialReference,t.spatialReference)||w()||await G(),o.geometry=O(o.geometry,t.spatialReference))}else this._logMissingView()}undo(){this.canUndo()&&this._operationHandle?.undo()}redo(){this.canRedo()&&this._operationHandle?.redo()}canUndo(){return!!this._operationHandle?.canUndo()}canRedo(){return!!this._operationHandle?.canRedo()}toggleUpdateTool(){this._operationHandle?.toggleTool()}async _getFirstHit(e){const t=this.view;if(!t)return this._logMissingView(),null;if(\"2d\"===t.type){const o=[];t.map.allLayers.forEach((e=>{\"vector-tile\"!==e.type&&\"imagery\"!==e.type||o.push(e)}));const i=await t.hitTest(e,{exclude:o});return Q(i.results)}const o=[t.map.ground];t.map.allLayers.forEach((e=>{M(e.type)&&o.push(e)}));const i=await t.hitTest(e,{exclude:o});if(i.results.length>0){const e=i.results[0];if(null!=e&&\"graphic\"===e.type&&e.graphic&&(!i.ground.mapPoint||t.map.ground.opacity<1||i.ground.distance-(e.distance??0)>-Math.min(3*i.ground.distance,\"global\"===t.viewingMode?_(t.renderCoordsHelper.spatialReference).radius/t.renderCoordsHelper.unitInMeters:Number.POSITIVE_INFINITY)))return e}return null}_generateViewHandles(e){return[e.on(\"immediate-click\",(async e=>{const t=\"active\"===this.state&&\"create\"===this._operationHandle?.type;\"disabled\"!==this.state&&!t&&this.updateOnGraphicClick&&await this._updatingHandles.addPromise(this._handleImmediateClick(e))}),F.WIDGET)]}async _handleImmediateClick(e){const t=await e.defer((()=>this._getFirstHit(X(e))));let o=null;if(null!=t){const i=t.graphic;this.updateGraphics.includes(i)||i.layer===this.layer?(e.stopPropagation(),o=i):\"2d\"!==this.view?.type||this._isComponentGraphic(i)||\"active\"!==this.state||this.cancel()}else\"active\"===this.state&&this.cancel();null==o||this.updateGraphics.includes(o)||await this.update([o],{...this.defaultUpdateOptions,reshapeOptions:{...this.defaultUpdateOptions.reshapeOptions}})}async _setupCreateOperation(e,t){const o=this.view;if(!o)return this._logMissingView(),null;const i={hasZ:\"3d\"===o.type,...this.defaultCreateOptions,...t},a=await this._setupDrawGraphicTool(e,o,i);return null==a?null:(o.tools.add(a),o.activeTool=a,this._setupCreateOperationHandle(a))}async _setupDrawGraphicTool(e,t,o){if(\"multipoint\"===e&&\"3d\"===t.type)return this._logError(\"sketch:create\",\"Multipoint geometries are not supported in SceneView.\"),null;if(!t)return this._logMissingView(),null;const{cursor:i,defaultZ:a,hasZ:s,geometryToPlace:r,graphicProperties:n,mode:p,preserveAspectRatio:l}=o,h=oe(p,e),c=ie(e),d=o?.optionsPerTool?.has(e)?o.optionsPerTool.get(e):{},u=d?.preserveAspectRatio??l??\"rectangle\"!==e,m={centered:\"rectangle\"!==e&&!(\"circle\"===e&&!u),cursor:i,defaultZ:a,forceUniformSize:u,graphicProperties:{...n,attributes:{...n?.attributes}},geometryToPlace:r,geometryType:c,mode:h,graphicSymbol:this._getGraphicSymbolFromTool(e),hasZ:s,snappingManager:this.snappingManager,snapToScene:!1,view:t,...d};return\"2d\"===t.type?this._makeDrawGraphicTool2D(m):this._makeDrawGraphicTool3D(m)}async _makeDrawGraphicTool2D(e){const[t,o,i]=await Promise.all([this._requireModule(import(\"../../views/2d/interactive/editingTools.js\")),$(),Y()]);return ge(t)||this.destroyed?null:new t.module.DrawGraphicTool2D({...e,activeVertexSymbol:this.activeVertexSymbol,regularVerticesSymbol:this.vertexSymbol,activeLineSymbol:this.activeLineSymbol,activeFillSymbol:le(e.geometryType)?this.activeFillSymbol:null,sketchOptions:this.sketchOptions,automaticAreaMeasurementUtils:o,automaticLengthMeasurementUtils:i})}async _makeDrawGraphicTool3D(e){const[t,o,i]=await Promise.all([this._requireModule(import(\"../../views/3d/interactive/editingTools.js\")),$(),Y()]);if(ge(t)||this.destroyed)return null;const{elevationInfo:a}=this.layer;return new t.module.DrawGraphicTool3D({...e,elevationInfo:a,snapToScene:!0,sketchOptions:this.sketchOptions,automaticAreaMeasurementUtils:o,automaticLengthMeasurementUtils:i})}_setupCreateOperationHandle(e){const t=this.view;if(!t)return this._logMissingView(),null;let o=null;const i=e.forceUniformSize,s=e.centered,r=[t.on(\"key-down\",(t=>{if(t.key===V.pan)t.stopPropagation(),t.repeat||(e.enabled=!1);else if(t.key===V.complete)t.stopPropagation(),e.completeCreateOperation();else if(t.key!==V.vertexAdd||t.repeat)t.key===V.undo?(t.stopPropagation(),n.undo()):t.key===V.redo?(t.stopPropagation(),n.redo()):t.key!==V.constraint||\"rectangle\"!==e.geometryType&&\"circle\"!==e.geometryType||t.repeat?t.key===V.center&&(t.repeat||(e.centered=!s,t.stopPropagation())):(e.forceUniformSize=!i,t.stopPropagation());else{const o=e.drawOperation.geometryType;\"polyline\"!==o&&\"polygon\"!==o&&\"multipoint\"!==o||(t.stopPropagation(),e.drawOperation.commitStagedVertex())}}),F.WIDGET),t.on(\"key-up\",(t=>{t.key===V.pan?e.enabled=!0:t.key!==V.constraint||\"rectangle\"!==e.geometryType&&\"circle\"!==e.geometryType?t.key===V.center&&(e.centered=s,t.stopPropagation()):(e.forceUniformSize=i,t.stopPropagation())}),F.WIDGET),e.on(\"vertex-add\",(t=>{switch(o=null==o?\"start\":\"active\",t.operation){case\"apply\":this.emit(\"create\",{graphic:e.graphic,state:o,tool:this.activeTool,toolEventInfo:t,type:\"create\"});break;case\"undo\":this._emitUndoEvent({graphics:[e.graphic],tool:e.geometryType});break;case\"redo\":this._emitRedoEvent({graphics:[e.graphic],tool:e.geometryType})}})),e.on(\"cursor-update\",(t=>{e.drawOperation.numCommittedVertices>0&&this.emit(\"create\",{graphic:e.graphic,state:\"active\",tool:this.activeTool,toolEventInfo:{coordinates:t.vertices[0].coordinates,type:\"cursor-update\"},type:\"create\"})})),e.on(\"vertex-remove\",(t=>{switch(t.operation){case\"apply\":this.emit(\"create\",{graphic:e.graphic,state:\"active\",tool:this.activeTool,toolEventInfo:t,type:\"create\"});break;case\"undo\":this._emitUndoEvent({graphics:[e.graphic],tool:e.geometryType});break;case\"redo\":this._emitRedoEvent({graphics:[e.graphic],tool:e.geometryType})}})),e.on(\"complete\",(e=>{this._set(\"createGraphic\",e.graphic),o=\"complete\",e.aborted?n&&n.cancel():n&&n.complete()})),d((()=>this._getGraphicSymbolFromTool(e.geometryType)),(t=>{e.graphicSymbol=t}))],n=new ee({activeComponent:e,tool:e.geometryType,type:\"create\",onEnd:()=>{a(r),t.tools?.remove(e)},undo:()=>{e.canUndo&&e.undo()},redo:()=>{e.canRedo&&e.redo()},canUndo:()=>e.canUndo,canRedo:()=>e.canRedo});return n}_getGraphicSymbolFromTool(e){switch(e){case\"point\":case\"multipoint\":return this.pointSymbol;case\"polyline\":case\"freehandPolyline\":return this.polylineSymbol;case\"circle\":case\"rectangle\":case\"polygon\":case\"freehandPolygon\":return this.polygonSymbol;case\"mesh\":return this.meshSymbol}}async _setupUpdateOperation(e,t){const{layer:o,view:i}=this;if(!i)return this._logMissingView(),null;const a={...this.defaultUpdateOptions,...t,reshapeOptions:{...this.defaultUpdateOptions.reshapeOptions,...t?.reshapeOptions},highlightOptions:{...this.defaultUpdateOptions.highlightOptions,...t?.highlightOptions}};let s=a.tool??se.tool;for(const r of e)o.remove(r),o.add(r);if(\"3d\"===i.type){if(0===e.length)return null;switch(s){case\"move\":return this._setupMove3DOperation(e,a,i,s);case\"reshape\":return e.length>1?(this._logError(\"sketch:reshape-multiple\",\"Reshape operation does not support multiple graphics.\"),null):this._setupReshape3DOperation(e[0],a,i);case\"transform\":return this._setupGraphicTransform3DOperation(e,a,i)}}switch(s){case\"move\":return this._setupMove2DOperation(e,a,i);case\"reshape\":return e.length>1?(this._logError(\"sketch:reshape-multiple\",\"Reshape operation does not support multiple graphics.\"),null):this._setupTransformOrReshape2DOperation(e,s,a,i);case\"transform\":if(1===e.length){const t=e[0].geometry?.type;\"point\"!==t&&\"multipoint\"!==t||(s=\"reshape\")}return this._setupTransformOrReshape2DOperation(e,s,a,i)}}async _setupMove3DOperation(e,t,o,i,s=!1){const[r,n]=await Promise.all([this._requireModule(import(\"../../views/3d/interactive/editingTools.js\")),Y()]);if(ge(r))return r;const{ManipulatedObject3DGraphic:p,MoveTool3D:l}=r.module,h=new Map,c=()=>{h.forEach((e=>e.destroy())),h.clear()};for(const a of e){const e=new p({view:o,graphic:a}),t=I(e);if(t!==U.SUPPORTED)return c(),this._logError(\"sketch:move\",`Move operation not supported for provided graphic(s) (${R(t)}).`),null;h.set(a,e)}const d=new l({view:o,enableZ:t.enableZ,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions,autoLengthMeasurementUtils:n});o.tools.add(d),d.objects.addMany(Array.from(h.values())),s||this.updateGraphics.addMany(e);const u=[],m=new te({activeComponent:d,tool:i,type:\"update\",onEnd:()=>{a(u),ye(o,d),c()},undo:()=>{ue(this.view,d),he(m,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:i})},redo:()=>{ce(m,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:i})},addToSelection:e=>{this.updateGraphics.push(e);const t=new p({view:o,graphic:e});h.set(e,t),d.objects.push(t),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:e=>{const t=this.updateGraphics.indexOf(e);if(m.history.undo.forEach((e=>e.updates.splice(t,1))),m.history.redo.forEach((e=>e.updates.splice(t,1))),this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),0===this.updateGraphics.length)return void m.complete();const o=h.get(e);o&&(d.objects.remove(o),o.destroy(),h.delete(e))},toggleTool:async()=>{if(1!==this.updateGraphics.length||!1===t.toggleToolOnClick)return;if(\"transform\"!==i)return;const e=this.updateGraphics.at(0),a=await this._setupReshape3DOperation(e,t,o,!0);a&&!ge(a)&&(m.onEnd(),m.destroy(),this._setUpdateOperationHandle(a,t))}});return u.push(...this._getHandlesForComponent(m,t),o.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(m,e,t)),F.WIDGET),o.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(m,e)}),F.WIDGET)),m}_setupGraphicTransform3DOperation(e,t,o,i=!1){if(1===e.length&&x(e[0])===U.SUPPORTED){const a=e[0],s=a.geometry;if(null!=s&&(\"point\"===s.type||\"mesh\"===s.type))return this._setupPointTransform3DOperation(a,t,o);if(null!=s&&(\"polygon\"===s.type||\"polyline\"===s.type))return this._setupPolyTransform3DOperation(a,t,o,i)}return this._setupMove3DOperation(e,t,o,\"transform\",i)}async _setupPointTransform3DOperation(e,t,o){const i=\"transform\",{enableRotation:s,enableScaling:r,enableZ:n}=t,p=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(ge(p))return p;const{TransformTool3D:l,ManipulatedObject3DGraphic:h}=p.module,c=new h({graphic:e,view:o}),d=new l({object:c,view:o,enableRotation:s,enableScaling:r,enableZ:n,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions});o.tools.add(d),this.updateGraphics.add(e);const u=[],m=new te({activeComponent:d,tool:i,type:\"update\",onEnd:()=>{a(u),ye(o,d),c.destroy()},undo:()=>{ue(this.view,d),he(m,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:i})},redo:()=>{ce(m,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:i})},addToSelection:async e=>{this.updateGraphics.add(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"}),m.onEnd(),m.destroy();const i=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,o,\"transform\",!0);ge(i)||this._setUpdateOperationHandle(i,t)},removeFromSelection:e=>{this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),m.complete()},toggleTool:()=>{}});return u.push(...this._getHandlesForComponent(m,t),o.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(m,e,t)),F.WIDGET),o.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(m,e)}),F.WIDGET)),m}async _setupPolyTransform3DOperation(e,t,o,i=!1){const s=\"transform\",{enableRotation:r,enableScaling:n,enableZ:p,preserveAspectRatio:l}=t,[h,c]=await Promise.all([this._requireModule(import(\"../../views/3d/interactive/editingTools.js\")),Y()]);if(ge(h))return h;const{ManipulatedObject3DGraphic:d,ExtentTransformTool:u}=h.module,m=this.view?.inputManager?.isModifierKeyDown(V.constraint),y=new d({view:o,graphic:e}),g=new u({object:y,view:o,enableRotation:r,enableScaling:n,enableZ:p,preserveAspectRatio:!!l!=!!m,sketchOptions:this.sketchOptions,automaticLengthMeasurementUtils:c});o.tools.add(g),i||this.updateGraphics.add(e);const v=[],f=new te({activeComponent:g,tool:s,type:\"update\",onEnd:()=>{a(v),ye(o,g),y.destroy()},canUndo:()=>!g.destroyed&&g.canUndo,undo:()=>{g.destroyed||(g.undo(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:s}))},canRedo:()=>!g.destroyed&&g.canRedo,redo:()=>{g.destroyed||(g.redo(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:s}))},addToSelection:async e=>{this.updateGraphics.add(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"}),f.onEnd(),f.destroy();const i=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,o,\"transform\",!0);ge(i)||this._setUpdateOperationHandle(i,t)},removeFromSelection:e=>{this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),f.complete()},toggleTool:async()=>{if(1!==this.updateGraphics.length||!1===t.toggleToolOnClick)return;const i=await this._setupReshape3DOperation(e,t,o,!0);i&&!ge(i)&&(f.onEnd(),f.destroy(),this._setUpdateOperationHandle(i,t))}});return v.push(...this._getHandlesForComponent(f,t),o.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(f,e,t)),F.WIDGET),o.on(\"key-down\",(e=>this._getCommonUpdateOperationKeyDownHandlers(f,e)),F.WIDGET),o.on(\"key-down\",(e=>{e.key!==V.constraint||e.repeat||(g.preserveAspectRatio=!g.preserveAspectRatio,e.stopPropagation())}),F.WIDGET),o.on(\"key-up\",(e=>{e.key===V.constraint&&(g.preserveAspectRatio=!g.preserveAspectRatio,e.stopPropagation())}),F.WIDGET)),f}async _setupMove2DOperation(e,t,o){const i=\"move\";this.updateGraphics.addMany(e),await this._updatingHandles.addPromise(this._updateSpatialReference(e));const s=await this._getGraphicMover(e,t,o);if(ge(s))return s;const r=new te({activeComponent:s,tool:i,type:\"update\",onEnd:()=>{this._displayDefaultCursor(),a(l),a(p),s.destroy(),this._internalGraphicsLayer?.removeMany([...this.updateGraphics.toArray()])},undo:()=>{const e=this.updateGraphics.toArray();he(r,e),r.refreshComponent(),this._emitUndoEvent({graphics:e,tool:i})},redo:()=>{const e=this.updateGraphics.toArray();ce(r,e),r.refreshComponent(),this._emitRedoEvent({graphics:e,tool:i})},addToSelection:async e=>{await this._updatingHandles.addPromise(this._updateSpatialReference(e)),this.updateGraphics.push(e),s.graphics=this.updateGraphics.toArray(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:e=>{const t=this.updateGraphics.indexOf(e);r.history.undo.forEach((e=>e.updates.splice(t,1))),r.history.redo.forEach((e=>e.updates.splice(t,1))),this.updateGraphics.remove(e);const o=this.updateGraphics.toArray();this.emit(\"update\",{graphics:o,state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),0!==this.updateGraphics.length?s.graphics=o:r.complete()}});let n=!1;const p=[o.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(r,e,t)),F.WIDGET),o.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(r,e),e.key!==V.constraint||e.repeat||(n=!0,s.enableMoveAllGraphics=!s.enableMoveAllGraphics)}),F.WIDGET),o.on(\"key-up\",(e=>{e.key===V.constraint&&n&&(n=!1,s.enableMoveAllGraphics=!s.enableMoveAllGraphics)}),F.WIDGET)],l=this._getHandlesForComponent(r,t);return r}async _setupReshape3DOperation(e,t,o,i=!1){const s=\"reshape\",[r,n,p]=await Promise.all([this._requireModule(import(\"../../views/3d/interactive/editingTools.js\")),$(),Y()]);if(ge(r))return r;const{ManipulatedObject3DGraphic:l,ReshapeTool3D:h}=r.module,c=new l({view:o,graphic:e}),d=P(c);if(d!==U.SUPPORTED)return c.destroy(),this._logError(\"sketch:reshape\",`Reshape operation not supported for provided graphic(s) (${R(d)}).`),null;const u=t.reshapeOptions,m=new h({view:o,object:c,enableZVertex:t.enableZ&&\"move\"===u?.vertexOperation,enableZShape:t.enableZ&&\"move\"===u?.shapeOperation,enableMoveObject:\"move\"===u?.shapeOperation||\"move-xy\"===u?.shapeOperation,enableMidpoints:\"split\"===u?.edgeOperation,enableEdgeOffset:\"offset\"===u?.edgeOperation,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions,automaticAreaMeasurementUtils:n,automaticLengthMeasurementUtils:p});o.tools.add(m),i||this.updateGraphics.add(c.graphic);const y=[],g=new te({activeComponent:m,tool:s,type:\"update\",onEnd:()=>{a(y),ye(o,m),c.destroy()},canUndo:()=>!m.destroyed&&m.canUndo,undo:()=>{m.destroyed||(m.undo(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:s}))},canRedo:()=>!m.destroyed&&m.canRedo,redo:()=>{m.destroyed||(m.redo(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:s}))},addToSelection:async e=>{this.updateGraphics.add(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"}),g.onEnd(),g.destroy();const i=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,o,\"transform\",!0);ge(i)||this._setUpdateOperationHandle(i,t)},removeFromSelection:e=>{this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),g.complete()},toggleTool:async()=>{if(!1===t.toggleToolOnClick)return;g.onEnd(),g.destroy();const e=await this._setupGraphicTransform3DOperation(this.updateGraphics.toArray(),t,o,!0);ge(e)||this._setUpdateOperationHandle(e,t)}});return y.push(...this._getHandlesForComponent(g,t),o.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(g,e,t)),F.WIDGET),o.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(g,e)}),F.WIDGET)),g}async _setupTransformOrReshape2DOperation(e,t,o,i){this.updateGraphics.addMany(e),await this._updatingHandles.addPromise(this._updateSpatialReference(e));const s=\"transform\"===t?await this._getBox(e,o,i):await this._getReshape(e,o,i);if(ge(s))return s;const r=new te({activeComponent:s,type:\"update\",onEnd:()=>{a(p),a(n),r.activeComponent&&!r.activeComponent.destroyed&&r.activeComponent.destroy(),this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray())},undo:()=>{he(r,this.updateGraphics.toArray()),r.refreshComponent(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:r.tool})},redo:()=>{ce(r,this.updateGraphics.toArray()),r.refreshComponent(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:r.tool})},addToSelection:async e=>{let t=r.activeComponent;if(\"reshape\"===t?.type){const t=[...this.updateGraphics,e];this.updateGraphics.removeAll(),r.onEnd(),r.destroy();const a=await this._setupTransformOrReshape2DOperation(t,\"transform\",o,i);if(ge(a))return;this._setUpdateOperationHandle(a,o)}else this.updateGraphics.add(e),t.graphics=this.updateGraphics.toArray(),t.refresh(),r.resetHistory();this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:async e=>{const t=this.updateGraphics.indexOf(e);r.history.undo.forEach((e=>e.updates.splice(t,1))),r.history.redo.forEach((e=>e.updates.splice(t,1))),this.updateGraphics.remove(e);const o=this.updateGraphics.toArray();if(0===o.length)r.complete();else{const e=o[0].geometry;1!==o.length||null==e||\"point\"!==e.type&&\"multipoint\"!==e.type?r.activeComponent.graphics=o:r.toggleTool()}this.emit(\"update\",{graphics:o,state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"})},toggleTool:async()=>{if(this.updateGraphics.length>1)return;const e=this.updateGraphics.at(0),t=e.geometry;if(null!=t&&(\"reshape\"===r.tool&&(\"point\"===t.type||\"multipoint\"===t.type)||\"transform\"===r.tool&&\"extent\"===t.type))return;let s=null;\"transform\"===r.tool?s=await this._getReshape([e],o,i):\"reshape\"===r.tool&&(s=await this._getBox([e],o,i)),ge(s)||(r.activeComponent?.destroy(),r.activeComponent=s,r.activeComponent&&(a(p),p=this._getHandlesForComponent(r,o)))}}),n=[i.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(r,e,o)),F.WIDGET),i.on(\"key-down\",(e=>{if(this._getCommonUpdateOperationKeyDownHandlers(r,e),e.key===V.constraint&&!e.repeat&&r){const e=r.activeComponent;e&&\"box\"===e.type&&(e.preserveAspectRatio=!e.preserveAspectRatio)}}),F.WIDGET),i.on(\"key-up\",(e=>{if(e.key===V.constraint&&r){const e=r.activeComponent;e&&\"box\"===e.type&&(e.preserveAspectRatio=!e.preserveAspectRatio)}}),F.WIDGET)];let p=this._getHandlesForComponent(r,o);return r}async _getGraphicMover(e,t,o){const{enableMoveAllGraphics:i,highlightOptions:a}=t,s=await this._requireModule(import(\"../../views/draw/support/GraphicMover.js\"));return ge(s)?s:new s.module.default({enableMoveAllGraphics:i,highlightName:a?.name,highlightsEnabled:!!a?.enabled,indicatorsEnabled:!1,graphics:e,view:o,callbacks:{onGraphicMoveStart:({dx:e,dy:t,graphic:o})=>{this._displayGrabbingCursor(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:\"move-start\"},type:\"update\"})},onGraphicMove:({dx:e,dy:t,graphic:o})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:\"move\"},type:\"update\"}),onGraphicMoveStop:({dx:e,dy:t,graphic:o})=>{this._displayPointerCursor(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:\"move-stop\"},type:\"update\"})},onGraphicPointerOver:()=>this._displayMoveCursor(),onGraphicPointerOut:()=>this._displayDefaultCursor()}})}async _getBox(e,t,o){const{enableRotation:i,enableScaling:a,highlightOptions:s,preserveAspectRatio:r}=t,[n,p]=await Promise.all([this._requireModule(import(\"../../views/draw/support/Box.js\")),Y()]);if(ge(n))return n;const l=this.view?.inputManager?.isModifierKeyDown(V.constraint);return new n.module.default({graphics:e,enableRotation:i,enableScaling:a,highlightName:s?.name,highlightsEnabled:!!s?.enabled,preserveAspectRatio:!!r!=!!l,layer:this._internalGraphicsLayer,view:o,sketchOptions:this.sketchOptions,automaticLengthMeasurementUtils:p,callbacks:{onMoveStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onMove:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onMoveStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScaleStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScale:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScaleStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotateStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotate:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotateStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"})}})}async _getReshape(e,t,o){const{highlightOptions:i,reshapeOptions:a}=t,s=\"split\"===a?.edgeOperation,r=\"move\"===a?.shapeOperation,[n,p,l]=await Promise.all([this._requireModule(import(\"../../views/draw/support/Reshape.js\")),$(),Y()]);return ge(n)?n:new n.module.default({enableMidpoints:s,enableMovement:r,graphic:e[0],highlightName:i?.name,highlightsEnabled:!!i?.enabled,layer:this._internalGraphicsLayer,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions,automaticAreaMeasurementUtils:p,automaticLengthMeasurementUtils:l,view:o,callbacks:{onReshapeStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onReshape:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onReshapeStop:({mover:e,type:t})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e,type:t},type:\"update\"}),onMoveStart:({dx:e,dy:t,mover:o,type:i})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:i},type:\"update\"}),onMove:({dx:e,dy:t,mover:o,type:i})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:i},type:\"update\"}),onMoveStop:({dx:e,dy:t,mover:o,type:i})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:i},type:\"update\"}),onVertexAdd:({added:e,type:t,vertices:o})=>{const i=e.map((e=>T(e.geometry)));this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:i,vertices:o,type:t},type:\"update\"})},onVertexRemove:({removed:e,type:t,vertices:o})=>{const i=e.map((e=>T(e.geometry)));this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{removed:i,vertices:o,type:t},type:\"update\"})}}})}_getHandlesForComponent(e,t){const o=e.activeComponent;if(!o)return[];switch(o.type){case\"graphic-mover\":return[o.on(\"graphic-click\",(({graphic:o,viewEvent:i})=>{i.native?.shiftKey&&t.multipleSelectionEnabled&&(i.stopPropagation(),e.removeFromSelection(o))})),o.on(\"graphic-move-start\",(t=>e.addToHistory(me(t.allGraphics))))];case\"box\":return[o.on(\"graphic-click\",(o=>this._onTransformOrReshape2DGraphicClick(e,t,o))),o.on(\"move-start\",(t=>e.addToHistory(me(t.graphics)))),o.on(\"rotate-start\",(t=>e.addToHistory(me(t.graphics)))),o.on(\"scale-start\",(t=>e.addToHistory(me(t.graphics))))];case\"reshape\":return[o.on(\"graphic-click\",(o=>this._onTransformOrReshape2DGraphicClick(e,t,o))),o.on(\"move-start\",(t=>e.addToHistory(me([t.mover])))),o.on(\"reshape-start\",(t=>e.addToHistory(me([t.graphic])))),o.on(\"vertex-add\",(t=>e.addToHistory(me([t.oldGraphic])))),o.on(\"vertex-remove\",(t=>e.addToHistory(me([t.oldGraphic]))))];case\"move-3d\":return[o.events.on(\"record-undo\",(({updates:t})=>{e.addToHistory({updates:t})})),o.events.on(\"move-start\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:e.objects.length>0?e.objects[0].graphic:null,type:\"move-start\"},type:\"update\"})})),o.events.on(\"move\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e.dx,dy:e.dy,mover:e.objects.length>0?e.objects[0].graphic:null,type:\"move\"},type:\"update\"})})),o.events.on(\"move-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:e.objects.length>0?e.objects[0].graphic:null,type:\"move-stop\"},type:\"update\"})})),o.events.on(\"immediate-click\",(o=>{o.shiftKey?this._toggleSelection([o.object.graphic],e,t):e.toggleTool()}))];case\"transform-3d\":return[o.events.on(\"record-undo\",(({updates:t})=>{e.addToHistory({updates:t})})),o.events.on(\"translate-start\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move-start\"},type:\"update\"})})),o.events.on(\"translate-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move-stop\"},type:\"update\"})})),o.events.on(\"rotate-start\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,angle:e.angle,type:\"rotate-start\"},type:\"update\"})})),o.events.on(\"rotate-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,angle:e.angle,type:\"rotate-stop\"},type:\"update\"})})),o.events.on(\"scale-start\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,xScale:e.xScale,yScale:e.yScale,type:\"scale-start\"},type:\"update\"})})),o.events.on(\"scale-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,xScale:e.xScale,yScale:e.yScale,type:\"scale-stop\"},type:\"update\"})})),o.events.on(\"translate\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move\"},type:\"update\"})})),o.events.on(\"rotate\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,angle:e.angle,type:\"rotate\"},type:\"update\"})})),o.events.on(\"scale\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,xScale:e.xScale,yScale:e.yScale,type:\"scale\"},type:\"update\"})})),o.events.on(\"immediate-click\",(o=>{o.shiftKey?this._toggleSelection([o.object.graphic],e,t):e.toggleTool()}))];case\"reshape-3d\":return[o.events.on(\"reshape\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e,mover:e.object.graphic},type:\"update\"})})),o.events.on(\"move\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e,mover:e.object.graphic},type:\"update\"})})),o.events.on(\"vertex-add\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:e,type:\"update\"})})),o.events.on(\"vertex-remove\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:e,type:\"update\"})})),o.events.on(\"immediate-click\",(o=>{o.shiftKey?this._toggleSelection([o.object.graphic],e,t):e.toggleTool()}))]}}_onTransformOrReshape2DGraphicClick(e,t,o){const{graphic:i,viewEvent:a}=o;return a.native?.shiftKey&&i.layer===this.layer?(a.stopPropagation(),e.removeFromSelection(i)):t.toggleToolOnClick?(a.stopPropagation(),e.toggleTool()):void 0}_setUpdateOperationHandle(e,t){this._operationHandle=e;const o=this.view?.map;this._disablePopup(t);const i=()=>{if(e===this._operationHandle){const i=this.updateGraphics.toArray(),a=this._operationHandle.tool;this._operationHandle.destroy(),this._operationHandle=null,this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray()),this.updateGraphics.removeAll(),o&&o.remove(this._internalGraphicsLayer),this._restorePopup(t),this.emit(\"update\",{graphics:i,state:\"complete\",aborted:e.cancelled,tool:a,toolEventInfo:null,type:\"update\"})}};e.on(\"complete\",i)}async _getCommonUpdateOperationClickHandlers(e,t,o){const i=X(t),a=await t.defer((()=>this._getFirstHit(i)));if(null==a)return void e.complete();if(t.native.shiftKey&&this._toggleSelection([a.graphic],e,o))return void t.stopPropagation();this.updateGraphics.includes(a.graphic)?t.stopPropagation():e.complete()}_toggleSelection(e,t,o){const i=!!o.multipleSelectionEnabled;return e.some((e=>null!=e&&(!(!i||e.layer!==this.layer)&&(this.updateGraphics.includes(e)?t.removeFromSelection(e):t.addToSelection(e),!0))))}_getCommonUpdateOperationKeyDownHandlers(e,t){if(!e)return;const o=t.key;o===V.undo&&e.canUndo()?(t.stopPropagation(),e.undo()):o===V.redo&&e.canRedo()?(t.stopPropagation(),e.redo()):o===V.cancel?(t.stopPropagation(),e.cancel()):this.allowDeleteKey&&V.delete.includes(o)&&this._onDeleteKey(t)}_onDeleteKey(e){if(!this._operationHandle||\"update\"!==this._operationHandle.type)return;const t=this.activeComponent,o=this.updateGraphics.toArray();null!=t&&(\"reshape\"!==t.type||1===o.length&&\"point\"===o[0].geometry?.type)&&(e.stopPropagation(),this.delete())}_removeDefaultLayer(){this._internalGraphicsLayer&&(this.view?.map?.remove(this._internalGraphicsLayer),this._internalGraphicsLayer=r(this._internalGraphicsLayer))}_isComponentGraphic(e){const{activeComponent:t}=this;return!(!e||null==t)&&(e.attributes?.esriSketchTool||\"draw-2d\"===t.type&&t.graphic===e||(\"box\"===t.type||\"reshape\"===t.type)&&t.isUIGraphic(e))}_displayPointerCursor(){this.view?.container&&\"pointer\"!==this.view.cursor&&(this.view.cursor=\"pointer\")}_displayGrabbingCursor(){this.view?.container&&\"grabbing\"!==this.view.cursor&&(this.view.cursor=\"grabbing\")}_displayMoveCursor(){this.view?.container&&\"move\"!==this.view.cursor&&(this.view.cursor=\"move\")}_displayDefaultCursor(){this.view?.container&&null!==this.view.cursor&&(this.view.cursor=null)}_logError(e,t,i){s.getLogger(this).error(new o(e,t,i))}async _requireModule(e){const t=new AbortController;this._moduleLoaderAbortController=t;const o=await e;return this._moduleLoaderAbortController!==t||t.signal.aborted?{requireError:\"aborted\"}:{module:o}}_emitUndoEvent(e){this.emit(\"undo\",{...e,type:\"undo\"})}_emitRedoEvent(e){this.emit(\"redo\",{...e,type:\"redo\"})}_emitDeleteEvent(e){this.emit(\"delete\",{...e,type:\"delete\"})}get test(){}wait(){return y((()=>!this.updating))}_disablePopupEnabled(e){return\"3d\"!==this.view?.type||this.updateOnGraphicClick||(e?.toggleToolOnClick??!1)}_disablePopup(e){this._disablePopupEnabled(e)&&this.view&&null==this._originalPopupEnabled&&(this._originalPopupEnabled=this.view.popupEnabled,this.view.popupEnabled=!1)}_restorePopup(e){this._disablePopupEnabled(e)&&this.view&&null!=this._originalPopupEnabled&&(this.view.popupEnabled=this._originalPopupEnabled,this._originalPopupEnabled=null)}async _waitViewReady(){const e=this.view;e?(n(this._viewReadyAbortController),this._viewReadyAbortController=new AbortController,await l(y((()=>e?.ready)),this._viewReadyAbortController.signal)):this._logMissingView()}_logMissingView(){this._logError(\"sketch:missing-property\",pe(\"view\"))}_logMissingLayer(){this._logError(ne,pe(\"layer\"))}};e([g()],re.prototype,\"_defaultSnappingManager\",void 0),e([g()],re.prototype,\"updating\",null),e([g({readOnly:!0})],re.prototype,\"_updatingHandles\",void 0),e([g()],re.prototype,\"_operationHandle\",void 0),e([g({readOnly:!0})],re.prototype,\"activeTool\",null),e([g({readOnly:!0})],re.prototype,\"activeCreateToolDrawMode\",null),e([g()],re.prototype,\"activeTooltip\",null),e([g({types:j})],re.prototype,\"activeFillSymbol\",void 0),e([g()],re.prototype,\"activeLineSymbol\",void 0),e([g()],re.prototype,\"activeVertexSymbol\",void 0),e([g()],re.prototype,\"allowDeleteKey\",void 0),e([g({readOnly:!0})],re.prototype,\"createGraphic\",null),e([g()],re.prototype,\"defaultCreateOptions\",null),e([g()],re.prototype,\"defaultUpdateOptions\",null),e([g({type:K,nonNullable:!0})],re.prototype,\"labelOptions\",null),e([g()],re.prototype,\"layer\",void 0),e([g({types:j})],re.prototype,\"pointSymbol\",void 0),e([g({types:j})],re.prototype,\"polygonSymbol\",void 0),e([g({types:j})],re.prototype,\"polylineSymbol\",void 0),e([g()],re.prototype,\"meshSymbol\",void 0),e([g({type:z,nonNullable:!0})],re.prototype,\"snappingOptions\",null),e([g()],re.prototype,\"snappingManager\",null),e([g({readOnly:!0})],re.prototype,\"state\",null),e([g({type:Z,nonNullable:!0})],re.prototype,\"tooltipOptions\",null),e([g({readOnly:!0})],re.prototype,\"updateGraphics\",void 0),e([g()],re.prototype,\"updateOnGraphicClick\",void 0),e([g()],re.prototype,\"creationMode\",void 0),e([g({type:q,nonNullable:!0})],re.prototype,\"valueOptions\",null),e([g({types:j})],re.prototype,\"vertexSymbol\",void 0),e([g({value:null})],re.prototype,\"view\",null),e([g({constructOnly:!0,type:W})],re.prototype,\"sketchOptions\",void 0),re=e([v(\"esri.widgets.Sketch.SketchViewModel\")],re);const ne=\"sketch:missing-property\",pe=e=>`Property '${e}' is missing on SketchViewModel.`;function le(e){return\"polygon\"===e||\"rectangle\"===e||\"circle\"===e}function he(e,t){de(\"undo\",e.history.undo,e.history.redo,t)}function ce(e,t){de(\"redo\",e.history.redo,e.history.undo,t)}function de(e,t,o,i){const a=t.pop();if(!a)return;const s=a.updates,r=[];i.forEach(((t,o)=>{const i=s[o];null!=i&&(\"geometry\"in i&&null!=i.geometry&&(r.push({geometry:t.geometry}),t.geometry=i.geometry),\"symbol\"in i&&null!=i.symbol&&(r.push({symbol:t.symbol}),t.symbol=i.symbol),\"undo\"in i&&(r.push(i),i[e](t)))})),o.push({updates:r})}function ue(e,t){null!=e&&t.hasGrabbedManipulators&&(e.activeTool=null)}function me(e){return{updates:e.map((({geometry:e})=>\"mesh\"===e?.type?{geometry:e.cloneShallow()}:{geometry:e}))}}function ye(e,t){e.tools?.remove(t),t.destroyed||t.destroy()}function ge(e){return\"requireError\"in e&&\"aborted\"===e.requireError}export{re as default};\n"],"names":["e","r","o","t","s","c","j","R","i","b","f","u","y","a","l","g","v","h","m","p","V","d","n","k","x","w","z","A","T","I","C","M","q","U","E","P","N","et","ot","L","rt","it","ut","at","ft","pt","F","mt","X","ht","S","dt","J","D","ct","O","Y","Lt","$","_","nt","Q","W","st","Z","tt","H","Ht","gt","Le","_t","ke","kt","xt","_e","yt","Pe","Pt","ze","zt","Me","Tt","Mt","lt","Jt","qt","xe","wt","jt","ye","vt","At","Dt","bt","Et","Rt","Nt","Te","Ut","qe","Ft","Zt","je","K","It","we","Gt","Ct","St","Ot","ve","ge","le","pe","Vt","Yt","Bt","Kt","Qt","Wt","$t","Xt","te","de","se","ee","re","ne","ie","ce","ue","ae","he","G","me","t$1","n$7","n$6","r$7","r$6","r$3","g$4","s$3","n$5","g$3","B","oe"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50]}