import{j as h,n as p,o as c,e as _,l as b,q as y,v as o,x as l,z as d}from"./main-CnDVnExo.js";function f(r,t,s){return h(r.map((e,a)=>t.apply(s,[e,a])))}async function m(r,t,s){return(await h(r.map((e,a)=>t.apply(s,[e,a])))).map(e=>e.value)}function i(r){return{ok:!0,value:r}}function u(r){return{ok:!1,error:r}}function v(r){return r!=null&&r.ok===!0?r.value:null}function C(r){return r!=null&&r.ok===!1?r.error:null}async function k(r){if(r==null)return{ok:!1,error:new Error("no promise provided")};try{return i(await r)}catch(t){return u(t)}}async function w(r){try{return i(await r)}catch(t){return y(t),u(t)}}function g(r,t){return new n(r,t)}let n=class extends p{get value(){return v(this._result)}get error(){return C(this._result)}get finished(){return this._result!=null}constructor(r,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=c(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:s}=this._abortController;this.promise=r(s),this.promise.then(e=>{this._result=i(e),this._cleanup()},e=>{this._result=u(e),this._cleanup()}),this._abortHandle=_(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=b(this._abortHandle),this._abortController=null}};o([l()],n.prototype,"value",null),o([l()],n.prototype,"error",null),o([l()],n.prototype,"finished",null),o([l()],n.prototype,"promise",void 0),o([l()],n.prototype,"_result",void 0),n=o([d("esri.core.asyncUtils.ReactiveTask")],n);export{k as _,f as a,w as b,g as d,m as p};
