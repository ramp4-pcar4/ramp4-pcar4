{"version":3,"file":"_sortable-CftmbXD_.js","sources":["../../node_modules/@esri/calcite-components/dist/components/calcite-sort-handle/customElement.js","../../node_modules/@esri/calcite-components/dist/chunks/_sortable.js"],"sourcesContent":["/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { ref } from \"lit-html/directives/ref.js\";\nimport { keyed } from \"lit-html/directives/keyed.js\";\nimport { nothing, html } from \"lit\";\nimport { LitElement, createEvent, safeClassMap } from \"@arcgis/lumina\";\nimport { c as componentFocusable } from \"../../chunks/component.js\";\nimport { u as updateHostInteraction, I as InteractiveContainer } from \"../../chunks/interactive.js\";\nimport { b as defaultMenuPlacement } from \"../../chunks/floating-ui.js\";\nimport { u as useT9n } from \"../../chunks/useT9n.js\";\nimport { css } from \"@lit/reactive-element/css-tag.js\";\nconst CSS = {\n  handle: \"handle\",\n  dropdown: \"dropdown\"\n};\nconst ICONS = {\n  drag: \"drag\",\n  blank: \"blank\"\n};\nconst SUBSTITUTIONS = {\n  label: \"{label}\",\n  position: \"{position}\",\n  total: \"{total}\"\n};\nconst REORDER_VALUES = [\"top\", \"up\", \"down\", \"bottom\"];\nconst styles = css`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex}.dropdown{block-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}`;\nclass SortHandle extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.disabled = false;\n    this.messages = useT9n({ blocking: true });\n    this.moveToItems = [];\n    this.open = false;\n    this.overlayPositioning = \"absolute\";\n    this.placement = defaultMenuPlacement;\n    this.scale = \"m\";\n    this.calciteSortHandleBeforeClose = createEvent({ cancelable: false });\n    this.calciteSortHandleBeforeOpen = createEvent({ cancelable: false });\n    this.calciteSortHandleClose = createEvent({ cancelable: false });\n    this.calciteSortHandleMove = createEvent({ cancelable: true });\n    this.calciteSortHandleOpen = createEvent({ cancelable: false });\n    this.calciteSortHandleReorder = createEvent({ cancelable: true });\n  }\n  static {\n    this.properties = { hasSetInfo: [16, {}, { state: true }], isSetDisabled: [16, {}, { state: true }], disabled: [7, {}, { reflect: true, type: Boolean }], flipPlacements: [0, {}, { attribute: false }], label: 1, messageOverrides: [0, {}, { attribute: false }], messages: [0, {}, { attribute: false }], moveToItems: [0, {}, { attribute: false }], open: [7, {}, { reflect: true, type: Boolean }], overlayPositioning: [3, {}, { reflect: true }], placement: [3, {}, { reflect: true }], scale: [3, {}, { reflect: true }], setPosition: [9, {}, { type: Number }], setSize: [9, {}, { type: Number }], widthScale: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  get hasSetInfo() {\n    return typeof this.setPosition === \"number\" && typeof this.setSize === \"number\";\n  }\n  get isSetDisabled() {\n    const { setPosition, setSize, moveToItems } = this;\n    return this.hasSetInfo ? setPosition < 1 || setSize < 1 || setSize < 2 && moveToItems.length < 1 : false;\n  }\n  async setFocus() {\n    await componentFocusable(this);\n    this.dropdownEl?.setFocus();\n  }\n  willUpdate(changes) {\n    if (changes.has(\"open\") && (this.hasUpdated || this.open !== false)) {\n      this.openHandler();\n    }\n  }\n  updated() {\n    updateHostInteraction(this);\n  }\n  openHandler() {\n    if (this.disabled) {\n      this.open = false;\n      return;\n    }\n    if (this.dropdownEl) {\n      this.dropdownEl.open = this.open;\n    }\n  }\n  setDropdownEl(el) {\n    if (!el) {\n      return;\n    }\n    this.dropdownEl = el;\n    this.openHandler();\n  }\n  getLabel() {\n    const { label, messages, setPosition, setSize } = this;\n    if (!this.hasSetInfo) {\n      return label ?? \"\";\n    }\n    let formattedLabel = label ? messages.repositionLabel.replace(SUBSTITUTIONS.label, label) : messages.reposition;\n    formattedLabel = formattedLabel.replace(SUBSTITUTIONS.position, setPosition ? setPosition.toString() : \"\");\n    return formattedLabel.replace(SUBSTITUTIONS.total, setSize ? setSize.toString() : \"\");\n  }\n  handleBeforeOpen(event) {\n    event.stopPropagation();\n    this.calciteSortHandleBeforeOpen.emit();\n  }\n  handleOpen(event) {\n    event.stopPropagation();\n    this.calciteSortHandleOpen.emit();\n    this.open = true;\n  }\n  handleBeforeClose(event) {\n    event.stopPropagation();\n    this.calciteSortHandleBeforeClose.emit();\n  }\n  handleClose(event) {\n    event.stopPropagation();\n    this.calciteSortHandleClose.emit();\n    this.open = false;\n  }\n  handleReorder(event) {\n    this.calciteSortHandleReorder.emit({\n      reorder: event.target.dataset.value\n    });\n  }\n  handleMoveTo(event) {\n    const id = event.target.dataset.id;\n    const moveTo = this.moveToItems.find((item) => item.id === id);\n    this.calciteSortHandleMove.emit({ moveTo });\n  }\n  render() {\n    const { disabled, flipPlacements, open, overlayPositioning, placement, scale, widthScale } = this;\n    const text = this.getLabel();\n    const isDisabled = disabled || this.isSetDisabled;\n    return InteractiveContainer({ disabled, children: html`<calcite-dropdown class=${safeClassMap(CSS.dropdown)} .disabled=${isDisabled} .flipPlacements=${flipPlacements} @calciteDropdownBeforeClose=${this.handleBeforeClose} @calciteDropdownBeforeOpen=${this.handleBeforeOpen} @calciteDropdownClose=${this.handleClose} @calciteDropdownOpen=${this.handleOpen} .overlayPositioning=${overlayPositioning} .placement=${placement} .scale=${scale} .widthScale=${widthScale} ${ref(this.setDropdownEl)}><calcite-action .active=${open} appearance=transparent class=${safeClassMap(CSS.handle)} .dragHandle=${true} .icon=${disabled ? ICONS.blank : ICONS.drag} .label=${text} .scale=${scale} slot=trigger .text=${text} title=${text ?? nothing}></calcite-action>${this.renderGroup()}${this.renderMoveToGroup()}</calcite-dropdown>` });\n  }\n  renderMoveToItem(moveToItem) {\n    return keyed(moveToItem.id, html`<calcite-dropdown-item data-id=${moveToItem.id ?? nothing} .label=${moveToItem.label} @calciteDropdownItemSelect=${this.handleMoveTo}>${moveToItem.label}</calcite-dropdown-item>`);\n  }\n  renderGroup() {\n    return this.hasSetInfo ? keyed(\"reorder\", html`<calcite-dropdown-group .groupTitle=${this.messages.reorder} .scale=${this.scale} selection-mode=none>${this.renderTop()}${this.renderUp()}${this.renderDown()}${this.renderBottom()}</calcite-dropdown-group>`) : null;\n  }\n  renderMoveToGroup() {\n    const { messages, moveToItems, scale } = this;\n    return moveToItems.length ? keyed(\"move-to-items\", html`<calcite-dropdown-group .groupTitle=${messages.moveTo} .scale=${scale} selection-mode=none>${moveToItems.map((moveToItem) => this.renderMoveToItem(moveToItem))}</calcite-dropdown-group>`) : null;\n  }\n  renderDropdownItem(positionIndex, label) {\n    return keyed(REORDER_VALUES[positionIndex], html`<calcite-dropdown-item data-value=${REORDER_VALUES[positionIndex] ?? nothing} .label=${label} @calciteDropdownItemSelect=${this.handleReorder}>${label}</calcite-dropdown-item>`);\n  }\n  renderTop() {\n    const { setPosition } = this;\n    return setPosition !== 1 && setPosition !== 2 ? this.renderDropdownItem(0, this.messages.moveToTop) : null;\n  }\n  renderUp() {\n    return this.setPosition !== 1 ? this.renderDropdownItem(1, this.messages.moveUp) : null;\n  }\n  renderDown() {\n    return this.setPosition !== this.setSize ? this.renderDropdownItem(2, this.messages.moveDown) : null;\n  }\n  renderBottom() {\n    const { setPosition, setSize } = this;\n    return setPosition !== setSize && setPosition !== setSize - 1 ? this.renderDropdownItem(3, this.messages.moveToBottom) : null;\n  }\n}\ncustomElement(\"calcite-sort-handle\", SortHandle);\nexport {\n  SortHandle\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { css } from \"@lit/reactive-element/css-tag.js\";\nconst styles = css`:host(.calcite-sortable--ghost){position:relative;overflow:hidden}:host(.calcite-sortable--ghost):before{content:\"\";position:absolute;inset-block:0px;inset-inline-start:0px;inset-inline-end:0px;z-index:var(--calcite-z-index);box-sizing:border-box;border-width:1px;border-style:dashed;border-color:var(--calcite-color-brand);background-color:var(--calcite-color-foreground-2)}:host(.calcite-sortable--drag){--tw-shadow: 0 6px 20px -4px rgba(0, 0, 0, .1), 0 4px 12px -2px rgba(0, 0, 0, .08);--tw-shadow-colored: 0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}`;\nexport {\n  styles as s\n};\n"],"names":["CSS","ICONS","SUBSTITUTIONS","REORDER_VALUES","styles","css","SortHandle","LitElement","useT9n","defaultMenuPlacement","createEvent","setPosition","setSize","moveToItems","componentFocusable","changes","updateHostInteraction","el","label","messages","formattedLabel","event","id","moveTo","item","disabled","flipPlacements","open","overlayPositioning","placement","scale","widthScale","text","isDisabled","InteractiveContainer","html","safeClassMap","ref","nothing","moveToItem","keyed","positionIndex","customElement"],"mappings":"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","x_google_ignoreList":[0,1]}