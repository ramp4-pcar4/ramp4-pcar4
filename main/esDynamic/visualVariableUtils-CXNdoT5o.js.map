{"version":3,"file":"visualVariableUtils-CXNdoT5o.js","sources":["../../node_modules/@arcgis/core/renderers/visualVariables/support/sizeVariableUtils.js","../../node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar n,i;function e(n){return n&&\"esri.renderers.visualVariables.SizeVariable\"===n.declaredClass}function l(n){return null!=n&&!isNaN(n)&&isFinite(n)}function t(i){return i.valueExpression?n.Expression:i.field&&\"string\"==typeof i.field?n.Field:n.Unknown}function a(e,l){const a=l||t(e),o=e.valueUnit||\"unknown\";return a===n.Unknown?i.Constant:e.stops?i.Stops:null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?i.ClampedLinear:\"unknown\"===o?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?i.Proportional:i.Additive:i.Identity:i.RealWorldSize}!function(n){n.Unknown=\"unknown\",n.Expression=\"expression\",n.Field=\"field\"}(n||(n={})),function(n){n.Unknown=\"unknown\",n.Stops=\"stops\",n.ClampedLinear=\"clamped-linear\",n.Proportional=\"proportional\",n.Additive=\"additive\",n.Constant=\"constant\",n.Identity=\"identity\",n.RealWorldSize=\"real-world-size\"}(i||(i={}));export{n as InputValueType,i as TransformationType,t as getInputValueType,a as getTransformationType,e as isSizeVariable,l as isValidNumber};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import n from\"../../../Graphic.js\";import{neverReached as a}from\"../../../core/compilerUtils.js\";import i from\"../../../core/Logger.js\";import{meterIn as t}from\"../../support/lengthUtils.js\";import{InputValueType as r,isValidNumber as l,TransformationType as s,isSizeVariable as o}from\"./sizeVariableUtils.js\";const c=()=>i.getLogger(\"esri.renderers.visualVariables.support.visualVariableUtils\"),u=e=>c().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),f=()=>c().error(\"Use of arcade expressions requires an arcade context\"),p=new n,d=Math.PI,v=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i;function m(n,a,i){const t=\"visualVariables\"in n&&n.visualVariables?n.visualVariables.find((e=>\"color\"===e.type)):n;if(!t)return;if(\"esri.renderers.visualVariables.ColorVariable\"!==t.declaredClass)return void u(\"ColorVariable\");const r=\"number\"==typeof a,s=r?null:a,o=s?.attributes;let c=r?a:null;const p=t.field,{ipData:d,hasExpression:v}=t.cache;let m=t.cache.compiledFunc;if(!p&&!v){const e=t.stops;return e&&e[0]&&e[0].color}if(\"number\"!=typeof c)if(v){if(null==i?.arcade)return void f();const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},n=i.arcade.arcadeUtils,a=n.getViewInfo(e),r=n.createExecContext(s,a,i.timeZone);if(!m){const e=n.createSyntaxTree(t.valueExpression);m=n.createFunction(e),t.cache.compiledFunc=m}c=n.executeFunction(m,r)}else o&&(c=o[p]);const b=t.normalizationField,h=null!=o&&null!=b?parseFloat(o[b]):void 0;if(null!=c&&(!b||r||!isNaN(h)&&0!==h)){l(h)&&!r&&(c/=h);const n=T(c,d);if(n){const a=n[0],r=n[1],l=a===r?t.stops[a].color:e.blendColors(t.stops[a].color,t.stops[r].color,n[2],null!=i?i.color:void 0);return new e(l)}}}function b(e,n,a){const i=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"opacity\"===e.type)):e;if(!i)return;if(\"esri.renderers.visualVariables.OpacityVariable\"!==i.declaredClass)return void u(\"OpacityVariable\");const t=\"number\"==typeof n,r=t?null:n,s=r?.attributes;let o=t?n:null;const c=i.field,{ipData:p,hasExpression:d}=i.cache;let v=i.cache.compiledFunc;if(!c&&!d){const e=i.stops;return e&&e[0]&&e[0].opacity}if(\"number\"!=typeof o)if(d){if(null==a?.arcade)return void f();const e={viewingMode:a.viewingMode,scale:a.scale,spatialReference:a.spatialReference},n=a.arcade.arcadeUtils,t=n.getViewInfo(e),l=n.createExecContext(r,t,a.timeZone);if(!v){const e=n.createSyntaxTree(i.valueExpression);v=n.createFunction(e),i.cache.compiledFunc=v}o=n.executeFunction(v,l)}else s&&(o=s[c]);const m=i.normalizationField,b=null!=s&&null!=m?parseFloat(s[m]):void 0;if(null!=o&&(!m||t||!isNaN(b)&&0!==b)){l(b)&&!t&&(o/=b);const e=T(o,p);if(e){const n=e[0],a=e[1];if(n===a)return i.stops[n].opacity;{const t=i.stops[n].opacity;return t+(i.stops[a].opacity-t)*e[2]}}}}function h(e,n,a){const i=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"rotation\"===e.type)):e;if(!i)return;if(\"esri.renderers.visualVariables.RotationVariable\"!==i.declaredClass)return void u(\"RotationVariable\");const t=i.axis||\"heading\",r=\"heading\"===t&&\"arithmetic\"===i.rotationType?90:0,l=\"heading\"===t&&\"arithmetic\"===i.rotationType?-1:1,s=\"number\"==typeof n?null:n,o=s?.attributes,c=i.field,{hasExpression:p}=i.cache;let d=i.cache.compiledFunc,v=null;if(!c&&!p)return v;if(p){if(null==a?.arcade)return void f();const e={viewingMode:a.viewingMode,scale:a.scale,spatialReference:a.spatialReference},n=a.arcade.arcadeUtils,t=n.getViewInfo(e),r=n.createExecContext(s,t,a.timeZone);if(!d){const e=n.createSyntaxTree(i.valueExpression);d=n.createFunction(e),i.cache.compiledFunc=d}v=n.executeFunction(d,r)}else o&&(v=o[c]);return v=\"number\"!=typeof v||isNaN(v)?null:r+l*v,v}function V(e,n,a){const i=\"number\"==typeof n,t=i?null:n,s=t?.attributes;let o=i?n:null;const{isScaleDriven:c}=e.cache;let u=e.cache.compiledFunc;if(c){const n=null!=a?a.scale:void 0,i=null!=a?a.view:void 0;o=null==n||\"3d\"===i?x(e):n}else if(!i)switch(e.inputValueType){case r.Expression:{if(null==a?.arcade)return void f();const n={viewingMode:a.viewingMode,scale:a.scale,spatialReference:a.spatialReference},i=a.arcade.arcadeUtils,r=i.getViewInfo(n),l=i.createExecContext(t,r,a.timeZone);if(!u){const n=i.createSyntaxTree(e.valueExpression);u=i.createFunction(n),e.cache.compiledFunc=u}o=i.executeFunction(u,l);break}case r.Field:s&&(o=s[e.field]);break;case r.Unknown:o=null}if(!l(o))return null;if(i||!e.normalizationField)return o;const p=s?parseFloat(s[e.normalizationField]):null;return l(p)&&0!==p?o/p:null}function x(e){let n=null,a=null;const i=e.stops;return i?(n=i[0].value,a=i[i.length-1].value):(n=e.minDataValue||0,a=e.maxDataValue||0),(n+a)/2}function y(e,n,a){const i=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"size\"===e.type)):e;if(!i)return;if(\"esri.renderers.visualVariables.SizeVariable\"!==i.declaredClass)return void u(\"SizeVariable\");const t=R(V(i,n,a),i,n,a,i.cache.ipData);return null==t||isNaN(t)?void 0:t}function g(e,n,a){return null==e?null:o(e)?y(e,n,a):l(e)?e:null}function w(e,n,a){return l(a)&&e>a?a:l(n)&&e<n?n:e}function z(e,n,a,i){const t=g(n.minSize,a,i)||n.minDataValue;return null==e&&null==t?null:(e??0)+(t??0)}function F(e,n,a){const i=e.stops;let t=i?.length&&i[0].size;return null==t&&(t=e.minSize),g(t,n,a)}function S(e,n,a,i){const t=g(n.minSize,a,i);if(null==e)return t;const{minDataValue:r,maxDataValue:l}=n;if(null==r||null==l)return null;const s=(e-r)/(l-r),o=g(n.maxSize,a,i),c=null!=i?i.shape:void 0;if(e<=r)return t;if(e>=l)return o;if(null==t||null==o)return null;if(\"area\"===n.scaleBy&&c){const e=\"circle\"===c,n=e?d*(t/2)**2:t*t,a=n+s*((e?d*(o/2)**2:o*o)-n);return e?2*Math.sqrt(a/d):Math.sqrt(a)}return t+s*(o-t)}function E(e,n,a,i){const t=g(n.minSize,a,i);if(null==e||null==t)return t;const r=null!=i?i.shape:void 0,{minDataValue:l}=n;if(null==l)return null;const s=e/l,o=g(n.maxSize,a,i);let c=null;return c=\"circle\"===r?2*Math.sqrt(s*(t/2)**2):\"square\"===r||\"diamond\"===r||\"image\"===r?Math.sqrt(s*t**2):s*t,w(c,t,o)}function C(e,n,a,i,t){if(null==e)return null;const[r,l,s]=T(e,t);if(r===l)return g(n.stops?.[r].size,a,i);{const e=g(n.stops?.[r].size,a,i),t=g(n.stops?.[l].size,a,i);return null==e||null==t?null:e+(t-e)*s}}function M(e,n,a,i){const r=(i?.resolution??1)*t[n.valueUnit],l=g(n.minSize,a,i),s=g(n.maxSize,a,i),{valueRepresentation:o}=n;if(null==e)return l;let c=null;return c=\"area\"===o?2*Math.sqrt(e/d)/r:\"radius\"===o||\"distance\"===o?2*e/r:e/r,w(c,l,s)}function k(e){return e}function R(e,n,a,i,t){switch(n.transformationType){case s.Additive:return z(e,n,a,i);case s.Constant:return F(n,a,i);case s.ClampedLinear:return S(e,n,a,i);case s.Proportional:return E(e,n,a,i);case s.Stops:return C(e,n,a,i,t);case s.RealWorldSize:return M(e,n,a,i);case s.Identity:return k(e);case s.Unknown:return null}}function U(e,n,a){const{isScaleDriven:i}=e.cache;if(!(i&&\"3d\"===a||n))return null;const t={scale:n,view:a};let r=g(e.minSize,p,t),l=g(e.maxSize,p,t);if(null!=r||null!=l){if(r>l){const e=l;l=r,r=e}return{minSize:r,maxSize:l}}}function D(e,n,a){if(!e.visualVariables)return;const i=[],t=[],r=[],l=[],s=[];for(const o of e.visualVariables)switch(o.type){case\"color\":t.push(o);break;case\"opacity\":r.push(o);break;case\"rotation\":s.push(o);break;case\"size\":l.push(o)}return t.forEach((e=>{const t=m(e,n,a);i.push({variable:e,value:t})})),r.forEach((e=>{const t=b(e,n,a);i.push({variable:e,value:t})})),s.forEach((e=>{const t=h(e,n,a);i.push({variable:e,value:t})})),l.forEach((e=>{const t=y(e,n,a);i.push({variable:e,value:t})})),i}function T(e,n){if(!n)return;let a=0,i=n.length-1;return n.some(((n,t)=>e<n?(i=t,!0):(a=t,!1))),[a,i,(e-n[a])/(n[i]-n[a])]}function N(e,n,i){const t=[\"proportional\",\"proportional\",\"proportional\"];for(const r of e){const e=r.useSymbolValue?\"symbol-value\":y(r,n,i)??\"proportional\";switch(r.axis){case\"width\":t[0]=e;break;case\"depth\":t[1]=e;break;case\"height\":t[2]=e;break;case\"width-and-depth\":t[0]=e,t[1]=e;break;case\"all\":case void 0:case null:t[0]=e,t[1]=e,t[2]=e;break;default:a(r.axis)}}return t}export{N as getAllSizes,m as getColor,b as getOpacity,h as getRotationAngle,y as getSize,R as getSizeForValue,g as getSizeFromNumberOrVariable,U as getSizeRangeAtScale,D as getVisualVariableValues,v as viewScaleRE};\n"],"names":["n","i","e","l","t","a","o","c","u","f","p","d","v","m","r","s","b","h","T","V","x","y","R","g","w","z","F","S","E","C","M","U","D","N"],"mappings":"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","x_google_ignoreList":[0,1]}