import{c3 as M,c4 as R,c8 as j,c9 as h,ch as x,fo as l,cg as b,ce as r,cd as $,fn as H,cf as N,cb as k,hr as z,hS as A,hF as T,ht as D,hu as U,hv as q,c5 as F,hR as K,c6 as G,fp as g,hT as W,hO as J,fs as P,c7 as Q,ca as L,cc as X,hU as Y,hV as Z,hH as ee,hG as te,cj as ne,ci as oe,hW as se}from"./main-8eb577c9.js";import{m as y}from"./marked.esm-cdc2cd67.js";const ae=a=>(D("data-v-7ed25f56"),a=a(),U(),a),le={key:0},ie=["content"],re={class:"text-lg text-left flex-grow"},ce=ae(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[l("path",{d:"M0 0h24v24H0V0z",fill:"none"}),l("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)),pe=[ce],de=["innerHTML"],he=M({__name:"section",props:{helpSection:{type:Object,required:!0}},setup(a){const{t:w}=R();return(_,i)=>{const u=j("tippy");return a.helpSection.drawn?(h(),x("div",le,[l("div",null,[b((h(),x("button",{type:"button",class:"help-section-header flex items-center py-15 px-25 hover:bg-gray-200 cursor-pointer select-none w-full",onClick:i[0]||(i[0]=c=>_.$emit("expand")),content:r(w)(a.helpSection.expanded?"help.section.collapse":"help.section.expand")},[l("span",re,$(a.helpSection.header),1),l("div",{class:H(["dropdown-icon",{"transform -rotate-180":a.helpSection.expanded}])},pe,2)],8,ie)),[[u,{placement:"top-end",hideOnClick:!1}]]),N(A,{name:"help-item",mode:"out-in"},{default:k(()=>[b(l("div",{innerHTML:a.helpSection.info,class:"ramp-markdown section-body px-20 pt-5 ml-10 overflow-hidden"},null,8,de),[[z,a.helpSection.expanded]])]),_:1})])])):T("",!0)}}});const ue=q(he,[["__scopeId","data-v-7ed25f56"]]),fe={class:"h-26 mb-8 mx-8"},me=["placeholder","aria-label"],ve={key:0},we=M({__name:"screen",props:{panel:{type:Object,required:!0}},setup(a){const w=F("iApi"),_=K(),{t:i}=R(),u=G(()=>_.location),c=g([]),S=g([]),C=g([]),E=g(!1);let f,m;function B(e,o){const t=o.info.split(/(<[^>]*>)/);for(const[n,s]of t.entries())if(n%2===0&&s.toLowerCase().indexOf(e.toLowerCase())>-1)return!0;return!1}function I(e,o){const n=S.value[o].split(/(<[^>]*>)/);let s="";for(const[v,p]of n.entries())v%2===0?s+=p.replace(new RegExp(e,"gi"),d=>`<mark>${d}</mark>`):s+=p;c.value[o].info=s}function O(e,o){f=0,o.forEach((t,n)=>{t.info=S.value[n],t.drawn=B(e,t)||t.header.toLowerCase().indexOf(e.toLowerCase())>-1,f=t.drawn?f+1:f,t.expanded=t.drawn&&e.length>2,t.drawn&&e.length>2&&I(e,n)}),E.value=f===0}function V(e){e.expanded=!e.expanded}return W(()=>{C.value.push(J(()=>w.language,(e,o)=>{if(e===o)return;const t=new y.Renderer,n=u.value.slice(-1)==="/"?u.value:`${u.value}/`;t.image=(s,v,p)=>(s.indexOf("http")===-1&&(s=`${n}images/`+s),`<img src="${s}" alt="${p}">`),se.get(`${n}${e}.md`).then(s=>{const v=/^#\s(.*)\n{2}(?:.+|\n(?!\n{2,}))*/gm;let p=s.data.replace(new RegExp(String.fromCharCode(13),"g"),"");c.value=[];let d;for(;d=v.exec(p);)c.value.push({header:d[1],info:y(d[0].split(`
`).splice(2).join(`
`),{renderer:t}),drawn:!0,expanded:!1}),S.value.push(y(d[0].split(`
`).splice(2).join(`
`),{renderer:t}))})},{immediate:!0}))}),P(()=>{C.value.forEach(e=>e())}),(e,o)=>{const t=Q("panel-screen");return h(),L(t,{panel:a.panel},{header:k(()=>[X($(r(i)("help.title")),1)]),content:k(()=>[l("div",fe,[b(l("input",{type:"search",class:"rv-help-search-bar border-b w-full text-base py-8 outline-none focus:shadow-outline border-gray-600 h-full min-w-0",placeholder:r(i)("help.search"),"onUpdate:modelValue":o[0]||(o[0]=n=>Z(m)?m.value=n:m=n),"aria-label":r(i)("help.search"),onInput:o[1]||(o[1]=n=>O(r(m),c.value)),onKeypress:o[2]||(o[2]=ee(te(()=>{},["prevent"]),["enter"])),enterkeyhint:"done"},null,40,me),[[Y,r(m)]])]),E.value?(h(),x("div",ve,[l("p",null,$(r(i)("help.noResults")),1)])):T("",!0),(h(!0),x(oe,null,ne(c.value,(n,s)=>(h(),L(ue,{helpSection:n,key:s,onExpand:v=>V(n)},null,8,["helpSection","onExpand"]))),128))]),_:1},8,["panel"])}}});export{we as _};
