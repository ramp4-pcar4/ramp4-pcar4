{"version":3,"file":"FeatureCommandQueue-DyM-K0nh.js","sources":["../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/Technique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/dotDensity/DotDensityPointShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/dotDensity/DotDensityPolygonShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/meshing/definitions.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/meshing/Mesh.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/meshing/SimpleMesh.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/dotDensity/DotDensityResources.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/dotDensity/DotDensityTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/fill/ComplexFillTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/line/utils.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/fill/ComplexOutlineFillTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/fill/FillTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/fill/OutlineFillTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/fill/PatternFillTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/fill/PatternOutlineFillTechnique.js","../../node_modules/@arcgis/core/views/webgl/heatmapTextureUtils.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/heatmap/HeatmapResources.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/heatmapUtils.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/HeatmapAccumulateShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/HeatmapResolveShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/heatmap/HeatmapTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/VisualVariableRotation.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/text/TextShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/labels/LabelTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/line/LineTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/TexturedLineShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/line/TexturedLineTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/markers/MarkerShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/markers/MarkerTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/GLSLShaderModule.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/pieChart/PieChartShader.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/pieChart/PieChartTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/text/TextTechnique.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/TechniqueRegistry.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/schemaUtils.js","../../node_modules/@arcgis/core/views/2d/layers/features/support/rendererUtils.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/VisualVariablesSchema.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/symbols/utils.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/symbols/ComplexSymbolSchema.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/StorageSchema.js","../../node_modules/@arcgis/core/views/2d/layers/support/FeatureCommandQueue.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as s,FeatureSymbologyDrawOrder as t}from\"../../enums.js\";class e{constructor(e){this.registryName=e,this.postProcessingEnabled=!1,this.overrideStencilRef=null,this.drawPhase=s.MAP|s.HITTEST|s.HIGHLIGHT|s.DEBUG,this.symbologyPlane=t.FILL}startup(){}shutdown(s){}postProcess(s,t){}}export{e as Technique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t,a as o}from\"../../../../../../../chunks/tslib.es6.js\";import{tileSize as e}from\"../../../definitions.js\";import{VertexInput as i,location as s,UniformGroup as r,uniform as d,GraphShaderModule as n,FragmentOutput as a,input as l}from\"../../GraphShaderModule.js\";import{Mat3 as p,Vec3 as m,texture2D as c,max as y,Float as v,step as w,Vec4 as u,length as h,smoothstep as x,Vec2 as g,Sampler2D as f}from\"../../graph/glsl.js\";import{FeatureFragmentInput as S}from\"../shaders/AFeatureShader.js\";import{ViewInfo as j}from\"../shaders/ViewInfo.js\";class z extends i{}t([s(0,g)],z.prototype,\"pos\",void 0);class F extends S{}class R extends r{}t([d(v)],R.prototype,\"dotSize\",void 0);class b extends r{}t([d(f)],b.prototype,\"locations\",void 0),t([d(v)],b.prototype,\"pixelRatio\",void 0),t([d(v)],b.prototype,\"tileZoomFactor\",void 0);const P=1e-6;class C extends n{vertex(t){const o=new p(1,0,0,0,-1,0,0,1,1).multiply(new m(t.pos.xy.divide(e),1)),i=c(this.draw.locations,o.xy),s=y(this.instance.dotSize.divide(2),new v(1));let r=new v(0);r=r.add(w(i.a,new v(P)).multiply(2));let d=s.add(this.instance.dotSize);const n=this.view.displayViewScreenMat3.multiply(new m(t.pos.add(.5),1)),a=new u(n.xy,r,1),l=this.instance.dotSize.divide(d),h=new v(-1).divide(s.divide(d));return d=d.multiply(this.draw.pixelRatio.multiply(this.draw.tileZoomFactor)),{glPosition:a,glPointSize:d,color:i,ratio:l,invEdgeRatio:h}}fragment(t){const o=h(t.glPointCoord.subtract(.5)).multiply(2),e=x(new v(0),new v(1),t.invEdgeRatio.multiply(o.subtract(t.ratio)).add(1)),i=new a;return i.glFragColor=t.color.multiply(e),i}}t([d(R)],C.prototype,\"instance\",void 0),t([d(b)],C.prototype,\"draw\",void 0),t([d(j)],C.prototype,\"view\",void 0),t([o(0,l(z))],C.prototype,\"vertex\",null),t([o(0,l(F))],C.prototype,\"fragment\",null);export{b as DotDensityPointDrawUniforms,F as DotDensityPointFragmentInput,R as DotDensityPointInstanceUniforms,C as DotDensityPointShader,z as DotDensityPointVertexInput};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t,a as e}from\"../../../../../../../chunks/tslib.es6.js\";import{tileSize as o}from\"../../../definitions.js\";import{uniform as s,location as i,UniformGroup as r,define as l,FragmentOutput as d,input as a}from\"../../GraphShaderModule.js\";import{FixedArray as n,Vec4 as p,Mat3 as h,Vec3 as c,texture2D as u,Mat4 as m,step as y,Float as v,dot as w,max as x,Sampler2D as f}from\"../../graph/glsl.js\";import{FeatureVertexInput as g,FeatureFragmentInput as A,AFeatureShader as T}from\"../shaders/AFeatureShader.js\";import{failHittest as b}from\"../shaders/hittestUtils.js\";import{max4 as j}from\"../shaders/utils.js\";class D extends g{}t([i(3,v)],D.prototype,\"inverseArea\",void 0);class C extends A{}class V extends r{}t([s(n.ofType(p,2))],V.prototype,\"isActive\",void 0),t([s(n.ofType(p,8))],V.prototype,\"colors\",void 0),t([s(v)],V.prototype,\"dotValue\",void 0);class F extends r{}t([s(f)],F.prototype,\"dotTexture0\",void 0),t([s(f)],F.prototype,\"dotTexture1\",void 0),t([s(v)],F.prototype,\"tileZoomFactor\",void 0),t([s(v)],F.prototype,\"pixelRatio\",void 0),t([s(v)],F.prototype,\"tileDotsOverArea\",void 0);class _ extends T{_dotThreshold(t,e,o){return t.divide(e).divide(o)}vertex(t){const e=new h(2/o,0,0,0,-2/o,0,-1,1,1).multiply(new c(t.pos,1)),s=this.clip(t.id),i=new p(e.xy,s,1),r=this.storage.getVVData(t.id).multiply(this.instance.isActive.get(0)).multiply(t.inverseArea),l=this.storage.getDataDrivenData0(t.id).multiply(this.instance.isActive.get(1)).multiply(t.inverseArea),d=this.draw.tileZoomFactor.multiply(o).divide(this.draw.pixelRatio),a=this._dotThreshold(r,this.instance.dotValue,this.draw.tileDotsOverArea),n=this._dotThreshold(l,this.instance.dotValue,this.draw.tileDotsOverArea),u=t.pos.add(.5).divide(d);return{glPosition:i,color:new p(0,0,0,0),textureCoords:u,thresholds0:a,thresholds1:n}}fragment(t){const e=new d,o=u(this.draw.dotTexture0,t.textureCoords),s=u(this.draw.dotTexture1,t.textureCoords),i=t.thresholds0.subtract(o),r=t.thresholds1.subtract(s);let l;const a=m.fromColumns(this.instance.colors[0],this.instance.colors[1],this.instance.colors[2],this.instance.colors[3]),n=m.fromColumns(this.instance.colors[4],this.instance.colors[5],this.instance.colors[6],this.instance.colors[7]);if(this.blending){const t=y(new v(0),i),e=y(new v(0),r),o=w(t,i).add(w(e,r)),s=y(o,new v(0)),d=new v(1).subtract(s),p=o.add(s),h=i.multiply(t).divide(p),c=r.multiply(e).divide(p),u=a.multiply(h).add(n.multiply(c));l=d.multiply(u)}else{const t=x(j(i),j(r)),e=y(t,new v(0)),o=new v(1).subtract(e),s=y(t,i),d=y(t,r),p=a.multiply(s).add(n.multiply(d));l=o.multiply(p)}return e.glFragColor=l,e}hittest(t){return b(this.hittestRequest)}}t([l],_.prototype,\"blending\",void 0),t([s(V)],_.prototype,\"instance\",void 0),t([s(F)],_.prototype,\"draw\",void 0),t([e(0,a(D))],_.prototype,\"vertex\",null),t([e(0,a(A))],_.prototype,\"fragment\",null);export{F as DotDensityPolygonDrawUniforms,C as DotDensityPolygonFragmentInput,V as DotDensityPolygonInstanceUniforms,_ as DotDensityPolygonShader,D as DotDensityPolygonVertexInput};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{DataType as N}from\"../../../../webgl/enums.js\";const T={[N.BYTE]:1,[N.UNSIGNED_BYTE]:1,[N.SHORT]:2,[N.UNSIGNED_SHORT]:2,[N.INT]:4,[N.UNSIGNED_INT]:4,[N.FLOAT]:4};export{T as dataSizeInBytes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{dataSizeInBytes as t}from\"./definitions.js\";import{BufferObject as r}from\"../../../../webgl/BufferObject.js\";import{Usage as o,DataType as e}from\"../../../../webgl/enums.js\";import{VertexArrayObject as s}from\"../../../../webgl/VertexArrayObject.js\";import{VertexElementDescriptor as n}from\"../../../../webgl/VertexElementDescriptor.js\";class i{constructor(t,i){this._boundPart=null;const a=[];for(const e of i.vertex){const s=r.createVertex(t,o.STATIC_DRAW,e);a.push(s)}const u=[];for(const e of i.index||[]){const s=r.createIndex(t,o.STATIC_DRAW,e);u.push(s)}this.groups=[];for(const r of i.groups){let o;if(null!=r.index){if(!i.index)throw new Error(\"No index data.\");const{BYTES_PER_ELEMENT:t}=i.index[r.index];2===t?o=e.UNSIGNED_SHORT:4===t&&(o=e.UNSIGNED_INT)}const d=null!=r.index?u[r.index]:null,c=new Map,l={},p={};for(const t of r.attributes){const{name:r,count:o,type:e,offset:s,normalized:i,divisor:u,stride:d,vertex:f,location:h}=t,b=`vertex-buffer-${f}`;let x=l[b];x||(x=l[b]=[]);const m=new n(r,o,e,s,d,i,u);x.push(m),c.set(r,h),p[b]=a[f]}const f=new s(t,c,l,p,d);this.groups.push({...r,vertexArray:f,locations:c,layout:l,indexing:o})}this.parts=i.parts}bind(t,r){this._boundPart=r;const{group:o}=this.parts[this._boundPart],{vertexArray:e}=this.groups[o];t.bindVAO(e)}draw(r){if(null==this._boundPart)throw new Error(\"Mesh.bind() has not been called.\");const{start:o,count:e}=this.parts[this._boundPart],{group:s}=this.parts[this._boundPart],{indexing:n,primitive:i}=this.groups[s];n?r.drawElements(i,e,n,o*t[n]):r.drawArrays(i,o,e)}unbind(t){this._boundPart=null,t.bindVAO(null)}destroy(){for(const{vertexArray:t}of this.groups)t.dispose()}}export{i as Mesh};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{dataSizeInBytes as t}from\"./definitions.js\";import{Mesh as e}from\"./Mesh.js\";import{vertexLayoutHash as i}from\"../shaderGraph/techniques/mesh/utils.js\";class r extends e{static create(e,o){const n=[];let{stride:s,hash:l}=o.layout;if(null==s){s=0;for(const{count:e,type:i,offset:r}of o.layout.attributes){if(null!=r)throw new Error(\"Stride cannot be computed automatically when attribute offsets are supplied explicitly.\");s+=e*t[i]}}let u=0,a=0;for(const{count:i,name:r,offset:h,type:m,normalized:x}of o.layout.attributes){null!=h&&(a=h);const e={name:r,location:u,vertex:0,count:i,type:m,offset:a,stride:s,divisor:0,normalized:null!=x&&x};n.push(e),u++,a+=i*t[m]}const c={attributes:n,primitive:o.primitive};null!=o.index&&(c.index=0);let{count:d}=o;if(null==d&&(d=o.index?o.index.length:o.vertex.byteLength/s,Math.floor(d)!==d))throw new Error(`The byte length of vertex data must be an exact multiple of the stride, which is ${s}.`);const p={start:0,count:d,group:0,primitive:o.primitive},f={vertex:[o.vertex],parts:[p],groups:[c]};null!=o.index&&(f.index=[o.index]),null==l&&(l=i(n));return new r(e,f,{hash:l,attributes:n,stride:s})}constructor(t,e,i){super(t,e),this.layout=i}bind(t,e=0){super.bind(t,e)}}export{r as SimpleMesh};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../../../core/RandomLCG.js\";import{tileSize as e}from\"../../../definitions.js\";import{SimpleMesh as s}from\"../../../meshing/SimpleMesh.js\";import{vertexLayoutHash as o}from\"../mesh/utils.js\";import{TextureSamplingMode as r,TextureWrapMode as i,RenderbufferFormat as n,DataType as h,PrimitiveType as d,PixelType as u}from\"../../../../../../webgl/enums.js\";import{FramebufferObject as l}from\"../../../../../../webgl/FramebufferObject.js\";import{Renderbuffer as _}from\"../../../../../../webgl/Renderbuffer.js\";import{RenderbufferDescriptor as m}from\"../../../../../../webgl/RenderbufferDescriptor.js\";import{Texture as T}from\"../../../../../../webgl/Texture.js\";import{TextureDescriptor as f}from\"../../../../../../webgl/TextureDescriptor.js\";class p{constructor(){this._dotTextureSize=0,this._dotTextures=null,this._dotMesh=null}destroy(){this._disposeTextures(),this._dotFBO&&this._dotFBO.dispose(),this._dotMesh&&this._dotMesh.destroy()}getFBO(t){if(null==this._dotFBO){const s=e,o=e,h=new f(s,o);h.samplingMode=r.NEAREST,h.wrapMode=i.CLAMP_TO_EDGE;const d=new _(t,new m(n.DEPTH_STENCIL,s,o));this._dotFBO=new l(t,h,d)}return this._dotFBO}getDotDensityMesh(t){if(null==this._dotMesh){const r=e,i=r*r,n=2,u=new Int16Array(i*n);for(let t=0;t<r;t++)for(let e=0;e<r;e++)u[n*(e+t*r)]=e,u[n*(e+t*r)+1]=t;const l=[{count:2,type:h.UNSIGNED_SHORT,name:\"a_position\",offset:0}],_={hash:o(l),attributes:l,stride:4};this._dotMesh=s.create(t,{primitive:d.POINTS,vertex:u,count:i,layout:_})}return this._dotMesh}getDotDensityTextures(e,s,o){if(this._dotTextureSize===s&&this._seed===o||(this._disposeTextures(),this._dotTextureSize=s,this._seed=o),null===this._dotTextures){const r=new t(o);this._dotTextures=[this._allocDotDensityTexture(e,s,r),this._allocDotDensityTexture(e,s,r)]}return this._dotTextures}_disposeTextures(){if(this._dotTextures){for(let t=0;t<this._dotTextures.length;t++)this._dotTextures[t].dispose();this._dotTextures=null}}_allocDotDensityTexture(t,e,s){const o=new Float32Array(e*e*4);for(let r=0;r<o.length;r++)o[r]=s.getFloat();const i=new f;return i.dataType=u.FLOAT,i.samplingMode=r.NEAREST,i.width=e,i.height=e,new T(t,i,o)}}export{p as DotDensityResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{tileSize as e,textureBindingRenderer0 as t,textureBindingRenderer1 as i}from\"../../../definitions.js\";import{isHighlight as o,isHittest as r,getFeatureUniforms as s,getSelectionDefines as n,getFeaturePipelineState as a,getViewUniforms as l}from\"../featureTechniqueUtils.js\";import{Technique as d}from\"../Technique.js\";import{DotDensityPointShader as u}from\"./DotDensityPointShader.js\";import{DotDensityPolygonShader as c}from\"./DotDensityPolygonShader.js\";import{DotDensityResources as h}from\"./DotDensityResources.js\";import{meshWriterRegistry as p}from\"../mesh/MeshWriterRegistry.js\";import{FillShader as m}from\"../shaders/FillShader.js\";import{ClearBufferBit as w}from\"../../../../../../webgl/enums.js\";class f extends d{constructor(){super(...arguments),this.shaders={polygon:new c,point:new u,fill:new m},this.meshWriter=p.DotDensityMeshWriter,this._resources=new Map}render(e,t){o(e)||r(e)?this._renderPolygons(e,t):this._renderDotDensity(e,t)}_renderPolygons(e,t){const{context:i,painter:o}=e;o.setShader({shader:this.shaders.fill,uniforms:{...s(e,t.target),visualVariableColor:null,visualVariableOpacity:null},defines:{...n(e)},optionalAttributes:{zoomRange:!1},useComputeBuffer:r(e)}),o.setPipelineState(a(e)),o.submitDraw(i,t)}_renderDotDensity(o,r){const{context:d,painter:u,requiredLevel:c}=o,h=r.instance.getInput(),p=this._getOrCreateResourcesRecord(d),m=p.getDotDensityTextures(d,e,h.seed),f=1/2**(c-r.target.key.level),g=e,x=g*window.devicePixelRatio*g*window.devicePixelRatio,D=1/f*(1/f),b=h.dotScale?o.state.scale/h.dotScale:1,y=h.dotValue*b*D;u.setShader({shader:this.shaders.polygon,uniforms:{...s(o,r.target),instance:{isActive:h.isActive,colors:h.colors,dotValue:Math.max(1,y)},draw:{dotTexture0:{unit:t,texture:m[0]},dotTexture1:{unit:i,texture:m[1]},tileZoomFactor:f,pixelRatio:window.devicePixelRatio,tileDotsOverArea:x/(e*window.devicePixelRatio*e*window.devicePixelRatio)}},defines:{...n(o),blending:h.blending},optionalAttributes:{},useComputeBuffer:!1}),u.setPipelineState(a(o));const R=d.getViewport();d.setViewport(0,0,e,e);const P=d.getBoundFramebufferObject(),S=p.getFBO(d);d.bindFramebuffer(S),d.setClearColor(0,0,0,0),u.setPipelineState({color:{write:[!0,!0,!0,!0],blendMode:\"composite\"},depth:!1,stencil:!1}),u.updatePipelineState(d),d.clear(w.COLOR_BUFFER_BIT),u.submitDraw(d,r),d.bindFramebuffer(P),d.setViewport(R.x,R.y,R.width,R.height);const v=p.getFBO(d).colorTexture;u.setShader({shader:this.shaders.point,uniforms:{view:l(o,r.target),instance:{dotSize:h.dotSize},draw:{locations:{unit:t,texture:v},tileZoomFactor:1,pixelRatio:window.devicePixelRatio}},defines:{...n(o)},optionalAttributes:{},useComputeBuffer:!1}),u.setPipelineState({color:{write:[!0,!0,!0,!0],blendMode:\"composite\"},depth:!1,stencil:!1}),u.submitDrawMesh(d,p.getDotDensityMesh(d))}shutdown(e){super.shutdown(e),this._resources.get(e)?.destroy(),this._resources.delete(e)}_getOrCreateResourcesRecord(e){let t=this._resources.get(e);return null==t&&(t=new h,this._resources.set(e,t)),t}}export{f as DotDensityTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{resolveDynamicUniforms as e,getFeatureUniforms as t,getLocalTileOffset as r,getSelectionDefines as s,isHittest as i,getFeaturePipelineState as o}from\"../featureTechniqueUtils.js\";import{Technique as a}from\"../Technique.js\";import{meshWriterRegistry as n}from\"../mesh/MeshWriterRegistry.js\";import{ComplexFillShader as m}from\"../shaders/ComplexFillShader.js\";class h extends a{constructor(){super(...arguments),this.meshWriter=n.ComplexFillMeshWriter,this.shaders={geometry:new m}}render(a,n){const{context:m,painter:h}=a;h.setShader({shader:this.shaders.geometry,uniforms:{...e(a,n.target,n.instance.getInput().geometry),...t(a,n.target),mosaicInfo:h.textureManager.getMosaicInfo(m,n.textureKey),localTileOffset:r(n.target)},defines:{...s(a)},optionalAttributes:n.instance.optionalAttributes,useComputeBuffer:i(a)}),h.setPipelineState(o(a)),h.submitDraw(m,n)}}export{h as ComplexFillTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nfunction n(n){const t=1/n;return{antialiasing:t,blur:0+t}}export{n as getAntialiasingControls};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{resolveDynamicUniforms as e,getFeatureUniforms as t,getLocalTileOffset as r,getSelectionDefines as s,isHittest as i,getFeaturePipelineState as o}from\"../featureTechniqueUtils.js\";import{Technique as n}from\"../Technique.js\";import{getAntialiasingControls as a}from\"../line/utils.js\";import{meshWriterRegistry as l}from\"../mesh/MeshWriterRegistry.js\";import{ComplexOutlineFillShader as m}from\"../shaders/ComplexOutlineFillShader.js\";class u extends n{constructor(){super(...arguments),this.meshWriter=l.ComplexOutlineFillMeshWriter,this.shaders={geometry:new m}}render(n,l){const{context:m,painter:u,pixelRatio:p}=n;u.setShader({shader:this.shaders.geometry,uniforms:{...e(n,l.target,l.instance.getInput().geometry),...t(n,l.target),antialiasingControls:a(p),mosaicInfo:u.textureManager.getMosaicInfo(m,l.textureKey),localTileOffset:r(l.target)},defines:{...s(n)},optionalAttributes:l.instance.optionalAttributes,useComputeBuffer:i(n)}),u.setPipelineState(o(n)),u.submitDraw(m,l)}}export{u as ComplexOutlineFillTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{resolveDynamicUniforms as e,getFeatureUniforms as t,getSelectionDefines as r,isHittest as s,getFeaturePipelineState as i}from\"../featureTechniqueUtils.js\";import{Technique as o}from\"../Technique.js\";import{meshWriterRegistry as n}from\"../mesh/MeshWriterRegistry.js\";import{FillShader as a}from\"../shaders/FillShader.js\";class m extends o{constructor(){super(...arguments),this.meshWriter=n.FillMeshWriter,this.shaders={geometry:new a}}render(o,n){const{context:a,painter:m}=o;m.setShader({shader:this.shaders.geometry,uniforms:{...e(o,n.target,n.instance.getInput().geometry),...t(o,n.target)},defines:r(o),optionalAttributes:n.instance.optionalAttributes,useComputeBuffer:s(o)}),m.setPipelineState(i(o)),m.submitDraw(a,n)}}export{m as FillTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{resolveDynamicUniforms as e,getFeatureUniforms as t,getSelectionDefines as r,isHittest as s,getFeaturePipelineState as i}from\"../featureTechniqueUtils.js\";import{Technique as o}from\"../Technique.js\";import{getAntialiasingControls as n}from\"../line/utils.js\";import{meshWriterRegistry as a}from\"../mesh/MeshWriterRegistry.js\";import{OutlineFillShader as m}from\"../shaders/OutlineFillShader.js\";class l extends o{constructor(){super(...arguments),this.meshWriter=a.OutlineFillMeshWriter,this.shaders={geometry:new m}}render(o,a){const{context:m,painter:l,pixelRatio:u}=o;l.setShader({shader:this.shaders.geometry,uniforms:{...e(o,a.target,a.instance.getInput().geometry),...t(o,a.target),antialiasingControls:n(u)},defines:{...r(o)},optionalAttributes:a.instance.optionalAttributes,useComputeBuffer:s(o)}),l.setPipelineState(i(o)),l.submitDraw(m,a)}}export{l as OutlineFillTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{resolveDynamicUniforms as e,getFeatureUniforms as t,getLocalTileOffset as r,getSelectionDefines as s,isHittest as i,getFeaturePipelineState as o}from\"../featureTechniqueUtils.js\";import{Technique as a}from\"../Technique.js\";import{meshWriterRegistry as n}from\"../mesh/MeshWriterRegistry.js\";import{PatternFillShader as m}from\"../shaders/PatternFillShader.js\";class h extends a{constructor(){super(...arguments),this.meshWriter=n.PatternFillMeshWriter,this.shaders={geometry:new m}}render(a,n){const{context:m,painter:h}=a;h.setShader({shader:this.shaders.geometry,uniforms:{...e(a,n.target,n.instance.getInput().geometry),...t(a,n.target),mosaicInfo:h.textureManager.getMosaicInfo(m,n.textureKey),localTileOffset:r(n.target)},defines:{...s(a)},optionalAttributes:n.instance.optionalAttributes,useComputeBuffer:i(a)}),h.setPipelineState(o(a)),h.submitDraw(m,n)}}export{h as PatternFillTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{resolveDynamicUniforms as e,getFeatureUniforms as t,getLocalTileOffset as r,getSelectionDefines as s,isHittest as i,getFeaturePipelineState as o}from\"../featureTechniqueUtils.js\";import{Technique as n}from\"../Technique.js\";import{getAntialiasingControls as a}from\"../line/utils.js\";import{meshWriterRegistry as l}from\"../mesh/MeshWriterRegistry.js\";import{PatternOutlineFillShader as m}from\"../shaders/PatternOutlineFillShader.js\";class u extends n{constructor(){super(...arguments),this.meshWriter=l.PatternOutlineFillMeshWriter,this.shaders={geometry:new m}}render(n,l){const{context:m,painter:u,pixelRatio:h}=n;u.setShader({shader:this.shaders.geometry,uniforms:{...e(n,l.target,l.instance.getInput().geometry),...t(n,l.target),antialiasingControls:a(h),mosaicInfo:u.textureManager.getMosaicInfo(m,l.textureKey),localTileOffset:r(l.target)},defines:{...s(n)},optionalAttributes:l.instance.optionalAttributes,useComputeBuffer:i(n)}),u.setPipelineState(o(n)),u.submitDraw(m,l)}}export{u as PatternOutlineFillTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{PixelType as t,TextureSamplingMode as r,PixelFormat as o,SizedPixelFormat as a}from\"./enums.js\";class l{constructor(e,t,r,o){this.dataType=e,this.samplingMode=t,this.pixelFormat=r,this.internalFormat=o}}function n(n,i){const{textureFloat:f,colorBufferFloat:s}=n.capabilities,u=f?.textureFloatLinear,_=s?.textureFloat,m=s?.textureHalfFloat,p=s?.floatBlend,c=n.driverTest.floatBufferBlend.result;if(!_&&!m)throw new e(\"heatmap:missing-color-buffer-float\",\"HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.\");if(!(p&&c||m))throw new e(\"heatmap:missing-float-blend\",\"HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float.\"+(c?\"\":\" This device claims support for EXT_float_blend, but does not actually support it.\"));const d=_&&p&&c,h=m,b=u,R=!!s?.R32F,E=!!s?.R16F;if(d&&b)return b||i.warnOnce(\"Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced.\"),new l(t.FLOAT,b?r.LINEAR:r.NEAREST,R?o.RED:o.RGBA,R?a.R32F:o.RGBA);if(h)return new l(t.HALF_FLOAT,r.LINEAR,E?o.RED:o.RGBA,E?a.R16F:o.RGBA);throw new e(\"heatmap:missing-hardware-support\",\"HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.\")}export{l as HeatmapTextureConfiguration,n as loadHeatmapTextureConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../../core/Logger.js\";import{disposeMaybe as r}from\"../../../../../../../core/maybe.js\";import{PixelType as t,TextureWrapMode as a,RenderbufferFormat as i}from\"../../../../../../webgl/enums.js\";import{FramebufferObject as s}from\"../../../../../../webgl/FramebufferObject.js\";import{loadHeatmapTextureConfiguration as u}from\"../../../../../../webgl/heatmapTextureUtils.js\";import{RenderbufferDescriptor as l}from\"../../../../../../webgl/RenderbufferDescriptor.js\";import{Texture as o}from\"../../../../../../webgl/Texture.js\";import{TextureDescriptor as n}from\"../../../../../../webgl/TextureDescriptor.js\";const m=()=>e.getLogger(\"esri.views.2d.engine.webgl.shaderGraph.techniques.heatmap.HeatmapResources\");class f{destroy(){this._accumulateFramebuffer=r(this._accumulateFramebuffer),this._resolveGradientTexture=r(this._resolveGradientTexture),this._prevGradientHash=null,this._qualityProfile=null}get initialized(){return null!=this._accumulateFramebuffer&&null!=this._resolveGradientTexture}get accumulateFramebuffer(){return this._accumulateFramebuffer}get resolveGradientTexture(){return this._resolveGradientTexture}loadQualityProfile(e){if(null==this._qualityProfile){const r=u(e,m());this._qualityProfile={...r,defines:{usesHalfFloatPrecision:r.dataType!==t.FLOAT}}}return this._qualityProfile}ensureAccumulateFBO(e,r,t){if(null==this._accumulateFramebuffer){const{dataType:u,samplingMode:o,pixelFormat:m,internalFormat:f}=this.loadQualityProfile(e),h=new n(r,t);h.pixelFormat=m,h.internalFormat=f,h.dataType=u,h.samplingMode=o,h.wrapMode=a.CLAMP_TO_EDGE;const c=new l(i.DEPTH_STENCIL,r,t);this._accumulateFramebuffer=new s(e,h,c)}else{const{width:e,height:a}=this._accumulateFramebuffer;e===r&&a===t||this._accumulateFramebuffer.resize(r,t)}return this._accumulateFramebuffer}ensureResolveGradientTexture(e,r,t){if(null==this._resolveGradientTexture){const r=new n;r.wrapMode=a.CLAMP_TO_EDGE,this._resolveGradientTexture=new o(e,r)}else this._prevGradientHash!==r&&(this._resolveGradientTexture.resize(t.length/4,1),this._resolveGradientTexture.setData(t),this._prevGradientHash=r);return this._resolveGradientTexture}}export{f as HeatmapResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nfunction n(n){return n?.25:1}export{n as getHeatmapCompressionFactor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t,a as e}from\"../../../../../../../chunks/tslib.es6.js\";import{location as s,UniformGroup as i,uniform as o,define as l,input as r}from\"../../GraphShaderModule.js\";import{Float as p,Vec3 as a,Vec4 as n,length as u,step as m,Vec2 as d}from\"../../graph/glsl.js\";import{FeatureVertexInput as y,FeatureFragmentInput as f,AFeatureShader as h}from\"./AFeatureShader.js\";import{getHeatmapCompressionFactor as c}from\"./heatmapUtils.js\";import{hittestMarker as w}from\"./hittestUtils.js\";class v extends y{}t([s(5,d)],v.prototype,\"offset\",void 0);class x extends f{}class g extends i{}t([o(p)],g.prototype,\"radius\",void 0),t([o(p)],g.prototype,\"isFieldActive\",void 0);class F extends h{constructor(){super(...arguments),this.usesHalfFloatPrecision=!1}vertex(t){const{radius:e,isFieldActive:s}=this.kernelControls,i=t.offset,o=s.multiply(this.storage.getVVData(t.id).x).add(new p(1).subtract(s)),l=this.view.displayViewScreenMat3.multiply(new a(t.pos,1)).add(this.view.displayViewMat3.multiply(new a(i,0)).multiply(e)),r=this.clip(t.id);return{glPosition:new n(l.xy,r,1),offset:i,fieldValue:o,color:new n(0),...this.maybeRunHittest(t,{},null)}}fragment(t){const{offset:e,fieldValue:s}=t,i=u(e),o=m(i,new p(1)),l=new p(1).subtract(i.multiply(i)),r=l.multiply(l),a=o.multiply(r).multiply(s).multiply(new p(c(this.usesHalfFloatPrecision)));return this.getFragmentOutput(new n(a),t)}hittest(t){const{viewMat3:e,tileMat3:s}=this.view,i=e.multiply(s).multiply(new a(t.pos,1));return w(i.xy,this.kernelControls.radius,this.hittestRequest.position)}}t([l],F.prototype,\"usesHalfFloatPrecision\",void 0),t([o(g)],F.prototype,\"kernelControls\",void 0),t([e(0,r(v))],F.prototype,\"vertex\",null),t([e(0,r(x))],F.prototype,\"fragment\",null);export{x as HeatmapAccumulateFragmentInput,F as HeatmapAccumulateShader,v as HeatmapAccumulateVertexInput,g as KernelControls};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t,a as e}from\"../../../../../../../chunks/tslib.es6.js\";import{VertexInput as o,location as r,FragmentInput as s,UniformGroup as n,uniform as i,GraphShaderModule as a,define as l,FragmentOutput as p,input as u}from\"../../GraphShaderModule.js\";import{Vec4 as m,texture2D as d,Float as c,Vec2 as y,Sampler2D as v}from\"../../graph/glsl.js\";import{getHeatmapCompressionFactor as g}from\"./heatmapUtils.js\";class x extends o{}t([r(0,y)],x.prototype,\"pos\",void 0);class f extends s{}class h extends n{}t([i(v)],h.prototype,\"texture\",void 0),t([i(y)],h.prototype,\"minAndInvRange\",void 0),t([i(c)],h.prototype,\"normalization\",void 0);class w extends n{}t([i(v)],w.prototype,\"texture\",void 0);class b extends a{constructor(){super(...arguments),this.usesHalfFloatPrecision=!1}vertex(t){return{glPosition:new m(t.pos.multiply(2).subtract(1),1,1),uv:t.pos}}fragment(t){const{accumulatedDensity:e,gradient:o}=this;let r=d(e.texture,t.uv).r.multiply(new c(g(this.usesHalfFloatPrecision)));r=r.multiply(e.normalization),r=r.subtract(e.minAndInvRange.x).multiply(e.minAndInvRange.y);const s=d(o.texture,new y(r,.5)),n=new p;return n.glFragColor=new m(s.rgb.multiply(s.a),s.a),n}}t([l],b.prototype,\"usesHalfFloatPrecision\",void 0),t([i(h)],b.prototype,\"accumulatedDensity\",void 0),t([i(w)],b.prototype,\"gradient\",void 0),t([e(0,u(x))],b.prototype,\"vertex\",null),t([e(0,u(f))],b.prototype,\"fragment\",null);export{h as AccumulatedDensity,w as Gradient,f as HeatmapResolveFragmentInput,b as HeatmapResolveShader,x as HeatmapResolveVertexInput};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{isHighlight as e,isHittest as t,getFeatureUniforms as r,getSelectionDefines as s}from\"../featureTechniqueUtils.js\";import{Technique as i}from\"../Technique.js\";import{HeatmapResources as n}from\"./HeatmapResources.js\";import{meshWriterRegistry as o}from\"../mesh/MeshWriterRegistry.js\";import{HeatmapAccumulateShader as u}from\"../shaders/HeatmapAccumulateShader.js\";import{HeatmapResolveShader as a}from\"../shaders/HeatmapResolveShader.js\";import{CompareFunction as d,StencilOperation as h,ClearBufferBit as l,TextureSamplingMode as c}from\"../../../../../../webgl/enums.js\";class p extends i{constructor(){super(...arguments),this.meshWriter=o.HeatmapMeshWriter,this.shaders={accumulate:new u,resolve:new a},this.postProcessingEnabled=!0,this._isBound=!1,this._resources=new Map,this.overrideStencilRef=f}shutdown(e){super.shutdown(e),this._resources.get(e)?.destroy(),this._resources.delete(e),this._prevFBO=null,this._unbind()}render(i,n){const{context:o,painter:u,state:a}=i,d=n.instance.getInput(),{isFieldActive:h}=d,l=this._getOrCreateResourcesRecord(o),c=l.loadQualityProfile(o);if(e(i))return;t(i)||this._bind(i,l,d),u.setShader({shader:this.shaders.accumulate,uniforms:{...r(i,n.target),kernelControls:{radius:g(d,a),isFieldActive:h?1:0}},defines:{...s(i),...c.defines},optionalAttributes:n.instance.optionalAttributes,useComputeBuffer:t(i)});const p=t(i)?b:_;u.setPipelineState(p),u.submitDraw(o,n)}postProcess(r,s){if(t(r)||e(r))return;const{context:i,painter:n}=r,o=this._resources.get(i);if(null==this._prevFBO||null==this._prevViewport||!o?.initialized)return;const{defines:u}=o.loadQualityProfile(i),{minDensity:a,maxDensity:d,radius:h}=s.getInput(),l=8,c=9,p=o.accumulateFramebuffer,m=o.resolveGradientTexture;n.setShader({shader:this.shaders.resolve,uniforms:{accumulatedDensity:{texture:{unit:l,texture:p.colorTexture},minAndInvRange:[a,1/(d-a)],normalization:3/(h*h*Math.PI)},gradient:{texture:{unit:c,texture:m}}},defines:u,optionalAttributes:{},useComputeBuffer:!1}),i.bindFramebuffer(this._prevFBO),i.setViewport(0,0,this._prevViewport.width,this._prevViewport.height),i.bindTexture(p.colorTexture,l),i.bindTexture(m,c),n.setPipelineState(w),n.submitDrawQuad(i),this._unbind()}_getOrCreateResourcesRecord(e){let t=this._resources.get(e);return null==t&&(t=new n,this._resources.set(e,t)),t}_unbind(){this._prevFBO=null,this._prevViewport=null,this._isBound=!1}_bind(e,t,r){if(this._isBound)return;const{context:s,state:i,pixelRatio:n}=e,o=s.getBoundFramebufferObject(),u=s.getViewport();this._prevFBO=o,this._prevViewport=u;const{gradient:a,gradientHash:d}=r;t.ensureResolveGradientTexture(s,d,a);const{width:h,height:p}=u,f=m(g(r,i),n),_=h*f,b=p*f,w=t.ensureAccumulateFBO(s,_,b);s.blitFramebuffer(o,w,0,0,o.width,o.height,0,0,w.width,w.height,l.STENCIL_BUFFER_BIT,c.NEAREST),s.bindFramebuffer(w),s.setViewport(0,0,w.width,w.height),s.setColorMask(!0,!0,!0,!0),s.setClearColor(0,0,0,0),s.clear(l.COLOR_BUFFER_BIT),this._isBound=!0}}function m(e,t){const r=t>1.5?.25:.5;return e<1/(2*r)?1:r}function f(e){return e.key.level+1}const _={color:{write:[!0,!0,!0,!0],blendMode:\"additive\"},depth:!1,stencil:{write:!1,test:{ref:f,compare:d.GEQUAL,mask:255,op:{fail:h.KEEP,zFail:h.KEEP,zPass:h.REPLACE}}}},b={..._,stencil:!1},w={color:{write:[!0,!0,!0,!0],blendMode:\"composite\"},depth:!1,stencil:!1};function g(e,t){const{referenceScale:r,radius:s}=e;return s*(0!==r?r/t.scale:1)}export{p as HeatmapTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../../../chunks/tslib.es6.js\";import{UniformGroup as e,uniform as r}from\"../../GraphShaderModule.js\";import{ifElse as o,sin as i,cos as n,Mat4 as s,Float as l,Mat3 as m,equal as a}from\"../../graph/glsl.js\";import{cDegToRad as p,RotationType as u}from\"./constants.js\";import{isNan as g}from\"./utils.js\";class d extends e{getVVRotationMat4(t){return o(g(t),s.identity(),(()=>{const e=this._getNormalizedAngle(t).multiply(p),r=i(e),o=n(e);return new s(o,r,0,0,r.multiply(new l(-1)),o,0,0,0,0,1,0,0,0,0,1)}))}getVVRotationMat3(t){return o(g(t),m.identity(),(()=>{const e=this._getNormalizedAngle(t).multiply(p),r=i(e),o=n(e);return new m(o,r,0,r.multiply(new l(-1)),o,0,0,0,1)}))}_getNormalizedAngle(t){const e=a(this.rotationType,new l(u.Arithmatic));return o(e,new l(90).subtract(t),t)}}t([r(l)],d.prototype,\"rotationType\",void 0);export{d as VisualVariableRotation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t,a as e}from\"../../../../../../../chunks/tslib.es6.js\";import{minMaxZoomPrecisionFactor as i,labelPlacementOffsetPadding as o}from\"../../../definitions.js\";import{location as s,option as a,uniform as r,define as l,ComputeVertexInput as p,input as n}from\"../../GraphShaderModule.js\";import{abs as d,min as u,Float as m,floor as y,step as c,Vec3 as h,Mat3 as v,Vec4 as f,texture2D as V,smoothstep as b,Int as w,bitRShift as x,bitAnd as g,Vec2 as S,Bool as z}from\"../../graph/glsl.js\";import{FeatureVertexInput as j,FeatureFragmentInput as M,AFeatureShader as R}from\"../shaders/AFeatureShader.js\";import{bitsetTextIsBackground as C,sdfFontSize as O,bitsetTextIsMapAligned as P,maxSdfDistance as U}from\"../shaders/constants.js\";import{distPointTriangle as A}from\"../shaders/hittestUtils.js\";import{MosaicInfo as L}from\"../shaders/MosaicInfo.js\";import{getBit as _}from\"../shaders/utils.js\";import{VisualVariableColor as k}from\"../shaders/VisualVariableColor.js\";import{VisualVariableOpacity as N}from\"../shaders/VisualVariableOpacity.js\";import{VisualVariableRotation as H}from\"../shaders/VisualVariableRotation.js\";import{VisualVariableSizeMinMaxValue as I}from\"../shaders/VisualVariableSizeMinMaxValue.js\";import{VisualVariableSizeScaleStops as D}from\"../shaders/VisualVariableSizeScaleStops.js\";import{VisualVariableSizeStops as F}from\"../shaders/VisualVariableSizeStops.js\";import{VisualVariableSizeUnitValue as B}from\"../shaders/VisualVariableSizeUnitValue.js\";import{getVisualVariableSize as E,getVisualVariableRotation as W}from\"../shaders/vvUtils.js\";const q=360/254;class G extends j{}t([s(3,f)],G.prototype,\"color\",void 0),t([s(4,S)],G.prototype,\"offset\",void 0),t([s(5,S)],G.prototype,\"textureUV\",void 0),t([s(6,m)],G.prototype,\"fontSize\",void 0),t([s(7,m)],G.prototype,\"referenceSize\",void 0),t([s(8,m)],G.prototype,\"haloFontSize\",void 0),t([s(9,f)],G.prototype,\"haloColor\",void 0),t([s(10,S)],G.prototype,\"zoomRange\",void 0),t([s(11,m)],G.prototype,\"clipAngle\",void 0),t([s(12,f)],G.prototype,\"referenceSymbol\",void 0);class Z extends p{}t([s(13,S)],Z.prototype,\"offsetNextVertex1\",void 0),t([s(14,S)],Z.prototype,\"offsetNextVertex2\",void 0);class J extends M{}class K extends R{constructor(){super(...arguments),this.computeAttributes={offset:[\"offsetNextVertex1\",\"offsetNextVertex2\"]},this.isHaloPass=!1,this.isBackgroundPass=!1,this.isLabel=!1}clipLabel(t,e,o){const s=e.multiply(q),a=d(this.view.rotation.subtract(s)),r=u(new m(360).subtract(a),a);let l=new m(0);const p=y(this.view.currentZoom.multiply(i)).divide(i),n=t.x,h=t.y,v=new m(1).subtract(c(n,p)).multiply(2),f=c(new m(90),r).multiply(2),V=new m(2).multiply(new m(1).subtract(c(p,h)));return l=l.add(o.multiply(v)),l=l.add(o.multiply(f)),l=l.add(V),l}vertex(t,e){const i=_(t.bitset,C),s=new m(1).subtract(i);let a=t.fontSize,r=a.divide(O);const l=this.isHaloPass?t.haloColor:this._getVertexColor(t),p=this.isLabel?l.multiply(this.storage.getAnimationValue(t.id)):l,n=this.view.displayViewScreenMat3.multiply(new h(t.pos,1));let d=t.offset,u=new m(1),y=v.identity();if(this.isLabel){if(!t.referenceSymbol)throw new Error(\"InternalError: Optional attribute 'referenceSymbol' expected for labels\");const e=t.referenceSymbol,i=e.xy,s=e.z,a=this._unpackDirection(e.w),r=E(this,t.id,s).divide(2),l=a.multiply(r.add(o));d=d.add(i).add(l)}else{u=E(this,t.id,t.referenceSize).divide(t.referenceSize),a=a.multiply(u),r=r.multiply(u),d=d.multiply(u),y=W(this,t.id),d=y.multiply(new h(d,0)).xy}const c=_(t.bitset,P),V=this._getViewRotationMatrix(c).multiply(new h(d,0));let b=this.isLabel?this.clipLabel(t.zoomRange,t.clipAngle,c):this.clip(t.id,t.zoomRange);b=this.isBackgroundPass?b.add(s.multiply(2)):b.add(i.multiply(2));const w=new f(n.xy.add(V.xy),b,1),x=t.textureUV.divide(this.mosaicInfo.size);let g=new m(0);if(this.isHaloPass){g=t.haloFontSize.divide(r).divide(U)}return{glPosition:w,color:p,size:r,textureUV:x,antialiasingWidth:new m(.105*O).divide(a).divide(this.view.pixelRatio),haloDistanceOffset:g,...this.maybeRunHittest(t,e,{vvSizeAdjustment:u,vvRotation:y})}}_getViewRotationMatrix(t){const e=this.view.displayViewMat3,i=this.view.displayMat3,o=new m(1).subtract(t);return e.multiply(t).add(i.multiply(o))}fragment(t){const e=new m(2/8),i=new m(1).subtract(e),o=V(this.mosaicInfo.texture,t.textureUV).a;let s=i.subtract(t.haloDistanceOffset);this.highlight&&(s=s.divide(2));const a=t.antialiasingWidth,r=b(s.subtract(a),s.add(a),o);return this.getFragmentOutput(t.color.multiply(r),t)}hittest(t,e,{vvSizeAdjustment:i,vvRotation:o}){const s=o.multiply(new h(t.offset.multiply(i),0)),a=o.multiply(new h(e.offsetNextVertex1.multiply(i),0)),r=o.multiply(new h(e.offsetNextVertex2.multiply(i),0)),{viewMat3:l,tileMat3:p}=this.view,n=l.multiply(p).multiply(new h(t.pos,1)),d=n.add(p.multiply(s)).xy,u=n.add(p.multiply(a)).xy,m=n.add(p.multiply(r)).xy;return A(this.hittestRequest.position,d.xy,u.xy,m.xy)}_unpackDirection(t){const e=new w(t),i=x(e,new w(2)),o=g(e,new w(3));return new S(new m(i).subtract(1),new m(o).subtract(1))}_getVertexColor(t){let e=t.color;if(this.visualVariableColor){const i=this.storage.getColorValue(t.id);e=this.visualVariableColor.getColor(i,t.color,new z(!1))}if(this.visualVariableOpacity){const i=this.storage.getOpacityValue(t.id),o=this.visualVariableOpacity.getOpacity(i);e=e.multiply(o)}return e}}t([a(k)],K.prototype,\"visualVariableColor\",void 0),t([a(N)],K.prototype,\"visualVariableOpacity\",void 0),t([a(H)],K.prototype,\"visualVariableRotation\",void 0),t([a(I)],K.prototype,\"visualVariableSizeMinMaxValue\",void 0),t([a(D)],K.prototype,\"visualVariableSizeScaleStops\",void 0),t([a(F)],K.prototype,\"visualVariableSizeStops\",void 0),t([a(B)],K.prototype,\"visualVariableSizeUnitValue\",void 0),t([r(L)],K.prototype,\"mosaicInfo\",void 0),t([l],K.prototype,\"isHaloPass\",void 0),t([l],K.prototype,\"isBackgroundPass\",void 0),t([l],K.prototype,\"isLabel\",void 0),t([e(0,n(G)),e(1,n(Z))],K.prototype,\"vertex\",null),t([e(0,n(J))],K.prototype,\"fragment\",null);export{J as TextFragmentInput,K as TextShader,G as TextVertexInput};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e,FeatureSymbologyDrawOrder as s}from\"../../../enums.js\";import{getSelectionDefines as t,getFeaturePipelineState as r,resolveDynamicUniforms as i,getFeatureUniforms as a}from\"../featureTechniqueUtils.js\";import{Technique as o}from\"../Technique.js\";import{meshWriterRegistry as n}from\"../mesh/MeshWriterRegistry.js\";import{TextShader as m}from\"../text/TextShader.js\";class u extends o{constructor(){super(...arguments),this.meshWriter=n.LabelMeshWriter,this.shaders={geometry:new m},this.drawPhase=e.LABEL|e.LABEL_ALPHA,this.symbologyPlane=s.TEXT}render(e,s){const{context:o,painter:n}=e,m=t(e),u={...r(e)},h={shader:this.shaders.geometry,uniforms:{...i(e,s.target,s.instance.getInput().geometry),...a(e,s.target),mosaicInfo:n.textureManager.getMosaicInfo(o,s.textureKey)},defines:{...m,isHaloPass:!1,isBackgroundPass:!0,isLabel:!0},optionalAttributes:s.instance.optionalAttributes,useComputeBuffer:!1};n.setShader(h),n.setPipelineState(u),n.submitDraw(o,s),n.setShader({...h,defines:{...m,isHaloPass:!0,isBackgroundPass:!1,isLabel:!0}}),n.setPipelineState(u),n.submitDraw(o,s),n.setShader({...h,defines:{...m,isHaloPass:!1,isBackgroundPass:!1,isLabel:!0}}),n.setPipelineState(u),n.submitDraw(o,s)}}export{u as LabelTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{FeatureSymbologyDrawOrder as e}from\"../../../enums.js\";import{resolveDynamicUniforms as t,getFeatureUniforms as r,getSelectionDefines as s,isHittest as i,getFeaturePipelineState as o}from\"../featureTechniqueUtils.js\";import{Technique as n}from\"../Technique.js\";import{getAntialiasingControls as a}from\"./utils.js\";import{meshWriterRegistry as m}from\"../mesh/MeshWriterRegistry.js\";import{LineShader as h}from\"../shaders/LineShader.js\";class p extends n{constructor(){super(...arguments),this.meshWriter=m.LineMeshWriter,this.shaders={geometry:new h},this.symbologyPlane=e.LINE}render(e,n){const{context:m,painter:h,pixelRatio:p}=e;h.setShader({shader:this.shaders.geometry,uniforms:{...t(e,n.target,n.instance.getInput().geometry),...r(e,n.target),antialiasingControls:a(p)},defines:{...s(e)},optionalAttributes:n.instance.optionalAttributes,useComputeBuffer:i(e)}),h.setPipelineState(o(e)),h.submitDraw(m,n)}}export{p as LineTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t,a as e}from\"../../../../../../../chunks/tslib.es6.js\";import{dashRadius as i}from\"../../../../../../../symbols/cim/constants.js\";import{location as s,uniform as a,input as n}from\"../../GraphShaderModule.js\";import{Float as o,max as l,fract as r,mix as m,Vec2 as d,texture2D as c,clamp as p,Vec4 as u,ifElse as h,greaterThan as y,dot as w}from\"../../graph/glsl.js\";import{BaseHittestVertexInput as f}from\"./AFeatureShader.js\";import{bitsetLineScaleDash as b,bitsetLineIsSdf as x,bitsetGenericConsiderAlphaOnly as g}from\"./constants.js\";import{LineVertexInput as v,LineFragmentInput as D,LineShader as S,getLineVertexData as j,getLineAntialiasing as W}from\"./LineShader.js\";import{MosaicInfo as z}from\"./MosaicInfo.js\";import{getBit as F,rgba2float as _}from\"./utils.js\";class A extends v{}t([s(9,o)],A.prototype,\"accumulatedDistance\",void 0),t([s(10,d)],A.prototype,\"segmentDirection\",void 0),t([s(11,u)],A.prototype,\"tlbr\",void 0);class I extends D{}class R extends S{_getLineWidthRatio(t,e){const s=new o(i),a=F(t.bitset,b);return a.multiply(l(e,new o(.25))).add(new o(1).subtract(a)).divide(s)}_getSDFAlpha(t){const{halfWidth:e,normal:i,tlbr:s,patternSize:a,accumulatedDistance:n,lineWidthRatio:l}=t,h=a.x.multiply(new o(2)).multiply(l),y=r(n.divide(h)),w=new o(.25).multiply(i.y).add(new o(.5)),f=m(s.xy,s.zw,new d(y,w)),b=_(c(this.mosaicInfo.texture,f)).subtract(new o(.5)).multiply(e),x=p(new o(.5).subtract(b),new o(0),new o(1));return new u(x)}_getPatternColor(t){const{halfWidth:e,normal:i,color:s,accumulatedDistance:a,patternSize:n,sampleAlphaOnly:l,tlbr:p}=t,w=n.y.multiply(new o(2).multiply(e).divide(n.x)),f=r(a.divide(w)),b=new o(.5).multiply(i.y).add(new o(.5)),x=m(p.xy,p.zw,new d(b,f));let g=c(this.mosaicInfo.texture,x);return null!=this.visualVariableColor&&(g=h(y(l,new o(.5)),new u(s.a),s)),g}vertex(t,e){const{segmentDirection:i,tlbr:s,bitset:a}=t,n=j(this,t),l=t.accumulatedDistance.divide(this.view.displayZoomFactor).add(w(i,n.scaledOffset)),r=new d(s.z.subtract(s.x),s.w.subtract(s.y)),m=s.divide(this.mosaicInfo.size.xyxy),c=F(a,x),p=F(a,g),u=h(y(c,new o(.5)),this._getLineWidthRatio(t,n.scaledHalfWidth),new o(1));return{...n,tlbr:m,patternSize:r,accumulatedDistance:l,isSDF:c,sampleAlphaOnly:p,lineWidthRatio:u,...this.maybeRunHittest(t,e,n.halfWidth)}}fragment(t){const{color:e,opacity:i,isSDF:s}=t,a=W(t,this.antialiasingControls.blur),n=h(y(s,new o(.5)),this._getSDFAlpha(t),this._getPatternColor(t)),l=e.multiply(i).multiply(a).multiply(n);return this.getFragmentOutput(l,t)}}t([a(z)],R.prototype,\"mosaicInfo\",void 0),t([e(0,n(A)),e(1,n(f))],R.prototype,\"vertex\",null);export{I as TexturedLineFragmentInput,R as TexturedLineShader,A as TexturedLineVertexInput};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{FeatureSymbologyDrawOrder as e}from\"../../../enums.js\";import{resolveDynamicUniforms as t,getFeatureUniforms as r,getSelectionDefines as s,isHittest as i,getFeaturePipelineState as o}from\"../featureTechniqueUtils.js\";import{Technique as n}from\"../Technique.js\";import{getAntialiasingControls as a}from\"./utils.js\";import{meshWriterRegistry as m}from\"../mesh/MeshWriterRegistry.js\";import{TexturedLineShader as u}from\"../shaders/TexturedLineShader.js\";class h extends n{constructor(){super(...arguments),this.meshWriter=m.TexturedLineMeshWriter,this.shaders={geometry:new u},this.symbologyPlane=e.LINE}render(e,n){const{context:m,painter:u,pixelRatio:h}=e;u.setShader({shader:this.shaders.geometry,uniforms:{...t(e,n.target,n.instance.getInput().geometry),...r(e,n.target),antialiasingControls:a(h),mosaicInfo:u.textureManager.getMosaicInfo(m,n.textureKey)},defines:{...s(e)},optionalAttributes:n.instance.optionalAttributes,useComputeBuffer:i(e)}),u.setPipelineState(o(e)),u.submitDraw(m,n)}}export{h as TexturedLineTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t,a as e}from\"../../../../../../../chunks/tslib.es6.js\";import{location as i,option as o,uniform as s,ComputeVertexInput as l,input as r}from\"../../GraphShaderModule.js\";import{Vec3 as a,min as p,max as u,Float as n,Mat3 as d,Vec4 as m,ifElse as y,lessThan as h,equal as c,texture2D as x,clamp as V,abs as v,mix as w,distance as f,Vec2 as b,negate as S,step as g}from\"../../graph/glsl.js\";import{MarkerConstants as z}from\"./markerConstants.js\";import{FeatureVertexInput as C,FeatureFragmentInput as M,AFeatureShader as _}from\"../shaders/AFeatureShader.js\";import{c256ToRad as j,softEdgeRatio as U}from\"../shaders/constants.js\";import{xyToBarycentric as R,inTriangle as N,failHittest as F}from\"../shaders/hittestUtils.js\";import{MosaicInfo as D}from\"../shaders/MosaicInfo.js\";import{getBit as I,getBitBool as O,rgba2float as k}from\"../shaders/utils.js\";import{VisualVariableColor as A}from\"../shaders/VisualVariableColor.js\";import{VisualVariableOpacity as P}from\"../shaders/VisualVariableOpacity.js\";import{VisualVariableRotation as T}from\"../shaders/VisualVariableRotation.js\";import{VisualVariableSizeMinMaxValue as q}from\"../shaders/VisualVariableSizeMinMaxValue.js\";import{VisualVariableSizeScaleStops as G}from\"../shaders/VisualVariableSizeScaleStops.js\";import{VisualVariableSizeStops as H}from\"../shaders/VisualVariableSizeStops.js\";import{VisualVariableSizeUnitValue as L}from\"../shaders/VisualVariableSizeUnitValue.js\";import{getVisualVariableOpacity as B,getVisualVariableColor as E,getVisualVariableSize as J,getVisualVariableRotation as K}from\"../shaders/vvUtils.js\";class Q extends C{}t([i(3,m)],Q.prototype,\"color\",void 0),t([i(4,m)],Q.prototype,\"outlineColor\",void 0),t([i(5,b)],Q.prototype,\"offset\",void 0),t([i(6,b)],Q.prototype,\"textureUV\",void 0),t([i(7,m)],Q.prototype,\"sizing\",void 0),t([i(8,n)],Q.prototype,\"placementAngle\",void 0),t([i(9,n)],Q.prototype,\"sizeRatio\",void 0),t([i(10,b)],Q.prototype,\"zoomRange\",void 0);class W extends l{}t([i(12,b)],W.prototype,\"offsetNextVertex1\",void 0),t([i(13,b)],W.prototype,\"offsetNextVertex2\",void 0),t([i(14,b)],W.prototype,\"textureUVNextVertex1\",void 0),t([i(15,b)],W.prototype,\"textureUVNextVertex2\",void 0);class X extends M{}function Y(t,e,i,o){return e.multiply(t.x).add(i.multiply(t.y)).add(o.multiply(t.z))}function Z(t){return t.multiply(t).divide(128)}class $ extends _{constructor(){super(...arguments),this.computeAttributes={offset:[\"offsetNextVertex1\",\"offsetNextVertex2\"],textureUV:[\"textureUVNextVertex1\",\"textureUVNextVertex2\"]}}vertex(t,e){const i=Z(t.sizing.x),o=Z(t.sizing.y),s=Z(t.sizing.z),l=t.placementAngle,r=I(t.bitset,z.bitset.isSDF),y=I(t.bitset,z.bitset.isMapAligned),h=I(t.bitset,z.bitset.scaleSymbolsProportionally),c=O(t.bitset,z.bitset.colorLocked),x=B(this,t.id),V=E(this,t.id,t.color,c).multiply(x),v=this.view.displayViewScreenMat3.multiply(new a(t.pos.xy,1)),w=J(this,t.id,s).divide(s),f=i.multiply(w),b=t.offset.xy.multiply(w);let S=o.multiply(h.multiply(w.subtract(1)).add(1));S=p(S,u(f.subtract(.99),new n(0)));const g=u(S,new n(1)),C=p(S,new n(1)),M=d.fromRotation(l.multiply(j)),_=K(this,t.id),U=this._getViewRotationMatrix(y).multiply(_).multiply(M).multiply(new a(b.xy,0)),R=this.clip(t.id,t.zoomRange),N=new m(v.xy.add(U.xy),R,1),F=t.textureUV.divide(this.mosaicInfo.size),D=t.outlineColor.multiply(C),k=I(t.bitset,z.bitset.overrideOutlineColor),A=t.sizeRatio.multiply(f).multiply(.5);return{glPosition:N,color:V,textureUV:F,outlineColor:D,outlineSize:g,distanceToPx:A,isSDF:r,overrideOutlineColor:k,...this.maybeRunHittest(t,e,{pos:t.pos,size:f,sizeCorrection:w,isMapAligned:y,outlineSize:g,distanceToPx:A,isSDF:r})}}fragment(t){const e=this._getColor(t.textureUV,t);return this.getFragmentOutput(e,t)}hittest(t,e,i){return y(h(i.size,this.hittestRequest.smallSymbolSizeThreshold),this._hittestSmallMarker(t,e,i),this._hittestMarker(t,e,i))}_getViewRotationMatrix(t){const e=this.view.displayViewMat3,i=this.view.displayMat3,o=new n(1).subtract(t);return e.multiply(t).add(i.multiply(o))}_getViewScreenMatrix(t){const e=this.view.viewMat3.multiply(this.view.tileMat3),i=this.view.tileMat3,o=new n(1).subtract(t);return e.multiply(t).add(i.multiply(o))}_getColor(t,e){return y(c(e.isSDF,new n(1)),this._getSDFColor(t,e),this._getSpriteColor(t,e))}_getSpriteColor(t,e){return x(this.mosaicInfo.texture,t).multiply(e.color)}_getSDFColor(t,e){const i=x(this.mosaicInfo.texture,t),o=new n(.5).subtract(k(i)).multiply(e.distanceToPx).multiply(U),s=V(new n(.5).subtract(o),new n(0),new n(1)),l=e.color.multiply(s);let r=e.outlineSize;this.highlight&&(r=u(r,e.overrideOutlineColor.multiply(4)));const a=r.multiply(.5),p=v(o).subtract(a),d=V(new n(.5).subtract(p),new n(0),new n(1)),m=w(e.outlineColor,e.color,e.overrideOutlineColor).multiply(d);return new n(1).subtract(m.a).multiply(l).add(m)}_hittestSmallMarker(t,e,i){const{position:o,distance:s,smallSymbolDistance:l}=this.hittestRequest,r=s.subtract(l),{viewMat3:p,tileMat3:u}=this.view,n=p.multiply(u).multiply(new a(i.pos,1)).xy,d=i.size.multiply(.5);return f(n,o).subtract(d).add(r)}_hittestMarker(t,e,i){const{pos:o,size:s,sizeCorrection:l,isMapAligned:r,outlineSize:p,isSDF:u,distanceToPx:d}=i,y=new a(t.offset.multiply(l),0),h=new a(e.offsetNextVertex1.multiply(l),0),c=new a(e.offsetNextVertex2.multiply(l),0),{viewMat3:x,tileMat3:V}=this.view,v=x.multiply(V).multiply(new a(o,1)),w=this._getViewScreenMatrix(r),f=v.add(w.multiply(y)).xy,z=v.add(w.multiply(h)).xy,C=v.add(w.multiply(c)).xy,M=this.hittestRequest.position,_=this.hittestRequest.distance,j=R(M.add(new b(S(_),S(_))),f,z,C),U=R(M.add(new b(0,S(_))),f,z,C),D=R(M.add(new b(_,S(_))),f,z,C),I=R(M.add(new b(S(_),0)),f,z,C),O=R(M,f,z,C),k=R(M.add(new b(_,0)),f,z,C),A=R(M.add(new b(S(_),_)),f,z,C),P=R(M.add(new b(0,_)),f,z,C),T=R(M.add(new b(_,_)),f,z,C),q=t.textureUV.divide(this.mosaicInfo.size),G=e.textureUVNextVertex1.divide(this.mosaicInfo.size),H=e.textureUVNextVertex2.divide(this.mosaicInfo.size),L={color:new m(1),outlineColor:new m(1),overrideOutlineColor:new n(1),outlineSize:p,distanceToPx:d,isSDF:u};let B=new n(0);return B=B.add(N(j).multiply(this._getColor(Y(j,q,G,H),L).a)),B=B.add(N(U).multiply(this._getColor(Y(U,q,G,H),L).a)),B=B.add(N(D).multiply(this._getColor(Y(D,q,G,H),L).a)),B=B.add(N(I).multiply(this._getColor(Y(I,q,G,H),L).a)),B=B.add(N(O).multiply(this._getColor(Y(O,q,G,H),L).a)),B=B.add(N(k).multiply(this._getColor(Y(k,q,G,H),L).a)),B=B.add(N(A).multiply(this._getColor(Y(A,q,G,H),L).a)),B=B.add(N(P).multiply(this._getColor(Y(P,q,G,H),L).a)),B=B.add(N(T).multiply(this._getColor(Y(T,q,G,H),L).a)),g(B,new n(.05)).multiply(F(this.hittestRequest))}}t([o(A)],$.prototype,\"visualVariableColor\",void 0),t([o(P)],$.prototype,\"visualVariableOpacity\",void 0),t([o(T)],$.prototype,\"visualVariableRotation\",void 0),t([o(q)],$.prototype,\"visualVariableSizeMinMaxValue\",void 0),t([o(G)],$.prototype,\"visualVariableSizeScaleStops\",void 0),t([o(H)],$.prototype,\"visualVariableSizeStops\",void 0),t([o(L)],$.prototype,\"visualVariableSizeUnitValue\",void 0),t([s(D)],$.prototype,\"mosaicInfo\",void 0),t([e(0,r(Q)),e(1,r(W))],$.prototype,\"vertex\",null),t([e(0,r(X))],$.prototype,\"fragment\",null);export{X as MarkerFragmentInput,$ as MarkerShader,Q as MarkerVertexInput};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{FeatureSymbologyDrawOrder as e}from\"../../../enums.js\";import{resolveDynamicUniforms as t,getFeatureUniforms as r,getSelectionDefines as s,isHittest as i,getFeaturePipelineState as o}from\"../featureTechniqueUtils.js\";import{Technique as n}from\"../Technique.js\";import{MarkerShader as a}from\"./MarkerShader.js\";import{meshWriterRegistry as m}from\"../mesh/MeshWriterRegistry.js\";class u extends n{constructor(){super(...arguments),this.meshWriter=m.MarkerMeshWriter,this.shaders={geometry:new a},this.symbologyPlane=e.MARKER}render(e,n){const{context:a,painter:m}=e;m.setShader({shader:this.shaders.geometry,uniforms:{...t(e,n.target,n.instance.getInput().geometry),...r(e,n.target),mosaicInfo:m.textureManager.getMosaicInfo(a,n.textureKey,!0)},defines:{...s(e)},optionalAttributes:n.instance.optionalAttributes,useComputeBuffer:i(e)}),m.setPipelineState(o(e)),m.submitDraw(a,n)}}export{u as MarkerTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{numericHash as t}from\"../../../../../core/string.js\";import{TypedShaderProgram as o}from\"./typed/TypedShaderProgram.js\";class e{constructor(){this.computeAttributes={}}get locationsMap(){const t=new Map;for(const o in this.locations)t.set(o,this.locations[o].index);return t}get optionPropertyKeys(){if(!this._optionPropertyKeys){const t=new Set(Object.keys(this.options));this._optionPropertyKeys=t}return this._optionPropertyKeys}get _transformFeedbackBindings(){return[]}get locationInfo(){if(!this._locationInfo){const o=this.locationsMap,e=Array.from(o.entries()).map((([t,o])=>`${t}.${o}`)).join(\".\"),n=t(e);this._locationInfo={hash:n,locations:o}}return this._locationInfo}get renamedLocationsMap(){const t=new Map;for(const[o,e]of this.locationsMap.entries())t.set(\"a_\"+o,e);return t}getShaderKey(t,o,e){const n=Object.keys(e).filter((t=>e[t])).map((t=>`${t}_${e[t].toString()}`)).join(\".\"),r=Object.keys(o).filter((t=>this.optionPropertyKeys.has(t))).join(\".\");return`${t.hash}.${n}.${r}`}getProgram(t,e,n,r){let i=\"\",s=\"\";for(const o in n)if(n[o]){const t=\"boolean\"==typeof n[o]?`#define ${o}\\n`:`#define ${o} ${n[o]}\\n`;i+=t,s+=t}return i+=this.vertexShader,s+=this.fragmentShader,new o(i,s,this.renamedLocationsMap,this.locationInfo,this._getUniformBindings(e),this._transformFeedbackBindings)}_getUniformBindings(t){const o=[];for(const e in this.required){const t=this.required[e];o.push({uniformHydrated:null,shaderModulePath:e,uniformName:e,uniformType:t.type,uniformArrayElementType:n(t),uniformArrayLength:r(t)})}for(const e in t){const i=this.options[e];if(t[e])for(const t in i){const s=i[t];o.push({uniformHydrated:null,shaderModulePath:`${e}.${t}`,uniformName:t,uniformType:s.type,uniformArrayElementType:n(s),uniformArrayLength:r(s)})}}return o}}const n=t=>\"array\"===t.type?t.elementType?.type:void 0,r=t=>\"array\"===t.type?t.size:void 0;export{e as GLSLShaderModule};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{GLSLShaderModule as e}from\"../../GLSLShaderModule.js\";import{Float as i,FixedArray as t,Vec4 as a,Vec2 as o,Vec3 as s,Sampler2D as r,Mat3 as l}from\"../../graph/glsl.js\";import{resolveIncludes as n}from\"../../../shaders/sources/resolver.js\";const p={hittestDist:i,hittestPos:o},y={filterFlags:r,animation:r,visualVariableData:r,dataDriven0:r,dataDriven1:r,dataDriven2:r,gpgpu:r,size:i},d={displayViewScreenMat3:l,displayViewMat3:l,displayMat3:l,viewMat3:l,tileMat3:l,displayZoomFactor:i,requiredZoomFactor:i,tileOffset:o,currentScale:i,currentZoom:i,metersPerSRUnit:i};class u extends e{constructor(){super(...arguments),this.vertexShader=n(\"materials/pie/pie.vert\"),this.fragmentShader=n(\"materials/pie/pie.frag\"),this.required={...y,...d,outlineWidth:i,colors:t,defaultColor:a,othersColor:a,outlineColor:a,donutRatio:i,sectorThreshold:i},this.options={hittestUniforms:p,visualVariableSizeMinMaxValue:{minMaxValueAndSize:a},visualVariableSizeScaleStops:{sizes:{...t.ofType(i,8),type:\"array\",elementType:i,size:8},values:{...t.ofType(i,8),type:\"array\",elementType:i,size:8}},visualVariableSizeStops:{sizes:{...t.ofType(i,8),type:\"array\",elementType:i,size:8},values:{...t.ofType(i,8),type:\"array\",elementType:i,size:8}},visualVariableSizeUnitValue:{unitValueToPixelsRatio:i},visualVariableOpacity:{opacities:{...t.ofType(i,8),type:\"array\",elementType:i,size:8},opacityValues:{...t.ofType(i,8),type:\"array\",elementType:i,size:8}}},this.locations={pos:{index:0,type:o},id:{index:1,type:s},bitset:{index:2,type:i},offset:{index:3,type:o},texCoords:{index:4,type:o},size:{index:5,type:o},referenceSize:{index:6,type:i},zoomRange:{index:7,type:o}},this.defines={VV_SIZE_MIN_MAX_VALUE:\"boolean\",VV_SIZE_SCALE_STOPS:\"boolean\",VV_SIZE_FIELD_STOPS:\"boolean\",VV_SIZE_UNIT_VALUE:\"boolean\",VV_OPACITY:\"boolean\",HITTEST:\"boolean\",numberOfFields:\"number\",highlight:\"boolean\",inside:\"boolean\",outside:\"boolean\"}}setNumberOfFields(e){this.required.colors={...t.ofType(a,e),type:\"array\",elementType:a,size:e}}}export{u as PieChartShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{FeatureSymbologyDrawOrder as e}from\"../../../enums.js\";import{isHittest as t,getFeatureUniforms as i,getSelectionDefines as s,resolveDynamicUniforms as r,getFeaturePipelineState as a}from\"../featureTechniqueUtils.js\";import{Technique as o}from\"../Technique.js\";import{meshWriterRegistry as h}from\"../mesh/MeshWriterRegistry.js\";import{PieChartShader as m}from\"./PieChartShader.js\";class u extends o{constructor(){super(...arguments),this.meshWriter=h.PieChartMeshWriter,this.shaders={geometry:new m},this.symbologyPlane=e.MARKER}render(e,o){const{context:h,painter:m}=e,{instance:u,target:l}=o,n=this.shaders.geometry,S=u.getInput(),V=S.numberOfFields,g=t(e),p=i(e,l),f=s(e);n.setNumberOfFields(V),m.setShader({shader:n,uniforms:{...r(e,o.target,S.geometry),...p.storage,...p.view,hittestUniforms:p.hittestRequest?{hittestDist:p.hittestRequest?.distance,hittestPos:p.hittestRequest?.position}:null},defines:{VV_SIZE_MIN_MAX_VALUE:!!S.geometry.visualVariableSizeMinMaxValue,VV_SIZE_SCALE_STOPS:!!S.geometry.visualVariableSizeScaleStops,VV_SIZE_FIELD_STOPS:!!S.geometry.visualVariableSizeStops,VV_SIZE_UNIT_VALUE:!!S.geometry.visualVariableSizeUnitValue,VV_OPACITY:!!S.geometry.visualVariableOpacity,HITTEST:g,highlight:p.highlight?1:0,...f,numberOfFields:V},optionalAttributes:{},useComputeBuffer:g}),m.setPipelineState(a(e)),m.submitDraw(h,o)}}export{u as PieChartTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{FeatureSymbologyDrawOrder as e}from\"../../../enums.js\";import{getSelectionDefines as s,resolveDynamicUniforms as t,getFeatureUniforms as r,isHittest as i,getFeaturePipelineState as a}from\"../featureTechniqueUtils.js\";import{Technique as o}from\"../Technique.js\";import{meshWriterRegistry as n}from\"../mesh/MeshWriterRegistry.js\";import{TextShader as m}from\"./TextShader.js\";class u extends o{constructor(){super(...arguments),this.meshWriter=n.TextMeshWriter,this.shaders={geometry:new m},this.symbologyPlane=e.TEXT}render(e,o){const{context:n,painter:m}=e,u=s(e),h={shader:this.shaders.geometry,uniforms:{...t(e,o.target,o.instance.getInput().geometry),...r(e,o.target),mosaicInfo:m.textureManager.getMosaicInfo(n,o.textureKey)},defines:{...u,isHaloPass:!1,isBackgroundPass:!0,isLabel:!1},optionalAttributes:o.instance.optionalAttributes,useComputeBuffer:i(e)};m.setShader(h),m.setPipelineState(a(e)),m.submitDraw(n,o),m.setShader({...h,defines:{...u,isHaloPass:!0,isBackgroundPass:!1,isLabel:!1}}),m.submitDraw(n,o),m.setShader({...h,defines:{...u,isHaloPass:!1,isBackgroundPass:!1,isLabel:!1}}),m.submitDraw(n,o)}}export{u as TextTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{DotDensityTechnique as e}from\"./dotDensity/DotDensityTechnique.js\";import{ComplexFillTechnique as i}from\"./fill/ComplexFillTechnique.js\";import{ComplexOutlineFillTechnique as l}from\"./fill/ComplexOutlineFillTechnique.js\";import{FillTechnique as t}from\"./fill/FillTechnique.js\";import{OutlineFillTechnique as n}from\"./fill/OutlineFillTechnique.js\";import{PatternFillTechnique as r}from\"./fill/PatternFillTechnique.js\";import{PatternOutlineFillTechnique as o}from\"./fill/PatternOutlineFillTechnique.js\";import{HeatmapTechnique as m}from\"./heatmap/HeatmapTechnique.js\";import{LabelTechnique as p}from\"./labels/LabelTechnique.js\";import{LineTechnique as u}from\"./line/LineTechnique.js\";import{TexturedLineTechnique as a}from\"./line/TexturedLineTechnique.js\";import{MarkerTechnique as f}from\"./markers/MarkerTechnique.js\";import{PieChartTechnique as s}from\"./pieChart/PieChartTechnique.js\";import{TextTechnique as c}from\"./text/TextTechnique.js\";const h={fill:new t(\"fill\"),patternFill:new r(\"patternFill\"),complexFill:new i(\"complexFill\"),outlineFill:new n(\"outlineFill\"),patternOutlineFill:new o(\"patternOutlineFill\"),complexOutlineFill:new l(\"complexOutlineFill\"),marker:new f(\"marker\"),pieChart:new s(\"pieChart\"),line:new u(\"line\"),texturedLine:new a(\"texturedLine\"),text:new c(\"text\"),label:new p(\"label\"),heatmap:new m(\"heatmap\"),dotDensity:new e(\"dotDensity\")};function F(){for(const e in h){h[e].startup()}}function T(e){for(const i in h){h[i].shutdown(e)}}export{h as Techniques,T as shutdown,F as startup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nfunction n(n,t){const r=n.slice(0,t),e=t-r.length;for(let o=0;o<e;o++){const n=r[r.length-1];r.push(n)}return r}function t(n){if(!n)return[0,0,0,0];const{r:t,g:r,b:e,a:o}=n;return[t*(o/255),r*(o/255),e*(o/255),o]}export{n as padStops,t as premultiplyColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Error.js\";import o from\"../../../../../core/Logger.js\";import{toPt as r}from\"../../../../../core/screenUtils.js\";import{getWebGLCapabilities as t}from\"../../../../webgl/capabilities.js\";const l=8,s=l-2,n=()=>o.getLogger(\"esri.views.2d.layers.features.support.rendererUtils\");function u(e){return e.map((e=>a(e)?i(e.clone()):e))}function a(e){return(\"size\"===e.type||\"color\"===e.type||\"opacity\"===e.type)&&null!=e.stops}function i(e){return e.stops=b(e.type,e.stops??[]),e}function p(e,o,r){return(1-r)*e+r*o}function c(e,o){const[t,...l]=o,n=l.pop(),u=l[0].value,a=l[l.length-1].value,i=(a-u)/s,c=[];for(let s=u;s<a;s+=i){let t=0;for(;s>=l[t].value;)t++;const n=l[t],u=o[t-1],a=s-u.value,i=n.value===u.value?1:a/(n.value-u.value);if(\"color\"===e){const e=l[t],r=o[t-1],n=e.color.clone();n.r=p(r.color.r,n.r,i),n.g=p(r.color.g,n.g,i),n.b=p(r.color.b,n.b,i),n.a=p(r.color.a,n.a,i),c.push({value:s,color:n,label:e.label})}else if(\"size\"===e){const e=l[t],n=o[t-1],u=r(e.size),a=p(r(n.size),u,i);c.push({value:s,size:a,label:e.label})}else{const e=l[t],r=p(o[t-1].opacity,e.opacity,i);c.push({value:s,opacity:r,label:e.label})}}return[t,...c,n]}function f(e){const[o,...r]=e,t=r.pop();for(;r.length>s;){let e=0,o=0;for(let t=1;t<r.length;t++){const l=r[t-1],s=r[t],n=Math.abs(s.value-l.value);n>o&&(o=n,e=t)}r.splice(e,1)}return[o,...r,t]}function b(e,o){return o.length<=l?o:(n().warn(`Found ${o.length} Visual Variable stops, but MapView only supports ${l}. Displayed stops will be simplified.`),o.length>2*l?c(e,o):f(o))}function g(){const{supportsColorBufferFloat:e,supportsColorBufferFloatBlend:o,supportsColorBufferHalfFloat:r}=t();return e&&o||r}function m(o){if(!o)return!0;switch(o.type){case\"dot-density\":break;case\"heatmap\":if(!g()){const o=t(),r=[\"supportsColorBufferFloat\",\"supportsColorBufferFloatBlend\",\"supportsColorBufferHalfFloat\"].filter((e=>!o[e])).join(\", \");return n().errorOnce(new e(\"webgl-missing-extension\",`Missing WebGL2 requirements for Heatmap: ${r}`)),!1}}return!0}export{m as isRendererSupported,u as simplifyVisualVariables};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../../../core/screenUtils.js\";import{getMetersPerUnitForSR as a}from\"../../../../../../core/unitUtils.js\";import{meterIn as i}from\"../../../../../../renderers/support/lengthUtils.js\";import{nanMagicNumber as s}from\"../../../../engine/webgl/definitions.js\";import{RotationType as l}from\"../../../../engine/webgl/shaderGraph/techniques/shaders/constants.js\";import{padStops as t,premultiplyColor as r}from\"./schemaUtils.js\";import{simplifyVisualVariables as n}from\"../../support/rendererUtils.js\";const u=1.25,o=128,p=128;function c(e){if(!e.stops?.length)return null;const a=e.stops.sort(((e,a)=>e.value-a.value)),i=t(a,8),s=i.map((({value:e})=>e)),l=i.map((({color:e})=>r(e)));return{values:s,colors:l}}function v(e){if(!e.stops?.length)return null;const a=e.stops.sort(((e,a)=>e.value-a.value)),i=t(a,8);return{opacityValues:i.map((({value:e})=>e)),opacities:i.map((({opacity:e})=>e))}}function V(e){return{rotationType:\"geographic\"===e.rotationType?l.Geographic:l.Arithmatic}}function f(a){if(!a.stops?.length)return null;if(a.stops.some((e=>e.useMaxValue||e.useMinValue)))return(i,l)=>{const r=i.statisticsByLevel.get(l.key.level),n=a.stops.map((i=>({value:i.useMaxValue?r?.get(a.field)?.maxValue??0:i.useMinValue?r?.get(a.field)?.minValue??0:i.value,size:i.size?e(i.size):s}))).sort(((e,a)=>e.value-a.value)),u=t(n,8);return{values:u.map((({value:e})=>e)),sizes:u.map((({size:e})=>e))}};const i=a.stops.sort(((e,a)=>e.value-a.value)),l=t(i,8);return{values:l.map((({value:e})=>e)),sizes:l.map((({size:a})=>e(a)))}}function m(a){if(!a.stops?.length)return null;const i=a.stops.sort(((e,a)=>e.value-a.value)),s=t(i,8);return{values:s.map((({value:e})=>e)),sizes:s.map((({size:a})=>e(a)))}}function S(e){return s=>{const{state:l}=s;return{unitValueToPixelsRatio:a(l.spatialReference)/i[e.valueUnit]/l.resolution}}}function b(e,a){const i=a.length;if(e<a[0].value||1===i)return a[0].size;for(let s=1;s<i;s++)if(e<a[s].value){const i=(e-a[s-1].value)/(a[s].value-a[s-1].value);return a[s-1].size+i*(a[s].size-a[s-1].size)}return a[i-1].size}function z(a){const{minDataValue:i,maxDataValue:s,minSize:l,maxSize:t}=a;if(\"object\"==typeof l&&\"object\"==typeof t)return(a,r)=>{const n=a.state.scale,u=e(b(n,l.stops)),o=e(b(n,t.stops));return{minMaxValueAndSize:[i,s,u,o]}};if(\"object\"==typeof l||\"object\"==typeof t)throw new Error(\"InternalError: Found a partial VisualVariableSizeMinMaxValue\");return{minMaxValueAndSize:[i,s,e(l),e(t)]}}const x={visualVariableColor:null,visualVariableOpacity:null,visualVariableRotation:null,visualVariableSizeStops:null,visualVariableSizeScaleStops:null,visualVariableSizeOutlineScaleStops:null,visualVariableSizeUnitValue:null,visualVariableSizeMinMaxValue:null};function h(e,a=p,i=u){if(e.visualVariableSizeMinMaxValue)return e.visualVariableSizeMinMaxValue instanceof Function?o:Math.max(e.visualVariableSizeMinMaxValue.minMaxValueAndSize[3]*i,a);if(e.visualVariableSizeScaleStops){if(e.visualVariableSizeScaleStops instanceof Function)return o;const s=e.visualVariableSizeScaleStops.sizes;return Math.max(s[s.length-1]*i,a)}if(e.visualVariableSizeStops){if(e.visualVariableSizeStops instanceof Function)return o;const s=e.visualVariableSizeStops.sizes;return Math.max(s[s.length-1]*i,a)}return e.visualVariableSizeUnitValue?2*o:0}function y(e){const a={...x};if(!e||!(\"visualVariables\"in e)||!e.visualVariables)return a;for(const i of n(e.visualVariables))switch(i.type){case\"color\":a.visualVariableColor=c(i);break;case\"opacity\":a.visualVariableOpacity=v(i);break;case\"rotation\":a.visualVariableRotation=V(i);break;case\"size\":switch(M(i)){case\"field-stops\":a.visualVariableSizeStops=f(i);break;case\"scale-stops\":\"outline\"===i.target?a.visualVariableSizeOutlineScaleStops=f(i):a.visualVariableSizeScaleStops=f(i);break;case\"min-max\":a.visualVariableSizeMinMaxValue=z(i);break;case\"unit-value\":a.visualVariableSizeUnitValue=S(i)}break;default:console.error(\"Unable to handle VV type\")}return a}function M(e){if(\"number\"==typeof e.minDataValue&&\"number\"==typeof e.maxDataValue&&null!=e.minSize&&null!=e.maxSize)return\"min-max\";if((e.expression&&\"view.scale\"===e.expression||e.valueExpression&&\"$view.scale\"===e.valueExpression)&&Array.isArray(e.stops))return\"scale-stops\";if((null!=e.field||e.expression&&\"view.scale\"!==e.expression||e.valueExpression&&\"$view.scale\"!==e.valueExpression)&&(Array.isArray(e.stops)||\"levels\"in e&&e.levels))return\"field-stops\";if((null!=e.field||e.expression&&\"view.scale\"!==e.expression||e.valueExpression&&\"$view.scale\"!==e.valueExpression)&&null!=e.valueUnit)return\"unit-value\";throw new Error(\"InternalError: Found unknown sizeVV type\")}export{c as createVisualVariableColor,v as createVisualVariableOpacity,V as createVisualVariableRotation,z as createVisualVariableSizeMinMaxValue,m as createVisualVariableSizeScaleStops,f as createVisualVariableSizeStops,S as createVisualVariableSizeUnitValue,y as createVisualVariableUniforms,h as getMaxSizeVVSize,x as noVisualVariables};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nfunction a(a){return!!(a.visualVariableSizeMinMaxValue||a.visualVariableSizeScaleStops||a.visualVariableSizeStops||a.visualVariableSizeUnitValue||a.visualVariableSizeOutlineScaleStops)}function i(a){return!!a.visualVariableRotation}export{i as hasRotationVVUniform,a as hasSizeVVUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{CIMSymbolHelper as e}from\"../../../../../../../symbols/cim/CIMSymbolHelper.js\";import{defaultCIMValues as a}from\"../../../../../../../symbols/cim/defaultCIMValues.js\";import{Techniques as i}from\"../../../../../engine/webgl/shaderGraph/techniques/TechniqueRegistry.js\";import{noVisualVariables as l,getMaxSizeVVSize as o}from\"../VisualVariablesSchema.js\";import{hasSizeVVUniform as r}from\"./utils.js\";function s(e){return e.minScale||e.maxScale?{minScale:e.minScale??0,maxScale:e.maxScale??0}:null}function t(e){if(null==e)return null;if(Array.isArray(e)){const[a,i,l,o]=e;return[a,i,l,255*o]}return\"string\"==typeof e?e:{...e,defaultValue:t(e?.defaultValue)}}async function n(a,i){const{cimResourceManager:l,cimAnalyzer:o,scaleExpression:r}=i.schemaOptions;await Promise.all(e.fetchResources(a.symbol,l,[]));const t=o.analyzeSymbolReference(a,!1),n={scaleInfo:s(a),scaleExpression:r},u=[];for(const e of t)switch(e.type){case\"marker\":u.push(...c(e,i,n));break;case\"fill\":u.push(...m(e,i,n));break;case\"line\":u.push(...b(e,i,n));break;case\"text\":u.push(...v(e,i,n))}return u}function c(e,a,o){const{uniforms:r,schemaOptions:s}=a,{store:t}=s,n=e.isOutline?{...l,visualVariableSizeScaleStops:r.visualVariableSizeOutlineScaleStops}:{visualVariableColor:r.visualVariableColor,visualVariableOpacity:r.visualVariableOpacity,visualVariableSizeMinMaxValue:r.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:r.visualVariableSizeScaleStops,visualVariableSizeStops:r.visualVariableSizeStops,visualVariableSizeUnitValue:r.visualVariableSizeUnitValue,visualVariableRotation:r.visualVariableRotation};return u(t.ensureInstance(i.marker,{geometry:n},{zoomRange:!!o.scaleInfo}),e,r,o)}function u(e,i,l,{scaleInfo:s,scaleExpression:n}){const c=r(l);return[e.createMeshInfo({params:{size:i.size,scaleX:i.scaleX,anchorX:i.anchorPoint.x,anchorY:i.anchorPoint.y,angle:i.rotation,color:t(i.color)??[0,0,0,0],colorLocked:i.colorLocked,frameHeight:i.frameHeight,widthRatio:i.widthRatio,scaleInfo:s,offsetX:i.offsetX,offsetY:i.offsetY,outlineColor:t(i.outlineColor)??[0,0,0,0],outlineSize:i.outlineWidth,referenceSize:i.referenceSize||a.CIMVectorMarker.size,rotateClockwise:i.rotateClockwise,scaleFactor:n??1,sizeRatio:i.sizeRatio,alignment:i.alignment,isAbsoluteAnchorPoint:i.isAbsoluteAnchorPoint,scaleSymbolsProportionally:i.scaleSymbolsProportionally,sprite:i.spriteRasterizationParam,hasSizeVV:c,placement:i.markerPlacement,effects:i.effects?{type:\"cim-effect-infos\",effectInfos:i.effects}:null,transforms:i.transform,minPixelBuffer:o(l)}})]}function f(e,a,l){const{uniforms:o,schemaOptions:r}=a,{store:s}=r;return p(s.ensureInstance(i.fill,{geometry:{visualVariableColor:e.colorLocked?null:o.visualVariableColor,visualVariableOpacity:o.visualVariableOpacity}},{zoomRange:!!l.scaleInfo}),e,l)}function p(e,a,{scaleInfo:i}){return[e.createMeshInfo({params:{color:t(a.color)??[0,0,0,0],scaleInfo:i,effects:a.effects?{type:\"cim-effect-infos\",effectInfos:a.effects}:null}})]}function m(e,a,l){if(!e.spriteRasterizationParam)return f(e,a,l);const{uniforms:o,schemaOptions:r}=a,{store:s}=r;return S(s.ensureInstance(i.complexFill,{geometry:{visualVariableColor:e.colorLocked?null:o.visualVariableColor,visualVariableOpacity:o.visualVariableOpacity}},{zoomRange:!!l.scaleInfo}),e,null!=o.visualVariableColor,l)}function S(e,a,i,{scaleInfo:l}){if(!a.spriteRasterizationParam)throw new Error(\"InternalError: Sprite should always be defined\");const o=!!a.hasUnresolvedReplacementColor&&(!i||a.colorLocked),r=a.sampleAlphaOnly&&!o,s=a.spriteRasterizationParam;return[e.createMeshInfo({params:{color:t(a.color)??[0,0,0,0],height:a.height,aspectRatio:a.scaleX,offsetX:a.offsetX,offsetY:a.offsetY,scaleX:1,scaleY:1,angle:a.angle,applyRandomOffset:a.applyRandomOffset,sampleAlphaOnly:r,scaleProportionally:\"CIMHatchFill\"===s.resource.type,sprite:s,scaleInfo:l,effects:a.effects?{type:\"cim-effect-infos\",effectInfos:a.effects}:null}})]}function b(e,a,o){const{uniforms:r,schemaOptions:s}=a,{store:t}=s,n=e.isOutline?{...l,visualVariableSizeScaleStops:r.visualVariableSizeOutlineScaleStops}:{visualVariableColor:e.colorLocked?null:r.visualVariableColor,visualVariableOpacity:r.visualVariableOpacity,visualVariableSizeMinMaxValue:r.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:r.visualVariableSizeScaleStops,visualVariableSizeStops:r.visualVariableSizeStops,visualVariableSizeUnitValue:r.visualVariableSizeUnitValue},c={geometry:n},u=!!(n.visualVariableSizeMinMaxValue||n.visualVariableSizeScaleStops||n.visualVariableSizeStops||n.visualVariableSizeUnitValue);if(!e.spriteRasterizationParam){return h(t.ensureInstance(i.line,c,{zoomRange:!!o.scaleInfo}),e,u,o)}return z(t.ensureInstance(i.texturedLine,c,{zoomRange:!!o.scaleInfo}),e,u,o)}function V(e,a,{scaleInfo:i}){return{params:{color:t(e.color)??[0,0,0,0],width:e.width,referenceWidth:e.referenceWidth,capType:e.cap,joinType:e.join,miterLimit:e.miterLimit,scaleInfo:i,hasSizeVV:a,effects:e.effects?{type:\"cim-effect-infos\",effectInfos:e.effects}:null}}}function h(e,a,i,l){if(a.spriteRasterizationParam)throw new Error(\"InternalError: Sprite should not be defined\");return[e.createMeshInfo({params:V(a,i,l).params})]}function z(e,a,i,l){const{spriteRasterizationParam:o,scaleDash:r,sampleAlphaOnly:s}=a;if(!o)throw new Error(\"InternalError: Sprite should be defined\");return[e.createMeshInfo({params:{...V(a,i,l).params,shouldScaleDash:r??!1,shouldSampleAlphaOnly:s,isSDF:\"CIMPictureStroke\"!==o.resource.type,sprite:o}})]}function v(e,a,l){const{uniforms:o,schemaOptions:r}=a,{store:s}=r;return y(s.ensureInstance(i.text,{geometry:{visualVariableColor:e.colorLocked?null:o.visualVariableColor,visualVariableOpacity:o.visualVariableOpacity,visualVariableRotation:o.visualVariableRotation,visualVariableSizeMinMaxValue:o.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:o.visualVariableSizeScaleStops,visualVariableSizeStops:o.visualVariableSizeStops,visualVariableSizeUnitValue:o.visualVariableSizeUnitValue}},{zoomRange:!!l.scaleInfo,referenceSymbol:!1,clipAngle:!1}),e,o,l)}function y(e,a,i,{scaleInfo:l,scaleExpression:r}){return[e.createMeshInfo({params:{boxBackgroundColor:t(a.backgroundColor),boxBorderLineColor:t(a.borderLineColor),boxBorderLineSize:a.borderLineWidth??0,color:t(a.color)??[0,0,0,0],offsetX:a.offsetX,offsetY:a.offsetY,postAngle:a.angle,fontSize:a.size,referenceSize:a.referenceSize,decoration:a.decoration,haloColor:t(a.outlineColor)??[0,0,0,0],haloFontSize:a.outlineSize,lineWidth:a.lineWidth||512,lineHeightRatio:1,horizontalAlignment:a.horizontalAlignment??\"center\",verticalAlignment:a.verticalAlignment??\"baseline\",useCIMAngleBehavior:!1,glyphs:a.textRasterizationParam,scaleInfo:l,effects:a.effects?{type:\"cim-effect-infos\",effectInfos:a.effects}:null,placement:a.markerPlacement,transforms:a.transform,scaleFactor:r??1,minPixelBuffer:o(i),repeatLabel:null,repeatLabelDistance:null,allowOverrun:null,labelPosition:null,isLineLabel:!1}})]}export{S as createComplexFillMeshInfos,u as createComplexMarkerMeshInfos,p as createComplexSimpleFillMeshInfos,h as createComplexSimpleLineMeshInfos,n as createComplexSymbolInstances,y as createComplexTextMeshInfos,z as createComplexTexturedLineMeshInfos,s as getScaleInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../../../core/arrayUtils.js\";import{VVBinding as i}from\"../../../../engine/webgl/enums.js\";import{simplifyVisualVariables as n}from\"../../support/rendererUtils.js\";import{getWebGLCapabilities as r}from\"../../../../../webgl/capabilities.js\";function t(e,i){return{type:\"simple\",filters:i,capabilities:{maxTextureSize:r().maxTextureSize},bindings:a(e)}}function s(e){switch(e){case\"opacity\":return i.OPACITY;case\"color\":return i.COLOR;case\"rotation\":return i.ROTATION;case\"size\":return i.SIZE;default:return null}}function a(e){if(!e)return[];switch(e.type){case\"simple\":case\"class-breaks\":case\"unique-value\":case\"dictionary\":return c(e);case\"dot-density\":return o(e);case\"pie-chart\":return l(e);case\"heatmap\":return u(e)}}function o(e){const i=[];for(const n of e.attributes)i.push({binding:i.length,expression:n.valueExpression,field:n.field});return i}function l(e){const i=c(e);let n=4;for(const r of e.attributes)i.push({binding:n++,expression:r.valueExpression,field:r.field});return i}function u({valueExpression:e,field:i}){return e||i?[{binding:0,expression:e,field:i}]:[]}function c(i){if(!(\"visualVariables\"in i)||!i.visualVariables?.length)return[];return n(i.visualVariables).map((e=>x(e))).filter(e)}function p(e){return\"$view.scale\"===e.valueExpression?null:{binding:s(e.type),field:e.field,normalizationField:e.normalizationField,expression:e.valueExpression,valueRepresentation:e.valueRepresentation}}function f(e){return{binding:s(e.type),field:e.field,normalizationField:e.normalizationField,expression:e.valueExpression}}function d(e){return{binding:s(e.type),field:e.field,normalizationField:e.normalizationField,expression:e.valueExpression}}function m(e){return{binding:s(e.type),expression:e.valueExpression,field:e.field}}function x(e){switch(e.type){case\"size\":return p(e);case\"color\":return f(e);case\"opacity\":return d(e);case\"rotation\":return m(e)}}export{o as createDotDensityBindings,u as createHeatmapBindings,l as createPieChartBindings,t as createStorageSchema,c as createVVBindings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{UpdateTracking2D as e}from\"./UpdateTracking2D.js\";import{QueueProcessor as s}from\"../../../support/QueueProcessor.js\";function t(e){return e.some((e=>e.globalId))}function r(e){return e.filter((e=>!e.error)).map((e=>e.objectId??e.globalId)).filter((e=>null!=e))}function o(e,s){const t=new Set(e);for(const r of s.values())t.add(r);return t}function d(e,s){const t=new Set(e);for(const r of s.values())t.delete(r);return t}class a{constructor(t){this.updateTracking=new e({debugName:\"FeatureCommandQueue\"}),this._hasGlobalIds=!1,this._queueProcessor=new s({concurrency:1,process:t.process})}destroy(){this.updateTracking.destroy(),this._queueProcessor.destroy(),this.clear()}clear(){this._queueProcessor.clear()}async push(e){return this.updateTracking.addPromise(this._doPush(e))}async _doPush(e){const s=this._queueProcessor,t=s.last(),r=[];switch(e.type){case\"update\":if(t?.type===e.type)return;r.push(s.push(e));break;case\"edit\":{const o=\"processed-edit\"===t?.type?t:null;o&&s.popLast();const d=this._mergeEdits(o,e);for(const e of d)e&&r.push(s.push(e));break}}await Promise.all(r)}_mergeEdits(e,s){const{addedFeatures:a,deletedFeatures:i,updatedFeatures:u}=s.edits;if(this._hasGlobalIds=this._hasGlobalIds||t(a)||t(u)||t(i),this._hasGlobalIds){return[e,{type:\"processed-edit\",edits:{addOrModified:[...a,...u],removed:i}}]}const n=new Set(r(e?.edits.addOrModified??[])),c=new Set(r(e?.edits.removed??[])),p=new Set([...r(a),...r(u)]),l=new Set(r(i));return[{type:\"processed-edit\",edits:{addOrModified:Array.from(o(d(n,l),p)).map((e=>({objectId:e}))),removed:Array.from(o(d(c,p),l)).map((e=>({objectId:e})))}}]}}export{a as default};\n"],"names":["e$1","s","t","z$2","i","g","z","F$3","S","R$1","r","d","v","R","b$5","f","b","P","C","n","o","p","m","e","c","y","w","a","u","l","h","x","j","F","D","V$2","V","F$2","_$1","T","_","A","N","i$2","p$7","h$6","u$a","m$5","l$3","h$5","u$9","l$2","E","x$3","g$2","F$1","f$5","w$1","p$6","q","Z$1","Z","J","M","K","O","W","U","k","H","I","B","L","u$8","p$5","h$3","Q","X","Y","$","G","u$7","u$6","u$5","u$4"],"mappings":";;;;;;;;;;;;AAI6E,IAAAA,IAAA,MAAO;AAAA,EAAC,YAAY,GAAE;AAAC,SAAK,eAAa,GAAE,KAAK,wBAAsB,IAAG,KAAK,qBAAmB,MAAK,KAAK,YAAUC,GAAE,MAAIA,GAAE,UAAQA,GAAE,YAAUA,GAAE,OAAM,KAAK,iBAAeC,GAAE;AAAA,EAAI;AAAA,EAAC,UAAS;AAAA,EAAE;AAAA,EAAA,SAASD,GAAE;AAAA,EAAE;AAAA,EAAA,YAAYA,GAAE,GAAE;AAAA,EAAE;AAAA,GCA+PE,KAAA,cAAgBC,GAAC;AAAA;AAAEF,EAAE,CAACD,EAAE,GAAEI,CAAC,CAAC,GAAEC,GAAE,WAAU,OAAM,MAAM;AAAE,IAAAC,KAAA,cAAgBC,GAAC;AAAA,GAAAC,KAAE,cAAgBC,GAAC;AAAA;AAAER,EAAE,CAACS,EAAEC,CAAC,CAAC,GAAEC,GAAE,WAAU,WAAU,MAAM;AAAE,IAAAC,KAAA,cAAgBJ,GAAC;AAAER;AAAAA,EAAE,CAACS,EAAEI,CAAC,CAAC,GAAEC,GAAE,WAAU,aAAY,MAAM,GAAEd,EAAE,CAACS,EAAEC,CAAC,CAAC,GAAEI,GAAE,WAAU,cAAa,MAAM,GAAEd,EAAE,CAACS,EAAEC,CAAC,CAAC,GAAEI,GAAE,WAAU,kBAAiB,MAAM;AAAE,MAAMC,KAAE;AAAK,MAAMC,WAAUC,GAAC;AAAA,EAAC,OAAOjB,GAAE;AAAC,UAAMkB,IAAE,IAAIC,EAAE,GAAE,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,CAAC,EAAE,SAAS,IAAIC,EAAEpB,EAAE,IAAI,GAAG,OAAOqB,CAAC,GAAE,CAAC,CAAC,GAAE,IAAEC,EAAE,KAAK,KAAK,WAAUJ,EAAE,EAAE,GAAEnB,IAAEwB,GAAE,KAAK,SAAS,QAAQ,OAAO,CAAC,GAAE,IAAIb,EAAE,CAAC,CAAC;AAAE,QAAIF,IAAE,IAAIE,EAAE,CAAC;AAAE,IAAAF,IAAEA,EAAE,IAAIgB,EAAE,EAAE,GAAE,IAAId,EAAEK,EAAC,CAAC,EAAE,SAAS,CAAC,CAAC;AAAE,QAAIN,IAAEV,EAAE,IAAI,KAAK,SAAS,OAAO;AAAE,UAAMkB,IAAE,KAAK,KAAK,sBAAsB,SAAS,IAAIG,EAAEpB,EAAE,IAAI,IAAI,GAAE,GAAE,CAAC,CAAC,GAAEyB,IAAE,IAAIC,EAAET,EAAE,IAAGT,GAAE,CAAC,GAAEmB,IAAE,KAAK,SAAS,QAAQ,OAAOlB,CAAC,GAAEmB,IAAE,IAAIlB,EAAE,EAAE,EAAE,OAAOX,EAAE,OAAOU,CAAC,CAAC;AAAE,WAAOA,IAAEA,EAAE,SAAS,KAAK,KAAK,WAAW,SAAS,KAAK,KAAK,cAAc,CAAC,GAAE,EAAC,YAAWgB,GAAE,aAAYhB,GAAE,OAAM,GAAE,OAAMkB,GAAE,cAAaC,EAAC;AAAA,EAAC;AAAA,EAAC,SAAS5B,GAAE;AAAC,UAAMkB,IAAEU,GAAE5B,EAAE,aAAa,SAAS,GAAE,CAAC,EAAE,SAAS,CAAC,GAAEqB,IAAEQ,GAAE,IAAInB,EAAE,CAAC,GAAE,IAAIA,EAAE,CAAC,GAAEV,EAAE,aAAa,SAASkB,EAAE,SAASlB,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC,GAAEE,IAAE,IAAIuB;AAAE,WAAOvB,EAAE,cAAYF,EAAE,MAAM,SAASqB,CAAC,GAAEnB;AAAA,EAAC;AAAC;AAACF,EAAE,CAACS,EAAEE,EAAC,CAAC,GAAEK,GAAE,WAAU,YAAW,MAAM,GAAEhB,EAAE,CAACS,EAAEK,EAAC,CAAC,GAAEE,GAAE,WAAU,QAAO,MAAM,GAAEhB,EAAE,CAACS,EAAEqB,EAAC,CAAC,GAAEd,GAAE,WAAU,QAAO,MAAM,GAAEhB,EAAE,CAACkB,EAAE,GAAES,EAAEvB,EAAC,CAAC,CAAC,GAAEY,GAAE,WAAU,UAAS,IAAI,GAAEhB,EAAE,CAACkB,EAAE,GAAES,EAAEI,EAAC,CAAC,CAAC,GAAEf,GAAE,WAAU,YAAW,IAAI;ACAppC,MAAMgB,WAAU7B,GAAC;AAAEH;AAAAA,EAAE,CAACE,EAAE,GAAEQ,CAAC,CAAC,GAAEsB,GAAE,WAAU,eAAc,MAAM;AAAC,IAAAC,KAAoB,cAAgBzB,GAAC;;AAAER,EAAE,CAACD,EAAEkB,EAAE,OAAOE,GAAE,CAAC,CAAC,CAAC,GAAEe,GAAE,WAAU,YAAW,MAAM,GAAElC,EAAE,CAACD,EAAEkB,EAAE,OAAOE,GAAE,CAAC,CAAC,CAAC,GAAEe,GAAE,WAAU,UAAS,MAAM,GAAElC,EAAE,CAACD,EAAEW,CAAC,CAAC,GAAEwB,GAAE,WAAU,YAAW,MAAM;AAAE,IAAAC,KAAA,cAAgB3B,GAAC;AAAA;AAAER,EAAE,CAACD,EAAEc,CAAC,CAAC,GAAEkB,GAAE,WAAU,eAAc,MAAM,GAAE/B,EAAE,CAACD,EAAEc,CAAC,CAAC,GAAEkB,GAAE,WAAU,eAAc,MAAM,GAAE/B,EAAE,CAACD,EAAEW,CAAC,CAAC,GAAEqB,GAAE,WAAU,kBAAiB,MAAM,GAAE/B,EAAE,CAACD,EAAEW,CAAC,CAAC,GAAEqB,GAAE,WAAU,cAAa,MAAM,GAAE/B,EAAE,CAACD,EAAEW,CAAC,CAAC,GAAEqB,GAAE,WAAU,oBAAmB,MAAM;AAAC,IAAAK,KAAC,cAAgBC,GAAC;AAAA,EAAC,cAAcrC,GAAEqB,GAAEH,GAAE;AAAC,WAAOlB,EAAE,OAAOqB,CAAC,EAAE,OAAOH,CAAC;AAAA,EAAC;AAAA,EAAC,OAAOlB,GAAE;AAAC,UAAMqB,IAAE,IAAIO,EAAE,IAAEV,GAAE,GAAE,GAAE,GAAE,KAAGA,GAAE,GAAE,IAAG,GAAE,CAAC,EAAE,SAAS,IAAII,EAAEtB,EAAE,KAAI,CAAC,CAAC,GAAED,IAAE,KAAK,KAAKC,EAAE,EAAE,GAAEE,IAAE,IAAIiB,EAAEE,EAAE,IAAGtB,GAAE,CAAC,GAAES,IAAE,KAAK,QAAQ,UAAUR,EAAE,EAAE,EAAE,SAAS,KAAK,SAAS,SAAS,IAAI,CAAC,CAAC,EAAE,SAASA,EAAE,WAAW,GAAE2B,IAAE,KAAK,QAAQ,mBAAmB3B,EAAE,EAAE,EAAE,SAAS,KAAK,SAAS,SAAS,IAAI,CAAC,CAAC,EAAE,SAASA,EAAE,WAAW,GAAES,IAAE,KAAK,KAAK,eAAe,SAASS,CAAC,EAAE,OAAO,KAAK,KAAK,UAAU,GAAEO,IAAE,KAAK,cAAcjB,GAAE,KAAK,SAAS,UAAS,KAAK,KAAK,gBAAgB,GAAES,IAAE,KAAK,cAAcU,GAAE,KAAK,SAAS,UAAS,KAAK,KAAK,gBAAgB,GAAED,IAAE1B,EAAE,IAAI,IAAI,GAAE,EAAE,OAAOS,CAAC;AAAE,WAAM,EAAC,YAAWP,GAAE,OAAM,IAAIiB,EAAE,GAAE,GAAE,GAAE,CAAC,GAAE,eAAcO,GAAE,aAAYD,GAAE,aAAYR,EAAC;AAAA,EAAC;AAAA,EAAC,SAASjB,GAAE;AAAC,UAAMqB,IAAE,IAAIZ,MAAES,IAAEQ,EAAE,KAAK,KAAK,aAAY1B,EAAE,aAAa,GAAED,IAAE2B,EAAE,KAAK,KAAK,aAAY1B,EAAE,aAAa,GAAEE,IAAEF,EAAE,YAAY,SAASkB,CAAC,GAAEV,IAAER,EAAE,YAAY,SAASD,CAAC;AAAE,QAAI;AAAE,UAAM0B,IAAEL,GAAE,YAAY,KAAK,SAAS,OAAO,CAAC,GAAE,KAAK,SAAS,OAAO,CAAC,GAAE,KAAK,SAAS,OAAO,CAAC,GAAE,KAAK,SAAS,OAAO,CAAC,CAAC,GAAEH,IAAEG,GAAE,YAAY,KAAK,SAAS,OAAO,CAAC,GAAE,KAAK,SAAS,OAAO,CAAC,GAAE,KAAK,SAAS,OAAO,CAAC,GAAE,KAAK,SAAS,OAAO,CAAC,CAAC;AAAE,QAAG,KAAK,UAAS;AAAC,YAAMpB,IAAEuB,EAAE,IAAIb,EAAE,CAAC,GAAER,CAAC,GAAEmB,IAAEE,EAAE,IAAIb,EAAE,CAAC,GAAEF,CAAC,GAAEU,IAAEM,GAAExB,GAAEE,CAAC,EAAE,IAAIsB,GAAEH,GAAEb,CAAC,CAAC,GAAET,IAAEwB,EAAEL,GAAE,IAAIR,EAAE,CAAC,CAAC,GAAED,IAAE,IAAIC,EAAE,CAAC,EAAE,SAASX,CAAC,GAAEoB,IAAED,EAAE,IAAInB,CAAC,GAAE6B,IAAE1B,EAAE,SAASF,CAAC,EAAE,OAAOmB,CAAC,GAAEG,IAAEd,EAAE,SAASa,CAAC,EAAE,OAAOF,CAAC,GAAEO,IAAED,EAAE,SAASG,CAAC,EAAE,IAAIX,EAAE,SAASK,CAAC,CAAC;AAAE,UAAEb,EAAE,SAASiB,CAAC;AAAA,IAAC,OAAK;AAAC,YAAM1B,IAAE6B,GAAEC,GAAE5B,CAAC,GAAE4B,GAAEtB,CAAC,CAAC,GAAEa,IAAEE,EAAEvB,GAAE,IAAIU,EAAE,CAAC,CAAC,GAAEQ,IAAE,IAAIR,EAAE,CAAC,EAAE,SAASW,CAAC,GAAEtB,IAAEwB,EAAEvB,GAAEE,CAAC,GAAEO,IAAEc,EAAEvB,GAAEQ,CAAC,GAAEW,IAAEM,EAAE,SAAS1B,CAAC,EAAE,IAAIkB,EAAE,SAASR,CAAC,CAAC;AAAE,UAAES,EAAE,SAASC,CAAC;AAAA,IAAC;AAAC,WAAOE,EAAE,cAAY,GAAEA;AAAA,EAAC;AAAA,EAAC,QAAQrB,GAAE;AAAC,WAAOc,GAAE,KAAK,cAAc;AAAA,EAAC;AAAC;AAACd,EAAE,CAAC2B,EAAC,GAAEW,GAAE,WAAU,YAAW,MAAM,GAAEtC,EAAE,CAACD,EAAEmC,EAAC,CAAC,GAAEI,GAAE,WAAU,YAAW,MAAM,GAAEtC,EAAE,CAACD,EAAEgC,EAAC,CAAC,GAAEO,GAAE,WAAU,QAAO,MAAM,GAAEtC,EAAE,CAACqB,EAAE,GAAEI,EAAEO,EAAC,CAAC,CAAC,GAAEM,GAAE,WAAU,UAAS,IAAI,GAAEtC,EAAE,CAACqB,EAAE,GAAEI,EAAEc,EAAC,CAAC,CAAC,GAAED,GAAE,WAAU,YAAW,IAAI;ACAjuF,MAAMD,KAAE,EAAC,CAACG,EAAE,IAAI,GAAE,GAAE,CAACA,EAAE,aAAa,GAAE,GAAE,CAACA,EAAE,KAAK,GAAE,GAAE,CAACA,EAAE,cAAc,GAAE,GAAE,CAACA,EAAE,GAAG,GAAE,GAAE,CAACA,EAAE,YAAY,GAAE,GAAE,CAACA,EAAE,KAAK,GAAE,EAAC;ACAgL,IAAAC,KAAA,MAAO;AAAA,EAAC,YAAYzC,GAAEE,GAAE;AAAC,SAAK,aAAW;AAAK,UAAMuB,IAAE,CAAA;AAAG,eAAUJ,KAAKnB,EAAE,QAAO;AAAC,YAAMH,IAAES,GAAE,aAAaR,GAAEkB,GAAE,aAAYG,CAAC;AAAE,MAAAI,EAAE,KAAK1B,CAAC;AAAA,IAAC;AAAC,UAAM2B,IAAE,CAAE;AAAC,eAAUL,KAAKnB,EAAE,SAAO,CAAA,GAAG;AAAC,YAAMH,IAAES,GAAE,YAAYR,GAAEkB,GAAE,aAAYG,CAAC;AAAE,MAAAK,EAAE,KAAK3B,CAAC;AAAA,IAAC;AAAC,SAAK,SAAO,CAAE;AAAC,eAAUS,KAAKN,EAAE,QAAO;AAAC,UAAI;AAAE,UAASM,EAAE,SAAR,MAAc;AAAC,YAAG,CAACN,EAAE,MAAM,OAAM,IAAI,MAAM,gBAAgB;AAAE,cAAK,EAAC,mBAAkBF,EAAC,IAAEE,EAAE,MAAMM,EAAE,KAAK;AAAE,QAAIR,MAAJ,IAAM,IAAEqB,EAAE,iBAAmBrB,MAAJ,MAAQ,IAAEqB,EAAE;AAAA,MAAa;AAAC,YAAMZ,IAAQD,EAAE,SAAR,OAAckB,EAAElB,EAAE,KAAK,IAAE,MAAKc,IAAE,oBAAI,OAAIK,IAAE,CAAA,GAAGR,IAAE,CAAA;AAAG,iBAAUnB,KAAKQ,EAAE,YAAW;AAAC,cAAK,EAAC,MAAKA,GAAE,OAAMU,GAAE,MAAKG,GAAE,QAAOtB,GAAE,YAAWG,GAAE,SAAQwB,GAAE,QAAOjB,GAAE,QAAOI,GAAE,UAASe,EAAC,IAAE5B,GAAEc,IAAE,iBAAiBD,CAAC;AAAG,YAAIgB,IAAEF,EAAEb,CAAC;AAAE,QAAAe,MAAIA,IAAEF,EAAEb,CAAC,IAAE,CAAA;AAAI,cAAMM,KAAE,IAAIH,GAAET,GAAEU,GAAEG,GAAEtB,GAAEU,GAAEP,GAAEwB,CAAC;AAAE,QAAAG,EAAE,KAAKT,EAAC,GAAEE,EAAE,IAAId,GAAEoB,CAAC,GAAET,EAAEL,CAAC,IAAEW,EAAEZ,CAAC;AAAA,MAAC;AAAC,YAAMA,IAAE,IAAId,GAAEC,GAAEsB,GAAEK,GAAER,GAAEV,CAAC;AAAE,WAAK,OAAO,KAAK,EAAC,GAAGD,GAAE,aAAYK,GAAE,WAAUS,GAAE,QAAOK,GAAE,UAAS,EAAC,CAAC;AAAA,IAAC;AAAC,SAAK,QAAMzB,EAAE;AAAA,EAAK;AAAA,EAAC,KAAKF,GAAEQ,GAAE;AAAC,SAAK,aAAWA;AAAE,UAAK,EAAC,OAAMU,EAAC,IAAE,KAAK,MAAM,KAAK,UAAU,GAAE,EAAC,aAAYG,EAAC,IAAE,KAAK,OAAOH,CAAC;AAAE,IAAAlB,EAAE,QAAQqB,CAAC;AAAA,EAAC;AAAA,EAAC,KAAKb,GAAE;AAAC,QAAS,KAAK,cAAX,KAAsB,OAAM,IAAI,MAAM,kCAAkC;AAAE,UAAK,EAAC,OAAMU,GAAE,OAAMG,EAAC,IAAE,KAAK,MAAM,KAAK,UAAU,GAAE,EAAC,OAAMtB,EAAC,IAAE,KAAK,MAAM,KAAK,UAAU,GAAE,EAAC,UAASkB,GAAE,WAAUf,EAAC,IAAE,KAAK,OAAOH,CAAC;AAAE,IAAAkB,IAAET,EAAE,aAAaN,GAAEmB,GAAEJ,GAAEC,IAAElB,GAAEiB,CAAC,CAAC,IAAET,EAAE,WAAWN,GAAEgB,GAAEG,CAAC;AAAA,EAAC;AAAA,EAAC,OAAOrB,GAAE;AAAC,SAAK,aAAW,MAAKA,EAAE,QAAQ,IAAI;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,eAAS,EAAC,aAAYA,EAAC,KAAI,KAAK,OAAO,CAAAA,EAAE;EAAS;AAAC,QCAh+C,MAAMQ,WAAUa,GAAC;AAAA,EAAC,OAAO,OAAO,GAAEH,GAAE;AAAC,UAAMD,IAAE,CAAE;AAAC,QAAG,EAAC,QAAOlB,GAAE,MAAK4B,EAAC,IAAET,EAAE;AAAO,QAASnB,KAAN,MAAQ;AAAC,MAAAA,IAAE;AAAE,iBAAS,EAAC,OAAMsB,GAAE,MAAKnB,GAAE,QAAOM,EAAC,KAAIU,EAAE,OAAO,YAAW;AAAC,YAASV,KAAN,KAAQ,OAAM,IAAI,MAAM,yFAAyF;AAAE,QAAAT,KAAGsB,IAAErB,GAAEE,CAAC;AAAA,MAAC;AAAA,IAAC;AAAC,QAAIwB,IAAE,GAAED,IAAE;AAAE,eAAS,EAAC,OAAMvB,GAAE,MAAKM,GAAE,QAAOoB,GAAE,MAAKR,GAAE,YAAWS,EAAC,KAAIX,EAAE,OAAO,YAAW;AAAC,MAAMU,KAAN,SAAUH,IAAEG;AAAG,YAAMP,IAAE,EAAC,MAAKb,GAAE,UAASkB,GAAE,QAAO,GAAE,OAAMxB,GAAE,MAAKkB,GAAE,QAAOK,GAAE,QAAO1B,GAAE,SAAQ,GAAE,YAAiB8B,KAAN,QAASA,EAAC;AAAE,MAAAZ,EAAE,KAAKI,CAAC,GAAEK,KAAID,KAAGvB,IAAEF,GAAEoB,CAAC;AAAA,IAAC;AAAC,UAAME,IAAE,EAAC,YAAWL,GAAE,WAAUC,EAAE,UAAS;AAAE,IAAMA,EAAE,SAAR,SAAgBI,EAAE,QAAM;AAAG,QAAG,EAAC,OAAMb,EAAC,IAAES;AAAE,QAAST,KAAN,SAAUA,IAAES,EAAE,QAAMA,EAAE,MAAM,SAAOA,EAAE,OAAO,aAAWnB,GAAE,KAAK,MAAMU,CAAC,MAAIA,GAAG,OAAM,IAAI,MAAM,oFAAoFV,CAAC,GAAG;AAAE,UAAMoB,IAAE,EAAC,OAAM,GAAE,OAAMV,GAAE,OAAM,GAAE,WAAUS,EAAE,UAAS,GAAEL,IAAE,EAAC,QAAO,CAACK,EAAE,MAAM,GAAE,OAAM,CAACC,CAAC,GAAE,QAAO,CAACG,CAAC,EAAC;AAAE,WAAMJ,EAAE,SAAR,SAAgBL,EAAE,QAAM,CAACK,EAAE,KAAK,IAASS,KAAN,SAAUA,IAAEzB,GAAEe,CAAC,IAAU,IAAIT,GAAE,GAAEK,GAAE,EAAC,MAAKc,GAAE,YAAWV,GAAE,QAAOlB,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,YAAYC,GAAEqB,GAAE,GAAE;AAAC,UAAMrB,GAAEqB,CAAC,GAAE,KAAK,SAAO;AAAA,EAAC;AAAA,EAAC,KAAKrB,GAAEqB,IAAE,GAAE;AAAC,UAAM,KAAKrB,GAAEqB,CAAC;AAAA,EAAC;AAAC,GCAlcqB,KAAA,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,kBAAgB,GAAE,KAAK,eAAa,MAAK,KAAK,WAAS;AAAA,EAAI;AAAA,EAAC,UAAS;AAAC,SAAK,iBAAkB,GAAC,KAAK,WAAS,KAAK,QAAQ,QAAO,GAAG,KAAK,YAAU,KAAK,SAAS,QAAO;AAAA,EAAE;AAAA,EAAC,OAAO1C,GAAE;AAAC,QAAS,KAAK,WAAX,MAAmB;AAAC,YAAMD,IAAEsB,GAAEH,IAAEG,GAAEO,IAAE,IAAIf,GAAEd,GAAEmB,CAAC;AAAE,MAAAU,EAAE,eAAapB,GAAE,SAAQoB,EAAE,WAAS1B,GAAE;AAAc,YAAMO,IAAE,IAAI6B,GAAEtC,GAAE,IAAIoB,GAAEH,GAAE,eAAclB,GAAEmB,CAAC,CAAC;AAAE,WAAK,UAAQ,IAAIS,GAAE3B,GAAE4B,GAAEnB,CAAC;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,kBAAkBT,GAAE;AAAC,QAAS,KAAK,YAAX,MAAoB;AAAC,YAAMQ,IAAEa,GAAE,IAAEb,IAAEA,GAAES,IAAE,GAAES,IAAE,IAAI,WAAW,IAAET,CAAC;AAAE,eAAQjB,IAAE,GAAEA,IAAEQ,GAAER,IAAI,UAAQqB,IAAE,GAAEA,IAAEb,GAAEa,IAAI,CAAAK,EAAET,KAAGI,IAAErB,IAAEQ,EAAE,IAAEa,GAAEK,EAAET,KAAGI,IAAErB,IAAEQ,KAAG,CAAC,IAAER;AAAE,YAAM2B,IAAE,CAAC,EAAC,OAAM,GAAE,MAAKC,EAAE,gBAAe,MAAK,cAAa,QAAO,EAAC,CAAC,GAAEU,IAAE,EAAC,MAAKpB,GAAES,CAAC,GAAE,YAAWA,GAAE,QAAO,EAAC;AAAE,WAAK,WAAS5B,GAAE,OAAOC,GAAE,EAAC,WAAUS,GAAE,QAAO,QAAOiB,GAAE,OAAM,GAAE,QAAOY,EAAC,CAAC;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAQ;AAAA,EAAC,sBAAsB,GAAEvC,GAAEmB,GAAE;AAAC,QAAG,KAAK,oBAAkBnB,KAAG,KAAK,UAAQmB,MAAI,KAAK,iBAAkB,GAAC,KAAK,kBAAgBnB,GAAE,KAAK,QAAMmB,IAAU,KAAK,iBAAZ,MAAyB;AAAC,YAAM,IAAE,IAAIlB,GAAEkB,CAAC;AAAE,WAAK,eAAa,CAAC,KAAK,wBAAwB,GAAEnB,GAAE,CAAC,GAAE,KAAK,wBAAwB,GAAEA,GAAE,CAAC,CAAC;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAY;AAAA,EAAC,mBAAkB;AAAC,QAAG,KAAK,cAAa;AAAC,eAAQC,IAAE,GAAEA,IAAE,KAAK,aAAa,QAAOA,IAAI,MAAK,aAAaA,CAAC,EAAE,QAAS;AAAC,WAAK,eAAa;AAAA,IAAI;AAAA,EAAC;AAAA,EAAC,wBAAwBA,GAAEqB,GAAEtB,GAAE;AAAC,UAAMmB,IAAE,IAAI,aAAaG,IAAEA,IAAE,CAAC;AAAE,aAAQb,IAAE,GAAEA,IAAEU,EAAE,QAAOV,IAAI,CAAAU,EAAEV,CAAC,IAAET,EAAE,SAAQ;AAAG,UAAMG,IAAE,IAAIW;AAAE,WAAOX,EAAE,WAASwB,GAAE,OAAMxB,EAAE,eAAaM,GAAE,SAAQN,EAAE,QAAMmB,GAAEnB,EAAE,SAAOmB,GAAE,IAAIgB,GAAErC,GAAEE,GAAEgB,CAAC;AAAA,EAAC;AAAC,QCA56C,cAAgBT,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,UAAQ,EAAC,SAAQ,IAAIa,MAAE,OAAM,IAAII,MAAE,MAAK,IAAIN,KAAC,GAAE,KAAK,aAAWD,EAAE,sBAAqB,KAAK,aAAW,oBAAI;AAAA,EAAG;AAAA,EAAC,OAAO,GAAE,GAAE;AAACD,IAAAA,GAAE,CAAC,KAAGV,EAAE,CAAC,IAAE,KAAK,gBAAgB,GAAE,CAAC,IAAE,KAAK,kBAAkB,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAgB,GAAE,GAAE;AAAC,UAAK,EAAC,SAAQ,GAAE,SAAQU,EAAC,IAAE;AAAE,IAAAA,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,MAAK,UAAS,EAAC,GAAGnB,EAAE,GAAE,EAAE,MAAM,GAAE,qBAAoB,MAAK,uBAAsB,KAAI,GAAE,SAAQ,EAAC,GAAGkB,EAAE,CAAC,EAAC,GAAE,oBAAmB,EAAC,WAAU,GAAE,GAAE,kBAAiBT,EAAE,CAAC,EAAC,CAAC,GAAEU,EAAE,iBAAiBO,EAAE,CAAC,CAAC,GAAEP,EAAE,WAAW,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBA,GAAEV,GAAE;AAAC,UAAK,EAAC,SAAQC,GAAE,SAAQiB,GAAE,eAAcJ,EAAC,IAAEJ,GAAEU,IAAEpB,EAAE,SAAS,SAAU,GAACW,IAAE,KAAK,4BAA4BV,CAAC,GAAEW,IAAED,EAAE,sBAAsBV,GAAEY,GAAEO,EAAE,IAAI,GAAEf,IAAE,IAAE,MAAIS,IAAEd,EAAE,OAAO,IAAI,QAAOL,IAAEkB,GAAEQ,IAAE1B,IAAE,OAAO,mBAAiBA,IAAE,OAAO,kBAAiB6B,IAAE,IAAEnB,KAAG,IAAEA,IAAGC,IAAEc,EAAE,WAASV,EAAE,MAAM,QAAMU,EAAE,WAAS,GAAEL,IAAEK,EAAE,WAASd,IAAEkB;AAAE,IAAAN,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,SAAQ,UAAS,EAAC,GAAG3B,EAAEmB,GAAEV,EAAE,MAAM,GAAE,UAAS,EAAC,UAASoB,EAAE,UAAS,QAAOA,EAAE,QAAO,UAAS,KAAK,IAAI,GAAEL,CAAC,EAAC,GAAE,MAAK,EAAC,aAAY,EAAC,MAAKvB,IAAE,SAAQoB,EAAE,CAAC,EAAC,GAAE,aAAY,EAAC,MAAKlB,IAAE,SAAQkB,EAAE,CAAC,EAAC,GAAE,gBAAeP,GAAE,YAAW,OAAO,kBAAiB,kBAAiBgB,KAAGR,IAAE,OAAO,mBAAiBA,IAAE,OAAO,kBAAiB,EAAC,GAAE,SAAQ,EAAC,GAAGJ,EAAEC,CAAC,GAAE,UAASU,EAAE,SAAQ,GAAE,oBAAmB,CAAE,GAAC,kBAAiB,GAAE,CAAC,GAAEF,EAAE,iBAAiBD,EAAEP,CAAC,CAAC;AAAE,UAAMP,IAAEF,EAAE,YAAW;AAAG,IAAAA,EAAE,YAAY,GAAE,GAAEY,GAAEA,CAAC;AAAE,UAAMN,IAAEN,EAAE,0BAA2B,GAACH,IAAEa,EAAE,OAAOV,CAAC;AAAE,IAAAA,EAAE,gBAAgBH,CAAC,GAAEG,EAAE,cAAc,GAAE,GAAE,GAAE,CAAC,GAAEiB,EAAE,iBAAiB,EAAC,OAAM,EAAC,OAAM,CAAC,IAAG,IAAG,IAAG,EAAE,GAAE,WAAU,YAAW,GAAE,OAAM,IAAG,SAAQ,GAAE,CAAC,GAAEA,EAAE,oBAAoBjB,CAAC,GAAEA,EAAE,MAAMe,GAAE,gBAAgB,GAAEE,EAAE,WAAWjB,GAAED,CAAC,GAAEC,EAAE,gBAAgBM,CAAC,GAAEN,EAAE,YAAYE,EAAE,GAAEA,EAAE,GAAEA,EAAE,OAAMA,EAAE,MAAM;AAAE,UAAMD,IAAES,EAAE,OAAOV,CAAC,EAAE;AAAa,IAAAiB,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,OAAM,UAAS,EAAC,MAAKC,GAAET,GAAEV,EAAE,MAAM,GAAE,UAAS,EAAC,SAAQoB,EAAE,QAAO,GAAE,MAAK,EAAC,WAAU,EAAC,MAAK5B,IAAE,SAAQU,EAAC,GAAE,gBAAe,GAAE,YAAW,OAAO,iBAAgB,EAAC,GAAE,SAAQ,EAAC,GAAGO,EAAEC,CAAC,EAAC,GAAE,oBAAmB,CAAA,GAAG,kBAAiB,GAAE,CAAC,GAAEQ,EAAE,iBAAiB,EAAC,OAAM,EAAC,OAAM,CAAC,IAAG,IAAG,IAAG,EAAE,GAAE,WAAU,YAAW,GAAE,OAAM,IAAG,SAAQ,GAAE,CAAC,GAAEA,EAAE,eAAejB,GAAEU,EAAE,kBAAkBV,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,SAAS,GAAE;AAAC,UAAM,SAAS,CAAC,GAAE,KAAK,WAAW,IAAI,CAAC,GAAG,QAAS,GAAC,KAAK,WAAW,OAAO,CAAC;AAAA,EAAC;AAAA,EAAC,4BAA4B,GAAE;AAAC,QAAI,IAAE,KAAK,WAAW,IAAI,CAAC;AAAE,WAAa,KAAN,SAAU,IAAE,IAAImB,MAAE,KAAK,WAAW,IAAI,GAAE,CAAC,IAAG;AAAA,EAAC;AAAC,GCA9kFe,KAAA,cAAgBlB,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,aAAWR,EAAE,uBAAsB,KAAK,UAAQ,EAAC,UAAS,IAAIG,KAAC;AAAA,EAAC;AAAA,EAAC,OAAOK,GAAER,GAAE;AAAC,UAAK,EAAC,SAAQG,GAAE,SAAQQ,EAAC,IAAEH;AAAE,IAAAG,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGP,EAAEI,GAAER,EAAE,QAAOA,EAAE,SAAS,SAAQ,EAAG,QAAQ,GAAE,GAAGjB,EAAEyB,GAAER,EAAE,MAAM,GAAE,YAAWW,EAAE,eAAe,cAAcR,GAAEH,EAAE,UAAU,GAAE,iBAAgBT,GAAES,EAAE,MAAM,EAAC,GAAE,SAAQ,EAAC,GAAGlB,EAAE0B,CAAC,EAAC,GAAE,oBAAmBR,EAAE,SAAS,oBAAmB,kBAAiBf,EAAEuB,CAAC,EAAC,CAAC,GAAEG,EAAE,iBAAiBV,EAAEO,CAAC,CAAC,GAAEG,EAAE,WAAWR,GAAEH,CAAC;AAAA,EAAC;AAAC;ACAl2B,SAASA,GAAEA,GAAE;AAAC,QAAMjB,IAAE,IAAEiB;AAAE,SAAM,EAAC,cAAajB,GAAE,MAAK,IAAEA,EAAC;AAAC;ACA6X,IAAA4C,KAAA,cAAgB3B,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,aAAWU,EAAE,8BAA6B,KAAK,UAAQ,EAAC,UAAS,IAAIP,KAAC;AAAA,EAAC;AAAA,EAAC,OAAOH,GAAEU,GAAE;AAAC,UAAK,EAAC,SAAQP,GAAE,SAAQM,GAAE,YAAWP,EAAC,IAAEF;AAAE,IAAAS,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGL,EAAEJ,GAAEU,EAAE,QAAOA,EAAE,SAAS,WAAW,QAAQ,GAAE,GAAG3B,EAAEiB,GAAEU,EAAE,MAAM,GAAE,sBAAqBF,GAAEN,CAAC,GAAE,YAAWO,EAAE,eAAe,cAAcN,GAAEO,EAAE,UAAU,GAAE,iBAAgBnB,GAAEmB,EAAE,MAAM,EAAC,GAAE,SAAQ,EAAC,GAAG5B,EAAEkB,CAAC,EAAC,GAAE,oBAAmBU,EAAE,SAAS,oBAAmB,kBAAiBzB,EAAEe,CAAC,EAAC,CAAC,GAAES,EAAE,iBAAiBR,EAAED,CAAC,CAAC,GAAES,EAAE,WAAWN,GAAEO,CAAC;AAAA,EAAC;AAAC,GCAlpBkB,KAAA,cAAgB3B,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,aAAWD,EAAE,gBAAe,KAAK,UAAQ,EAAC,UAAS,IAAIQ,KAAC;AAAA,EAAC;AAAA,EAAC,OAAOP,GAAED,GAAE;AAAC,UAAK,EAAC,SAAQQ,GAAE,SAAQL,EAAC,IAAEF;AAAE,IAAAE,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGC,EAAEH,GAAED,EAAE,QAAOA,EAAE,SAAS,SAAQ,EAAG,QAAQ,GAAE,GAAGjB,EAAEkB,GAAED,EAAE,MAAM,EAAC,GAAE,SAAQT,EAAEU,CAAC,GAAE,oBAAmBD,EAAE,SAAS,oBAAmB,kBAAiBlB,EAAEmB,CAAC,EAAC,CAAC,GAAEE,EAAE,iBAAiBlB,EAAEgB,CAAC,CAAC,GAAEE,EAAE,WAAWK,GAAER,CAAC;AAAA,EAAC;AAAC,GCA1U6B,KAAA,cAAgB5B,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,aAAWO,EAAE,uBAAsB,KAAK,UAAQ,EAAC,UAAS,IAAIL,KAAC;AAAA,EAAC;AAAA,EAAC,OAAOF,GAAEO,GAAE;AAAC,UAAK,EAAC,SAAQL,GAAE,SAAQO,GAAE,YAAWD,EAAC,IAAER;AAAE,IAAAS,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGN,EAAEH,GAAEO,EAAE,QAAOA,EAAE,SAAS,SAAU,EAAC,QAAQ,GAAE,GAAGzB,EAAEkB,GAAEO,EAAE,MAAM,GAAE,sBAAqBR,GAAES,CAAC,EAAC,GAAE,SAAQ,EAAC,GAAGlB,EAAEU,CAAC,EAAC,GAAE,oBAAmBO,EAAE,SAAS,oBAAmB,kBAAiB1B,EAAEmB,CAAC,EAAC,CAAC,GAAES,EAAE,iBAAiBzB,EAAEgB,CAAC,CAAC,GAAES,EAAE,WAAWP,GAAEK,CAAC;AAAA,EAAC;AAAC,GCAzesB,KAAA,cAAgBtB,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,aAAWR,EAAE,uBAAsB,KAAK,UAAQ,EAAC,UAAS,IAAIG,KAAC;AAAA,EAAC;AAAA,EAAC,OAAOK,GAAER,GAAE;AAAC,UAAK,EAAC,SAAQG,GAAE,SAAQQ,EAAC,IAAEH;AAAE,IAAAG,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGP,EAAEI,GAAER,EAAE,QAAOA,EAAE,SAAS,SAAQ,EAAG,QAAQ,GAAE,GAAGjB,EAAEyB,GAAER,EAAE,MAAM,GAAE,YAAWW,EAAE,eAAe,cAAcR,GAAEH,EAAE,UAAU,GAAE,iBAAgBT,GAAES,EAAE,MAAM,EAAC,GAAE,SAAQ,EAAC,GAAGlB,EAAE0B,CAAC,EAAC,GAAE,oBAAmBR,EAAE,SAAS,oBAAmB,kBAAiBf,EAAEuB,CAAC,EAAC,CAAC,GAAEG,EAAE,iBAAiBV,EAAEO,CAAC,CAAC,GAAEG,EAAE,WAAWR,GAAEH,CAAC;AAAA,EAAC;AAAC,GCA5a+B,KAAA,cAAgB/B,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,aAAWU,EAAE,8BAA6B,KAAK,UAAQ,EAAC,UAAS,IAAIP,KAAC;AAAA,EAAC;AAAA,EAAC,OAAOH,GAAEU,GAAE;AAAC,UAAK,EAAC,SAAQP,GAAE,SAAQM,GAAE,YAAWE,EAAC,IAAEX;AAAE,IAAAS,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGL,EAAEJ,GAAEU,EAAE,QAAOA,EAAE,SAAS,WAAW,QAAQ,GAAE,GAAG3B,EAAEiB,GAAEU,EAAE,MAAM,GAAE,sBAAqBF,GAAEG,CAAC,GAAE,YAAWF,EAAE,eAAe,cAAcN,GAAEO,EAAE,UAAU,GAAE,iBAAgBnB,GAAEmB,EAAE,MAAM,EAAC,GAAE,SAAQ,EAAC,GAAG5B,EAAEkB,CAAC,EAAC,GAAE,oBAAmBU,EAAE,SAAS,oBAAmB,kBAAiBzB,EAAEe,CAAC,EAAC,CAAC,GAAES,EAAE,iBAAiBR,EAAED,CAAC,CAAC,GAAES,EAAE,WAAWN,GAAEO,CAAC;AAAA,EAAC;AAAC,GCA/0BsB,KAAA,MAAO;AAAA,EAAC,YAAY,GAAE,GAAEzC,GAAEU,GAAE;AAAC,SAAK,WAAS,GAAE,KAAK,eAAa,GAAE,KAAK,cAAYV,GAAE,KAAK,iBAAeU;AAAA,EAAC;AAAC;AAAC,SAASD,GAAEA,GAAEf,GAAE;AAAC,QAAK,EAAC,cAAaW,GAAE,kBAAiBd,EAAC,IAAEkB,EAAE,cAAaS,IAAEb,GAAG,oBAAmByB,IAAEvC,GAAG,cAAaqB,IAAErB,GAAG,kBAAiBoB,IAAEpB,GAAG,YAAWuB,IAAEL,EAAE,WAAW,iBAAiB;AAAO,MAAG,CAACqB,KAAG,CAAClB,EAAE,OAAM,IAAIC,GAAE,sCAAqC,iIAAiI;AAAE,MAAG,EAAEF,KAAGG,KAAGF,GAAG,OAAM,IAAIC,GAAE,+BAA8B,kGAAgGC,IAAE,KAAG,qFAAqF;AAAE,QAAMb,IAAE6B,KAAGnB,KAAGG,GAAEM,IAAER,GAAEN,IAAEY,GAAEf,IAAE,CAAC,CAACZ,GAAG,MAAKmD,IAAE,CAAC,CAACnD,GAAG;AAAK,MAAGU,KAAGK,EAAE,QAAOA,KAAGZ,EAAE,SAAS,mFAAmF,GAAE,IAAIyB,GAAE3B,GAAE,OAAMc,IAAEN,GAAE,SAAOA,GAAE,SAAQG,IAAEO,GAAE,MAAIA,GAAE,MAAKP,IAAEc,GAAE,OAAKP,GAAE,IAAI;AAAE,MAAGU,EAAE,QAAO,IAAID,GAAE3B,GAAE,YAAWQ,GAAE,QAAO0C,IAAEhC,GAAE,MAAIA,GAAE,MAAKgC,IAAEzB,GAAE,OAAKP,GAAE,IAAI;AAAE,QAAM,IAAIG,GAAE,oCAAmC,8GAA8G;AAAC;ACAvrB,MAAMD,KAAE,MAAIC,GAAE,UAAU,4EAA4E;SAAE,MAAO;AAAA,EAAC,UAAS;AAAC,SAAK,yBAAuBb,GAAE,KAAK,sBAAsB,GAAE,KAAK,0BAAwBA,GAAE,KAAK,uBAAuB,GAAE,KAAK,oBAAkB,MAAK,KAAK,kBAAgB;AAAA,EAAI;AAAA,EAAC,IAAI,cAAa;AAAC,WAAa,KAAK,0BAAX,QAAyC,KAAK,2BAAX;AAAA,EAAkC;AAAA,EAAC,IAAI,wBAAuB;AAAC,WAAO,KAAK;AAAA,EAAsB;AAAA,EAAC,IAAI,yBAAwB;AAAC,WAAO,KAAK;AAAA,EAAuB;AAAA,EAAC,mBAAmB,GAAE;AAAC,QAAS,KAAK,mBAAX,MAA2B;AAAC,YAAMA,IAAEkB,GAAE,GAAEN,GAAC,CAAE;AAAE,WAAK,kBAAgB,EAAC,GAAGZ,GAAE,SAAQ,EAAC,wBAAuBA,EAAE,aAAWR,GAAE,MAAK,EAAC;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAe;AAAA,EAAC,oBAAoB,GAAEQ,GAAER,GAAE;AAAC,QAAS,KAAK,0BAAX,MAAkC;AAAC,YAAK,EAAC,UAAS0B,GAAE,cAAaR,GAAE,aAAYE,GAAE,gBAAeP,EAAC,IAAE,KAAK,mBAAmB,CAAC,GAAEe,IAAE,IAAIX,GAAET,GAAER,CAAC;AAAE,MAAA4B,EAAE,cAAYR,GAAEQ,EAAE,iBAAef,GAAEe,EAAE,WAASF,GAAEE,EAAE,eAAaV,GAAEU,EAAE,WAASH,GAAE;AAAc,YAAMH,IAAE,IAAIK,GAAEzB,GAAE,eAAcM,GAAER,CAAC;AAAE,WAAK,yBAAuB,IAAID,GAAE,GAAE6B,GAAEN,CAAC;AAAA,IAAC,OAAK;AAAC,YAAK,EAAC,OAAMD,GAAE,QAAO,EAAC,IAAE,KAAK;AAAuB,MAAAA,MAAIb,KAAG,MAAIR,KAAG,KAAK,uBAAuB,OAAOQ,GAAER,CAAC;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAsB;AAAA,EAAC,6BAA6B,GAAEQ,GAAER,GAAE;AAAC,QAAS,KAAK,2BAAX,MAAmC;AAAC,YAAM,IAAE,IAAIiB;AAAE,QAAE,WAASQ,GAAE,eAAc,KAAK,0BAAwB,IAAIP,GAAE,GAAE,CAAC;AAAA,IAAC,MAAM,MAAK,sBAAoBV,MAAI,KAAK,wBAAwB,OAAOR,EAAE,SAAO,GAAE,CAAC,GAAE,KAAK,wBAAwB,QAAQA,CAAC,GAAE,KAAK,oBAAkBQ;AAAG,WAAO,KAAK;AAAA,EAAuB;AAAC;ACA5mE,SAASS,GAAEA,GAAE;AAAC,SAAOA,IAAE,OAAI;AAAC;SCA6c,cAAgBM,GAAC;AAAEvB;AAAAA,EAAE,CAACD,EAAE,GAAEU,CAAC,CAAC,GAAEC,GAAE,WAAU,UAAS,MAAM;AAAC,IAAAyC,KAAC,cAAgBtC,GAAC;AAAE,GAAAuC,KAAA,cAAgBlD,GAAC;AAAA;AAAEF,EAAE,CAACkB,EAAEC,CAAC,CAAC,GAAEhB,GAAE,WAAU,UAAS,MAAM,GAAEH,EAAE,CAACkB,EAAEC,CAAC,CAAC,GAAEhB,GAAE,WAAU,iBAAgB,MAAM;AAAC,IAAAkD,KAAC,cAAgBzB,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,yBAAuB;AAAA,EAAE;AAAA,EAAC,OAAO5B,GAAE;AAAC,UAAK,EAAC,QAAOqB,GAAE,eAActB,EAAC,IAAE,KAAK,gBAAeG,IAAEF,EAAE,QAAOkB,IAAEnB,EAAE,SAAS,KAAK,QAAQ,UAAUC,EAAE,EAAE,EAAE,CAAC,EAAE,IAAI,IAAImB,EAAE,CAAC,EAAE,SAASpB,CAAC,CAAC,GAAE4B,IAAE,KAAK,KAAK,sBAAsB,SAAS,IAAIF,EAAEzB,EAAE,KAAI,CAAC,CAAC,EAAE,IAAI,KAAK,KAAK,gBAAgB,SAAS,IAAIyB,EAAEvB,GAAE,CAAC,CAAC,EAAE,SAASmB,CAAC,CAAC,GAAEb,IAAE,KAAK,KAAKR,EAAE,EAAE;AAAE,WAAM,EAAC,YAAW,IAAIiB,EAAEU,EAAE,IAAGnB,GAAE,CAAC,GAAE,QAAON,GAAE,YAAWgB,GAAE,OAAM,IAAID,EAAE,CAAC,GAAE,GAAG,KAAK,gBAAgBjB,GAAE,CAAE,GAAC,IAAI,EAAC;AAAA,EAAC;AAAA,EAAC,SAASA,GAAE;AAAC,UAAK,EAAC,QAAOqB,GAAE,YAAWtB,EAAC,IAAEC,GAAEE,IAAEwB,GAAEL,CAAC,GAAEH,IAAEE,EAAElB,GAAE,IAAIiB,EAAE,CAAC,CAAC,GAAEQ,IAAE,IAAIR,EAAE,CAAC,EAAE,SAASjB,EAAE,SAASA,CAAC,CAAC,GAAEM,IAAEmB,EAAE,SAASA,CAAC,GAAEF,IAAEP,EAAE,SAASV,CAAC,EAAE,SAAST,CAAC,EAAE,SAAS,IAAIoB,EAAEG,GAAE,KAAK,sBAAsB,CAAC,CAAC;AAAE,WAAO,KAAK,kBAAkB,IAAIL,EAAEQ,CAAC,GAAEzB,CAAC;AAAA,EAAC;AAAA,EAAC,QAAQA,GAAE;AAAC,UAAK,EAAC,UAASqB,GAAE,UAAStB,EAAC,IAAE,KAAK,MAAKG,IAAEmB,EAAE,SAAStB,CAAC,EAAE,SAAS,IAAI0B,EAAEzB,EAAE,KAAI,CAAC,CAAC;AAAE,WAAOwB,GAAEtB,EAAE,IAAG,KAAK,eAAe,QAAO,KAAK,eAAe,QAAQ;AAAA,EAAC;AAAC;AAACF,EAAE,CAAC2B,EAAC,GAAEI,GAAE,WAAU,0BAAyB,MAAM,GAAE/B,EAAE,CAACkB,EAAEf,EAAC,CAAC,GAAE4B,GAAE,WAAU,kBAAiB,MAAM,GAAE/B,EAAE,CAACqB,EAAE,GAAEb,EAAEE,EAAC,CAAC,CAAC,GAAEqB,GAAE,WAAU,UAAS,IAAI,GAAE/B,EAAE,CAACqB,EAAE,GAAEb,EAAEqB,EAAC,CAAC,CAAC,GAAEE,GAAE,WAAU,YAAW,IAAI;SCA5xC,cAAgBb,GAAC;AAAA;AAAElB,EAAE,CAACQ,EAAE,GAAEe,CAAC,CAAC,GAAEM,GAAE,WAAU,OAAM,MAAM;AAAE,IAAAyB,KAAA,cAAgBvD,GAAC;QAAE,cAAgBkB,GAAC;AAAEjB;AAAAA,EAAE,CAACE,EAAEQ,CAAC,CAAC,GAAEkB,GAAE,WAAU,WAAU,MAAM,GAAE5B,EAAE,CAACE,EAAEqB,CAAC,CAAC,GAAEK,GAAE,WAAU,kBAAiB,MAAM,GAAE5B,EAAE,CAACE,EAAEoB,CAAC,CAAC,GAAEM,GAAE,WAAU,iBAAgB,MAAM;AAAE,IAAA2B,KAAA,cAAgBtC,GAAC;AAAEjB;AAAAA,EAAE,CAACE,EAAEQ,CAAC,CAAC,GAAEc,GAAE,WAAU,WAAU,MAAM;SAAE,cAAgBC,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,yBAAuB;AAAA,EAAE;AAAA,EAAC,OAAOzB,GAAE;AAAC,WAAM,EAAC,YAAW,IAAIoB,EAAEpB,EAAE,IAAI,SAAS,CAAC,EAAE,SAAS,CAAC,GAAE,GAAE,CAAC,GAAE,IAAGA,EAAE,IAAG;AAAA,EAAC;AAAA,EAAC,SAASA,GAAE;AAAC,UAAK,EAAC,oBAAmBqB,GAAE,UAASH,EAAC,IAAE;AAAK,QAAI,IAAET,EAAEY,EAAE,SAAQrB,EAAE,EAAE,EAAE,EAAE,SAAS,IAAIsB,EAAEnB,GAAE,KAAK,sBAAsB,CAAC,CAAC;AAAE,QAAE,EAAE,SAASkB,EAAE,aAAa,GAAE,IAAE,EAAE,SAASA,EAAE,eAAe,CAAC,EAAE,SAASA,EAAE,eAAe,CAAC;AAAE,UAAMtB,IAAEU,EAAES,EAAE,SAAQ,IAAIK,EAAE,GAAE,GAAE,CAAC,GAAEN,IAAE,IAAIE;AAAE,WAAOF,EAAE,cAAY,IAAIG,EAAErB,EAAE,IAAI,SAASA,EAAE,CAAC,GAAEA,EAAE,CAAC,GAAEkB;AAAA,EAAC;AAAC;AAACjB,EAAE,CAAC2B,EAAC,GAAEb,GAAE,WAAU,0BAAyB,MAAM,GAAEd,EAAE,CAACE,EAAE0B,EAAC,CAAC,GAAEd,GAAE,WAAU,sBAAqB,MAAM,GAAEd,EAAE,CAACE,EAAEsB,EAAC,CAAC,GAAEV,GAAE,WAAU,YAAW,MAAM,GAAEd,EAAE,CAACqB,EAAE,GAAEK,EAAEG,EAAC,CAAC,CAAC,GAAEf,GAAE,WAAU,UAAS,IAAI,GAAEd,EAAE,CAACqB,EAAE,GAAEK,EAAEb,EAAC,CAAC,CAAC,GAAEC,GAAE,WAAU,YAAW,IAAI;ACApzB,IAAA0C,KAAA,cAAgBtD,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,aAAWgB,EAAE,mBAAkB,KAAK,UAAQ,EAAC,YAAW,IAAIQ,MAAE,SAAQ,IAAID,KAAC,GAAE,KAAK,wBAAsB,IAAG,KAAK,WAAS,IAAG,KAAK,aAAW,oBAAI,OAAI,KAAK,qBAAmBZ;AAAAA,EAAC;AAAA,EAAC,SAAS,GAAE;AAAC,UAAM,SAAS,CAAC,GAAE,KAAK,WAAW,IAAI,CAAC,GAAG,QAAO,GAAG,KAAK,WAAW,OAAO,CAAC,GAAE,KAAK,WAAS,MAAK,KAAK,QAAS;AAAA,EAAA;AAAA,EAAC,OAAOX,GAAEe,GAAE;AAAC,UAAK,EAAC,SAAQC,GAAE,SAAQQ,GAAE,OAAM,EAAC,IAAExB,GAAEO,IAAEQ,EAAE,SAAS,SAAU,GAAC,EAAC,eAAcW,EAAC,IAAEnB,GAAEkB,IAAE,KAAK,4BAA4BT,CAAC,GAAEI,IAAEK,EAAE,mBAAmBT,CAAC;AAAE,QAAGG,GAAEnB,CAAC,EAAE;AAAOF,IAAAA,EAAEE,CAAC,KAAG,KAAK,MAAMA,GAAEyB,GAAElB,CAAC,GAAEiB,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,YAAW,UAAS,EAAC,GAAGlB,EAAEN,GAAEe,EAAE,MAAM,GAAE,gBAAe,EAAC,QAAOd,GAAEM,GAAE,CAAC,GAAE,eAAcmB,IAAE,IAAE,EAAC,EAAC,GAAE,SAAQ,EAAC,GAAG7B,EAAEG,CAAC,GAAE,GAAGoB,EAAE,QAAO,GAAE,oBAAmBL,EAAE,SAAS,oBAAmB,kBAAiBjB,EAAEE,CAAC,EAAC,CAAC;AAAE,UAAMiB,IAAEnB,EAAEE,CAAC,IAAEY,KAAEwB;AAAE,IAAAZ,EAAE,iBAAiBP,CAAC,GAAEO,EAAE,WAAWR,GAAED,CAAC;AAAA,EAAC;AAAA,EAAC,YAAYT,GAAET,GAAE;AAAC,QAAGC,EAAEQ,CAAC,KAAGa,GAAEb,CAAC,EAAE;AAAO,UAAK,EAAC,SAAQ,GAAE,SAAQS,EAAC,IAAET,GAAEU,IAAE,KAAK,WAAW,IAAI,CAAC;AAAE,QAAS,KAAK,YAAX,QAA2B,KAAK,iBAAX,QAA0B,CAACA,GAAG,YAAY;AAAO,UAAK,EAAC,SAAQQ,EAAC,IAAER,EAAE,mBAAmB,CAAC,GAAE,EAAC,YAAWO,GAAE,YAAWhB,GAAE,QAAOmB,EAAC,IAAE7B,EAAE,SAAU,GAAC4B,IAAE,GAAEL,IAAE,GAAEH,IAAED,EAAE,uBAAsB,IAAEA,EAAE;AAAuB,IAAAD,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,SAAQ,UAAS,EAAC,oBAAmB,EAAC,SAAQ,EAAC,MAAKU,GAAE,SAAQR,EAAE,aAAY,GAAE,gBAAe,CAACM,GAAE,KAAGhB,IAAEgB,EAAE,GAAE,eAAc,KAAGG,IAAEA,IAAE,KAAK,IAAG,GAAE,UAAS,EAAC,SAAQ,EAAC,MAAKN,GAAE,SAAQ,EAAC,EAAC,EAAC,GAAE,SAAQI,GAAE,oBAAmB,CAAA,GAAG,kBAAiB,GAAE,CAAC,GAAE,EAAE,gBAAgB,KAAK,QAAQ,GAAE,EAAE,YAAY,GAAE,GAAE,KAAK,cAAc,OAAM,KAAK,cAAc,MAAM,GAAE,EAAE,YAAYP,EAAE,cAAaQ,CAAC,GAAE,EAAE,YAAY,GAAEL,CAAC,GAAEL,EAAE,iBAAiBO,EAAC,GAAEP,EAAE,eAAe,CAAC,GAAE,KAAK,QAAS;AAAA,EAAA;AAAA,EAAC,4BAA4B,GAAE;AAAC,QAAI,IAAE,KAAK,WAAW,IAAI,CAAC;AAAE,WAAa,KAAN,SAAU,IAAE,IAAIA,MAAE,KAAK,WAAW,IAAI,GAAE,CAAC,IAAG;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,WAAS,MAAK,KAAK,gBAAc,MAAK,KAAK,WAAS;AAAA,EAAE;AAAA,EAAC,MAAM,GAAE,GAAET,GAAE;AAAC,QAAG,KAAK,SAAS;AAAO,UAAK,EAAC,SAAQT,GAAE,OAAMG,GAAE,YAAWe,EAAC,IAAE,GAAEC,IAAEnB,EAAE,0BAAyB,GAAG,IAAEA,EAAE,YAAW;AAAG,SAAK,WAASmB,GAAE,KAAK,gBAAc;AAAE,UAAK,EAAC,UAASO,GAAE,cAAa,EAAC,IAAEjB;AAAE,MAAE,6BAA6BT,GAAE,GAAE0B,CAAC;AAAE,UAAK,EAAC,OAAM,GAAE,QAAON,EAAC,IAAE,GAAEN,IAAEO,GAAEjB,GAAEK,GAAEN,CAAC,GAAEe,CAAC,GAAEqB,IAAE,IAAEzB,GAAE,IAAEM,IAAEN,GAAEW,IAAE,EAAE,oBAAoBzB,GAAEuC,GAAE,CAAC;AAAE,IAAAvC,EAAE,gBAAgBmB,GAAEM,GAAE,GAAE,GAAEN,EAAE,OAAMA,EAAE,QAAO,GAAE,GAAEM,EAAE,OAAMA,EAAE,QAAOG,GAAE,oBAAmBL,GAAE,OAAO,GAAEvB,EAAE,gBAAgByB,CAAC,GAAEzB,EAAE,YAAY,GAAE,GAAEyB,EAAE,OAAMA,EAAE,MAAM,GAAEzB,EAAE,aAAa,IAAG,IAAG,IAAG,EAAE,GAAEA,EAAE,cAAc,GAAE,GAAE,GAAE,CAAC,GAAEA,EAAE,MAAM4B,GAAE,gBAAgB,GAAE,KAAK,WAAS;AAAA,EAAE;AAAC;AAAC,SAASP,GAAEC,GAAErB,GAAE;AAAC,QAAMQ,IAAER,IAAE,MAAI,OAAI;AAAG,SAAOqB,IAAE,KAAG,IAAEb,KAAG,IAAEA;AAAC;AAAC,SAASK,GAAEQ,GAAE;AAAC,SAAOA,EAAE,IAAI,QAAM;AAAC;AAAC,MAAMiB,KAAE,EAAC,OAAM,EAAC,OAAM,CAAC,IAAG,IAAG,IAAG,EAAE,GAAE,WAAU,WAAU,GAAE,OAAM,IAAG,SAAQ,EAAC,OAAM,IAAG,MAAK,EAAC,KAAIzB,IAAE,SAAQJ,GAAE,QAAO,MAAK,KAAI,IAAG,EAAC,MAAKmB,GAAE,MAAK,OAAMA,GAAE,MAAK,OAAMA,GAAE,QAAO,EAAC,EAAC,EAAC,GAAEd,KAAE,EAAC,GAAGwB,IAAE,SAAQ,GAAE,GAAEd,KAAE,EAAC,OAAM,EAAC,OAAM,CAAC,IAAG,IAAG,IAAG,EAAE,GAAE,WAAU,YAAW,GAAE,OAAM,IAAG,SAAQ,GAAE;AAAE,SAASrB,GAAEkB,GAAErB,GAAE;AAAC,QAAK,EAAC,gBAAeQ,GAAE,QAAOT,EAAC,IAAEsB;AAAE,SAAOtB,KAAOS,MAAJ,IAAMA,IAAER,EAAE,QAAM;AAAE;SCAv/F,cAAgBqB,GAAC;AAAA,EAAC,kBAAkBrB,GAAE;AAAC,WAAOkB,GAAEf,GAAEH,CAAC,GAAED,GAAE,SAAQ,GAAI,MAAI;AAAC,YAAMsB,IAAE,KAAK,oBAAoBrB,CAAC,EAAE,SAASmB,EAAC,GAAEX,IAAEN,GAAEmB,CAAC,GAAEH,IAAED,GAAEI,CAAC;AAAE,aAAO,IAAItB,GAAEmB,GAAEV,GAAE,GAAE,GAAEA,EAAE,SAAS,IAAImB,EAAE,EAAE,CAAC,GAAET,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC;AAAA,IAAC,CAAC;AAAA,EAAE;AAAA,EAAC,kBAAkBlB,GAAE;AAAC,WAAOkB,GAAEf,GAAEH,CAAC,GAAEoB,EAAE,SAAQ,GAAI,MAAI;AAAC,YAAMC,IAAE,KAAK,oBAAoBrB,CAAC,EAAE,SAASmB,EAAC,GAAEX,IAAEN,GAAEmB,CAAC,GAAEH,IAAED,GAAEI,CAAC;AAAE,aAAO,IAAID,EAAEF,GAAEV,GAAE,GAAEA,EAAE,SAAS,IAAImB,EAAE,EAAE,CAAC,GAAET,GAAE,GAAE,GAAE,GAAE,CAAC;AAAA,IAAC,CAAC;AAAA,EAAE;AAAA,EAAC,oBAAoBlB,GAAE;AAAC,UAAMqB,IAAEI,GAAE,KAAK,cAAa,IAAIE,EAAED,GAAE,UAAU,CAAC;AAAE,WAAOR,GAAEG,GAAE,IAAIM,EAAE,EAAE,EAAE,SAAS3B,CAAC,GAAEA,CAAC;AAAA,EAAC;AAAC;AAACA,EAAE,CAACQ,EAAEmB,CAAC,CAAC,GAAElB,GAAE,WAAU,gBAAe,MAAM;ACAssB,MAAMgD,KAAE,MAAI;AAAI,MAAM,UAAU3B,GAAC;AAAE9B;AAAAA,EAAE,CAACD,EAAE,GAAEc,CAAC,CAAC,GAAE,EAAE,WAAU,SAAQ,MAAM,GAAEb,EAAE,CAACD,EAAE,GAAEO,CAAC,CAAC,GAAE,EAAE,WAAU,UAAS,MAAM,GAAEN,EAAE,CAACD,EAAE,GAAEO,CAAC,CAAC,GAAE,EAAE,WAAU,aAAY,MAAM,GAAEN,EAAE,CAACD,EAAE,GAAEqB,CAAC,CAAC,GAAE,EAAE,WAAU,YAAW,MAAM,GAAEpB,EAAE,CAACD,EAAE,GAAEqB,CAAC,CAAC,GAAE,EAAE,WAAU,iBAAgB,MAAM,GAAEpB,EAAE,CAACD,EAAE,GAAEqB,CAAC,CAAC,GAAE,EAAE,WAAU,gBAAe,MAAM,GAAEpB,EAAE,CAACD,EAAE,GAAEc,CAAC,CAAC,GAAE,EAAE,WAAU,aAAY,MAAM,GAAEb,EAAE,CAACD,EAAE,IAAGO,CAAC,CAAC,GAAE,EAAE,WAAU,aAAY,MAAM,GAAEN,EAAE,CAACD,EAAE,IAAGqB,CAAC,CAAC,GAAE,EAAE,WAAU,aAAY,MAAM,GAAEpB,EAAE,CAACD,EAAE,IAAGc,CAAC,CAAC,GAAE,EAAE,WAAU,mBAAkB,MAAM;AAAC,IAAA6C,KAAC,cAAgBvC,GAAC;AAAEnB;AAAAA,EAAE,CAACD,EAAE,IAAGO,CAAC,CAAC,GAAEqD,GAAE,WAAU,qBAAoB,MAAM,GAAE3D,EAAE,CAACD,EAAE,IAAGO,CAAC,CAAC,GAAEqD,GAAE,WAAU,qBAAoB,MAAM;AAAE,MAAMC,WAAUC,GAAC;AAAE;AAAA,MAAMC,UAAUnD,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,oBAAkB,EAAC,QAAO,CAAC,qBAAoB,mBAAmB,EAAC,GAAE,KAAK,aAAW,IAAG,KAAK,mBAAiB,IAAG,KAAK,UAAQ;AAAA,EAAE;AAAA,EAAC,UAAUX,GAAEqB,GAAEH,GAAE;AAAC,UAAMnB,IAAEsB,EAAE,SAASoC,EAAC,GAAE,IAAEhD,GAAE,KAAK,KAAK,SAAS,SAASV,CAAC,CAAC,GAAES,IAAEkB,GAAE,IAAIN,EAAE,GAAG,EAAE,SAAS,CAAC,GAAE,CAAC;AAAE,QAAI,IAAE,IAAIA,EAAE,CAAC;AAAE,UAAMD,IAAEI,GAAE,KAAK,KAAK,YAAY,SAASrB,EAAC,CAAC,EAAE,OAAOA,EAAC,GAAEe,IAAEjB,EAAE,GAAE4B,IAAE5B,EAAE,GAAEU,IAAE,IAAIU,EAAE,CAAC,EAAE,SAASE,EAAEL,GAAEE,CAAC,CAAC,EAAE,SAAS,CAAC,GAAE,IAAEG,EAAE,IAAIF,EAAE,EAAE,GAAEZ,CAAC,EAAE,SAAS,CAAC,GAAE0B,IAAE,IAAId,EAAE,CAAC,EAAE,SAAS,IAAIA,EAAE,CAAC,EAAE,SAASE,EAAEH,GAAES,CAAC,CAAC,CAAC;AAAE,WAAO,IAAE,EAAE,IAAIV,EAAE,SAASR,CAAC,CAAC,GAAE,IAAE,EAAE,IAAIQ,EAAE,SAAS,CAAC,CAAC,GAAE,IAAE,EAAE,IAAIgB,CAAC,GAAE;AAAA,EAAC;AAAA,EAAC,OAAOlC,GAAEqB,GAAE;AAAC,UAAM,IAAEiB,GAAEtC,EAAE,QAAOgB,EAAC,GAAEjB,IAAE,IAAIqB,EAAE,CAAC,EAAE,SAAS,CAAC;AAAE,QAAI,IAAEpB,EAAE,UAASQ,IAAE,EAAE,OAAOuD,EAAC;AAAE,UAAM,IAAE,KAAK,aAAW/D,EAAE,YAAU,KAAK,gBAAgBA,CAAC,GAAEmB,IAAE,KAAK,UAAQ,EAAE,SAAS,KAAK,QAAQ,kBAAkBnB,EAAE,EAAE,CAAC,IAAE,GAAEiB,IAAE,KAAK,KAAK,sBAAsB,SAAS,IAAIW,EAAE5B,EAAE,KAAI,CAAC,CAAC;AAAE,QAAI,IAAEA,EAAE,QAAO0B,IAAE,IAAIN,EAAE,CAAC,GAAEG,IAAEb,EAAE,SAAQ;AAAG,QAAG,KAAK,SAAQ;AAAC,UAAG,CAACV,EAAE,gBAAgB,OAAM,IAAI,MAAM,yEAAyE;AAAE,YAAMqB,IAAErB,EAAE,iBAAgBE,IAAEmB,EAAE,IAAGtB,IAAEsB,EAAE,GAAEI,IAAE,KAAK,iBAAiBJ,EAAE,CAAC,GAAEb,IAAE0C,GAAE,MAAKlD,EAAE,IAAGD,CAAC,EAAE,OAAO,CAAC,GAAE4B,KAAEF,EAAE,SAASjB,EAAE,IAAIU,EAAC,CAAC;AAAE,UAAE,EAAE,IAAIhB,CAAC,EAAE,IAAIyB,EAAC;AAAA,IAAC;AAAM,MAAAD,IAAEwB,GAAE,MAAKlD,EAAE,IAAGA,EAAE,aAAa,EAAE,OAAOA,EAAE,aAAa,GAAE,IAAE,EAAE,SAAS0B,CAAC,GAAElB,IAAEA,EAAE,SAASkB,CAAC,GAAE,IAAE,EAAE,SAASA,CAAC,GAAEH,IAAEyC,GAAE,MAAKhE,EAAE,EAAE,GAAE,IAAEuB,EAAE,SAAS,IAAIK,EAAE,GAAE,CAAC,CAAC,EAAE;AAAG,UAAMN,IAAEgB,GAAEtC,EAAE,QAAOe,EAAC,GAAEmB,IAAE,KAAK,uBAAuBZ,CAAC,EAAE,SAAS,IAAIM,EAAE,GAAE,CAAC,CAAC;AAAE,QAAI,IAAE,KAAK,UAAQ,KAAK,UAAU5B,EAAE,WAAUA,EAAE,WAAUsB,CAAC,IAAE,KAAK,KAAKtB,EAAE,IAAGA,EAAE,SAAS;AAAE,QAAE,KAAK,mBAAiB,EAAE,IAAID,EAAE,SAAS,CAAC,CAAC,IAAE,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;AAAE,UAAMyB,IAAE,IAAIX,EAAEI,EAAE,GAAG,IAAIiB,EAAE,EAAE,GAAE,GAAE,CAAC,GAAEL,IAAE7B,EAAE,UAAU,OAAO,KAAK,WAAW,IAAI;AAAE,QAAIG,IAAE,IAAIiB,EAAE,CAAC;AAAE,WAAG,KAAK,eAAYjB,IAAEH,EAAE,aAAa,OAAOQ,CAAC,EAAE,OAAOyD,EAAC,IAAQ,EAAC,YAAWzC,GAAE,OAAML,GAAE,MAAKX,GAAE,WAAUqB,GAAE,mBAAkB,IAAIT,EAAE,QAAK2C,EAAC,EAAE,OAAO,CAAC,EAAE,OAAO,KAAK,KAAK,UAAU,GAAE,oBAAmB5D,GAAE,GAAG,KAAK,gBAAgBH,GAAEqB,GAAE,EAAC,kBAAiBK,GAAE,YAAWH,EAAC,CAAC,EAAC;AAAA,EAAC;AAAA,EAAC,uBAAuBvB,GAAE;AAAC,UAAMqB,IAAE,KAAK,KAAK,iBAAgB,IAAE,KAAK,KAAK,aAAYH,IAAE,IAAIE,EAAE,CAAC,EAAE,SAASpB,CAAC;AAAE,WAAOqB,EAAE,SAASrB,CAAC,EAAE,IAAI,EAAE,SAASkB,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,SAASlB,GAAE;AAAC,UAAMqB,IAAE,IAAID,EAAE,IAAG,GAAE,IAAE,IAAIA,EAAE,CAAC,EAAE,SAASC,CAAC,GAAEH,IAAEgB,EAAE,KAAK,WAAW,SAAQlC,EAAE,SAAS,EAAE;AAAE,QAAID,IAAE,EAAE,SAASC,EAAE,kBAAkB;AAAE,SAAK,cAAYD,IAAEA,EAAE,OAAO,CAAC;AAAG,UAAM0B,IAAEzB,EAAE,mBAAkBQ,IAAEM,GAAEf,EAAE,SAAS0B,CAAC,GAAE1B,EAAE,IAAI0B,CAAC,GAAEP,CAAC;AAAE,WAAO,KAAK,kBAAkBlB,EAAE,MAAM,SAASQ,CAAC,GAAER,CAAC;AAAA,EAAC;AAAA,EAAC,QAAQA,GAAEqB,GAAE,EAAC,kBAAiB,GAAE,YAAWH,EAAC,GAAE;AAAC,UAAMnB,IAAEmB,EAAE,SAAS,IAAIU,EAAE5B,EAAE,OAAO,SAAS,CAAC,GAAE,CAAC,CAAC,GAAEyB,IAAEP,EAAE,SAAS,IAAIU,EAAEP,EAAE,kBAAkB,SAAS,CAAC,GAAE,CAAC,CAAC,GAAEb,IAAEU,EAAE,SAAS,IAAIU,EAAEP,EAAE,kBAAkB,SAAS,CAAC,GAAE,CAAC,CAAC,GAAE,EAAC,UAASM,GAAE,UAAS,EAAC,IAAE,KAAK,MAAKV,IAAEU,EAAE,SAAS,CAAC,EAAE,SAAS,IAAIC,EAAE5B,EAAE,KAAI,CAAC,CAAC,GAAES,IAAEQ,EAAE,IAAI,EAAE,SAASlB,CAAC,CAAC,EAAE,IAAG2B,IAAET,EAAE,IAAI,EAAE,SAASQ,CAAC,CAAC,EAAE,IAAG,IAAER,EAAE,IAAI,EAAE,SAAST,CAAC,CAAC,EAAE;AAAG,WAAO+B,GAAE,KAAK,eAAe,UAAS9B,EAAE,IAAGiB,EAAE,IAAG,EAAE,EAAE;AAAA,EAAC;AAAA,EAAC,iBAAiB1B,GAAE;AAAC,UAAMqB,IAAE,IAAIG,GAAExB,CAAC,GAAE,IAAE6B,GAAER,GAAE,IAAIG,GAAE,CAAC,CAAC,GAAEN,IAAEf,GAAEkB,GAAE,IAAIG,GAAE,CAAC,CAAC;AAAE,WAAO,IAAIlB,EAAE,IAAIc,EAAE,CAAC,EAAE,SAAS,CAAC,GAAE,IAAIA,EAAEF,CAAC,EAAE,SAAS,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBlB,GAAE;AAAC,QAAIqB,IAAErB,EAAE;AAAM,QAAG,KAAK,qBAAoB;AAAC,YAAM,IAAE,KAAK,QAAQ,cAAcA,EAAE,EAAE;AAAE,MAAAqB,IAAE,KAAK,oBAAoB,SAAS,GAAErB,EAAE,OAAM,IAAII,GAAE,EAAE,CAAC;AAAA,IAAC;AAAC,QAAG,KAAK,uBAAsB;AAAC,YAAM,IAAE,KAAK,QAAQ,gBAAgBJ,EAAE,EAAE,GAAEkB,IAAE,KAAK,sBAAsB,WAAW,CAAC;AAAE,MAAAG,IAAEA,EAAE,SAASH,CAAC;AAAA,IAAC;AAAC,WAAOG;AAAA,EAAC;AAAC;AAACrB,EAAE,CAACyB,EAAEyC,EAAC,CAAC,GAAEJ,EAAE,WAAU,uBAAsB,MAAM,GAAE9D,EAAE,CAACyB,EAAEe,EAAC,CAAC,GAAEsB,EAAE,WAAU,yBAAwB,MAAM,GAAE9D,EAAE,CAACyB,EAAE0C,EAAC,CAAC,GAAEL,EAAE,WAAU,0BAAyB,MAAM,GAAE9D,EAAE,CAACyB,EAAE2C,EAAC,CAAC,GAAEN,EAAE,WAAU,iCAAgC,MAAM,GAAE9D,EAAE,CAACyB,EAAEO,EAAC,CAAC,GAAE8B,EAAE,WAAU,gCAA+B,MAAM,GAAE9D,EAAE,CAACyB,EAAEM,EAAC,CAAC,GAAE+B,EAAE,WAAU,2BAA0B,MAAM,GAAE9D,EAAE,CAACyB,EAAE4C,EAAC,CAAC,GAAEP,EAAE,WAAU,+BAA8B,MAAM,GAAE9D,EAAE,CAACQ,EAAE8D,EAAC,CAAC,GAAER,EAAE,WAAU,cAAa,MAAM,GAAE9D,EAAE,CAAC2B,EAAC,GAAEmC,EAAE,WAAU,cAAa,MAAM,GAAE9D,EAAE,CAAC2B,EAAC,GAAEmC,EAAE,WAAU,oBAAmB,MAAM,GAAE9D,EAAE,CAAC2B,EAAC,GAAEmC,EAAE,WAAU,WAAU,MAAM,GAAE9D,EAAE,CAACqB,EAAE,GAAEJ,EAAE,CAAC,CAAC,GAAEI,EAAE,GAAEJ,EAAE0C,EAAC,CAAC,CAAC,GAAEG,EAAE,WAAU,UAAS,IAAI,GAAE9D,EAAE,CAACqB,EAAE,GAAEJ,EAAE2C,EAAC,CAAC,CAAC,GAAEE,EAAE,WAAU,YAAW,IAAI;ACA18K,IAAAS,KAAA,cAAgBrD,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,aAAWD,EAAE,iBAAgB,KAAK,UAAQ,EAAC,UAAS,IAAIG,IAAC,GAAE,KAAK,YAAUC,GAAE,QAAMA,GAAE,aAAY,KAAK,iBAAetB,GAAE;AAAA,EAAI;AAAA,EAAC,OAAO,GAAEA,GAAE;AAAC,UAAK,EAAC,SAAQmB,GAAE,SAAQD,EAAC,IAAE,GAAEG,IAAEpB,EAAE,CAAC,GAAE0B,IAAE,EAAC,GAAGlB,EAAE,CAAC,EAAC,GAAEoB,IAAE,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAG1B,EAAE,GAAEH,EAAE,QAAOA,EAAE,SAAS,SAAQ,EAAG,QAAQ,GAAE,GAAG0B,EAAE,GAAE1B,EAAE,MAAM,GAAE,YAAWkB,EAAE,eAAe,cAAcC,GAAEnB,EAAE,UAAU,EAAC,GAAE,SAAQ,EAAC,GAAGqB,GAAE,YAAW,IAAG,kBAAiB,IAAG,SAAQ,GAAE,GAAE,oBAAmBrB,EAAE,SAAS,oBAAmB,kBAAiB,GAAE;AAAE,IAAAkB,EAAE,UAAUW,CAAC,GAAEX,EAAE,iBAAiBS,CAAC,GAAET,EAAE,WAAWC,GAAEnB,CAAC,GAAEkB,EAAE,UAAU,EAAC,GAAGW,GAAE,SAAQ,EAAC,GAAGR,GAAE,YAAW,IAAG,kBAAiB,IAAG,SAAQ,GAAE,EAAC,CAAC,GAAEH,EAAE,iBAAiBS,CAAC,GAAET,EAAE,WAAWC,GAAEnB,CAAC,GAAEkB,EAAE,UAAU,EAAC,GAAGW,GAAE,SAAQ,EAAC,GAAGR,GAAE,YAAW,IAAG,kBAAiB,IAAG,SAAQ,GAAE,EAAC,CAAC,GAAEH,EAAE,iBAAiBS,CAAC,GAAET,EAAE,WAAWC,GAAEnB,CAAC;AAAA,EAAC;AAAC,GCA1wByE,KAAA,cAAgBvD,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,aAAWG,EAAE,gBAAe,KAAK,UAAQ,EAAC,UAAS,IAAIQ,KAAC,GAAE,KAAK,iBAAeP,GAAE;AAAA,EAAI;AAAA,EAAC,OAAO,GAAEJ,GAAE;AAAC,UAAK,EAAC,SAAQG,GAAE,SAAQQ,GAAE,YAAWT,EAAC,IAAE;AAAE,IAAAS,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAG5B,EAAE,GAAEiB,EAAE,QAAOA,EAAE,SAAS,SAAU,EAAC,QAAQ,GAAE,GAAGT,EAAE,GAAES,EAAE,MAAM,GAAE,sBAAqBQ,GAAEN,CAAC,EAAC,GAAE,SAAQ,EAAC,GAAGpB,EAAE,CAAC,EAAC,GAAE,oBAAmBkB,EAAE,SAAS,oBAAmB,kBAAiBf,EAAE,CAAC,EAAC,CAAC,GAAE0B,EAAE,iBAAiBV,EAAE,CAAC,CAAC,GAAEU,EAAE,WAAWR,GAAEH,CAAC;AAAA,EAAC;AAAC;ACArI,MAAMsB,WAAU7B,GAAC;AAAA;AAAEV,EAAE,CAACD,EAAE,GAAEmB,CAAC,CAAC,GAAEqB,GAAE,WAAU,uBAAsB,MAAM,GAAEvC,EAAE,CAACD,EAAE,IAAGU,CAAC,CAAC,GAAE8B,GAAE,WAAU,oBAAmB,MAAM,GAAEvC,EAAE,CAACD,EAAE,IAAG2B,CAAC,CAAC,GAAEa,GAAE,WAAU,QAAO,MAAM;AAAqB,MAAM5B,WAAUL,GAAC;AAAA,EAAC,mBAAmBN,GAAEqB,GAAE;AAAC,UAAMtB,IAAE,IAAImB,EAAEhB,EAAC,GAAEuB,IAAEM,GAAE/B,EAAE,QAAOc,EAAC;AAAE,WAAOW,EAAE,SAASE,GAAEN,GAAE,IAAIH,EAAE,IAAG,CAAC,CAAC,EAAE,IAAI,IAAIA,EAAE,CAAC,EAAE,SAASO,CAAC,CAAC,EAAE,OAAO1B,CAAC;AAAA,EAAC;AAAA,EAAC,aAAaC,GAAE;AAAC,UAAK,EAAC,WAAUqB,GAAE,QAAO,GAAE,MAAKtB,GAAE,aAAY,GAAE,qBAAoBkB,GAAE,gBAAe,EAAC,IAAEjB,GAAE4B,IAAE,EAAE,EAAE,SAAS,IAAIV,EAAE,CAAC,CAAC,EAAE,SAAS,CAAC,GAAEK,IAAEf,GAAES,EAAE,OAAOW,CAAC,CAAC,GAAEJ,IAAE,IAAIN,EAAE,IAAG,EAAE,SAAS,EAAE,CAAC,EAAE,IAAI,IAAIA,EAAE,GAAE,CAAC,GAAEL,IAAEO,GAAErB,EAAE,IAAGA,EAAE,IAAG,IAAIU,EAAEc,GAAEC,CAAC,CAAC,GAAEV,IAAEwB,GAAEhB,EAAE,KAAK,WAAW,SAAQT,CAAC,CAAC,EAAE,SAAS,IAAIK,EAAE,GAAE,CAAC,EAAE,SAASG,CAAC,GAAEQ,IAAEV,GAAE,IAAID,EAAE,GAAE,EAAE,SAASJ,CAAC,GAAE,IAAII,EAAE,CAAC,GAAE,IAAIA,EAAE,CAAC,CAAC;AAAE,WAAO,IAAIQ,EAAEG,CAAC;AAAA,EAAC;AAAA,EAAC,iBAAiB7B,GAAE;AAAC,UAAK,EAAC,WAAUqB,GAAE,QAAO,GAAE,OAAMtB,GAAE,qBAAoB,GAAE,aAAYkB,GAAE,iBAAgB,GAAE,MAAKE,EAAC,IAAEnB,GAAEwB,IAAEP,EAAE,EAAE,SAAS,IAAIC,EAAE,CAAC,EAAE,SAASG,CAAC,EAAE,OAAOJ,EAAE,CAAC,CAAC,GAAEJ,IAAEL,GAAE,EAAE,OAAOgB,CAAC,CAAC,GAAEV,IAAE,IAAII,EAAE,GAAE,EAAE,SAAS,EAAE,CAAC,EAAE,IAAI,IAAIA,EAAE,GAAE,CAAC,GAAEW,IAAET,GAAED,EAAE,IAAGA,EAAE,IAAG,IAAIV,EAAEK,GAAED,CAAC,CAAC;AAAE,QAAIV,IAAEmB,EAAE,KAAK,WAAW,SAAQO,CAAC;AAAE,WAAa,KAAK,uBAAX,SAAiC1B,IAAEyB,GAAEL,GAAE,GAAE,IAAIL,EAAE,GAAE,CAAC,GAAE,IAAIQ,EAAE3B,EAAE,CAAC,GAAEA,CAAC,IAAGI;AAAA,EAAC;AAAA,EAAC,OAAOH,GAAEqB,GAAE;AAAC,UAAK,EAAC,kBAAiB,GAAE,MAAKtB,GAAE,QAAO,EAAC,IAAEC,GAAEiB,IAAEa,GAAE,MAAK9B,CAAC,GAAE,IAAEA,EAAE,oBAAoB,OAAO,KAAK,KAAK,iBAAiB,EAAE,IAAIwB,GAAE,GAAEP,EAAE,YAAY,CAAC,GAAET,IAAE,IAAIC,EAAEV,EAAE,EAAE,SAASA,EAAE,CAAC,GAAEA,EAAE,EAAE,SAASA,EAAE,CAAC,CAAC,GAAEqB,IAAErB,EAAE,OAAO,KAAK,WAAW,KAAK,IAAI,GAAEuB,IAAES,GAAE,GAAEF,EAAC,GAAEV,IAAEY,GAAE,GAAE5B,EAAC,GAAEuB,IAAEE,GAAEL,GAAED,GAAE,IAAIJ,EAAE,GAAE,CAAC,GAAE,KAAK,mBAAmBlB,GAAEiB,EAAE,eAAe,GAAE,IAAIC,EAAE,CAAC,CAAC;AAAE,WAAM,EAAC,GAAGD,GAAE,MAAKG,GAAE,aAAYZ,GAAE,qBAAoB,GAAE,OAAMc,GAAE,iBAAgBH,GAAE,gBAAeO,GAAE,GAAG,KAAK,gBAAgB1B,GAAEqB,GAAEJ,EAAE,SAAS,EAAC;AAAA,EAAC;AAAA,EAAC,SAASjB,GAAE;AAAC,UAAK,EAAC,OAAMqB,GAAE,SAAQ,GAAE,OAAMtB,EAAC,IAAEC,GAAE,IAAEgE,GAAEhE,GAAE,KAAK,qBAAqB,IAAI,GAAEiB,IAAEW,GAAEL,GAAExB,GAAE,IAAImB,EAAE,GAAE,CAAC,GAAE,KAAK,aAAalB,CAAC,GAAE,KAAK,iBAAiBA,CAAC,CAAC,GAAE,IAAEqB,EAAE,SAAS,CAAC,EAAE,SAAS,CAAC,EAAE,SAASJ,CAAC;AAAE,WAAO,KAAK,kBAAkB,GAAEjB,CAAC;AAAA,EAAC;AAAC;AAACA,EAAE,CAACyB,EAAErB,EAAC,CAAC,GAAEO,GAAE,WAAU,cAAa,MAAM,GAAEX,EAAE,CAACqB,EAAE,GAAEJ,EAAEsB,EAAC,CAAC,GAAElB,EAAE,GAAEJ,EAAEJ,EAAC,CAAC,CAAC,GAAEF,GAAE,WAAU,UAAS,IAAI;ACA5mE,IAAA8D,KAAA,cAAgBxD,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,aAAWG,EAAE,wBAAuB,KAAK,UAAQ,EAAC,UAAS,IAAIM,KAAC,GAAE,KAAK,iBAAeL,GAAE;AAAA,EAAI;AAAA,EAAC,OAAO,GAAEJ,GAAE;AAAC,UAAK,EAAC,SAAQG,GAAE,SAAQM,GAAE,YAAWE,EAAC,IAAE;AAAE,IAAAF,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAG1B,EAAE,GAAEiB,EAAE,QAAOA,EAAE,SAAS,SAAU,EAAC,QAAQ,GAAE,GAAGT,EAAE,GAAES,EAAE,MAAM,GAAE,sBAAqBQ,GAAEG,CAAC,GAAE,YAAWF,EAAE,eAAe,cAAcN,GAAEH,EAAE,UAAU,EAAC,GAAE,SAAQ,EAAC,GAAGlB,EAAE,CAAC,EAAC,GAAE,oBAAmBkB,EAAE,SAAS,oBAAmB,kBAAiBf,EAAE,CAAC,EAAC,CAAC,GAAEwB,EAAE,iBAAiBR,EAAE,CAAC,CAAC,GAAEQ,EAAE,WAAWN,GAAEH,CAAC;AAAA,EAAC;AAAC;ACAilB,MAAMyD,WAAU1D,GAAC;AAAA;AAAEhB,EAAE,CAACE,EAAE,GAAEkB,CAAC,CAAC,GAAEsD,GAAE,WAAU,SAAQ,MAAM,GAAE1E,EAAE,CAACE,EAAE,GAAEkB,CAAC,CAAC,GAAEsD,GAAE,WAAU,gBAAe,MAAM,GAAE1E,EAAE,CAACE,EAAE,GAAEY,CAAC,CAAC,GAAE4D,GAAE,WAAU,UAAS,MAAM,GAAE1E,EAAE,CAACE,EAAE,GAAEY,CAAC,CAAC,GAAE4D,GAAE,WAAU,aAAY,MAAM,GAAE1E,EAAE,CAACE,EAAE,GAAEkB,CAAC,CAAC,GAAEsD,GAAE,WAAU,UAAS,MAAM,GAAE1E,EAAE,CAACE,EAAE,GAAEe,CAAC,CAAC,GAAEyD,GAAE,WAAU,kBAAiB,MAAM,GAAE1E,EAAE,CAACE,EAAE,GAAEe,CAAC,CAAC,GAAEyD,GAAE,WAAU,aAAY,MAAM,GAAE1E,EAAE,CAACE,EAAE,IAAGY,CAAC,CAAC,GAAE4D,GAAE,WAAU,aAAY,MAAM;AAAE,MAAMV,WAAUrC,GAAC;;AAAE3B,EAAE,CAACE,EAAE,IAAGY,CAAC,CAAC,GAAEkD,GAAE,WAAU,qBAAoB,MAAM,GAAEhE,EAAE,CAACE,EAAE,IAAGY,CAAC,CAAC,GAAEkD,GAAE,WAAU,qBAAoB,MAAM,GAAEhE,EAAE,CAACE,EAAE,IAAGY,CAAC,CAAC,GAAEkD,GAAE,WAAU,wBAAuB,MAAM,GAAEhE,EAAE,CAACE,EAAE,IAAGY,CAAC,CAAC,GAAEkD,GAAE,WAAU,wBAAuB,MAAM;AAAE,MAAMW,WAAUd,GAAC;AAAE;AAAA,SAASe,GAAE5E,GAAE,GAAEE,GAAEgB,GAAE;AAAC,SAAO,EAAE,SAASlB,EAAE,CAAC,EAAE,IAAIE,EAAE,SAASF,EAAE,CAAC,CAAC,EAAE,IAAIkB,EAAE,SAASlB,EAAE,CAAC,CAAC;AAAC;AAAC,SAAS2D,GAAE3D,GAAE;AAAC,SAAOA,EAAE,SAASA,CAAC,EAAE,OAAO,GAAG;AAAC;AAAC,MAAM6E,UAAUvC,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,oBAAkB,EAAC,QAAO,CAAC,qBAAoB,mBAAmB,GAAE,WAAU,CAAC,wBAAuB,sBAAsB,EAAC;AAAA,EAAC;AAAA,EAAC,OAAOtC,GAAEqB,GAAE;AAAC,UAAM,IAAEsC,GAAE3D,EAAE,OAAO,CAAC,GAAEkB,IAAEyC,GAAE3D,EAAE,OAAO,CAAC,GAAED,IAAE4D,GAAE3D,EAAE,OAAO,CAAC,GAAE2B,IAAE3B,EAAE,gBAAeQ,IAAE4D,GAAEpE,EAAE,QAAOI,GAAE,OAAO,KAAK,GAAEmB,IAAE6C,GAAEpE,EAAE,QAAOI,GAAE,OAAO,YAAY,GAAEwB,IAAEwC,GAAEpE,EAAE,QAAOI,GAAE,OAAO,0BAA0B,GAAEkB,IAAEyC,GAAE/D,EAAE,QAAOI,GAAE,OAAO,WAAW,GAAEyB,IAAEwC,GAAE,MAAKrE,EAAE,EAAE,GAAEkC,IAAEgB,GAAE,MAAKlD,EAAE,IAAGA,EAAE,OAAMsB,CAAC,EAAE,SAASO,CAAC,GAAEnB,IAAE,KAAK,KAAK,sBAAsB,SAAS,IAAIe,EAAEzB,EAAE,IAAI,IAAG,CAAC,CAAC,GAAEwB,IAAEoC,GAAE,MAAK5D,EAAE,IAAGD,CAAC,EAAE,OAAOA,CAAC,GAAEc,IAAE,EAAE,SAASW,CAAC,GAAEV,IAAEd,EAAE,OAAO,GAAG,SAASwB,CAAC;AAAE,QAAIlB,IAAEY,EAAE,SAASU,EAAE,SAASJ,EAAE,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;AAAE,IAAAlB,IAAEa,GAAEb,GAAEoB,GAAEb,EAAE,SAAS,IAAG,GAAE,IAAII,EAAE,CAAC,CAAC,CAAC;AAAE,UAAMd,IAAEuB,GAAEpB,GAAE,IAAIW,EAAE,CAAC,CAAC,GAAED,IAAEG,GAAEb,GAAE,IAAIW,EAAE,CAAC,CAAC,GAAE4C,IAAEpD,EAAE,aAAakB,EAAE,SAASG,EAAC,CAAC,GAAEQ,IAAEwB,GAAE,MAAK9D,EAAE,EAAE,GAAEiE,IAAE,KAAK,uBAAuB1C,CAAC,EAAE,SAASe,CAAC,EAAE,SAASuB,CAAC,EAAE,SAAS,IAAIpC,EAAEX,EAAE,IAAG,CAAC,CAAC,GAAEH,IAAE,KAAK,KAAKX,EAAE,IAAGA,EAAE,SAAS,GAAEwC,KAAE,IAAIpB,EAAEV,EAAE,GAAG,IAAIuD,EAAE,EAAE,GAAEtD,GAAE,CAAC,GAAEoB,KAAE/B,EAAE,UAAU,OAAO,KAAK,WAAW,IAAI,GAAEgC,KAAEhC,EAAE,aAAa,SAASgB,CAAC,GAAEkD,KAAEE,GAAEpE,EAAE,QAAOI,GAAE,OAAO,oBAAoB,GAAEmC,KAAEvC,EAAE,UAAU,SAASa,CAAC,EAAE,SAAS,GAAE;AAAE,WAAM,EAAC,YAAW2B,IAAE,OAAMN,GAAE,WAAUH,IAAE,cAAaC,IAAE,aAAY7B,GAAE,cAAaoC,IAAE,OAAM/B,GAAE,sBAAqB0D,IAAE,GAAG,KAAK,gBAAgBlE,GAAEqB,GAAE,EAAC,KAAIrB,EAAE,KAAI,MAAKa,GAAE,gBAAeW,GAAE,cAAaD,GAAE,aAAYpB,GAAE,cAAaoC,IAAE,OAAM/B,EAAC,CAAC,EAAC;AAAA,EAAC;AAAA,EAAC,SAASR,GAAE;AAAC,UAAMqB,IAAE,KAAK,UAAUrB,EAAE,WAAUA,CAAC;AAAE,WAAO,KAAK,kBAAkBqB,GAAErB,CAAC;AAAA,EAAC;AAAA,EAAC,QAAQA,GAAEqB,GAAE,GAAE;AAAC,WAAOE,GAAEK,GAAE,EAAE,MAAK,KAAK,eAAe,wBAAwB,GAAE,KAAK,oBAAoB5B,GAAEqB,GAAE,CAAC,GAAE,KAAK,eAAerB,GAAEqB,GAAE,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,uBAAuBrB,GAAE;AAAC,UAAMqB,IAAE,KAAK,KAAK,iBAAgB,IAAE,KAAK,KAAK,aAAYH,IAAE,IAAID,EAAE,CAAC,EAAE,SAASjB,CAAC;AAAE,WAAOqB,EAAE,SAASrB,CAAC,EAAE,IAAI,EAAE,SAASkB,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,qBAAqBlB,GAAE;AAAC,UAAMqB,IAAE,KAAK,KAAK,SAAS,SAAS,KAAK,KAAK,QAAQ,GAAE,IAAE,KAAK,KAAK,UAASH,IAAE,IAAID,EAAE,CAAC,EAAE,SAASjB,CAAC;AAAE,WAAOqB,EAAE,SAASrB,CAAC,EAAE,IAAI,EAAE,SAASkB,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,UAAUlB,GAAEqB,GAAE;AAAC,WAAOE,GAAED,GAAED,EAAE,OAAM,IAAIJ,EAAE,CAAC,CAAC,GAAE,KAAK,aAAajB,GAAEqB,CAAC,GAAE,KAAK,gBAAgBrB,GAAEqB,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBrB,GAAEqB,GAAE;AAAC,WAAOQ,EAAE,KAAK,WAAW,SAAQ7B,CAAC,EAAE,SAASqB,EAAE,KAAK;AAAA,EAAC;AAAA,EAAC,aAAarB,GAAEqB,GAAE;AAAC,UAAM,IAAEQ,EAAE,KAAK,WAAW,SAAQ7B,CAAC,GAAEkB,IAAE,IAAID,EAAE,GAAE,EAAE,SAASiD,GAAE,CAAC,CAAC,EAAE,SAAS7C,EAAE,YAAY,EAAE,SAAS4C,EAAC,GAAElE,IAAEmC,GAAE,IAAIjB,EAAE,GAAE,EAAE,SAASC,CAAC,GAAE,IAAID,EAAE,CAAC,GAAE,IAAIA,EAAE,CAAC,CAAC,GAAEU,IAAEN,EAAE,MAAM,SAAStB,CAAC;AAAE,QAAIS,IAAEa,EAAE;AAAY,SAAK,cAAYb,IAAEkB,GAAElB,GAAEa,EAAE,qBAAqB,SAAS,CAAC,CAAC;AAAG,UAAMI,IAAEjB,EAAE,SAAS,GAAE,GAAE,IAAEE,GAAEQ,CAAC,EAAE,SAASO,CAAC,GAAE,IAAES,GAAE,IAAIjB,EAAE,GAAE,EAAE,SAAS,CAAC,GAAE,IAAIA,EAAE,CAAC,GAAE,IAAIA,EAAE,CAAC,CAAC,GAAEG,IAAEI,GAAEH,EAAE,cAAaA,EAAE,OAAMA,EAAE,oBAAoB,EAAE,SAAS,CAAC;AAAE,WAAO,IAAIJ,EAAE,CAAC,EAAE,SAASG,EAAE,CAAC,EAAE,SAASO,CAAC,EAAE,IAAIP,CAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBpB,GAAEqB,GAAE,GAAE;AAAC,UAAK,EAAC,UAASH,GAAE,UAASnB,GAAE,qBAAoB4B,EAAC,IAAE,KAAK,gBAAenB,IAAET,EAAE,SAAS4B,CAAC,GAAE,EAAC,UAASR,GAAE,UAASO,EAAC,IAAE,KAAK,MAAKT,IAAEE,EAAE,SAASO,CAAC,EAAE,SAAS,IAAID,EAAE,EAAE,KAAI,CAAC,CAAC,EAAE,IAAGhB,IAAE,EAAE,KAAK,SAAS,GAAE;AAAE,WAAOI,GAAEI,GAAEC,CAAC,EAAE,SAAST,CAAC,EAAE,IAAID,CAAC;AAAA,EAAC;AAAA,EAAC,eAAeR,GAAEqB,GAAE,GAAE;AAAC,UAAK,EAAC,KAAIH,GAAE,MAAKnB,GAAE,gBAAe4B,GAAE,cAAanB,GAAE,aAAYW,GAAE,OAAMO,GAAE,cAAa,EAAC,IAAE,GAAEH,IAAE,IAAIE,EAAEzB,EAAE,OAAO,SAAS2B,CAAC,GAAE,CAAC,GAAEC,IAAE,IAAIH,EAAEJ,EAAE,kBAAkB,SAASM,CAAC,GAAE,CAAC,GAAEL,IAAE,IAAIG,EAAEJ,EAAE,kBAAkB,SAASM,CAAC,GAAE,CAAC,GAAE,EAAC,UAAS,GAAE,UAASO,EAAC,IAAE,KAAK,MAAK,IAAE,EAAE,SAASA,CAAC,EAAE,SAAS,IAAIT,EAAEP,GAAE,CAAC,CAAC,GAAE,IAAE,KAAK,qBAAqBV,CAAC,GAAEK,IAAE,EAAE,IAAI,EAAE,SAASU,CAAC,CAAC,EAAE,IAAGnB,IAAE,EAAE,IAAI,EAAE,SAASwB,CAAC,CAAC,EAAE,IAAGZ,IAAE,EAAE,IAAI,EAAE,SAASM,CAAC,CAAC,EAAE,IAAGuC,IAAE,KAAK,eAAe,UAASvB,IAAE,KAAK,eAAe,UAASR,IAAEnB,GAAEkD,EAAE,IAAI,IAAI/C,EAAER,GAAEgC,CAAC,GAAEhC,GAAEgC,CAAC,CAAC,CAAC,GAAEzB,GAAET,GAAEY,CAAC,GAAEiD,KAAEtD,GAAEkD,EAAE,IAAI,IAAI/C,EAAE,GAAER,GAAEgC,CAAC,CAAC,CAAC,GAAEzB,GAAET,GAAEY,CAAC,GAAEgB,KAAErB,GAAEkD,EAAE,IAAI,IAAI/C,EAAEwB,GAAEhC,GAAEgC,CAAC,CAAC,CAAC,GAAEzB,GAAET,GAAEY,CAAC,GAAEoD,KAAEzD,GAAEkD,EAAE,IAAI,IAAI/C,EAAER,GAAEgC,CAAC,GAAE,CAAC,CAAC,GAAEzB,GAAET,GAAEY,CAAC,GAAE+C,KAAEpD,GAAEkD,GAAEhD,GAAET,GAAEY,CAAC,GAAEkD,KAAEvD,GAAEkD,EAAE,IAAI,IAAI/C,EAAEwB,GAAE,CAAC,CAAC,GAAEzB,GAAET,GAAEY,CAAC,GAAEuB,KAAE5B,GAAEkD,EAAE,IAAI,IAAI/C,EAAER,GAAEgC,CAAC,GAAEA,CAAC,CAAC,GAAEzB,GAAET,GAAEY,CAAC,GAAED,KAAEJ,GAAEkD,EAAE,IAAI,IAAI/C,EAAE,GAAEwB,CAAC,CAAC,GAAEzB,GAAET,GAAEY,CAAC,GAAEqB,KAAE1B,GAAEkD,EAAE,IAAI,IAAI/C,EAAEwB,GAAEA,CAAC,CAAC,GAAEzB,GAAET,GAAEY,CAAC,GAAEyC,KAAEzD,EAAE,UAAU,OAAO,KAAK,WAAW,IAAI,GAAE8E,KAAEzD,EAAE,qBAAqB,OAAO,KAAK,WAAW,IAAI,GAAE8C,KAAE9C,EAAE,qBAAqB,OAAO,KAAK,WAAW,IAAI,GAAEiD,KAAE,EAAC,OAAM,IAAIlD,EAAE,CAAC,GAAE,cAAa,IAAIA,EAAE,CAAC,GAAE,sBAAqB,IAAIH,EAAE,CAAC,GAAE,aAAYE,GAAE,cAAa,GAAE,OAAMO,EAAC;AAAE,QAAI2C,IAAE,IAAIpD,EAAE,CAAC;AAAE,WAAOoD,IAAEA,EAAE,IAAI7B,GAAEV,CAAC,EAAE,SAAS,KAAK,UAAU8C,GAAE9C,GAAE2B,IAAEqB,IAAEX,EAAC,GAAEG,EAAC,EAAE,CAAC,CAAC,GAAED,IAAEA,EAAE,IAAI7B,GAAEyB,EAAC,EAAE,SAAS,KAAK,UAAUW,GAAEX,IAAER,IAAEqB,IAAEX,EAAC,GAAEG,EAAC,EAAE,CAAC,CAAC,GAAED,IAAEA,EAAE,IAAI7B,GAAER,EAAC,EAAE,SAAS,KAAK,UAAU4C,GAAE5C,IAAEyB,IAAEqB,IAAEX,EAAC,GAAEG,EAAC,EAAE,CAAC,CAAC,GAAED,IAAEA,EAAE,IAAI7B,GAAE4B,EAAC,EAAE,SAAS,KAAK,UAAUQ,GAAER,IAAEX,IAAEqB,IAAEX,EAAC,GAAEG,EAAC,EAAE,CAAC,CAAC,GAAED,IAAEA,EAAE,IAAI7B,GAAEuB,EAAC,EAAE,SAAS,KAAK,UAAUa,GAAEb,IAAEN,IAAEqB,IAAEX,EAAC,GAAEG,EAAC,EAAE,CAAC,CAAC,GAAED,IAAEA,EAAE,IAAI7B,GAAE0B,EAAC,EAAE,SAAS,KAAK,UAAUU,GAAEV,IAAET,IAAEqB,IAAEX,EAAC,GAAEG,EAAC,EAAE,CAAC,CAAC,GAAED,IAAEA,EAAE,IAAI7B,GAAED,EAAC,EAAE,SAAS,KAAK,UAAUqC,GAAErC,IAAEkB,IAAEqB,IAAEX,EAAC,GAAEG,EAAC,EAAE,CAAC,CAAC,GAAED,IAAEA,EAAE,IAAI7B,GAAEzB,EAAC,EAAE,SAAS,KAAK,UAAU6D,GAAE7D,IAAE0C,IAAEqB,IAAEX,EAAC,GAAEG,EAAC,EAAE,CAAC,CAAC,GAAED,IAAEA,EAAE,IAAI7B,GAAEH,EAAC,EAAE,SAAS,KAAK,UAAUuC,GAAEvC,IAAEoB,IAAEqB,IAAEX,EAAC,GAAEG,EAAC,EAAE,CAAC,CAAC,GAAEnE,EAAEkE,GAAE,IAAIpD,EAAE,IAAG,CAAC,EAAE,SAASc,GAAE,KAAK,cAAc,CAAC;AAAA,EAAC;AAAC;AAAC/B,EAAE,CAACkB,EAAEqB,EAAC,CAAC,GAAEsC,EAAE,WAAU,uBAAsB,MAAM,GAAE7E,EAAE,CAACkB,EAAEH,EAAC,CAAC,GAAE8D,EAAE,WAAU,yBAAwB,MAAM,GAAE7E,EAAE,CAACkB,EAAEmB,EAAC,CAAC,GAAEwC,EAAE,WAAU,0BAAyB,MAAM,GAAE7E,EAAE,CAACkB,EAAEuC,EAAC,CAAC,GAAEoB,EAAE,WAAU,iCAAgC,MAAM,GAAE7E,EAAE,CAACkB,EAAE4D,EAAC,CAAC,GAAED,EAAE,WAAU,gCAA+B,MAAM,GAAE7E,EAAE,CAACkB,EAAEiD,EAAC,CAAC,GAAEU,EAAE,WAAU,2BAA0B,MAAM,GAAE7E,EAAE,CAACkB,EAAEoD,EAAC,CAAC,GAAEO,EAAE,WAAU,+BAA8B,MAAM,GAAE7E,EAAE,CAACD,EAAEiC,EAAC,CAAC,GAAE6C,EAAE,WAAU,cAAa,MAAM,GAAE7E,EAAE,CAACqB,EAAE,GAAEb,EAAEkE,EAAC,CAAC,GAAErD,EAAE,GAAEb,EAAEwD,EAAC,CAAC,CAAC,GAAEa,EAAE,WAAU,UAAS,IAAI,GAAE7E,EAAE,CAACqB,EAAE,GAAEb,EAAEmE,EAAC,CAAC,CAAC,GAAEE,EAAE,WAAU,YAAW,IAAI;ACAtmN,IAAAE,KAAA,cAAgB9D,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,aAAWG,EAAE,kBAAiB,KAAK,UAAQ,EAAC,UAAS,IAAIK,IAAC,GAAE,KAAK,iBAAeJ,GAAE;AAAA,EAAM;AAAA,EAAC,OAAO,GAAEJ,GAAE;AAAC,UAAK,EAAC,SAAQQ,GAAE,SAAQL,EAAC,IAAE;AAAE,IAAAA,EAAE,UAAU,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAGpB,EAAE,GAAEiB,EAAE,QAAOA,EAAE,SAAS,SAAQ,EAAG,QAAQ,GAAE,GAAGT,EAAE,GAAES,EAAE,MAAM,GAAE,YAAWG,EAAE,eAAe,cAAcK,GAAER,EAAE,YAAW,EAAE,EAAC,GAAE,SAAQ,EAAC,GAAGlB,EAAE,CAAC,EAAC,GAAE,oBAAmBkB,EAAE,SAAS,oBAAmB,kBAAiBf,EAAE,CAAC,EAAC,CAAC,GAAEkB,EAAE,iBAAiBF,EAAE,CAAC,CAAC,GAAEE,EAAE,WAAWK,GAAER,CAAC;AAAA,EAAC;AAAC;ACArvB,MAAMI,GAAC;AAAA,EAAC,cAAa;AAAC,SAAK,oBAAkB;EAAE;AAAA,EAAC,IAAI,eAAc;AAAC,UAAMrB,IAAE,oBAAI;AAAI,eAAUkB,KAAK,KAAK,UAAU,CAAAlB,EAAE,IAAIkB,GAAE,KAAK,UAAUA,CAAC,EAAE,KAAK;AAAE,WAAOlB;AAAA,EAAC;AAAA,EAAC,IAAI,qBAAoB;AAAC,QAAG,CAAC,KAAK,qBAAoB;AAAC,YAAMA,IAAE,IAAI,IAAI,OAAO,KAAK,KAAK,OAAO,CAAC;AAAE,WAAK,sBAAoBA;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAmB;AAAA,EAAC,IAAI,6BAA4B;AAAC,WAAM,CAAA;AAAA,EAAE;AAAA,EAAC,IAAI,eAAc;AAAC,QAAG,CAAC,KAAK,eAAc;AAAC,YAAMkB,IAAE,KAAK,cAAaG,IAAE,MAAM,KAAKH,EAAE,QAAO,CAAE,EAAE,IAAK,CAAC,CAAClB,GAAEkB,CAAC,MAAI,GAAGlB,CAAC,IAAIkB,CAAC,IAAK,KAAK,GAAG,GAAED,IAAEjB,GAAEqB,CAAC;AAAE,WAAK,gBAAc,EAAC,MAAKJ,GAAE,WAAUC,EAAC;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAa;AAAA,EAAC,IAAI,sBAAqB;AAAC,UAAMlB,IAAE,oBAAI;AAAI,eAAS,CAACkB,GAAEG,CAAC,KAAI,KAAK,aAAa,QAAS,EAAC,CAAArB,EAAE,IAAI,OAAKkB,GAAEG,CAAC;AAAE,WAAOrB;AAAA,EAAC;AAAA,EAAC,aAAaA,GAAEkB,GAAEG,GAAE;AAAC,UAAMJ,IAAE,OAAO,KAAKI,CAAC,EAAE,OAAQ,CAAArB,MAAGqB,EAAErB,CAAC,CAAC,EAAG,IAAK,CAAAA,MAAG,GAAGA,CAAC,IAAIqB,EAAErB,CAAC,EAAE,UAAU,EAAI,EAAC,KAAK,GAAG,GAAEQ,IAAE,OAAO,KAAKU,CAAC,EAAE,OAAQ,CAAAlB,MAAG,KAAK,mBAAmB,IAAIA,CAAC,CAAC,EAAG,KAAK,GAAG;AAAE,WAAM,GAAGA,EAAE,IAAI,IAAIiB,CAAC,IAAIT,CAAC;AAAA,EAAE;AAAA,EAAC,WAAWR,GAAEqB,GAAEJ,GAAE,GAAE;AAAC,QAAIf,IAAE,IAAGH,IAAE;AAAG,eAAUmB,KAAKD,EAAE,KAAGA,EAAEC,CAAC,GAAE;AAAC,YAAMlB,IAAa,OAAOiB,EAAEC,CAAC,KAArB,YAAuB,WAAWA,CAAC;AAAA,IAAK,WAAWA,CAAC,IAAID,EAAEC,CAAC,CAAC;AAAA;AAAK,MAAAhB,KAAGF,GAAED,KAAGC;AAAA,IAAC;AAAC,WAAOE,KAAG,KAAK,cAAaH,KAAG,KAAK,gBAAe,IAAImB,GAAEhB,GAAEH,GAAE,KAAK,qBAAoB,KAAK,cAAa,KAAK,oBAAoBsB,CAAC,GAAE,KAAK,0BAA0B;AAAA,EAAC;AAAA,EAAC,oBAAoBrB,GAAE;AAAC,UAAMkB,IAAE,CAAE;AAAC,eAAUG,KAAK,KAAK,UAAS;AAAC,YAAMrB,IAAE,KAAK,SAASqB,CAAC;AAAE,MAAAH,EAAE,KAAK,EAAC,iBAAgB,MAAK,kBAAiBG,GAAE,aAAYA,GAAE,aAAYrB,EAAE,MAAK,yBAAwBiB,GAAEjB,CAAC,GAAE,oBAAmBQ,GAAER,CAAC,EAAC,CAAC;AAAA,IAAC;AAAC,eAAUqB,KAAKrB,GAAE;AAAC,YAAME,IAAE,KAAK,QAAQmB,CAAC;AAAE,UAAGrB,EAAEqB,CAAC,EAAE,YAAUrB,KAAKE,GAAE;AAAC,cAAMH,IAAEG,EAAEF,CAAC;AAAE,QAAAkB,EAAE,KAAK,EAAC,iBAAgB,MAAK,kBAAiB,GAAGG,CAAC,IAAIrB,CAAC,IAAG,aAAYA,GAAE,aAAYD,EAAE,MAAK,yBAAwBkB,GAAElB,CAAC,GAAE,oBAAmBS,GAAET,CAAC,EAAC,CAAC;AAAA,MAAC;AAAA,IAAC;AAAC,WAAOmB;AAAA,EAAC;AAAC;AAAC,MAAMD,KAAE,CAAAjB,MAAaA,EAAE,SAAZ,UAAiBA,EAAE,aAAa,OAAK,QAAOQ,KAAE,CAAAR,MAAaA,EAAE,SAAZ,UAAiBA,EAAE,OAAK,QCAvkDmB,KAAE,EAAC,aAAYjB,GAAE,YAAWgB,EAAC,GAAEK,KAAE,EAAC,aAAYf,GAAE,WAAUA,GAAE,oBAAmBA,GAAE,aAAYA,GAAE,aAAYA,GAAE,aAAYA,GAAE,OAAMA,GAAE,MAAKN,EAAC,GAAEO,KAAE,EAAC,uBAAsBkB,GAAE,iBAAgBA,GAAE,aAAYA,GAAE,UAASA,GAAE,UAASA,GAAE,mBAAkBzB,GAAE,oBAAmBA,GAAE,YAAWgB,GAAE,cAAahB,GAAE,aAAYA,GAAE,iBAAgBA,EAAC;AAAE,IAAA8E,KAAA,cAAgB3D,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,eAAaJ,GAAE,wBAAwB,GAAE,KAAK,iBAAeA,GAAE,wBAAwB,GAAE,KAAK,WAAS,EAAC,GAAGM,IAAE,GAAGd,IAAE,cAAaP,GAAE,QAAOF,GAAE,cAAayB,GAAE,aAAYA,GAAE,cAAaA,GAAE,YAAWvB,GAAE,iBAAgBA,EAAC,GAAE,KAAK,UAAQ,EAAC,iBAAgBiB,IAAE,+BAA8B,EAAC,oBAAmBM,EAAC,GAAE,8BAA6B,EAAC,OAAM,EAAC,GAAGzB,EAAE,OAAOE,GAAE,CAAC,GAAE,MAAK,SAAQ,aAAYA,GAAE,MAAK,EAAC,GAAE,QAAO,EAAC,GAAGF,EAAE,OAAOE,GAAE,CAAC,GAAE,MAAK,SAAQ,aAAYA,GAAE,MAAK,EAAC,EAAC,GAAE,yBAAwB,EAAC,OAAM,EAAC,GAAGF,EAAE,OAAOE,GAAE,CAAC,GAAE,MAAK,SAAQ,aAAYA,GAAE,MAAK,EAAC,GAAE,QAAO,EAAC,GAAGF,EAAE,OAAOE,GAAE,CAAC,GAAE,MAAK,SAAQ,aAAYA,GAAE,MAAK,EAAC,EAAC,GAAE,6BAA4B,EAAC,wBAAuBA,EAAC,GAAE,uBAAsB,EAAC,WAAU,EAAC,GAAGF,EAAE,OAAOE,GAAE,CAAC,GAAE,MAAK,SAAQ,aAAYA,GAAE,MAAK,EAAC,GAAE,eAAc,EAAC,GAAGF,EAAE,OAAOE,GAAE,CAAC,GAAE,MAAK,SAAQ,aAAYA,GAAE,MAAK,EAAC,EAAC,EAAC,GAAE,KAAK,YAAU,EAAC,KAAI,EAAC,OAAM,GAAE,MAAKgB,EAAC,GAAE,IAAG,EAAC,OAAM,GAAE,MAAKnB,EAAC,GAAE,QAAO,EAAC,OAAM,GAAE,MAAKG,EAAC,GAAE,QAAO,EAAC,OAAM,GAAE,MAAKgB,EAAC,GAAE,WAAU,EAAC,OAAM,GAAE,MAAKA,EAAC,GAAE,MAAK,EAAC,OAAM,GAAE,MAAKA,EAAC,GAAE,eAAc,EAAC,OAAM,GAAE,MAAKhB,EAAC,GAAE,WAAU,EAAC,OAAM,GAAE,MAAKgB,EAAC,EAAC,GAAE,KAAK,UAAQ,EAAC,uBAAsB,WAAU,qBAAoB,WAAU,qBAAoB,WAAU,oBAAmB,WAAU,YAAW,WAAU,SAAQ,WAAU,gBAAe,UAAS,WAAU,WAAU,QAAO,WAAU,SAAQ,UAAS;AAAA,EAAC;AAAA,EAAC,kBAAkB,GAAE;AAAC,SAAK,SAAS,SAAO,EAAC,GAAGlB,EAAE,OAAOyB,GAAE,CAAC,GAAE,MAAK,SAAQ,aAAYA,GAAE,MAAK,EAAC;AAAA,EAAC;AAAC,GCA1kDwD,KAAA,cAAgB/D,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,aAAWU,EAAE,oBAAmB,KAAK,UAAQ,EAAC,UAAS,IAAIR,KAAC,GAAE,KAAK,iBAAeC,GAAE;AAAA,EAAM;AAAA,EAAC,OAAO,GAAEH,GAAE;AAAC,UAAK,EAAC,SAAQU,GAAE,SAAQR,EAAC,IAAE,GAAE,EAAC,UAASM,GAAE,QAAOC,EAAC,IAAET,GAAED,IAAE,KAAK,QAAQ,UAASX,IAAEoB,EAAE,SAAQ,GAAGQ,IAAE5B,EAAE,gBAAeH,IAAEH,EAAE,CAAC,GAAEmB,IAAEjB,EAAE,GAAEyB,CAAC,GAAE,IAAE5B,EAAE,CAAC;AAAE,IAAAkB,EAAE,kBAAkBiB,CAAC,GAAEd,EAAE,UAAU,EAAC,QAAOH,GAAE,UAAS,EAAC,GAAGT,EAAE,GAAEU,EAAE,QAAOZ,EAAE,QAAQ,GAAE,GAAGa,EAAE,SAAQ,GAAGA,EAAE,MAAK,iBAAgBA,EAAE,iBAAe,EAAC,aAAYA,EAAE,gBAAgB,UAAS,YAAWA,EAAE,gBAAgB,SAAQ,IAAE,KAAI,GAAE,SAAQ,EAAC,uBAAsB,CAAC,CAACb,EAAE,SAAS,+BAA8B,qBAAoB,CAAC,CAACA,EAAE,SAAS,8BAA6B,qBAAoB,CAAC,CAACA,EAAE,SAAS,yBAAwB,oBAAmB,CAAC,CAACA,EAAE,SAAS,6BAA4B,YAAW,CAAC,CAACA,EAAE,SAAS,uBAAsB,SAAQH,GAAE,WAAUgB,EAAE,YAAU,IAAE,GAAE,GAAG,GAAE,gBAAee,EAAC,GAAE,oBAAmB,CAAE,GAAC,kBAAiB/B,EAAC,CAAC,GAAEiB,EAAE,iBAAiBK,EAAE,CAAC,CAAC,GAAEL,EAAE,WAAWQ,GAAEV,CAAC;AAAA,EAAC;AAAC,GCA18BgE,KAAA,cAAgBhE,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,aAAWD,EAAE,gBAAe,KAAK,UAAQ,EAAC,UAAS,IAAIG,IAAC,GAAE,KAAK,iBAAeC,GAAE;AAAA,EAAI;AAAA,EAAC,OAAO,GAAEH,GAAE;AAAC,UAAK,EAAC,SAAQD,GAAE,SAAQG,EAAC,IAAE,GAAEM,IAAE3B,EAAE,CAAC,GAAE6B,IAAE,EAAC,QAAO,KAAK,QAAQ,UAAS,UAAS,EAAC,GAAG5B,EAAE,GAAEkB,EAAE,QAAOA,EAAE,SAAS,SAAU,EAAC,QAAQ,GAAE,GAAGV,EAAE,GAAEU,EAAE,MAAM,GAAE,YAAWE,EAAE,eAAe,cAAcH,GAAEC,EAAE,UAAU,EAAC,GAAE,SAAQ,EAAC,GAAGQ,GAAE,YAAW,IAAG,kBAAiB,IAAG,SAAQ,GAAE,GAAE,oBAAmBR,EAAE,SAAS,oBAAmB,kBAAiBhB,EAAE,CAAC,EAAC;AAAE,IAAAkB,EAAE,UAAUQ,CAAC,GAAER,EAAE,iBAAiBK,EAAE,CAAC,CAAC,GAAEL,EAAE,WAAWH,GAAEC,CAAC,GAAEE,EAAE,UAAU,EAAC,GAAGQ,GAAE,SAAQ,EAAC,GAAGF,GAAE,YAAW,IAAG,kBAAiB,IAAG,SAAQ,GAAE,EAAC,CAAC,GAAEN,EAAE,WAAWH,GAAEC,CAAC,GAAEE,EAAE,UAAU,EAAC,GAAGQ,GAAE,SAAQ,EAAC,GAAGF,GAAE,YAAW,IAAG,kBAAiB,IAAG,SAAQ,GAAE,EAAC,CAAC,GAAEN,EAAE,WAAWH,GAAEC,CAAC;AAAA,EAAC;AAAC;ACAzK,MAACU,IAAE,EAAC,MAAK,IAAI5B,GAAE,MAAM,GAAE,aAAY,IAAIQ,GAAE,aAAa,GAAE,aAAY,IAAIN,GAAE,aAAa,GAAE,aAAY,IAAIe,GAAE,aAAa,GAAE,oBAAmB,IAAIC,GAAE,oBAAoB,GAAE,oBAAmB,IAAIS,GAAE,oBAAoB,GAAE,QAAO,IAAId,GAAE,QAAQ,GAAE,UAAS,IAAId,GAAE,UAAU,GAAE,MAAK,IAAI2B,GAAE,MAAM,GAAE,cAAa,IAAID,GAAE,cAAc,GAAE,MAAK,IAAIH,GAAE,MAAM,GAAE,OAAM,IAAIH,GAAE,OAAO,GAAE,SAAQ,IAAIC,GAAE,SAAS,GAAE,YAAW,IAAIC,GAAE,YAAY,EAAC;AAAE,SAASU,KAAG;AAAC,aAAUV,KAAKO;AAAGA,IAAAA,EAAEP,CAAC,EAAE,QAAO;AAAG;AAAC,SAASgB,GAAEhB,GAAE;AAAC,aAAUnB,KAAK0B;AAAGA,IAAAA,EAAE1B,CAAC,EAAE,SAASmB,CAAC;AAAE;ACA17C,SAASJ,GAAEA,GAAEjB,GAAE;AAAC,QAAMQ,IAAES,EAAE,MAAM,GAAEjB,CAAC,GAAEqB,IAAErB,IAAEQ,EAAE;AAAO,WAAQU,IAAE,GAAEA,IAAEG,GAAEH,KAAI;AAAC,UAAMD,IAAET,EAAEA,EAAE,SAAO,CAAC;AAAE,IAAAA,EAAE,KAAKS,CAAC;AAAA,EAAC;AAAC,SAAOT;AAAC;AAAC,SAASR,GAAEiB,GAAE;AAAC,MAAG,CAACA,EAAE,QAAM,CAAC,GAAE,GAAE,GAAE,CAAC;AAAE,QAAK,EAAC,GAAEjB,GAAE,GAAEQ,GAAE,GAAEa,GAAE,GAAEH,EAAC,IAAED;AAAE,SAAM,CAACjB,KAAGkB,IAAE,MAAKV,KAAGU,IAAE,MAAKG,KAAGH,IAAE,MAAKA,CAAC;AAAC;ACAQ,MAAMS,KAAE,GAAE5B,KAAE4B,KAAE,GAAEV,KAAE,MAAIC,GAAE,UAAU,qDAAqD;AAAE,SAASQ,GAAEL,GAAE;AAAC,SAAOA,EAAE,IAAK,OAAGI,GAAE,CAAC,IAAEvB,GAAE,EAAE,OAAO,IAAE,CAAC;AAAE;AAAC,SAASuB,GAAEJ,GAAE;AAAC,UAAgBA,EAAE,SAAX,UAA2BA,EAAE,SAAZ,WAA8BA,EAAE,SAAd,cAA2BA,EAAE,SAAR;AAAa;AAAC,SAASnB,GAAEmB,GAAE;AAAC,SAAOA,EAAE,QAAMP,GAAEO,EAAE,MAAKA,EAAE,SAAO,EAAE,GAAEA;AAAC;AAAC,SAASF,GAAEE,GAAEH,GAAEV,GAAE;AAAC,UAAO,IAAEA,KAAGa,IAAEb,IAAEU;AAAC;AAAC,SAASI,GAAED,GAAEH,GAAE;AAAC,QAAK,CAAC,GAAE,GAAGS,CAAC,IAAET,GAAED,IAAEU,EAAE,IAAK,GAACD,IAAEC,EAAE,CAAC,EAAE,OAAMF,IAAEE,EAAEA,EAAE,SAAO,CAAC,EAAE,OAAMzB,KAAGuB,IAAEC,KAAG3B,IAAEuB,IAAE,CAAE;AAAC,WAAQvB,IAAE2B,GAAE3B,IAAE0B,GAAE1B,KAAGG,GAAE;AAAC,QAAIF,IAAE;AAAE,WAAKD,KAAG4B,EAAE3B,CAAC,EAAE,QAAO,CAAAA;AAAI,UAAMiB,IAAEU,EAAE3B,CAAC,GAAE0B,IAAER,EAAElB,IAAE,CAAC,GAAEyB,IAAE1B,IAAE2B,EAAE,OAAMxB,IAAEe,EAAE,UAAQS,EAAE,QAAM,IAAED,KAAGR,EAAE,QAAMS,EAAE;AAAO,QAAaL,MAAV,SAAY;AAAC,YAAMA,IAAEM,EAAE3B,CAAC,GAAEQ,IAAEU,EAAElB,IAAE,CAAC,GAAEiB,IAAEI,EAAE,MAAM;AAAQ,MAAAJ,EAAE,IAAEE,GAAEX,EAAE,MAAM,GAAES,EAAE,GAAEf,CAAC,GAAEe,EAAE,IAAEE,GAAEX,EAAE,MAAM,GAAES,EAAE,GAAEf,CAAC,GAAEe,EAAE,IAAEE,GAAEX,EAAE,MAAM,GAAES,EAAE,GAAEf,CAAC,GAAEe,EAAE,IAAEE,GAAEX,EAAE,MAAM,GAAES,EAAE,GAAEf,CAAC,GAAEoB,EAAE,KAAK,EAAC,OAAMvB,GAAE,OAAMkB,GAAE,OAAMI,EAAE,MAAK,CAAC;AAAA,IAAC,WAAkBA,MAAT,QAAW;AAAC,YAAMA,IAAEM,EAAE3B,CAAC,GAAEiB,IAAEC,EAAElB,IAAE,CAAC,GAAE0B,IAAElB,GAAEa,EAAE,IAAI,GAAEI,IAAEN,GAAEX,GAAES,EAAE,IAAI,GAAES,GAAExB,CAAC;AAAE,MAAAoB,EAAE,KAAK,EAAC,OAAMvB,GAAE,MAAK0B,GAAE,OAAMJ,EAAE,MAAK,CAAC;AAAA,IAAC,OAAK;AAAC,YAAMA,IAAEM,EAAE3B,CAAC,GAAEQ,IAAEW,GAAED,EAAElB,IAAE,CAAC,EAAE,SAAQqB,EAAE,SAAQnB,CAAC;AAAE,MAAAoB,EAAE,KAAK,EAAC,OAAMvB,GAAE,SAAQS,GAAE,OAAMa,EAAE,MAAK,CAAC;AAAA,IAAC;AAAA,EAAC;AAAC,SAAM,CAAC,GAAE,GAAGC,GAAEL,CAAC;AAAC;AAAC,SAASJ,GAAEQ,GAAE;AAAC,QAAK,CAACH,GAAE,GAAGV,CAAC,IAAEa,GAAErB,IAAEQ,EAAE,IAAG;AAAG,SAAKA,EAAE,SAAOT,MAAG;AAAC,QAAIsB,IAAE,GAAEH,IAAE;AAAE,aAAQlB,IAAE,GAAEA,IAAEQ,EAAE,QAAOR,KAAI;AAAC,YAAM,IAAEQ,EAAER,IAAE,CAAC,GAAED,IAAES,EAAER,CAAC,GAAEiB,IAAE,KAAK,IAAIlB,EAAE,QAAM,EAAE,KAAK;AAAE,MAAAkB,IAAEC,MAAIA,IAAED,GAAEI,IAAErB;AAAA,IAAE;AAAC,IAAAQ,EAAE,OAAOa,GAAE,CAAC;AAAA,EAAC;AAAC,SAAM,CAACH,GAAE,GAAGV,GAAER,CAAC;AAAC;AAAC,SAASc,GAAEO,GAAEH,GAAE;AAAC,SAAOA,EAAE,UAAQS,KAAET,KAAGD,GAAC,EAAG,KAAK,SAASC,EAAE,MAAM,qDAAqDS,EAAC,uCAAuC,GAAET,EAAE,SAAO,IAAES,KAAEL,GAAED,GAAEH,CAAC,IAAEL,GAAEK,CAAC;AAAE;AAAC,SAASf,KAAG;AAAC,QAAK,EAAC,0BAAyBkB,GAAE,+BAA8BH,GAAE,8BAA6BV,EAAC,IAAER;AAAI,SAAOqB,KAAGH,KAAGV;AAAC;AAAC,SAASY,GAAEF,GAAE;AAAC,MAAG,CAACA,EAAE,QAAM;AAAG,UAAOA,EAAE,MAAM;AAAA,IAAA,KAAI;AAAc;AAAA,IAAM,KAAI;AAAU,UAAG,CAACf,GAAC,GAAG;AAAC,cAAMe,IAAElB,GAAG,GAACQ,IAAE,CAAC,4BAA2B,iCAAgC,8BAA8B,EAAE,OAAQ,CAAAa,MAAG,CAACH,EAAEG,CAAC,CAAG,EAAC,KAAK,IAAI;AAAE,eAAOJ,KAAI,UAAU,IAAII,GAAE,2BAA0B,4CAA4Cb,CAAC,EAAE,CAAC,GAAE;AAAA,MAAE;AAAA,EAAC;AAAC,SAAM;AAAE;ACAz9C,MAAMkB,KAAE,MAAKR,KAAE,KAAIC,KAAE;AAAI,SAASG,GAAED,GAAE;AAAC,MAAG,CAACA,EAAE,OAAO,OAAO,QAAO;AAAK,QAAMI,IAAEJ,EAAE,MAAM,KAAM,CAACA,GAAEI,MAAIJ,EAAE,QAAMI,EAAE,QAAQvB,IAAEF,GAAEyB,GAAE,CAAC,GAAE1B,IAAEG,EAAE,IAAK,CAAC,EAAC,OAAMmB,EAAC,MAAIA,CAAC,GAAGM,IAAEzB,EAAE,IAAK,CAAC,EAAC,OAAMmB,EAAC,MAAIb,GAAEa,CAAC,CAAG;AAAC,SAAM,EAAC,QAAOtB,GAAE,QAAO4B,EAAC;AAAC;AAAC,SAASjB,GAAEW,GAAE;AAAC,MAAG,CAACA,EAAE,OAAO,OAAO,QAAO;AAAK,QAAMI,IAAEJ,EAAE,MAAM,KAAM,CAACA,GAAEI,MAAIJ,EAAE,QAAMI,EAAE,KAAO,GAACvB,IAAEF,GAAEyB,GAAE,CAAC;AAAE,SAAM,EAAC,eAAcvB,EAAE,IAAK,CAAC,EAAC,OAAMmB,EAAC,MAAIA,CAAC,GAAG,WAAUnB,EAAE,IAAK,CAAC,EAAC,SAAQmB,EAAC,MAAIA,GAAG;AAAC;AAAC,SAASa,GAAEb,GAAE;AAAC,SAAM,EAAC,cAA4BA,EAAE,iBAAjB,eAA8BM,GAAE,aAAWA,GAAE,WAAU;AAAC;AAAC,SAASd,GAAEY,GAAE;AAAC,MAAG,CAACA,EAAE,OAAO,OAAO,QAAO;AAAK,MAAGA,EAAE,MAAM,KAAM,CAAAJ,MAAGA,EAAE,eAAaA,EAAE,aAAc,QAAM,CAAC,GAAEM,MAAI;AAAC,UAAMnB,IAAE,EAAE,kBAAkB,IAAImB,EAAE,IAAI,KAAK,GAAEV,IAAEQ,EAAE,MAAM,IAAK,CAAAvB,OAAI,EAAC,OAAMA,EAAE,cAAYM,GAAG,IAAIiB,EAAE,KAAK,GAAG,YAAU,IAAEvB,EAAE,cAAYM,GAAG,IAAIiB,EAAE,KAAK,GAAG,YAAU,IAAEvB,EAAE,OAAM,MAAKA,EAAE,OAAKmB,GAAEnB,EAAE,IAAI,IAAEH,GAAC,IAAK,KAAM,CAACsB,GAAEI,MAAIJ,EAAE,QAAMI,EAAE,KAAO,GAACC,IAAE1B,GAAEiB,GAAE,CAAC;AAAE,WAAM,EAAC,QAAOS,EAAE,IAAK,CAAC,EAAC,OAAML,EAAC,MAAIA,CAAG,GAAC,OAAMK,EAAE,IAAK,CAAC,EAAC,MAAKL,EAAC,MAAIA,CAAG,EAAA;AAAA,EAAC;AAAE,QAAMnB,IAAEuB,EAAE,MAAM,KAAM,CAACJ,GAAEI,MAAIJ,EAAE,QAAMI,EAAE,KAAO,GAACE,IAAE3B,GAAEE,GAAE,CAAC;AAAE,SAAM,EAAC,QAAOyB,EAAE,IAAK,CAAC,EAAC,OAAMN,EAAC,MAAIA,CAAC,GAAG,OAAMM,EAAE,IAAK,CAAC,EAAC,MAAKF,EAAC,MAAIJ,GAAEI,CAAC,CAAG,EAAA;AAAC;AAA8K,SAASnB,GAAEe,GAAE;AAAC,SAAO,CAAAtB,MAAG;AAAC,UAAK,EAAC,OAAM4B,EAAC,IAAE5B;AAAE,WAAM,EAAC,wBAAuB0B,GAAEE,EAAE,gBAAgB,IAAEzB,GAAEmB,EAAE,SAAS,IAAEM,EAAE,WAAU;AAAA,EAAC;AAAC;AAAC,SAASb,GAAEO,GAAEI,GAAE;AAAC,QAAMvB,IAAEuB,EAAE;AAAO,MAAGJ,IAAEI,EAAE,CAAC,EAAE,SAAWvB,MAAJ,EAAM,QAAOuB,EAAE,CAAC,EAAE;AAAK,WAAQ1B,IAAE,GAAEA,IAAEG,GAAEH,IAAI,KAAGsB,IAAEI,EAAE1B,CAAC,EAAE,OAAM;AAAC,UAAMG,KAAGmB,IAAEI,EAAE1B,IAAE,CAAC,EAAE,UAAQ0B,EAAE1B,CAAC,EAAE,QAAM0B,EAAE1B,IAAE,CAAC,EAAE;AAAO,WAAO0B,EAAE1B,IAAE,CAAC,EAAE,OAAKG,KAAGuB,EAAE1B,CAAC,EAAE,OAAK0B,EAAE1B,IAAE,CAAC,EAAE;AAAA,EAAK;AAAC,SAAO0B,EAAEvB,IAAE,CAAC,EAAE;AAAI;AAAC,SAASE,GAAEqB,GAAE;AAAC,QAAK,EAAC,cAAavB,GAAE,cAAaH,GAAE,SAAQ4B,GAAE,SAAQ3B,EAAC,IAAEyB;AAAE,MAAa,OAAOE,KAAjB,YAA8B,OAAO3B,KAAjB,SAAmB,QAAM,CAAC,GAAEQ,MAAI;AAAC,UAAMS,IAAE,EAAE,MAAM,OAAM,IAAEI,GAAEP,GAAEG,GAAEU,EAAE,KAAK,CAAC,GAAET,IAAEG,GAAEP,GAAEG,GAAEjB,EAAE,KAAK,CAAC;AAAE,WAAM,EAAC,oBAAmB,CAACE,GAAEH,GAAE,GAAEmB,CAAC,EAAC;AAAA,EAAC;AAAE,MAAa,OAAOS,KAAjB,YAA8B,OAAO3B,KAAjB,SAAmB,OAAM,IAAI,MAAM,8DAA8D;AAAE,SAAM,EAAC,oBAAmB,CAACE,GAAEH,GAAEsB,GAAEM,CAAC,GAAEN,GAAErB,CAAC,CAAC,EAAC;AAAC;AAAM,MAAC6B,KAAE,EAAC,qBAAoB,MAAK,uBAAsB,MAAK,wBAAuB,MAAK,yBAAwB,MAAK,8BAA6B,MAAK,qCAAoC,MAAK,6BAA4B,MAAK,+BAA8B,KAAI;AAAE,SAASD,GAAEP,GAAEI,IAAEN,IAAEjB,IAAEwB,IAAE;AAAC,MAAGL,EAAE,8BAA8B,QAAOA,EAAE,yCAAyC,WAASH,KAAE,KAAK,IAAIG,EAAE,8BAA8B,mBAAmB,CAAC,IAAEnB,GAAEuB,CAAC;AAAE,MAAGJ,EAAE,8BAA6B;AAAC,QAAGA,EAAE,wCAAwC,SAAS,QAAOH;AAAE,UAAMnB,IAAEsB,EAAE,6BAA6B;AAAM,WAAO,KAAK,IAAItB,EAAEA,EAAE,SAAO,CAAC,IAAEG,GAAEuB,CAAC;AAAA,EAAC;AAAC,MAAGJ,EAAE,yBAAwB;AAAC,QAAGA,EAAE,mCAAmC,SAAS,QAAOH;AAAE,UAAMnB,IAAEsB,EAAE,wBAAwB;AAAM,WAAO,KAAK,IAAItB,EAAEA,EAAE,SAAO,CAAC,IAAEG,GAAEuB,CAAC;AAAA,EAAC;AAAC,SAAOJ,EAAE,8BAA4B,IAAEH,KAAE;AAAC;AAAC,SAASK,GAAEF,GAAE;AAAC,QAAMI,IAAE,EAAC,GAAGI,GAAC;AAAE,MAAG,CAACR,KAAG,EAAE,qBAAoBA,MAAI,CAACA,EAAE,gBAAgB,QAAOI;AAAE,aAAUvB,KAAKe,GAAEI,EAAE,eAAe,EAAE,SAAOnB,EAAE;IAAM,KAAI;AAAQ,MAAAuB,EAAE,sBAAoBH,GAAEpB,CAAC;AAAE;AAAA,IAAM,KAAI;AAAU,MAAAuB,EAAE,wBAAsBf,GAAER,CAAC;AAAE;AAAA,IAAM,KAAI;AAAW,MAAAuB,EAAE,yBAAuBS,GAAEhC,CAAC;AAAE;AAAA,IAAM,KAAI;AAAO,cAAO2D,GAAE3D,CAAC,GAAC;AAAA,QAAE,KAAI;AAAc,UAAAuB,EAAE,0BAAwBZ,GAAEX,CAAC;AAAE;AAAA,QAAM,KAAI;AAAc,UAAYA,EAAE,WAAd,YAAqBuB,EAAE,sCAAoCZ,GAAEX,CAAC,IAAEuB,EAAE,+BAA6BZ,GAAEX,CAAC;AAAE;AAAA,QAAM,KAAI;AAAU,UAAAuB,EAAE,gCAA8BrB,GAAEF,CAAC;AAAE;AAAA,QAAM,KAAI;AAAa,UAAAuB,EAAE,8BAA4BnB,GAAEJ,CAAC;AAAA,MAAC;AAAC;AAAA,IAAM;AAAQ,cAAQ,MAAM,0BAA0B;AAAA,EAAC;AAAC,SAAOuB;AAAC;AAAC,SAASoC,GAAExC,GAAE;AAAC,MAAa,OAAOA,EAAE,gBAAnB,YAA2C,OAAOA,EAAE,gBAAnB,YAAuCA,EAAE,WAAR,QAAuBA,EAAE,WAAR,KAAgB,QAAM;AAAU,OAAIA,EAAE,cAA2BA,EAAE,eAAjB,gBAA6BA,EAAE,mBAAiCA,EAAE,oBAAlB,kBAAoC,MAAM,QAAQA,EAAE,KAAK,EAAE,QAAM;AAAc,OAAUA,EAAE,SAAR,QAAeA,EAAE,cAA2BA,EAAE,eAAjB,gBAA6BA,EAAE,mBAAiCA,EAAE,oBAAlB,mBAAqC,MAAM,QAAQA,EAAE,KAAK,KAAG,YAAWA,KAAGA,EAAE,QAAQ,QAAM;AAAc,OAAUA,EAAE,SAAR,QAAeA,EAAE,cAA2BA,EAAE,eAAjB,gBAA6BA,EAAE,mBAAiCA,EAAE,oBAAlB,kBAA0CA,EAAE,aAAR,KAAkB,QAAM;AAAa,QAAM,IAAI,MAAM,0CAA0C;AAAC;ACAzhJ,SAASI,GAAEA,GAAE;AAAC,SAAM,CAAC,EAAEA,EAAE,iCAA+BA,EAAE,gCAA8BA,EAAE,2BAAyBA,EAAE,+BAA6BA,EAAE;AAAoC;AAAC,SAASvB,GAAEuB,GAAE;AAAC,SAAM,CAAC,CAACA,EAAE;AAAsB;ACAgL,SAAS1B,GAAEsB,GAAE;AAAC,SAAOA,EAAE,YAAUA,EAAE,WAAS,EAAC,UAASA,EAAE,YAAU,GAAE,UAASA,EAAE,YAAU,EAAC,IAAE;AAAI;AAAC,SAASrB,EAAEqB,GAAE;AAAC,MAASA,KAAN,KAAQ,QAAO;AAAK,MAAG,MAAM,QAAQA,CAAC,GAAE;AAAC,UAAK,CAACI,GAAEvB,GAAEyB,GAAET,CAAC,IAAEG;AAAE,WAAM,CAACI,GAAEvB,GAAEyB,GAAE,MAAIT,CAAC;AAAA,EAAC;AAAC,SAAgB,OAAOG,KAAjB,WAAmBA,IAAE,EAAC,GAAGA,GAAE,cAAarB,EAAEqB,GAAG,YAAY,EAAC;AAAC;AAAC,eAAeJ,GAAEQ,GAAEvB,GAAE;AAAC,QAAK,EAAC,oBAAmByB,GAAE,aAAYT,GAAE,iBAAgB,EAAC,IAAEhB,EAAE;AAAc,QAAM,QAAQ,IAAImB,GAAE,eAAeI,EAAE,QAAOE,GAAE,CAAA,CAAE,CAAC;AAAE,QAAM3B,IAAEkB,EAAE,uBAAuBO,GAAE,EAAE,GAAER,IAAE,EAAC,WAAUlB,GAAE0B,CAAC,GAAE,iBAAgB,EAAC,GAAEC,IAAE,CAAA;AAAG,aAAUL,KAAKrB,EAAE,SAAOqB,EAAE,MAAI;AAAA,IAAE,KAAI;AAAS,MAAAK,EAAE,KAAK,GAAGJ,GAAED,GAAEnB,GAAEe,CAAC,CAAC;AAAE;AAAA,IAAM,KAAI;AAAO,MAAAS,EAAE,KAAK,GAAGN,GAAEC,GAAEnB,GAAEe,CAAC,CAAC;AAAE;AAAA,IAAM,KAAI;AAAO,MAAAS,EAAE,KAAK,GAAGZ,GAAEO,GAAEnB,GAAEe,CAAC,CAAC;AAAE;AAAA,IAAM,KAAI;AAAO,MAAAS,EAAE,KAAK,GAAGhB,GAAEW,GAAEnB,GAAEe,CAAC,CAAC;AAAA,EAAC;AAAC,SAAOS;AAAC;AAAC,SAASJ,GAAED,GAAEI,GAAEP,GAAE;AAAC,QAAK,EAAC,UAASV,GAAE,eAAcT,EAAC,IAAE0B,GAAE,EAAC,OAAMzB,EAAC,IAAED,GAAEkB,IAAEI,EAAE,YAAU,EAAC,GAAGM,IAAE,8BAA6BnB,EAAE,oCAAmC,IAAE,EAAC,qBAAoBA,EAAE,qBAAoB,uBAAsBA,EAAE,uBAAsB,+BAA8BA,EAAE,+BAA8B,8BAA6BA,EAAE,8BAA6B,yBAAwBA,EAAE,yBAAwB,6BAA4BA,EAAE,6BAA4B,wBAAuBA,EAAE,uBAAsB;AAAE,SAAOkB,GAAE1B,EAAE,eAAeE,EAAE,QAAO,EAAC,UAASe,EAAC,GAAE,EAAC,WAAU,CAAC,CAACC,EAAE,UAAS,CAAC,GAAEG,GAAEb,GAAEU,CAAC;AAAC;AAAC,SAASQ,GAAEL,GAAEnB,GAAEyB,GAAE,EAAC,WAAU5B,GAAE,iBAAgBkB,EAAC,GAAE;AAAC,QAAMK,IAAEd,GAAEmB,CAAC;AAAE,SAAM,CAACN,EAAE,eAAe,EAAC,QAAO,EAAC,MAAKnB,EAAE,MAAK,QAAOA,EAAE,QAAO,SAAQA,EAAE,YAAY,GAAE,SAAQA,EAAE,YAAY,GAAE,OAAMA,EAAE,UAAS,OAAMF,EAAEE,EAAE,KAAK,KAAG,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,aAAYA,EAAE,aAAY,aAAYA,EAAE,aAAY,YAAWA,EAAE,YAAW,WAAUH,GAAE,SAAQG,EAAE,SAAQ,SAAQA,EAAE,SAAQ,cAAaF,EAAEE,EAAE,YAAY,KAAG,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,aAAYA,EAAE,cAAa,eAAcA,EAAE,iBAAeuB,GAAE,gBAAgB,MAAK,iBAAgBvB,EAAE,iBAAgB,aAAYe,KAAG,GAAE,WAAUf,EAAE,WAAU,WAAUA,EAAE,WAAU,uBAAsBA,EAAE,uBAAsB,4BAA2BA,EAAE,4BAA2B,QAAOA,EAAE,0BAAyB,WAAUoB,GAAE,WAAUpB,EAAE,iBAAgB,SAAQA,EAAE,UAAQ,EAAC,MAAK,oBAAmB,aAAYA,EAAE,QAAO,IAAE,MAAK,YAAWA,EAAE,WAAU,gBAAegB,GAAES,CAAC,EAAC,EAAC,CAAC,CAAC;AAAC;AAAC,SAASd,GAAEQ,GAAEI,GAAEE,GAAE;AAAC,QAAK,EAAC,UAAST,GAAE,eAAc,EAAC,IAAEO,GAAE,EAAC,OAAM1B,EAAC,IAAE;AAAE,SAAOoB,GAAEpB,EAAE,eAAeG,EAAE,MAAK,EAAC,UAAS,EAAC,qBAAoBmB,EAAE,cAAY,OAAKH,EAAE,qBAAoB,uBAAsBA,EAAE,sBAAqB,EAAC,GAAE,EAAC,WAAU,CAAC,CAACS,EAAE,UAAS,CAAC,GAAEN,GAAEM,CAAC;AAAC;AAAC,SAASR,GAAEE,GAAEI,GAAE,EAAC,WAAUvB,EAAC,GAAE;AAAC,SAAM,CAACmB,EAAE,eAAe,EAAC,QAAO,EAAC,OAAMrB,EAAEyB,EAAE,KAAK,KAAG,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,WAAUvB,GAAE,SAAQuB,EAAE,UAAQ,EAAC,MAAK,oBAAmB,aAAYA,EAAE,QAAO,IAAE,KAAI,EAAC,CAAC,CAAC;AAAC;AAAC,SAASL,GAAEC,GAAEI,GAAEE,GAAE;AAAC,MAAG,CAACN,EAAE,yBAAyB,QAAOR,GAAEQ,GAAEI,GAAEE,CAAC;AAAE,QAAK,EAAC,UAAST,GAAE,eAAc,EAAC,IAAEO,GAAE,EAAC,OAAM1B,EAAC,IAAE;AAAE,SAAOO,GAAEP,EAAE,eAAeG,EAAE,aAAY,EAAC,UAAS,EAAC,qBAAoBmB,EAAE,cAAY,OAAKH,EAAE,qBAAoB,uBAAsBA,EAAE,sBAAqB,EAAC,GAAE,EAAC,WAAU,CAAC,CAACS,EAAE,UAAS,CAAC,GAAEN,GAAQH,EAAE,uBAAR,MAA4BS,CAAC;AAAC;AAAC,SAASrB,GAAEe,GAAEI,GAAEvB,GAAE,EAAC,WAAUyB,EAAC,GAAE;AAAC,MAAG,CAACF,EAAE,yBAAyB,OAAM,IAAI,MAAM,gDAAgD;AAAE,QAAMP,IAAE,CAAC,CAACO,EAAE,kCAAgC,CAACvB,KAAGuB,EAAE,cAAajB,IAAEiB,EAAE,mBAAiB,CAACP,GAAEnB,IAAE0B,EAAE;AAAyB,SAAM,CAACJ,EAAE,eAAe,EAAC,QAAO,EAAC,OAAMrB,EAAEyB,EAAE,KAAK,KAAG,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,QAAOA,EAAE,QAAO,aAAYA,EAAE,QAAO,SAAQA,EAAE,SAAQ,SAAQA,EAAE,SAAQ,QAAO,GAAE,QAAO,GAAE,OAAMA,EAAE,OAAM,mBAAkBA,EAAE,mBAAkB,iBAAgBjB,GAAE,qBAAqCT,EAAE,SAAS,SAA5B,gBAAiC,QAAOA,GAAE,WAAU4B,GAAE,SAAQF,EAAE,UAAQ,EAAC,MAAK,oBAAmB,aAAYA,EAAE,QAAO,IAAE,KAAI,EAAC,CAAC,CAAC;AAAC;AAAC,SAASX,GAAEO,GAAEI,GAAEP,GAAE;AAAC,QAAK,EAAC,UAASV,GAAE,eAAcT,EAAC,IAAE0B,GAAE,EAAC,OAAMzB,EAAC,IAAED,GAAEkB,IAAEI,EAAE,YAAU,EAAC,GAAGM,IAAE,8BAA6BnB,EAAE,oCAAmC,IAAE,EAAC,qBAAoBa,EAAE,cAAY,OAAKb,EAAE,qBAAoB,uBAAsBA,EAAE,uBAAsB,+BAA8BA,EAAE,+BAA8B,8BAA6BA,EAAE,8BAA6B,yBAAwBA,EAAE,yBAAwB,6BAA4BA,EAAE,4BAA2B,GAAEc,IAAE,EAAC,UAASL,EAAC,GAAE,IAAE,CAAC,EAAEA,EAAE,iCAA+BA,EAAE,gCAA8BA,EAAE,2BAAyBA,EAAE;AAA6B,SAAII,EAAE,2BAAsGjB,GAAEJ,EAAE,eAAeE,EAAE,cAAaoB,GAAE,EAAC,WAAU,CAAC,CAACJ,EAAE,UAAS,CAAC,GAAEG,GAAE,GAAEH,CAAC,IAAzIU,GAAE5B,EAAE,eAAeE,EAAE,MAAKoB,GAAE,EAAC,WAAU,CAAC,CAACJ,EAAE,UAAS,CAAC,GAAEG,GAAE,GAAEH,CAAC;AAA8E;AAAC,SAASgB,GAAEb,GAAEI,GAAE,EAAC,WAAUvB,EAAC,GAAE;AAAC,SAAM,EAAC,QAAO,EAAC,OAAMF,EAAEqB,EAAE,KAAK,KAAG,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,OAAMA,EAAE,OAAM,gBAAeA,EAAE,gBAAe,SAAQA,EAAE,KAAI,UAASA,EAAE,MAAK,YAAWA,EAAE,YAAW,WAAUnB,GAAE,WAAUuB,GAAE,SAAQJ,EAAE,UAAQ,EAAC,MAAK,oBAAmB,aAAYA,EAAE,QAAO,IAAE,KAAI,EAAC;AAAC;AAAC,SAASO,GAAEP,GAAEI,GAAEvB,GAAEyB,GAAE;AAAC,MAAGF,EAAE,yBAAyB,OAAM,IAAI,MAAM,6CAA6C;AAAE,SAAM,CAACJ,EAAE,eAAe,EAAC,QAAOa,GAAET,GAAEvB,GAAEyB,CAAC,EAAE,OAAM,CAAC,CAAC;AAAC;AAAC,SAASvB,GAAEiB,GAAEI,GAAEvB,GAAEyB,GAAE;AAAC,QAAK,EAAC,0BAAyBT,GAAE,WAAUV,GAAE,iBAAgBT,EAAC,IAAE0B;AAAE,MAAG,CAACP,EAAE,OAAM,IAAI,MAAM,yCAAyC;AAAE,SAAM,CAACG,EAAE,eAAe,EAAC,QAAO,EAAC,GAAGa,GAAET,GAAEvB,GAAEyB,CAAC,EAAE,QAAO,iBAAgBnB,KAAG,IAAG,uBAAsBT,GAAE,OAA2BmB,EAAE,SAAS,SAAhC,oBAAqC,QAAOA,EAAC,EAAC,CAAC,CAAC;AAAC;AAAC,SAASR,GAAEW,GAAEI,GAAEE,GAAE;AAAC,QAAK,EAAC,UAAST,GAAE,eAAc,EAAC,IAAEO,GAAE,EAAC,OAAM1B,EAAC,IAAE;AAAE,SAAOwB,GAAExB,EAAE,eAAeG,EAAE,MAAK,EAAC,UAAS,EAAC,qBAAoBmB,EAAE,cAAY,OAAKH,EAAE,qBAAoB,uBAAsBA,EAAE,uBAAsB,wBAAuBA,EAAE,wBAAuB,+BAA8BA,EAAE,+BAA8B,8BAA6BA,EAAE,8BAA6B,yBAAwBA,EAAE,yBAAwB,6BAA4BA,EAAE,4BAA2B,EAAC,GAAE,EAAC,WAAU,CAAC,CAACS,EAAE,WAAU,iBAAgB,IAAG,WAAU,GAAE,CAAC,GAAEN,GAAEH,GAAES,CAAC;AAAC;AAAC,SAASJ,GAAEF,GAAEI,GAAEvB,GAAE,EAAC,WAAUyB,GAAE,iBAAgB,EAAC,GAAE;AAAC,SAAM,CAACN,EAAE,eAAe,EAAC,QAAO,EAAC,oBAAmBrB,EAAEyB,EAAE,eAAe,GAAE,oBAAmBzB,EAAEyB,EAAE,eAAe,GAAE,mBAAkBA,EAAE,mBAAiB,GAAE,OAAMzB,EAAEyB,EAAE,KAAK,KAAG,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,SAAQA,EAAE,SAAQ,SAAQA,EAAE,SAAQ,WAAUA,EAAE,OAAM,UAASA,EAAE,MAAK,eAAcA,EAAE,eAAc,YAAWA,EAAE,YAAW,WAAUzB,EAAEyB,EAAE,YAAY,KAAG,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,cAAaA,EAAE,aAAY,WAAUA,EAAE,aAAW,KAAI,iBAAgB,GAAE,qBAAoBA,EAAE,uBAAqB,UAAS,mBAAkBA,EAAE,qBAAmB,YAAW,qBAAoB,IAAG,QAAOA,EAAE,wBAAuB,WAAUE,GAAE,SAAQF,EAAE,UAAQ,EAAC,MAAK,oBAAmB,aAAYA,EAAE,QAAO,IAAE,MAAK,WAAUA,EAAE,iBAAgB,YAAWA,EAAE,WAAU,aAAY,KAAG,GAAE,gBAAeP,GAAEhB,CAAC,GAAE,aAAY,MAAK,qBAAoB,MAAK,cAAa,MAAK,eAAc,MAAK,aAAY,GAAE,EAAC,CAAC,CAAC;AAAC;ACAx/M,SAASF,GAAEqB,GAAEnB,GAAE;AAAC,SAAM,EAAC,MAAK,UAAS,SAAQA,GAAE,cAAa,EAAC,gBAAeM,GAAC,EAAG,eAAc,GAAE,UAASiB,GAAEJ,CAAC,EAAC;AAAC;AAAC,SAAStB,GAAEsB,GAAE;AAAC,UAAOA,GAAC;AAAA,IAAE,KAAI;AAAU,aAAOnB,GAAE;AAAA,IAAQ,KAAI;AAAQ,aAAOA,GAAE;AAAA,IAAM,KAAI;AAAW,aAAOA,GAAE;AAAA,IAAS,KAAI;AAAO,aAAOA,GAAE;AAAA,IAAK;AAAQ,aAAO;AAAA,EAAI;AAAC;AAAC,SAASuB,GAAEJ,GAAE;AAAC,MAAG,CAACA,EAAE,QAAM,CAAA;AAAG,UAAOA,EAAE,MAAM;AAAA,IAAA,KAAI;AAAA,IAAS,KAAI;AAAA,IAAe,KAAI;AAAA,IAAe,KAAI;AAAa,aAAOC,GAAED,CAAC;AAAA,IAAE,KAAI;AAAc,aAAOH,GAAEG,CAAC;AAAA,IAAE,KAAI;AAAY,aAAOM,GAAEN,CAAC;AAAA,IAAE,KAAI;AAAU,aAAOK,GAAEL,CAAC;AAAA,EAAC;AAAC;AAAC,SAASH,GAAEG,GAAE;AAAC,QAAMnB,IAAE,CAAE;AAAC,aAAUe,KAAKI,EAAE,WAAW,CAAAnB,EAAE,KAAK,EAAC,SAAQA,EAAE,QAAO,YAAWe,EAAE,iBAAgB,OAAMA,EAAE,MAAK,CAAC;AAAE,SAAOf;AAAC;AAAC,SAASyB,GAAEN,GAAE;AAAC,QAAMnB,IAAEoB,GAAED,CAAC;AAAE,MAAIJ,IAAE;AAAE,aAAUT,KAAKa,EAAE,WAAW,CAAAnB,EAAE,KAAK,EAAC,SAAQe,KAAI,YAAWT,EAAE,iBAAgB,OAAMA,EAAE,MAAK,CAAC;AAAE,SAAON;AAAC;AAAC,SAASwB,GAAE,EAAC,iBAAgBL,GAAE,OAAMnB,EAAC,GAAE;AAAC,SAAOmB,KAAGnB,IAAE,CAAC,EAAC,SAAQ,GAAE,YAAWmB,GAAE,OAAMnB,EAAC,CAAC,IAAE,CAAE;AAAA;AAAC,SAASoB,GAAEpB,GAAE;AAAC,SAAG,EAAE,qBAAoBA,MAAI,CAACA,EAAE,iBAAiB,SAAa,CAAE,IAAQe,GAAEf,EAAE,eAAe,EAAE,IAAK,OAAG2B,GAAE,CAAC,CAAG,EAAC,OAAOR,EAAC;AAAC;AAAC,SAASF,GAAEE,GAAE;AAAC,SAAsBA,EAAE,oBAAlB,gBAAkC,OAAK,EAAC,SAAQtB,GAAEsB,EAAE,IAAI,GAAE,OAAMA,EAAE,OAAM,oBAAmBA,EAAE,oBAAmB,YAAWA,EAAE,iBAAgB,qBAAoBA,EAAE,oBAAmB;AAAC;AAAC,SAASR,GAAEQ,GAAE;AAAC,SAAM,EAAC,SAAQtB,GAAEsB,EAAE,IAAI,GAAE,OAAMA,EAAE,OAAM,oBAAmBA,EAAE,oBAAmB,YAAWA,EAAE,gBAAe;AAAC;AAAC,SAASZ,GAAEY,GAAE;AAAC,SAAM,EAAC,SAAQtB,GAAEsB,EAAE,IAAI,GAAE,OAAMA,EAAE,OAAM,oBAAmBA,EAAE,oBAAmB,YAAWA,EAAE,gBAAe;AAAC;AAAC,SAASD,GAAEC,GAAE;AAAC,SAAM,EAAC,SAAQtB,GAAEsB,EAAE,IAAI,GAAE,YAAWA,EAAE,iBAAgB,OAAMA,EAAE,MAAK;AAAC;AAAC,SAASQ,GAAER,GAAE;AAAC,UAAOA,EAAE,MAAI;AAAA,IAAE,KAAI;AAAO,aAAOF,GAAEE,CAAC;AAAA,IAAE,KAAI;AAAQ,aAAOR,GAAEQ,CAAC;AAAA,IAAE,KAAI;AAAU,aAAOZ,GAAEY,CAAC;AAAA,IAAE,KAAI;AAAW,aAAOD,GAAEC,CAAC;AAAA,EAAC;AAAC;ACAtvD,SAASrB,GAAEqB,GAAE;AAAC,SAAOA,EAAE,KAAM,OAAG,EAAE,QAAQ;AAAE;AAAC,SAASb,GAAEa,GAAE;AAAC,SAAOA,EAAE,OAAQ,OAAG,CAAC,EAAE,KAAO,EAAC,IAAK,OAAG,EAAE,YAAU,EAAE,QAAU,EAAC,OAAQ,OAAS,KAAN,IAAS;AAAA;AAAC,SAASH,GAAEG,GAAEtB,GAAE;AAAC,QAAM,IAAE,IAAI,IAAIsB,CAAC;AAAE,aAAUb,KAAKT,EAAE,OAAM,EAAG,GAAE,IAAIS,CAAC;AAAE,SAAO;AAAC;AAAC,SAASC,GAAEY,GAAEtB,GAAE;AAAC,QAAM,IAAE,IAAI,IAAIsB,CAAC;AAAE,aAAUb,KAAKT,EAAE,OAAM,EAAG,GAAE,OAAOS,CAAC;AAAE,SAAO;AAAC;AAAC,MAAMiB,GAAC;AAAA,EAAC,YAAYzB,GAAE;AAAC,SAAK,iBAAe,IAAIqB,GAAE,EAAC,WAAU,sBAAqB,CAAC,GAAE,KAAK,gBAAc,IAAG,KAAK,kBAAgB,IAAItB,GAAE,EAAC,aAAY,GAAE,SAAQC,EAAE,QAAO,CAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,eAAe,QAAO,GAAG,KAAK,gBAAgB,WAAU,KAAK,MAAO;AAAA,EAAA;AAAA,EAAC,QAAO;AAAC,SAAK,gBAAgB,MAAO;AAAA,EAAA;AAAA,EAAC,MAAM,KAAK,GAAE;AAAC,WAAO,KAAK,eAAe,WAAW,KAAK,QAAQ,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,QAAQ,GAAE;AAAC,UAAMD,IAAE,KAAK,iBAAgBC,IAAED,EAAE,KAAM,GAAC,IAAE,CAAE;AAAC,YAAO,EAAE,MAAI;AAAA,MAAE,KAAI;AAAS,YAAGC,GAAG,SAAO,EAAE,KAAK;AAAO,UAAE,KAAKD,EAAE,KAAK,CAAC,CAAC;AAAE;AAAA,MAAM,KAAI,QAAO;AAAC,cAAMmB,IAAqBlB,GAAG,SAAtB,mBAA2BA,IAAE;AAAK,QAAAkB,KAAGnB,EAAE,QAAS;AAAC,cAAMU,IAAE,KAAK,YAAYS,GAAE,CAAC;AAAE,mBAAUG,KAAKZ,EAAE,CAAAY,KAAG,EAAE,KAAKtB,EAAE,KAAKsB,CAAC,CAAC;AAAE;AAAA,MAAK;AAAA,IAAC;AAAC,UAAM,QAAQ,IAAI,CAAC;AAAA,EAAC;AAAA,EAAC,YAAY,GAAEtB,GAAE;AAAC,UAAK,EAAC,eAAc0B,GAAE,iBAAgBvB,GAAE,iBAAgBwB,EAAC,IAAE3B,EAAE;AAAM,QAAG,KAAK,gBAAc,KAAK,iBAAeC,GAAEyB,CAAC,KAAGzB,GAAE0B,CAAC,KAAG1B,GAAEE,CAAC,GAAE,KAAK;AAAe,aAAM,CAAC,GAAE,EAAC,MAAK,kBAAiB,OAAM,EAAC,eAAc,CAAC,GAAGuB,GAAE,GAAGC,CAAC,GAAE,SAAQxB,EAAC,EAAC,CAAC;AAAE,UAAMe,IAAE,IAAI,IAAIT,GAAE,GAAG,MAAM,iBAAe,CAAE,CAAA,CAAC,GAAEc,IAAE,IAAI,IAAId,GAAE,GAAG,MAAM,WAAS,CAAA,CAAE,CAAC,GAAEW,IAAE,oBAAI,IAAI,CAAC,GAAGX,GAAEiB,CAAC,GAAE,GAAGjB,GAAEkB,CAAC,CAAC,CAAC,GAAEC,IAAE,IAAI,IAAInB,GAAEN,CAAC,CAAC;AAAE,WAAM,CAAC,EAAC,MAAK,kBAAiB,OAAM,EAAC,eAAc,MAAM,KAAKgB,GAAET,GAAEQ,GAAEU,CAAC,GAAER,CAAC,CAAC,EAAE,IAAK,CAAAE,OAAI,EAAC,UAASA,EAAC,EAAI,GAAC,SAAQ,MAAM,KAAKH,GAAET,GAAEa,GAAEH,CAAC,GAAEQ,CAAC,CAAC,EAAE,IAAK,CAAAN,OAAI,EAAC,UAASA,EAAC,EAAE,EAAE,EAAC,CAAC;AAAA,EAAC;AAAC;","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40]}