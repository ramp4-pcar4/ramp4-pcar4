{"version":3,"file":"mediaLayerUtils-VYLQytKz.js","sources":["../../node_modules/@arcgis/core/layers/save/mediaLayerUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as r}from\"./utils.js\";import{createForItemWrite as t}from\"../../portal/support/jsonContext.js\";import{getWGS84ExtentForItem as a,removeTypeKeyword as s,typeKeyword as o}from\"../../portal/support/portalItemUtils.js\";import{saveResources as n}from\"../../webdoc/support/resourceUtils.js\";const i=\"Media Layer\",p=\"media-layer-save\",u=\"media-layer-save-as\",l=[\"media-layer:unsupported-source\"];function m(e){return{isValid:\"media\"===e.type,errorMessage:\"Layer.type should be 'media'\"}}function c(e){return t(e,\"portal-item\",!0)}function y(e){return e.layerJSON}async function f(e,r){const{title:t,fullExtent:n}=e;r.title||=t,r.extent=n?await a(n):null,s(r,o.METADATA)}async function d(r,t){return e({layer:r,itemType:i,validateLayer:m,createJSONContext:e=>c(e),createItemData:y,errorNamePrefix:p,supplementalUnsupportedErrors:l,saveResources:(e,t)=>n(r.resourceReferences,t)},t)}async function v(e,t,a){return r({layer:e,itemType:i,validateLayer:m,createJSONContext:e=>c(e),createItemData:y,errorNamePrefix:u,supplementalUnsupportedErrors:l,newItem:t,setItemProperties:f,saveResources:(r,t)=>n(e.resourceReferences,t)},a)}export{d as save,v as saveAs};\n"],"names":["i","p","u","l","m","c","t","y","f","n","a","s","o","d","r","e","v"],"mappings":";;;;AAIqT,MAAMA,IAAE,eAAcC,IAAE,oBAAmBC,IAAE,uBAAsBC,IAAE,CAAC,gCAAgC;AAAE,SAASC,EAAE,GAAE;AAAC,SAAM,EAAC,SAAkB,EAAE,SAAZ,SAAiB,cAAa,+BAA8B;AAAC;AAAC,SAASC,EAAE,GAAE;AAAC,SAAOC,EAAE,GAAE,eAAc,EAAE;AAAC;AAAC,SAASC,EAAE,GAAE;AAAC,SAAO,EAAE;AAAS;AAAC,eAAeC,EAAE,GAAE,GAAE;AAAC,QAAK,EAAC,OAAMF,GAAE,YAAWG,EAAC,IAAE;AAAE,IAAE,UAAQH,GAAE,EAAE,SAAOG,IAAE,MAAMC,EAAED,CAAC,IAAE,MAAKE,EAAE,GAAEC,EAAE,QAAQ;AAAC;AAAC,eAAeC,EAAEC,GAAER,GAAE;AAAC,SAAOS,EAAE,EAAC,OAAMD,GAAE,UAASd,GAAE,eAAcI,GAAE,mBAAkB,CAAAW,MAAGV,EAAEU,CAAC,GAAE,gBAAeR,GAAE,iBAAgBN,GAAE,+BAA8BE,GAAE,eAAc,CAACY,GAAE,MAAIN,EAAEK,EAAE,oBAAmB,CAAC,EAAC,GAAER,CAAC;AAAC;AAAC,eAAeU,EAAE,GAAEV,GAAE,GAAE;AAAC,SAAOQ,EAAE,EAAC,OAAM,GAAE,UAASd,GAAE,eAAcI,GAAE,mBAAkB,CAAAW,MAAGV,EAAEU,CAAC,GAAE,gBAAeR,GAAE,iBAAgBL,GAAE,+BAA8BC,GAAE,SAAQG,GAAE,mBAAkBE,GAAE,eAAc,CAACM,GAAER,MAAIG,EAAE,EAAE,oBAAmBH,CAAC,EAAC,GAAE,CAAC;AAAC;","x_google_ignoreList":[0]}