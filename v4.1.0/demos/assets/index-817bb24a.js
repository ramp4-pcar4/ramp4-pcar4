import{gW as f,gQ as a,gX as c,gK as w,gL as x,gM as z,ia as u,gO as C,hf as v,gS as d,gP as p,gT as i,hq as h,gN as S,g$ as y,h0 as A,hc as _,hd as k,gR as g,he as M,gV as O,h3 as N,h4 as V,hi as F,hj as B}from"./main-e6c796d9.js";import"./preload-helper-388ac9d5.js";const E={},D={class:"border-b p-0 self-center w-2/3"};function H(s,o){return a(),c("span",D)}const $=f(E,[["render",H]]),P=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[i("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),i("path",{d:"M0 0h24v24H0z",fill:"none"})],-1),j=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[i("path",{d:"M19 13H5v-2h14v2z"}),i("path",{d:"M0 0h24v24H0z",fill:"none"})],-1),L=w({__name:"zoom-nav",setup(s){const{t:o}=x(),e=z("iApi"),t=u(400,!0,()=>e.geo.map.zoomIn()),r=u(400,!0,()=>e.geo.map.zoomOut());return(m,l)=>{const n=C("mapnav-button");return a(),c("div",null,[v(n,{onClickFunction:p(t),tooltip:p(o)("mapnav.zoomIn")},{default:d(()=>[P]),_:1},8,["onClickFunction","tooltip"]),v($),v(n,{onClickFunction:p(r),tooltip:p(o)("mapnav.zoomOut")},{default:d(()=>[j]),_:1},8,["onClickFunction","tooltip"])])}}}),Z=s=>(N("data-v-70c3f04e"),s=s(),V(),s),T={class:"mapnav absolute right-0 bottom-0 pb-36 sm:pb-48 pr-12"},q={class:"flex flex-col"},Y=Z(()=>i("span",{class:"py-1"},null,-1)),G={class:"mapnav-section bg-white-75 hover:bg-white"},K=w({__name:"mapnav",setup(s){const o=h(),e=S(()=>o.order.map(t=>o.items[t]).filter(t=>t.componentId));return(t,r)=>{const m=y("focus-list");return a(),c("div",T,[A((a(),c("div",q,[v(L,{class:"mapnav-section bg-white-75 hover:bg-white"}),Y,i("div",G,[(a(!0),c(_,null,k(p(e),(l,n)=>(a(),c(_,{key:l.id+"button"},[(a(),g(M(l.id+"-nav-button"))),n!==p(e).length-1?(a(),g($,{key:0,class:"mapnav-divider"})):O("",!0)],64))),128))])])),[[m]])])}}});const Q=f(K,[["__scopeId","data-v-70c3f04e"]]);class R extends F{mapnavStore=h(this.$vApp.$pinia);get config(){return super.config}_parseConfig(o){if(!o)return;const e=o.items.map(t=>({id:t}));this.mapnavStore.items=e.reduce((t,r)=>(t[r.id]=r,t),{}),this.mapnavStore.order=e.map(t=>t.id),this._validateItems()}_validateItems(){const o=["geolocator","zoom","home","fullscreen"];this.mapnavStore.order.forEach(e=>{(this.$iApi.fixture.get(e)||o.includes(e))&&(this.mapnavStore.items[e].componentId=`${e}-nav-button`)})}}const W={en:{"mapnav.zoomIn":"Zoom In","mapnav.zoomOut":"Zoom Out","mapnav.home":"Home","mapnav.fullscreen":"Full Screen","mapnav.geolocator":"Your Location","mapnav.geolocator.error.permission":"The location request was denied. Please check your browser permission settings.","mapnav.geolocator.error.internal":"Your location could not be found."},fr:{"mapnav.zoomIn":"Zoom avant","mapnav.zoomOut":"Zoom arrière","mapnav.home":"Accueil","mapnav.fullscreen":"Plein Écran","mapnav.geolocator":"Votre position","mapnav.geolocator.error.permission":"Demande de localisation refusée. Veuillez vérifier les paramètres d'autorisation de votre navigateur.","mapnav.geolocator.error.internal":"Votre emplacement n'a pu être trouvé."}};class U extends R{async added(){Object.entries(W).forEach(n=>this.$iApi.$i18n.mergeLocaleMessage(...n));const{vNode:o,destroy:e,el:t}=this.mount(Q,{app:this.$element});this.$vApp.$el.getElementsByClassName("inner-shell")[0].appendChild(t.childNodes[0]),this._parseConfig(this.config);const m=this.$vApp.$watch(()=>this.config,n=>this._parseConfig(n)),l=this.$iApi.event.on(B.COMPONENT,()=>{this._parseConfig(this.config)});this.removed=()=>{m(),this.$iApi.event.off(l);const n=h(this.$vApp.$pinia),b={...n.items};Object.keys(b).forEach(I=>n.removeItem(I)),n.$reset(),e()}}}export{U as default};
