{"version":3,"file":"jsonUtils-wIllKWI4.js","sources":["../../node_modules/@arcgis/core/layers/effects/jsonUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{setDeepValue as t}from\"../../core/object.js\";import{parse as r}from\"./parser.js\";import{isEffectFunctions as s}from\"./utils.js\";function n(e,t,r){try{return c(e)}catch(s){r?.messages?.push(s)}return null}function a(e,r,s,n){try{const n=o(e);t(s,n,r)}catch(a){n.messages&&n.messages.push(a)}}function o(e){const t=r(e);return t?s(t)?t.map((e=>e.toJSON())):t.map((({scale:e,effects:t})=>({scale:e,value:t.map((e=>e.toJSON()))}))):null}function c(e){if(!e||0===e.length)return null;if(f(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:i(r.value)});return t}return i(e)}function f(e){const t=e[0];return!!t&&\"scale\"in t}function i(e){if(!e?.length)return\"\";const t=[];for(const s of e){let e=[];switch(s.type){case\"grayscale\":case\"sepia\":case\"saturate\":case\"invert\":case\"brightness\":case\"contrast\":case\"opacity\":e=[u(s,\"amount\")];break;case\"blur\":e=[u(s,\"radius\",\"pt\")];break;case\"hue-rotate\":e=[u(s,\"angle\",\"deg\")];break;case\"drop-shadow\":e=[u(s,\"xoffset\",\"pt\"),u(s,\"yoffset\",\"pt\"),u(s,\"blurRadius\",\"pt\"),l(s,\"color\")];break;case\"bloom\":e=[u(s,\"strength\"),u(s,\"radius\",\"pt\"),u(s,\"threshold\")]}const n=`${s.type}(${e.filter(Boolean).join(\" \")})`;r(n),t.push(n)}return t.join(\" \")}function u(t,r,s){if(null==t[r])throw new e(\"effect:missing-parameter\",`Missing parameter '${r}' in ${t.type} effect`,{effect:t});return s?t[r]+s:\"\"+t[r]}function l(t,r){if(null==t[r])throw new e(\"effect:missing-parameter\",`Missing parameter '${r}' in ${t.type} effect`,{effect:t});const s=t[r];return`rgba(${s[0]||0}, ${s[1]||0}, ${s[2]||0}, ${s[3]/255||0})`}export{i as effectFunctionsFromJSON,c as fromJSON,n as read,o as toJSON,a as write};\n"],"names":["n","e","t","r","c","s","a","o","f","i","u","l"],"mappings":"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","x_google_ignoreList":[0]}