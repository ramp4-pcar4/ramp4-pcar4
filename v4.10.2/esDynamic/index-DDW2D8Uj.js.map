{"version":3,"file":"index-DDW2D8Uj.js","sources":["../../src/fixtures/areas-of-interest/lang/lang.csv?raw","../../src/fixtures/areas-of-interest/api/areas-of-interest.ts","../../src/fixtures/areas-of-interest/index.ts"],"sourcesContent":["export default \"key,enValue,enValid,frValue,frValid\\nareas-of-interest.title,Areas of Interest,1,Zones d'intérêt,1\\nareas-of-interest.select,Select area of interest,1,Sélectionner la zone d'intérêt,1\"","import { FixtureInstance } from '@/api/internal';\nimport { useAreasOfInterestStore } from '../store';\nimport type { AreasOfInterestConfig } from '../store';\n\nexport class AreasOfInterestAPI extends FixtureInstance {\n    /**\n     * Get the current areas of interest config\n     */\n    get config(): AreasOfInterestConfig | undefined {\n        return super.config;\n    }\n\n    /**\n     * Parses the areas of interest config snippet from the config json\n     */\n    _parseConfig(areasOfInterest?: AreasOfInterestConfig) {\n        if (!areasOfInterest) {\n            return;\n        }\n        const areasOfInterestStore = useAreasOfInterestStore(this.$vApp.$pinia);\n        areasOfInterestStore.areas = areasOfInterest.areas;\n        this.handlePanelTeleports(['areas-of-interest']);\n    }\n}\n","import { markRaw } from 'vue';\nimport AreasOfInterestScreenV from './screen.vue';\nimport messages from './lang/lang.csv?raw';\nimport { AreasOfInterestAPI } from './api/areas-of-interest';\nimport { useAppbarStore } from '../appbar/store';\nimport { useAreasOfInterestStore } from './store';\n\nclass AreasOfInterestFixture extends AreasOfInterestAPI {\n    added() {\n        // console.log(`[fixture] ${this.id} added`);\n\n        this.$iApi.panel.register(\n            {\n                'areas-of-interest': {\n                    screens: {\n                        'areas-of-interest-screen': markRaw(AreasOfInterestScreenV)\n                    },\n                    style: {\n                        width: '350px'\n                    },\n                    button: {\n                        tooltip: 'areas-of-interest.title',\n                        icon: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.19 12.19L6 18l3.81-8.19L18 6l-3.81 8.19z\"/></svg>'\n                    },\n                    alertName: 'areas-of-interest.title'\n                }\n            },\n            {\n                i18n: { messages }\n            }\n        );\n\n        this._parseConfig(this.config);\n        const unwatch = this.$vApp.$watch(\n            () => this.config,\n            (value: any) => this._parseConfig(value)\n        );\n\n        this.removed = () => {\n            // console.log(`[fixture] ${this.id} removed`);\n            unwatch();\n\n            if (this.$iApi.fixture.exists('appbar')) {\n                const appbarStore = useAppbarStore(this.$vApp.$pinia);\n                appbarStore.removeButton('areas-of-interest');\n            }\n\n            this.$iApi.panel.remove('areas-of-interest');\n\n            const areasOfInterestStore = useAreasOfInterestStore(this.$vApp.$pinia);\n            areasOfInterestStore.$reset();\n        };\n    }\n}\n\nexport default AreasOfInterestFixture;\n"],"names":["messages","AreasOfInterestAPI","FixtureInstance","areasOfInterest","areasOfInterestStore","useAreasOfInterestStore","AreasOfInterestFixture","markRaw","AreasOfInterestScreenV","unwatch","value","useAppbarStore"],"mappings":";;AAAA,MAAeA,IAAA,EAAC,IAAK,EAAC,2BAA0B,qBAAoB,4BAA2B,0BAAyB,GAAE,IAAK,EAAC,2BAA0B,mBAAkB,4BAA2B,iCAAgC,EAAC;ACIjO,MAAMC,UAA2BC,EAAgB;AAAA;AAAA;AAAA;AAAA,EAIpD,IAAI,SAA4C;AAC5C,WAAO,MAAM;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA,EAMjB,aAAaC,GAAyC;AAClD,QAAI,CAACA;AACD;AAEJ,UAAMC,IAAuBC,EAAwB,KAAK,MAAM,MAAM;AACtE,IAAAD,EAAqB,QAAQD,EAAgB,OACxC,KAAA,qBAAqB,CAAC,mBAAmB,CAAC;AAAA,EAAA;AAEvD;AChBA,MAAMG,UAA+BL,EAAmB;AAAA,EACpD,QAAQ;AAGJ,SAAK,MAAM,MAAM;AAAA,MACb;AAAA,QACI,qBAAqB;AAAA,UACjB,SAAS;AAAA,YACL,4BAA4BM,EAAQC,CAAsB;AAAA,UAC9D;AAAA,UACA,OAAO;AAAA,YACH,OAAO;AAAA,UACX;AAAA,UACA,QAAQ;AAAA,YACJ,SAAS;AAAA,YACT,MAAM;AAAA,UACV;AAAA,UACA,WAAW;AAAA,QAAA;AAAA,MAEnB;AAAA,MACA;AAAA,QACI,MAAM,EAAE,UAAAR,EAAS;AAAA,MAAA;AAAA,IAEzB,GAEK,KAAA,aAAa,KAAK,MAAM;AACvB,UAAAS,IAAU,KAAK,MAAM;AAAA,MACvB,MAAM,KAAK;AAAA,MACX,CAACC,MAAe,KAAK,aAAaA,CAAK;AAAA,IAC3C;AAEA,SAAK,UAAU,MAAM;AAET,MAAAD,EAAA,GAEJ,KAAK,MAAM,QAAQ,OAAO,QAAQ,KACdE,EAAe,KAAK,MAAM,MAAM,EACxC,aAAa,mBAAmB,GAG3C,KAAA,MAAM,MAAM,OAAO,mBAAmB,GAEdN,EAAwB,KAAK,MAAM,MAAM,EACjD,OAAO;AAAA,IAChC;AAAA,EAAA;AAER;"}