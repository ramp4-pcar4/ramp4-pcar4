{"version":3,"file":"pbf-D-y3_eZO.js","sources":["../../node_modules/@arcgis/core/core/pbf.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport has from\"./has.js\";import t from\"./ObjectPool.js\";var e;!function(t){t[t.varint=0]=\"varint\",t[t.fixed64=1]=\"fixed64\",t[t.delimited=2]=\"delimited\",t[t.fixed32=5]=\"fixed32\",t[t.unknown=99]=\"unknown\"}(e||(e={}));const i=4294967296,s=new TextDecoder(\"utf-8\"),r=has(\"safari\")||has(\"ios\")?6:has(\"ff\")?12:32;class n{constructor(t,i,s=0,r=(t?t.byteLength:0)){this._tag=0,this._dataType=e.unknown,this._init(t,i,s,r)}_init(t,e,i,s){this._data=t,this._dataView=e,this._pos=i,this._end=s}asUnsafe(){return this}clone(){return new n(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const e=this._decodeVarint();if(this._tag=e>>3,this._dataType=7&e,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;if(t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128)return t;if(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128)return t;if(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128)return t;if(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128)return t;if(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128)return t;throw new Error(\"Varint overflow\")}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();return t>>>1^-(1&t)}getSInt64(){return this._decodeSVarint()}getBool(){const t=0!==this._data[this._pos];return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,e=this._pos,s=t.getUint32(e,!0)+t.getUint32(e+4,!0)*i;return this._skip(8),s}getSFixed64(){const t=this._dataView,e=this._pos,s=t.getUint32(e,!0)+t.getInt32(e+4,!0)*i;return this._skip(8),s}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),e=this._pos,i=this._toString(this._data,e,e+t);return this._skip(t),i}getBytes(){const t=this._getLength(),e=this._pos,i=this._toBytes(this._data,e,e+t);return this._skip(t),i}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,e,i,s){const r=this.getMessage(),n=t(r,e,i,s);return r.release(),n}processMessage(t){const e=this.getMessage(),i=t(e);return e.release(),i}getMessage(){const t=this._getLength(),e=n.pool.acquire();return e._init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),e}release(){n.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case e.varint:this._decodeVarint();break;case e.fixed64:this._skip(8);break;case e.delimited:this._skip(this._getLength());break;case e.fixed32:this._skip(4);break;default:throw new Error(\"Invalid data type!\")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error(\"Attempt to skip past the end of buffer!\");this._pos+=t}_decodeVarint(){const t=this._data;let e=this._pos,i=0,s=0;if(this._end-e>=10)do{if(s=t[e++],i|=127&s,!(128&s))break;if(s=t[e++],i|=(127&s)<<7,!(128&s))break;if(s=t[e++],i|=(127&s)<<14,!(128&s))break;if(s=t[e++],i|=(127&s)<<21,!(128&s))break;if(s=t[e++],i+=268435456*(127&s),!(128&s))break;if(s=t[e++],i+=34359738368*(127&s),!(128&s))break;if(s=t[e++],i+=4398046511104*(127&s),!(128&s))break;if(s=t[e++],i+=562949953421312*(127&s),!(128&s))break;if(s=t[e++],i+=72057594037927940*(127&s),!(128&s))break;if(s=t[e++],i+=0x8000000000000000*(127&s),!(128&s))break;throw new Error(\"Varint too long!\")}while(0);else{let r=1;for(;e!==this._end&&(s=t[e],128&s);)++e,i+=(127&s)*r,r*=128;if(e===this._end)throw new Error(\"Varint overrun!\");++e,i+=s*r}return this._pos=e,i}_decodeSVarint(){const t=this._data;let e,i=0,s=0;const r=1&t[this._pos];if(s=t[this._pos++],i|=127&s,!(128&s))return r?-(i+1)/2:i/2;if(s=t[this._pos++],i|=(127&s)<<7,!(128&s))return r?-(i+1)/2:i/2;if(s=t[this._pos++],i|=(127&s)<<14,!(128&s))return r?-(i+1)/2:i/2;if(s=t[this._pos++],i|=(127&s)<<21,!(128&s))return r?-(i+1)/2:i/2;if(s=t[this._pos++],i+=268435456*(127&s),!(128&s))return r?-(i+1)/2:i/2;if(s=t[this._pos++],i+=34359738368*(127&s),!(128&s))return r?-(i+1)/2:i/2;if(s=t[this._pos++],i+=4398046511104*(127&s),!(128&s))return r?-(i+1)/2:i/2;if(e=BigInt(i),s=t[this._pos++],e+=0x2000000000000n*BigInt(127&s),!(128&s))return Number(r?-(e+1n)/2n:e/2n);if(s=t[this._pos++],e+=0x100000000000000n*BigInt(127&s),!(128&s))return Number(r?-(e+1n)/2n:e/2n);if(s=t[this._pos++],e+=0x8000000000000000n*BigInt(127&s),!(128&s))return Number(r?-(e+1n)/2n:e/2n);throw new Error(\"Varint too long!\")}_getLength(){if(this._dataType!==e.delimited)throw new Error(\"Not a delimited data type!\");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,e,i){if((i=Math.min(this._end,i))-e>r){const r=t.subarray(e,i);return s.decode(r)}let n=\"\",h=\"\";for(let s=e;s<i;++s){const e=t[s];128&e?h+=\"%\"+e.toString(16):(n+=decodeURIComponent(h)+String.fromCharCode(e),h=\"\")}return h.length&&(n+=decodeURIComponent(h)),n}_toBytes(t,e,i){return i=Math.min(this._end,i),new Uint8Array(t.buffer,e,i-e)}}n.pool=new t(n,void 0,(t=>{t._data=null,t._dataView=null}));export{n as default};\n"],"names":["e","t","i","s","r","has","n","h"],"mappings":"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","x_google_ignoreList":[0]}