{"version":3,"file":"streamLayerUtils-CLc_16nt.js","sources":["../../node_modules/@arcgis/core/layers/save/streamLayerUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as t}from\"./utils.js\";import{getWGS84ExtentForItem as r,removeTypeKeyword as a,typeKeyword as s,addTypeKeyword as l}from\"../../portal/support/portalItemUtils.js\";const n=\"Stream Service\",i=\"Feed\",o=\"stream-layer-save\",m=\"stream-layer-save-as\";function u(e){return{isValid:\"stream\"===e.type&&!!e.url&&!e.webSocketUrl,errorMessage:\"Stream layer should be created using a url to a stream service\"}}function c(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function y(e,t){const{parsedUrl:n,title:i,fullExtent:o}=e;t.url=n.path,t.title||=i,t.extent=null,null!=o&&(t.extent=await r(o)),a(t,s.METADATA),l(t,s.SINGLE_LAYER)}async function p(t,r){return e({layer:t,itemType:n,additionalItemType:i,validateLayer:u,createItemData:c,errorNamePrefix:o},r)}async function f(e,r,a){return t({layer:e,itemType:n,validateLayer:u,createItemData:c,errorNamePrefix:m,newItem:r,setItemProperties:y},a)}export{p as save,f as saveAs};\n"],"names":["n","i","o","m","u","e","c","t","y","r","a","s","l","p","f"],"mappings":";;AAI0L,MAAMA,IAAE,kBAAiBC,IAAE,QAAOC,IAAE,qBAAoBC,IAAE;AAAuB,SAASC,EAAEC,GAAE;AAAC,SAAM,EAAC,SAAmBA,EAAE,SAAb,YAAmB,CAAC,CAACA,EAAE,OAAK,CAACA,EAAE,cAAa,cAAa,iEAAgE;AAAC;AAAC,SAASC,EAAED,GAAE;AAAC,QAAME,IAAEF,EAAE;AAAU,SAAO,QAAQ,QAAQE,KAAG,OAAO,KAAKA,CAAC,EAAE,SAAOA,IAAE,IAAI;AAAC;AAAC,eAAeC,EAAEH,GAAEE,GAAE;AAAC,QAAK,EAAC,WAAUP,GAAE,OAAMC,GAAE,YAAWC,EAAC,IAAEG;AAAE,EAAAE,EAAE,MAAIP,EAAE,MAAKO,EAAE,UAAQN,GAAEM,EAAE,SAAO,MAAWL,KAAN,SAAUK,EAAE,SAAO,MAAME,EAAEP,CAAC,IAAGQ,EAAEH,GAAEI,EAAE,QAAQ,GAAEC,EAAEL,GAAEI,EAAE,YAAY;AAAC;AAAC,eAAeE,EAAEN,GAAEE,GAAE;AAAC,SAAOJ,EAAE,EAAC,OAAME,GAAE,UAASP,GAAE,oBAAmBC,GAAE,eAAcG,GAAE,gBAAeE,GAAE,iBAAgBJ,EAAC,GAAEO,CAAC;AAAC;AAAC,eAAeK,EAAET,GAAEI,GAAEC,GAAE;AAAC,SAAOH,EAAE,EAAC,OAAMF,GAAE,UAASL,GAAE,eAAcI,GAAE,gBAAeE,GAAE,iBAAgBH,GAAE,SAAQM,GAAE,mBAAkBD,EAAC,GAAEE,CAAC;AAAC;","x_google_ignoreList":[0]}