{"version":3,"file":"NormalAttribute.glsl-axtNsUxo.js","sources":["../../node_modules/@arcgis/core/views/3d/layers/support/symbolColorUtils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";var n;function e(t){switch(t){case\"multiply\":default:return n.Multiply;case\"ignore\":return n.Ignore;case\"replace\":return n.Replace;case\"tint\":return n.Tint}}function r(e,r,a){if(null==e||r===n.Ignore)return a[0]=255,a[1]=255,a[2]=255,void(a[3]=255);const c=t(Math.round(e[3]*i),0,i),p=0===c||r===n.Tint?0:r===n.Replace?u:l;a[0]=t(Math.round(e[0]*o),0,o),a[1]=t(Math.round(e[1]*o),0,o),a[2]=t(Math.round(e[2]*o),0,o),a[3]=c+p}!function(t){t[t.Multiply=1]=\"Multiply\",t[t.Ignore=2]=\"Ignore\",t[t.Replace=3]=\"Replace\",t[t.Tint=4]=\"Tint\"}(n||(n={}));const o=255,i=85,u=i,l=2*i;export{n as ColorMixModeEnum,r as encodeSymbolColor,e as parseColorMixMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nvar n;function o(o){return o===n.Shadow||o===n.ShadowHighlight||o===n.ShadowExcludeHighlight||o===n.ViewshedShadow}function r(o){return f(o)||o===n.Normal}function t(o){return w(o)||o===n.Normal}function i(o){return o===n.Highlight||o===n.ObjectAndLayerIdColor}function h(n){return e(n)||i(n)}function e(o){return o===n.Color}function u(n){return e(n)||S(n)}function l(o){return e(o)||o===n.ObjectAndLayerIdColor}function d(o){return e(o)||o===n.Highlight}function c(n){return d(n)||C(n)}function a(n){return e(n)||i(n)}function g(n){return u(n)||i(n)}function f(n){return a(n)||C(n)}function w(n){return g(n)||C(n)}function C(o){return o===n.Depth}function S(o){return o===n.ColorEmission}!function(n){n[n.Color=0]=\"Color\",n[n.ColorEmission=1]=\"ColorEmission\",n[n.Depth=2]=\"Depth\",n[n.Normal=3]=\"Normal\",n[n.Shadow=4]=\"Shadow\",n[n.ShadowHighlight=5]=\"ShadowHighlight\",n[n.ShadowExcludeHighlight=6]=\"ShadowExcludeHighlight\",n[n.ViewshedShadow=7]=\"ViewshedShadow\",n[n.Highlight=8]=\"Highlight\",n[n.ObjectAndLayerIdColor=9]=\"ObjectAndLayerIdColor\",n[n.COUNT=10]=\"COUNT\"}(n||(n={}));export{n as ShaderOutput,h as is2DGeometryOutput,r as is3DGeometryOutput,t as is3DGeometryOutputMRT,e as isColor,S as isColorEmission,w as isColorEmissionHighlightOIDOrDepth,g as isColorEmissionHighlightOrOID,f as isColorHighlightOIDOrDepth,c as isColorHighlightOrDepth,a as isColorHighlightOrOID,u as isColorOrColorEmission,d as isColorOrHighlight,l as isColorOrOID,C as isDepth,i as isHighlightOrOID,o as isShadowRelatedOutput};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../../../core/compilerUtils.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";import{VertexAttribute as o}from\"../../../lib/VertexAttribute.js\";function t(t,i){switch(i.normalType){case a.Compressed:t.attributes.add(o.NORMALCOMPRESSED,\"vec2\"),t.vertex.code.add(r`vec3 decompressNormal(vec2 normal) {\nfloat z = 1.0 - abs(normal.x) - abs(normal.y);\nreturn vec3(normal + sign(normal) * min(z, 0.0), z);\n}\nvec3 normalModel() {\nreturn decompressNormal(normalCompressed);\n}`);break;case a.Attribute:t.attributes.add(o.NORMAL,\"vec3\"),t.vertex.code.add(r`vec3 normalModel() {\nreturn normal;\n}`);break;case a.ScreenDerivative:t.fragment.code.add(r`vec3 screenDerivativeNormal(vec3 positionView) {\nreturn normalize(cross(dFdx(positionView), dFdy(positionView)));\n}`);break;default:e(i.normalType);case a.COUNT:}}var a;!function(e){e[e.Attribute=0]=\"Attribute\",e[e.Compressed=1]=\"Compressed\",e[e.ScreenDerivative=2]=\"ScreenDerivative\",e[e.COUNT=3]=\"COUNT\"}(a||(a={}));export{t as NormalAttribute,a as NormalType};\n"],"names":["n","t","o","r","w","i","e","S","a","g","C"],"mappings":"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","x_google_ignoreList":[0,1,2]}