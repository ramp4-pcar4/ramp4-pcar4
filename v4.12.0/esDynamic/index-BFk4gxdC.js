import{D as Mt,S as D,m as Te}from"./jsxFactory-C5LxVioS.js";import{i as U}from"./keyed-BMAvP6cM.js";import{l as $e}from"./_commonjsHelpers-DtILRGNx.js";import{e as Ie,n as ze,s as Ae,b as Ee}from"./repeat-Dx9W9wDB.js";import{cK as M,cL as P,i_ as Fe,cR as y,d6 as Pt,cI as b,cJ as d,cO as f,cP as Ct,d8 as G,cQ as ot}from"./main-DnzmeE4U.js";import{T as Rt,b as X,g as Oe,t as He,s as Bt,o as De,S as Lt,x as Me,h as Nt,w as Pe,I as Vt,a as Re}from"./dom-BYU3NyXf.js";import"./index-Buwx-j9b.js";import"./index-O937z6z8.js";import"./customElement-DYCpmMfo.js";import{m as Be,l as Le}from"./input-CCJ2dDrH.js";import{e as wt,n as k}from"./ref-CeH0N1rX.js";import{D as Ne,q as Wt,W as Ve,$ as We,B as Ue}from"./form-CvEjKj31.js";import{m as kt,p as St}from"./interactive-zE84MPIe.js";import{v as je,T as qe,I as _e}from"./label-BQQZwuu-.js";import{r as Tt}from"./loadable-6U0DTqmj.js";import{s as J}from"./component-BO03cvB-.js";import{m as Ke}from"./Validation-BvlBtyR-.js";import{s as lt}from"./useT9n-ao51JRwP.js";import"./index-DguA4tdD.js";import"./index-Cezzb5s0.js";import"./index-BUYNV2Id.js";import{b as Y}from"./observers-BKdf62mV.js";import{i as Ut}from"./guid-Cv9vc9qs.js";import{t as Ge}from"./key-Dw3QkC1A.js";import{i as Xe,d as Je}from"./debounce-B9WUP9Xk.js";var Ye="Expected a function";function jt(e,t,n){var i=!0,a=!0;if(typeof e!="function")throw new TypeError(Ye);return Xe(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),Je(e,t,{leading:i,maxWait:t,trailing:a})}const Qe="24px",Ze="32px",tn="44px",H={loader:"loader",clearButton:"clear-button",editingEnabled:"editing-enabled",inlineChild:"inline-child",inputIcon:"icon",prefix:"prefix",suffix:"suffix",wrapper:"element-wrapper",inputWrapper:"wrapper",actionWrapper:"action-wrapper"},qt={validationMessage:"inputTextValidationMessage"},en={action:"action"},nn=M`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([scale=s]) input{padding-inline-start:.5rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, .5rem)}:host([scale=s]) input,:host([scale=s]) .prefix,:host([scale=s]) .suffix{block-size:1.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .prefix,:host([scale=s]) .suffix{padding-inline:.5rem}:host([scale=s]) .action-wrapper calcite-button,:host([scale=s]) .action-wrapper calcite-button button{block-size:1.5rem}:host([scale=s]) .clear-button{min-block-size:1.5rem;min-inline-size:1.5rem}:host([scale=m]) input{padding-inline-start:.75rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, .75rem)}:host([scale=m]) input,:host([scale=m]) .prefix,:host([scale=m]) .suffix{block-size:2rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .prefix,:host([scale=m]) .suffix{padding-inline:.75rem}:host([scale=m]) .action-wrapper calcite-button,:host([scale=m]) .action-wrapper calcite-button button{block-size:2rem}:host([scale=m]) .clear-button{min-block-size:2rem;min-inline-size:2rem}:host([scale=l]) input{padding-inline-start:1rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, 1rem)}:host([scale=l]) input,:host([scale=l]) .prefix,:host([scale=l]) .suffix{block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .prefix,:host([scale=l]) .suffix{padding-inline:1rem}:host([scale=l]) .action-wrapper calcite-button,:host([scale=l]) .action-wrapper calcite-button button{block-size:2.75rem}:host([scale=l]) .clear-button{min-block-size:2.75rem;min-inline-size:2.75rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}input{transition:var(--calcite-animation-timing),block-size 0,outline-offset 0s;-webkit-appearance:none;position:relative;margin:0;box-sizing:border-box;display:flex;max-block-size:100%;inline-size:100%;max-inline-size:100%;flex:1 1 0%;text-overflow:ellipsis;border-radius:0;background-color:var(--calcite-color-foreground-1);font-family:inherit;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-1)}input:placeholder-shown{text-overflow:ellipsis}input{border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);color:var(--calcite-color-text-1)}input::placeholder,input:-ms-input-placeholder,input::-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-3)}input:focus{border-color:var(--calcite-color-brand);color:var(--calcite-color-text-1)}input[readonly]{background-color:var(--calcite-color-background);font-weight:var(--calcite-font-weight-medium)}input[readonly]:focus{color:var(--calcite-color-text-1)}calcite-icon{color:var(--calcite-color-text-3)}input{outline-color:transparent}input:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([status=invalid]) input{border-color:var(--calcite-color-status-danger)}:host([status=invalid]) input:focus{outline:2px solid var(--calcite-color-status-danger);outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([scale=s]) .icon{inset-inline-start:.5rem}:host([scale=m]) .icon{inset-inline-start:.75rem}:host([scale=l]) .icon{inset-inline-start:1rem}:host([icon][scale=s]) input{padding-inline-start:2rem}:host([icon][scale=m]) input{padding-inline-start:2.5rem}:host([icon][scale=l]) input{padding-inline-start:3.5rem}.element-wrapper{position:relative;order:3;display:inline-flex;flex:1 1 0%;align-items:center}.icon{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);display:block;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}input[type=text]::-ms-clear,input[type=text]::-ms-reveal{display:none;block-size:0px;inline-size:0px}.clear-button{pointer-events:initial;order:4;margin:0;box-sizing:border-box;display:flex;min-block-size:100%;cursor:pointer;align-items:center;justify-content:center;align-self:stretch;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-foreground-1);outline-color:transparent;border-inline-start-width:0px}.clear-button:hover{background-color:var(--calcite-color-foreground-2);transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.clear-button:hover calcite-icon{color:var(--calcite-color-text-1);transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.clear-button:active{background-color:var(--calcite-color-foreground-3)}.clear-button:active calcite-icon{color:var(--calcite-color-text-1)}.clear-button:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.clear-button:disabled{opacity:var(--calcite-opacity-disabled)}.loader{inset-block-start:1px;inset-inline:1px;pointer-events:none;position:absolute;display:block}.action-wrapper{order:7;display:flex}.prefix,.suffix{box-sizing:border-box;display:flex;block-size:auto;min-block-size:100%;-webkit-user-select:none;user-select:none;align-content:center;align-items:center;overflow-wrap:break-word;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-background);font-weight:var(--calcite-font-weight-medium);line-height:1;color:var(--calcite-color-text-2)}.prefix{order:2;border-inline-end-width:0px;inline-size:var(--calcite-input-prefix-size, auto)}.suffix{order:5;border-inline-start-width:0px;inline-size:var(--calcite-input-suffix-size, auto)}:host([alignment=start]) input{text-align:start}:host([alignment=end]) input{text-align:end}.wrapper{position:relative;display:flex;flex-direction:row;align-items:center}:host(.input--no-bottom-border) input{border-block-end-width:0px}:host(.input--no-top-border) input{border-block-start-width:0px}:host(.input--no-right-border) input{border-inline-end:0}:host(.input--no-left-border) input{border-inline-start:0}:host(.border-top-color-one) input{border-block-start-color:var(--calcite-color-border-1)}input.inline-child{background-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}input.inline-child .editing-enabled{background-color:inherit}input.inline-child:not(.editing-enabled){display:flex;cursor:pointer;text-overflow:ellipsis;border-color:transparent;padding-inline-start:0}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}:host([hidden]){display:none}[hidden]{display:none}`;let an=class extends P{constructor(){super(),this.actionWrapperEl=wt(),this.attributeWatch=Fe(["autofocus","enterkeyhint","inputmode","spellcheck"],this.handleGlobalAttributesChanged),this.inputWrapperEl=wt(),this.onHiddenFormInputInput=e=>{e.target.name===this.name&&this.setValue({value:e.target.value,origin:"direct"}),this.setFocus(),e.stopPropagation()},this.previousValueOrigin="initial",this.userChangedValue=!1,this._value="",this.slottedActionElDisabledInternally=!1,this.alignment="start",this.clearable=!1,this.disabled=!1,this.editingEnabled=!1,this.iconFlipRtl=!1,this.loading=!1,this.messages=lt(),this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.calciteInputTextChange=y(),this.calciteInputTextInput=y(),this.calciteInternalInputTextBlur=y(),this.calciteInternalInputTextFocus=y(),this.listen("click",this.clickHandler),this.listen("keydown",this.keyDownHandler)}static{this.properties={slottedActionElDisabledInternally:16,alignment:3,autocomplete:0,clearable:7,disabled:7,editingEnabled:7,form:3,icon:[3,{converter:Pt}],iconFlipRtl:7,label:1,loading:7,maxLength:11,messageOverrides:0,minLength:11,name:3,pattern:1,placeholder:1,prefixText:1,readOnly:7,required:7,scale:3,status:3,suffixText:1,validationIcon:[3,{converter:Pt}],validationMessage:1,validity:0,value:1}}static{this.styles=nn}get isClearable(){return this.clearable&&this.value.length>0}get value(){return this._value}set value(e){const t=this._value;e!==t&&(this._value=e,this.valueWatcher(e,t))}async selectText(){this.childEl?.select()}async setFocus(){await Tt(this),this.childEl?.focus()}connectedCallback(){super.connectedCallback(),this.inlineEditableEl=this.el.closest("calcite-inline-editable"),this.inlineEditableEl&&(this.editingEnabled=this.inlineEditableEl.editingEnabled||!1),je(this),Ne(this),this.el.addEventListener(Wt,this.onHiddenFormInputInput)}async load(){this.requestedIcon=Rt({},this.icon,"text"),this.setPreviousEmittedValue(this.value),this.setPreviousValue(this.value)}willUpdate(e){e.has("icon")&&(this.requestedIcon=Rt({},this.icon,"text"))}updated(){kt(this)}loaded(){}disconnectedCallback(){super.disconnectedCallback(),qe(this),Ve(this),this.el.removeEventListener(Wt,this.onHiddenFormInputInput)}handleGlobalAttributesChanged(){this.requestUpdate()}valueWatcher(e,t){this.userChangedValue||this.setValue({origin:"direct",previousValue:t,value:e||""}),this.userChangedValue=!1}keyDownHandler(e){this.readOnly||this.disabled||e.defaultPrevented||(this.isClearable&&e.key==="Escape"&&(this.clearInputTextValue(e),e.preventDefault()),e.key==="Enter"&&We(this)&&e.preventDefault())}onLabelClick(){this.setFocus()}clearInputTextValue(e){this.setValue({committing:!0,nativeEvent:e,origin:"user",value:""})}emitChangeIfUserModified(){this.previousValueOrigin==="user"&&this.value!==this.previousEmittedValue&&(this.calciteInputTextChange.emit(),this.setPreviousEmittedValue(this.value))}inputTextBlurHandler(){this.calciteInternalInputTextBlur.emit({element:this.childEl,value:this.value}),this.emitChangeIfUserModified()}clickHandler(e){if(this.disabled)return;const t=e.composedPath();!t.includes(this.inputWrapperEl.value)||t.includes(this.actionWrapperEl.value)||this.setFocus()}inputTextFocusHandler(){this.calciteInternalInputTextFocus.emit({element:this.childEl,value:this.value})}inputTextInputHandler(e){this.disabled||this.readOnly||this.setValue({nativeEvent:e,origin:"user",value:e.target.value})}inputTextKeyDownHandler(e){this.disabled||this.readOnly||e.key==="Enter"&&this.emitChangeIfUserModified()}syncHiddenFormInput(e){Be("text",this,e)}setChildElRef(e){this.childEl=e}setInputValue(e){this.childEl&&(this.childEl.value=e)}setPreviousEmittedValue(e){this.previousEmittedValue=e}setPreviousValue(e){this.previousValue=e}setValue({committing:e=!1,nativeEvent:t,origin:n,previousValue:i,value:a}){this.setPreviousValue(i??this.value),this.previousValueOrigin=n,this.userChangedValue=n==="user"&&a!==this.value,this.value=a,n==="direct"&&(this.setInputValue(a),this.setPreviousEmittedValue(a)),t&&(this.calciteInputTextInput.emit().defaultPrevented?this.value=this.previousValue:e&&this.emitChangeIfUserModified())}render(){const e=X(this.el),t=b`<div class=${d(H.loader)}><calcite-progress .label=${this.messages.loading} type=indeterminate></calcite-progress></div>`,n=b`<button .ariaLabel=${this.messages.clear} class=${d(H.clearButton)} .disabled=${this.disabled||this.readOnly} @click=${this.clearInputTextValue} tabindex=-1 type=button><calcite-icon icon=x .scale=${J(this.scale)}></calcite-icon></button>`,i=b`<calcite-icon class=${d(H.inputIcon)} .flipRtl=${this.iconFlipRtl} .icon=${this.requestedIcon} .scale=${J(this.scale)}></calcite-icon>`,a=b`<div class=${d(H.prefix)}>${this.prefixText}</div>`,o=b`<div class=${d(H.suffix)}>${this.suffixText}</div>`,l=b`<input aria-errormessage=${qt.validationMessage} .ariaInvalid=${this.status==="invalid"} .ariaLabel=${_e(this)} autocomplete=${this.autocomplete??f} .autofocus=${this.el.autofocus} class=${d({[H.editingEnabled]:this.editingEnabled,[H.inlineChild]:!!this.inlineEditableEl})} value=${this.defaultValue??f} .disabled=${this.disabled?!0:null} enterkeyhint=${this.el.enterKeyHint??f} inputmode=${this.el.inputMode??f} maxlength=${this.maxLength??f} minlength=${this.minLength??f} name=${this.name??f} @blur=${this.inputTextBlurHandler} @focus=${this.inputTextFocusHandler} @input=${this.inputTextInputHandler} @keydown=${this.inputTextKeyDownHandler} pattern=${this.pattern??f} placeholder=${(this.placeholder||"")??f} .readOnly=${this.readOnly} .required=${this.required?!0:null} spellcheck=${this.el.spellcheck??f} tabindex=${(this.disabled||this.inlineEditableEl&&!this.editingEnabled?-1:null)??f} type=text .value=${Le(this.value??"")} ${k(this.setChildElRef)}>`;return St({disabled:this.disabled,children:b`<div class=${d({[H.inputWrapper]:!0,[Mt.rtl]:e==="rtl"})} ${k(this.inputWrapperEl)}>${this.prefixText?a:null}<div class=${d(H.wrapper)}>${l}${this.isClearable?n:null}${this.requestedIcon?i:null}${this.loading?t:null}</div><div class=${d(H.actionWrapper)} ${k(this.actionWrapperEl)}><slot name=${en.action}></slot></div>${this.suffixText?o:null}${Ue({component:this})}</div>${this.validationMessage&&this.status==="invalid"?Ke({icon:this.validationIcon,id:qt.validationMessage,message:this.validationMessage,scale:this.scale,status:this.status}):null}`})}};D("calcite-input-text",an);const on=(e,t,n)=>Math.max(t,Math.min(e,n));function _t(e,t,n,i,a){return(e-t)*(a-i)/(n-t)+i}function ln(e,t,n){return e<n?-1:e>t-n?1:0}var Kt={exports:{}},Gt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Xt={exports:{}},sn=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")},rn=sn,cn=Array.prototype.concat,hn=Array.prototype.slice,Jt=Xt.exports=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var a=e[n];rn(a)?t=cn.call(t,hn.call(a)):t.push(a)}return t};Jt.wrap=function(e){return function(){return e(Jt(arguments))}};var dn=Xt.exports,Q=Gt,Z=dn,Yt=Object.hasOwnProperty,Qt=Object.create(null);for(var $t in Q)Yt.call(Q,$t)&&(Qt[Q[$t]]=$t);var S=Kt.exports={to:{},get:{}};S.get=function(e){var t=e.substring(0,3).toLowerCase(),n,i;switch(t){case"hsl":n=S.get.hsl(e),i="hsl";break;case"hwb":n=S.get.hwb(e),i="hwb";break;default:n=S.get.rgb(e),i="rgb";break}return n?{model:i,value:n}:null},S.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,n=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,i=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,a=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,l=[0,0,0,1],s,r,c;if(s=e.match(n)){for(c=s[2],s=s[1],r=0;r<3;r++){var u=r*2;l[r]=parseInt(s.slice(u,u+2),16)}c&&(l[3]=parseInt(c,16)/255)}else if(s=e.match(t)){for(s=s[1],c=s[3],r=0;r<3;r++)l[r]=parseInt(s[r]+s[r],16);c&&(l[3]=parseInt(c+c,16)/255)}else if(s=e.match(i)){for(r=0;r<3;r++)l[r]=parseInt(s[r+1],0);s[4]&&(s[5]?l[3]=parseFloat(s[4])*.01:l[3]=parseFloat(s[4]))}else if(s=e.match(a)){for(r=0;r<3;r++)l[r]=Math.round(parseFloat(s[r+1])*2.55);s[4]&&(s[5]?l[3]=parseFloat(s[4])*.01:l[3]=parseFloat(s[4]))}else return(s=e.match(o))?s[1]==="transparent"?[0,0,0,0]:Yt.call(Q,s[1])?(l=Q[s[1]],l[3]=1,l):null:null;for(r=0;r<3;r++)l[r]=R(l[r],0,255);return l[3]=R(l[3],0,1),l},S.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var i=parseFloat(n[4]),a=(parseFloat(n[1])%360+360)%360,o=R(parseFloat(n[2]),0,100),l=R(parseFloat(n[3]),0,100),s=R(isNaN(i)?1:i,0,1);return[a,o,l,s]}return null},S.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var i=parseFloat(n[4]),a=(parseFloat(n[1])%360+360)%360,o=R(parseFloat(n[2]),0,100),l=R(parseFloat(n[3]),0,100),s=R(isNaN(i)?1:i,0,1);return[a,o,l,s]}return null},S.to.hex=function(){var e=Z(arguments);return"#"+st(e[0])+st(e[1])+st(e[2])+(e[3]<1?st(Math.round(e[3]*255)):"")},S.to.rgb=function(){var e=Z(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},S.to.rgb.percent=function(){var e=Z(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),i=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+n+"%, "+i+"%)":"rgba("+t+"%, "+n+"%, "+i+"%, "+e[3]+")"},S.to.hsl=function(){var e=Z(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},S.to.hwb=function(){var e=Z(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},S.to.keyword=function(e){return Qt[e.slice(0,3)]};function R(e,t,n){return Math.min(Math.max(t,e),n)}function st(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}var un=Kt.exports;const tt=Gt,Zt={};for(const e of Object.keys(tt))Zt[tt[e]]=e;const h={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var te=h;for(const e of Object.keys(h)){if(!("channels"in h[e]))throw new Error("missing channels property: "+e);if(!("labels"in h[e]))throw new Error("missing channel labels property: "+e);if(h[e].labels.length!==h[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=h[e];delete h[e].channels,delete h[e].labels,Object.defineProperty(h[e],"channels",{value:t}),Object.defineProperty(h[e],"labels",{value:n})}h.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,i=e[2]/255,a=Math.min(t,n,i),o=Math.max(t,n,i),l=o-a;let s,r;o===a?s=0:t===o?s=(n-i)/l:n===o?s=2+(i-t)/l:i===o&&(s=4+(t-n)/l),s=Math.min(s*60,360),s<0&&(s+=360);const c=(a+o)/2;return o===a?r=0:c<=.5?r=l/(o+a):r=l/(2-o-a),[s,r*100,c*100]},h.rgb.hsv=function(e){let t,n,i,a,o;const l=e[0]/255,s=e[1]/255,r=e[2]/255,c=Math.max(l,s,r),u=c-Math.min(l,s,r),g=function(A){return(c-A)/6/u+1/2};return u===0?(a=0,o=0):(o=u/c,t=g(l),n=g(s),i=g(r),l===c?a=i-n:s===c?a=1/3+t-i:r===c&&(a=2/3+n-t),a<0?a+=1:a>1&&(a-=1)),[a*360,o*100,c*100]},h.rgb.hwb=function(e){const t=e[0],n=e[1];let i=e[2];const a=h.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(n,i));return i=1-1/255*Math.max(t,Math.max(n,i)),[a,o*100,i*100]},h.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,i=e[2]/255,a=Math.min(1-t,1-n,1-i),o=(1-t-a)/(1-a)||0,l=(1-n-a)/(1-a)||0,s=(1-i-a)/(1-a)||0;return[o*100,l*100,s*100,a*100]};function pn(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}h.rgb.keyword=function(e){const t=Zt[e];if(t)return t;let n=1/0,i;for(const a of Object.keys(tt)){const o=tt[a],l=pn(e,o);l<n&&(n=l,i=a)}return i},h.keyword.rgb=function(e){return tt[e]},h.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,i=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;const a=t*.4124+n*.3576+i*.1805,o=t*.2126+n*.7152+i*.0722,l=t*.0193+n*.1192+i*.9505;return[a*100,o*100,l*100]},h.rgb.lab=function(e){const t=h.rgb.xyz(e);let n=t[0],i=t[1],a=t[2];n/=95.047,i/=100,a/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,a=a>.008856?a**(1/3):7.787*a+16/116;const o=116*i-16,l=500*(n-i),s=200*(i-a);return[o,l,s]},h.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,i=e[2]/100;let a,o,l;if(n===0)return l=i*255,[l,l,l];i<.5?a=i*(1+n):a=i+n-i*n;const s=2*i-a,r=[0,0,0];for(let c=0;c<3;c++)o=t+1/3*-(c-1),o<0&&o++,o>1&&o--,6*o<1?l=s+(a-s)*6*o:2*o<1?l=a:3*o<2?l=s+(a-s)*(2/3-o)*6:l=s,r[c]=l*255;return r},h.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,i=e[2]/100,a=n;const o=Math.max(i,.01);i*=2,n*=i<=1?i:2-i,a*=o<=1?o:2-o;const l=(i+n)/2,s=i===0?2*a/(o+a):2*n/(i+n);return[t,s*100,l*100]},h.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let i=e[2]/100;const a=Math.floor(t)%6,o=t-Math.floor(t),l=255*i*(1-n),s=255*i*(1-n*o),r=255*i*(1-n*(1-o));switch(i*=255,a){case 0:return[i,r,l];case 1:return[s,i,l];case 2:return[l,i,r];case 3:return[l,s,i];case 4:return[r,l,i];case 5:return[i,l,s]}},h.hsv.hsl=function(e){const t=e[0],n=e[1]/100,i=e[2]/100,a=Math.max(i,.01);let o,l;l=(2-n)*i;const s=(2-n)*a;return o=n*a,o/=s<=1?s:2-s,o=o||0,l/=2,[t,o*100,l*100]},h.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,i=e[2]/100;const a=n+i;let o;a>1&&(n/=a,i/=a);const l=Math.floor(6*t),s=1-i;o=6*t-l,l&1&&(o=1-o);const r=n+o*(s-n);let c,u,g;switch(l){default:case 6:case 0:c=s,u=r,g=n;break;case 1:c=r,u=s,g=n;break;case 2:c=n,u=s,g=r;break;case 3:c=n,u=r,g=s;break;case 4:c=r,u=n,g=s;break;case 5:c=s,u=n,g=r;break}return[c*255,u*255,g*255]},h.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,i=e[2]/100,a=e[3]/100,o=1-Math.min(1,t*(1-a)+a),l=1-Math.min(1,n*(1-a)+a),s=1-Math.min(1,i*(1-a)+a);return[o*255,l*255,s*255]},h.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,i=e[2]/100;let a,o,l;return a=t*3.2406+n*-1.5372+i*-.4986,o=t*-.9689+n*1.8758+i*.0415,l=t*.0557+n*-.204+i*1.057,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,l=l>.0031308?1.055*l**(1/2.4)-.055:l*12.92,a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),l=Math.min(Math.max(0,l),1),[a*255,o*255,l*255]},h.xyz.lab=function(e){let t=e[0],n=e[1],i=e[2];t/=95.047,n/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const a=116*n-16,o=500*(t-n),l=200*(n-i);return[a,o,l]},h.lab.xyz=function(e){const t=e[0],n=e[1],i=e[2];let a,o,l;o=(t+16)/116,a=n/500+o,l=o-i/200;const s=o**3,r=a**3,c=l**3;return o=s>.008856?s:(o-16/116)/7.787,a=r>.008856?r:(a-16/116)/7.787,l=c>.008856?c:(l-16/116)/7.787,a*=95.047,o*=100,l*=108.883,[a,o,l]},h.lab.lch=function(e){const t=e[0],n=e[1],i=e[2];let a;a=Math.atan2(i,n)*360/2/Math.PI,a<0&&(a+=360);const o=Math.sqrt(n*n+i*i);return[t,o,a]},h.lch.lab=function(e){const t=e[0],n=e[1],i=e[2]/360*2*Math.PI,a=n*Math.cos(i),o=n*Math.sin(i);return[t,a,o]},h.rgb.ansi16=function(e,t=null){const[n,i,a]=e;let o=t===null?h.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),o===0)return 30;let l=30+(Math.round(a/255)<<2|Math.round(i/255)<<1|Math.round(n/255));return o===2&&(l+=60),l},h.hsv.ansi16=function(e){return h.rgb.ansi16(h.hsv.rgb(e),e[2])},h.rgb.ansi256=function(e){const t=e[0],n=e[1],i=e[2];return t===n&&n===i?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},h.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=(~~(e>50)+1)*.5,i=(t&1)*n*255,a=(t>>1&1)*n*255,o=(t>>2&1)*n*255;return[i,a,o]},h.ansi256.rgb=function(e){if(e>=232){const o=(e-232)*10+8;return[o,o,o]}e-=16;let t;const n=Math.floor(e/36)/5*255,i=Math.floor((t=e%36)/6)/5*255,a=t%6/5*255;return[n,i,a]},h.rgb.hex=function(e){const t=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(t.length)+t},h.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];t[0].length===3&&(n=n.split("").map(s=>s+s).join(""));const i=parseInt(n,16),a=i>>16&255,o=i>>8&255,l=i&255;return[a,o,l]},h.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,i=e[2]/255,a=Math.max(Math.max(t,n),i),o=Math.min(Math.min(t,n),i),l=a-o;let s,r;return l<1?s=o/(1-l):s=0,l<=0?r=0:a===t?r=(n-i)/l%6:a===n?r=2+(i-t)/l:r=4+(t-n)/l,r/=6,r%=1,[r*360,l*100,s*100]},h.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,i=n<.5?2*t*n:2*t*(1-n);let a=0;return i<1&&(a=(n-.5*i)/(1-i)),[e[0],i*100,a*100]},h.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,i=t*n;let a=0;return i<1&&(a=(n-i)/(1-i)),[e[0],i*100,a*100]},h.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,i=e[2]/100;if(n===0)return[i*255,i*255,i*255];const a=[0,0,0],o=t%1*6,l=o%1,s=1-l;let r=0;switch(Math.floor(o)){case 0:a[0]=1,a[1]=l,a[2]=0;break;case 1:a[0]=s,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=l;break;case 3:a[0]=0,a[1]=s,a[2]=1;break;case 4:a[0]=l,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=s}return r=(1-n)*i,[(n*a[0]+r)*255,(n*a[1]+r)*255,(n*a[2]+r)*255]},h.hcg.hsv=function(e){const t=e[1]/100,n=e[2]/100,i=t+n*(1-t);let a=0;return i>0&&(a=t/i),[e[0],a*100,i*100]},h.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]},h.hcg.hwb=function(e){const t=e[1]/100,n=e[2]/100,i=t+n*(1-t);return[e[0],(i-t)*100,(1-i)*100]},h.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,i=n-t;let a=0;return i<1&&(a=(n-i)/(1-i)),[e[0],i*100,a*100]},h.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},h.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},h.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},h.gray.hsl=function(e){return[0,0,e[0]]},h.gray.hsv=h.gray.hsl,h.gray.hwb=function(e){return[0,100,e[0]]},h.gray.cmyk=function(e){return[0,0,0,e[0]]},h.gray.lab=function(e){return[e[0],0,0]},h.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},h.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const rt=te;function bn(){const e={},t=Object.keys(rt);for(let n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}function gn(e){const t=bn(),n=[e];for(t[e].distance=0;n.length;){const i=n.pop(),a=Object.keys(rt[i]);for(let o=a.length,l=0;l<o;l++){const s=a[l],r=t[s];r.distance===-1&&(r.distance=t[i].distance+1,r.parent=i,n.unshift(s))}}return t}function fn(e,t){return function(n){return t(e(n))}}function vn(e,t){const n=[t[e].parent,e];let i=rt[t[e].parent][e],a=t[e].parent;for(;t[a].parent;)n.unshift(t[a].parent),i=fn(rt[t[a].parent][a],i),a=t[a].parent;return i.conversion=n,i}var mn=function(e){const t=gn(e),n={},i=Object.keys(t);for(let a=i.length,o=0;o<a;o++){const l=i[o];t[l].parent!==null&&(n[l]=vn(l,t))}return n};const It=te,xn=mn,j={},yn=Object.keys(It);function Cn(e){const t=function(...n){const i=n[0];return i==null?i:(i.length>1&&(n=i),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}function wn(e){const t=function(...n){const i=n[0];if(i==null)return i;i.length>1&&(n=i);const a=e(n);if(typeof a=="object")for(let o=a.length,l=0;l<o;l++)a[l]=Math.round(a[l]);return a};return"conversion"in e&&(t.conversion=e.conversion),t}yn.forEach(e=>{j[e]={},Object.defineProperty(j[e],"channels",{value:It[e].channels}),Object.defineProperty(j[e],"labels",{value:It[e].labels});const t=xn(e);Object.keys(t).forEach(n=>{const i=t[n];j[e][n]=wn(i),j[e][n].raw=Cn(i)})});var kn=j;const q=un,T=kn,ee=["keyword","gray","hex"],zt={};for(const e of Object.keys(T))zt[[...T[e].labels].sort().join("")]=e;const ct={};function w(e,t){if(!(this instanceof w))return new w(e,t);if(t&&t in ee&&(t=null),t&&!(t in T))throw new Error("Unknown model: "+t);let n,i;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof w)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){const a=q.get(e);if(a===null)throw new Error("Unable to parse color from string: "+e);this.model=a.model,i=T[this.model].channels,this.color=a.value.slice(0,i),this.valpha=typeof a.value[i]=="number"?a.value[i]:1}else if(e.length>0){this.model=t||"rgb",i=T[this.model].channels;const a=Array.prototype.slice.call(e,0,i);this.color=At(a,i),this.valpha=typeof e[i]=="number"?e[i]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const a=Object.keys(e);"alpha"in e&&(a.splice(a.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const o=a.sort().join("");if(!(o in zt))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=zt[o];const{labels:l}=T[this.model],s=[];for(n=0;n<l.length;n++)s.push(e[l[n]]);this.color=At(s)}if(ct[this.model])for(i=T[this.model].channels,n=0;n<i;n++){const a=ct[this.model][n];a&&(this.color[n]=a(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}w.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in q.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);const n=t.valpha===1?t.color:[...t.color,this.valpha];return q.to[t.model](n)},percentString(e){const t=this.rgb().round(typeof e=="number"?e:1),n=t.valpha===1?t.color:[...t.color,this.valpha];return q.to.rgb.percent(n)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=T[this.model],{labels:n}=T[this.model];for(let i=0;i<t;i++)e[n[i]]=this.color[i];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new w([...this.color.map(Tn(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new w([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:m("rgb",0,C(255)),green:m("rgb",1,C(255)),blue:m("rgb",2,C(255)),hue:m(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:m("hsl",1,C(100)),lightness:m("hsl",2,C(100)),saturationv:m("hsv",1,C(100)),value:m("hsv",2,C(100)),chroma:m("hcg",1,C(100)),gray:m("hcg",2,C(100)),white:m("hwb",1,C(100)),wblack:m("hwb",2,C(100)),cyan:m("cmyk",0,C(100)),magenta:m("cmyk",1,C(100)),yellow:m("cmyk",2,C(100)),black:m("cmyk",3,C(100)),x:m("xyz",0,C(95.047)),y:m("xyz",1,C(100)),z:m("xyz",2,C(108.833)),l:m("lab",0,C(100)),a:m("lab",1),b:m("lab",2),keyword(e){return e!==void 0?new w(e):T[this.model].keyword(this.color)},hex(e){return e!==void 0?new w(e):q.to.hex(this.rgb().round().color)},hexa(e){if(e!==void 0)return new w(e);const t=this.rgb().round().color;let n=Math.round(this.valpha*255).toString(16).toUpperCase();return n.length===1&&(n="0"+n),q.to.hex(t)+n},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,t=[];for(const[n,i]of e.entries()){const a=i/255;t[n]=a<=.04045?a/12.92:((a+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return w.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),i=this.rgb(),a=t===void 0?.5:t,o=2*a-1,l=n.alpha()-i.alpha(),s=((o*l===-1?o:(o+l)/(1+o*l))+1)/2,r=1-s;return w.rgb(s*n.red()+r*i.red(),s*n.green()+r*i.green(),s*n.blue()+r*i.blue(),n.alpha()*a+i.alpha()*(1-a))}};for(const e of Object.keys(T)){if(ee.includes(e))continue;const{channels:t}=T[e];w.prototype[e]=function(...n){return this.model===e?new w(this):n.length>0?new w(n,e):new w([...$n(T[this.model][e].raw(this.color)),this.valpha],e)},w[e]=function(...n){let i=n[0];return typeof i=="number"&&(i=At(n,t)),new w(i,e)}}function Sn(e,t){return Number(e.toFixed(t))}function Tn(e){return function(t){return Sn(t,e)}}function m(e,t,n){e=Array.isArray(e)?e:[e];for(const i of e)(ct[i]||(ct[i]=[]))[t]=n;return e=e[0],function(i){let a;return i!==void 0?(n&&(i=n(i)),a=this[e](),a.color[t]=i,a):(a=this[e]().color[t],n&&(a=n(a)),a)}}function C(e){return function(t){return Math.max(0,Math.min(e,t))}}function $n(e){return Array.isArray(e)?e:[e]}function At(e,t){for(let n=0;n<t;n++)typeof e[n]!="number"&&(e[n]=0);return e}var In=w;const F=$e(In),p={channel:"channel",channels:"channels",colorField:"color-field",colorFieldScope:"scope--color-field",colorMode:"color-mode",colorModeContainer:"color-mode-container",container:"container",control:"control",controlAndScope:"control-and-scope",controlSection:"control-section",deleteColor:"delete-color",header:"header",hexAndChannelsGroup:"hex-and-channels-group",hexOptions:"color-hex-options",hueScope:"scope--hue",hueSlider:"hue-slider",opacityScope:"scope--opacity",opacitySlider:"opacity-slider",preview:"preview",previewAndSliders:"preview-and-sliders",saveColor:"save-color",savedColor:"saved-color",savedColors:"saved-colors",savedColorsButtons:"saved-colors-buttons",savedColorsSection:"saved-colors-section",scope:"scope",section:"section",slider:"slider",sliders:"sliders",splitSection:"section--split"},B=F("#007AC2"),Et="calcite-color-",ht={r:255,g:255,b:255},$={h:360,s:100,v:100},ne=$.h-1,L={min:0,max:100},et={s:{gap:parseInt(Ie),slider:{height:12},thumb:{radius:7},preview:{size:20},minWidth:200},m:{gap:parseInt(ze),slider:{height:12},thumb:{radius:7},preview:{size:24},minWidth:240},l:{gap:parseInt(Ae),slider:{height:12},thumb:{radius:7},preview:{size:32},minWidth:304}},ie=1,zn=/^[0-9A-F]$/i,An=/^#[0-9A-F]{3}$/i,En=/^#[0-9A-F]{6}$/i,Fn=/^#[0-9A-F]{4}$/i,On=/^#[0-9A-F]{8}$/i,nt=e=>Number((e*100).toFixed()),dt=e=>Number((e/100).toFixed(2));function N(e,t=!1){return _(e,t)||ut(e,t)}function ae(e,t,n){return e?e.length===t&&n.test(e):!1}function _(e,t=!1){return ae(e,t?5:4,t?Fn:An)}function ut(e,t=!1){return ae(e,t?9:7,t?On:En)}function O(e,t=!1,n=!1){if(e=e.toLowerCase(),e.startsWith("#")||(e=`#${e}`),_(e,t))return Ft(oe(e,t));if(t&&n&&N(e,!1)){const i=_(e,!1);return Ft(oe(`${e}${i?"f":"ff"}`,!0))}return e}function I(e,t=!1){return t?e.hexa():e.hex()}function Ft(e){const{r:t,g:n,b:i}=e,a=pt(t),o=pt(n),l=pt(i),s="a"in e?pt(e.a*255):"";return`#${a}${o}${l}${s}`.toLowerCase()}function pt(e){return e.toString(16).padStart(2,"0")}function Hn(e){const t={...e,a:e.alpha??1};return delete t.alpha,t}function Dn(e){const t={...e,alpha:e.a??1};return delete t.a,t}function oe(e,t=!1){if(!N(e,t))return null;e=e.replace("#","");let n,i,a,o;if(e.length===3||e.length===4){const[l,s,r,c]=e.split("");n=parseInt(`${l}${l}`,16),i=parseInt(`${s}${s}`,16),a=parseInt(`${r}${r}`,16),o=parseInt(`${c}${c}`,16)/255}else n=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),a=parseInt(e.slice(4,6),16),o=parseInt(e.slice(6,8),16)/255;return isNaN(o)?{r:n,g:i,b:a}:{r:n,g:i,b:a,a:o}}const le=e=>e,v=le({HEX:"hex",HEXA:"hexa",RGB_CSS:"rgb-css",RGBA_CSS:"rgba-css",HSL_CSS:"hsl-css",HSLA_CSS:"hsla-css"}),x=le({RGB:"rgb",RGBA:"rgba",HSL:"hsl",HSLA:"hsla",HSV:"hsv",HSVA:"hsva"});function se(e){if(typeof e=="string"){if(e.startsWith("#")){const{length:t}=e;if(t===4||t===7)return v.HEX;if(t===5||t===9)return v.HEXA}if(e.startsWith("rgba("))return v.RGBA_CSS;if(e.startsWith("rgb("))return v.RGB_CSS;if(e.startsWith("hsl("))return v.HSL_CSS;if(e.startsWith("hsla("))return v.HSLA_CSS}if(typeof e=="object"){if(K(e,"r","g","b"))return K(e,"a")?x.RGBA:x.RGB;if(K(e,"h","s","l"))return K(e,"a")?x.HSLA:x.HSL;if(K(e,"h","s","v"))return K(e,"a")?x.HSVA:x.HSV}return null}function K(e,...t){return t.every(n=>n&&e&&`${n}`in e)}function re(e,t){return e?.rgb().array().toString()===t?.rgb().array().toString()}function bt(e){return e===v.HEXA||e===v.RGBA_CSS||e===v.HSLA_CSS||e===x.RGBA||e===x.HSLA||e===x.HSVA}function Mn(e){return e===v.HEX?v.HEXA:e===v.RGB_CSS?v.RGBA_CSS:e===v.HSL_CSS?v.HSLA_CSS:e===x.RGB?x.RGBA:e===x.HSL?x.HSLA:e===x.HSV?x.HSVA:e}function ce(e){return e===v.HEXA?v.HEX:e===v.RGBA_CSS?v.RGB_CSS:e===v.HSLA_CSS?v.HSL_CSS:e===x.RGBA?x.RGB:e===x.HSLA?x.HSL:e===x.HSVA?x.HSV:e}const Pn=1,he=Pn*2;function Rn(e,t,n){const i=n?et.l.preview.size:t.preview.size,a=e-he,o=t.gap*3;return Math.max(a-o-i,0)}function Bn(e){const t=e-he;return{width:Math.max(t,0),height:Math.max(Math.floor(t/1.8),0)}}const gt={swatch:"swatch",noColorSwatch:"swatch--no-color",checker:"checker"},de={borderLight:"rgba(0, 0, 0, 0.3)",borderDark:"rgba(255, 255, 255, 0.15)"},ue=4,V={squareSize:ue,size:ue*2},Ln=M`:host{position:relative;display:inline-flex}:host([scale=s]){block-size:1.25rem;inline-size:1.25rem}:host([scale=m]){block-size:1.5rem;inline-size:1.5rem}:host([scale=l]){block-size:2rem;inline-size:2rem}.swatch{overflow:hidden;block-size:inherit;inline-size:inherit}.swatch rect{transition-property:all;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.swatch--no-color rect{fill:var(--calcite-color-foreground-1)}.swatch--no-color line{stroke:var(--calcite-color-status-danger)}.checker{fill:#cacaca}:host([hidden]){display:none}[hidden]{display:none}`;let Nn=class extends P{constructor(){super(...arguments),this.active=!1,this.scale="m"}static{this.properties={active:7,color:1,scale:3}}static{this.styles=Ln}load(){this.handleColorChange(this.color)}willUpdate(e){e.has("color")&&this.handleColorChange(this.color)}handleColorChange(e){this.internalColor=e?F(e):null}render(){const e=!this.internalColor,t={[gt.swatch]:!0,[gt.noColorSwatch]:e};return b`<svg class=${d(t)} xmlns=http://www.w3.org/2000/svg>${this.renderSwatch()}</svg>`}renderSwatch(){const{active:e,el:t,internalColor:n}=this,i=e?"100%":"0",a=Oe(t)==="light"?de.borderLight:de.borderDark,o=!n,l={height:"100%",rx:i,stroke:a,strokeWidth:"2",width:"100%"};if(o)return Ct`<clipPath id=shape><rect height=100% rx=${i??f} width=100% /></clipPath>${this.renderSwatchRect({clipPath:`inset(0 round ${i})`,...l})}<line clip-path=url(#shape) stroke-width=3 x1=100% x2=0 y1=0 y2=100% />`;const s=n.alpha(),r=I(n),c=I(n,s<1);return Ct`<title>${c}</title><defs><pattern height=${V.size} id=checker patternUnits=userSpaceOnUse width=${V.size} x=0 y=0><rect class=${d(gt.checker)} height=${V.squareSize} width=${V.squareSize} x=0 y=0 /><rect class=${d(gt.checker)} height=${V.squareSize} width=${V.squareSize} x=${V.squareSize} y=${V.squareSize} /></pattern></defs>${this.renderSwatchRect({fill:"url(#checker)",rx:l.rx,height:l.height,width:l.width})}${this.renderSwatchRect({clipPath:s<1?"polygon(100% 0, 0 0, 0 100%)":`inset(0 round ${i})`,fill:r,...l})}${s<1?this.renderSwatchRect({clipPath:"polygon(100% 0, 100% 100%, 0 100%)",fill:c,key:"opacity-fill",...l}):null}`}renderSwatchRect({clipPath:e,fill:t,height:n,key:i,rx:a,stroke:o,strokeWidth:l,width:s}){return U(i,Ct`<rect clip-path=${e??f} fill=${t??f} height=${n??f} rx=${a??f} stroke=${o??f} stroke-width=${l??f} width=${s??f} />`)}};D("calcite-color-picker-swatch",Nn);const Ot={container:"container",hexInput:"hex-input",opacityInput:"opacity-input"},Vn=M`:host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:100px;margin-inline-start:-1px}:host([hidden]){display:none}[hidden]{display:none}`,Ht=F();class Wn extends P{constructor(){super(...arguments),this.internalColor=Ht,this.alphaChannel=!1,this.allowEmpty=!1,this.hexLabel="Hex",this.scale="m",this.value=O(I(Ht,this.alphaChannel),this.alphaChannel,!0),this.calciteColorPickerHexInputChange=y({cancelable:!1})}static{this.properties={internalColor:16,alphaChannel:5,allowEmpty:5,hexLabel:1,messages:0,numberingSystem:1,scale:3,value:3}}static{this.styles=Vn}async setFocus(){return await Tt(this),He(this.hexInputNode)}connectedCallback(){super.connectedCallback(),this.previousNonNullValue=this.value;const{allowEmpty:t,alphaChannel:n,value:i}=this;if(i){const a=O(i,n);N(a,n)&&this.internalSetValue(a,a,!1);return}t&&this.internalSetValue(void 0,void 0,!1)}load(){}willUpdate(t){t.has("value")&&(this.hasUpdated||this.value!==O(I(Ht,this.alphaChannel),this.alphaChannel,!0))&&this.internalSetValue(this.value,t.get("value"),!1)}loaded(){}onHexInputBlur(){const t=this.hexInputNode,n=t.value,i=`#${n}`,{allowEmpty:a,internalColor:o}=this,l=a&&!n,s=ut(i);(_(i,!0)||_(i,!1))&&this.onHexInputChange(),!(l||N(i)&&s)&&(t.value=a&&!o?"":this.formatHexForInternalInput(Ft(o.object())))}onOpacityInputBlur(){const t=this.opacityInputNode,n=t.value,{allowEmpty:i,internalColor:a}=this;i&&!n||(t.value=i&&!a?"":this.formatOpacityForInternalInput(a))}onOpacityInputInput(){this.onOpacityInputChange()}onHexInputChange(){let t=this.hexInputNode.value;if(t){const n=O(t,!1);if(N(n)&&this.alphaChannel&&this.internalColor){const i=O(this.internalColor.hexa(),!0).slice(-2);t=`${n+i}`}}this.internalSetValue(t,this.value)}onOpacityInputChange(){const t=this.opacityInputNode;let n;if(!t.value)n=t.value;else{const i=dt(Number(t.value));n=this.internalColor?.alpha(i).hexa()}this.internalSetValue(n,this.value)}onInputFocus(t){t.type==="calciteInternalInputTextFocus"?this.hexInputNode.selectText():this.opacityInputNode.selectText()}onHexInputInput(){const t=`#${this.hexInputNode.value}`,n=this.value;N(t,this.alphaChannel)&&ut(t,this.alphaChannel)&&this.internalSetValue(t,n)}onInputKeyDown(t){const{altKey:n,ctrlKey:i,metaKey:a,shiftKey:o}=t,{alphaChannel:l,hexInputNode:s,internalColor:r,value:c}=this,{key:u}=t,g=t.composedPath();if(u==="Tab"&&_(c,this.alphaChannel)||u==="Enter"){g.includes(s)?this.onHexInputChange():this.onOpacityInputChange(),u==="Enter"&&t.preventDefault();return}const A=u==="ArrowDown"||u==="ArrowUp",E=this.value;if(A){if(!c){this.internalSetValue(this.previousNonNullValue,E),t.preventDefault();return}const vt=u==="ArrowUp"?1:-1,mt=o?10:1;this.internalSetValue(I(this.nudgeRGBChannels(r,mt*vt,g.includes(s)?"rgb":"a"),l),E),t.preventDefault();return}const ft=n||i||a,it=u.length===1,at=zn.test(u);it&&!ft&&!at&&t.preventDefault()}onHexInputPaste(t){const n=t.clipboardData.getData("text");N(n,this.alphaChannel)&&ut(n,this.alphaChannel)&&(t.preventDefault(),this.hexInputNode.value=n.slice(1),this.internalSetValue(n,this.value))}internalSetValue(t,n,i=!0){if(t){const{alphaChannel:a}=this,o=O(t,a,a);if(N(o,a)){const{internalColor:l}=this,s=F(o),r=O(I(s,a),a),c=!l||r!==O(I(l,a),a);this.internalColor=s,this.previousNonNullValue=r,this.value=r,c&&i&&this.calciteColorPickerHexInputChange.emit();return}}else if(this.allowEmpty){this.internalColor=void 0,this.value=void 0,i&&this.calciteColorPickerHexInputChange.emit();return}this.value=n}storeHexInputRef(t){this.hexInputNode=t}storeOpacityInputRef(t){this.opacityInputNode=t}formatHexForInternalInput(t){return t?t.replace("#","").slice(0,6):""}formatOpacityForInternalInput(t){return t?`${nt(t.alpha())}`:""}nudgeRGBChannels(t,n,i){let a;const o=t.array(),l=o.slice(0,3);if(i==="rgb")a=[...l.map(s=>s+n),this.alphaChannel?o[3]:void 0];else{const s=dt(nt(t.alpha())+n);a=[...l,s]}return F(a)}render(){const{alphaChannel:t,hexLabel:n,internalColor:i,messages:a,scale:o,value:l}=this,s=this.formatHexForInternalInput(l),r=this.formatOpacityForInternalInput(i),c=o==="l"?"m":"s";return b`<div class=${d(Ot.container)}><calcite-input-text class=${d(Ot.hexInput)} .label=${a?.hex||n} .maxLength=${this.alphaChannel?8:6} @keydown=${this.onInputKeyDown} @paste=${this.onHexInputPaste} @calciteInputTextChange=${this.onHexInputChange} @calciteInputTextInput=${this.onHexInputInput} @calciteInternalInputTextBlur=${this.onHexInputBlur} @calciteInternalInputTextFocus=${this.onInputFocus} prefix-text=# .scale=${c} .value=${s} ${k(this.storeHexInputRef)}></calcite-input-text>${t?U("opacity-input",b`<calcite-input-number class=${d(Ot.opacityInput)} .label=${a?.opacity} .max=${L.max} max-length=3 .min=${L.min} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.onInputKeyDown} @calciteInputNumberInput=${this.onOpacityInputInput} @calciteInternalInputNumberBlur=${this.onOpacityInputBlur} @calciteInternalInputNumberFocus=${this.onInputFocus} .scale=${c} suffix-text=% .value=${r} ${k(this.storeOpacityInputRef)}></calcite-input-number>`):null}</div>`}}D("calcite-color-picker-hex-input",Wn);const Un={titleGroup:"title-group"},jn=M`:host{display:flex;flex-direction:column}:host([bordered]){box-shadow:inset 0 1px 0 var(--calcite-color-border-1);background-color:var(--calcite-color-foreground-1)}:host([bordered]) section{border-width:1px;border-style:solid;border-color:var(--calcite-color-border-1)}:host([bordered][position=bottom]){box-shadow:inset 0 1px 0 var(--calcite-color-border-1),inset 0 -1px 0 var(--calcite-color-border-1)}:host([bordered]:not([position=bottom])) ::slotted(calcite-tab-nav){margin-block-end:-1px}:host([bordered][scale=s]) section{padding:.75rem}:host([bordered][scale=m]) section{padding:.5rem}:host([bordered][scale=l]) section{padding:1rem}:host([position=bottom]){flex-direction:column-reverse}section{display:flex;flex-grow:1;overflow:hidden;border-block-start-width:1px;border-block-start-color:var(--calcite-color-border-1);border-block-start-style:solid}:host([position=bottom]) section{flex-direction:column-reverse;border-block-start-width:0px;border-block-end-width:1px;border-block-end-color:var(--calcite-color-border-1)}:host([position=bottom]:not([bordered])) section{border-block-end-style:solid}@media (forced-colors: active){:host([bordered]) section{border-block-start-width:0px;border-block-end-width:1px}:host([position=bottom][bordered]) section{border-block-start-width:1px;border-block-end-width:0px}}:host([hidden]){display:none}[hidden]{display:none}`;class qn extends P{constructor(){super(),this.tabs=[],this.titles=[],this.bordered=!1,this.layout="inline",this.position="top",this.scale="m",this.listen("calciteInternalTabNavSlotChange",this.calciteInternalTabNavSlotChangeHandler)}static{this.properties={tabs:16,titles:16,bordered:5,layout:3,position:3,scale:3}}static{this.styles=jn}connectedCallback(){super.connectedCallback(),this.updateItems()}load(){this.updateItems()}willUpdate(t){(t.has("position")&&(this.hasUpdated||this.position!=="top")||t.has("scale")&&(this.hasUpdated||this.scale!=="m"))&&this.updateItems(),(t.has("titles")||t.has("tabs"))&&this.hasUpdated&&this.titles?.length>0&&this.tabs?.length>0&&(this.updateAriaSettings(),this.updateItems())}calciteInternalTabNavSlotChangeHandler(t){t.stopPropagation(),t.detail.length!==this.titles.length&&(this.titles=t.detail)}defaultSlotChangeHandler(t){this.tabs=Bt(t,"calcite-tab")}async updateAriaSettings(){await this.componentOnReady();let t,n;const i=De(this.slotEl,"calcite-tab");if(i.some(a=>a.tab)||this.titles.some(a=>a.tab))t=i.sort((a,o)=>a.tab.localeCompare(o.tab)).map(a=>a.id),n=this.titles.sort((a,o)=>a.tab.localeCompare(o.tab)).map(a=>a.id);else{const a=await Promise.all(i.map(l=>l.getTabIndex())),o=await Promise.all(this.titles.map(l=>l.getTabIndex()));t=a.reduce((l,s,r)=>(l[s]=i[r].id,l),[]),n=o.reduce((l,s,r)=>(l[s]=this.titles[r].id,l),[])}i.forEach(a=>a._updateAriaInfo(t,n)),this.titles.forEach(a=>a._updateAriaInfo(t,n))}updateItems(){const{position:t,scale:n}=this,i=this.el.querySelector("calcite-tab-nav");i&&(i.position=t,i.scale=n),Array.from(this.el.querySelectorAll("calcite-tab")).forEach(a=>{a.parentElement===this.el&&(a.scale=n)}),Array.from(this.el.querySelectorAll("calcite-tab-nav > calcite-tab-title")).forEach(a=>{a.position=t,a.scale=n})}setDefaultSlotRef(t){this.slotEl=t}render(){return b`<slot name=${Un.titleGroup}></slot><section><slot @slotchange=${this.defaultSlotChangeHandler} ${k(this.setDefaultSlotRef)}></slot></section>`}}D("calcite-tabs",qn);const pe={chevronRight:"chevron-right",chevronLeft:"chevron-left"},W={container:"tab-nav",containerHasEndTabTitleOverflow:"tab-nav--end-overflow",containerHasStartTabTitleOverflow:"tab-nav--start-overflow",scrollButton:"scroll-button",scrollButtonContainer:"scroll-button-container",scrollBackwardContainerButton:"scroll-button-container--backward",scrollForwardContainerButton:"scroll-button-container--forward",tabTitleSlotWrapper:"tab-titles-slot-wrapper"},_n=M`:host{--calcite-internal-tab-nav-gradient-start-side: left;--calcite-internal-tab-nav-gradient-end-side: right;position:relative;display:flex}.scale-s{--calcite-internal-tab-nav-scroller-button-width: 24px;min-block-size:1.5rem}.scale-m{--calcite-internal-tab-nav-scroller-button-width: 32px;min-block-size:2rem}.scale-l{--calcite-internal-tab-nav-scroller-button-width: 44px;min-block-size:2.75rem}.calcite--rtl{--calcite-internal-tab-nav-gradient-start-side: right;--calcite-internal-tab-nav-gradient-end-side: left}.tab-nav--start-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side),transparent,transparent var(--calcite-internal-tab-nav-scroller-button-width),white var(--calcite-internal-tab-nav-scroller-button-width),white 51%)}.tab-nav--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side),transparent,transparent var(--calcite-internal-tab-nav-scroller-button-width),white var(--calcite-internal-tab-nav-scroller-button-width),white 51%)}.tab-nav--start-overflow.tab-nav--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side),transparent,transparent var(--calcite-internal-tab-nav-scroller-button-width),white var(--calcite-internal-tab-nav-scroller-button-width),white 51%,transparent 51%),linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side),transparent,transparent var(--calcite-internal-tab-nav-scroller-button-width),white var(--calcite-internal-tab-nav-scroller-button-width),white 51%,transparent 51%)}.tab-nav::-webkit-scrollbar{display:none;-ms-overflow-style:none;scrollbar-width:none}:host([layout=center]) ::slotted(calcite-tab-title){display:flex;flex-grow:1;flex-shrink:0;min-inline-size:auto;white-space:nowrap}:host([layout=center]) ::slotted(calcite-tab-title[selected]){overflow:unset}:host(:not([bordered])) .scale-l{--calcite-internal-tab-nav-gap: var(--calcite-spacing-xxl)}:host(:not([bordered])) .scale-m{--calcite-internal-tab-nav-gap: var(--calcite-spacing-xl)}:host(:not([bordered])) .scale-s{--calcite-internal-tab-nav-gap: var(--calcite-spacing-lg)}:host(:not([bordered])) .tab-titles-slot-wrapper{gap:var(--calcite-internal-tab-nav-gap)}:host([layout=center]:not([bordered])) .tab-titles-slot-wrapper{padding-inline:var(--calcite-spacing-xl)}.tab-nav,.tab-titles-slot-wrapper{display:flex;inline-size:100%;justify-content:flex-start;overflow:hidden;white-space:nowrap}.scroll-button-container{position:absolute;inset-block:0px}.scroll-button-container calcite-button{--calcite-offset-invert-focus: 1;--calcite-color-text-1: var(--calcite-color-text-3);block-size:100%}.scroll-button-container calcite-button:hover{--calcite-color-text-1: unset;--calcite-color-foreground-1: var(--calcite-color-transparent-hover);--calcite-color-foreground-3: var(--calcite-color-transparent)}.scroll-button-container--forward{inset-inline-end:0;z-index:var(--calcite-z-index)}.scroll-button-container--backward{inset-inline-start:0;z-index:var(--calcite-z-index)}:host(:not([bordered])) .scroll-button-container--backward:before,:host(:not([bordered])) .scroll-button-container--forward:before{background-color:var(--calcite-color-border-3);content:"";inline-size:var(--calcite-border-width-sm);inset-block-start:var(--calcite-border-width-md);inset-block-end:var(--calcite-border-width-md);position:absolute}:host(:not([bordered])) .scroll-button-container--backward:before{inset-inline-end:0}:host(:not([bordered])) .scroll-button-container--forward:before{inset-inline-start:0}:host([hidden]){display:none}[hidden]{display:none}`;class Kn extends P{constructor(){super(),this.effectiveDir="ltr",this.lastScrollWheelAxis="x",this.resizeObserver=Y("resize",()=>{this.updateScrollingState()}),this.hasOverflowingEndTabTitle=!1,this.hasOverflowingStartTabTitle=!1,this.bordered=!1,this.layout="inline",this.messages=lt(),this.position="bottom",this.scale="m",this.selectedTitle=null,this.calciteInternalTabChange=y({cancelable:!1}),this.calciteInternalTabNavSlotChange=y(),this.calciteTabChange=y({cancelable:!1}),this.listen("calciteInternalTabsFocusPrevious",this.focusPreviousTabHandler),this.listen("calciteInternalTabsFocusNext",this.focusNextTabHandler),this.listen("calciteInternalTabsFocusFirst",this.focusFirstTabHandler),this.listen("calciteInternalTabsFocusLast",this.focusLastTabHandler),this.listen("calciteInternalTabsActivate",this.internalActivateTabHandler),this.listen("calciteTabsActivate",this.activateTabHandler),this.listen("calciteInternalTabsClose",this.internalCloseTabHandler),this.listen("calciteInternalTabTitleRegister",this.updateTabTitles),this.listenOn(document.body,"calciteInternalTabChange",this.globalInternalTabChangeHandler)}static{this.properties={hasOverflowingEndTabTitle:16,hasOverflowingStartTabTitle:16,selectedTabId:16,bordered:7,layout:3,messageOverrides:0,position:1,scale:1,selectedTitle:0,storageId:3,syncId:3}}static{this.styles=_n}get enabledTabTitles(){return Lt(this.el,"calcite-tab-title:not([disabled])").filter(t=>!t.closed)}get scrollerButtonWidth(){const{scale:t}=this;return parseInt(t==="s"?Qe:t==="m"?Ze:tn)}get tabTitles(){return Lt(this.el,"calcite-tab-title")}connectedCallback(){super.connectedCallback(),this.parentTabsEl=this.el.closest("calcite-tabs"),this.resizeObserver?.observe(this.el)}async load(){const t=`calcite-tab-nav-${this.storageId}`;if(localStorage&&this.storageId&&localStorage.getItem(t)){const n=JSON.parse(localStorage.getItem(t));this.selectedTabId=n}}willUpdate(t){t.has("selectedTitle")&&(this.hasUpdated||this.selectedTitle!==null)&&this.calciteInternalTabChange.emit({tab:this.selectedTabId}),t.has("selectedTabId")&&this.selectedTabIdChanged();const{parentTabsEl:n}=this;this.layout=n?.layout,this.bordered=n?.bordered,this.effectiveDir=X(this.el)}loaded(){this.scrollTabTitleIntoView(this.selectedTitle,"instant"),this.tabTitles.length&&this.tabTitles.every(t=>!t.selected)&&!this.selectedTabId&&this.tabTitles[0].getTabIdentifier().then(t=>{this.calciteInternalTabChange.emit({tab:t})})}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}focusPreviousTabHandler(t){this.handleTabFocus(t,t.target,"previous")}focusNextTabHandler(t){this.handleTabFocus(t,t.target,"next")}focusFirstTabHandler(t){this.handleTabFocus(t,t.target,"first")}focusLastTabHandler(t){this.handleTabFocus(t,t.target,"last")}internalActivateTabHandler(t){const n=t.target;this.selectedTabId=t.detail.tab?t.detail.tab:this.getIndexOfTabTitle(n),t.stopPropagation(),this.selectedTitle=n,this.scrollTabTitleIntoView(n)}scrollTabTitleIntoView(t,n="smooth"){t&&requestAnimationFrame(()=>{const i=this.effectiveDir==="ltr",a=this.tabTitleContainerEl,o=a.getBoundingClientRect(),l=t.getBoundingClientRect(),s=a.scrollLeft,r=i?this.hasOverflowingStartTabTitle:this.hasOverflowingEndTabTitle,c=i?this.hasOverflowingEndTabTitle:this.hasOverflowingStartTabTitle;if(l.left<o.left+(r?this.scrollerButtonWidth:0)){const u=s+(l.left-o.left)-this.scrollerButtonWidth;a.scrollTo({left:u,behavior:n})}else if(l.right>o.right-(c?this.scrollerButtonWidth:0)){const u=s+(l.right-o.right)+this.scrollerButtonWidth;a.scrollTo({left:u,behavior:n})}})}activateTabHandler(t){this.calciteTabChange.emit(),t.stopPropagation()}internalCloseTabHandler(t){const n=t.target;this.handleTabTitleClose(n),t.stopPropagation()}async updateTabTitles(t){t.target.selected&&(this.selectedTabId=t.detail,this.selectedTitle=await this.getTabTitleById(this.selectedTabId))}globalInternalTabChangeHandler(t){this.syncId&&t.target!==this.el&&t.target.syncId===this.syncId&&this.selectedTabId!==t.detail.tab&&(this.selectedTabId=t.detail.tab),t.stopPropagation()}async selectedTabIdChanged(){await this.componentOnReady(),localStorage&&this.storageId&&this.selectedTabId!==void 0&&this.selectedTabId!==null&&localStorage.setItem(`calcite-tab-nav-${this.storageId}`,JSON.stringify(this.selectedTabId)),this.calciteInternalTabChange.emit({tab:this.selectedTabId})}onTabTitleWheel(t){t.preventDefault();const{deltaX:n,deltaY:i}=t,a=Math.abs(n),o=Math.abs(i);let l;a===o?l=this.lastScrollWheelAxis==="x"?n:i:a>o?(l=n,this.lastScrollWheelAxis="x"):(l=i,this.lastScrollWheelAxis="y");const s=(this.effectiveDir==="rtl"?-1:1)*l;t.currentTarget.scrollBy(s,0)}onSlotChange(t){this.intersectionObserver?.disconnect();const n=Bt(t,"calcite-tab-title");n.forEach(i=>{this.intersectionObserver?.observe(i)}),this.calciteInternalTabNavSlotChange.emit(n)}storeTabTitleWrapperRef(t){t&&(this.tabTitleContainerEl=t,this.intersectionObserver=Y("intersection",()=>this.updateScrollingState(),{root:t,threshold:[0,.5,1]}))}updateScrollingState(){const t=this.tabTitleContainerEl;if(!t)return;let n,i;const a=t.scrollLeft,o=t.clientWidth,l=t.scrollWidth;this.effectiveDir==="ltr"?(n=a>0,i=a+o<l):(n=a<0,i=a!==-(l-o)),this.hasOverflowingStartTabTitle=n,this.hasOverflowingEndTabTitle=i}scrollToTabTitles(t){requestAnimationFrame(()=>{const n=this.tabTitleContainerEl,i=n.getBoundingClientRect(),a=Array.from(this.el.querySelectorAll("calcite-tab-title")),{effectiveDir:o}=this;t==="forward"&&a.reverse();let l=null;if(a.forEach(s=>{const r=s.getBoundingClientRect(),c=i.x+i.width,u=r.x+r.width;t==="forward"&&o==="ltr"||t==="backward"&&o==="rtl"?(r.x>c||u>c&&r.x>i.x)&&(l=s):(u<i.x||u<c&&r.x<i.x)&&(l=s)}),l){const{scrollerButtonWidth:s}=this,r=t==="forward"&&o==="ltr"||t==="backward"&&o==="rtl"?-s:l.offsetWidth-n.clientWidth+s,c=l.offsetLeft+r;n.scrollTo({left:c,behavior:"smooth"})}})}scrollToNextTabTitles(){this.scrollToTabTitles("forward")}scrollToPreviousTabTitles(){this.scrollToTabTitles("backward")}handleTabFocus(t,n,i){const a=Me(this.enabledTabTitles,n,i);this.scrollTabTitleIntoView(a,"instant"),t.stopPropagation()}getIndexOfTabTitle(t,n=this.tabTitles){return n.indexOf(t)}onTabTitleScroll(){this.updateScrollingState()}async getTabTitleById(t){return Promise.all(this.tabTitles.map(n=>n.getTabIdentifier())).then(n=>this.tabTitles[n.indexOf(t)])}handleTabTitleClose(t){const{tabTitles:n}=this,i=t.selected,a=n.reduce((l,s,r)=>s.closed?l:[...l,r],[]),o=a.length;if(o===1&&n[a[0]].closable)n[a[0]].closable=!1,this.selectedTabId=a[0],i&&n[a[0]].activateTab();else if(o>1){const l=n.findIndex(r=>r===t),s=a.find(r=>r>l);this.selectedTabId===l&&(this.selectedTabId=s||o-1,n[this.selectedTabId].activateTab())}requestAnimationFrame(()=>{n[this.selectedTabId].focus()})}render(){return this.el.role="tablist",b`<div class=${d({[W.container]:!0,[W.containerHasStartTabTitleOverflow]:!!this.hasOverflowingStartTabTitle,[W.containerHasEndTabTitleOverflow]:!!this.hasOverflowingEndTabTitle,[`scale-${this.scale}`]:!0,[`position-${this.position}`]:!0,[Mt.rtl]:this.effectiveDir==="rtl"})}>${this.renderScrollButton("start")}<div class=${d({[W.tabTitleSlotWrapper]:!0})} @scroll=${this.onTabTitleScroll} @wheel=${this.onTabTitleWheel} ${k(this.storeTabTitleWrapperRef)}><slot @slotchange=${this.onSlotChange}></slot></div>${this.renderScrollButton("end")}</div>`}renderScrollButton(t){const{bordered:n,messages:i,hasOverflowingStartTabTitle:a,hasOverflowingEndTabTitle:o,scale:l}=this,s=t==="end";return U(t,b`<div class=${d({[W.scrollButtonContainer]:!0,[W.scrollBackwardContainerButton]:!s,[W.scrollForwardContainerButton]:s})} .hidden=${s&&!o||!s&&!a}><calcite-button .appearance=${n?"outline-fill":"transparent"} .ariaLabel=${s?i.nextTabTitles:i.previousTabTitles} class=${d({[W.scrollButton]:!0})} icon-flip-rtl=both .iconStart=${s?pe.chevronRight:pe.chevronLeft} kind=neutral @click=${s?this.scrollToNextTabTitles:this.scrollToPreviousTabTitles} .scale=${l} tabindex=-1></calcite-button></div>`)}}D("calcite-tab-nav",Kn);const z={closeButton:"close-button",container:"container",containerBottom:"container--bottom",content:"content",contentHasText:"content--has-text",iconEnd:"icon-end",iconPresent:"icon-present",iconStart:"icon-start",titleIcon:"calcite-tab-title--icon",scale:e=>`scale-${e}`,selectedIndicator:"selected-indicator"},Gn={close:"x"},Xn=M`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block;outline:2px solid transparent;outline-offset:2px;margin-inline-start:0px}:host([layout=inline]){flex:0 1 auto}:host([layout=center]){flex:1 1 auto}.content{position:relative;margin-block-end:.125rem;box-sizing:border-box;display:flex;block-size:100%;align-items:center;justify-content:center}.scale-s .content{padding-block:.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}.scale-s .close-button{inline-size:1.25rem}.scale-m .content{padding-block:.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}.scale-m .close-button{inline-size:1.75rem}.scale-l .content{padding-block:.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}.scale-l .close-button{inline-size:2rem}:host([closable]) .content{border-block-end-color:transparent}:host([layout=inline]) .content,:host([layout=center]) .content{padding-inline:.25rem}:host([layout=center]) .scale-s,:host([layout=center]) .scale-m,:host([layout=center]) .scale-l{margin-block:0px;justify-content:center;text-align:center}:host([layout=center]) .scale-s .content,:host([layout=center]) .scale-m .content,:host([layout=center]) .scale-l .content{flex:1 1 auto;flex-grow:1}.container{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;align-content:center;justify-content:space-between;padding-inline:0px;font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-color-text-3);outline-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.selected-indicator{position:absolute;display:block;block-size:.125rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;inset-block-end:0;inset-inline-start:0;inset-inline-end:0;inline-size:100%}.container--bottom .selected-indicator{inset-block-end:unset;inset-block-start:0}:host([bordered]) .selected-indicator{inset-block-start:0;inset-block-end:unset;inset-inline-start:-1px;inset-inline-end:0;inline-size:calc(100% + var(--calcite-spacing-base))}:host([bordered]) .container:not(.container--bottom){border-block-end:1px solid transparent}:host([bordered]:not([selected]):hover) .container:not(.container--bottom){border-block-end:1px solid var(--calcite-color-border-1)}:host([bordered]:not([selected]):hover:not(:focus)) .selected-indicator{background-color:var(--calcite-color-foreground-2)}:host([bordered]:not([selected]):hover:not(:focus)) .container:not(.container--bottom) .selected-indicator{box-shadow:inset 0 1px var(--calcite-color-border-1)}:host([bordered]:not([selected]):hover:not(:focus)) .container.container--bottom .selected-indicator{box-shadow:inset 0 -1px var(--calcite-color-border-1)}:host([bordered][selected]) .container:after{position:absolute;display:block;block-size:.125rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;inset-block-end:-1px;inset-inline-start:0;inset-inline-end:0;inline-size:100%;background:var(--calcite-color-foreground-1);content:""}:host([bordered][selected]) .container.container--bottom:after{inset-block-start:-1px}:host([bordered][selected]:hover) .container:after{background:var(--calcite-color-foreground-2)}:host([bordered][selected]:focus) .container:after{background:transparent}:host([bordered]) .container--bottom .selected-indicator{inset-block-start:unset;inset-block-end:0}:host([selected]) .selected-indicator,:host([selected]:hover) .selected-indicator{background-color:var(--calcite-color-brand)}:host(:hover) .selected-indicator{background-color:var(--calcite-color-border-3)}:host(:focus) .selected-indicator,:host(:active) .selected-indicator{background-color:var(--calcite-color-brand)}@media (forced-colors: active){.selected-indicator{background-color:highlight}}:host([closed]){display:none}:host([selected]) .container{border-color:transparent;color:var(--calcite-color-text-1)}:host(:focus) .container{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host(:focus) .container:focus-within{outline-color:transparent}:host(:active) a,:host(:focus) a,:host(:hover) a{border-color:var(--calcite-color-border-2);color:var(--calcite-color-text-1);text-decoration-line:none}:host([disabled]) .container{pointer-events:none;opacity:.5}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.calcite-tab-title--icon{position:relative;margin:0;display:inline-flex;align-self:center}.calcite-tab-title--icon svg{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.content--has-text{padding:.25rem}.content--has-text .calcite-tab-title--icon.icon-start{margin-inline-end:var(--calcite-spacing-sm);color:var(--calcite-tab-icon-color-start, var(--calcite-icon-color))}.content--has-text .calcite-tab-title--icon.icon-end{margin-inline-start:var(--calcite-spacing-sm);color:var(--calcite-tab-icon-color-end, var(--calcite-icon-color))}.close-button{display:flex;block-size:100%;cursor:pointer;appearance:none;align-content:center;align-items:center;justify-content:center;align-self:center;border-style:none;background-color:transparent;color:var(--calcite-color-text-3);outline-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;margin-inline-start:var(--calcite-spacing-sm);margin-inline-end:var(--calcite-spacing-px);block-size:calc(100% - var(--calcite-spacing-xxs))}.close-button:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)))}.close-button:focus,.close-button:hover{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-3)}.close-button:active{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-3)}.close-button calcite-icon{color:inherit}:host([icon-start][icon-end]) .calcite-tab-title--icon:first-child{margin-inline-end:var(--calcite-spacing-sm)}:host([bordered]) .container:not(.container--bottom) .close-button{block-size:calc(100% - var(--calcite-spacing-px));margin-block-start:-1px}:host([bordered]) .container .close-button calcite-icon{margin-block-start:var(--calcite-spacing-px)}:host([bordered]) .container .close-button:focus,:host([bordered]) .container .close-button:hover,:host([bordered]) .container .close-button:active{box-shadow:0 2px 0 0 var(--calcite-color-foreground-3)}:host([bordered]) .container.container--bottom .close-button{box-shadow:0 -2px 0 0 transparent}:host([bordered]) .container.container--bottom .close-button calcite-icon{margin-block-end:var(--calcite-spacing-px)}:host([bordered]) .container.container--bottom .close-button:focus,:host([bordered]) .container.container--bottom .close-button:hover,:host([bordered]) .container.container--bottom .close-button:active{box-shadow:0 -2px 0 0 var(--calcite-color-foreground-3)}:host([bordered][selected]){box-shadow:inset 0 -1px var(--calcite-color-foreground-1)}:host([bordered]:not([selected])) .container .close-button{box-shadow:0 2px 0 0 transparent}:host([bordered]:hover) .container{background-color:var(--calcite-color-foreground-2)}:host([bordered]) .container{border-inline:var(--calcite-spacing-px) solid transparent}:host([selected][bordered]) .container{border-inline-color:var(--calcite-color-border-1)}:host([layout=inline][bordered]) .scale-m .content,:host([layout=center][bordered]) .scale-m .content{padding-inline:.75rem}:host([layout=inline][bordered]) .scale-s .content,:host([layout=center][bordered]) .scale-s .content{padding-inline:.5rem}:host([layout=inline][bordered]) .scale-l .content,:host([layout=center][bordered]) .scale-l .content{padding-inline:1rem}:host([layout=inline][closable]) .scale-s .content,:host([layout=inline][closable]) .scale-m .content,:host([layout=inline][closable]) .scale-l .content{padding-inline-end:0}@media (forced-colors: active){:host{outline-width:0;outline-offset:0}:host(:focus) .container{outline-color:highlight}:host([bordered]) .container{border-block-end-style:solid}:host([bordered]) .container--bottom{border-block-start-style:solid}:host([bordered][selected]) .container{border-block-end-style:none}:host([bordered][selected]) .container--bottom{border-block-start-style:none}.close-button{z-index:var(--calcite-z-index)}}:host([hidden]){display:none}[hidden]{display:none}`;class Jn extends P{constructor(){super(),this.closeButtonEl=wt(),this.guid=`calcite-tab-title-${Ut()}`,this.mutationObserver=Y("mutation",()=>this.updateHasText()),this.resizeObserver=Y("resize",()=>{this.calciteInternalTabIconChanged.emit()}),this.hasText=!1,this.bordered=!1,this.closable=!1,this.closed=!1,this.disabled=!1,this.messages=lt(),this.position="top",this.scale="m",this.selected=!1,this.calciteInternalTabIconChanged=y({cancelable:!1}),this.calciteInternalTabTitleRegister=y({cancelable:!1}),this.calciteInternalTabsActivate=y({cancelable:!1}),this.calciteInternalTabsClose=y({cancelable:!1}),this.calciteInternalTabsFocusFirst=y({cancelable:!1}),this.calciteInternalTabsFocusLast=y({cancelable:!1}),this.calciteInternalTabsFocusNext=y({cancelable:!1}),this.calciteInternalTabsFocusPrevious=y({cancelable:!1}),this.calciteTabsActivate=y({cancelable:!1}),this.calciteTabsClose=y({cancelable:!1}),this.listenOn(document.body,"calciteInternalTabChange",this.internalTabChangeHandler),this.listen("click",this.onClick),this.listen("keydown",this.keyDownHandler)}static{this.properties={controls:16,hasText:16,bordered:7,closable:7,closed:7,disabled:7,iconEnd:3,iconFlipRtl:3,iconStart:3,layout:3,messageOverrides:0,position:1,scale:1,selected:7,tab:3}}static{this.styles=Xn}async activateTab(t=!0){if(this.disabled||this.closed)return;const n={tab:this.tab};this.calciteInternalTabsActivate.emit(n),t&&requestAnimationFrame(()=>this.calciteTabsActivate.emit())}async getTabIdentifier(){return this.tab?this.tab:this.getTabIndex()}async getTabIndex(){return Array.prototype.indexOf.call(Nt(this.el.parentElement.children).filter(t=>t.matches("calcite-tab-title")),this.el)}_updateAriaInfo(t=[],n=[]){this.controls=t[n.indexOf(this.el.id)]||null}connectedCallback(){super.connectedCallback(),this.setupTextContentObserver(),this.parentTabsEl=this.el.closest("calcite-tabs")}async load(){Te()&&this.updateHasText(),this.tab&&this.selected&&this.activateTab(!1)}willUpdate(t){t.has("selected")&&(this.hasUpdated||this.selected!==!1)&&this.selectedHandler(),this.parentTabsEl&&(this.layout=this.parentTabsEl.layout,this.bordered=this.parentTabsEl.bordered)}updated(){kt(this)}async loaded(){this.calciteInternalTabTitleRegister.emit(await this.getTabIdentifier())}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),document.body?.dispatchEvent(new CustomEvent("calciteTabTitleUnregister",{detail:this.el})),this.resizeObserver?.disconnect()}selectedHandler(){this.selected&&this.activateTab(!1)}internalTabChangeHandler(t){t.composedPath().find(n=>n.tagName==="CALCITE-TABS")===this.parentTabsEl&&(this.tab?this.selected=this.tab===t.detail.tab:this.getTabIndex().then(n=>{this.selected=n===t.detail.tab}),t.stopPropagation())}onClick(){this.activateTab()}keyDownHandler(t){switch(t.key){case" ":case"Enter":t.composedPath().includes(this.closeButtonEl.value)||(this.activateTab(),t.preventDefault());break;case"ArrowRight":t.preventDefault(),X(this.el)==="ltr"?this.calciteInternalTabsFocusNext.emit():this.calciteInternalTabsFocusPrevious.emit();break;case"ArrowLeft":t.preventDefault(),X(this.el)==="ltr"?this.calciteInternalTabsFocusPrevious.emit():this.calciteInternalTabsFocusNext.emit();break;case"Home":t.preventDefault(),this.calciteInternalTabsFocusFirst.emit();break;case"End":t.preventDefault(),this.calciteInternalTabsFocusLast.emit();break}}closeClickHandler(){this.closeTabTitleAndNotify()}updateHasText(){this.hasText=this.el.textContent.trim().length>0}setupTextContentObserver(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}closeTabTitleAndNotify(){this.closed=!0,this.calciteInternalTabsClose.emit({tab:this.tab}),this.calciteTabsClose.emit()}render(){const{el:t,closed:n}=this,i=t.id||this.guid,a=b`<calcite-icon class=${d({[z.titleIcon]:!0,[z.iconStart]:!0})} .flipRtl=${this.iconFlipRtl==="start"||this.iconFlipRtl==="both"} .icon=${this.iconStart} .scale=${J(this.scale)}></calcite-icon>`,o=b`<calcite-icon class=${d({[z.titleIcon]:!0,[z.iconEnd]:!0})} .flipRtl=${this.iconFlipRtl==="end"||this.iconFlipRtl==="both"} .icon=${this.iconEnd} .scale=${J(this.scale)}></calcite-icon>`;return G(this.el,"aria-controls",this.controls),this.el.ariaSelected=Pe(this.selected),G(this.el,"id",i),this.el.role="tab",G(this.el,"tabIndex",this.selected&&!this.disabled?0:-1),St({disabled:this.disabled,children:b`<div class=${d({[z.container]:!0,[z.containerBottom]:this.position==="bottom",[z.iconPresent]:!!this.iconStart||!!this.iconEnd,[z.scale(this.scale)]:!0})} .hidden=${n} ${k(l=>l?this.resizeObserver?.observe(l):null)}><div class=${d({[z.content]:!0,[z.contentHasText]:this.hasText})}>${this.iconStart?a:null}<slot></slot>${this.iconEnd?o:null}</div>${this.renderCloseButton()}<div class=${d(z.selectedIndicator)}></div></div>`})}renderCloseButton(){const{closable:t,messages:n}=this;return t?U(z.closeButton,b`<button .ariaLabel=${n.close} class=${d(z.closeButton)} @click=${this.closeClickHandler} title=${n.close??f} type=button ${k(this.closeButtonEl)}><calcite-icon .icon=${Gn.close} .scale=${J(this.scale)}></calcite-icon></button>`):null}}D("calcite-tab-title",Jn);const be={container:"container",content:"content"},Yn=M`:host([selected]) section,:host([selected]) .container{display:block}:host{display:none;block-size:100%;inline-size:100%}:host([selected]){display:block;block-size:100%;inline-size:100%;overflow:auto}.content{box-sizing:border-box;padding-block:var(--calcite-internal-tab-content-block-padding)}.scale-s{--calcite-internal-tab-content-block-padding: var(--calcite-tab-content-block-padding, .25rem);font-size:var(--calcite-font-size--2);line-height:1rem}.scale-m{--calcite-internal-tab-content-block-padding: var(--calcite-tab-content-block-padding, .5rem);font-size:var(--calcite-font-size--1);line-height:1rem}.scale-l{--calcite-internal-tab-content-block-padding: var(--calcite-tab-content-block-padding, .625rem);font-size:var(--calcite-font-size-0);line-height:1.25rem}section,.container{display:none;block-size:100%;inline-size:100%}.container{outline-color:transparent}.container:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([hidden]){display:none}[hidden]{display:none}`;class Qn extends P{constructor(){super(),this.guid=`calcite-tab-title-${Ut()}`,this.scale="m",this.selected=!1,this.listenOn(document.body,"calciteInternalTabChange",this.internalTabChangeHandler)}static{this.properties={labeledBy:16,scale:1,selected:7,tab:3}}static{this.styles=Yn}async getTabIndex(){return Array.prototype.indexOf.call(Nt(this.el.parentElement.children).filter(t=>t.matches("calcite-tab")),this.el)}_updateAriaInfo(t=[],n=[]){this.labeledBy=n[t.indexOf(this.el.id)]||null}connectedCallback(){super.connectedCallback(),this.parentTabsEl=this.el.closest("calcite-tabs")}disconnectedCallback(){super.disconnectedCallback(),document.body?.dispatchEvent(new CustomEvent("calciteTabUnregister",{detail:this.el}))}internalTabChangeHandler(t){t.composedPath().find(n=>n.tagName==="CALCITE-TABS")===this.parentTabsEl&&(this.tab?this.selected=this.tab===t.detail.tab:this.getTabIndex().then(n=>{this.selected=n===t.detail.tab}),t.stopPropagation())}render(){const t=this.el.id||this.guid;return G(this.el,"aria-labelledby",this.labeledBy),G(this.el,"id",t),b`<div class=${d({[be.container]:!0,[`scale-${this.scale}`]:!0})} role=tabpanel .tabIndex=${this.selected?0:-1}><section class=${d(be.content)}><slot></slot></section></div>`}}D("calcite-tab",Qn);const Zn=M`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal);inline-size:var(--calcite-internal-color-picker-min-width);min-inline-size:var(--calcite-internal-color-picker-min-width)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]){--calcite-internal-color-picker-min-width: 200px;--calcite-color-picker-spacing: 8px}:host([scale=s]) .saved-colors{gap:.25rem;grid-template-columns:repeat(auto-fill,20px)}:host([scale=m]){--calcite-internal-color-picker-min-width: 240px;--calcite-color-picker-spacing: 12px}:host([scale=l]){--calcite-internal-color-picker-min-width: 304px;--calcite-color-picker-spacing: 16px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill,32px)}:host([scale=l]) .control-section{display:flex;flex-direction:column;flex-wrap:wrap;align-items:baseline}:host([scale=l]) .color-hex-options{inline-size:100%;display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around}:host([scale=l]) .color-mode-container{flex-shrink:3}.container{background-color:var(--calcite-color-foreground-1);display:flex;flex-direction:column;block-size:min-content;border:1px solid var(--calcite-color-border-1)}.control-and-scope{position:relative;display:flex;cursor:pointer;touch-action:none}.color-field,.control-and-scope{-webkit-user-select:none;user-select:none}.scope{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);block-size:1px;inline-size:1px;border-radius:9999px;background-color:transparent;font-size:var(--calcite-font-size--1);outline-color:transparent}.scope:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))));outline-offset:6px}.hex-and-channels-group{display:flex;inline-size:100%;flex-direction:column;flex-wrap:wrap}.section{padding-block:0 var(--calcite-color-picker-spacing);padding-inline:var(--calcite-color-picker-spacing)}.section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}.sliders{display:flex;flex-direction:column;justify-content:space-between;margin-inline-start:var(--calcite-color-picker-spacing);gap:var(--calcite-spacing-xxs)}.preview-and-sliders{display:flex;align-items:center;padding:var(--calcite-color-picker-spacing)}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;color:var(--calcite-color-text-1)}.color-mode-container{padding-block-start:var(--calcite-color-picker-spacing)}.channels{display:flex}.channel{flex-grow:1}.channel[data-channel-index="3"]{margin-inline-start:-1px;min-inline-size:81px}:host([scale=s]) .channel[data-channel-index="3"]{min-inline-size:68px}:host([scale=l]) .channel[data-channel-index="3"]{min-inline-size:88px}.saved-colors{display:grid;gap:.5rem;padding-block-start:var(--calcite-color-picker-spacing);grid-template-columns:repeat(auto-fill,24px)}.saved-colors-buttons{display:flex}.saved-color{outline-offset:0;outline-color:transparent;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.saved-color:hover{transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-color-border-2);outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}`,ge=16;class fe extends P{constructor(){super(),this._color=B,this.internalColorUpdateContext=null,this.isActiveChannelInputEmpty=!1,this.mode=v.HEX,this.resizeObserver=Y("resize",t=>this.resizeCanvas(t)),this.shiftKeyChannelAdjustment=0,this.upOrDownArrowKeyTracker=null,this._valueWasSet=!1,this.channelMode="rgb",this.channels=this.toChannels(B),this.staticDimensions=et.m,this.savedColors=[],this.allowEmpty=!1,this.alphaChannel=!1,this.channelsDisabled=!1,this.clearable=!1,this.disabled=!1,this.format="auto",this.hexDisabled=!1,this.messages=lt({blocking:!0}),this.savedDisabled=!1,this.scale="m",this.calciteColorPickerChange=y({cancelable:!1}),this.calciteColorPickerInput=y({cancelable:!1}),this.captureColorFieldColor=(t,n,i=!0)=>{const{width:a,height:o}=this.dynamicDimensions.colorField,l=Math.round($.s/a*t),s=Math.round($.v/o*(o-n));this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(l).value(s),i)},this.drawColorControls=jt((t="all")=>{(t==="all"||t==="color-field")&&this.colorFieldRenderingContext&&this.drawColorField(),(t==="all"||t==="hue-slider")&&this.hueSliderRenderingContext&&this.drawHueSlider(),this.alphaChannel&&(t==="all"||t==="opacity-slider")&&this.opacitySliderRenderingContext&&this.drawOpacitySlider()},ge),this.globalPointerMoveHandler=t=>{const{activeCanvasInfo:n,el:i}=this;if(!i.isConnected||!n)return;const{context:a,bounds:o}=n;let l,s;const{clientX:r,clientY:c}=t;a.canvas.matches(":hover")?(l=r-o.x,s=c-o.y):(r<o.x+o.width&&r>o.x?l=r-o.x:r<o.x?l=0:l=o.width,c<o.y+o.height&&c>o.y?s=c-o.y:c<o.y?s=0:s=o.height),a===this.colorFieldRenderingContext?this.captureColorFieldColor(l,s,!1):a===this.hueSliderRenderingContext?this.captureHueSliderColor(l):a===this.opacitySliderRenderingContext&&this.captureOpacitySliderValue(l)},this.globalPointerUpHandler=t=>{if(!Vt(t))return;const n=this.activeCanvasInfo;this.activeCanvasInfo=null,this.drawColorControls(),n&&this.calciteColorPickerChange.emit()},this.resizeCanvas=jt(t=>{if(!this.hasUpdated)return;const[n]=t,i=Math.floor(n.contentBoxSize[0].inlineSize);this.dynamicDimensions.colorField.width!==i&&(this.updateDynamicDimensions(i),this.updateCanvasSize(),this.drawColorControls())},ge),this.updateDynamicDimensions=t=>{const n={width:Rn(t,this.staticDimensions,this.alphaChannel),height:this.staticDimensions.slider.height};this.dynamicDimensions={colorField:Bn(t),slider:n}},this.listen("keydown",this.handleChannelKeyUpOrDown,{capture:!0}),this.listen("keyup",this.handleChannelKeyUpOrDown,{capture:!0})}static{this.properties={channelMode:16,channels:16,colorFieldScopeLeft:16,colorFieldScopeTop:16,staticDimensions:16,hueScopeLeft:16,opacityScopeLeft:16,savedColors:16,scopeOrientation:16,allowEmpty:7,alphaChannel:5,channelsDisabled:5,clearable:7,color:0,disabled:7,format:3,hexDisabled:5,messageOverrides:0,numberingSystem:3,savedDisabled:7,scale:3,storageId:3,value:1}}static{this.styles=Zn}get baseColorFieldColor(){return this.color||this.previousColor||B}get effectiveSliderWidth(){return this.dynamicDimensions.slider.width}get color(){return this._color}set color(t){const n=this._color;this._color=t,this.handleColorChange(t,n)}get value(){return this._value}set value(t){const n=this._value;this._value=t,this.handleValueChange(t,n),this._valueWasSet=!0}async setFocus(){await Tt(this),Re(this.el)}connectedCallback(){super.connectedCallback(),this.observeResize()}async load(){this._valueWasSet||(this._value??=O(I(B,this.alphaChannel))),this.handleAllowEmptyOrClearableChange();const{isClearable:t,color:n,format:i,value:a}=this,o=t&&!a,l=se(a),s=o||i==="auto"&&l||i===l,r=o?null:s?F(a):n;s||this.showIncompatibleColorWarning(a,i),this.setMode(i,!1),this.internalColorSet(r,!1,"initial"),this.updateStaticDimensions(this.scale),this.updateDynamicDimensions(et[this.scale].minWidth);const c=`${Et}${this.storageId}`;this.storageId&&localStorage.getItem(c)&&(this.savedColors=JSON.parse(localStorage.getItem(c)))}willUpdate(t){(t.has("allowEmpty")&&(this.hasUpdated||this.allowEmpty!==!1)||t.has("clearable")&&(this.hasUpdated||this.clearable!==!1))&&this.handleAllowEmptyOrClearableChange(),t.has("alphaChannel")&&(this.hasUpdated||this.alphaChannel!==!1)&&this.handleAlphaChannelChange(this.alphaChannel),this.hasUpdated&&(t.has("alphaChannel")&&this.alphaChannel!==!1||t.has("staticDimensions")&&this.staticDimensions!==et.m)&&this.handleAlphaChannelDimensionsChange(),(t.has("alphaChannel")&&(this.hasUpdated||this.alphaChannel!==!1)||t.has("format")&&(this.hasUpdated||this.format!=="auto"))&&this.handleFormatOrAlphaChannelChange(),t.has("scale")&&(this.hasUpdated||this.scale!=="m")&&this.handleScaleChange(this.scale)}updated(){kt(this)}loaded(){this.handleAlphaChannelDimensionsChange()}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("pointermove",this.globalPointerMoveHandler),window.removeEventListener("pointerup",this.globalPointerUpHandler),this.resizeObserver?.disconnect()}observeResize(){this.resizeObserver?.observe(this.el)}handleAllowEmptyOrClearableChange(){this.isClearable=this.clearable||this.allowEmpty}handleAlphaChannelChange(t){const{format:n}=this;t&&n!=="auto"&&!bt(n)&&(console.warn(`ignoring alphaChannel as the current format (${n}) does not support alpha`),this.alphaChannel=!1)}handleAlphaChannelDimensionsChange(){this.drawColorControls()}handleColorChange(t,n){this.drawColorControls(),this.updateChannelsFromColor(t),this.previousColor=n}handleFormatOrAlphaChannelChange(){this.setMode(this.format),this.internalColorSet(this.color,!1,"internal")}handleScaleChange(t="m"){this.updateStaticDimensions(t),this.updateCanvasSize(),this.drawColorControls()}handleValueChange(t,n){const{isClearable:i,format:a}=this,o=!i||t;let l=!1;if(o){const u=se(t);if(!u||a!=="auto"&&u!==a){this.showIncompatibleColorWarning(t,a),this._value=n;return}l=this.mode!==u,this.setMode(u,this.internalColorUpdateContext===null)}const s=this.activeCanvasInfo;if(this.internalColorUpdateContext==="initial")return;if(this.internalColorUpdateContext==="user-interaction"){this.calciteColorPickerInput.emit(),s||this.calciteColorPickerChange.emit();return}const r=i&&!t?null:F(t!=null&&typeof t=="object"&&bt(this.mode)?Dn(t):t),c=!re(r,this.color);(l||c)&&this.internalColorSet(r,this.alphaChannel&&!(this.mode.endsWith("a")||this.mode.endsWith("a-css"))||this.internalColorUpdateContext==="internal","internal")}handleTabActivate(t){this.channelMode=t.currentTarget.getAttribute("data-color-mode"),this.updateChannelsFromColor(this.color)}handleColorFieldScopeKeyDown(t){const{key:n}=t,i={ArrowUp:{x:0,y:-10},ArrowRight:{x:10,y:0},ArrowDown:{x:0,y:10},ArrowLeft:{x:-10,y:0}};i[n]&&(t.preventDefault(),this.scopeOrientation=n==="ArrowDown"||n==="ArrowUp"?"vertical":"horizontal",this.captureColorFieldColor(this.colorFieldScopeLeft+i[n].x||0,this.colorFieldScopeTop+i[n].y||0,!1))}handleHueScopeKeyDown(t){const n=t.shiftKey?10:1,{key:i}=t,a={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};if(a[i]){t.preventDefault();const o=a[i]*n,l=this.baseColorFieldColor.hue(),s=this.baseColorFieldColor.hue(l+o);this.internalColorSet(s,!1)}}handleHexInputChange(t){t.stopPropagation();const{isClearable:n,color:i}=this,a=t.target.value;if(n&&!a){this.internalColorSet(null);return}const o=i&&O(I(i,bt(this.mode)));a!==o&&this.internalColorSet(F(a))}handleSavedColorSelect(t){const n=t.currentTarget;this.internalColorSet(F(n.color))}handleChannelInput(t){const n=t.currentTarget,i=Number(n.getAttribute("data-channel-index")),a=i===3?L.max:this.channelMode==="rgb"?ht[Object.keys(ht)[i]]:$[Object.keys($)[i]];let o;if(!n.value)o="",this.isActiveChannelInputEmpty=!0,this.upOrDownArrowKeyTracker=null;else{const l=Number(n.value)+this.shiftKeyChannelAdjustment;o=on(l,0,a).toString()}n.value=o,o!==""&&this.shiftKeyChannelAdjustment!==0?this.handleChannelChange(t):o!==""&&this.handleChannelChange(t)}handleChannelBlur(t){const n=t.currentTarget,i=Number(n.getAttribute("data-channel-index")),a=[...this.channels];!n.value&&!this.isClearable&&(n.value=a[i]?.toString())}handleChannelFocus(t){t.currentTarget.selectText()}handleChannelKeyUpOrDown(t){this.shiftKeyChannelAdjustment=0;const{key:n}=t;if(n!=="ArrowUp"&&n!=="ArrowDown"||!t.composedPath().some(o=>o.classList?.contains(p.channel)))return;const{shiftKey:i}=t;if(t.preventDefault(),!this.color){this.internalColorSet(this.previousColor),t.stopPropagation();return}const a=9;this.shiftKeyChannelAdjustment=n==="ArrowUp"&&i?a:n==="ArrowDown"&&i?-9:0,n==="ArrowUp"&&(this.upOrDownArrowKeyTracker="up"),n==="ArrowDown"&&(this.upOrDownArrowKeyTracker="down")}getChannelInputLimit(t){return this.channelMode==="rgb"?ht[Object.keys(ht)[t]]:$[Object.keys($)[t]]}handleChannelChange(t){const n=t.currentTarget,i=Number(n.getAttribute("data-channel-index")),a=[...this.channels];if(this.isClearable&&!n.value){this.channels=[null,null,null,null],this.internalColorSet(null);return}const o=i===3;this.isActiveChannelInputEmpty&&this.upOrDownArrowKeyTracker&&(n.value=this.upOrDownArrowKeyTracker==="up"?(a[i]+1<=this.getChannelInputLimit(i)?a[i]+1:this.getChannelInputLimit(i)).toString():(a[i]-1>=0?a[i]-1:0).toString(),this.isActiveChannelInputEmpty=!1,this.upOrDownArrowKeyTracker=null);const l=n.value?Number(n.value):a[i];a[i]=o?dt(l):l,this.updateColorFromChannels(a)}handleSavedColorKeyDown(t){Ge(t.key)&&(t.preventDefault(),this.handleSavedColorSelect(t))}handleColorFieldPointerDown(t){this.handleCanvasControlPointerDown(t,this.colorFieldRenderingContext,this.captureColorFieldColor,this.colorFieldScopeNode)}focusScope(t){requestAnimationFrame(()=>{t.focus()})}handleHueSliderPointerDown(t){this.handleCanvasControlPointerDown(t,this.hueSliderRenderingContext,this.captureHueSliderColor,this.hueScopeNode)}handleOpacitySliderPointerDown(t){this.handleCanvasControlPointerDown(t,this.opacitySliderRenderingContext,this.captureOpacitySliderValue,this.opacityScopeNode)}handleCanvasControlPointerDown(t,n,i,a){Vt(t)&&(window.addEventListener("pointermove",this.globalPointerMoveHandler),window.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:n,bounds:n.canvas.getBoundingClientRect()},i.call(this,t.offsetX,t.offsetY),this.focusScope(a))}storeColorFieldScope(t){this.colorFieldScopeNode=t}storeHueScope(t){this.hueScopeNode=t}handleKeyDown(t){t.key==="Enter"&&t.preventDefault()}showIncompatibleColorWarning(t,n){console.warn(`ignoring color value (${t}) as it is not compatible with the current format (${n})`)}setMode(t,n=!0){const i=t==="auto"?this.mode:t;this.mode=this.ensureCompatibleMode(i,n)}ensureCompatibleMode(t,n){const{alphaChannel:i}=this,a=bt(t);if(i&&!a){const o=Mn(t);return n&&console.warn(`setting format to (${o}) as the provided one (${t}) does not support alpha`),o}if(!i&&a){const o=ce(t);return n&&console.warn(`setting format to (${o}) as the provided one (${t}) does not support alpha`),o}return t}captureHueSliderColor(t){const n=ne/this.effectiveSliderWidth*t;this.internalColorSet(this.baseColorFieldColor.hue(n),!1)}captureOpacitySliderValue(t){const n=dt(L.max/this.effectiveSliderWidth*t);this.internalColorSet(this.baseColorFieldColor.alpha(n),!1)}internalColorSet(t,n=!0,i="user-interaction"){n&&re(t,this.color)||(this.internalColorUpdateContext=i,this.color=t,this.value=this.toValue(t),this.internalColorUpdateContext=null)}toValue(t,n=this.mode){if(!t)return null;if(n.includes("hex")){const a=n===v.HEXA;return O(I(t.round(),a),a)}if(n.includes("-css")){const a=t[n.replace("-css","").replace("a","")]().round().string();if((n.endsWith("a")||n.endsWith("a-css"))&&t.alpha()===1){const o=a.slice(0,3),l=a.slice(4,-1);return`${o}a(${l}, ${t.alpha()})`}return a}const i=t[ce(n)]().round().object();return n.endsWith("a")?Hn(i):i}getSliderCapSpacing(){const{staticDimensions:{slider:{height:t},thumb:{radius:n}}}=this;return n*2-t}updateStaticDimensions(t="m"){this.staticDimensions=et[t]}deleteColor(){const t=I(this.color,this.alphaChannel);if(!(this.savedColors.indexOf(t)>-1))return;const n=this.savedColors.filter(a=>a!==t);this.savedColors=n;const i=`${Et}${this.storageId}`;this.storageId&&localStorage.setItem(i,JSON.stringify(n))}saveColor(){const t=I(this.color,this.alphaChannel);if(this.savedColors.indexOf(t)>-1)return;const n=[...this.savedColors,t];this.savedColors=n;const i=`${Et}${this.storageId}`;this.storageId&&localStorage.setItem(i,JSON.stringify(n))}drawColorField(){const t=this.colorFieldRenderingContext,{width:n,height:i}=this.dynamicDimensions.colorField;t.fillStyle=this.baseColorFieldColor.hsv().saturationv(100).value(100).alpha(1).string(),t.fillRect(0,0,n,i);const a=t.createLinearGradient(0,0,n,0);a.addColorStop(0,"rgba(255,255,255,1)"),a.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=a,t.fillRect(0,0,n,i);const o=t.createLinearGradient(0,0,0,i);o.addColorStop(0,"rgba(0,0,0,0)"),o.addColorStop(1,"rgba(0,0,0,1)"),t.fillStyle=o,t.fillRect(0,0,n,i),this.drawActiveColorFieldColor()}setCanvasContextSize(t,{height:n,width:i}){if(!t)return;const a=window.devicePixelRatio||1;t.width=i*a,t.height=n*a,t.style.height=`${n}px`,t.style.width=`${i}px`,t.getContext("2d").scale(a,a)}initColorField(t){t&&(this.colorFieldRenderingContext=t.getContext("2d"),this.updateCanvasSize("color-field"),this.drawColorControls())}initHueSlider(t){t&&(this.hueSliderRenderingContext=t.getContext("2d"),this.updateCanvasSize("hue-slider"),this.drawHueSlider())}initOpacitySlider(t){t&&(this.opacitySliderRenderingContext=t.getContext("2d"),this.updateCanvasSize("opacity-slider"),this.drawOpacitySlider())}updateCanvasSize(t="all"){const{dynamicDimensions:n,staticDimensions:i}=this;(t==="all"||t==="color-field")&&this.setCanvasContextSize(this.colorFieldRenderingContext?.canvas,n.colorField);const a={width:this.effectiveSliderWidth,height:i.slider.height+(i.thumb.radius-n.slider.height/2)*2};(t==="all"||t==="hue-slider")&&this.setCanvasContextSize(this.hueSliderRenderingContext?.canvas,a),(t==="all"||t==="opacity-slider")&&this.setCanvasContextSize(this.opacitySliderRenderingContext?.canvas,a)}drawActiveColorFieldColor(){const{color:t}=this;if(!t)return;const n=t.hsv(),{staticDimensions:{thumb:{radius:i}}}=this,{width:a,height:o}=this.dynamicDimensions.colorField,l=n.saturationv()/($.s/a),s=o-n.value()/($.v/o);requestAnimationFrame(()=>{this.colorFieldScopeLeft=l,this.colorFieldScopeTop=s}),this.drawThumb(this.colorFieldRenderingContext,i,l,s,n,!1)}drawThumb(t,n,i,a,o,l){const s=2*Math.PI,r=1;if(t.beginPath(),t.arc(i,a,n,0,s),t.fillStyle="#fff",t.fill(),t.strokeStyle="rgba(0,0,0,0.3)",t.lineWidth=r,t.stroke(),l&&o.alpha()<1){const u=t.createPattern(this.getCheckeredBackgroundPattern(),"repeat");t.beginPath(),t.arc(i,a,n-3,0,s),t.fillStyle=u,t.fill()}t.globalCompositeOperation="source-atop",t.beginPath(),t.arc(i,a,n-3,0,s);const c=l?o.alpha():1;t.fillStyle=o.rgb().alpha(c).string(),t.fill(),t.globalCompositeOperation="source-over"}drawActiveHueSliderColor(){const{color:t}=this;if(!t)return;const n=t.hsv().saturationv(100).value(100),{staticDimensions:{thumb:{radius:i}}}=this,a=this.effectiveSliderWidth,o=n.hue()/(ne/a),l=i,s=this.getSliderBoundX(o,a,i);requestAnimationFrame(()=>{this.hueScopeLeft=s}),this.drawThumb(this.hueSliderRenderingContext,i,s,l,n,!1)}drawHueSlider(){const t=this.hueSliderRenderingContext,{staticDimensions:{slider:{height:n},thumb:{radius:i}}}=this,a=0,o=i-n/2,l=this.effectiveSliderWidth,s=t.createLinearGradient(0,0,l,0),r=["red","yellow","lime","cyan","blue","magenta","#ff0004"],c=1/(r.length-1);let u=0;r.forEach(g=>{s.addColorStop(u,F(g).string()),u+=c}),t.clearRect(0,0,l,n+this.getSliderCapSpacing()*2),this.drawSliderPath(t,n,l,a,o),t.fillStyle=s,t.fill(),t.strokeStyle="rgba(0,0,0,0.3)",t.lineWidth=1,t.stroke(),this.drawActiveHueSliderColor()}drawOpacitySlider(){const t=this.opacitySliderRenderingContext,{baseColorFieldColor:n,staticDimensions:{slider:{height:i},thumb:{radius:a}}}=this,o=0,l=a-i/2,s=this.effectiveSliderWidth;t.clearRect(0,0,s,i+this.getSliderCapSpacing()*2);const r=t.createLinearGradient(0,l,s,0),c=n.rgb().alpha(0),u=n.rgb().alpha(.5),g=n.rgb().alpha(1);r.addColorStop(0,c.string()),r.addColorStop(.5,u.string()),r.addColorStop(1,g.string()),this.drawSliderPath(t,i,s,o,l);const A=t.createPattern(this.getCheckeredBackgroundPattern(),"repeat");t.fillStyle=A,t.fill(),t.fillStyle=r,t.fill(),t.strokeStyle="rgba(0,0,0,0.3)",t.lineWidth=1,t.stroke(),this.drawActiveOpacitySliderColor()}drawSliderPath(t,n,i,a,o){const l=n/2+1;t.beginPath(),t.moveTo(a+l,o),t.lineTo(a+i-l,o),t.quadraticCurveTo(a+i,o,a+i,o+l),t.lineTo(a+i,o+n-l),t.quadraticCurveTo(a+i,o+n,a+i-l,o+n),t.lineTo(a+l,o+n),t.quadraticCurveTo(a,o+n,a,o+n-l),t.lineTo(a,o+l),t.quadraticCurveTo(a,o,a+l,o),t.closePath()}getCheckeredBackgroundPattern(){if(this.checkerPattern)return this.checkerPattern;const t=document.createElement("canvas");t.width=10,t.height=10;const n=t.getContext("2d");return n.fillStyle="#ccc",n.fillRect(0,0,10,10),n.fillStyle="#fff",n.fillRect(0,0,5,5),n.fillRect(5,5,5,5),this.checkerPattern=t,t}drawActiveOpacitySliderColor(){const{color:t}=this;if(!t)return;const n=t,{staticDimensions:{thumb:{radius:i}}}=this,a=this.effectiveSliderWidth,o=nt(n.alpha())/(L.max/a),l=i,s=this.getSliderBoundX(o,a,i);requestAnimationFrame(()=>{this.opacityScopeLeft=s}),this.drawThumb(this.opacitySliderRenderingContext,i,s,l,n,!0)}getSliderBoundX(t,n,i){const a=ln(t,n,i);return a===0?t:a===-1?_t(t,0,n,i,i*2):_t(t,0,n,n-i*2,n-i)}storeOpacityScope(t){this.opacityScopeNode=t}handleOpacityScopeKeyDown(t){const n=t.shiftKey?10:1,{key:i}=t,a={ArrowUp:.01,ArrowRight:.01,ArrowDown:-.01,ArrowLeft:-.01};if(a[i]){t.preventDefault();const o=a[i]*n,l=this.baseColorFieldColor.alpha(),s=this.baseColorFieldColor.alpha(l+o);this.internalColorSet(s,!1)}}updateColorFromChannels(t){this.internalColorSet(F(t,this.channelMode))}updateChannelsFromColor(t){this.channels=t?this.toChannels(t):[null,null,null,null]}toChannels(t){const{channelMode:n}=this,i=t[n]().array().map((a,o)=>o===3?a:Math.floor(a));return i.length===3&&i.push(1),i}getAdjustedScopePosition(t,n){return[t-ie/2,n-ie/2]}render(){const{channelsDisabled:t,color:n,colorFieldScopeLeft:i,colorFieldScopeTop:a,staticDimensions:{thumb:{radius:o}},hexDisabled:l,hueScopeLeft:s,messages:r,alphaChannel:c,opacityScopeLeft:u,savedColors:g,savedDisabled:A,scale:E,scopeOrientation:ft}=this,it=this.effectiveSliderWidth,at=n?I(n,c):null,vt=o,mt=s??it*B.hue()/$.h,ve=o,me=u??it*nt(B.alpha())/L.max,Dt=n===void 0,xt=ft==="vertical",[xe,ye]=this.getAdjustedScopePosition(i,a),[Ce,we]=this.getAdjustedScopePosition(mt,vt),[ke,Se]=this.getAdjustedScopePosition(me,ve);return St({disabled:this.disabled,children:b`<div class=${d(p.container)}><div class=${d(p.controlAndScope)}><canvas class=${d(p.colorField)} @pointerdown=${this.handleColorFieldPointerDown} ${k(this.initColorField)}></canvas><div .ariaLabel=${xt?r.value:r.saturation} .ariaValueMax=${xt?$.v:$.s} aria-valuemin=0 .ariaValueNow=${(xt?n?.saturationv():n?.value())||"0"} class=${d({[p.scope]:!0,[p.colorFieldScope]:!0})} @keydown=${this.handleColorFieldScopeKeyDown} role=slider style=${ot({top:`${ye||0}px`,left:`${xe||0}px`})} tabindex=0 ${k(this.storeColorFieldScope)}></div></div><div class=${d(p.previewAndSliders)}><calcite-color-picker-swatch class=${d(p.preview)} .color=${at} .scale=${this.alphaChannel?"l":this.scale}></calcite-color-picker-swatch><div class=${d(p.sliders)}><div class=${d(p.controlAndScope)}><canvas class=${d({[p.slider]:!0,[p.hueSlider]:!0})} @pointerdown=${this.handleHueSliderPointerDown} ${k(this.initHueSlider)}></canvas><div .ariaLabel=${r.hue} .ariaValueMax=${$.h} aria-valuemin=0 .ariaValueNow=${n?.round().hue()||B.round().hue()} class=${d({[p.scope]:!0,[p.hueScope]:!0})} @keydown=${this.handleHueScopeKeyDown} role=slider style=${ot({top:`${we}px`,left:`${Ce}px`})} tabindex=0 ${k(this.storeHueScope)}></div></div>${c?b`<div class=${d(p.controlAndScope)}><canvas class=${d({[p.slider]:!0,[p.opacitySlider]:!0})} @pointerdown=${this.handleOpacitySliderPointerDown} ${k(this.initOpacitySlider)}></canvas><div .ariaLabel=${r.opacity} .ariaValueMax=${L.max} .ariaValueMin=${L.min} .ariaValueNow=${(n||B).round().alpha()} class=${d({[p.scope]:!0,[p.opacityScope]:!0})} @keydown=${this.handleOpacityScopeKeyDown} role=slider style=${ot({top:`${Se}px`,left:`${ke}px`})} tabindex=0 ${k(this.storeOpacityScope)}></div></div>`:null}</div></div>${l&&t?null:b`<div class=${d({[p.controlSection]:!0,[p.section]:!0})}><div class=${d(p.hexAndChannelsGroup)}>${l?null:b`<div class=${d(p.hexOptions)}><calcite-color-picker-hex-input .allowEmpty=${this.isClearable} .alphaChannel=${c} class=${d(p.control)} .messages=${r} .numberingSystem=${this.numberingSystem} @calciteColorPickerHexInputChange=${this.handleHexInputChange} .scale=${E} .value=${at}></calcite-color-picker-hex-input></div>`}${t?null:b`<calcite-tabs class=${d({[p.colorModeContainer]:!0,[p.splitSection]:!0})} .scale=${E==="l"?"m":"s"}><calcite-tab-nav slot=title-group>${this.renderChannelsTabTitle("rgb")}${this.renderChannelsTabTitle("hsv")}</calcite-tab-nav>${this.renderChannelsTab("rgb")}${this.renderChannelsTab("hsv")}</calcite-tabs>`}</div></div>`}${A?null:b`<div class=${d({[p.savedColorsSection]:!0,[p.section]:!0})}><div class=${d(p.header)}><label>${r.saved}</label><div class=${d(p.savedColorsButtons)}><calcite-button appearance=transparent class=${d(p.deleteColor)} .disabled=${Dt} icon-start=minus kind=neutral .label=${r.deleteColor} @click=${this.deleteColor} .scale=${E} type=button></calcite-button><calcite-button appearance=transparent class=${d(p.saveColor)} .disabled=${Dt} icon-start=plus kind=neutral .label=${r.saveColor} @click=${this.saveColor} .scale=${E} type=button></calcite-button></div></div>${g.length>0?b`<div class=${d(p.savedColors)}>${Ee(g,yt=>yt,yt=>b`<calcite-color-picker-swatch class=${d(p.savedColor)} .color=${yt} @click=${this.handleSavedColorSelect} @keydown=${this.handleSavedColorKeyDown} .scale=${E} tabindex=0></calcite-color-picker-swatch>`)}</div>`:null}</div>`}</div>`})}renderChannelsTabTitle(t){const{channelMode:n,messages:i}=this,a=t===n,o=t==="rgb"?i.rgb:i.hsv;return U(t,b`<calcite-tab-title class=${d(p.colorMode)} data-color-mode=${t??f} @calciteTabsActivate=${this.handleTabActivate} .selected=${a}>${o}</calcite-tab-title>`)}renderChannelsTab(t){const{isClearable:n,channelMode:i,channels:a,messages:o,alphaChannel:l}=this,s=t===i,r=t==="rgb"?[o.red,o.green,o.blue]:[o.hue,o.saturation,o.value],c=X(this.el),u=l?a:a.slice(0,3);return U(t,b`<calcite-tab class=${d(p.control)} .selected=${s}><div class=${d(p.channels)} dir=ltr>${u.map((g,A)=>{const E=A===3;return E&&(g=n&&!g?g:nt(g)),this.renderChannel(g,A,r[A],c,E?"%":"")})}</div></calcite-tab>`)}renderChannel(t,n,i,a,o){return U(n,b`<calcite-input-number class=${d(p.channel)} data-channel-index=${n??f} dir=${a??f} .label=${i} lang=${this.messages._lang??f} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.handleKeyDown} @calciteInputNumberChange=${this.handleChannelChange} @calciteInputNumberInput=${this.handleChannelInput} @calciteInternalInputNumberBlur=${this.handleChannelBlur} @calciteInternalInputNumberFocus=${this.handleChannelFocus} .scale=${this.scale==="l"?"m":"s"} style=${ot({marginLeft:n>0&&!(this.scale==="s"&&this.alphaChannel&&n===3)?"-1px":""})} .suffixText=${o} .value=${t?.toString()}></calcite-input-number>`)}}D("calcite-color-picker",fe);export{fe as ColorPicker};
