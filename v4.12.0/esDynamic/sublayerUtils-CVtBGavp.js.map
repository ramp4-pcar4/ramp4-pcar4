{"version":3,"file":"sublayerUtils-CVtBGavp.js","sources":["../../node_modules/@arcgis/core/layers/support/sublayerUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{OriginId as r}from\"../../core/accessorSupport/PropertyOrigin.js\";function e(r,e,i){const o=e.flatten((({sublayers:r})=>r)).length;if(o!==r.length)return!0;return!!r.some((r=>r.originIdOf(\"minScale\")>i||r.originIdOf(\"maxScale\")>i||r.originIdOf(\"renderer\")>i||r.originIdOf(\"labelingInfo\")>i||r.originIdOf(\"opacity\")>i||r.originIdOf(\"labelsVisible\")>i||r.originIdOf(\"source\")>i))||!n(r,e)}function i(e,i,o){return!!e.some((e=>{const i=e.source,n=!i||\"map-layer\"===i.type&&i.mapLayerId===e.id&&(null==i.gdbVersion||i.gdbVersion===o);e.commitProperty(\"renderer\"),e.commitProperty(\"labelingInfo\"),e.commitProperty(\"opacity\"),e.commitProperty(\"labelsVisible\"),e.commitProperty(\"orderBy\");const t=e.layer?.capabilities?.exportMap?.supportsSublayerOrderBy??!1;return!n||e.originIdOf(\"renderer\")>r.SERVICE||e.originIdOf(\"labelingInfo\")>r.SERVICE||e.originIdOf(\"opacity\")>r.SERVICE||e.originIdOf(\"labelsVisible\")>r.SERVICE||t&&e.originIdOf(\"orderBy\")>r.SERVICE}))||!n(e,i)}function n(r,e){if(!r?.length||null==e)return!0;const i=e.slice().reverse().flatten((({sublayers:r})=>r&&r.toArray().reverse())).map((r=>r.id)).toArray();if(r.length>i.length)return!1;let n=0;const o=i.length;for(const{id:t}of r){for(;n<o&&i[n]!==t;)n++;if(n>=o)return!1}return!0}function o(r){return!!r&&r.some((r=>null!=r.minScale||null!=r.layerDefinition?.minScale))}export{i as isExportDynamic,o as isSublayerOverhaul,e as shouldWriteSublayerStructure};\n"],"names":["e","r","i","n","t","o"],"mappings":";AAIwE,SAASA,EAAEC,GAAE,GAAEC,GAAE;AAAgD,SAAvC,EAAE,QAAS,CAAC,EAAC,WAAUD,EAAC,MAAIA,CAAC,EAAG,WAAcA,EAAE,SAAa,KAAS,CAAC,CAACA,EAAE,KAAM,CAAAA,MAAGA,EAAE,WAAW,UAAU,IAAEC,KAAGD,EAAE,WAAW,UAAU,IAAEC,KAAGD,EAAE,WAAW,UAAU,IAAEC,KAAGD,EAAE,WAAW,cAAc,IAAEC,KAAGD,EAAE,WAAW,SAAS,IAAEC,KAAGD,EAAE,WAAW,eAAe,IAAEC,KAAGD,EAAE,WAAW,QAAQ,IAAEC,CAAG,KAAE,CAACC,EAAEF,GAAE,CAAC;AAAC;AAAC,SAASC,EAAEF,GAAEE,GAAE,GAAE;AAAC,SAAM,CAAC,CAACF,EAAE,KAAM,CAAAA,MAAG;AAAC,UAAME,IAAEF,EAAE,QAAOG,IAAE,CAACD,KAAiBA,EAAE,SAAhB,eAAsBA,EAAE,eAAaF,EAAE,OAAWE,EAAE,cAAR,QAAoBA,EAAE,eAAa;AAAG,IAAAF,EAAE,eAAe,UAAU,GAAEA,EAAE,eAAe,cAAc,GAAEA,EAAE,eAAe,SAAS,GAAEA,EAAE,eAAe,eAAe,GAAEA,EAAE,eAAe,SAAS;AAAE,UAAMI,IAAEJ,EAAE,OAAO,cAAc,WAAW,2BAAyB;AAAG,WAAM,CAACG,KAAGH,EAAE,WAAW,UAAU,IAAEC,EAAE,WAASD,EAAE,WAAW,cAAc,IAAEC,EAAE,WAASD,EAAE,WAAW,SAAS,IAAEC,EAAE,WAASD,EAAE,WAAW,eAAe,IAAEC,EAAE,WAASG,KAAGJ,EAAE,WAAW,SAAS,IAAEC,EAAE;AAAA,EAAO,CAAG,KAAE,CAACE,EAAEH,GAAEE,CAAC;AAAC;AAAC,SAASC,EAAEF,GAAE,GAAE;AAAC,MAAG,CAACA,GAAG,UAAc,KAAN,KAAQ,QAAM;AAAG,QAAMC,IAAE,EAAE,MAAO,EAAC,QAAS,EAAC,QAAS,CAAC,EAAC,WAAUD,EAAC,MAAIA,KAAGA,EAAE,QAAO,EAAG,QAAS,CAAA,EAAG,IAAK,CAAAA,MAAGA,EAAE,EAAI,EAAC,QAAO;AAAG,MAAGA,EAAE,SAAOC,EAAE,OAAO,QAAM;AAAG,MAAIC,IAAE;AAAE,QAAME,IAAEH,EAAE;AAAO,aAAS,EAAC,IAAG,EAAC,KAAID,GAAE;AAAC,WAAKE,IAAEE,KAAGH,EAAEC,CAAC,MAAI,IAAG,CAAAA;AAAI,QAAGA,KAAGE,EAAE,QAAM;AAAA,EAAE;AAAC,SAAM;AAAE;AAAC,SAASA,EAAEJ,GAAE;AAAC,SAAM,CAAC,CAACA,KAAGA,EAAE,KAAM,CAAAA,MAASA,EAAE,YAAR,QAAwBA,EAAE,iBAAiB,YAAzB,IAAmC;AAAA;","x_google_ignoreList":[0]}