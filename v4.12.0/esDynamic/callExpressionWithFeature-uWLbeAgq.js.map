{"version":3,"file":"callExpressionWithFeature-uWLbeAgq.js","sources":["../../node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import r from\"../../../core/Logger.js\";import{unquantizeMultipoint as t,unquantizePolyline as o,unquantizePolygon as n,unquantizePoint as a}from\"../../../geometry/support/quantizationUtils.js\";function s(e,t,o,n,a){if(null==e)return null;const s=e.references(\"geometry\")&&a?i(t,n,a):t,u=e.repurposeFeature(s);try{return e.evaluate({...o,$feature:u},e.services)}catch(c){return r.getLogger(\"esri.views.2d.support.arcadeOnDemand\").warn(\"Feature arcade evaluation failed:\",c),null}}const u=new Map;function i(e,r,t){const{transform:o,hasZ:n,hasM:a}=t;u.has(r)||u.set(r,c(r));const s=u.get(r)(e.geometry,o,n,a);return{...e,geometry:s}}function c(s){const u={};switch(s){case\"esriGeometryPoint\":return(e,r,t,o)=>a(r,u,e,t,o);case\"esriGeometryPolygon\":return(e,r,t,o)=>n(r,u,e,t,o);case\"esriGeometryPolyline\":return(e,r,t,n)=>o(r,u,e,t,n);case\"esriGeometryMultipoint\":return(e,r,o,n)=>t(r,u,e,o,n);default:return r.getLogger(\"esri.views.2d.support.arcadeOnDemand\").error(new e(\"mapview-arcade\",`Unable to handle geometryType: ${s}`)),e=>e}}export{s as default};\n"],"names":["s","e","t","o","n","a","i","u","r","c"],"mappings":";;AAIuO,SAASA,EAAEC,GAAEC,GAAEC,GAAEC,GAAEC,GAAE;AAAC,MAASJ,KAAN,KAAQ,QAAO;AAAK,QAAMD,IAAEC,EAAE,WAAW,UAAU,KAAGI,IAAEC,EAAEJ,GAAEE,GAAEC,CAAC,IAAEH,GAAEK,IAAEN,EAAE,iBAAiBD,CAAC;AAAE,MAAG;AAAC,WAAOC,EAAE,SAAS,EAAC,GAAGE,GAAE,UAASI,EAAC,GAAEN,EAAE,QAAQ;AAAA,EAAC,SAAO,GAAE;AAAC,WAAOO,EAAE,UAAU,sCAAsC,EAAE,KAAK,qCAAoC,CAAC,GAAE;AAAA,EAAI;AAAC;AAAC,MAAM,IAAE,oBAAI;AAAI,SAASF,EAAEL,GAAE,GAAEC,GAAE;AAAC,QAAK,EAAC,WAAUC,GAAE,MAAKC,GAAE,MAAKC,EAAC,IAAEH;AAAE,IAAE,IAAI,CAAC,KAAG,EAAE,IAAI,GAAEO,EAAE,CAAC,CAAC;AAAE,QAAM,IAAE,EAAE,IAAI,CAAC,EAAER,EAAE,UAASE,GAAEC,GAAEC,CAAC;AAAE,SAAM,EAAC,GAAGJ,GAAE,UAAS,EAAC;AAAC;AAAC,SAASQ,EAAET,GAAE;AAAC,QAAMO,IAAE,CAAA;AAAG,UAAOP,GAAG;AAAA,IAAA,KAAI;AAAoB,aAAM,CAAC,GAAEQ,GAAE,GAAE,MAAIH,EAAEG,GAAED,GAAE,GAAE,GAAE,CAAC;AAAA,IAAE,KAAI;AAAsB,aAAM,CAAC,GAAEC,GAAE,GAAE,MAAIJ,EAAEI,GAAED,GAAE,GAAE,GAAE,CAAC;AAAA,IAAE,KAAI;AAAuB,aAAM,CAAC,GAAEC,GAAE,GAAEJ,MAAID,EAAEK,GAAED,GAAE,GAAE,GAAEH,CAAC;AAAA,IAAE,KAAI;AAAyB,aAAM,CAAC,GAAEI,GAAEL,GAAEC,MAAIF,EAAEM,GAAED,GAAE,GAAEJ,GAAEC,CAAC;AAAA,IAAE;AAAQ,aAAOI,EAAE,UAAU,sCAAsC,EAAE,MAAM,IAAIP,EAAE,kBAAiB,kCAAkCD,CAAC,EAAE,CAAC,GAAE,OAAG;AAAA,EAAC;AAAC;","x_google_ignoreList":[0]}