import{n as y}from"./ref-CeH0N1rX.js";import{cI as H,cO as C}from"./main-DnzmeE4U.js";import{b as W}from"./dom-BYU3NyXf.js";import{n as h}from"./index-KqP5VmvP.js";import{e as w}from"./index-VtdpGf3k.js";const L=2,m=t=>t.reduce((e,o)=>e+o,0)/t.length,q=t=>{const e=t.filter(n=>n.slot!==h.menuActions),o=e?.length;return{actionWidth:o?m(e.map(n=>n.clientWidth||0)):0,actionHeight:o?m(e.map(n=>n.clientHeight||0)):0}},k=({width:t,actionWidth:e,layout:o,height:n,actionHeight:i,groupCount:r})=>{const l=o==="horizontal"?t:n,a=o==="horizontal"?e:i;return Math.floor((l-r*L)/a)},R=({layout:t,actionCount:e,actionWidth:o,width:n,actionHeight:i,height:r,groupCount:l})=>Math.max(e-k({width:n,actionWidth:o,layout:t,height:r,actionHeight:i,groupCount:l}),0),u=t=>Array.from(t.querySelectorAll("calcite-action")).filter(e=>e.closest("calcite-action-menu")?e.slot===w.trigger:!0),S=({actionGroups:t,expanded:e,overflowCount:o})=>{let n=o;t.reverse().forEach(i=>{let r=0;const l=u(i).reverse();l.forEach(a=>{a.slot===h.menuActions&&(a.removeAttribute("slot"),a.textEnabled=e)}),n>0&&l.some(a=>(l.filter(s=>!s.slot).length>1&&l.length>2&&!a.closest("calcite-action-menu")&&(a.textEnabled=!0,a.setAttribute("slot",h.menuActions),r++,r>1&&n--),n<1)),i.manager.component.requestUpdate()})},f={chevronsLeft:"chevrons-left",chevronsRight:"chevrons-right"};function T(t,e){return t||e.closest("calcite-shell-panel")?.position||"start"}function z({el:t,expanded:e}){u(t).filter(o=>o.slot!==h.menuActions).forEach(o=>o.textEnabled=e),t.querySelectorAll("calcite-action-group, calcite-action-menu").forEach(o=>o.expanded=e)}const B=({tooltip:t,referenceElement:e,expanded:o,ref:n})=>(t&&(t.referenceElement=!o&&e?e:null),n&&n(e),e),D=({expanded:t,expandText:e,collapseText:o,expandLabel:n,collapseLabel:i,toggle:r,el:l,position:a,tooltip:s,ref:g,scale:x})=>{const v=W(l)==="rtl",p=t?o:e,E=t?i:n,c=[f.chevronsLeft,f.chevronsRight];v&&c.reverse();const d=T(a,l)==="end",b=d?c[1]:c[0],A=d?c[0]:c[1];return H`<calcite-action .icon=${t?b:A} id=expand-toggle .label=${E} @click=${r} .scale=${x} .text=${p} .textEnabled=${t} title=${(!t&&!s?p:null)??C} ${y($=>B({tooltip:s,referenceElement:$,expanded:t,ref:g}))}></calcite-action>`};export{u as A,z as B,q as D,D as G,R as H,S as k};
