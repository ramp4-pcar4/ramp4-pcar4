{"version":3,"file":"index-CVKk0WAC.js","sources":["../../node_modules/@arcgis/core/geometry/Circle.js","../../node_modules/@arcgis/core/geometry/geometryEngine.js","../../node_modules/@arcgis/core/views/interactive/coordinateHelper.js","../../node_modules/@arcgis/core/views/interactive/editGeometry/unnormalizationHelper.js","../../node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometry.js","../../node_modules/@arcgis/core/views/interactive/editGeometry/interfaces.js","../../node_modules/@arcgis/core/views/interactive/editGeometry/operations/AppendVertex.js","../../node_modules/@arcgis/core/views/interactive/editGeometry/operations/UpdateVertices.js","../../node_modules/@arcgis/core/views/interactive/editGeometry/operations/RemoveVertices.js","../../node_modules/@arcgis/core/views/interactive/editGeometry/operations/SplitEdge.js","../../node_modules/@arcgis/core/views/interactive/editGeometry/operations/SetVertexPosition.js","../../node_modules/@arcgis/core/views/interactive/editGeometry/operations/CloseComponent.js","../../node_modules/@arcgis/core/views/interactive/editGeometry/operations/MoveMesh.js","../../node_modules/@arcgis/core/views/interactive/editGeometry/operations/MoveVertex.js","../../node_modules/@arcgis/core/views/interactive/editGeometry/operations/OffsetEdgeVertex.js","../../node_modules/@arcgis/core/views/interactive/editGeometry/operations/RotateVertex.js","../../node_modules/@arcgis/core/views/interactive/editGeometry/operations/ScaleVertex.js","../../node_modules/@arcgis/core/views/interactive/editGeometry/operations/SetAllVertexPositions.js","../../node_modules/@arcgis/core/views/interactive/editGeometry/operations/UndoGroup.js","../../node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometryOperations.js","../../node_modules/@arcgis/core/layers/graphics/dehydratedFeatureComparison.js","../../node_modules/@arcgis/core/views/interactive/ManipulatorCollection.js","../../node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js","../../node_modules/@arcgis/core/views/interactive/dragEventPipeline.js","../../node_modules/@arcgis/core/views/interactive/snapping/SnappingContext.js","../../node_modules/@arcgis/core/views/interactive/snapping/SnappingOperation.js","../../node_modules/@arcgis/core/core/memoize.js","../../node_modules/@arcgis/core/views/draw/DrawingMode.js","../../node_modules/@arcgis/core/views/draw/DrawManipulator.js","../../node_modules/@arcgis/core/views/interactive/sketch/constraintUtils.js","../../node_modules/@arcgis/core/views/interactive/snapping/SnappingDragPipelineStep.js","../../node_modules/@arcgis/core/views/draw/DrawOperation.js","../../node_modules/@arcgis/core/views/draw/drawSurfaces.js","../../node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js","../../node_modules/@arcgis/core/views/interactive/tooltip/components/directionModeIcons.js","../../node_modules/@arcgis/core/widgets/LayerList/support/layerListUtils.js","../../node_modules/@arcgis/core/widgets/LayerList/ListItemPanel.js","../../node_modules/@arcgis/core/widgets/LayerList/ListItem.js","../../node_modules/@arcgis/core/widgets/support/GridControls/VisibleElements.js","../../node_modules/@arcgis/core/widgets/support/SnappingControls/VisibleElements.js","../../node_modules/@arcgis/core/widgets/support/LabeledSwitch.js","../../node_modules/@arcgis/core/widgets/support/SketchTooltipControls/VisibleElements.js","../../node_modules/@arcgis/core/widgets/support/SketchTooltipControls.js","../../node_modules/@arcgis/core/widgets/LayerList/LayerListViewModel.js","../../node_modules/@arcgis/core/widgets/support/SnappingControls/snappingLayerListUtils.js","../../node_modules/@arcgis/core/widgets/support/SnappingControls/SnappingListItem.js","../../node_modules/@arcgis/core/widgets/support/SnappingControls/SnappingLayerListViewModel.js","../../node_modules/@arcgis/core/widgets/support/SnappingControls/SnappingControlsViewModel.js","../../node_modules/@arcgis/core/widgets/support/SnappingControls.js","../../node_modules/@arcgis/core/widgets/Sketch/VisibleElements.js","../../node_modules/@arcgis/core/widgets/Sketch/support/ResponsiveToolbar/responsiveToolbarUtils.js","../../node_modules/@arcgis/core/widgets/Sketch/support/ResponsiveToolbar/ToolbarGroupBase.js","../../node_modules/@arcgis/core/widgets/Sketch/support/ResponsiveToolbar/MeasuredContentGroup.js","../../node_modules/@arcgis/core/widgets/Sketch/support/ResponsiveToolbar/OverflowGroup.js","../../node_modules/@arcgis/core/widgets/Sketch/support/ResponsiveToolbar/ResponsiveToolbarManager.js","../../node_modules/@arcgis/core/widgets/Sketch/support/ResponsiveToolbar/SplitButton.js","../../node_modules/@arcgis/core/widgets/Sketch/support/ResponsiveToolbar/ResponsiveToolbar.js","../../node_modules/@arcgis/core/views/draw/support/createUtils.js","../../node_modules/@arcgis/core/views/overlay/OutlineOverlayItem.js","../../node_modules/@arcgis/core/views/draw/DrawScreenTool.js","../../node_modules/@arcgis/core/widgets/support/Selector2D/selectorUtils.js","../../node_modules/@arcgis/core/widgets/support/Selector2D/SelectionOperation.js","../../node_modules/@arcgis/core/widgets/support/SelectionToolbar/SelectionToolbarViewModel.js","../../node_modules/@arcgis/core/widgets/support/SelectionToolbar.js","../../node_modules/@arcgis/core/widgets/Sketch.js","../../node_modules/@arcgis/map-components/dist/chunks/useWidget.js","../../node_modules/@arcgis/map-components/dist/components/arcgis-sketch/customElement.js","../../src/fixtures/draw/draw.vue","../../src/fixtures/draw/api/drawApi.ts","../../src/fixtures/draw/lang/lang.csv?raw","../../src/fixtures/draw/index.ts"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{convertUnit as r,isProjectedWKT as t,getMetersPerUnit as s,lengthToDegrees as i}from\"../core/unitUtils.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import{getReferenceEllipsoid as a}from\"./ellipsoidUtils.js\";import n from\"./Point.js\";import p from\"./Polygon.js\";import l from\"./SpatialReference.js\";import{directGeodeticSolver as d}from\"./support/geodesicUtils.js\";import{webMercatorToGeographic as h,geographicToWebMercator as u}from\"./support/webMercatorUtils.js\";import m from\"./support/WKIDUnitConversion.js\";var f;let g=f=class extends p{constructor(e){super(e),this.center=null,this.geodesic=!1,this.numberOfPoints=60,this.radius=1e3,this.radiusUnit=\"meters\"}initialize(){const e=this.center,o=this.numberOfPoints;if(this.hasZ=e?.hasZ??!1,0!==this.rings.length||!e)return;const c=r(this.radius,this.radiusUnit,\"meters\"),n=e.spatialReference;let p,l=\"geographic\";if(n.isWebMercator?l=\"webMercator\":(null!=(n.wkid&&m[n.wkid])||(n.wkt2||n.wkt)&&t(n.wkt2||n.wkt))&&(l=\"projected\"),this.geodesic){let r;switch(l){case\"webMercator\":r=h(e);break;case\"projected\":console.error(\"Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system\");break;case\"geographic\":r=e}p=this._createGeodesicCircle(r,c,o),\"webMercator\"===l&&(p=u(p))}else{let r;\"webMercator\"===l||\"projected\"===l?r=c/s(e.spatialReference):\"geographic\"===l&&(r=i(c,\"meters\",a(e.spatialReference).radius)),p=this._createPlanarCircle(e,r,o)}this.spatialReference=p.spatialReference,this.addRing(p.rings[0])}clone(){const{center:e,numberOfPoints:r,radius:t,radiusUnit:s,geodesic:i}=this;return new f({center:e?.clone(),numberOfPoints:r,radius:t,radiusUnit:s,geodesic:i})}_createGeodesicCircle(e,r,t){const s=[],i=[e.x,e.y];for(let o=0;o<360;o+=360/t){const t=this.hasZ?[0,0,e.z??0]:[0,0];d(t,i,o,r,l.WGS84),s.push(t)}return s.push(s[0]),new p({rings:[s]})}_createPlanarCircle(e,r,t){const s=[],i=2*Math.PI/t;for(let o=0;o<t;++o){const t=i*o,c=[e.x+Math.cos(-t)*r,e.y+Math.sin(-t)*r];this.hasZ&&c.push(e.z??0),s.push(c)}return s.push(s[0]),new p({spatialReference:e.spatialReference,rings:[s]})}};e([o({type:n})],g.prototype,\"center\",void 0),e([o()],g.prototype,\"geodesic\",void 0),e([o()],g.prototype,\"numberOfPoints\",void 0),e([o()],g.prototype,\"radius\",void 0),e([o()],g.prototype,\"radiusUnit\",void 0),g=f=e([c(\"esri.geometry.Circle\")],g);const b=g;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ensureClass as n}from\"../core/accessorSupport/ensureType.js\";import{assertNotMesh as e}from\"./asserts.js\";import{G as r}from\"../chunks/geometryEngineBase.js\";import t from\"./SpatialReference.js\";import{hydratedAdapter as u}from\"./geometryAdapters/hydrated.js\";function i(e){const r=Array.isArray(e)?e[0].spatialReference:e.spatialReference;return r?n(t,r):t.WGS84}function o(n){return r.extendedSpatialReferenceInfo(n)}function c(n,t){return e(n),r.clip(u,i(n),n,t)}function f(n,t){return e(n),r.cut(u,i(n),n,t)}function s(n,t){return e(n),e(t),r.contains(u,i(n),n,t)}function a(n,t){return e(n),e(t),r.crosses(u,i(n),n,t)}function l(n,t,o){return e(n),e(t),r.distance(u,i(n),n,t,o)}function p(n,t){return e(n),e(t),r.equals(u,i(n),n,t)}function m(n,t){return e(n),e(t),r.intersects(u,i(n),n,t)}function d(n,t){return e(n),e(t),r.touches(u,i(n),n,t)}function g(n,t){return e(n),e(t),r.within(u,i(n),n,t)}function h(n,t){return e(n),e(t),r.disjoint(u,i(n),n,t)}function w(n,t){return e(n),e(t),r.overlaps(u,i(n),n,t)}function R(n,t,o){return e(n),e(t),r.relate(u,i(n),n,t,o)}function x(n){return e(n),r.isSimple(u,i(n),n)}function y(n){return e(n),r.simplify(u,i(n),n)}function S(n,e=!1){return r.convexHull(u,i(n),n,e)}function j(n,t){return e(t),r.difference(u,i(n),n,t)}function A(n,t){return e(t),r.symmetricDifference(u,i(n),n,t)}function D(n,t){return e(t),r.intersect(u,i(n),n,t)}function T(n){return r.union(u,i(n),n)}function E(n,e,t,o,c,f){return r.offset(u,i(n),n,e,t,o,c,f)}function J(n,e,t,o=!1){return r.buffer(u,i(n),n,e,t,o)}function L(n,e,t,o,c,f){return r.geodesicBuffer(u,i(n),n,e,t,o,c,f)}function N(n,t,o=!0){return e(n),r.nearestCoordinate(u,i(n),n,t,o)}function O(n,t){return e(n),r.nearestVertex(u,i(n),n,t)}function V(n,t,o,c){return e(n),r.nearestVertices(u,i(n),n,t,o,c)}function v(n){return\"xmin\"in n?\"center\"in n?n.center:null:\"x\"in n?n:\"extent\"in n?n.extent?.center??null:null}function z(n,e,t){if(null==n)throw new M;const u=n.spatialReference;if(null==(t=t??v(n)))throw new M;const i=n.constructor.fromJSON(r.rotate(n,e,t));return i.spatialReference=u,i}function B(n,e){if(null==n)throw new M;const t=n.spatialReference;if(null==(e=e??v(n)))throw new M;const u=n.constructor.fromJSON(r.flipHorizontal(n,e));return u.spatialReference=t,u}function G(n,e){if(null==n)throw new M;const t=n.spatialReference;if(null==(e=e??v(n)))throw new M;const u=n.constructor.fromJSON(r.flipVertical(n,e));return u.spatialReference=t,u}function H(n,t,o,c){return e(n),r.generalize(u,i(n),n,t,o,c)}function I(n,t,o){return e(n),r.densify(u,i(n),n,t,o)}function b(n,t,o,c=0){return e(n),r.geodesicDensify(u,i(n),n,t,o,c)}function k(n,t){return e(n),r.planarArea(u,i(n),n,t)}function q(n,t){return e(n),r.planarLength(u,i(n),n,t)}function C(n,t,o){return e(n),r.geodesicArea(u,i(n),n,t,o)}function P(n,t,o){return e(n),r.geodesicLength(u,i(n),n,t,o)}function W(n,e){return r.intersectLinesToPoints(u,i(n),n,e)}function F(n,e){r.changeDefaultSpatialReferenceTolerance(n,e)}function K(n){r.clearDefaultSpatialReferenceTolerance(n)}class M extends Error{constructor(){super(\"Illegal Argument Exception\")}}export{J as buffer,F as changeDefaultSpatialReferenceTolerance,K as clearDefaultSpatialReferenceTolerance,c as clip,s as contains,S as convexHull,a as crosses,f as cut,I as densify,j as difference,h as disjoint,l as distance,p as equals,o as extendedSpatialReferenceInfo,B as flipHorizontal,G as flipVertical,H as generalize,C as geodesicArea,L as geodesicBuffer,b as geodesicDensify,P as geodesicLength,D as intersect,W as intersectLinesToPoints,m as intersects,x as isSimple,N as nearestCoordinate,O as nearestVertex,V as nearestVertices,E as offset,w as overlaps,k as planarArea,q as planarLength,R as relate,z as rotate,y as simplify,A as symmetricDifference,d as touches,T as union,g as within};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{lerp as e,distance as r,copy as t,equals as a}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{create as i,fromValues as o,fromArray as n}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{i as s,m as u,j as c,c as h,I as p}from\"../../chunks/vec32.js\";import{create as v,fromValues as l,fromArray as y}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{l as d,c as f,e as m}from\"../../chunks/vec42.js\";import{create as T,fromValues as Z,fromArray as _}from\"../../core/libs/gl-matrix-2/factories/vec4f64.js\";import g from\"../../geometry/Point.js\";var x;!function(e){e[e.Z=0]=\"Z\",e[e.M=1]=\"M\"}(x||(x={}));class R{constructor(e){this.spatialReference=e}createVector(){return this._tag(i())}pointToVector(e){return this._tag(o(e.x,e.y))}arrayToVector(e){return this._tag(o(e[0],e[1]))}vectorToArray(e){return[e[0],e[1]]}pointToArray(e){return[e.x,e.y]}vectorToPoint(e,r=new g){return r.x=e[0],r.y=e[1],r.z=void 0,r.m=void 0,r.spatialReference=this.spatialReference,r}arrayToPoint(e,r=new g){return r.x=e[0],r.y=e[1],r.z=void 0,r.m=void 0,r.spatialReference=this.spatialReference,r}vectorToDehydratedPoint(e,r){if(e)return r??={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:\"point\"},r.x=e[0],r.y=e[1],r.z=void 0,r.m=void 0,r.hasZ=!1,r.hasM=!1,r.spatialReference=this.spatialReference,r}lerp(r,t,a,i){return e(i,r,t,a)}addDelta(e,r,t){e[0]+=r,e[1]+=t}distance(e,t){return r(e,t)}getZ(e,r=void 0){return r}hasZ(){return!1}getM(e,r=void 0){return r}hasM(){return!1}clone(e){return this._tag(n(e))}copy(e,r){return t(r,e)}fromXYZ(e){return this._tag(o(e[0],e[1]))}toXYZ(e,r=v()){return s(r,e[0],e[1],0)}pointToXYZ(e,r=v()){return s(r,e.x,e.y,0)}equals(e,r){return a(e,r)}_tag(e){return e}}class M{constructor(e,r){this._valueType=e,this.spatialReference=r}createVector(){return this._tag(v())}pointToVector(e){return this._tag(l(e.x,e.y,this._valueType===x.Z?e.z:e.m))}arrayToVector(e){return this._tag(l(e[0],e[1],e[2]||0))}vectorToArray(e){return[e[0],e[1],e[2]]}pointToArray(e){return this._valueType===x.Z?[e.x,e.y,e.z]:[e.x,e.y,e.m]}vectorToPoint(e,r=new g){return r.x=e[0],r.y=e[1],r.z=this._valueType===x.Z?e[2]:void 0,r.m=this._valueType===x.M?e[2]:void 0,r.spatialReference=this.spatialReference,r}arrayToPoint(e,r=new g){return r.x=e[0],r.y=e[1],r.z=this._valueType===x.Z?e[2]:void 0,r.m=this._valueType===x.M?e[2]:void 0,r.spatialReference=this.spatialReference,r}vectorToDehydratedPoint(e,r){if(!e)return;r??={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:\"point\"};const t=this._valueType===x.Z,a=this._valueType===x.M;return r.x=e[0],r.y=e[1],r.z=t?e[2]:void 0,r.m=a?e[2]:void 0,r.hasZ=t,r.hasM=a,r.spatialReference=this.spatialReference,r}lerp(e,r,t,a){return u(a,e,r,t)}addDelta(e,r,t,a){e[0]+=r,e[1]+=t,this._valueType===x.Z&&(e[2]+=a)}distance(e,t){return this._valueType===x.Z?c(e,t):r(w(e),w(t))}getZ(e,r=void 0){return this._valueType===x.Z?e[2]:r}hasZ(){return this._valueType===x.Z}getM(e,r=void 0){return this._valueType===x.M?e[2]:r}hasM(){return this._valueType===x.M}clone(e){return this._tag(y(e))}copy(e,r){return h(r,e)}fromXYZ(e,r=0,t=0){return this._tag(l(e[0],e[1],this._valueType===x.Z?e.length>2?e[2]:r:t))}toXYZ(e,r=v()){return s(r,e[0],e[1],this._valueType===x.Z?e[2]:0)}pointToXYZ(e,r=v()){return s(r,e.x,e.y,this._valueType===x.Z?e.z??0:0)}equals(e,r){return p(e,r)}_tag(e){return e}}class z{constructor(e){this.spatialReference=e}createVector(){return this._tag(T())}pointToVector(e){return this._tag(Z(e.x,e.y,e.z,e.m))}arrayToVector(e){return this._tag(Z(e[0],e[1],e[2]||0,e[3]||0))}vectorToArray(e){return[e[0],e[1],e[2],e[3]]}pointToArray(e){return[e.x,e.y,e.z,e.m]}vectorToPoint(e,r=new g){return r.x=e[0],r.y=e[1],r.z=e[2],r.m=e[3],r.spatialReference=this.spatialReference,r}arrayToPoint(e,r=new g){return r.x=e[0],r.y=e[1],r.z=e[2],r.m=e[3],r.spatialReference=this.spatialReference,r}vectorToDehydratedPoint(e,r){if(e)return r??={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:\"point\"},r.x=e[0],r.y=e[1],r.z=e[2],r.m=e[3],r.hasZ=!0,r.hasM=!0,r.spatialReference=this.spatialReference,r}lerp(e,r,t,a){return d(a,e,r,t)}addDelta(e,r,t,a){e[0]+=r,e[1]+=t,e[2]+=a}distance(e,r){return c(V(e),V(r))}getZ(e){return e[2]}hasZ(){return!0}getM(e){return e[3]}hasM(){return!0}clone(e){return this._tag(_(e))}copy(e,r){return f(r,e)}fromXYZ(e,r=0,t=0){return this._tag(Z(e[0],e[1],e.length>2?e[2]:r,t))}toXYZ(e,r=v()){return s(r,e[0],e[1],e[2])}pointToXYZ(e,r=v()){return s(r,e.x,e.y,e.z??0)}equals(e,r){return m(e,r)}_tag(e){return e}}function V(e){return e}function w(e){return e}function P(e,r,t){return e&&r?new z(t):r?new M(x.M,t):e?new M(x.Z,t):new R(t)}export{R as CoordinateHelper2D,M as CoordinateHelper3D,z as CoordinateHelper4D,P as createCoordinateHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getInfo as o}from\"../../../geometry/support/spatialReferenceUtils.js\";import{ViewingMode as r}from\"../../ViewingMode.js\";function e(o,r){if(!r.supported)return;let e=1/0,p=-1/0;const n=r.upperBoundX-r.lowerBoundX;o.forEach((o=>{let u=o.pos[0];for(;u<r.lowerBoundX;)u+=n;for(;u>r.upperBoundX;)u-=n;e=Math.min(e,u),p=Math.max(p,u),o.pos[0]=u}));const u=p-e;n-u<u&&o.forEach((o=>{o.pos[0]<0&&(o.pos[0]+=n)}))}function p(e,p){const n=o(e);return p===r.Global&&n?{supported:!0,lowerBoundX:n.valid[0],upperBoundX:n.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}export{p as getUnnormalizationInfo,e as unnormalize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{equals as e}from\"../../../core/arrayUtils.js\";import{neverReached as t}from\"../../../core/compilerUtils.js\";import s from\"../../../core/Evented.js\";import i from\"../../../geometry/Polygon.js\";import r from\"../../../geometry/Polyline.js\";import{createCoordinateHelper as o}from\"../coordinateHelper.js\";import{unnormalize as n,getUnnormalizationInfo as c}from\"./unnormalizationHelper.js\";class h{constructor(e){this.component=e,this.leftEdge=null,this.rightEdge=null,this.type=\"vertex\",this.index=null}get pos(){return this._pos}set pos(e){this._pos=e,this.component.unnormalizeVertexPositions()}}class l{constructor(e,t,s){this.component=e,this.leftVertex=t,this.rightVertex=s,this.type=\"edge\",t.rightEdge=this,s.leftEdge=this}}class a{constructor(e,t){this._spatialReference=e,this._viewingMode=t,this.vertices=[],this.edges=[],this.index=null}unnormalizeVertexPositions(){this.vertices.length<=1||n(this.vertices,c(this._spatialReference,this._viewingMode))}updateVertexIndex(e,t){if(0===this.vertices.length)return;const s=this.vertices[0];let i=null,r=e,o=t;do{i=r,i.index=o++,r=i.rightEdge?i.rightEdge.rightVertex:null}while(null!=r&&r!==s);i.leftEdge&&i!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(i),this.vertices.length-1)}getFirstVertex(){return this.vertices.at(0)}getLastVertex(){return this.vertices.at(-1)}isClosed(){return this.vertices.length>2&&null!==this.vertices[0].leftEdge}swapVertices(e,t){const s=this.vertices[e];this.vertices[e]=this.vertices[t],this.vertices[t]=s}iterateVertices(e){if(0===this.vertices.length)return;const t=this.vertices[0];let s=t;do{e(s,s.index),s=null!=s.rightEdge?s.rightEdge.rightVertex:null}while(s!==t&&null!=s)}}class p extends s{constructor(e,t){super(),this.type=e,this.coordinateHelper=t,this._geometry=null,this._dirty=!0,this.components=[]}get geometry(){if(this._dirty){switch(this.type){case\"point\":this._geometry=this._toPoint();break;case\"polyline\":this._geometry=this._toPolyline();break;case\"polygon\":this._geometry=this._toPolygon();break;case\"mesh\":break;default:t(this.type)}this._dirty=!1}return this._geometry}get spatialReference(){return this.coordinateHelper.spatialReference}get allVertices(){return Array.from(this.iterateVertices())}*iterateVertices(){for(const e of this.components)for(const t of e.vertices)yield t}notifyChanges(e){this._dirty=!0,this.emit(\"change\",e)}_toPoint(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.vectorToPoint(this.components[0].vertices[0].pos)}_toPolyline(){const e=[],t=this.coordinateHelper.vectorToArray;for(const s of this.components){if(s.vertices.length<1)continue;const i=[];let r=s.vertices.find((e=>null==e.leftEdge));const o=r;do{i.push(t(r.pos)),r=r.rightEdge?r.rightEdge.rightVertex:null}while(r&&r!==o);e.push(i)}return new r({paths:e,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}_toPolygon(){const e=[],t=this.coordinateHelper.vectorToArray;for(const s of this.components){if(s.vertices.length<1)continue;const i=[],r=s.vertices[0];let o=r;const n=o;do{i.push(t(o.pos)),o=null!=o.rightEdge?o.rightEdge.rightVertex:null}while(o&&o!==n);s.isClosed()&&i.push(t(r.pos)),e.push(i)}return new i({rings:e,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}static fromGeometry(e,t){const s=e.spatialReference,i=o(e.hasZ,e.hasM,s),r=new p(e.type,i);switch(e.type){case\"polygon\":g(r,e,t);break;case\"polyline\":d(r,e,t);break;case\"point\":u(r,e,t);break;case\"mesh\":u(r,e.origin,t),r._geometry=e,r._dirty=!1}return r}}function g(t,s,i){const r=s.spatialReference,o=t.coordinateHelper,n=s.rings;for(let c=0;c<n.length;++c){const s=n[c],p=new a(r,i);p.index=c;const g=s.length>2&&e(s[0],s[s.length-1]),d=g?s.length-1:s.length;for(let e=0;e<d;++e){const t=o.arrayToVector(s[e]),i=new h(p);p.vertices.push(i),i.pos=t,i.index=e}const u=p.vertices.length-1;for(let e=0;e<u;++e){const t=p.vertices[e],s=p.vertices[e+1],i=new l(p,t,s);p.edges.push(i)}if(g){const e=new l(p,p.vertices[p.vertices.length-1],p.vertices[0]);p.edges.push(e)}t.components.push(p)}}function d(e,t,s){const i=t.spatialReference,r=e.coordinateHelper,o=t.paths;for(let n=0;n<o.length;++n){const t=o[n],c=new a(i,s);c.index=n;const p=t.length;for(let e=0;e<p;++e){const s=r.arrayToVector(t[e]),i=new h(c);c.vertices.push(i),i.pos=s,i.index=e}const g=c.vertices.length-1;for(let e=0;e<g;++e){const t=c.vertices[e],s=c.vertices[e+1],i=new l(c,t,s);c.edges.push(i)}e.components.push(c)}}function u(e,t,s){const i=t.spatialReference,r=e.coordinateHelper,o=new a(i,s);o.index=0;const n=new h(o);n.index=0,n.pos=r.pointToVector(t),o.vertices.push(n),e.components.push(o)}function f(e){return\"mesh\"===e.type}export{a as Component,l as Edge,p as EditGeometry,h as Vertex,f as isMeshEditGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar E;!function(E){E[E.NEW_STEP=0]=\"NEW_STEP\",E[E.ACCUMULATE_STEPS=1]=\"ACCUMULATE_STEPS\"}(E||(E={}));export{E as AccumulationBehavior};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{Vertex as e,Edge as t}from\"../EditGeometry.js\";class i{constructor(e,t,i){this._editGeometry=e,this._component=t,this._pos=i,this._addedVertex=null,this._originalEdge=null,this._left=null,this._right=null}apply(){let i=\"redo\";null==this._addedVertex&&(i=\"apply\",this._addedVertex=new e(this._component));const s=this._component.getLastVertex();if(null==s)this._component.vertices.push(this._addedVertex),this._addedVertex.pos=this._pos,this._addedVertex.index=0;else{let e=null;s.rightEdge&&(this._originalEdge=s.rightEdge,e=this._originalEdge.rightVertex,this._component.edges.splice(this._component.edges.indexOf(this._originalEdge),1)),this._component.vertices.push(this._addedVertex),this._addedVertex.pos=this._pos,null==this._left&&(this._left=new t(this._component,s,this._addedVertex)),this._component.edges.push(this._left),s.rightEdge=this._left,null!=this._originalEdge&&null!=e&&(null==this._right&&(this._right=new t(this._component,this._addedVertex,e)),this._component.edges.push(this._right),e.leftEdge=this._right),this._component.updateVertexIndex(this._addedVertex,s.index+1)}this._editGeometry.notifyChanges({operation:i,addedVertices:[this._addedVertex]})}undo(){null!=this._addedVertex&&(this._component.vertices.splice(this._component.vertices.indexOf(this._addedVertex),1),null!=this._left&&(this._component.edges.splice(this._component.edges.indexOf(this._left),1),this._left.leftVertex.rightEdge=null),null!=this._right&&(this._component.edges.splice(this._component.edges.indexOf(this._right),1),this._right.rightVertex.leftEdge=null),null!=this._originalEdge&&(this._component.edges.push(this._originalEdge),this._originalEdge.leftVertex.rightEdge=this._originalEdge,this._originalEdge.rightVertex.leftEdge=this._originalEdge),null!=this._left?this._component.updateVertexIndex(this._left.leftVertex,this._left.leftVertex.index):this._component.updateVertexIndex(this._addedVertex,0),this._editGeometry.notifyChanges({operation:\"undo\",removedVertices:[this._addedVertex]}))}accumulate(){return!1}}export{i as AppendVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e,i){this._editGeometry=t,this._vertices=e,this.operation=i,this._undone=!1}_notifyChanges(t){this._editGeometry.components.forEach((t=>t.unnormalizeVertexPositions())),this._editGeometry.notifyChanges({operation:t,updatedVertices:this._vertices})}apply(){this._vertices.forEach((t=>this.operation.apply(t))),this._notifyChanges(this._undone?\"redo\":\"apply\")}undo(){this._vertices.forEach((t=>this.operation.undo(t))),this._undone=!0,this._notifyChanges(\"undo\")}canAccumulate(t){if(this._undone||t._vertices.length!==this._vertices.length)return!1;for(let e=0;e<t._vertices.length;++e)if(t._vertices[e]!==this._vertices[e])return!1;return this.operation.canAccumulate(t.operation)}accumulate(e){return!!(e instanceof t&&this.canAccumulate(e))&&(this._vertices.forEach((t=>this.operation.accumulate(t,e.operation))),this.operation.accumulateParams(e.operation),this._notifyChanges(\"apply\"),!0)}}var e;!function(t){t[t.CUMULATIVE=0]=\"CUMULATIVE\",t[t.REPLACE=1]=\"REPLACE\"}(e||(e={}));export{e as AccumulationType,t as UpdateVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{Edge as e}from\"../EditGeometry.js\";class t{constructor(e,t,r=0){this._editGeometry=e,this._vertices=t,this._minNumberOfVertices=r,this.removedVertices=null}apply(){let e=\"redo\";if(null==this.removedVertices){const t=this.removedVertices=[];this._vertices.forEach((e=>{const r=this._removeVertex(e);null!=r&&t.push(r)})),e=\"apply\"}else this.removedVertices.forEach((e=>{this._removeVertex(e.removedVertex)}));this._editGeometry.notifyChanges({operation:e,removedVertices:this._vertices})}undo(){this.removedVertices?.forEach((e=>{this._undoRemoveVertex(e)})),this._editGeometry.notifyChanges({operation:\"undo\",addedVertices:this._vertices})}accumulate(){return!1}_removeVertex(t){const r=t.component;if(r.vertices.length<=this._minNumberOfVertices)return null;const i={removedVertex:t,createdEdge:null},s=t.leftEdge,d=t.rightEdge;return r.vertices.splice(r.vertices.indexOf(t),1),s&&(r.edges.splice(r.edges.indexOf(s),1),s.leftVertex.rightEdge=null),d&&(r.edges.splice(r.edges.indexOf(d),1),d.rightVertex.leftEdge=null),0===t.index&&d&&this._vertices.length>0&&r.swapVertices(r.vertices.indexOf(d.rightVertex),0),s&&d&&(i.createdEdge=new e(r,s.leftVertex,d.rightVertex),r.edges.push(i.createdEdge)),d&&r.updateVertexIndex(d.rightVertex,d.rightVertex.index-1),i}_undoRemoveVertex(e){const t=e.removedVertex,r=e.removedVertex.component,i=t.leftEdge,s=t.rightEdge;e.createdEdge&&r.edges.splice(r.edges.indexOf(e.createdEdge),1),r.vertices.push(t),i&&(r.edges.push(i),i.leftVertex.rightEdge=i),s&&(r.edges.push(s),s.rightVertex.leftEdge=s),r.updateVertexIndex(t,t.index)}}export{t as RemoveVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{Vertex as e,Edge as t}from\"../EditGeometry.js\";class i{constructor(e,t,i){this._editGeometry=e,this._edge=t,this._t=i,this.createdVertex=null,this._left=null,this._right=null}apply(){let i=\"redo\";const r=this._edge,s=r.component,d=r.leftVertex,h=r.rightVertex;s.edges.splice(s.edges.indexOf(r),1),null==this.createdVertex&&(i=\"apply\",this.createdVertex=new e(r.component)),s.vertices.push(this.createdVertex),this.createdVertex.pos=this._editGeometry.coordinateHelper.lerp(r.leftVertex.pos,r.rightVertex.pos,this._t,this._editGeometry.coordinateHelper.createVector()),null==this._left&&(this._left=new t(s,d,this.createdVertex)),this._left.leftVertex.leftEdge?s.edges.push(this._left):s.edges.unshift(this._left),d.rightEdge=this._left,null==this._right&&(this._right=new t(s,this.createdVertex,h)),s.edges.push(this._right),h.leftEdge=this._right,s.updateVertexIndex(this.createdVertex,d.index+1),this._editGeometry.notifyChanges({operation:i,addedVertices:[this.createdVertex]})}undo(){if(null==this.createdVertex||null==this._left||null==this._right)return null;const e=this._edge,t=e.component,i=this.createdVertex.leftEdge,r=this.createdVertex.rightEdge,s=i?.leftVertex,d=r?.rightVertex;t.vertices.splice(t.vertices.indexOf(this.createdVertex),1),t.edges.splice(t.edges.indexOf(this._left),1),t.edges.splice(t.edges.indexOf(this._right),1),this._edge.leftVertex.leftEdge?t.edges.push(this._edge):t.edges.unshift(this._edge),s&&(s.rightEdge=e),d&&(d.leftEdge=e),s&&t.updateVertexIndex(s,s.index),this._editGeometry.notifyChanges({operation:\"undo\",removedVertices:[this.createdVertex]})}accumulate(){return!1}}export{i as SplitEdge};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e,i){this._editGeometry=t,this._vertex=e,this._pos=i}apply(){const t=null==this._originalPosition;t&&(this._originalPosition=this._vertex.pos),this._apply(t?\"apply\":\"redo\")}undo(){this._vertex.pos=this._originalPosition,this._editGeometry.notifyChanges({operation:\"undo\",updatedVertices:[this._vertex]})}accumulate(e){return e instanceof t&&e._vertex===this._vertex&&(this._pos=e._pos,this._apply(\"apply\"),!0)}_apply(t){this._vertex.pos=this._pos,this._editGeometry.components.forEach((t=>t.unnormalizeVertexPositions())),this._editGeometry.notifyChanges({operation:t,updatedVertices:[this._vertex]})}}export{t as SetVertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../../../../core/arrayUtils.js\";import{Edge as t}from\"../EditGeometry.js\";class r{constructor(e,t){this._editGeometry=e,this._component=t,this._createdEdge=null}apply(){let e=\"redo\";if(null==this._createdEdge){e=\"apply\";const r=this._component.getFirstVertex(),i=this._component.getLastVertex();if(this._component.isClosed()||this._component.vertices.length<3||null==r||null==i)return;this._createdEdge=new t(this._component,i,r)}this._createdEdge.leftVertex.rightEdge=this._createdEdge,this._createdEdge.rightVertex.leftEdge=this._createdEdge,this._component.edges.push(this._createdEdge),this._editGeometry.notifyChanges({operation:e})}undo(){null!=this._createdEdge&&(e(this._component.edges,this._createdEdge),this._createdEdge.leftVertex.rightEdge=null,this._createdEdge.rightVertex.leftEdge=null,this._editGeometry.notifyChanges({operation:\"undo\"}))}accumulate(){return!1}}export{r as CloseComponent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e,i,s){this._editGeometry=t,this.dx=e,this.dy=i,this.dz=s,this._firstTime=!0}apply(){const t=this._firstTime?\"apply\":\"redo\";this._firstTime=!1,this._apply(t,this.dx,this.dy,this.dz)}undo(){this._apply(\"undo\",-this.dx,-this.dy,-this.dz)}accumulate(e){const i=this._editGeometry.geometry;return e instanceof t&&e._editGeometry.geometry===i&&(this._apply(\"apply\",e.dx,e.dy,e.dz),this.dx+=e.dx,this.dy+=e.dy,this.dz+=e.dz,!0)}_apply(t,e,i,s){const o=this._editGeometry.geometry;o.offset(e,i,s);const d=this._editGeometry.components[0].getFirstVertex();if(!d)return;const r=this._editGeometry.coordinateHelper;d.pos=r.pointToVector(o.origin),this._editGeometry.notifyChanges({operation:t,updatedVertices:[d]})}}export{t as MoveMesh};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,d,h){this._helper=t,this.dx=s,this.dy=d,this.dz=h}_move(t,s,d,h){this._helper.addDelta(t.pos,s,d,h)}apply(t){this._move(t,this.dx,this.dy,this.dz)}undo(t){this._move(t,-this.dx,-this.dy,-this.dz)}canAccumulate(s){return s instanceof t}accumulate(t,s){this._move(t,s.dx,s.dy,s.dz)}accumulateParams(t){this.dx+=t.dx,this.dy+=t.dy,this.dz+=t.dz}}export{t as MoveVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{clamp as t,deg2rad as i}from\"../../../../core/mathUtils.js\";import{subtract as e,normalize as s,dot as n}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{o as h,i as o,e as a,n as _,h as c,f as l,v as p,g,m as d,I as u,c as m}from\"../../../../chunks/vec32.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as D,fromPositionAndNormal as x,signedDistance as E,copy as b,isPointInside as I,projectPoint as M,getNormal as V,intersectLine as N}from\"../../../../geometry/support/plane.js\";import{angle as X,projectPointSignedLength as Y}from\"../../../../geometry/support/vector.js\";import{intersectLineAndRay as T,LineType as Z}from\"../../../support/geometry2dUtils.js\";class P{get plane(){return this._plane}get requiresSplitEdgeLeft(){return!this._left.isOriginalDirection}get requiresSplitEdgeRight(){return!this._right.isOriginalDirection}get edgeDirection(){return this._edgeDirection}constructor(t,i,e,s=0,n=j.IMMEDIATE){this._helper=t,this._planeType=i,this._edge=e,this.distance=s,this._plane=D(),this._offsetPlane=D(),this._minDistance=-1/0,this._maxDistance=1/0,this._selectedArrow=1,n===j.IMMEDIATE&&this._initialize()}_initialize(){this._initializeNeighbors(),this._initializePlane(),this._initializeDistanceConstraints()}_initializeNeighbors(){const t=this._toXYZ(this._edge.leftVertex.pos),i=this._toXYZ(this._edge.leftVertex.leftEdge?.leftVertex?.pos),e=this._toXYZ(this._edge.rightVertex.pos),s=this._toXYZ(this._edge.rightVertex.rightEdge?.rightVertex?.pos);this._edgeDirection=h(f(),t,e),i?(this._left=this._computeNeighbor(t,i,this._edgeDirection),this._right=this._computeNeighbor(e,s,this._edgeDirection,this._left)):(this._right=this._computeNeighbor(e,s,this._edgeDirection),this._left=this._computeNeighbor(t,i,this._edgeDirection,this._right))}_toXYZ(t){return null!=t?this._helper.toXYZ(t):null}_pointToXYZ(t){return this._toXYZ(this._helper.pointToVector(t))}_computeNeighbor(t,i,e,s){const n=f();if(i){h(n,t,i);const s=!this._passesBisectingAngleThreshold(n,e);return{start:t,end:i,direction:s?this._bisectVectorsPerpendicular(e,n):n,isOriginalDirection:!s}}return this._helper.hasZ()?s&&(a(n,e,s.direction),a(n,n,e),_(n,n),Math.sign(n[1])!==Math.sign(e[0])&&c(n,n,-1)):o(n,-e[1],e[0],0),{start:t,end:i,direction:n,isOriginalDirection:!0}}_passesBisectingAngleThreshold(t,i){const e=Math.abs(X(i,t));return e>=y&&e<=Math.PI-y}_bisectVectorsPerpendicular(t,i){const e=l(t,i)<0?t:p(f(),t),s=Math.abs(l(e,i));if(!(s<A||s>1-A))return this._bisectDirection(e,i);const n=a(f(),e,[0,0,1]);return _(n,n)}_bisectDirection(t,i){const e=g(f(),t,i);return _(e,e)}_initializePlane(){const t=this._computeNormalDirection(this._left),i=this._computeNormalDirection(this._right);l(t,i)<0&&p(i,i),x(this._left.start,this._bisectDirection(t,i),this._plane)}_computeNormalDirection(t){const i=a(f(),t.direction,this._edgeDirection);_(i,i);const e=a(f(),this._edgeDirection,i);return this._planeType===z.XY&&(e[2]=0),_(e,e)}_initializeDistanceConstraints(){null==this._left.end||this.requiresSplitEdgeLeft||this._updateDistanceConstraint(E(this._plane,this._left.end)),null==this._right.end||this.requiresSplitEdgeRight||this._updateDistanceConstraint(E(this._plane,this._right.end)),this._updateIntersectDistanceConstraint(this._plane)}_updateDistanceConstraint(t){t<=0&&(this._minDistance=Math.max(this._minDistance,t)),t>=0&&(this._maxDistance=Math.min(this._maxDistance,t))}_updateIntersectDistanceConstraint(t){const i=V(t),h=this._edgeDirection,o=g(f(),this._left.start,this._left.direction),a=g(f(),this._right.start,this._right.direction),_=this._pointInBasis2D(r(),i,h,this._left.start),l=this._pointInBasis2D(r(),i,h,o),p=this._pointInBasis2D(r(),i,h,this._right.start),d=this._pointInBasis2D(r(),i,h,a),[u]=T({start:l,end:_,type:Z.LINE},{start:d,end:p,type:Z.LINE});if(!u)return;const m=e(r(),_,l);s(m,m);const D=e(r(),u,l),x=n(m,D),b=g(f(),o,c(f(),this._left.direction,-x)),I=E(t,b);this._updateDistanceConstraint(I)}_pointInBasis2D(t,i,e,s){return t[0]=Y(i,s),t[1]=Y(e,s),t}_offset(t,i){Number.isFinite(this._minDistance)&&(i=Math.max(this._minDistance,i)),Number.isFinite(this._maxDistance)&&(i=Math.min(this._maxDistance,i)),b(this._offsetPlane,this._plane),this._offsetPlane[3]-=i;const e=(t,i,e)=>null!=i&&N(this._offsetPlane,t,g(f(),t,i),e),s=f();(t===this._edge.leftVertex?e(this._left.start,this._left.direction,s):e(this._right.start,this._right.direction,s))&&this._helper.copy(this._helper.fromXYZ(s,void 0,this._helper.getM(t.pos)),t.pos)}selectArrowFromStartPoint(t){this._selectedArrow=I(this.plane,this._pointToXYZ(t))?1:-1}get selectedArrow(){return this._selectedArrow}signedDistanceToPoint(t){return E(this.plane,this._pointToXYZ(t))}clampedStartAndEnd(i){const e=this._helper.toXYZ(this._helper.pointToVector(i)),s=M(this._plane,e,f()),n=E(this._plane,e),r=t(n,this._minDistance,this._maxDistance);return d(e,s,e,r/n),{start:s,end:e}}apply(t){this._offset(t,this.distance)}undo(t){this._offset(t,0)}canAccumulate(t){return t instanceof P&&this._edge.leftVertex.index===t._edge.leftVertex.index&&this._edge.rightVertex.index===t._edge.rightVertex.index&&this._edge.component===t._edge.component&&this._maybeEqualsVec3(this._left.direction,t._left.direction)&&this._maybeEqualsVec3(this._right.direction,t._right.direction)&&u(V(this._plane),V(t._plane))}accumulate(t,i){const e=this._plane[3]-i._plane[3]+i.distance;this._offset(t,e)}accumulateParams(t){const i=t.distance-t._plane[3];this.distance=i+this._plane[3]}clone(){const t=new P(this._helper,this._planeType,this._edge,this.distance,j.DEFERRED);return b(t._plane,this._plane),b(t._offsetPlane,this._offsetPlane),t._maxDistance=this._maxDistance,t._minDistance=this._minDistance,t._left=this._cloneNeighbor(this._left),t._right=this._cloneNeighbor(this._right),t._edgeDirection=m(f(),this._edgeDirection),t}_maybeEqualsVec3(t,i){return null==t&&null==i||null!=t&&null!=i&&u(t,i)}_cloneNeighbor({start:t,end:i,direction:e,isOriginalDirection:s}){return{start:m(f(),t),end:null!=i?m(f(),i):null,direction:m(f(),e),isOriginalDirection:s}}}const y=i(15),A=.001;var z,j;!function(t){t[t.XYZ=0]=\"XYZ\",t[t.XY=1]=\"XY\"}(z||(z={})),function(t){t[t.IMMEDIATE=0]=\"IMMEDIATE\",t[t.DEFERRED=1]=\"DEFERRED\"}(j||(j={}));export{P as OffsetEdgeVertex,z as PlaneType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../../core/arrayUtils.js\";import{rotate as a}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{AccumulationType as i}from\"./UpdateVertices.js\";class e{constructor(t,a,e=i.CUMULATIVE){this.origin=t,this.angle=a,this._accumulationType=e}_rotate(t,i){a(t.pos,t.pos,this.origin,i)}apply(t){this._rotate(t,this.angle)}undo(t){this._rotate(t,-this.angle)}canAccumulate(a){return a instanceof e&&t(this.origin,a.origin)}accumulate(t,a){const e=a._accumulationType===i.REPLACE;this._rotate(t,e?a.angle-this.angle:a.angle)}accumulateParams(t){const a=t._accumulationType===i.REPLACE;this.angle=a?t.angle:this.angle+t.angle}}export{e as RotateVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../../core/arrayUtils.js\";import{fromValues as i}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{projectAndScale as s}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{AccumulationType as a}from\"./UpdateVertices.js\";class c{constructor(t,s,c,o,r=a.CUMULATIVE){this.origin=t,this.axis1=s,this.factor1=c,this.factor2=o,this._accumulationType=r,this.axis2=i(s[1],-s[0])}_scale(t,i,a){s(t.pos,t.pos,this.origin,this.axis1,i),s(t.pos,t.pos,this.origin,this.axis2,a)}apply(t){this._scale(t,this.factor1,this.factor2)}undo(t){this._scale(t,1/this.factor1,1/this.factor2)}canAccumulate(i){return i instanceof c&&t(this.origin,i.origin)&&t(this.axis1,i.axis1)}accumulate(t,i){i._accumulationType===a.REPLACE?this._scale(t,i.factor1/this.factor1,i.factor2/this.factor2):this._scale(t,i.factor1,i.factor2)}accumulateParams(t){const i=t._accumulationType===a.REPLACE;this.factor1=i?t.factor1:this.factor1*t.factor1,this.factor2=i?t.factor2:this.factor2*t.factor2}}export{c as ScaleVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass i{constructor(i,t){this._editGeometry=i,this._newPositions=t}apply(){const i=null==this._originalPositions?\"apply\":\"redo\";if(!this._originalPositions){const i=this._editGeometry.coordinateHelper;this._originalPositions=this._editGeometry.allVertices.map((t=>i.clone(t.pos)))}this._apply(i,this._newPositions)}undo(){this._originalPositions&&this._apply(\"undo\",this._originalPositions)}accumulate(t){return t instanceof i&&(this._newPositions=t._newPositions,this._apply(\"apply\",this._newPositions),!0)}_apply(i,t){const o=this._editGeometry.coordinateHelper,s=this._editGeometry.allVertices;for(let e=0;e<s.length;e++)o.copy(t[e],s[e].pos);this._editGeometry.components.forEach((i=>i.unnormalizeVertexPositions())),this._editGeometry.notifyChanges({operation:i,updatedVertices:s})}}export{i as SetAllVertexPositions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar t;const o=Symbol();class s{constructor(o){this._operations=[],this._closed=!1,this[t]=!0,o&&(this._operations=o,this._closed=!0)}close(){this._closed=!0}apply(){for(const t of this._operations)t.apply()}undo(){for(let t=this._operations.length-1;t>=0;t--)this._operations[t].undo()}accumulate(t){if(this._closed)return!1;const o=this._operations.length?this._operations[this._operations.length-1]:null;return o&&o.accumulate(t)||(this._operations.push(t),t.apply()),!0}}t=o;export{s as UndoGroup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Evented.js\";import{makeHandle as e}from\"../../../core/handleUtils.js\";import{clone as r}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{hasCompatibleTopology as s}from\"../../../geometry/support/coordsUtils.js\";import{isMeshEditGeometry as i,EditGeometry as o}from\"./EditGeometry.js\";import{AccumulationBehavior as a}from\"./interfaces.js\";import{AppendVertex as n}from\"./operations/AppendVertex.js\";import{UpdateVertices as p,AccumulationType as c}from\"./operations/UpdateVertices.js\";import{RemoveVertices as h}from\"./operations/RemoveVertices.js\";import{SplitEdge as d}from\"./operations/SplitEdge.js\";import{SetVertexPosition as u}from\"./operations/SetVertexPosition.js\";import{CloseComponent as m}from\"./operations/CloseComponent.js\";import{MoveMesh as l}from\"./operations/MoveMesh.js\";import{MoveVertex as S}from\"./operations/MoveVertex.js\";import{OffsetEdgeVertex as V}from\"./operations/OffsetEdgeVertex.js\";import{RotateVertex as _}from\"./operations/RotateVertex.js\";import{ScaleVertex as f}from\"./operations/ScaleVertex.js\";import{SetAllVertexPositions as y}from\"./operations/SetAllVertexPositions.js\";import{UndoGroup as U}from\"./operations/UndoGroup.js\";class E extends t{constructor(t,e){super(),this.data=t,this.viewingMode=e,this._undoStack=[],this._redoStack=[],this._listener=this.data.on(\"change\",(t=>{t.addedVertices&&this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:t.addedVertices,operation:t.operation}),t.removedVertices&&this.emit(\"vertex-remove\",{type:\"vertex-remove\",vertices:t.removedVertices,operation:t.operation}),t.updatedVertices&&this.emit(\"vertex-update\",{type:\"vertex-update\",vertices:t.updatedVertices,operation:t.operation})}))}destroy(){this._listener.remove()}splitEdge(t,e){return this._apply(new d(this.data,t,e))}updateVertices(t,e,r=a.ACCUMULATE_STEPS){return this._apply(new p(this.data,t,e),r)}move(t,e,r,s=a.ACCUMULATE_STEPS){return i(this.data)?this._apply(new l(this.data,t,e,r),s):this.moveVertices(this.data.allVertices,t,e,r,s)}moveVertices(t,e,r,s,o=a.ACCUMULATE_STEPS){return i(this.data)?this._apply(new l(this.data,e,r,s),o):this.updateVertices(t,new S(this.data.coordinateHelper,e,r,s),o)}scale(t,e,r,s,i=a.ACCUMULATE_STEPS,o=c.CUMULATIVE){return this.scaleVertices(this.data.allVertices,t,e,r,s,i,o)}scaleVertices(t,e,r,s,i,o=a.ACCUMULATE_STEPS,n=c.CUMULATIVE){return this.updateVertices(t,new f(e,r,s,i,n),o)}rotate(t,e,r=a.ACCUMULATE_STEPS,s=c.CUMULATIVE){return this.rotateVertices(this.data.allVertices,t,e,r,s)}rotateVertices(t,e,r,s=a.ACCUMULATE_STEPS,i=c.CUMULATIVE){return this.updateVertices(t,new _(e,r,i),s)}removeVertices(t){return this._apply(new h(this.data,t,this._minNumVerticesPerType))}appendVertex(t){return 0===this.data.components.length?null:this._apply(new n(this.data,this.data.components[0],t))}setVertexPosition(t,e){return this._apply(new u(this.data,t,e))}offsetEdge(t,e,r,s=a.ACCUMULATE_STEPS){return this.updateVertices([e.leftVertex,e.rightVertex],new V(this.data.coordinateHelper,t,e,r),s)}trySetGeometry(t,e=a.ACCUMULATE_STEPS){const{data:r}=this,{coordinateHelper:n}=r;if(r.type!==t.type||!r.spatialReference.equals(t.spatialReference)||n.hasZ()!==t.hasZ||n.hasM()!==t.hasM||!s(r.geometry,t)||i(r))return;const p=Array.from(o.fromGeometry(t,this.viewingMode).iterateVertices(),(t=>t.pos));return this.setVertexPositions(p,e)}setVertexPositions(t,e=a.ACCUMULATE_STEPS){return this._apply(new y(this.data,t),e)}createResetState(){if(i(this.data))return this._createResetStateMesh();const t=this.data.geometry.clone();return e((()=>this.trySetGeometry(t)))}closeComponent(t){return this.data.components.includes(t)?this._apply(new m(this.data,t)):null}canRemoveVertex(t){return t.vertices.length>this._minNumVerticesPerType}createUndoGroup(){const t=new U;return this._apply(t),e((()=>t.close()))}undo(){if(this._undoStack.length>0){const t=this._undoStack.pop();return t.undo(),this._redoStack.push(t),t}return null}redo(){if(this._redoStack.length>0){const t=this._redoStack.pop();return t.apply(),this._undoStack.push(t),t}return null}get canUndo(){return this._undoStack.length>0}get canRedo(){return this._redoStack.length>0}get lastOperation(){return this._undoStack.length>0?this._undoStack[this._undoStack.length-1]:null}get _minNumVerticesPerType(){switch(this.data.type){case\"point\":return 1;case\"polyline\":return 2;case\"polygon\":return 3;default:return 0}}_apply(t,e=a.ACCUMULATE_STEPS){return e!==a.NEW_STEP&&null!=this.lastOperation&&this.lastOperation.accumulate(t)||(t.apply(),this._undoStack.push(t),this._redoStack=[]),t}_createResetStateMesh(){if(!i(this.data))return e();const t=this.data.geometry,{vertexSpace:s}=t;if(s.origin){const i=r(s.origin);return e((()=>{t.vertexSpace.origin=i}))}const o=t.vertexAttributes.clonePositional();return e((()=>{t.vertexAttributes=o,t.vertexAttributesChanged()}))}static fromGeometry(t,e){return new E(o.fromGeometry(t,e),e)}}export{E as EditGeometryOperations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{floatEqualAbsolute as e}from\"../../core/mathUtils.js\";import{equals as n}from\"../../geometry/support/spatialReferenceUtils.js\";function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++){const r=e[t],a=n[t];if(r.length!==a.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==a[e])return!1}return!0}function r(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}function a(e,t){return e===t||null!=e&&null!=t&&n(e.spatialReference,t.spatialReference)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.m===t.m}function i(t,r,a){return t===r||null!=t&&null!=r&&n(t.spatialReference,r.spatialReference)&&e(t.x,r.x,a)&&e(t.y,r.y,a)&&e(t.z??0,r.z??0,a)&&e(t.m??0,r.m??0,a)}function u(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&(!!n(e.spatialReference,t.spatialReference)&&r(e.paths,t.paths))}function l(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&(!!n(e.spatialReference,t.spatialReference)&&r(e.rings,t.rings))}function s(e,r){return e.hasZ===r.hasZ&&e.hasM===r.hasM&&(!!n(e.spatialReference,r.spatialReference)&&t(e.points,r.points))}function f(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&(!!n(e.spatialReference,t.spatialReference)&&(e.xmin===t.xmin&&e.ymin===t.ymin&&e.zmin===t.zmin&&e.xmax===t.xmax&&e.ymax===t.ymax&&e.zmax===t.zmax))}function c(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(e.type!==n.type)return!1;switch(e.type){case\"point\":return a(e,n);case\"extent\":return f(e,n);case\"polyline\":return u(e,n);case\"polygon\":return l(e,n);case\"multipoint\":return s(e,n);case\"mesh\":return!1;default:return}}function o(e,n){if(e===n)return!0;if(!e||!n)return!1;const t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(const a of t)if(e[a]!==n[a])return!1;return!0}function h(e,n){return e===n||null!=e&&null!=n&&e.objectId===n.objectId&&(!!c(e.geometry,n.geometry)&&!!o(e.attributes,n.attributes))}export{h as equals,a as pointEquals,i as pointNear};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Collection.js\";var a;!function(t){t[t.WhenToolEditable=0]=\"WhenToolEditable\",t[t.WhenToolNotEditable=1]=\"WhenToolNotEditable\",t[t.Always=2]=\"Always\"}(a||(a={}));class i{constructor(){this._isToolEditable=!0,this._manipulators=new t,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(t){this._isToolEditable=t}get length(){return this._manipulators.length}add(t,i=a.WhenToolEditable){this.addMany([t],i)}addMany(t,i=a.WhenToolEditable){for(const a of t){const t={manipulator:a,visibilityPredicate:i,attached:!1};this._manipulators.add(t),this._attached&&this._updateManipulatorAttachment(t)}}remove(t){for(let a=0;a<this._manipulators.length;a++)if(this._manipulators.at(a).manipulator===t){const t=this._manipulators.splice(a,1)[0];this._detachManipulator(t);break}}removeAll(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._manipulators.removeAll()}attach(){this._manipulators.forEach((t=>{this._updateManipulatorAttachment(t)})),this._attached=!0}detach(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._attached=!1}destroy(){this.detach(),this._manipulators.forEach((({manipulator:t})=>t.destroy())),this._manipulators.destroy(),this._resourceContexts=null}on(t,a){return this._manipulators.on(t,(t=>{a(t)}))}forEach(t){for(const a of this._manipulators.items)t(a)}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach((a=>t.push(a.manipulator))),t}intersect(t,a){let i=null,e=Number.MAX_VALUE;return this._manipulators.forEach((({manipulator:o,attached:s})=>{if(!s||!o.interactive)return;const r=o.intersectionDistance(t,a);null!=r&&r<e&&(e=r,i=o)})),i}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t)}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0)}_detachManipulator(t){if(!t.attached)return;const a=t.manipulator;a.grabbing=!1,a.dragging=!1,a.hovering=!1,a.selected=!1,a.detach&&a.detach(this._resourceContexts),t.attached=!1}_isManipulatorItemVisible(t){return t.visibilityPredicate===a.Always||(this._isToolEditable?t.visibilityPredicate===a.WhenToolEditable:t.visibilityPredicate===a.WhenToolNotEditable)}}export{i as ManipulatorCollection,a as ManipulatorVisibilityPredicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{EditableFlag as s}from\"./interfaces.js\";import{ManipulatorCollection as r}from\"./ManipulatorCollection.js\";let n=class extends e{constructor(t){super(t),this.manipulators=new r,this.automaticManipulatorSelection=!0,this.hasGrabbedManipulators=!1,this.hasHoveredManipulators=!1,this.firstGrabbedManipulator=null,this.created=!1,this.removeIncompleteOnCancel=!0,this._editableFlags=new Map([[s.MANAGER,!0],[s.USER,!0]]),this._creationFinishedResolver=i()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(t){this._get(\"visible\")!==t&&(this._set(\"visible\",t),this._syncVisible())}get editable(){return this.getEditableFlag(s.USER)}set editable(t){this.setEditableFlag(s.USER,t)}get updating(){return!1}get cursor(){return null}get hasFocusedManipulators(){return this.hasGrabbedManipulators||this.hasHoveredManipulators}destroy(){this.manipulators.destroy(),this._set(\"view\",null)}onAdd(){this._syncVisible()}activate(){null!=this.view&&(this.view.focus(),this.onActivate())}deactivate(){this.onDeactivate()}handleInputEvent(t){this.onInputEvent(t)}handleInputEventAfter(t){this.onInputEventAfter(t)}setEditableFlag(t,e){this._editableFlags.set(t,e),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),t===s.USER&&this.notifyChange(\"editable\"),this.onEditableChange(),this.onManipulatorSelectionChanged()}getEditableFlag(t){return this._editableFlags.get(t)??!1}endDrag(){const t=this.view.inputManager.latestPointerLocation;if(!t)return;let e=!1;this.manipulators.forEach((({manipulator:i})=>{i.dragging&&(e=!0,i.events.emit(\"drag\",{action:\"end\",start:t,screenPoint:t}))})),e&&(this.view.toolViewManager.activeTool=null)}whenCreated(){return this._creationFinishedResolver.promise}onManipulatorSelectionChanged(){}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(s.USER)&&this.getEditableFlag(s.MANAGER)}finishToolCreation(){this.created||this._creationFinishedResolver.resolve(this),this._set(\"created\",!0)}_syncVisible(){if(this.initialized)if(this.visible)this._show();else if(this._hide(),this.active)return void(this.view.activeTool=null)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach()}};t([a({constructOnly:!0})],n.prototype,\"view\",void 0),t([a({readOnly:!0})],n.prototype,\"active\",null),t([a({value:!0})],n.prototype,\"visible\",null),t([a({value:!0})],n.prototype,\"editable\",null),t([a({readOnly:!0})],n.prototype,\"manipulators\",void 0),t([a({readOnly:!0})],n.prototype,\"updating\",null),t([a()],n.prototype,\"cursor\",null),t([a({readOnly:!0})],n.prototype,\"automaticManipulatorSelection\",void 0),t([a()],n.prototype,\"hasFocusedManipulators\",null),t([a()],n.prototype,\"hasGrabbedManipulators\",void 0),t([a()],n.prototype,\"hasHoveredManipulators\",void 0),t([a()],n.prototype,\"firstGrabbedManipulator\",void 0),t([a({readOnly:!0})],n.prototype,\"created\",void 0),t([a({readOnly:!0})],n.prototype,\"removeIncompleteOnCancel\",void 0),n=t([o(\"esri.views.interactive.InteractiveToolBase\")],n);export{n as InteractiveToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{clone as n}from\"../../core/lang.js\";import{clamp as e}from\"../../core/mathUtils.js\";import{createScreenPoint as r}from\"../../core/screenUtils.js\";import{project as a}from\"../../geometry/projection.js\";import{isMeshWithRelativeVertexSpace as o}from\"../../geometry/support/meshVertexSpaceUtils.js\";import{hydratedSpatialReference as l,clonePoint as c}from\"../../layers/graphics/hydratedFeatures.js\";import{getZForElevationMode as s}from\"../../support/elevationInfoUtils.js\";import{EditGeometryOperations as u}from\"./editGeometry/EditGeometryOperations.js\";function i(t,n){let e=null,r=null;return a=>{if(\"cancel\"===a.action)return void(null!=r&&(r.execute({action:\"cancel\"}),e=null,r=null));const o={action:a.action,screenStart:a.start,screenEnd:a.screenPoint};\"start\"===a.action&&null==e&&(e=new w,r=new w,n(t,e,r,a.pointerType,o)),null!=e&&e.execute(o),\"end\"===a.action&&null!=e&&(e=null,r=null)}}function p(t,n){return t.events.on(\"drag\",i(t,n))}function m(t,n){const e=[t.x,t.y,t.z??0],r=n,a=[Math.cos(r),Math.sin(r)],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]);if(0===o)return null;a[0]/=o,a[1]/=o;const l=t=>{const n=(t.x-e[0])*a[0]+(t.y-e[1])*a[1];t.x=e[0]+n*a[0],t.y=e[1]+n*a[1]};return t=>(l(t.mapStart),l(t.mapEnd),{...t,axis:a})}function f(t){let n=null;return e=>{if(\"start\"===e.action&&(n=y(t,e.mapStart.spatialReference)),null==n)return null;const r=e.mapEnd.x-e.mapStart.x,a=e.mapEnd.y-e.mapStart.y,o=(e.mapEnd.z??0)-(e.mapStart.z??0);return n.move(r,a,o,e.action),{...e,translationX:r,translationY:a,translationZ:o}}}function d(t,n){return null==t?null:t.spatialReference.equals(n)?t.clone():a(t,n)}function y(t,n){const e=t.operations;if(!e)return null;const r=e.data.geometry,c=l(n);if(r.spatialReference.equals(c))return x(t,e,(()=>{}));if(\"mesh\"!==r.type){const n=d(r,c);if(null==n)return null;const o=r.spatialReference;return x(t,u.fromGeometry(n,e.viewingMode),(()=>{const t=a(r,o);e.trySetGeometry(t)}))}if(o(r)){const n=d(r.origin,c);if(!n)return null;const o=r.spatialReference,l=u.fromGeometry(n,e.viewingMode);return x(t,e,(()=>{const t=a(l.data.geometry,o),n=t.x-r.origin.x,c=t.y-r.origin.y,s=(t.z??0)-(r.origin.z??0);e.move(n,c,s)}))}return null}function x(t,n,e){let r=0,a=0,o=0;return{move:(l,c,s,u)=>{\"start\"===u&&(r=0,a=0,o=0);const i=l-r,p=c-a,m=s-o;n.move(i,p,m),r+=i,a+=p,o+=m,e(),\"end\"===u&&t.endInteraction?.()}}}function E(t,n=null,e){let r=null;const o=null==n||t.spatialReference?.equals(n)?t=>t:t=>null!=t?a(t,n):t,l={exclude:[],...e};return n=>{if(\"start\"===n.action&&(r=o(t.toMap(n.screenStart,l))),null==r)return null;const e=o(t.toMap(n.screenEnd,l));return null!=e?{...n,mapStart:r,mapEnd:e}:null}}function S(n){const e=n.map((t=>f(t))).filter(t);return t=>{const n=t.mapEnd.x-t.mapStart.x,r=t.mapEnd.y-t.mapStart.y,a=t.mapEnd.z-t.mapStart.z;return e.forEach((n=>n(t))),{...t,translationX:n,translationY:r,translationZ:a}}}function h(t,e){const r=new Map;for(const a of e)r.set(a,n(t[a]));return n=>(r.forEach(((n,e)=>{t[e]=n})),n)}function g(t){const n=t.operations?.createResetState();return t=>(n?.remove(),t)}function z(t){const n=t.map((t=>g(t))).filter((t=>null!=t));return t=>(n.forEach((n=>n(t))),t)}function v(){let t=0,n=0,e=0;return r=>{\"start\"===r.action&&(t=r.mapStart.x,n=r.mapStart.y,e=r.mapStart.z);const a=r.mapEnd.x-t,o=r.mapEnd.y-n,l=r.mapEnd.z-e;return t=r.mapEnd.x,n=r.mapEnd.y,e=r.mapEnd.z,{...r,mapDeltaX:a,mapDeltaY:o,mapDeltaZ:l,mapDeltaSpatialReference:r.mapStart.spatialReference}}}function j(){let t=0,n=0;return e=>{\"start\"===e.action&&(t=e.screenStart.x,n=e.screenStart.y);const r=e.screenEnd.x-t,a=e.screenEnd.y-n;return t=e.screenEnd.x,n=e.screenEnd.y,{...e,screenDeltaX:r,screenDeltaY:a}}}function M(t,n){let a=null,o=0,l=0;return c=>{if(\"start\"===c.action&&(a=t.toScreen?.(n),null!=a&&(a.x<0||a.x>t.width||a.y<0||a.y>t.height?a=null:(o=c.screenStart.x-a.x,l=c.screenStart.y-a.y))),null==a)return null;const s=e(c.screenEnd.x-o,0,t.width),u=e(c.screenEnd.y-l,0,t.height),i=r(s,u);return c.screenStart=a,c.screenEnd=i,c}}const R=()=>{};class w{constructor(){this.execute=R}next(t,n=new w){return null!=t&&(this.execute=e=>{const r=t(e);null!=r&&n.execute(r)}),n}}function D(t,n,e=[]){if(\"2d\"===t.type)return t=>t;let r=null;return a=>{\"start\"===a.action&&(r=t.toMap(a.screenStart,{exclude:e}),null!=r&&(r.z=s(r,t,n)));const o=t.toMap(a.screenEnd,{exclude:e});null!=o&&(o.z=s(o,t,n));const l=null!=r&&null!=o?{sceneStart:r,sceneEnd:o}:null;return{...a,scenePoints:l}}}function G(t,n,e){const r=n.elevationProvider.getElevation(t.x,t.y,t.z??0,t.spatialReference,\"scene\")??0,a=c(t);return a.z=r,a.hasZ=!0,a.z=s(a,n,e),a}function U(t,n){if(\"2d\"===t.type)return t=>t;let e=null;return r=>{\"start\"===r.action&&(e=G(r.mapStart,t,n));const a=G(r.mapEnd,t,n),o=null!=e&&null!=a?{sceneStart:e,sceneEnd:a}:null;return{...r,scenePoints:o}}}export{w as EventPipeline,v as addMapDelta,j as addScreenDelta,m as constrainToMapAxis,i as createDragEventPipelineCallback,p as createManipulatorDragEventPipeline,M as dragAtLocation,f as dragManipulatedObject,S as dragManipulatedObjectMany,g as resetManipulatedObject,z as resetManipulatedObjectMany,h as resetProperties,D as sceneSnappingAtLocation,U as sceneSnappingAtProjectedLocation,E as screenToMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.drawConstraints=null,this.editGeometryOperations=e.editGeometryOperations,this.elevationInfo=e.elevationInfo,this.pointer=e.pointer,this.vertexHandle=e.vertexHandle,this.excludeFeature=e.excludeFeature,this.feature=e.feature,this.visualizer=e.visualizer,this.selfSnappingZ=e.selfSnappingZ,this.drawConstraints=e.drawConstraints}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}get spatialReference(){return this.coordinateHelper.spatialReference}}export{e as SnappingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import{abortMaybe as o,removeMaybe as n}from\"../../../core/maybe.js\";import{debounce as i}from\"../../../core/promiseUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import{TaskPriority as a,ImmediateTask as l}from\"../../support/Scheduler.js\";let p=class extends s{constructor(t){super(t),this.constrainResult=t=>t,this._snapPoints=null,this._frameTask=null,this._abortController=null,this._stagedPoint=null,this._snap=i((async(t,s,o,n)=>{const i=this._frameTask;if(null==i)return;const r=await i.schedule((()=>s.snap({...t,context:o,signal:n})),n);r.valid&&await i.schedule((()=>{this.stagedPoint=r.apply(),t!==this._snapPoints&&null!=this._snapPoints&&(this.stagedPoint=s.update({...this._snapPoints,context:o}))}),n)}))}get stagedPoint(){return this._stagedPoint}set stagedPoint(t){this._stagedPoint=this.constrainResult(t)}initialize(){const t=\"3d\"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=null!=t?t.registerTask(a.SNAPPING):l}destroy(){this._abortController=o(this._abortController),this._frameTask=n(this._frameTask)}update(t,s,o){this._snapPoints=t;const{point:n,scenePoint:i}=t,r=s.update({point:n,scenePoint:i,context:o});return this.stagedPoint=r,r}async snap(t,s,o){const{point:n,scenePoint:i}=t;return this.stagedPoint=s.update({point:n,scenePoint:i,context:o}),this._snapPoints=t,null==this._abortController&&(this._abortController=new AbortController),this._snap(t,s,o,this._abortController.signal)}async snapAgainNearPreviousMapPoint(t,s){null!=this._snapPoints&&await this.snap(this._snapPoints,t,s)}abort(){this._abortController=o(this._abortController),this._snapPoints=null}};t([r({constructOnly:!0})],p.prototype,\"view\",void 0),t([r()],p.prototype,\"stagedPoint\",null),t([r()],p.prototype,\"constrainResult\",void 0),t([r()],p.prototype,\"_stagedPoint\",void 0),p=t([e(\"esri.views.interactive.snapping.SnappingOperation\")],p);export{p as SnappingOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nfunction t(t){let r,e,i=[],u=!1;function f(...f){return u&&r===this&&n(f,i)||(e=t.apply(this,f),r=this,i=f,u=!0),e}return f}function n(t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==n[r])return!1;return!0}export{t as memoize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst c=[\"freehand\",\"hybrid\",\"click\"],e=\"click\";export{e as defaultDrawingMode,c as drawingModes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Evented.js\";class t{constructor({consumesClicks:t,grabbableForEvent:s}){this.events=new e,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.consumesClicks=t,this.grabbableForEvent=s}destroy(){}intersectionDistance(e,t){return 0}attach(){}detach(){}onElevationChange(){}onViewChange(){}}export{t as DrawManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{valueInUnit as e,createLength as n,createAngle as t}from\"../../../core/quantityUtils.js\";import{verticalLengthUnitFromSpatialReference as r,lengthUnitFromSpatialReference as o}from\"../../../core/unitUtils.js\";import{d as i,c as l,g as u}from\"../../../chunks/vec32.js\";import s from\"../../../geometry/SpatialReference.js\";import{projectVectorToVector as c}from\"../../../geometry/projection/projectVectorToVector.js\";import{geodesicCompatibleSpatialReference as a}from\"../../../geometry/support/geodesicUtils.js\";import{makeDehydratedPoint as f}from\"../../../layers/graphics/dehydratedPoint.js\";import{getConvertedElevationFromXYZ as m}from\"../../../support/elevationInfoUtils.js\";import{CoordinateConstraint as d,constraintOrSet as p,VerticalCylinderConstraint as v,HorizontalPlaneConstraint as g,GeodesicConstraint as R,PointConstraint as w,VerticalHalfPlaneConstraint as j}from\"./constraints.js\";import{fromPoint as y,createWritable as h,toElevationAlignedDehydratedPoint as x}from\"./normalizedPoint.js\";import{getDegreesGeographic as S,DirectionMode as I,directionBetweenPoints as U,pointFromDistanceAlongAzimuth as M}from\"../../support/angularMeasurementUtils.js\";function Z(e,n,t,r,o,i){let l=\"geodesic\",u=a(t);const s=h();return y(e,n,r,s),s[2]=0,u&&c(s,t,s,u)||(l=\"euclidean\",u=t),{mode:l,view:n,elevationInfo:r,hasZ:o,directionMode:i,spatialReference:e.spatialReference,measurementSR:u,origin:s}}function b(n,t,r){if(null==t||null==n)return;const i=o(r.measurementSR);if(null==i)return;const l=G(n,r);if(null==l)return;const u=e(t,i);return new v(l,u)}function A(e,n,r,o){if(null==r||null==e)return;const i=G(e,o);if(null==i)return;const l=S(r),u=10,s=e=>{if(null==e)return;const n=h(),r=t(e,\"degrees\",\"geographic\");return M(n,i,o.measurementSR,u,r,o.mode)?new j(i,n):void 0},c=()=>{if(null!=n&&null!=e)return S(U(n,e))};switch(o.directionMode){case I.Absolute:return s(l);case I.Relative:{const e=c();if(null==e)return;return s(e+l)}case I.RelativeBilateral:{const e=c();if(null==e)return;return p([s(e+l),s(e-l)])}}}function B(e,n){const t=C(e,n);return null!=t?new g(t):void 0}function P(e,n,t){const{context:r,longitude:o,latitude:i,direction:l,distance:u,elevation:s}=t;if(null!=o||null!=i||null!=u||null!=s||null!=l){if(null!=o||null!=i){const e=S(o),n=S(i),t=C(s,r);return new d(e,n,t)}return T(e,n,t)}}function T(n,t,{context:r,direction:o,distance:i,elevation:l}){if(null==t)return B(l,r);const{view:u,elevationInfo:s,measurementSR:a}=r,f=y(t,u,s);if(!a||!c(f,t.spatialReference,E,a))return;const[m,d]=E,v=null!=i?e(i,\"meters\"):void 0,g=S(o),j=C(l,r),h=e=>{const n=new R([m,d],a,v,j,e);return null==v||null==e||null==j&&r.hasZ?n:new w(n.closestTo(f))};if(null==g)return h(void 0);const x=()=>{if(null!=n&&null!=t)return S(U(n,t))};switch(r.directionMode){case I.Absolute:return h(g);case I.Relative:{const e=x();if(null==e)return;return h(e+g)}case I.RelativeBilateral:{const e=x();if(null==e)return;return p([h(e+g),h(e-g)])}}}function V(e){return\"geodesic\"===e.context.mode?P(null,null,e):q(e)}function k(e,n,t){const{context:r,x:o,y:i,distance:l,direction:u,elevation:s}=t;return\"geodesic\"===r.mode?P(n,e,t):null!=o||null!=i?q(t):z([b(e,l,r),A(e,n,u,r),B(s,r)])}function q({x:e,y:n,elevation:t,context:r}){J.x=e?.value??0,J.y=n?.value??0,J.spatialReference=r.spatialReference;const o=G(J,r,F);return new d(null!=e&&null!=o?o[0]:void 0,null!=n&&null!=o?o[1]:void 0,C(t,r))}function z(e){let n;for(const t of e)t&&(n=n?.intersect(t)??t);return n}function G(e,n,t=h()){const{view:r,elevationInfo:o,measurementSR:l,origin:u,mode:s}=n;if(y(e,r,o,t),c(t,e.spatialReference,t,l))return\"geodesic\"!==s&&i(t,t,u),t}function W(e,n,t,r){const{view:o,measurementSR:i,spatialReference:s,origin:a,mode:f}=t;if(\"geodesic\"===f?l(H,e):u(H,e,a),c(H,i,H,s))return x(H,o,n,t,r)}function C(e,n){return D(e,n)?.value??void 0}function D(t,{view:o,origin:i,elevationInfo:l,hasZ:u,measurementSR:s}){if(null==t||!u)return;const c=r(s);if(null==c)return;const[a,f]=i,d=e(t,c),p=\"3d\"===o?.type?m(o,a,f,d,s,l):d;return null!=p?n(p,c):void 0}const E=h(),F=h(),H=h(),J=f(0,0,0,s.WGS84);export{W as constraintSpaceToPoint,Z as getConstraintContext,P as getGeodesicConstraint,V as getPointConstraint,k as getPolylineOrPolygonConstraint,z as intersectAll,G as pointToConstraintSpace};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{abortMaybe as n,removeMaybe as e}from\"../../../core/maybe.js\";import{ignoreAbortErrors as t,debounce as o}from\"../../../core/promiseUtils.js\";import{watch as r}from\"../../../core/reactiveUtils.js\";import{pointEquals as i}from\"../../../layers/graphics/dehydratedFeatureComparison.js\";import{clonePoint as l}from\"../../../layers/graphics/hydratedFeatures.js\";import{absoluteHeightElevationInfo as a}from\"../../../support/elevationInfoUtils.js\";import{EventPipeline as s}from\"../dragEventPipeline.js\";import{SnappingContext as u}from\"./SnappingContext.js\";import{TaskPriority as c,ImmediateTask as p}from\"../../support/Scheduler.js\";function f({predicate:o=()=>!0,snappingManager:i,snappingContext:l,updatingHandles:u,useZ:c=!0}){const p=new s;if(null==i)return{snappingStep:[y,p],cancelSnapping:y};let f,Z=null,j=null,z=null;const T=()=>{Z=n(Z),i.doneSnapping(),j?.frameTask.remove(),j=null,f=e(f),z=null},k=d(i,c,p);let w=null,I=null,U=null;return{snappingStep:[n=>{if(!o(n))return n;const{action:e}=n;if(\"start\"===e){const{info:e}=n,t=m(i.view);if(j=g(l,n,t),j.context.selfSnappingZ=null,!c&&null!=e){const n=S(l.coordinateHelper,e.handle.component);null!=n&&(j.context.selfSnappingZ={value:n,elevationInfo:l.elevationInfo??a})}}if(null!=j){const{context:o,originalScenePos:l,originalPos:a}=j,{mapEnd:s,mapStart:p,scenePoints:d}=n,m=x(a,v(s,p)),g=v(p,a),S={...n,action:\"update\"},y=j.context,T=P(l,d),C=i.update({point:m,scenePoint:T,context:o});if(U=C,h(s,C,g,c),w=m,I=T,\"end\"!==e){const{frameTask:n}=j;null==Z&&(Z=new AbortController),z=e=>{u.addPromise(t(k({frameTask:n,event:S,context:y,point:m,scenePoint:T,delta:g,getLastState:()=>({point:w,scenePoint:I,updatePoint:e.forceUpdate?null:U})},Z.signal)))},z({forceUpdate:!1}),null==f&&(f=r((()=>i.options.effectiveEnabled),(()=>z?.({forceUpdate:!0}))))}}return\"end\"===e&&T(),n},p],cancelSnapping:n=>(T(),n)}}function d(n,e,t){return o((async({frameTask:o,point:r,scenePoint:l,context:a,event:s,delta:u,getLastState:c},p)=>{const f=await o.schedule((()=>n.snap({point:r,scenePoint:l,context:a,signal:p})),p);if(f.valid){let l=await o.schedule((()=>f.apply()),p);const d=c();null!=d.point&&r!==d.point&&(l=n.update({point:d.point,scenePoint:d.scenePoint,context:a})),null!=d.updatePoint&&i(l,d.updatePoint)||(h(s.mapEnd,l,u,e),t.execute(s))}}))}function m(n){return\"3d\"===n.type?n.resourceController.scheduler.registerTask(c.SNAPPING):p}function g(n,e,t){return{context:new u({editGeometryOperations:n.editGeometryOperations,elevationInfo:n.elevationInfo,pointer:n.pointer,vertexHandle:null!=e.info?e.info.handle:null,excludeFeature:n.excludeFeature,feature:n.feature,visualizer:n.visualizer}),originalPos:null!=e.snapOrigin?n.coordinateHelper.vectorToDehydratedPoint(e.snapOrigin):e.mapStart,originalScenePos:null!=e.scenePoints?e.scenePoints.sceneStart:null,frameTask:t}}function x(n,[e,t,o]){const r=l(n);return r.x+=e,r.y+=t,r.hasZ&&(r.z+=o),r}function P(n,e){return null==n||null==e?null:x(n,v(e.sceneEnd,e.sceneStart))}function v(n,e){const t=n.hasZ&&e.hasZ?n.z-e.z:0;return[n.x-e.x,n.y-e.y,t]}function h(n,e,[t,o,r],i){n.x=e.x+t,n.y=e.y+o,i&&n.hasZ&&e.hasZ&&(n.z=e.z+r)}function S(n,e){if(!n.hasZ())return null;const t=e.vertices;let o=null;for(const r of t){const e=n.getZ(r.pos);if(null!=o&&null!=e&&Math.abs(e-o)>1e-6)return null;null==o&&(o=e)}return o}function y(n){return n}export{f as createSnapDragEventPipelineStep};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import i from\"../../core/Evented.js\";import{clone as n}from\"../../core/lang.js\";import{destroyMaybe as o,equalsMaybe as r}from\"../../core/maybe.js\";import{memoize as s}from\"../../core/memoize.js\";import{ignoreAbortErrors as a}from\"../../core/promiseUtils.js\";import p from\"../../core/ReactiveSet.js\";import{watch as c,syncAndInitial as l}from\"../../core/reactiveUtils.js\";import{createScreenPoint as d}from\"../../core/screenUtils.js\";import{property as h}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as u}from\"../../core/accessorSupport/decorators/subclass.js\";import{diff as m}from\"../../core/accessorSupport/diffUtils.js\";import{UpdatingHandles as g}from\"../../core/support/UpdatingHandles.js\";import{pointEquals as y,pointNear as _}from\"../../layers/graphics/dehydratedFeatureComparison.js\";import{getEffectiveElevationInfo as v}from\"../../support/elevationInfoUtils.js\";import{ViewingMode as f}from\"../ViewingMode.js\";import{defaultDrawingMode as x}from\"./DrawingMode.js\";import{DrawManipulator as C}from\"./DrawManipulator.js\";import{createCoordinateHelper as b}from\"../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as T,sceneSnappingAtLocation as S}from\"../interactive/dragEventPipeline.js\";import{EditGeometry as P,Component as V}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as w}from\"../interactive/editGeometry/EditGeometryOperations.js\";import{isPoint as O}from\"../interactive/sketch/constraints.js\";import{pointToConstraintSpace as M,constraintSpaceToPoint as D,getPointConstraint as E,getPolylineOrPolygonConstraint as I}from\"../interactive/sketch/constraintUtils.js\";import H from\"../interactive/sketch/SketchLabelOptions.js\";import{SnappingContext as j}from\"../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as G}from\"../interactive/snapping/SnappingDragPipelineStep.js\";import{SnappingOperation as k}from\"../interactive/snapping/SnappingOperation.js\";import{setupSnappingToggleHandles as Z}from\"../interactive/snapping/snappingUtils.js\";const A=\"crosshair\",L=\"progress\",U=Symbol(),z=Symbol();let F=class extends(i.EventedMixin(e)){constructor(t){super(t),this._createOperationCompleted=!1,this._hideDefaultCursor=!1,this._pointerDownStates=new p,this._stagedScreenPoint=null,this._stagedPointerType=null,this._updatingHandles=new g,this._stagedPointerId=null,this.constraintsEnabled=!1,this.constraints=void 0,this._getPointConstraint=s(E),this._getPolylineOrPolygonConstraint=s(I),this.constraintZ=null,this.defaultZ=null,this.isDraped=!0,this.labelOptions=new H,this.cursor=null,this.loading=!1,this.snapToSceneEnabled=null,this.firstVertex=null,this.lastVertex=null,this.secondToLastVertex=null,null==t.elevationInfo&&(this.elevationInfo=v(!!t.hasZ))}initialize(){const{geometryType:t,view:e}=this,i=e.spatialReference,n=\"viewingMode\"in e.state?e.state.viewingMode:f.Local,o=\"segment\"===t||\"multipoint\"===t?\"polyline\":t;this.coordinateHelper=b(this.hasZ,this.hasM,i),this._editGeometryOperations=new w(new P(o,this.coordinateHelper),n),this._snappingOperation=new k({view:e}),this.addHandles([c((()=>({stagedPoint:this._snappingOperation.stagedPoint,constraint:this._constraint})),(({stagedPoint:t,constraint:e},i)=>{const{snappingOptions:n}=this;n&&(n.forceDisabled=null!=e&&O(e));if(null!=i&&t===i.stagedPoint&&e!==i.constraint)return this._onKeyboardBasedChange();this._processCursor(t??this._screenToMap(this._stagedScreenPoint))}),{equals:(t,e)=>t.stagedPoint===e.stagedPoint&&r(t.constraint,e.constraint)}),c((()=>this.view.viewpoint),((t,e)=>{t&&e&&m(t,e)&&this._onKeyboardBasedChange()}))]),this._activeComponent=new V(i,n),this._editGeometryOperations.data.components.push(this._activeComponent);const s=this.segmentLabels;null!=s&&(s.context={view:e,editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,labelOptions:this.labelOptions},this.addHandles(c((()=>this.labelOptions.enabled),(t=>{s.visible=t}),l))),this.addHandles(this._editGeometryOperations.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\"],(t=>{const e=t.vertices.map((t=>({componentIndex:0,vertexIndex:t.index,coordinates:this.coordinateHelper.vectorToArray(t.pos)}))),i=e.map((t=>t.coordinates)),n=this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.getFirstVertex()?.pos)??null;y(n,this.firstVertex)||(this.firstVertex=n);const o=this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.getLastVertex()?.pos)??null;y(o,this.lastVertex)||(this.lastVertex=o);const r=this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.edges.at(-1)?.leftVertex?.pos)??null;switch(y(r,this.secondToLastVertex)||(this.secondToLastVertex=r),this._processCursor(this.cursorVertex),t.type){case\"vertex-add\":this.emit(t.type,{...t,added:i,vertices:e});break;case\"vertex-update\":this.emit(t.type,{...t,updated:i,vertices:e});break;case\"vertex-remove\":this.emit(t.type,{...t,removed:i,vertices:e})}})));const p=this._manipulator=new C({consumesClicks:!1,grabbableForEvent:t=>\"click\"!==this.drawingMode||\"touch\"===t.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size});this.manipulators.add(p),p.grabbable=\"point\"!==t&&\"multipoint\"!==t,this.addHandles([p.events.on(\"immediate-click\",(t=>this._onImmediateClick(t))),p.events.on(\"immediate-double-click\",(t=>this._onImmediateDoubleClick(t))),c((()=>this.drawingMode),(()=>{this.removeHandles(U),this.addHandles(this._createManipulatorDragPipeline(p),U)}),l),c((()=>({effectiveCursor:this.effectiveCursor})),(({effectiveCursor:t})=>{p.cursor=t}),l)]),Z(this,(()=>{const t=this.view.inputManager.latestPointerType??\"mouse\",e=this._getSnappingContext(t);if(null!=this.snappingManager){const t=this._snappingOperation.snapAgainNearPreviousMapPoint(this.snappingManager,e);this._updatingHandles.addPromise(a(t))}}))}destroy(){o(this.segmentLabels),o(this._snappingOperation),this._editGeometryOperations=o(this._editGeometryOperations),this._updatingHandles.destroy()}get _isDragging(){const{_stagedPointerId:t,_manipulator:e}=this;return null!=t&&this._pointerDownStates.has(t)||e.grabbing||!e.interactive}get _snappingEnabled(){return null!=this.snappingManager&&this.snappingManager.options.effectiveEnabled}get _requiresScenePoint(){const t=this._updateAndGetEffectiveDrawSurface();return\"3d\"===this.view.type&&this.drawSurface!==t}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map((t=>this.coordinateHelper.vectorToArray(t.pos)))}get _constraint(){const{constraints:t,constraintsEnabled:e}=this;if(t&&e)switch(this.geometryType){case\"point\":case\"multipoint\":return this._getPointConstraint(t);case\"polygon\":case\"polyline\":return this._getPolylineOrPolygonConstraint(this.lastVertex,this.secondToLastVertex,t)}}set drawingMode(t){this._set(\"drawingMode\",t??x)}get effectiveCursor(){return this.loading?L:this._hideDefaultCursor?null:this.cursor||A}get interactive(){return this._manipulator.interactive}set interactive(t){this._manipulator.interactive=t}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get snappingOptions(){return null!=this.snappingManager?this.snappingManager.options:null}get cursorVertex(){return this._get(\"cursorVertex\")}get visualizationCursorVertex(){return\"mouse\"===this._stagedPointerType?this.cursorVertex:null}get committableVertex(){const{cursorVertex:t,lastVertex:e,firstVertex:i,geometryType:n}=this;return\"polygon\"===n&&_(t,i)||_(t,e)?null:t}get updating(){return this._updatingHandles.updating}get geometryIncludingUncommittedVertices(){const{committedVertices:t,committableVertex:e,coordinateHelper:i}=this,n=t.slice();return null!=e&&n.push(i.pointToArray(e)),n}cancel(){this.complete({aborted:!0})}commitStagedVertex(){this._snappingOperation.abort();const{committableVertex:t}=this;null!=t&&this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(t))}complete(t){const e=t?.aborted||!1;this._snappingOperation.abort(),this.snappingManager?.doneSnapping();const{geometryType:i,numCommittedVertices:n}=this,o=\"multipoint\"===i&&0===n||\"polyline\"===i&&n<2||\"polygon\"===i&&n<3;\"segment\"!==i&&\"point\"!==i||this.commitStagedVertex(),this._createOperationCompleted=!o,(this.isCompleted||e)&&(this._stagedScreenPoint=null,this._stagedPointerId=null,this._stagedPointerType=null,this._processCursor(null),this.emit(\"complete\",{vertices:this.committedVertices.map(((t,e)=>({componentIndex:0,vertexIndex:e,coordinates:t}))),aborted:e,type:\"complete\"}))}onInputEvent(t){switch(t.type){case\"pointer-down\":this._pointerDownStates.add(t.pointerId);break;case\"pointer-up\":this._pointerDownStates.delete(t.pointerId)}switch(t.type){case\"pointer-move\":return this._onPointerMove(t);case\"hold\":return this._onHold(t)}}redo(){this._editGeometryOperations.redo()}undo(){null!=this.snappingManager&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_processCursor(t){const e=n(this.cursorVertex),i=n(t),o=i&&(this._updateAndGetEffectiveDrawSurface()?.constrainZ(i)??i),r=this._snapToClosingVertex(o),s=this._applyConstraints(r);_(e,s)||(this._set(\"cursorVertex\",s),this.segmentLabels?.set(\"stagedVertex\",null!=s?this.coordinateHelper.pointToVector(s):null),null==s||\"mouse\"!==this._stagedPointerType?this.emit(\"cursor-remove\"):this.emit(\"cursor-update\",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(s)}],operation:\"apply\",type:\"vertex-update\"}))}_snapToClosingVertex(t){if(null==t||this._isDragging||\"polygon\"!==this.geometryType||this.numCommittedVertices<=2)return t;const e=this._mapToScreen(t);if(!e)return t;const i=this._activeComponent;return this._vertexWithinPointerDistance(i.vertices[0].pos,e)?this.firstVertex:this._vertexWithinPointerDistance(i.vertices.at(-1).pos,e)?this.lastVertex:t}_createManipulatorDragPipeline(t){switch(this.drawingMode){case\"click\":return this._createManipulatorDragPipelineClick(t);case\"freehand\":return this._createManipulatorDragPipelineFreehand(t);case\"hybrid\":return this._createManipulatorDragPipelineHybrid(t)}}_createManipulatorDragPipelineClick(t){return T(t,((t,e,i,n)=>{const o=\"touch\"===n&&this._snappingEnabled;if(this.isCompleted||!o)return;const{snappingStep:r,cancelSnapping:s}=G({predicate:()=>o,snappingManager:this.snappingManager,snappingContext:new j({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,feature:this.graphic,pointer:n,visualizer:this.snappingVisualizer,drawConstraints:this.constraints}),updatingHandles:this._updatingHandles,useZ:!this._requiresScenePoint});i=i.next((t=>(o&&null!=this.snappingManager&&this.snappingManager.doneSnapping(),t))).next(s),e.next(this._screenToMapDragEventStep()).next((t=>(\"start\"===t.action&&(this._processCursor(t.mapStart),(\"segment\"===this.geometryType||o&&!this.numCommittedVertices)&&this.commitStagedVertex()),t))).next(S(this.view,this.elevationInfo)).next(...r).next((t=>(o&&(this._processCursor(t.mapEnd),\"end\"===t.action&&this.commitStagedVertex()),t))).next((t=>(\"end\"===t.action&&(\"mouse\"!==this._stagedPointerType&&this._snappingOperation.abort(),\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()),t)))}))}_createManipulatorDragPipelineFreehand(t){return T(t,((t,e)=>{this.isCompleted||e.next(this._screenToMapDragEventStep()).next((t=>(\"start\"===t.action&&(this._snappingOperation.abort(),null==this.committableVertex&&this._processCursor(t.mapStart),\"segment\"===this.geometryType&&this.commitStagedVertex()),t))).next((t=>{switch(t.action){case\"start\":case\"update\":this._processCursor(t.mapEnd),\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":this.complete()}return t}))}))}_createManipulatorDragPipelineHybrid(t){return T(t,((t,e)=>{this.isCompleted||e.next(this._screenToMapDragEventStep()).next((t=>(\"start\"===t.action&&(this._snappingOperation.abort(),this.addHandles(this._editGeometryOperations.createUndoGroup(),z),this._processCursor(t.mapStart),this.commitStagedVertex()),t))).next((t=>{switch(t.action){case\"start\":case\"update\":this._processCursor(t.mapEnd),\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":\"mouse\"!==this._stagedPointerType&&this._snappingOperation.abort(),this.removeHandles(z),\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()}return t}))}))}get _drawAtFixedElevation(){const{constraintsEnabled:t,constraintZ:e,geometryType:i,numCommittedVertices:n}=this;return t?null!=e||\"segment\"===i&&n>0:(\"segment\"===i||\"polygon\"===i)&&n>0}_updateAndGetEffectiveDrawSurface(){const{constraintsEnabled:t,coordinateHelper:e,drawSurface:i,elevationDrawSurface:n,snapToSceneEnabled:o}=this;if(null==n)return i;if(!this.hasZ)return n.defaultZ=null,n;const r=this.elevationInfo?.mode;let s=this.defaultZ,a=t||\"absolute-height\"===r;if(null!=o&&(a=o),\"on-the-ground\"===r&&(a=!1),this._drawAtFixedElevation){s=(t?this.constraintZ:null)??e.getZ(this._activeComponent.vertices[0].pos),a=!1}return a?i:(n.defaultZ=s,n)}_mapToScreen(t){return this._updateAndGetEffectiveDrawSurface()?.mapToScreen(t)}_onHold(t){this._snappingOperation.abort(),\"click\"===this.drawingMode&&\"touch\"===t.pointerType&&this._snappingEnabled&&this._processCursor(t.mapPoint),t.stopPropagation()}_onImmediateClick(t){if(!(\"mouse\"===t.pointerType&&2===t.button||this._manipulator.dragging))try{const{drawingMode:e,geometryType:i}=this;this._stagedPointerType=t.pointerType,this._stagedScreenPoint=t.screenPoint;const n=this._screenToMap(t.screenPoint);if(null==n)return;if(null==n||\"freehand\"===e&&\"point\"!==i&&\"multipoint\"!==i)return;if(this._snappingEnabled&&null!=this.cursorVertex||this._processCursor(n),null==this.committableVertex)return void this.complete();this.commitStagedVertex(),\"mouse\"!==t.pointerType&&this._processCursor(null),(\"freehand\"===e&&\"multipoint\"!==this.geometryType||\"point\"===i||\"segment\"===i&&2===this.numCommittedVertices||\"segment\"===i&&\"hybrid\"===e&&1===this.numCommittedVertices)&&this.complete()}finally{t.stopPropagation()}}_onImmediateDoubleClick(t){this._manipulator.dragging||\"point\"===this.geometryType||(this.complete(),t.stopPropagation())}_onPointerMove(t){const e=d(t.x,t.y);this._stagedScreenPoint=e,this._stagedPointerType=t.pointerType,this._stagedPointerId=t.pointerId,this._isDragging?this._snappingOperation.abort():(t.stopPropagation(),this._processCursorMovementRelativeToSurface(e,t.pointerType))}_onKeyboardBasedChange(){\"mouse\"===this._stagedPointerType&&this._stagedScreenPoint&&null!=this._stagedPointerId&&!this._isDragging?this._processCursorMovementRelativeToSurface(this._stagedScreenPoint,this._stagedPointerType):this._snappingOperation.abort()}_processCursorMovementRelativeToSurface(t,e){const i=this._snappingOperation,n=this._screenToMap(t),o=this._requiresScenePoint?this.drawSurface?.screenToMap(t):null;if(null==n)return this._hideDefaultCursor=!0,this._processCursor(null),void i.abort();this._hideDefaultCursor=!1;const r=this.snappingManager;if(null==r)return this._processCursor(n),void i.abort();const s=this._getSnappingContext(e);this._updatingHandles.addPromise(a(i.snap({point:n,scenePoint:o},r,s)))}_applyConstraints(t){const{_constraint:e,constraints:i}=this;if(!t||!i||!e)return t;const{context:n}=i,o=M(t,n),r=o?e.closestTo(o):void 0;if(!r)return t;const s=D(r,t,n),a=\"2d\"===this.view.type||\"absolute-height\"!==n.elevationInfo.mode;return null!=s&&a&&null!=this.constraintZ&&this.hasZ&&(s.z=this.constraintZ),s}_screenToMap(t){return t?this._updateAndGetEffectiveDrawSurface()?.screenToMap(t):null}_screenToMapDragEventStep(){let t=null;return e=>{if(\"start\"===e.action&&(t=this._screenToMap(e.screenStart)),null==t)return null;const i=this._screenToMap(e.screenEnd);return null!=i?{...e,mapStart:t,mapEnd:i}:null}}_vertexWithinPointerDistance(t,e){const i=25,n=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(t));return null!=n&&R(n,e,i)}_getSnappingContext(t){const e=this._drawAtFixedElevation?this.elevationDrawSurface?.defaultZ:null;return new j({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:t,feature:this.graphic,visualizer:this.snappingVisualizer,selfSnappingZ:null!=e?{value:e,elevationInfo:this.elevationInfo}:null,drawConstraints:this.constraints})}};function R(t,e,i){const n=t.x-e.x,o=t.y-e.y;return n*n+o*o<=i}t([h()],F.prototype,\"_hideDefaultCursor\",void 0),t([h()],F.prototype,\"_stagedPointerId\",void 0),t([h()],F.prototype,\"_isDragging\",null),t([h()],F.prototype,\"_snappingOperation\",void 0),t([h()],F.prototype,\"_snappingEnabled\",null),t([h({constructOnly:!0})],F.prototype,\"graphic\",void 0),t([h()],F.prototype,\"constraintsEnabled\",void 0),t([h()],F.prototype,\"constraints\",void 0),t([h()],F.prototype,\"_constraint\",null),t([h()],F.prototype,\"constraintZ\",void 0),t([h()],F.prototype,\"defaultZ\",void 0),t([h()],F.prototype,\"isDraped\",void 0),t([h({value:x})],F.prototype,\"drawingMode\",null),t([h({constructOnly:!0})],F.prototype,\"elevationDrawSurface\",void 0),t([h({constructOnly:!0})],F.prototype,\"elevationInfo\",void 0),t([h({constructOnly:!0,type:H})],F.prototype,\"labelOptions\",void 0),t([h({constructOnly:!0})],F.prototype,\"geometryType\",void 0),t([h({constructOnly:!0})],F.prototype,\"hasM\",void 0),t([h({constructOnly:!0})],F.prototype,\"hasZ\",void 0),t([h()],F.prototype,\"cursor\",void 0),t([h()],F.prototype,\"effectiveCursor\",null),t([h()],F.prototype,\"loading\",void 0),t([h({constructOnly:!0})],F.prototype,\"manipulators\",void 0),t([h({constructOnly:!0})],F.prototype,\"drawSurface\",void 0),t([h({constructOnly:!0})],F.prototype,\"segmentLabels\",void 0),t([h({constructOnly:!0})],F.prototype,\"snappingManager\",void 0),t([h({constructOnly:!0})],F.prototype,\"snappingVisualizer\",void 0),t([h()],F.prototype,\"snapToSceneEnabled\",void 0),t([h({readOnly:!0})],F.prototype,\"cursorVertex\",null),t([h({readOnly:!0})],F.prototype,\"visualizationCursorVertex\",null),t([h()],F.prototype,\"committableVertex\",null),t([h()],F.prototype,\"firstVertex\",void 0),t([h()],F.prototype,\"lastVertex\",void 0),t([h()],F.prototype,\"secondToLastVertex\",void 0),t([h()],F.prototype,\"updating\",null),t([h({constructOnly:!0})],F.prototype,\"view\",void 0),F=t([u(\"esri.views.draw.DrawOperation\")],F);export{F as DrawOperation,A as defaultCursor,L as defaultLoadingCursor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e,createScreenPoint as t}from\"../../core/screenUtils.js\";import s from\"../../geometry/Point.js\";import r from\"../../geometry/SpatialReference.js\";import{makeDehydratedPoint as n}from\"../../layers/graphics/dehydratedPoint.js\";import{clonePoint as i}from\"../../layers/graphics/hydratedFeatures.js\";import{getConvertedElevation as o,getZForElevationMode as a}from\"../../support/elevationInfoUtils.js\";class c{constructor(e,t,s,r=null){this._elevationInfo=e,this.defaultZ=t,this._view=s,this._excludeGraphics=r}screenToMap(t){const{defaultZ:s,_view:r}=this,n=r.sceneIntersectionHelper.intersectElevationFromScreen(e(t.x,t.y),this._elevationInfo,s??0,this._excludeGraphics);return null==s&&null!=n&&(n.z=void 0),n}mapToScreen(e){const t=n(e.x,e.y,o(this._view,e,this._elevationInfo),e.spatialReference);return this._view.toScreen(t)}constrainZ(e){const{defaultZ:t}=this;return null!=t&&e.z!==t&&((e=i(e)).z=t),e}}class l{constructor(e,t,s=[]){this.view=e,this.elevationInfo=t,this.exclude=s}screenToMap(e){const t=this.view.toMap(e,{exclude:this.exclude,excludeLabels:!0});return null!=t&&(t.z=a(t,this.view,this.elevationInfo)),t}mapToScreen(e){let t=e;return null!=this.elevationInfo&&(t=n(e.x,e.y,o(this.view,e,this.elevationInfo),e.spatialReference)),this.view.toScreen(t)}constrainZ(e){return e}}class h{constructor(e,t=!1,s=0){this.view=e,this.hasZ=t,this.defaultZ=s,this.mapToScreen=t=>e.toScreen(t),this.screenToMap=t?t=>{const r=e.toMap(t);return r.z=s,r}:t=>e.toMap(t)}constrainZ(e){const{defaultZ:t}=this;return this.hasZ&&e.z!==t&&((e=i(e)).z=t),e}}class u{screenToMap(e){const{x:t,y:r}=e;return new s({x:t,y:r,spatialReference:u.spatialReference})}mapToScreen(e){return t(e.x,e.y)}constrainZ(e){return e}}u.spatialReference=new r;export{c as ElevationDrawSurface,h as MapDrawSurface,l as SceneDrawSurface,u as ScreenDrawSurface};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/arrayUtils.js\";import{invert as r}from\"../../../core/libs/gl-matrix-2/math/mat2d.js\";import{create as e,clone as s}from\"../../../core/libs/gl-matrix-2/factories/mat2df64.js\";import{rotationTo as a,invert as o}from\"../../../core/libs/gl-matrix-2/math/quat.js\";import{create as i}from\"../../../core/libs/gl-matrix-2/factories/quatf64.js\";import{h as n,f as l,d as h,n as m,e as c,w as f}from\"../../../chunks/vec32.js\";import{create as p}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import d from\"../../../geometry/Point.js\";import{Axis as u}from\"../../../geometry/support/Axis.js\";function w(t,r,e=null){return null!=e?[t,r,e]:[t,r]}function g(t,r,e=null){return null!=e?{x:t,y:r,z:e}:{x:t,y:r}}class R{constructor(t){this.spatialReference=t}mapToLocalMultiple(r){return r.map((t=>this.mapToLocal(t))).filter(t)}get doUnnormalization(){return!1}}class W extends R{constructor(t,a,o=null){super(a),this._defaultZ=o,this.transform=e(),this.transformInv=e(),this.transform=s(t),r(this.transformInv,this.transform)}makeMapPoint(t,r){return w(t,r,this._defaultZ)}mapToLocal(t){return g(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return w(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this._defaultZ)}}class v extends R{constructor(t,r){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=p(),this.tangentFrameUpWS=p(),this.tangentFrameRightWS=p(),this.tangentFrameForwardWS=p(),this.localFrameRightWS=p(),this.localFrameUpWS=p(),this.worldToLocalTransform=i(),this.localToWorldTransform=i(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=r,this.defaultZ=r.hasZ?r.z:null;const e=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,u.X,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,u.Y,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,u.Z,this.tangentFrameForwardWS);const s=p();n(s,this.tangentFrameForwardWS,l(e,this.tangentFrameForwardWS)),h(this.localFrameRightWS,e,s),m(this.localFrameRightWS,this.localFrameRightWS),c(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),a(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),o(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return\"global\"===this.view.viewingMode}makeMapPoint(t,r){return w(t,r,this.defaultZ)}mapToLocal(t){const r=p();this.view.renderCoordsHelper.toRenderCoords(new d({x:t[0],y:t[1],spatialReference:this.spatialReference}),r),f(r,r,this.worldToLocalTransform);const e=this.view.renderCoordsHelper.fromRenderCoords(r,new d({spatialReference:this.view.spatialReference}));return null!=e?g(e.x/this.scale,e.y/this.scale):null}localToMap(t){const r=p();this.view.renderCoordsHelper.toRenderCoords(new d({x:t.x*this.scale,y:t.y*this.scale,spatialReference:this.spatialReference}),r),f(r,r,this.localToWorldTransform);const e=this.view.renderCoordsHelper.fromRenderCoords(r,new d({spatialReference:this.view.spatialReference}));return null!=e?w(e.x,e.y,this.defaultZ):null}}function F(t,r){if(\"2d\"===t.type)return new W(t.state.transform,t.spatialReference,r.length>2?r[2]:null);if(\"3d\"===t.type){const e=r.length>2?new d({x:r[0],y:r[1],z:r[2],spatialReference:t.spatialReference}):new d({x:r[0],y:r[1],spatialReference:t.spatialReference});return new v(t,e)}return null}export{W as AffineCoordinateSystem,v as SceneViewCoordinateSystem,R as SurfaceCoordinateSystem,F as createViewAlignedCoordinateSystem,w as makeMapPoint,g as makeSurfacePoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst e={absolute:\"absolute-direction\",relative:\"relative-direction\"};export{e as directionModeIcons};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst n={hide:\"hide\",hideChildren:\"hide-children\"},i=10,e=2;function t({exclusive:n,visible:i,visibilityAppearance:e}){const t=\"checkbox\"===e;return i?n?\"circle-f\":t?\"check-square-f\":\"view-visible\":n?\"circle\":t?\"square\":\"view-hide\"}function r({connectionStatus:n,publishing:i}){return n?\"connected\"===n?\"beacon\":\"offline\":i?\"square\":\"bullet-point\"}function l(i){return i?.listMode===n.hideChildren}function u(n){return n?.listMode??void 0}function o(n){return null!=n&&\"minScale\"in n&&null!=n.minScale?n.minScale:void 0}function c(n){return null!=n&&\"maxScale\"in n&&null!=n.maxScale?n.maxScale:void 0}function a(n){if(!n)return\"inherited\";const i=S(x(n)?n.layer:n);return null!=i?i?\"independent\":\"inherited\":\"visibilityMode\"in n&&null!=n.visibilityMode?n.visibilityMode:\"independent\"}function s(n){n?.removeMany(n.filter((n=>n?.destroyed)))}function d(n){if(n&&(!(\"type\"in n)||\"wmts\"!==n.type))return\"sublayers\"in n?\"sublayers\":\"layers\"in n?\"layers\":void 0}function f(n,i){n&&(n.filterPredicate=i?n=>i(N(n)):void 0)}function y(n){const i=(n?.layer&&x(n.layer)?n.layer.layer:void 0)??n?.layer;return!!i&&(\"catalog\"!==i.type&&(M(i)??!0))}function p(i){return u(i)!==n.hide}function b(n,i){if(!n||null==i||isNaN(i))return!1;const e=o(n),t=c(n),r=null!=e&&!isNaN(e)&&e>0&&i>e,l=null!=t&&!isNaN(t)&&t>0&&i<t;return r||l}function v(n,i){n?.sort(((n,e)=>{const t=\"uid\"in n?i.indexOf(n.uid):-1,r=\"uid\"in e?i.indexOf(e.uid):-1;return t>r?-1:t<r?1:0}))}function h(n,i){const e=n?.layer;if(!e)return;const t=d(e);if(!t)return;let r;\"layers\"===t&&\"layers\"in e?r=e.layers:\"sublayers\"===t&&\"sublayers\"in e&&(r=e.sublayers),v(r,i)}function m(n){const i=n?.layer;return i&&\"layers\"in i?i.layers:null}function x(n){return null!=n&&\"layer\"in n&&null!=n.layer}function S(n){const i=g(n);return null!=i&&\"supportsSublayerVisibility\"in i?i.supportsSublayerVisibility:void 0}function M(n){const i=g(n);return null!=i&&\"supportsDynamicLayers\"in i?i.supportsDynamicLayers:void 0}function g(n){return n&&\"capabilities\"in n&&null!=n.capabilities&&\"exportMap\"in n.capabilities?n.capabilities.exportMap:void 0}function N(n){return n?.[\"data-item\"]}function q(n){return n?.getAttribute(\"data-layer-type\")}function w(n){const{children:i,error:e}=n,t=\"incompatible\"in n&&n.incompatible;return!!i?.filter((n=>!n.hidden)).length&&!e&&!t}function k(n){for(const i of n)for(const n of i)if(\"button\"===n.type||\"toggle\"===n.type)return n}export{l as areChildrenHidden,p as canDisplayLayer,y as canSortSublayers,u as findLayerListMode,c as findLayerMaxScale,o as findLayerMinScale,a as findLayerVisibilityMode,N as getItem,m as getItemLayers,q as getLayerType,d as getNormalizedChildLayerProperty,k as getSingleAction,r as getStatusIcon,t as getVisibilityIcon,b as isLayerOutsideScaleRange,x as isSublayer,w as listItemHasChildren,e as minDragEnabledItems,i as minFilterItems,s as removeDestroyedListItems,f as setFilterPredicate,h as sortChildLayersToIds,v as sortLayersToIds};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Identifiable.js\";import{destroyMaybe as i}from\"../../core/maybe.js\";import{watch as n,initial as r}from\"../../core/reactiveUtils.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"../Widget.js\";import{isSublayer as d}from\"./support/layerListUtils.js\";import{isWidget as a}from\"../support/widget.js\";import{tsx as p}from\"../support/jsxFactory.js\";let g=class extends(t.IdentifiableMixin(l)){constructor(e,t){super(e,t),this._legend=null,this.className=null,this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.addHandles([n((()=>this._canCreateLegend),(()=>this._createLegend()),r),n((()=>[this._legend,this._legendOptions]),(()=>this._updateLegend()),r)])}destroy(){this._legend=i(this._legend)}get _canCreateLegend(){const{content:e,listItem:t}=this;if(!t)return!1;const i=\"legend\";return e===i||null!=e&&!!Array.isArray(e)&&e.includes(i)}get _legendOptions(){const{listItem:e,_legendLayerInfo:t}=this,i=e?.view;return t&&i?{view:i,layerInfos:[t]}:{}}get _legendLayerInfo(){const e=this.listItem?.layer;if(!e||\"subtype-sublayer\"===e.type)return null;const t=d(e)?e:null,i=e?.parent,n=null!=i&&\"type\"in i&&\"map-image\"===i.type?t?.source:null,r=\"\";return n&&i?{layer:i,title:r,sublayerIds:[n.mapLayerId]}:{layer:e,title:r}}get disabled(){const{listItem:e,_legend:t,content:i}=this;return!e||!(Array.isArray(i)&&i.length>1)&&(!!t&&(!t.activeLayerInfos?.length||!e.visibleAtCurrentScale||!e.visible))}set disabled(e){this._overrideIfSome(\"disabled\",e)}get icon(){const{image:e}=this,t=this._getFirstWidget();return this._get(\"icon\")??(!e&&t?t.icon:null)}set icon(e){this._overrideIfSome(\"icon\",e)}get title(){return this._get(\"title\")||(this._getFirstWidget()?.label??\"\")}set title(e){this._override(\"title\",e)}render(){return p(\"div\",{class:\"esri-list-item-panel\"},this._renderContents())}_renderContent(e){const{_legend:t,disabled:i,open:n}=this;return e&&!i&&n?\"legend\"===e&&t?p(\"div\",{key:\"legend-widget\"},t.render()):\"string\"==typeof e?p(\"div\",{innerHTML:e,key:e}):a(e)?p(\"div\",{key:\"content-widget\"},e.render()):e instanceof HTMLElement?p(\"div\",{afterCreate:this._attachToNode,bind:e,key:\"content-element\"}):null:null}_renderContents(){const{content:e,open:t}=this;return t?Array.isArray(e)?e.map((e=>this._renderContent(e))):this._renderContent(e):null}async _createLegend(){if(i(this._legend),this._legend=null,!this._canCreateLegend)return;const{default:e}=await import(\"../Legend.js\"),t=new e(this._legendOptions);this._legend=t}_attachToNode(e){e.appendChild(this)}_updateLegend(){const e=this._legend;e&&e.set(this._legendOptions)}_getWidget(e){return\"legend\"===e?this._legend:a(e)?e:null}_getFirstWidget(){const{content:e}=this;return Array.isArray(e)?e.map((e=>this._getWidget(e))).find((e=>e)):this._getWidget(e)}};e([s()],g.prototype,\"_legend\",void 0),e([s()],g.prototype,\"_canCreateLegend\",null),e([s()],g.prototype,\"_legendOptions\",null),e([s()],g.prototype,\"_legendLayerInfo\",null),e([s()],g.prototype,\"className\",void 0),e([s()],g.prototype,\"content\",void 0),e([s()],g.prototype,\"disabled\",null),e([s()],g.prototype,\"flowEnabled\",void 0),e([s()],g.prototype,\"icon\",null),e([s()],g.prototype,\"image\",void 0),e([s()],g.prototype,\"listItem\",void 0),e([s()],g.prototype,\"open\",void 0),e([s()],g.prototype,\"title\",null),e([s()],g.prototype,\"visible\",void 0),g=e([o(\"esri.widgets.LayerList.ListItemPanel\")],g);const c=g;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import{isSome as i}from\"../../core/arrayUtils.js\";import s from\"../../core/Collection.js\";import l from\"../../core/Identifiable.js\";import{watch as r,initial as o}from\"../../core/reactiveUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import{cast as a}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/has.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import{get as d}from\"../../core/accessorSupport/get.js\";import p from\"../../support/actions/ActionBase.js\";import c from\"../../support/actions/ActionButton.js\";import u from\"../../support/actions/ActionToggle.js\";import y from\"./ListItemPanel.js\";import{isLayerOutsideScaleRange as b,findLayerVisibilityMode as m,findLayerListMode as v,canDisplayLayer as f,getNormalizedChildLayerProperty as C}from\"./support/layerListUtils.js\";var g;const w=s.ofType({key:\"type\",defaultKeyValue:\"button\",base:p,typeMap:{button:c,toggle:u}}),S=s.ofType(w),_=\"layer\",M=\"child-list-mode\",P=\"hide\";let I=g=class extends(l.IdentifiableMixin(t)){constructor(e){super(e),this.actionsSections=new S,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.children=new(s.ofType(g)),this.childrenSortable=!0,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.open=!1,this.panel=null,this.parent=null,this.view=null}initialize(){if(this.addHandles([r((()=>[this.layer,this.layer?.listMode,this.listModeDisabled]),(()=>this._watchLayerProperties(this.layer)),o),r((()=>this.checkPublishStatusEnabled),(e=>this._updateChildrenPublishing(e)),o),r((()=>this.view),(e=>this._updateChildrenView(e)),o),r((()=>this.panel),(e=>this._setListItemOnPanel(e)),o)]),\"function\"==typeof this.listItemCreatedFunction){const e={item:this};this.listItemCreatedFunction.call(null,e)}}destroy(){this.panel?.destroy(),this.children.destroyAll(),this.view=null}get connectionStatus(){const{layerView:e,publishing:t}=this;if(!t&&e&&\"connectionStatus\"in e)return e.connectionStatus}get error(){return this.layer?.loadError}get incompatible(){const{layerView:e}=this;return!(!e||!(\"spatialReferenceSupported\"in e))&&!e.spatialReferenceSupported}get layerView(){const{layer:e,view:t}=this;if(!e||!t||\"sublayer\"===e.type)return null;const i=\"subtype-sublayer\"===e.type?e.parent:e;return t.allLayerViews.find((e=>e.layer===i))??null}castPanel(e){return this.panel?.open&&!e.hasOwnProperty(\"open\")&&(e.open=!0),e?new y(e):null}get sortable(){return\"knowledge-graph-sublayer\"!==this.layer?.type&&this._get(\"sortable\")}set sortable(e){this._set(\"sortable\",e)}get title(){const e=d(this,\"layer.layer\");return(!e||e&&d(this,\"layer.layer.loaded\"))&&d(this,\"layer.title\")||d(this,\"layer.attributes.title\")||\"\"}set title(e){this._override(\"title\",e)}get publishing(){const{layer:e,checkPublishStatusEnabled:t}=this;return!!(t&&e&&\"publishingInfo\"in e&&\"publishing\"===e.publishingInfo?.status)}get updating(){const{layerView:e,connectionStatus:t,layer:i,publishing:s}=this;return!s&&!t&&(e?e.updating:\"loading\"===i?.loadStatus||!1)}get visible(){return!!this.layer?.visible}set visible(e){const t=this.layer;t&&(t.visible=e)}get visibleAtCurrentScale(){return this.layerView?.visibleAtCurrentScale??!b(this.layer,this.view?.scale)}get visibleAtCurrentTimeExtent(){return this.layerView?.visibleAtCurrentTimeExtent??!0}get visibilityMode(){return m(this.layer)}clone(){return new g({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,children:this.children.clone(),childrenSortable:this.childrenSortable,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,open:this.open,panel:this.panel,parent:this.parent,sortable:this.sortable,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildrenPublishing(e){this.children?.forEach((t=>t.checkPublishStatusEnabled=e))}_updateChildrenView(e){const t=this.children;t&&t.forEach((t=>t.view=e))}_createChildren(e){const{listModeDisabled:t,children:i}=this,s=e.filter((e=>!i.some((t=>t.layer===e))));i.addMany(this._createChildItems(s,t))}_destroyChildren(e){const{children:t}=this,i=t.filter((t=>!!t.layer&&!e.includes(t.layer)));t.destroyMany(i)}_sortChildren(e){this.children.sort(((t,i)=>e.indexOf(i.layer)-e.indexOf(t.layer)))}_destroyAllChildren(){this.removeHandles(M),this.children.destroyAll()}_watchChildLayerListMode(e){this.removeHandles(M),this.listModeDisabled||this.addHandles(e.toArray().map((t=>r((()=>t.listMode),(()=>this._compileChildren(e))))),M)}_compileChildren(e){const t=this.listModeDisabled?e:e?.filter((e=>v(e)!==P));e?.length?(this._createChildren(t),this._destroyChildren(t),this._sortChildren(t),this._watchChildLayerListMode(e)):this._destroyAllChildren()}_watchSublayerChanges(e){e&&this.addHandles(e.on(\"change\",(()=>this._compileChildren(e))),_)}_initializeChildLayers(e){this._compileChildren(e),this._watchSublayerChanges(e)}_createChildItems(e,t){return e.reverse().map((e=>t||f(e)?new g({layer:e,checkPublishStatusEnabled:this.checkPublishStatusEnabled,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,parent:this,view:this.view}):null)).filter(i)}_watchLayerProperties(e){if(this.removeHandles(_),this.removeHandles(M),!e)return;if(\"hide-children\"===(!this.listModeDisabled&&v(e)))return void this.children.destroyAll();const t=C(e);t&&this.addHandles(r((()=>e[t]),(i=>{e.hasOwnProperty(t)&&this._initializeChildLayers(i)}),o),_)}};e([n({type:S})],I.prototype,\"actionsSections\",void 0),e([n()],I.prototype,\"actionsOpen\",void 0),e([n()],I.prototype,\"checkPublishStatusEnabled\",void 0),e([n({type:s.ofType(I)})],I.prototype,\"children\",void 0),e([n()],I.prototype,\"childrenSortable\",void 0),e([n({readOnly:!0})],I.prototype,\"connectionStatus\",null),e([n({readOnly:!0})],I.prototype,\"error\",null),e([n()],I.prototype,\"hidden\",void 0),e([n({readOnly:!0})],I.prototype,\"incompatible\",null),e([n()],I.prototype,\"layer\",void 0),e([n({readOnly:!0})],I.prototype,\"layerView\",null),e([n()],I.prototype,\"listItemCreatedFunction\",void 0),e([n({nonNullable:!0})],I.prototype,\"listModeDisabled\",void 0),e([n()],I.prototype,\"open\",void 0),e([n({type:y})],I.prototype,\"panel\",void 0),e([a(\"panel\")],I.prototype,\"castPanel\",null),e([n()],I.prototype,\"parent\",void 0),e([n({value:!0})],I.prototype,\"sortable\",null),e([n()],I.prototype,\"title\",null),e([n({readOnly:!0})],I.prototype,\"publishing\",null),e([n({readOnly:!0})],I.prototype,\"updating\",null),e([n()],I.prototype,\"view\",void 0),e([n()],I.prototype,\"visible\",null),e([n({readOnly:!0})],I.prototype,\"visibleAtCurrentScale\",null),e([n({readOnly:!0})],I.prototype,\"visibleAtCurrentTimeExtent\",null),e([n({readOnly:!0})],I.prototype,\"visibilityMode\",null),I=g=e([h(\"esri.widgets.LayerList.ListItem\")],I);const O=I;export{O as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";let n=class extends e{constructor(o){super(o),this.colorSelection=!0,this.dynamicScaleToggle=!0,this.gridEnabledToggle=!0,this.numericInputs=!0,this.gridSnapEnabledToggle=!0,this.lineIntervalInput=!0,this.outOfScaleWarning=!0,this.placementButtons=!0,this.rotateWithMapToggle=!0}};o([t({type:Boolean,nonNullable:!0})],n.prototype,\"colorSelection\",void 0),o([t({type:Boolean,nonNullable:!0})],n.prototype,\"dynamicScaleToggle\",void 0),o([t({type:Boolean,nonNullable:!0})],n.prototype,\"gridEnabledToggle\",void 0),o([t({type:Boolean,nonNullable:!0})],n.prototype,\"numericInputs\",void 0),o([t({type:Boolean,nonNullable:!0})],n.prototype,\"gridSnapEnabledToggle\",void 0),o([t({type:Boolean,nonNullable:!0})],n.prototype,\"lineIntervalInput\",void 0),o([t({type:Boolean,nonNullable:!0})],n.prototype,\"outOfScaleWarning\",void 0),o([t({type:Boolean,nonNullable:!0})],n.prototype,\"placementButtons\",void 0),o([t({type:Boolean,nonNullable:!0})],n.prototype,\"rotateWithMapToggle\",void 0),n=o([l(\"esri.widgets.support.GridControls.VisibleElements\")],n);const r=n;export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import r from\"../GridControls/VisibleElements.js\";let s=class extends e{constructor(o){super(o),this.enabledToggle=!0,this.featureEnabledToggle=!0,this.gridEnabledToggle=!0,this.header=!1,this.layerList=!0,this.gridControls=!0,this.gridControlsElements=new r({gridSnapEnabledToggle:!1,gridEnabledToggle:!1}),this.layerListToggleLayersButton=!0,this.selfEnabledToggle=!0}};o([l({type:Boolean,nonNullable:!0})],s.prototype,\"enabledToggle\",void 0),o([l({type:Boolean,nonNullable:!0})],s.prototype,\"featureEnabledToggle\",void 0),o([l({type:Boolean,nonNullable:!0})],s.prototype,\"gridEnabledToggle\",void 0),o([l({type:Boolean,nonNullable:!0})],s.prototype,\"header\",void 0),o([l({type:Boolean,nonNullable:!0})],s.prototype,\"layerList\",void 0),o([l({type:Boolean,nonNullable:!0})],s.prototype,\"gridControls\",void 0),o([l({type:r,nonNullable:!0})],s.prototype,\"gridControlsElements\",void 0),o([l({type:Boolean,nonNullable:!0})],s.prototype,\"layerListToggleLayersButton\",void 0),o([l({type:Boolean,nonNullable:!0})],s.prototype,\"selfEnabledToggle\",void 0),s=o([t(\"esri.widgets.support.SnappingControls.VisibleElements\")],s);const n=s;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{loadCalciteComponents as e}from\"./componentsUtils.js\";import\"./widgetUtils.js\";import{tsx as i}from\"./jsxFactory.js\";const t=()=>e({icon:()=>import(\"@esri/calcite-components/dist/components/calcite-icon\"),label:()=>import(\"@esri/calcite-components/dist/components/calcite-label\"),switch:()=>import(\"@esri/calcite-components/dist/components/calcite-switch\"),tooltip:()=>import(\"@esri/calcite-components/dist/components/calcite-tooltip\")}),n=\"esri-labeled-switch\",c={label:`${n}__label`,labelContent:`${n}__label-content`,iconInfo:`${n}__icon_info`,iconWarning:`${n}__icon_warning`,tooltip:`${n}__tooltip`};function o({checked:e,disabled:t,hint:n,key:o,label:l,onChange:a,hintIcon:s,hintKind:r}){return i(\"calcite-label\",{class:c.label,disabled:t,key:o,layout:\"inline-space-between\",scale:\"s\"},n?i(\"div\",{class:c.labelContent,key:\"label-content\"},i(\"div\",null,l),i(\"calcite-icon\",{class:\"warning\"!==r?c.iconInfo:c.iconWarning,icon:s??\"information\",id:o,scale:\"s\",tabIndex:0}),i(\"calcite-tooltip\",{class:c.tooltip,overlayPositioning:\"fixed\",referenceElement:o},n)):l,i(\"calcite-switch\",{checked:e,disabled:t,scale:\"s\",onCalciteSwitchChange:e=>a(e.currentTarget.checked)}))}export{o as LabeledSwitch,t as loadLabeledSwitchComponents};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";let s=class extends e{constructor(o){super(o),this.directionModePicker=!1,this.header=!1,this.labelsToggle=!0,this.tooltipsToggle=!0}};o([t({type:Boolean,nonNullable:!0})],s.prototype,\"directionModePicker\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"header\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"labelsToggle\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"tooltipsToggle\",void 0),s=o([r(\"esri.widgets.support.SketchTooltipControls.VisibleElements\")],s);const l=s;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{isSome as t}from\"../../core/arrayUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"../../views/interactive/sketch/SketchOptions.js\";import{directionModeIcons as l}from\"../../views/interactive/tooltip/components/directionModeIcons.js\";import n from\"../Widget.js\";import{loadCalciteComponents as r}from\"./componentsUtils.js\";import{globalCss as c}from\"./globalCss.js\";import{loadLabeledSwitchComponents as a,LabeledSwitch as p}from\"./LabeledSwitch.js\";import\"./widgetUtils.js\";import{messageBundle as d}from\"./decorators/messageBundle.js\";import{tsx as b}from\"./jsxFactory.js\";import h from\"./SketchTooltipControls/VisibleElements.js\";const m=\"esri-sketch-tooltip-controls\",u={base:m,block:`${m}__block`,blockContent:`${m}__block-content`,hintIcon:`${m}__hint-icon`,radioButtonLabelWrapper:`${m}__radio-button-label-wrapper`};let g=class extends n{constructor(e,t){super(e,t),this.viewModel=null,this.visibleElements=new h,this.sketchOptions=new s,this.viewType=void 0,this._onTooltipsEnabledChange=e=>{this.sketchOptions.tooltips.enabled=e},this._onLabelsEnabledChange=e=>{this.sketchOptions.labels.enabled=e},this._onDirectionModeChange=e=>{this.sketchOptions.values.directionMode=e.currentTarget.selectedItem.value}}loadDependencies(){return Promise.all([r({block:()=>import(\"@esri/calcite-components/dist/components/calcite-block\"),label:()=>import(\"@esri/calcite-components/dist/components/calcite-label\"),icon:()=>import(\"@esri/calcite-components/dist/components/calcite-icon\"),\"radio-button\":()=>import(\"@esri/calcite-components/dist/components/calcite-radio-button\"),\"radio-button-group\":()=>import(\"@esri/calcite-components/dist/components/calcite-radio-button-group\")}),a()])}render(){const{label:e,visibleElements:t}=this,o=this._renderContent();return b(\"div\",{\"aria-label\":e,class:this.classes(u.base,c.widget)},o?b(\"calcite-block\",{class:u.block,heading:t.header?this.label:\"\",key:\"content-block\",label:this.label,open:!0},b(\"div\",{class:u.blockContent,key:\"content\"},o)):void 0)}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}_renderContent(){const{visibleElements:e,viewType:o}=this,i=[e.tooltipsToggle?this._renderTooltipsToggle():null,e.labelsToggle&&\"2d\"!==o?this._renderLabelsToggle():null,e.directionModePicker?this._renderDirectionModePicker():null].filter(t);return 0===i.length?null:i}_renderTooltipsToggle(){const{messages:e,sketchOptions:t}=this;return b(p,{checked:t.tooltips.effectiveEnabled,hint:e.tooltipsToggleHint,key:`${this.id}__tooltips`,label:e.tooltipsToggle,onChange:this._onTooltipsEnabledChange})}_renderLabelsToggle(){const{messages:e,sketchOptions:t}=this;return b(p,{checked:t.labels.enabled,hint:e.labelsToggleHint,key:`${this.id}__labels`,label:e.labelsToggle,onChange:this._onLabelsEnabledChange})}_renderDirectionModePicker(){const{messages:e,sketchOptions:t}=this,{directionMode:o}=t.values;return b(\"calcite-label\",{key:\"direction-mode\",layout:\"default\",scale:\"s\"},e.directionModePicker,b(\"calcite-radio-button-group\",{key:\"radio-button-group\",layout:\"horizontal\",name:this.id,scale:\"s\",value:o,onCalciteRadioButtonGroupChange:this._onDirectionModeChange},this._renderDirectionModeOption(\"relative\",o,e.directionModeRelative),this._renderDirectionModeOption(\"absolute\",o,e.directionModeAbsolute)))}_renderDirectionModeOption(e,t,o){return b(\"calcite-label\",{key:e,layout:\"inline\",scale:\"s\"},b(\"calcite-radio-button\",{checked:e===t,scale:\"s\",value:e}),b(\"div\",{class:u.radioButtonLabelWrapper,key:\"label-wrapper\"},b(\"calcite-icon\",{icon:l[e],scale:\"s\"}),o))}};e([o()],g.prototype,\"label\",null),e([o({type:h,nonNullable:!0})],g.prototype,\"visibleElements\",void 0),e([o(),d(\"esri/widgets/support/SketchTooltipControls/t9n/SketchTooltipControls\")],g.prototype,\"messages\",void 0),e([o({nonNullable:!0,type:s})],g.prototype,\"sketchOptions\",void 0),e([o({type:String})],g.prototype,\"viewType\",void 0),g=e([i(\"esri.widgets.support.SketchTooltipControls\")],g);const k=g;export{k as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Collection.js\";import s from\"../../core/Evented.js\";import{watch as i,initial as r}from\"../../core/reactiveUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{isLinkChartView as l}from\"../../linkChart/utils.js\";import n from\"./ListItem.js\";import{getItemLayers as d,findLayerListMode as h}from\"./support/layerListUtils.js\";const m={view:\"view\",viewLayers:\"view-layers\",mapLayers:\"map-layers\",layerViews:\"layer-views\",layerListMode:\"layer-list-mode\"},c=\"hide\",p=t.ofType(n);let y=class extends s.EventedAccessor{constructor(e){super(e),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.operationalItems=new p,this.view=null}initialize(){this.addHandles([i((()=>!0===this.view?.ready),(()=>this._viewHandles()),r),i((()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled]),(()=>this._recompileList())),i((()=>l(this.view)?this.view.inGeographicLayout:null),(()=>this._compileList()))],m.view)}destroy(){this._removeAllItems(),this.view=null}get state(){const{view:e}=this;return e?.ready?\"ready\":e?\"loading\":\"disabled\"}get totalItems(){return this.operationalItems.flatten((e=>e.children)).length}triggerAction(e,t){e&&!e.disabled&&this.emit(\"trigger-action\",{action:e,item:t})}moveListItem(e,t,s,i){const r=e?.layer;if(!r||\"subtype-sublayer\"===r.type||\"sublayer\"===r.type)return;const a=this.view?.map?.layers,o=t?d(t):a,l=s?d(s):a;if(!o||!l)return;const{operationalItems:n}=this,h=t?.children||n,m=s?.children||n,c=l.length-i;e.parent=s||null,h.remove(e),o.remove(r),m.includes(e)||m.add(e,c),l.includes(r)||l.add(r,c),this._compileList()}_createLayerViewHandles(e){this.removeHandles(m.layerViews),this._compileList(),e&&this.addHandles(e.on(\"change\",(()=>this._compileList())),m.layerViews)}_createMapLayerHandles(e){this.removeHandles(m.mapLayers),this._compileList(),e&&this.addHandles(e.on(\"change\",(()=>this._compileList())),m.mapLayers)}_createListItem(e){const{view:t,listItemCreatedFunction:s,checkPublishStatusEnabled:i,listModeDisabled:r}=this;return new n({checkPublishStatusEnabled:i,listModeDisabled:r,layer:e,listItemCreatedFunction:s,view:t})}_removeAllItems(){this.operationalItems.destroyAll()}_getViewableLayers(e){return e?this.listModeDisabled?e:e.filter((e=>h(e)!==c)):void 0}_watchLayersListMode(e){this.removeHandles(m.layerListMode),e&&!this.listModeDisabled&&this.addHandles(i((()=>e.filter((e=>\"listMode\"in e)).map((e=>e.listMode)).toArray()),(()=>this._compileList())),m.layerListMode)}_compileList(){const e=this.view?.map?.layers,t=l(this.view)&&!this.view.inGeographicLayout?e?.filter((({type:e})=>\"link-chart\"===e)):e;this._watchLayersListMode(t);const s=this._getViewableLayers(t);s?.length?(this._createNewItems(s),this._removeItems(s),this._sortItems(s)):this._removeAllItems()}_createNewItems(e){const{operationalItems:t}=this;e.forEach((e=>{t.some((t=>t.layer===e))||t.add(this._createListItem(e))}))}_removeItems(e){const{operationalItems:t}=this,s=[];t.forEach((t=>{t&&e&&e.includes(t.layer)||s.push(t)})),t.destroyMany(s)}_sortItems(e){const{operationalItems:t}=this;t.sort(((t,s)=>{const i=e.indexOf(t.layer),r=e.indexOf(s.layer);return i>r?-1:i<r?1:0}))}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){const{view:e}=this;this.removeHandles([m.mapLayers,m.layerViews,m.viewLayers]),e?.ready?this.addHandles([i((()=>this.view?.map?.allLayers),(e=>this._createMapLayerHandles(e)),r),i((()=>this.view?.allLayerViews),(e=>this._createLayerViewHandles(e)),r)],m.viewLayers):this._removeAllItems()}};e([a()],y.prototype,\"checkPublishStatusEnabled\",void 0),e([a()],y.prototype,\"listItemCreatedFunction\",void 0),e([a({nonNullable:!0})],y.prototype,\"listModeDisabled\",void 0),e([a({type:p})],y.prototype,\"operationalItems\",void 0),e([a({readOnly:!0})],y.prototype,\"state\",null),e([a()],y.prototype,\"totalItems\",null),e([a()],y.prototype,\"view\",void 0),y=e([o(\"esri.widgets.LayerList.LayerListViewModel\")],y);const v=y;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getNormalizedChildLayerProperty as e}from\"../../LayerList/support/layerListUtils.js\";const s=e=>t(e)||r(e),t=e=>{if(!(\"type\"in e))return!1;switch(e.type){case\"feature\":case\"geojson\":case\"csv\":case\"graphics\":case\"wfs\":case\"map-notes\":case\"oriented-imagery\":case\"scene\":case\"building-scene\":case\"subtype-sublayer\":return!0;default:return!1}},r=t=>{const r=e(t);if(null!=r&&t.hasOwnProperty(r)&&null!=t[r])for(const e of t[r])if(s(e))return!0;return!1},n=(e,s)=>null!=s&&null!=e&&(s.test(e.title)?\"self\":!!e.children.some((e=>!1!==n(e,s)))&&\"children\");export{s as isValidSnappingLayer,r as isValidSnappingLayerGroup,t as isValidSnappingLayerSource,n as itemTitleMatchesFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{isSome as r}from\"../../../core/arrayUtils.js\";import t from\"../../../core/Collection.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../LayerList/ListItem.js\";import{canDisplayLayer as n}from\"../../LayerList/support/layerListUtils.js\";import{isValidSnappingLayer as a}from\"./snappingLayerListUtils.js\";var l;let p=l=class extends s{constructor(e){super(e),this.children=new t,this.parent=null}get enabled(){const{children:e}=this;if(0===e.length)return null!=this.featureSource&&this.featureSource.enabled?\"enabled\":\"disabled\";let r=!1,t=!1;for(const i of e){if(\"indeterminate\"===i.enabled)return i.enabled;if(\"enabled\"===i.enabled?r=!0:\"disabled\"===i.enabled&&(t=!0),t&&r)return\"indeterminate\"}return t?\"disabled\":\"enabled\"}get childLayerIds(){return this.children.toArray().flatMap((e=>[e.layer?.id,...e.childLayerIds]))}get featureSource(){const{layer:e,getFeatureSnappingSources:r}=this;return r().find((r=>r.layer===e))}_initializeChildLayers(e){if(!e)return;const r=e.filter(a);super._initializeChildLayers(r)}_createChildItems(e){return e.map((e=>n(e)?new l({layer:e,parent:this,view:this.view,getFeatureSnappingSources:this.getFeatureSnappingSources}):null)).filter(r).reverse()}};e([i()],p.prototype,\"enabled\",null),e([i()],p.prototype,\"children\",void 0),e([i()],p.prototype,\"childLayerIds\",null),e([i()],p.prototype,\"featureSource\",null),e([i({constructOnly:!0})],p.prototype,\"getFeatureSnappingSources\",void 0),e([i()],p.prototype,\"parent\",void 0),p=l=e([o(\"esri.widgets.support.SnappingControls.SnappingListItem\")],p);export{p as SnappingListItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Collection.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../LayerList/LayerListViewModel.js\";import{isValidSnappingLayer as i}from\"./snappingLayerListUtils.js\";import{SnappingListItem as p}from\"./SnappingListItem.js\";let a=class extends o{constructor(){super(...arguments),this.featureSnappingSources=new t}get operationalItemsFlat(){return this.operationalItems.flatten((e=>e.children))}get selectableItems(){return this.operationalItemsFlat.filter((e=>!e.children?.length))}_compileList(){const e=this.view?.map?.layers;if(!e)return;const t=e.filter(i);this._watchLayersListMode(t);const r=this._getViewableLayers(t);r?.length?(this._createNewItems(r),this._removeItems(r),this._sortItems(r)):this._removeAllItems()}_createListItem(e){return new p({layer:e,view:this.view,getFeatureSnappingSources:()=>this.featureSnappingSources})}};e([r()],a.prototype,\"featureSnappingSources\",void 0),e([r()],a.prototype,\"operationalItems\",void 0),e([r()],a.prototype,\"operationalItemsFlat\",null),e([r()],a.prototype,\"selectableItems\",null),a=e([s(\"esri.widgets.support.SnappingControls.SnappingLayerListViewModel\")],a);export{a as SnappingLayerListViewModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import t from\"../../../core/Error.js\";import{watch as i,initial as o}from\"../../../core/reactiveUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../views/interactive/snapping/FeatureSnappingLayerSource.js\";import p from\"../../../views/interactive/snapping/SnappingOptions.js\";import{canDisplayLayer as l}from\"../../LayerList/support/layerListUtils.js\";import{SnappingLayerListViewModel as d}from\"./SnappingLayerListViewModel.js\";let c=class extends r{constructor(e){super(e),this.layerListViewModel=new d,this.snappingOptions=new p,this.view=null}initialize(){this.addHandles([i((()=>({viewModel:this.layerListViewModel,view:this.view})),(({viewModel:e,view:r})=>{e.view=r}),o),i((()=>({viewModel:this.layerListViewModel,sources:this.snappingOptions?.featureSources})),(({viewModel:e,sources:r})=>{e.featureSnappingSources=r}),o)])}get allLayersEnabled(){return(this.layerListViewModel?.selectableItems??[]).every((e=>\"enabled\"===e.enabled))}get allLayersDisabled(){return(this.layerListViewModel?.selectableItems??[]).every((e=>!e.enabled))}get layersEnabledCount(){return this.layerListViewModel?.selectableItems?.filter((e=>\"enabled\"===e.enabled)).length??0}get state(){return this.snappingOptions?\"ready\":\"disabled\"}toggleSnappingForLayers(e,r){e?.forEach((e=>r?this.enableSnappingForLayer(e):this.disableSnappingForLayer(e)))}toggleSnappingForAllLayers(e){this.layerListViewModel.selectableItems.forEach((({layer:r})=>{const t=r?.id;e?this.enableSnappingForLayer(t):this.disableSnappingForLayer(t)}))}enableSnappingForLayer(e){const r=this._findSnappingSourceForLayer(e)??this._makeSnappingSourceForLayer(e);r&&(r.enabled=!0)}disableSnappingForLayer(e){const r=this._findSnappingSourceForLayer(e);r&&(r.enabled=!1)}updateEnabledFeatureSources(e){for(const r of this.snappingOptions.featureSources)l(r.layer)&&(r.enabled=e.includes(r.layer.id))}_findSnappingSourceForLayer(e){return this.snappingOptions.featureSources.find((r=>r.layer.id===e))}_makeSnappingSourceForLayer(e){const r=this.layerListViewModel.operationalItemsFlat.find((r=>r.layer?.id===e))?.layer;if(!r)throw new t(\"snapping-controls:layer-not-found\",`cannot enable snapping for layer with id ${e} because no such layer was found in the view`);if(\"group\"===r.type)return;const i=new n({layer:r});return this.snappingOptions.featureSources.add(i),i}};e([s()],c.prototype,\"allLayersEnabled\",null),e([s()],c.prototype,\"allLayersDisabled\",null),e([s({constructOnly:!0})],c.prototype,\"layerListViewModel\",void 0),e([s()],c.prototype,\"layersEnabledCount\",null),e([s({type:p,nonNullable:!0})],c.prototype,\"snappingOptions\",void 0),e([s()],c.prototype,\"state\",null),e([s()],c.prototype,\"view\",void 0),c=e([a(\"esri.widgets.support.SnappingControls.SnappingControlsViewModel\")],c);const y=c;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{isSome as t}from\"../../core/arrayUtils.js\";import{createTask as i}from\"../../core/asyncUtils.js\";import{destroyMaybe as s}from\"../../core/maybe.js\";import{watch as l}from\"../../core/reactiveUtils.js\";import{generateUID as n}from\"../../core/uid.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"../Widget.js\";import{loadCalciteComponents as d}from\"./componentsUtils.js\";import{globalCss as p}from\"./globalCss.js\";import{loadLabeledSwitchComponents as c,LabeledSwitch as g}from\"./LabeledSwitch.js\";import{setFocus as h}from\"./widgetUtils.js\";import{messageBundle as m}from\"./decorators/messageBundle.js\";import{tsx as b}from\"./jsxFactory.js\";import u from\"./SnappingControls/SnappingControlsViewModel.js\";import{itemTitleMatchesFilter as y}from\"./SnappingControls/snappingLayerListUtils.js\";import _ from\"./SnappingControls/VisibleElements.js\";const L=\"esri-snapping-controls\",w={base:L,container:`${L}__container`,item:`${L}__item`,toggleBlock:`${L}__toggle-block`,layerListBlock:`${L}__layer-list-block`,layerList:`${L}__layer-list`,layerListFilter:`${L}__layer-list__filter`,layerListButton:`${L}__layer-list__button`,layerListItem:`${L}__layer-list__item`,layerListGroup:`${L}__layer-list__group`,nestedContainer:`${L}__nested-container`};let v=class extends r{constructor(e,t){super(e,t),this._defaultViewModel=null,this._layerListFilter=null,this._gridLoadTask=null,this.layerListOpen=!0,this.gridOptionsOpen=!1,this.messages=null,this.messagesCommon=null,this.snappingManager=null,this.visibleElements=new _,this._enableSnappingSwitchChange=e=>{this.snappingOptions.enabled=e},this._featureEnabledSwitchChange=e=>{this.snappingOptions.featureEnabled=e},this._gridEnabledSwitchChange=e=>{this.snappingOptions.gridEnabled=e,e&&this._startLoadGrid()},this._selfEnabledSwitchChange=e=>{this.snappingOptions.selfEnabled=e},this._onToggleLayersButtonClick=e=>{this.viewModel.toggleSnappingForAllLayers(!this.viewModel.allLayersEnabled),h(e.target)};const{snappingOptions:i,view:s,viewModel:l}=e;this.viewModel=l??(this._defaultViewModel=new u({snappingOptions:i,view:s}))}normalizeCtorArgs(e){const{snappingOptions:t,view:i,viewModel:s,...l}=e;return l}destroy(){this.viewModel!==this._defaultViewModel&&(this._defaultViewModel=s(this._defaultViewModel))}loadDependencies(){return Promise.all([d({block:()=>import(\"@esri/calcite-components/dist/components/calcite-block\"),button:()=>import(\"@esri/calcite-components/dist/components/calcite-button\"),input:()=>import(\"@esri/calcite-components/dist/components/calcite-input\"),list:()=>import(\"@esri/calcite-components/dist/components/calcite-list\"),\"list-item\":()=>import(\"@esri/calcite-components/dist/components/calcite-list-item\"),checkbox:()=>import(\"@esri/calcite-components/dist/components/calcite-checkbox\"),loader:()=>import(\"@esri/calcite-components/dist/components/calcite-loader\")}),c()])}initialize(){this.addHandles(l((()=>\"2d\"===this.view?.type&&!!this.view.grid),(e=>{this.visibleElements.gridControls&&(this.snappingOptions.gridEnabled=e)})))}get _openAndReady(){return this.gridOptionsOpen&&this.snappingOptions.gridEnabled&&this.snappingOptions.enabled}get icon(){return\"snap-to-point\"}set icon(e){this._overrideIfSome(\"icon\",e)}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(e){this.viewModel.snappingOptions=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}set viewModel(e){e!==this._get(\"viewModel\")&&(null!=this._defaultViewModel&&this._defaultViewModel===e||(this._defaultViewModel=s(this._defaultViewModel)),this._set(\"viewModel\",e))}render(){const{label:e}=this;return b(\"div\",{\"aria-label\":e,class:this.classes(w.base,p.widget)},b(\"div\",{class:w.container},this._renderContent()))}_renderContent(){return[this._renderToggles(),this._renderLayerList(),\"2d\"===this.view?.type&&this.visibleElements.gridControls?this._renderGridOptions():null]}_renderToggles(){const{visibleElements:e,view:i}=this,s=[e.selfEnabledToggle?this._renderSelfEnabledToggle():null,e.featureEnabledToggle?this._renderFeatureEnabledToggle():null,e.gridEnabledToggle&&\"2d\"===i?.type?this._renderGridEnabledToggle():null].filter(t),l=[e.enabledToggle?this._renderEnabledToggle():null,s.length>0?b(\"div\",{class:w.nestedContainer},s):null].filter(t);return 0===l.length?null:b(\"calcite-block\",{class:w.toggleBlock,heading:e.header?this.label:\"\",key:\"toggle-block\",label:this.label,open:!0},l)}_renderEnabledToggle(){return b(g,{checked:this.viewModel.snappingOptions.enabled,disabled:this._enabledToggleDisabled,key:`${this.id}__enabled-toggle`,label:this.messages.enableSnapping,onChange:this._enableSnappingSwitchChange})}_renderSelfEnabledToggle(){return b(g,{checked:this.viewModel.snappingOptions.selfEnabled,disabled:this._secondaryElementsDisabled,key:`${this.id}__self-enabled-toggle`,label:this.messages.geometryGuides,onChange:this._selfEnabledSwitchChange})}_renderFeatureEnabledToggle(){return b(g,{checked:this.viewModel.snappingOptions.featureEnabled,disabled:this._secondaryElementsDisabled,key:`${this.id}__feature-enabled-toggle`,label:this.messages.featureToFeature,onChange:this._featureEnabledSwitchChange})}_renderGridEnabledToggle(){return b(g,{checked:this.viewModel.snappingOptions.gridEnabled,disabled:this._secondaryElementsDisabled,key:`${this.id}__grid-enabled-toggle`,label:this.messages.grid,onChange:this._gridEnabledSwitchChange})}_renderLayerList(){if(!this.visibleElements.layerList)return null;const{messages:e,viewModel:t}=this,i=t.layerListViewModel.operationalItems.length>9?b(\"calcite-input\",{class:w.layerListFilter,clearable:!0,placeholder:e?.searchLayers,onCalciteInputInput:({currentTarget:{value:e}})=>{this._layerListFilter=\"\"===e?null:new RegExp(e,\"i\")}}):null,s=this._secondaryElementsDisabled,l=this.layerListOpen&&!s,n=t.layerListViewModel.operationalItems?.find((e=>!!e.children.length));return b(\"calcite-block\",{class:w.layerListBlock,collapsible:!0,disabled:this._secondaryElementsDisabled,heading:e.snappingLayers,key:\"list-block\",open:l,onCalciteBlockToggle:e=>this.layerListOpen=e.currentTarget.open},i,this._renderToggleLayersButton(),b(\"calcite-list\",{class:w.layerList,displayMode:n?\"nested\":\"flat\",label:e?.snappingLayers,selectionMode:\"none\"},this._renderLayerListItemCollection(t.layerListViewModel.operationalItems)))}_renderGridOptions(){const{view:e,visibleElements:t,snappingManager:i,snappingOptions:s,_openAndReady:l}=this,{gridEnabled:n,enabled:o}=s;(l||\"2d\"===e?.type&&e.grid)&&this._startLoadGrid();const a=this._gridLoadTask?.value,r=a&&\"2d\"===e?.type&&b(a,{snappingManager:i,snappingOptions:s,view:e,visibleElements:t.gridControlsElements});return b(\"calcite-block\",{class:w.layerListBlock,collapsible:!0,disabled:!n||!o,heading:this.messages.gridOptionsHeading,key:\"grid-block\",open:l,onCalciteBlockClose:()=>this.gridOptionsOpen=!1,onCalciteBlockOpen:()=>this.gridOptionsOpen=!0},r??b(\"calcite-loader\",{label:this.messagesCommon.loading,scale:\"s\",text:this.messagesCommon.loading}))}async _startLoadGrid(){!this._gridLoadTask&&this.visibleElements.gridControls&&\"2d\"===this.view?.type&&(this._gridLoadTask=i((async()=>(await import(\"./GridControls.js\")).default)))}_renderLayerListItemCollection(e){const i=this._layerListFilter;return e.map((e=>{switch(i?y(e,i):null){case\"children\":{const t=e.children.filter((e=>!1!==y(e,i)));return this._renderLayerListItemGroup(e,t)}case\"self\":case null:return this._renderLayerListItemOrGroup(e);case!1:return\"self\"===y(e.parent,i)?this._renderLayerListItemOrGroup(e):null}})).toArray().filter(t)}_renderToggleLayersButton(){if(!this.visibleElements.layerListToggleLayersButton)return null;const{viewModel:{allLayersEnabled:e},messages:t}=this,i=e?t.disableAllLayers:t.enableAllLayers;return b(\"calcite-button\",{appearance:\"transparent\",class:w.layerListButton,label:i,name:\"layer-toggle\",onclick:this._onToggleLayersButtonClick},i)}_renderLayerListItemOrGroup(e){if(e.children.length)return this._renderLayerListItemGroup(e);const{messages:{untitledLayer:t}}=this,i=e.title||t,s=()=>{this.viewModel.toggleSnappingForLayers([e.layer?.id],\"enabled\"!==e.enabled)};return b(\"calcite-list-item\",{class:w.layerListItem,key:`${this.id}-list-item-${e.uid}`,label:i,onCalciteListItemSelect:e=>{e.stopPropagation(),s()}},b(\"calcite-checkbox\",{checked:\"enabled\"===e.enabled,slot:\"actions-start\",onCalciteCheckboxChange:s}))}_renderLayerListItemGroup(e,t){const{messages:i}=this,{children:s,title:l}=e,o=l||i.untitledLayer,a=l&&\"\"!==l?l:n(),r=!!t?.length,d=t??s,p=()=>{this.viewModel.toggleSnappingForLayers(e.childLayerIds,\"enabled\"!==e.enabled)},c=d?.find((e=>!!e.children.length));return b(\"calcite-list-item\",{class:w.layerListGroup,key:a,label:o,open:r,onCalciteListItemSelect:e=>{e.stopPropagation(),p()}},b(\"calcite-checkbox\",{checked:\"enabled\"===e.enabled,indeterminate:\"indeterminate\"===e.enabled,slot:\"actions-start\",onCalciteCheckboxChange:p}),b(\"calcite-list\",{displayMode:c?\"nested\":\"flat\",label:i?.snappingLayers,selectionMode:\"none\"},this._renderLayerListItemCollection(d)))}get _enabledToggleDisabled(){const e=this.snappingOptions;return e.enabledToggled||e.forceDisabled}get _secondaryElementsDisabled(){return this._enabledToggleDisabled||!this.snappingOptions.enabled}};e([o()],v.prototype,\"_defaultViewModel\",void 0),e([o()],v.prototype,\"_layerListFilter\",void 0),e([o()],v.prototype,\"_gridLoadTask\",void 0),e([o()],v.prototype,\"_openAndReady\",null),e([o()],v.prototype,\"label\",null),e([o({type:Boolean,nonNullable:!0})],v.prototype,\"layerListOpen\",void 0),e([o({type:Boolean,nonNullable:!0})],v.prototype,\"gridOptionsOpen\",void 0),e([o(),m(\"esri/widgets/support/SnappingControls/t9n/SnappingControls\")],v.prototype,\"messages\",void 0),e([o(),m(\"esri/t9n/common\")],v.prototype,\"messagesCommon\",void 0),e([o()],v.prototype,\"snappingOptions\",null),e([o()],v.prototype,\"snappingManager\",void 0),e([o()],v.prototype,\"view\",null),e([o()],v.prototype,\"viewModel\",null),e([o({type:_,nonNullable:!0})],v.prototype,\"visibleElements\",void 0),e([o()],v.prototype,\"_enabledToggleDisabled\",null),e([o()],v.prototype,\"_secondaryElementsDisabled\",null),v=e([a(\"esri.widgets.support.SnappingControls\")],v);const f=v;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"../support/SnappingControls/VisibleElements.js\";let s=class extends e{constructor(o){super(o),this.point=!0,this.polyline=!0,this.polygon=!0,this.rectangle=!0,this.circle=!0,this.multipoint=!0,this.mesh=!0,this.freehandPolyline=!1,this.freehandPolygon=!1}};o([t({type:Boolean,nonNullable:!0})],s.prototype,\"point\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"polyline\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"polygon\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"rectangle\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"circle\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"multipoint\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"mesh\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"freehandPolyline\",void 0),o([t({type:Boolean,nonNullable:!0})],s.prototype,\"freehandPolygon\",void 0),s=o([l(\"esri.widgets.Sketch.VisibleElements.CreateToolVisibilityMap\")],s);let i=class extends e{constructor(o){super(o),this[\"rectangle-selection\"]=!0,this[\"lasso-selection\"]=!0,this[\"custom-selection\"]=!0}};o([t({nonNullable:!0})],i.prototype,\"rectangle-selection\",void 0),o([t({nonNullable:!0})],i.prototype,\"lasso-selection\",void 0),o([t({nonNullable:!0})],i.prototype,\"custom-selection\",void 0),i=o([l(\"esri.widgets.Sketch.VisibleElements.SelectionToolVisibilityMap\")],i);let p=class extends e{constructor(o){super(o),this.createTools=new s,this.directionModePicker=!1,this.duplicateButton=!0,this.deleteButton=!0,this.selectionCountLabel=!0,this.labelsToggle=!0,this.selectionTools=new i,this.settingsMenu=!0,this.snappingControls=!0,this.snappingControlsElements=new n,this.tooltipsToggle=!0,this.undoRedoMenu=!0}};o([t({type:s,nonNullable:!0})],p.prototype,\"createTools\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"directionModePicker\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"duplicateButton\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"deleteButton\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"selectionCountLabel\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"labelsToggle\",void 0),o([t({type:i,nonNullable:!0})],p.prototype,\"selectionTools\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"settingsMenu\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"snappingControls\",void 0),o([t({type:n,nonNullable:!0})],p.prototype,\"snappingControlsElements\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"tooltipsToggle\",void 0),o([t({type:Boolean,nonNullable:!0})],p.prototype,\"undoRedoMenu\",void 0),p=o([l(\"esri.widgets.Sketch.VisibleElements\")],p);export{s as CreateToolVisibilityMap,i as SelectionToolVisibilityMap,p as VisibleElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst t={groupSeparator:1,action:{s:32,m:48,l:64},splitButtonPart:{horizontal:{s:16,m:16,l:24},vertical:{s:16,m:24,l:40}}},o={splitButton:{horizontal:\"chevron-down\",vertical:\"ellipsis\"},overflow:\"ellipsis\"};function l(t,o){return t.vnodeSelector===o?[t]:t.children?.flatMap((t=>l(t,o)))??[]}export{o as Icons,t as WellKnownSizes,l as findMatchingChildren};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{findMatchingChildren as o}from\"./responsiveToolbarUtils.js\";const r=r=>{let i=class extends r{constructor(){super(...arguments),this.priority=0,this.scale=\"m\",this.slot=void 0,this.lastActiveKey=null,this.layout=\"horizontal\"}destroy(){this.measurementManager?.managedElements.remove(this),this.measurementManager=null}set measurementManager(e){const t=this._get(\"measurementManager\");e!==t&&(t&&t.managedElements.remove(this),this._set(\"measurementManager\",e),e?.managedElements.add(this))}set budgetedLength(e){this.budgetedLength!==e&&(this._set(\"budgetedLength\",e),this.scheduleRender())}get actionChildren(){return this.children?.flatMap((e=>o(e,\"calcite-action\")))??[]}get activeChildElement(){const e=this.actionChildren.find((e=>!0===e.properties?.active));return e?(this._set(\"lastActiveKey\",e.properties?.key),e):this.lastActiveKey?this.actionChildren.find((e=>e.properties?.key===this.lastActiveKey)):void 0}_handleClick(e){e?.dataset&&\"dataset\"in e&&e.dataset.actionKey&&(this.lastActiveKey=e.dataset.actionKey)}};return e([t()],i.prototype,\"priority\",void 0),e([t()],i.prototype,\"measurementManager\",null),e([t()],i.prototype,\"budgetedLength\",null),e([t()],i.prototype,\"actionChildren\",null),e([t()],i.prototype,\"activeChildElement\",null),e([t()],i.prototype,\"scale\",void 0),e([t()],i.prototype,\"slot\",void 0),e([t()],i.prototype,\"lastActiveKey\",void 0),e([t()],i.prototype,\"layout\",void 0),i=e([s(\"esri.widgets.Sketch.support.ResponsiveToolbar.ToolbarGroupBase\")],i),i};export{r as ToolbarGroupBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../Widget.js\";import{ToolbarGroupBase as o}from\"./ToolbarGroupBase.js\";import{onResize as i}from\"../../../support/widgetUtils.js\";import{tsx as m}from\"../../../support/jsxFactory.js\";const d=Symbol(\"on-resize-handle-key\");let a=class extends(o(s)){constructor(e){super(e),this._measuredWidth=0,this._measuredHeight=0,this._measuredElement=null}destroy(){this._measuredElement=null}get lengthOptions(){return[\"horizontal\"===this.layout?this._measuredWidth:this._measuredHeight]}render(){return m(\"div\",{afterCreate:e=>{this._measuredElement=e.firstElementChild,this.addHandles(i(this._measuredElement,(()=>{this._measuredWidth=this._measuredElement?.clientWidth??0,this._measuredHeight=this._measuredElement?.clientHeight??0})),d)},afterRemoved:()=>this.removeHandles(d)},this.children)}};e([t()],a.prototype,\"_measuredWidth\",void 0),e([t()],a.prototype,\"_measuredHeight\",void 0),e([t()],a.prototype,\"lengthOptions\",null),e([t()],a.prototype,\"_measuredElement\",void 0),a=e([r(\"esri.widgets.Sketch.support.ResponsiveToolbar.MeasuredContentGroup\")],a);const p=a;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import r from\"../../../Widget.js\";import{WellKnownSizes as s,Icons as i}from\"./responsiveToolbarUtils.js\";import{ToolbarGroupBase as n}from\"./ToolbarGroupBase.js\";import{loadCalciteComponents as c}from\"../../../support/componentsUtils.js\";import\"../../../support/widgetUtils.js\";import{messageBundle as l}from\"../../../support/decorators/messageBundle.js\";import{tsx as a,tsxFragment as p}from\"../../../support/jsxFactory.js\";let m=class extends(n(r)){constructor(o){super(o),this.allowCollapse=!0,this.messagesCommon=null}loadDependencies(){return c({action:()=>import(\"@esri/calcite-components/dist/components/calcite-action\"),\"action-group\":()=>import(\"@esri/calcite-components/dist/components/calcite-action-group\"),\"action-menu\":()=>import(\"@esri/calcite-components/dist/components/calcite-action-menu\")})}get minimumLength(){const{actionChildren:o,scale:t}=this;return o.length?this.allowCollapse?s.groupSeparator+s.action[t]*Math.min(o.length,2):s.groupSeparator+s.action[t]*o.length:0}get lengthOptions(){const{actionChildren:o,scale:t,minimumLength:e,allowCollapse:r,priority:i}=this,n=[e];if(o.length<=2||!r||i<1)return n;for(let c=1;c<o.length-1;c++)n.push(e+s.action[t]*c);return n}render(){if(!this.actionChildren.length)return a(p,null,void 0);const{budgetedLength:o,actionChildren:t,activeChildElement:e,layout:r,slot:n,scale:c}=this,l=Math.floor(o/s.action[c]),m=[],u=[];if(l>=t.length)m.push(...t);else{const o=e??m.at(0);if(m.push(...t.slice(0,l-1)),u.push(...t.slice(l-1)),o&&u.includes(o)){const[t]=u.splice(u.indexOf(o),1),e=m.pop();m.push(t),e&&u.unshift(e)}}return a(\"calcite-action-group\",{key:\"overflow-button-group\",layout:r,onclick:o=>this._handleClick(o.target),slot:n},m.map((o=>this._renderManagedAction(o))),u.length>0?a(\"calcite-action-menu\",{key:\"split-button-dropdown\",label:this.messagesCommon.more,overlayPositioning:\"fixed\"},a(\"calcite-action\",{icon:i.overflow,key:\"split-button-dropdown-trigger\",scale:c,slot:\"trigger\",text:this.messagesCommon.more}),u.map((o=>this._renderManagedAction(o)))):void 0)}_renderManagedAction(o){return a(\"calcite-action\",{...o?.properties,\"data-action-key\":o?.properties?.key,text:o?.properties?.text??\"\"})}};m.vnodeSelector=\"calcite-action-group\",o([t()],m.prototype,\"allowCollapse\",void 0),o([t()],m.prototype,\"minimumLength\",null),o([t(),l(\"esri/t9n/common\")],m.prototype,\"messagesCommon\",void 0),o([t()],m.prototype,\"lengthOptions\",null),m=o([e(\"esri.widgets.Sketch.support.ResponsiveToolbar.OverflowGroup\")],m);const u=m;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Collection.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";let i=class extends t{constructor(){super(...arguments),this.measuredElement=null,this.managedElements=new s,this.availableLength=0,this.layout=\"horizontal\",this._resizeObserver=new ResizeObserver((()=>{this._measure()}))}get _sortedElements(){return[...this.managedElements].sort(((e,t)=>t.priority-e.priority))}connect(e){this._resizeObserver.disconnect(),this.measuredElement=e,this._resizeObserver.observe(e),this._measure()}allocate(){const e=new Map,{availableLength:t,_sortedElements:s}=this;let o=0;for(const r of s){const t=r.lengthOptions[0];e.set(r,t),o+=t}for(const r of s)for(;o<t;){const s=e.get(r);if(!s)break;const i=r.lengthOptions.find((e=>e>s));if(!i)break;const n=o-s+i;if(n>t)break;e.set(r,i),o=n}for(const[r,i]of e)r.budgetedLength=i}_measure(){const e=this.measuredElement;this.availableLength=e?\"horizontal\"===this.layout?e.clientWidth??0:e.clientHeight??0:0,this.allocate()}destroy(){this._resizeObserver.disconnect()}};e([o()],i.prototype,\"measuredElement\",void 0),e([o()],i.prototype,\"managedElements\",void 0),e([o()],i.prototype,\"_sortedElements\",null),e([o()],i.prototype,\"availableLength\",void 0),e([o()],i.prototype,\"layout\",void 0),i=e([r(\"esri.widgets.Sketch.support.ResponsiveToolbar.ResponsiveToolbarManager\")],i);const n=i;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import r from\"../../../Widget.js\";import{WellKnownSizes as i,Icons as n}from\"./responsiveToolbarUtils.js\";import{ToolbarGroupBase as s}from\"./ToolbarGroupBase.js\";import{loadCalciteComponents as a}from\"../../../support/componentsUtils.js\";import\"../../../support/widgetUtils.js\";import{messageBundle as c}from\"../../../support/decorators/messageBundle.js\";import{tsx as p,tsxFragment as l}from\"../../../support/jsxFactory.js\";const m={base:\"esri-split-button\",splitButtonBase:`${\"esri-split-button\"}--split-part`};let u=class extends(s(r)){constructor(t){super(t),this.messagesCommon=null}loadDependencies(){return a({action:()=>import(\"@esri/calcite-components/dist/components/calcite-action\"),\"action-group\":()=>import(\"@esri/calcite-components/dist/components/calcite-action-group\"),\"action-menu\":()=>import(\"@esri/calcite-components/dist/components/calcite-action-menu\")})}get minimumLength(){const t=this.actionChildren;return t.length?1===t.length?i.action[this.scale]+i.groupSeparator:i.action[this.scale]+i.splitButtonPart[this.layout][this.scale]+i.groupSeparator:0}get lengthOptions(){const{actionChildren:t,minimumLength:o,layout:e,scale:r,priority:n}=this;if(t.length<2||n<0)return[o];const s=i.groupSeparator+i.action[r]*t.length;return[i.groupSeparator+i.action[r]+i.splitButtonPart[e][r],s]}render(){if(!this.actionChildren.length)return p(l,null,void 0);const{actionChildren:t,minimumLength:o,budgetedLength:e,layout:r,slot:i}=this,n=t.length<2||e>o;return p(\"calcite-action-group\",{key:\"split-button-group\",layout:r,onclick:t=>this._handleClick(t.target),slot:i},n?this._renderUnSplit():this._renderSplit())}_renderSplit(){const{activeChildElement:t,layout:o,actionChildren:e,scale:r,messagesCommon:i}=this,s=t??e.at(0);if(!s)return;const a=e.filter((t=>t!==s));return[this._renderManagedAction(s),p(\"calcite-action-menu\",{key:\"split-button-dropdown\",label:i.more,overlayPositioning:\"fixed\",placement:\"horizontal\"===o?\"bottom-end\":\"right-end\"},p(\"calcite-action\",{class:`${m.splitButtonBase}--${o}--${this.scale}`,compact:\"horizontal\"===o,icon:n.splitButton[o],key:\"split-button-dropdown-trigger\",scale:r,slot:\"trigger\",text:i.more}),a?.map((t=>this._renderManagedAction(t))))]}_renderUnSplit(){return this.actionChildren.map((t=>this._renderManagedAction(t)))}_renderManagedAction(t){return p(\"calcite-action\",{...t?.properties,\"data-action-key\":t?.properties?.key,text:t?.properties?.text??\"\"})}};u.vnodeSelector=\"calcite-action-group\",t([o()],u.prototype,\"minimumLength\",null),t([o()],u.prototype,\"lengthOptions\",null),t([o(),c(\"esri/t9n/common\")],u.prototype,\"messagesCommon\",void 0),u=t([e(\"esri.widgets.Sketch.support.ResponsiveToolbar.SplitButton\")],u);export{u as SplitButton};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as r}from\"../../../../core/arrayUtils.js\";import{destroyMaybe as t}from\"../../../../core/maybe.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../Widget.js\";import i from\"./MeasuredContentGroup.js\";import l from\"./OverflowGroup.js\";import n from\"./ResponsiveToolbarManager.js\";import{SplitButton as c}from\"./SplitButton.js\";import{loadCalciteComponents as d}from\"../../../support/componentsUtils.js\";import\"../../../support/widgetUtils.js\";import{tsx as p}from\"../../../support/jsxFactory.js\";const m=\"esri-responsive-toolbar\",u={rulerBase:`${m}__ruler`,rulerBarHorizontal:`${m}__ruler--bar`,rulerBarVertical:`${m}__ruler--bar--vertical`,rulerPadVertical:`${m}__ruler--pad--vertical`,rulerPadHorizontal:`${m}__ruler--pad--horizontal`,bar:`${m}__bar`,barHorizontal:`${m}__bar--horizontal`,barVertical:`${m}__bar--vertical`,pad:`${m}__pad`,padVertical:`${m}__pad--vertical`,padHorizontal:`${m}__pad--horizontal`};let h=class extends s{constructor(e){super(e),this.scale=\"m\",this.barStyle=\"floating\",this._measurementManager=new n,this._managedWidgets=new Map}loadDependencies(){return d({\"action-bar\":()=>import(\"@esri/calcite-components/dist/components/calcite-action-bar\"),\"action-pad\":()=>import(\"@esri/calcite-components/dist/components/calcite-action-pad\")})}destroy(){this._measurementManager=t(this._measurementManager),this._managedWidgets.forEach((e=>e.destroy())),this._managedWidgets.clear()}set layout(e){const r=this._get(\"layout\");this._set(\"layout\",e),this._measurementManager&&(this._measurementManager.layout=e),r!==e&&this.scheduleRender()}render(){const{layout:e,scale:r,barStyle:t}=this,a={layout:e,scale:r,expandDisabled:!0,key:\"measured-toolbar\"},o=\"docked\"===t?\"vertical\"===e?u.rulerBarVertical:u.rulerBarHorizontal:\"horizontal\"===e?u.rulerPadHorizontal:u.rulerPadVertical;return p(\"div\",null,p(\"div\",{afterCreate:e=>{this._measurementManager?.connect(e)},class:this.classes(u.rulerBase,o)}),\"docked\"===t?p(\"calcite-action-bar\",{...a,classes:{[u.barHorizontal]:\"horizontal\"===this.layout,[u.barVertical]:\"vertical\"===this.layout,[u.bar]:!0},overflowActionsDisabled:!0},this._renderChildren()):p(\"calcite-action-pad\",{...a,class:this.classes(u.pad,\"horizontal\"===e?u.padHorizontal:u.padVertical)},this._renderChildren()))}_renderChildren(){if(!this.children)return;const e=this.children.filter((e=>void 0!==e.properties?.key&&\"group-kind\"in e.properties)),t=new Set,a=e.map((e=>{const r=e.properties,a=r.key;t.add(a);const o=\"docked\"===this.barStyle?r.slot??void 0:void 0,s=r.priority??0,n=r[\"group-kind\"]??\"overflow-group\",d=r[\"allow-collapse\"]??!0,p=this._managedWidgets.get(a);if(p)return p.children=e.children,p.priority=s,\"allowCollapse\"in p&&(p.allowCollapse=d),p.slot=o,p.layout=this.layout,p.scale=this.scale,p.measurementManager=this._measurementManager,p;const m={scale:this.scale,priority:s,measurementManager:this._measurementManager,children:e.children,slot:o,layout:this.layout};switch(n){case\"split-button\":{const e=new c({...m});return this._managedWidgets.set(a,e),e}case\"overflow-group\":{const e=new l({...m,allowCollapse:d});return this._managedWidgets.set(a,e),e}case\"measured-content\":{const e=new i({...m});return this._managedWidgets.set(a,e),e}}})).filter(r);return Array.from(this._managedWidgets.keys()).filter((e=>!t.has(e))).forEach((e=>{this._managedWidgets.get(e)?.destroy(),this._managedWidgets.delete(e)})),this._measurementManager?.allocate(),a.map((e=>e.render()))}};e([a()],h.prototype,\"scale\",void 0),e([a({value:\"horizontal\"})],h.prototype,\"layout\",null),e([a()],h.prototype,\"barStyle\",void 0),e([a()],h.prototype,\"_measurementManager\",void 0),e([a()],h.prototype,\"_managedWidgets\",void 0),h=e([o(\"esri.widgets.Sketch.support.ResponsiveToolbar.ResponsiveToolbar\")],h);const _=h;export{_ as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{equals as t,isSome as e}from\"../../../core/arrayUtils.js\";import{clone as o}from\"../../../core/lang.js\";import{getMetersPerUnitForSR as n}from\"../../../core/unitUtils.js\";import{m as r}from\"../../../chunks/vec32.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import l from\"../../../geometry/Circle.js\";import{simplify as s,distance as i}from\"../../../geometry/geometryEngine.js\";import c from\"../../../geometry/Multipoint.js\";import y from\"../../../geometry/Point.js\";import p from\"../../../geometry/Polygon.js\";import u from\"../../../geometry/Polyline.js\";import{unnormalizeGeometryOnDatelineCrossing as m,isClockwise as f,unnormalizeVerticesOnDatelineCrossing as x}from\"../../../geometry/support/coordsUtils.js\";import{isValid as h}from\"../../../geometry/support/spatialReferenceUtils.js\";import{makeSurfacePoint as M}from\"./surfaceCoordinateSystems.js\";function g(t,e){const o=new y({x:t[0],y:t[1],spatialReference:e});return t.length>2&&(o.z=t[2]),o}function d(t,e){return new c({points:t,spatialReference:e})}function R(t,e,o){const n=new u({paths:t,spatialReference:e});return o&&m(n),n}function j(e,n,r,a=!0){const l=o(e);l.forEach((e=>{const o=e[0],n=e[e.length-1];t(o,n)&&1!==e.length||e.push(e[0])}));let i=new p({rings:l,spatialReference:n});return i.rings.forEach((t=>{f(t)||t.reverse()})),r&&m(i),a&&i.isSelfIntersecting&&h(n)&&(i=s(i)),i}function T(t,o,n){const r=o.mapToLocalMultiple(t),a=[],l={x:r[0].x,y:r[0].y},s={x:r[1].x,y:r[1].y},i=Math.round(s.x-l.x),c=Math.round(s.y-l.y),y=Math.max(Math.abs(i),Math.abs(c));if(n){const t={x:l.x+y,y:l.y+y},e={x:l.x-y,y:l.y-y};a.push(M(t.x,e.y),M(e.x,e.y),M(e.x,t.y),M(t.x,t.y))}else{const t={x:i>0?l.x+y:l.x-y,y:c>0?l.y+y:l.y-y};a.push(M(l.x,l.y),M(t.x,l.y),M(t.x,t.y),M(l.x,t.y))}return U(j([a.map((t=>o.localToMap(t))).filter(e)],o.spatialReference,o.doUnnormalization,!0),a,o)}function b(t,o,n){let r=o.mapToLocalMultiple(t);if(1===r.length){const t=48,e=r[0];r=[M(e.x-t,e.y+t),M(e.x+t,e.y-t),M(e.x+t,e.y-t),M(e.x-t,e.y+t)]}const a=[],l={x:r[0].x,y:r[0].y},s={x:r[1].x,y:r[1].y};if(n){const t=Math.round(s.x-l.x),e=Math.round(s.y-l.y);a.push(M(l.x-t,l.y-e),M(s.x,l.y-e),M(s.x,s.y),M(l.x-t,s.y))}else a.push(M(l.x,l.y),M(s.x,l.y),M(s.x,s.y),M(l.x,s.y));return U(j([a.map((t=>o.localToMap(t))).filter(e)],o.spatialReference,o.doUnnormalization,!0),a,o)}function U(t,e,o){const n=P(e[3],e[2],o),r=P(e[1],e[2],o),a=P(e[0],e[1],o),l=P(e[0],e[3],o);return{geometry:t,midpoints:null!=n&&null!=r&&null!=a&&null!=l?{top:n,right:r,bottom:a,left:l}:null}}function P(t,e,o){w[0]=t.x,w[1]=t.y,w[2]=0,I[0]=e.x,I[1]=e.y,I[2]=0,r(w,w,I,.5),z.x=w[0],z.y=I[1],z.z=I[2];const n=o.localToMap(z);return null!=n?g(n,o.spatialReference):null}const z=M(0,0,0),w=a(),I=a();function L(t,e,o,r){const a=e.mapToLocalMultiple(t);let s=null,c=null;if(o)s=a[0],c=a[1];else{const t=a[0],e=a[1],o=Math.round(e.x-t.x),n=Math.round(e.y-t.y),r=Math.max(Math.abs(o),Math.abs(n));s=M(o>0?t.x+r/2:t.x-r/2,n>0?t.y+r/2:t.y-r/2),c=M(Math.abs(o)>Math.abs(n)?s.x-r/2:s.x,Math.abs(o)>Math.abs(n)?s.y:s.y-r/2)}const y=e.localToMap(s),p=e.localToMap(c);if(null==y||null==p)return null;e.doUnnormalization&&x([[y,p]],e.spatialReference);const u=g(y,e.spatialReference),m=g(p,e.spatialReference),f=n(e.spatialReference);let d=0;if(h(e.spatialReference))d=f*i(u,m,null);else{const t=s.x-c.x,e=s.y-c.y;d=f*Math.sqrt(t*t+e*e)*(r||1)}const R=new l({center:u,radius:d,radiusUnit:\"meters\",spatialReference:e.spatialReference});return{geometry:j(R.rings,R.spatialReference,!1),center:u,edge:m}}function v(t,o,n){const r=o.mapToLocalMultiple(t),a=r[0],l=r[1],s=Math.round(l.x-a.x),i=Math.round(l.y-a.y),c=M(n?a.x:a.x+s/2,n?a.y:a.y+i/2),y=n?s:s/2,p=n?i:i/2,u=60,m=[],f=2*Math.PI/u;function x(t){const e=Math.cos(t),o=Math.sin(t);return M(y*e+c.x,p*o+c.y)}for(let e=0;e<u;e++)m.push(x(e*f));m.push(m[0]);const{spatialReference:h,doUnnormalization:d}=o,R=j([m.map((t=>o.localToMap(t))).filter(e)],h,d,!1),T=o.localToMap(x(Math.PI/2)),b=o.localToMap(x(0)),U=o.localToMap(x(-Math.PI/2)),P=o.localToMap(x(Math.PI));return{geometry:R,midpoints:null!=T&&null!=b&&null!=U&&null!=P?{top:g(T,h),right:g(b,h),bottom:g(U,h),left:g(P,h)}:null}}export{L as createCircle,v as createEllipse,d as createMultipoint,g as createPoint,j as createPolygon,R as createPolyline,b as createRectangle,T as createSquare};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import{negativeInfinity as s,pad as i,expandWithNestedArray as l,create as a,width as n,height as p}from\"../../geometry/support/aaBoundingRect.js\";import\"../../widgets/support/widgetUtils.js\";import{tsx as d}from\"../../widgets/support/jsxFactory.js\";let h=class extends t{constructor(o){super(o),this.coordinates=void 0,this.strokeDash=[],this.strokeWidth=1,this.strokeColor=[0,0,0,1],this.strokeDashColor=[255,255,255,1],this.fillColor=[0,0,0,0],this.visible=!0,this.isDecoration=!0}get _strokeStyle(){const o=this.strokeColor;return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${o[3]})`}get _strokeBackgroundStyle(){const o=this.strokeDashColor;return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${o[3]})`}get _fillStyle(){const o=this.fillColor;return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${o[3]})`}get _renderCoordinates(){const o=[];if(!this.coordinates)return{coordinates:o,rect:s};const t=i(l(a(s),this.coordinates),2*this.strokeWidth);t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]+.5),t[3]=Math.ceil(t[3]+.5);for(const r of this.coordinates)o.push([Math.floor(r[0]-t[0])+.5,Math.floor(r[1]-t[1])+.5]);return o.reverse(),{coordinates:o,rect:t}}render(){const{coordinates:o,rect:t}=this._renderCoordinates,r=n(t),e=p(t);return d(\"div\",{classes:{\"esri-outline-overlay-item\":!0},styles:{left:t[0]+\"px\",top:t[1]+\"px\",width:r+\"px\",height:e+\"px\",visibility:this.visible?\"visible\":\"hidden\"}},d(\"svg\",{height:e,styles:{display:\"block\"},width:r},d(\"polygon\",{fill:this._fillStyle,points:o.map((([o,t])=>`${o},${t}`)).join(\" \"),stroke:this._strokeBackgroundStyle,\"stroke-width\":this.strokeWidth}),d(\"polygon\",{fill:\"transparent\",points:o.map((([o,t])=>`${o},${t}`)).join(\" \"),stroke:this._strokeStyle,\"stroke-dasharray\":this.strokeDash.length?this.strokeDash.join(\" \"):void 0,\"stroke-width\":this.strokeWidth})))}renderCanvas(){}};o([r()],h.prototype,\"coordinates\",void 0),o([r()],h.prototype,\"strokeDash\",void 0),o([r()],h.prototype,\"strokeWidth\",void 0),o([r()],h.prototype,\"strokeColor\",void 0),o([r()],h.prototype,\"strokeDashColor\",void 0),o([r()],h.prototype,\"fillColor\",void 0),o([r()],h.prototype,\"visible\",void 0),o([r()],h.prototype,\"isDecoration\",void 0),o([r({readOnly:!0})],h.prototype,\"_strokeStyle\",null),o([r({readOnly:!0})],h.prototype,\"_strokeBackgroundStyle\",null),o([r({readOnly:!0})],h.prototype,\"_fillStyle\",null),o([r({readOnly:!0})],h.prototype,\"_renderCoordinates\",null),h=o([e(\"esri.views.overlay.OutlineOverlayItem\")],h);const c=h;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{makeHandle as r}from\"../../core/handleUtils.js\";import{destroyMaybe as o}from\"../../core/maybe.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{IDENTITY as a}from\"../../core/libs/gl-matrix-2/factories/mat2df64.js\";import{DrawOperation as n}from\"./DrawOperation.js\";import{ScreenDrawSurface as p}from\"./drawSurfaces.js\";import{createCircle as l,createSquare as c,createEllipse as d,createRectangle as m}from\"./support/createUtils.js\";import{AffineCoordinateSystem as u}from\"./support/surfaceCoordinateSystems.js\";import{InteractiveToolBase as h}from\"../interactive/InteractiveToolBase.js\";import g from\"../overlay/OutlineOverlayItem.js\";let y=class extends(t.EventedMixin(h)){constructor(e){super(e),this._overlayItem=void 0,this.geometryType=null,this.mode=null,this.type=\"draw-screen\"}initialize(){this.drawOperation=this._makeDrawOperation();const e=e=>this.drawOperation.on(e,(t=>{this._updateVisuals(),this.emit(e,t)}));this.addHandles([e(\"vertex-add\"),e(\"vertex-remove\"),e(\"vertex-update\"),e(\"cursor-update\"),e(\"complete\")]),this.finishToolCreation()}destroy(){this.drawOperation=o(this.drawOperation),this._set(\"view\",null)}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centeredToggled(e){this._set(\"centeredToggled\",e),this._updateVisuals()}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set uniformSizeToggled(e){this._set(\"uniformSizeToggled\",e),this._updateVisuals()}get updating(){return this.drawOperation?.updating??!1}get cursor(){return\"point\"===this.geometryType?\"default\":\"crosshair\"}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(e){this.destroyed||this.drawOperation.onInputEvent(e)}redo(){this.drawOperation.redo()}undo(){this.drawOperation.undo()}reset(){}_makeDrawOperation(){const{view:e}=this;return new n({view:e,manipulators:this.manipulators,geometryType:v(this.geometryType),drawingMode:this.mode,hasZ:!1,defaultZ:0,snapToSceneEnabled:!1,drawSurface:new p,hasM:!1,snappingManager:null,snappingVisualizer:null,graphic:null,cursor:this.cursor})}get coordinates(){const{drawOperation:e}=this;if(!e?.geometryIncludingUncommittedVertices.length)return[];const{coordinateHelper:t}=e,r=e.committableVertex,o=e.committedVertices.slice();null!=r&&o.push(t.pointToArray(r));const i=o.length;switch(this.geometryType){case\"circle\":case\"rectangle\":{const t=new u(a,p.spatialReference),r=\"circle\"===this.geometryType?l:c,s=\"circle\"===this.geometryType?d:m;if(1===i&&e.isCompleted){const e=o[0],i=t.makeMapPoint(e[0]+w,e[1]);return r([e,i],t,!0)?.geometry.rings[0]??[]}if(2===i){const e=\"rectangle\"!==this.geometryType,i=this.centeredToggled!==e,a=\"rectangle\"!==this.geometryType;return(this.uniformSizeToggled!==a?r(o,t,i)?.geometry.rings[0]:s(o,t,i)?.geometry.rings[0])??[]}return[]}}return o}_updateVisuals(){if(!this._overlayItem){const e=new g({strokeDash:[5],strokeDashColor:[255,255,255,255]});this.view.overlay?.addItem(e),this.addHandles(r((()=>{this.view.overlay?.removeItem(e),e?.destroy(),this._overlayItem=void 0}))),this._overlayItem=e}this._overlayItem.coordinates=this.coordinates}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}};function v(e){switch(e){case\"polygon\":case\"point\":return e;case\"circle\":case\"rectangle\":return\"segment\"}}e([i({value:!1})],y.prototype,\"centeredToggled\",null),e([i()],y.prototype,\"drawOperation\",void 0),e([i({value:!0})],y.prototype,\"enabled\",null),e([i({value:!1})],y.prototype,\"uniformSizeToggled\",null),e([i({constructOnly:!0})],y.prototype,\"geometryType\",void 0),e([i({constructOnly:!0})],y.prototype,\"mode\",void 0),e([i({readOnly:!0})],y.prototype,\"type\",void 0),e([i({readOnly:!0})],y.prototype,\"updating\",null),e([i({constructOnly:!0,nonNullable:!0})],y.prototype,\"view\",void 0),e([i()],y.prototype,\"cursor\",null),y=e([s(\"esri.views.draw.DrawScreenTool\")],y);const w=48;export{y as DrawScreenTool,v as geometryTypeToDrawOperationGeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{whenOrAbort as e,ignoreAbortErrors as t}from\"../../../core/promiseUtils.js\";import{getDisplayFieldName as r}from\"../../../layers/support/fieldUtils.js\";import{isFeatureLayer as s,isKnowledgeGraphLayer as n,isLinkChartLayer as i,isMapNotesLayer as l,isGraphicsLayer as a,isSubtypeGroupLayer as o}from\"../../../layers/support/layerUtils.js\";import{calculateTolerance as u}from\"../../../renderers/support/clickToleranceUtils.js\";import{createQueryGeometry as c}from\"../../../views/support/drapedUtils.js\";import{isSelectableLayerView2D as d}from\"../../../views/support/layerViewUtils.js\";async function y(){return import(\"../../../geometry/geometryEngineJSON.js\")}async function p(){return y().then((({contains:e,intersects:t,overlaps:r,simplify:s})=>({contains:e,intersects:t,overlaps:r,simplify:s})))}async function f(t){const{currentSelection:r,selector:s,signal:n,sources:i,view:l}=t;if(!i?.length)return{added:[],removed:[]};const{layers:a,layerViews:o,graphicsLayers:u}=F(i),c=(await e(Promise.all([g(s,a,l,n),h(s,o,l,n),m(s,u,l)]),n)).flat();if(!r)return{added:c,removed:[]};const d=r.toArray(),y=c.filter((e=>!v(d,e))),p=d.filter((e=>!v(c,e)));return r.removeMany(p),r.addMany(y),{added:y,removed:p}}const m=async(e,t,r)=>S({candidates:t.flatMap((e=>e.graphics.toArray()))??[],selector:e,view:r}),g=async(e,r,s,n)=>{const i=await t(b({selector:e,signal:n,layers:r,view:s}));return i?w(i):[]},h=async(e,r,s,n)=>{const i=await t(I({selector:e,signal:n,layerViews:r,view:s}));return i?w(i):[]};function w(e){const t=[];for(let r=0;r<e.length;r++){const s=e[r];\"fulfilled\"===s.status&&t.push(...s.value)}return t}function F(e){const t=[],r=[],o=[];return e.forEach((e=>{s(e)?t.push(e):(n(e)||i(e))&&e.layers?.length?t.push(...e.layers.toArray()):l(e)&&e.sublayers?.length?o.push(...e.sublayers.toArray()):a(e)?o.push(e):d(e)&&r.push(e)})),{layers:t,layerViews:r,graphicsLayers:o}}function v(e,t){if(e.includes(t))return!0;const r=t.getObjectId(),s=null!=r,{layer:n,uid:i}=t;return s?e.some((e=>{if(n===e.layer)return r===e.getObjectId()})):e.some((e=>{if(n===e.layer)return i===e.uid}))}async function I(t){const{layerViews:r,selector:s,signal:n,view:i}=t;return e(Promise.allSettled(r.map((async e=>{const t=e.createQuery(),{geometry:r}=j(s,e.layer,i);return t.outFields=[\"*\"],t.geometry=r,t.returnGeometry=!0,t.outSpatialReference=i.spatialReference,e.queryFeatures(t,{signal:n}).then((({features:e})=>e))}))),n)}async function b(t){const{layers:r,selector:s,signal:n,view:i}=t;return e(Promise.allSettled(r.map((async e=>e.queryFeatures(x(e.createQuery(),s,e,i),{signal:n}).then((({features:e})=>e))))),n)}function j(e,t,s){const n=\"renderer\"in t?u({renderer:t.renderer}):0,i=\"point\"===e.type?c(e,n,s):e,l=\"displayField\"in t?t.displayField:null,a=r({displayField:l,fields:t.fields}),d=[t.objectIdField];null!=a&&t.fieldsIndex.has(a)&&d.push(a),\"globalIdField\"in t&&null!=t.globalIdField&&t.fieldsIndex.has(t.globalIdField)&&d.push(t.fieldsIndex.get(t.globalIdField).name),o(t)&&null!=t.subtypeField&&t.fieldsIndex.has(t.subtypeField)&&d.push(t.fieldsIndex.get(t.subtypeField).name);if(\"utilityNetworks\"in s.map&&s.map.utilityNetworks?.length&&(o(t)||\"feature\"===t.type)){const e=t.fieldsIndex.get(\"assetgroup\"),r=t.fieldsIndex.get(\"assettype\");e?.name&&d.push(e.name),r?.name&&d.push(r.name)}return{geometry:i,outFields:d}}function x(e,t,r,s){const{outFields:n,geometry:i}=j(t,r,s);return e.outFields=n,e.geometry=i,e.returnGeometry=!0,e.outSpatialReference=s.spatialReference,e}async function S(e){const{selector:t,candidates:r,view:s}=e;if(!r?.length||!t)return[];const{spatialReference:n}=s,i=t,l=await p();return r.filter((e=>e.geometry&&\"mesh\"!==e.geometry.type&&l.intersects(n,i,e.geometry)))}export{p as getGeometryEngineOperations,j as getQueryOptionsFromLayer,I as getSelectionFromFeatureLayerViews,b as getSelectionFromFeatureLayers,f as getSelectionFromGeometry,S as getSelectionFromGeometryEngine,y as importGeometryEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{createTask as o}from\"../../../core/asyncUtils.js\";import t from\"../../../core/Collection.js\";import s from\"../../../core/Evented.js\";import{makeHandle as r}from\"../../../core/handleUtils.js\";import{debounce as i,ignoreAbortErrors as n,onAbort as c}from\"../../../core/promiseUtils.js\";import{createScreenPoint as l}from\"../../../core/screenUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import m from\"../../../geometry/Point.js\";import d from\"../../../geometry/Polygon.js\";import{isClockwise as h}from\"../../../geometry/support/coordsUtils.js\";import{DrawScreenTool as u}from\"../../../views/draw/DrawScreenTool.js\";import{sketchKeys as y}from\"../../../views/interactive/keybindings.js\";import{getSelectionFromGeometry as g}from\"./selectorUtils.js\";const f=100;let v=class extends s.EventedAccessor{constructor(e){super(e),this._processTask=null,this.options=null,this.selection=new t,this.sources=null,this._process=i((async(e,t)=>{const{callback:s,selector:r,completed:i}=e,n=o((async e=>{const{options:o,sources:t,selection:n,view:c}=this;if(!(!t?.length&&!c?.selectionManager.sources.length)&&c){if(r&&null!=t){const s=await g({currentSelection:n,selector:r,signal:e,sources:t,view:c});i&&!1!==o?.persistSelection&&c.selectionManager?.updateSelection({current:n.toArray(),...s})}s&&s()}else n.removeAll()}));return c(t,(()=>n.abort())),this._processTask=n,n.promise}),f)}initialize(){this._setup()}cancel(){this.removeAllHandles(),this._processTask?.abort()}async _setup(){const{view:e}=this;if(await e.whenReady(),this.destroyed)return;const o=this.options,t=o?.createTool??\"rectangle\",s=o?.mode??(\"polygon\"===t?\"click\":\"hybrid\"),i=Symbol();this._tool=new u({view:e,mode:s,geometryType:t}),o?.selectOnComplete||this.addHandles(this._tool.on([\"cursor-update\",\"vertex-add\",\"vertex-remove\"],(()=>n(this._process({selector:this._selectionArea})))),i),this.addHandles([e.on(\"key-down\",(e=>{if(!e.repeat)switch(e.key){case y.constraint:this._tool.uniformSizeToggled=!0,e.stopPropagation();break;case y.center:this._tool.centeredToggled=!0,e.stopPropagation()}})),e.on(\"key-up\",(e=>{switch(e.key){case y.constraint:this._tool.uniformSizeToggled=!1,e.stopPropagation();break;case y.center:this._tool.centeredToggled=!1,e.stopPropagation()}})),this._tool.on(\"complete\",(async e=>{this.removeHandles(i);const o=()=>{this.removeAllHandles(),this.emit(\"complete\",{aborted:e.aborted,selection:this.selection.toArray()})};e.aborted?(this.cancel(),this.selection.removeAll(),o()):await this._process({selector:this._selectionArea,callback:o,completed:!0})}))],i),this.addHandles(r((()=>e.tools.remove(this._tool)))),e.addAndActivateTool(this._tool)}get _selectionArea(){const e=l(),o=this._tool.coordinates,t=this.view.spatialReference,s=o=>{e.x=o[0],e.y=o[1];const{x:t,y:s}=this.view.toMap(e);return[t,s]};if(0===o.length)return;if(1===o.length||o.every((([e,t])=>e===o[0][0]&&t===o[0][1]))){const[e,r]=s(o[0]);return new m({x:e,y:r,spatialReference:t})}const r=o.map(s);if(0===r.length)return;h(r)||r.reverse();return new d({spatialReference:t,rings:[r]})}};e([a()],v.prototype,\"options\",void 0),e([a({readOnly:!0})],v.prototype,\"selection\",void 0),e([a()],v.prototype,\"sources\",void 0),e([a({constructOnly:!0})],v.prototype,\"view\",void 0),v=e([p(\"esri.widgets.support.Selector2D.SelectionOperation\")],v);const w=v;export{w as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{deprecatedProperty as t}from\"../../../core/deprecate.js\";import r from\"../../../core/Evented.js\";import{handlesGroup as o}from\"../../../core/handleUtils.js\";import s from\"../../../core/Logger.js\";import{removeMaybe as i}from\"../../../core/maybe.js\";import{watch as a}from\"../../../core/reactiveUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isKnowledgeGraphLayer as l,isLinkChartLayer as p}from\"../../../layers/support/layerUtils.js\";import{findLayerView as u}from\"../../../views/draw/support/layerUtils.js\";import{isSelectableLayerView2D as h}from\"../../../views/support/layerViewUtils.js\";import d from\"../Selector2D/SelectionOperation.js\";let m=class extends r.EventedAccessor{constructor(e){super(e),this._operationHandlesGroup=null,this.activeOperation=null,this.layerViewPreferenceEnabled=!0,this.sources=null}initialize(){this.addHandles([a((()=>this._sources),(e=>{this.activeOperation&&(this.activeOperation.sources=e)}))])}destroy(){this._operationHandlesGroup=i(this._operationHandlesGroup)}get _sources(){const{layerViewPreferenceEnabled:e,sources:t,view:r}=this;return r&&t?.length?t.flatMap((t=>{if(h(t))return t;if(l(t)||p(t)){const o=t.layers||[],s=o.map((t=>{const o=u(r,t)||void 0;return e&&h(o)?o:t}));return s.length?s.toArray():o.length?o.toArray():t}if(!e)return t;const o=u(r,t)||void 0;return h(o)?o:t})):[]}get layers(){return t(s.getLogger(this),\"layers\",{replacement:\"Use SelectionToolbar.sources instead.\"}),this.sources}set layers(e){t(s.getLogger(this),\"layers\",{replacement:\"Use SelectionToolbar.sources instead.\"}),this.sources=e}get state(){const{_sources:e,view:t}=this,r=!e?.length&&!t?.selectionManager.sources.length;return this.activeOperation?\"active\":t?.ready&&!r?\"ready\":\"disabled\"}cancel(){\"active\"===this.state&&(this.activeOperation?.cancel(),this._set(\"activeOperation\",null))}activate(e){const{_sources:t,state:r,view:s}=this,i=!t?.length&&!s?.selectionManager.sources.length;if(\"disabled\"===r||i||!this.view)return;\"active\"===r&&this.cancel();const a=new d({view:this.view,sources:t,options:e});return this._operationHandlesGroup=o([a.selection.on(\"change\",(e=>this.emit(\"selection-change\",e))),a.once(\"complete\",(e=>this._onOperationComplete(e)))]),this._set(\"activeOperation\",a),a}_onOperationComplete(e){this._operationHandlesGroup=i(this._operationHandlesGroup),this._set(\"activeOperation\",null),this.emit(\"complete\",e)}};e([n()],m.prototype,\"_sources\",null),e([n({readOnly:!0})],m.prototype,\"activeOperation\",void 0),e([n()],m.prototype,\"layers\",null),e([n()],m.prototype,\"layerViewPreferenceEnabled\",void 0),e([n()],m.prototype,\"sources\",void 0),e([n({readOnly:!0})],m.prototype,\"state\",null),e([n()],m.prototype,\"view\",void 0),m=e([c(\"esri.widgets.support.SelectionToolbar.SelectionToolbarViewModel\")],m);const v=m;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{deprecatedProperty as o}from\"../../core/deprecate.js\";import{handlesGroup as t}from\"../../core/handleUtils.js\";import s from\"../../core/Logger.js\";import{removeMaybe as l}from\"../../core/maybe.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{cast as r}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"../Widget.js\";import{loadCalciteComponents as c}from\"./componentsUtils.js\";import{globalCss as d}from\"./globalCss.js\";import\"./widgetUtils.js\";import{messageBundle as p}from\"./decorators/messageBundle.js\";import{tsx as h}from\"./jsxFactory.js\";import u from\"./SelectionToolbar/SelectionToolbarViewModel.js\";const m={lassoTool:!0,rectangleTool:!0},v=\"esri-selection-toolbar\",g={base:v,container:`${v}__container`,toolButton:`${v}__tool-button`};let T=class extends n{constructor(e,o){super(e,o),this._viewModelHandlesGroup=null,this.activeToolInfo=null,this.defaultLassoToolOptions={createTool:\"polygon\",mode:\"freehand\"},this.defaultRectangleToolOptions={createTool:\"rectangle\"},this.messages=null,this.toolConfigs=[],this.viewModel=new u,this.visibleElements={...m},this.scale=\"s\",this.layout=\"horizontal\",this._viewModelHandlesGroup=t([this.viewModel.on(\"complete\",(e=>{this._set(\"activeToolInfo\",null),this.emit(\"complete\",e)}))])}destroy(){this._viewModelHandlesGroup=l(this._viewModelHandlesGroup)}loadDependencies(){return c({action:()=>import(\"@esri/calcite-components/dist/components/calcite-action\")})}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get layers(){return o(s.getLogger(this),\"layers\",{replacement:\"Use SelectionToolbar.sources instead.\"}),this.viewModel.sources}set layers(e){o(s.getLogger(this),\"layers\",{replacement:\"Use SelectionToolbar.sources instead.\"}),this.viewModel.sources=e}get layerViewPreferenceEnabled(){return this.viewModel.layerViewPreferenceEnabled}set layerViewPreferenceEnabled(e){this.viewModel.layerViewPreferenceEnabled=e}get sources(){return this.viewModel.sources}set sources(e){this.viewModel.sources=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}castVisibleElements(e){return{...m,...e}}get state(){return this.viewModel.state}get visibleToolCount(){const{view:e,toolConfigs:o,visibleElements:t}=this;return(o?.length??0)+(\"2d\"===e?.type?(t.lassoTool?1:0)+(t.rectangleTool?1:0):0)}activate(e){if(this.cancel(),\"disabled\"!==this.state)switch(e){case\"lasso\":this._activateTool(\"lasso\");break;case\"rectangle\":this._activateTool(\"rectangle\");break;default:this._activateTool(e)}}cancel(){this.viewModel.cancel(),this._set(\"activeToolInfo\",null)}render(){return h(\"div\",{\"aria-label\":this.label,class:this.classes(g.base,d.widget)},h(\"div\",{class:g.container},this._renderDefaultTools(),this._renderCustomTools()))}_renderDefaultTools(){if(\"2d\"===this.view?.type)return[this._renderRectangleTool(),this._renderLassoTool()]}_renderCustomTools(){if(this.toolConfigs?.length)return this.toolConfigs.map((({toolName:e,icon:o,toolKey:t})=>this._renderToolWithTooltip(e,t,o)))}_renderLassoTool(){const{messages:e,visibleElements:o}=this;if(!o.lassoTool)return;const t=e.selectByLasso;return this._renderToolWithTooltip(\"lasso\",\"lasso\",\"lasso-select\",t)}_renderRectangleTool(){const{messages:e,visibleElements:o}=this;if(!o.rectangleTool)return;const t=e.selectByRectangle;return this._renderToolWithTooltip(\"rectangle\",\"rectangle\",\"cursor-marquee\",t)}_renderToolWithTooltip(e,o,t,s=e){const l=`${this.id}-tool-${o}`;return h(\"calcite-action\",{active:this.activeToolInfo?.toolName===e,bind:this,class:g.toolButton,disabled:\"disabled\"===this.state,icon:t||\"selection\",id:l,key:l,onclick:()=>this._toggleTool(e),scale:this.scale,text:s,title:s})}_activateTool(e){const o=this._getToolOptions(e);if(!o)return;const t=this.viewModel.activate(o);t&&this._set(\"activeToolInfo\",{toolName:e,operation:t})}_toggleTool(e){if(this.activeToolInfo){const o=this.activeToolInfo.toolName;if(this.cancel(),o===e)return}this._activateTool(e)}_getToolOptions(e){return\"lasso\"===e?this.defaultLassoToolOptions:\"rectangle\"===e?this.defaultRectangleToolOptions:this.toolConfigs.find((o=>o.toolName===e))}};e([i({readOnly:!0})],T.prototype,\"activeToolInfo\",void 0),e([i()],T.prototype,\"defaultLassoToolOptions\",void 0),e([i()],T.prototype,\"defaultRectangleToolOptions\",void 0),e([i()],T.prototype,\"label\",null),e([i()],T.prototype,\"layers\",null),e([i()],T.prototype,\"layerViewPreferenceEnabled\",null),e([i(),p(\"esri/widgets/support/SelectionToolbar/t9n/SelectionToolbar\")],T.prototype,\"messages\",void 0),e([i()],T.prototype,\"sources\",null),e([i()],T.prototype,\"toolConfigs\",void 0),e([i()],T.prototype,\"view\",null),e([i()],T.prototype,\"viewModel\",void 0),e([i()],T.prototype,\"visibleElements\",void 0),e([r(\"visibleElements\")],T.prototype,\"castVisibleElements\",null),e([i()],T.prototype,\"scale\",void 0),e([i()],T.prototype,\"state\",null),e([i()],T.prototype,\"layout\",void 0),e([i()],T.prototype,\"visibleToolCount\",null),T=e([a(\"esri.widgets.support.SelectionToolbar\")],T);const f=T;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../intl.js\";import{isSome as t}from\"../core/arrayUtils.js\";import{handlesGroup as o}from\"../core/handleUtils.js\";import i from\"../core/Logger.js\";import{removeMaybe as s,destroyMaybe as l}from\"../core/maybe.js\";import{ignoreAbortErrors as r}from\"../core/promiseUtils.js\";import{watch as n,syncAndInitial as a,when as c}from\"../core/reactiveUtils.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import{subclass as d}from\"../core/accessorSupport/decorators/subclass.js\";import u from\"../views/interactive/sketch/SketchValueOptions.js\";import h from\"./Widget.js\";import v from\"./Sketch/SketchViewModel.js\";import{VisibleElements as m}from\"./Sketch/VisibleElements.js\";import{LayoutPriority as g}from\"./Sketch/support/sketchUtils.js\";import f from\"./Sketch/support/ResponsiveToolbar/ResponsiveToolbar.js\";import{loadCalciteComponents as _}from\"./support/componentsUtils.js\";import y from\"./support/SelectionToolbar.js\";import b from\"./support/SketchTooltipControls.js\";import w from\"./support/SnappingControls.js\";import\"./support/widgetUtils.js\";import{messageBundle as T}from\"./support/decorators/messageBundle.js\";import{vmEvent as M}from\"./support/decorators/vmEvent.js\";import{tsx as C}from\"./support/jsxFactory.js\";import O from\"./support/SketchTooltipControls/VisibleElements.js\";import{substitute as k}from\"../intl/substitute.js\";const S=\"esri-sketch\",P={base:S,vertical:`${S}--vertical`,docked:`${S}-bar`,floating:`${S}-pad`,chipHorizontal:`${S}__selection-count-chip--horizontal`,chipVertical:`${S}__selection-count-chip--vertical`,chipVerticalSmall:`${S}__selection-count-chip--vertical--s`,popoverWrapper:`${S}__popover-wrapper`},I={point:\"pin\",polyline:\"line\",polygon:\"polygon\",rectangle:\"rectangle\",circle:\"circle\",multipoint:\"pins\",mesh:\"i3-d-building\",freehandPolygon:\"freehand-area\",freehandPolyline:\"freehand\"};let R=class extends h{constructor(e,t){super(e,t),this._activeCustomToolOptions=null,this._selectionToolbar=null,this._viewModelHandlesGroup=null,this.availableCreateTools=[\"point\",\"polyline\",\"polygon\",\"rectangle\",\"circle\"],this.customToolOptions=null,this.customActions=null,this.toolbarKind=\"floating\",this.contextualToolLocation=\"separate\",this.groupCollapsePriorities=null,this.messages=null,this.messagesCommon=null,this.visibleElements=new m,this._defaultViewModel=null,this._calcitePopoverReferenceElement=null,this._relativeLocation=\"top\",this._popoverOpen=!1,this._activateCreateTool=this._activateCreateTool.bind(this),this.viewModel=e?.viewModel||(this._defaultViewModel=new v({creationMode:e?.creationMode??\"continuous\"}))}initialize(){const{layer:e,view:t}=this,i=new y({view:\"2d\"===t?.type?t:null,sources:e?[e]:null,scale:this.scale});this.addHandles([n((()=>this.viewModel),(e=>{this._viewModelHandlesGroup=s(this._viewModelHandlesGroup),e&&(this._viewModelHandlesGroup=o([e.on(\"create\",(()=>this.scheduleRender())),e.on(\"update\",(()=>this.scheduleRender())),e.on(\"delete\",(e=>this.emit(\"delete\",e))),e.on(\"undo\",(()=>this.scheduleRender())),e.on(\"redo\",(()=>this.scheduleRender())),n((()=>e.layer),(e=>{this._selectionToolbar&&(this._selectionToolbar.sources=e?[e]:null)})),n((()=>e.view),(e=>{this._selectionToolbar&&(this._selectionToolbar.view=\"2d\"===e?.type?e:null)})),n((()=>e.state),(()=>this.notifyChange(\"state\")))]))}),a),c((()=>i.activeToolInfo),(()=>this.viewModel.cancel())),i.on(\"complete\",(e=>this._onSelectionOperationComplete(e))),n((()=>{const{selectionTools:e}=this.visibleElements;return{lassoTool:!!e?.[\"lasso-selection\"],rectangleTool:!!e?.[\"rectangle-selection\"]}}),(e=>{Object.assign(i.visibleElements,e)}),a)]),this._selectionToolbar=i}loadDependencies(){return _({action:()=>import(\"@esri/calcite-components/dist/components/calcite-action\"),chip:()=>import(\"@esri/calcite-components/dist/components/calcite-chip\"),popover:()=>import(\"@esri/calcite-components/dist/components/calcite-popover\")})}destroy(){this._selectionToolbar?.destroy(),this._viewModelHandlesGroup=s(this._viewModelHandlesGroup)}get activeTool(){const e=this._selectionToolbar?.activeToolInfo;if(e)switch(e.toolName){case\"lasso\":return\"lasso-selection\";case\"rectangle\":return\"rectangle-selection\";case\"default\":return\"custom-selection\"}const t=this._effectiveAvailableCreateTools,{activeTool:o,activeCreateToolDrawMode:i}=this.viewModel;return\"polygon\"===o&&\"freehand\"===i&&t?.includes(\"freehandPolygon\")?\"freehandPolygon\":\"polyline\"===o&&\"freehand\"===i&&t?.includes(\"freehandPolyline\")?\"freehandPolyline\":this.viewModel.activeTool}get activeTooltip(){return this.viewModel.activeTooltip}get createGraphic(){return this.viewModel.createGraphic}get creationMode(){return this.viewModel.creationMode}set creationMode(e){this.viewModel.creationMode=e}get defaultCreateOptions(){return this.viewModel.defaultCreateOptions}set defaultCreateOptions(e){this.viewModel.defaultCreateOptions=e}get defaultUpdateOptions(){return this.viewModel.defaultUpdateOptions}set defaultUpdateOptions(e){this.viewModel.defaultUpdateOptions=e}get icon(){return\"pencil\"}set icon(e){this._overrideIfSome(\"icon\",e)}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get labelOptions(){return this.viewModel.labelOptions}set labelOptions(e){this.viewModel.labelOptions=e}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}set layout(e){this._set(\"layout\",e),this._selectionToolbar&&(this._selectionToolbar.layout=e)}set scale(e){this._set(\"scale\",e),this._selectionToolbar&&(this._selectionToolbar.scale=e)}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(e){this.viewModel.snappingOptions=e}get state(){return this._selectionToolbar?.activeToolInfo?\"active\":this.viewModel.state}get tooltipOptions(){return this.viewModel.tooltipOptions}set tooltipOptions(e){this.viewModel.tooltipOptions=e}get updateGraphics(){return this.viewModel.updateGraphics}get valueOptions(){return this.viewModel.valueOptions}set valueOptions(e){this.viewModel.valueOptions=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}set viewModel(e){const t=this._get(\"viewModel\");e!==t&&(t&&t===this._defaultViewModel&&l(t),this._set(\"viewModel\",e))}get _effectiveAvailableCreateTools(){const{availableCreateTools:e,view:t,visibleElements:o}=this,i=e?.filter((e=>!!o.createTools?.[e]));return\"3d\"===t?.type?i?.filter((e=>\"multipoint\"!==e)):i}create(e,t,o){const i=o?.createOptions??t;return this._activeCustomToolOptions=o,r(this.viewModel.create(e,i))}update(e,t){return r(this.viewModel.update(e,t))}complete(){this.viewModel.complete()}cancel(){this._selectionToolbar?.cancel(),this.viewModel.cancel(),this._activeCustomToolOptions=null}undo(){this.viewModel.undo(),this.view?.focus()}redo(){this.viewModel.redo(),this.view?.focus()}delete(){this.viewModel.delete()}duplicate(){return this.viewModel.duplicate()}dismissFloatingElements(){this._popoverOpen=!1}render(){const{toolbarKind:e,layout:t,scale:o}=this,i=this.customActions?.filter((e=>\"selection-toolbar\"===e.position));return C(\"div\",null,C(\"div\",{classes:{[P.base]:!0,[P.floating]:\"floating\"===e,[P.docked]:\"docked\"===e,[P.vertical]:\"vertical\"===t}},C(f,{barStyle:e,layout:t,scale:o},this._renderSelectionSetItemGroupInline(),C(\"div\",{\"group-kind\":\"split-button\",key:\"selection-split-button\",priority:this.groupCollapsePriorities?.get(\"selectionTools\")??g.Low},this._renderDefaultSelectionButton(),this._selectionToolbar?.render(),i?.map((e=>this._renderToolbarItem(e)))),this._renderCreateToolActionGroup(),this._renderUndoRedoMenuItemGroup(),this._renderSettingsMenuItemGroup()),this._renderSelectionSetToolbar(),this._renderSettingsMenuPopover()))}_renderSettingsMenuPopover(){const{messagesCommon:e,snappingOptions:t,view:o,viewModel:i,visibleElements:s}=this;if(!this._calcitePopoverReferenceElement)return;const l={directionModePicker:s.directionModePicker,labelsToggle:s.labelsToggle,tooltipsToggle:s.tooltipsToggle},r=\"horizontal\"===this.layout?\"top\"===this._relativeLocation?\"bottom-end\":\"top-end\":\"right-end\";return C(\"calcite-popover\",{closable:!0,focusTrapDisabled:!0,heading:e.settings,label:e.settings,open:this._popoverOpen,overlayPositioning:\"fixed\",placement:r,referenceElement:this._calcitePopoverReferenceElement,scale:this.scale,onCalcitePopoverBeforeClose:()=>this._popoverOpen=!1,onCalcitePopoverBeforeOpen:e=>this._remeasurePopoverSizes(e.currentTarget),onCalcitePopoverClose:()=>this._refocusOnView()},C(\"div\",{class:P.popoverWrapper},Object.values(l).includes(!0)?C(b,{sketchOptions:i.sketchOptions,viewType:o?.type,visibleElements:new O(l)}):void 0,s.snappingControls&&o&&t?C(w,{snappingManager:this.viewModel.snappingManager,snappingOptions:t,view:o,visibleElements:s.snappingControlsElements}):void 0))}_renderSelectionSetToolbar(){if(\"separate\"!==this.contextualToolLocation)return;const e=this._renderSelectionSetItemGroup();return e?.length?C(f,{barStyle:this.toolbarKind,layout:this.layout,scale:this.scale},e):void 0}_renderSelectionSetItemGroupInline(){return\"separate\"===this.contextualToolLocation?[]:this._renderSelectionSetItemGroup()}_renderUndoRedoMenuItemGroup(){return C(\"div\",{\"group-kind\":\"split-button\",key:\"undo-redo-menu\",priority:this.groupCollapsePriorities?.get(\"undoRedo\")??g.Medium,slot:\"actions-end\"},this._renderUndoButton(),this._renderRedoButton())}_renderSettingsMenuItemGroup(){const e=[],o=[];this.customActions?.forEach((t=>{\"settings-before\"===t.position?o.push(t):\"settings-after\"===t.position&&e.push(t)}));const i=[...o.map((e=>this._renderToolbarItem(e))),this._renderSettingsMenuButton(),...e.map((e=>this._renderToolbarItem(e)))].filter(t);if(i.length)return C(\"div\",{\"allow-collapse\":!1,\"group-kind\":\"overflow-group\",key:\"settings-menu\",priority:this.groupCollapsePriorities?.get(\"settings\")??g.Max,slot:\"actions-end\"},i)}_renderSelectionSetItemGroup(){if(!this.updateGraphics.length)return[];const e=\"inline-end\"===this.contextualToolLocation?\"actions-end\":void 0,t=this.customActions?.filter((e=>\"before-selection-set\"===e.position)),o=this.customActions?.filter((e=>\"after-selection-set\"===e.position)),i=this.groupCollapsePriorities?.get(\"selectionSet\")??g.High;return[C(\"div\",{\"group-kind\":\"measured-content\",key:\"selection-count-chip-group\",priority:i,slot:e},this._renderFeatureCountChip()),C(\"div\",{\"allow-collapse\":!1,\"group-kind\":\"overflow-group\",key:\"selection-set-tool-group\",priority:i,slot:e},t?.map((e=>this._renderToolbarItem(e))),this._renderDuplicateButton(),this._renderDeleteButton(),o?.map((e=>this._renderToolbarItem(e))))]}_renderDefaultSelectionButton(){if(!this.viewModel.updateOnGraphicClick)return[];const{messages:e,state:t}=this;return this._renderToolbarItem({id:\"pointer-select\",text:e.selectFeature,icon:\"cursor\",onclick:this._activateDefaultSelectTool,active:\"ready\"===t})}_renderCreateToolActionGroup(){const e=this._effectiveAvailableCreateTools?.flatMap((e=>this._renderBuiltInCreateToolItem(e)))??[],t=this.customToolOptions?.flatMap((e=>this._renderCustomToolItem(e)))??[];return C(\"div\",{\"group-kind\":\"overflow-group\",key:\"create-tools-group\",priority:this.groupCollapsePriorities?.get(\"createTools\")??g.High},e,t)}_renderBuiltInCreateToolItem(e){return this._renderToolbarItem({id:`${e}-button`,text:this.messages.draw[e],icon:I[e],onclick:()=>this._activateCreateTool(e),active:this.activeTool===e&&!this._activeCustomToolOptions})}_renderCustomToolItem(e){const{toolKey:t}=e;return this._renderToolbarItem({id:`custom-${e.toolKey}`,text:e.label,icon:e.icon,onclick:()=>this._activateCreateTool(e.toolName,null,e),active:this._activeCustomToolOptions?.toolKey===t})}_renderUndoButton(){return this.visibleElements.undoRedoMenu?this._renderToolbarItem({id:\"undo-button\",text:this.messages.undo,icon:\"undo\",disabled:!this.viewModel.canUndo(),onclick:this.undo,flipRTL:!0}):[]}_renderRedoButton(){return this.visibleElements.undoRedoMenu?this._renderToolbarItem({id:\"redo-button\",text:this.messages.redo,icon:\"redo\",disabled:!this.viewModel.canRedo(),onclick:this.redo,flipRTL:!0}):[]}_renderSettingsMenuButton(){return this.visibleElements.settingsMenu?this._renderToolbarItem({id:\"settings-menu-action\",text:this.messagesCommon.settings,icon:\"gear\",active:this._popoverOpen,onclick:()=>this._popoverOpen=!this._popoverOpen,afterCreate:e=>this._calcitePopoverReferenceElement=e,afterUpdate:e=>this._calcitePopoverReferenceElement=e,afterRemoved:()=>this._calcitePopoverReferenceElement=null}):[]}_renderFeatureCountChip(){if(!this.visibleElements.selectionCountLabel)return[];const{layout:e,messages:t,scale:o,id:i,updateGraphics:{length:s}}=this,l=k(t.selectedCount,{count:s}),r=\"s\"===o?99:999,n=s>r?k(t.selectedCountTruncated,{truncated:r}):s,a=\"s\"===o&&\"vertical\"===e,c=a?`${i}-selection-chip-small`:`${i}-selection-chip`;return[a?C(\"span\",{classes:{[P.chipVertical]:!0,[P.chipVerticalSmall]:\"s\"===this.scale},id:c,tabIndex:0,title:l},n):C(\"calcite-chip\",{appearance:\"outline\",class:\"horizontal\"===e?P.chipHorizontal:P.chipVertical,id:c,kind:\"brand\",label:l,scale:\"l\"===o?\"m\":\"s\",tabIndex:0,title:\"vertical\"===e?l:void 0},\"vertical\"===e?n:l)]}_renderDuplicateButton(){if(!this.visibleElements.duplicateButton)return[];const{messages:e}=this;return this._renderToolbarItem({id:\"duplicate\",text:this.updateGraphics.length>1?e.duplicateFeatures:e.duplicateFeature,icon:\"copy\",onclick:this._onDuplicateSelect})}_renderDeleteButton(){if(!this.visibleElements.deleteButton)return[];const{messages:e}=this,t=this.updateGraphics.length>1?e.deleteFeatures:e.deleteFeature;return this._renderToolbarItem({id:\"delete\",text:t,icon:\"trash\",onclick:this.delete})}_renderToolbarItem({id:e,text:t,icon:o,disabled:i,onclick:s,active:l,flipRTL:r,afterCreate:n,afterUpdate:a,afterRemoved:c}){const p=`${this.id}-${e}`;return[C(\"calcite-action\",{active:l,afterCreate:n,afterRemoved:c,afterUpdate:a,bind:this,\"data-testid\":e,disabled:i||\"disabled\"===this.state,icon:o,iconFlipRtl:r??!1,id:p,key:e,onclick:s,scale:this.scale,text:t,title:t})]}_remeasurePopoverSizes(e){try{const t=e.parentElement,o=this?.view?.container?.getBoundingClientRect(),i=t?.style;if(!(t&&o&&i&&this.view?.container?.contains(t)))return;const s=this._calcitePopoverReferenceElement;if(!s)return;const{bottom:l,top:r}=s.getBoundingClientRect();if(\"horizontal\"===this.layout){const e=l<o.height/2;e!==(\"top\"===this._relativeLocation)&&(this._relativeLocation=e?\"top\":\"bottom\"),e?(i?.setProperty(\"--sketch-view-height-offset\",l-o.top+\"px\"),i?.setProperty(\"--sketch-view-margin-offset\",\"30px\")):(i?.setProperty(\"--sketch-view-height-offset\",o.bottom-r+\"px\"),i?.setProperty(\"--sketch-view-margin-offset\",\"15px\"))}else\"vertical\"===this.layout&&(i.setProperty(\"--sketch-view-height-offset\",\"15px\"),i.setProperty(\"--sketch-view-margin-offset\",\"15px\"));const n=e.shadowRoot?.querySelector(\"div.header\")?.getBoundingClientRect().height;i.setProperty(\"--sketch-popover-header-offset\",`${n}px`)}catch(t){i.getLogger(this.declaredClass).warnOnce(\"Sketch failed to lay out settings menu.\",t)}}_activateCreateTool(e,t,o){const i=this._activeCustomToolOptions;if(o||i){if(o?.toolKey===i?.toolKey)return void this.cancel()}else if(this.activeTool===e)return void this.cancel();this._selectionToolbar?.cancel(),this.create(e,t,o)}_onDuplicateSelect(){const e=this.duplicate(),t=this.viewModel.activeTool;\"transform\"!==t&&\"reshape\"!==t||this.update(e,{tool:t})}_onSelectionOperationComplete(e){const{viewModel:{defaultUpdateOptions:t}}=this,{selection:o}=e;if(!e.aborted&&o.length){const e=t.tool,i=o.length>1&&\"reshape\"===e?\"transform\":e;this.update(o,{...t,tool:i})}this.notifyChange(\"state\")}_activateDefaultSelectTool(){this.cancel(),this.view?.focus()}_refocusOnView(){this.activeTool&&this.view?.focus()}};e([p()],R.prototype,\"_activeCustomToolOptions\",void 0),e([p()],R.prototype,\"activeTool\",null),e([p({readOnly:!0})],R.prototype,\"activeTooltip\",null),e([p({cast:e=>{if(!e?.length)return null;const t=new Set([\"point\",\"polyline\",\"polygon\",\"rectangle\",\"circle\",\"multipoint\",\"freehandPolyline\",\"freehandPolygon\",\"mesh\"]);return e.filter((e=>t.has(e)))}})],R.prototype,\"availableCreateTools\",void 0),e([p({readOnly:!0})],R.prototype,\"createGraphic\",null),e([p()],R.prototype,\"creationMode\",null),e([p()],R.prototype,\"customToolOptions\",void 0),e([p()],R.prototype,\"customActions\",void 0),e([p()],R.prototype,\"defaultCreateOptions\",null),e([p()],R.prototype,\"defaultUpdateOptions\",null),e([p()],R.prototype,\"icon\",null),e([p()],R.prototype,\"label\",null),e([p()],R.prototype,\"labelOptions\",null),e([p()],R.prototype,\"layer\",null),e([p({type:[\"horizontal\",\"vertical\"],value:\"horizontal\"})],R.prototype,\"layout\",null),e([p({value:\"m\"})],R.prototype,\"scale\",null),e([p()],R.prototype,\"toolbarKind\",void 0),e([p()],R.prototype,\"contextualToolLocation\",void 0),e([p()],R.prototype,\"groupCollapsePriorities\",void 0),e([p(),T(\"esri/widgets/Sketch/t9n/Sketch\")],R.prototype,\"messages\",void 0),e([p(),T(\"esri/t9n/common\")],R.prototype,\"messagesCommon\",void 0),e([p()],R.prototype,\"snappingOptions\",null),e([p()],R.prototype,\"state\",null),e([p()],R.prototype,\"tooltipOptions\",null),e([p({readOnly:!0})],R.prototype,\"updateGraphics\",null),e([p({type:u,nonNullable:!0})],R.prototype,\"valueOptions\",null),e([p()],R.prototype,\"view\",null),e([p({type:v}),M([\"create\",\"update\",\"undo\",\"redo\"])],R.prototype,\"viewModel\",null),e([p({type:m,nonNullable:!0})],R.prototype,\"visibleElements\",void 0),e([p()],R.prototype,\"_effectiveAvailableCreateTools\",null),e([p()],R.prototype,\"_defaultViewModel\",void 0),e([p()],R.prototype,\"_calcitePopoverReferenceElement\",void 0),e([p()],R.prototype,\"_relativeLocation\",void 0),e([p()],R.prototype,\"_popoverOpen\",void 0),R=e([d(\"esri.widgets.Sketch\")],R);const j=R;export{j as default};\n","import { proxyExports as w, watch as r, trackPropKey as f } from \"@arcgis/components-controllers\";\nimport { AccessorController as p, accessorSupport as a } from \"@arcgis/components-controllers/accessor\";\nimport { a as l } from \"./component-utils.js\";\n/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\nv4.32.14 */\nconst P = (d, s) => (i, e) => _(i, d, e);\nclass y extends p {\n  constructor(s, i, e) {\n    super(s, i, e), this._watchedViewModelProperties = /* @__PURE__ */ new Map(), this._watchedVisibleElementsProperties = {}, this._isBindingViewModel = { value: !0 }, Object.defineProperty(this.exports, \"viewModel\", {\n      value: a.makeGetterProxy(s, this._watchedViewModelProperties, this._isBindingViewModel)\n    }), Object.defineProperty(this.exports, \"visibleElements\", {\n      value: this._makeVisibleElementsBinder()\n    });\n  }\n  hostConnected() {\n    super.hostConnected(), this._isBindingViewModel.value = !1, this.component.manager.loadedCalled && l(this.component);\n  }\n  async hostLoad() {\n    if (this._watchedProperties.delete(\"viewModel\"), await super.hostLoad(), this.component.manager.destroyed)\n      return;\n    this._watchMetaProperties(), this.onLifecycle(() => this.reactiveUtils.watch(() => this._instance.viewModel, (e) => {\n      this.component.viewModel = e;\n    }, { initial: !0 }));\n    const s = this._instance.viewModel;\n    typeof s == \"object\" && (a.watchComponentUpdates(this, s, this._watchedViewModelProperties), a.watchAccessorUpdates(this, s, this._watchedViewModelProperties));\n    const i = Object.entries(this._watchedVisibleElementsProperties);\n    i.length > 0 && this.onLifecycle(() => i.map(([e, t]) => {\n      let n = this._instance.visibleElements ?? {}, o;\n      for (const c of t.slice(0, -1))\n        if (typeof n[c] == \"object\" && n[c] !== null)\n          n = n[c];\n        else {\n          o = !!n[c];\n          break;\n        }\n      o === void 0 && (o = !!(n[t.slice(-1)[0]] ?? !0)), e.startsWith(\"hide\");\n      const m = e.startsWith(\"hide\") || e.startsWith(\"show\") ? e.startsWith(\"hide\") : o, h = this.component;\n      return typeof h[e] == \"boolean\" ? this._updateWidgetVisibleElement(t, h[e], m) : h[e] = !1, r(this.component, e, (c) => this._updateWidgetVisibleElement(t, c, m));\n    }));\n  }\n  _updateWidgetVisibleElement(s, i, e) {\n    let t = this._instance.visibleElements ?? {};\n    for (const o of s.slice(0, -1))\n      (typeof t[o] != \"object\" || t[o] === null) && (t[o] = {}), t = t[o];\n    const n = !!(e ? !i : i);\n    t[s.at(-1)] = n;\n  }\n  hostLoaded() {\n    const { el: s } = this.component;\n    s.childElem ??= document.createElement(\"div\"), this._instance.container = s.childElem;\n    let i = !1;\n    const e = this.component.el.view;\n    Object.defineProperty(this.component.el, \"view\", {\n      get: () => this._instance.view ?? this._instance.viewModel?.view,\n      set: (t) => {\n        !(\"view\" in this._instance) && typeof this._instance.viewModel == \"object\" ? this._instance.viewModel.view = t : this._instance.view = t, !(\"map\" in this._instance) && typeof this._instance.viewModel == \"object\" ? this._instance.viewModel.map = t.map : this._instance.map = t.map, this._watchViewDestroy(), t && !i && (i = !0, this.component.arcgisReady.emit());\n      },\n      configurable: !0,\n      enumerable: !0\n    }), e && (this._instance.view = e), this.component.el.isConnected && (l(this.component), this._watchViewDestroy());\n  }\n  hostDisconnected() {\n    typeof this.component.el.childElem == \"object\" && this.component.el.view?.ui?.remove(this.component.el.childElem);\n  }\n  hostDestroy() {\n    super.hostDestroy(), this._watchViewDestroyHandle?.remove();\n  }\n  _watchMetaProperties() {\n    r(this.component, \"position\", (s) => {\n      this.component.el.childElem != null && typeof s == \"string\" && l(this.component);\n    }), r(this.component, \"referenceElement\", () => l(this.component));\n  }\n  _makeVisibleElementsBinder() {\n    return new Proxy({}, {\n      has: (s, i) => typeof i == \"string\" || Reflect.has(s, i),\n      get: (s, i) => {\n        if (typeof i == \"symbol\" || i in Promise.prototype)\n          return Reflect.get(s, i);\n        const e = [i], t = this._makeRecursiveProxy(e);\n        return f(this.component, (n) => {\n          const o = n;\n          this.component[o] = !1, this._watchedVisibleElementsProperties[o] = e;\n        }, t);\n      }\n    });\n  }\n  _makeRecursiveProxy(s) {\n    const i = new Proxy({}, {\n      get: (e, t) => {\n        const n = Reflect.get(e, t);\n        return typeof t == \"symbol\" || t in Promise.prototype ? n : (s.push(t), i);\n      }\n    });\n    return i;\n  }\n  /**\n   * Destroy the component if view gets destroyed.\n   *\n   * When view is destroyed, component disconnect is triggered, which will\n   * destroy the component in 1s but that can be too late, because in the\n   * meanwhile, a watcher on the widget/viewModel instance may get triggered,\n   * and throw an error if it's not able to access this.view.map or etc\n   * (happens in VersionManagementViewModel for example).\n   *\n   * We can't check for this in disconnectedCallback though as, if the entire\n   * component tree is removed, the disconnect for the component will be\n   * triggered before that of arcgis-map, so the view might not be destroyed\n   * yet at that point.\n   */\n  _watchViewDestroy() {\n    this._watchViewDestroyHandle?.remove(), this._watchViewDestroyHandle = this.reactiveUtils.when(() => this.component.el.view?.destroyed === !0, () => void this.component.destroy().catch(console.error), { sync: !0 });\n  }\n}\nconst _ = w(y);\nexport {\n  P as m\n};\n","import { c as s } from \"../../chunks/runtime.js\";\nimport { usePropertyChange as o } from \"@arcgis/components-controllers\";\nimport { reEmitEvent as t } from \"@arcgis/components-controllers/accessor\";\nimport l from \"@arcgis/core/layers/GraphicsLayer.js\";\nimport n from \"@arcgis/core/widgets/Sketch.js\";\nimport { LitElement as a, createEvent as d, noShadowRoot as h } from \"@arcgis/lumina\";\nimport { m as r } from \"../../chunks/useWidget.js\";\nimport { css as g } from \"@lit/reactive-element/css-tag.js\";\n/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\nv4.32.14 */\nconst p = g`@layer{arcgis-sketch{display:block}}`, c = r(n);\nclass m extends a {\n  // #endregion\n  // #region Lifecycle\n  constructor() {\n    super(), this.widget = c(this, { editConstructorProperties: this._editConstructorProperties }), this.viewModel = this.widget.viewModel, this.activeTool = this.widget.activeTool, this.autoDestroyDisabled = !1, this.availableCreateTools = this.widget.availableCreateTools, this.createGraphic = this.widget.createGraphic, this.creationMode = this.widget.creationMode, this.defaultCreateOptions = this.widget.defaultCreateOptions, this.defaultGraphicsLayerDisabled = !1, this.defaultUpdateOptions = this.widget.defaultUpdateOptions, this.hideCreateToolsCircle = this.widget.visibleElements.createTools.circle, this.hideCreateToolsPoint = this.widget.visibleElements.createTools.point, this.hideCreateToolsPolygon = this.widget.visibleElements.createTools.polygon, this.hideCreateToolsPolyline = this.widget.visibleElements.createTools.polyline, this.hideCreateToolsRectangle = this.widget.visibleElements.createTools.rectangle, this.hideDuplicateButton = this.widget.visibleElements.duplicateButton, this.hideDeleteButton = this.widget.visibleElements.deleteButton, this.hideSelectionCountLabel = this.widget.visibleElements.selectionCountLabel, this.hideLabelsToggle = this.widget.visibleElements.labelsToggle, this.hideSelectionToolsLassoSelection = this.widget.visibleElements.selectionTools[\"lasso-selection\"], this.hideSelectionToolsRectangleSelection = this.widget.visibleElements.selectionTools[\"rectangle-selection\"], this.hideSettingsMenu = this.widget.visibleElements.settingsMenu, this.hideSnappingControls = this.widget.visibleElements.snappingControls, this.hideSnappingControlsElementsEnabledToggle = this.widget.visibleElements.snappingControlsElements.enabledToggle, this.hideSnappingControlsElementsFeatureEnabledToggle = this.widget.visibleElements.snappingControlsElements.featureEnabledToggle, this.hideSnappingControlsElementsLayerList = this.widget.visibleElements.snappingControlsElements.layerList, this.hideSnappingControlsElementsSelfEnabledToggle = this.widget.visibleElements.snappingControlsElements.selfEnabledToggle, this.hideTooltipsToggle = this.widget.visibleElements.tooltipsToggle, this.hideUndoRedoMenu = this.widget.visibleElements.undoRedoMenu, this.icon = this.widget.icon, this.label = this.widget.label, this.labelOptions = this.widget.labelOptions, this.layer = this.widget.layer, this.layout = this.widget.layout, this.pointSymbol = this.viewModel.pointSymbol, this.polygonSymbol = this.viewModel.polygonSymbol, this.polylineSymbol = this.viewModel.polylineSymbol, this.position = \"bottom-left\", this.scale = this.widget.scale, this.toolbarKind = this.widget.toolbarKind, this.showSnappingControlsElementsHeader = this.widget.visibleElements.snappingControlsElements.header, this.snappingOptions = this.widget.snappingOptions, this.state = this.widget.state, this.tooltipOptions = this.widget.tooltipOptions, this.updateGraphics = this.widget.updateGraphics, this.arcgisCreate = t(() => this.widget, \"create\"), this.arcgisDelete = t(() => this.widget, \"delete\"), this.arcgisPropertyChange = o()(\"state\"), this.arcgisReady = d(), this.arcgisRedo = t(() => this.widget, \"redo\"), this.arcgisUndo = t(() => this.widget, \"undo\"), this.arcgisUpdate = t(() => this.widget, \"update\"), this.listen(\"arcgisReady\", this._arcgisReadyHandler);\n  }\n  static {\n    this.properties = { activeTool: 3, autoDestroyDisabled: 5, availableCreateTools: 0, createGraphic: 0, creationMode: 1, defaultCreateOptions: 0, defaultGraphicsLayerDisabled: 5, defaultUpdateOptions: 0, hideCreateToolsCircle: 5, hideCreateToolsPoint: 5, hideCreateToolsPolygon: 5, hideCreateToolsPolyline: 5, hideCreateToolsRectangle: 5, hideDuplicateButton: 5, hideDeleteButton: 5, hideSelectionCountLabel: 5, hideLabelsToggle: 5, hideSelectionToolsLassoSelection: 5, hideSelectionToolsRectangleSelection: 5, hideSettingsMenu: 5, hideSnappingControls: 5, hideSnappingControlsElementsEnabledToggle: 5, hideSnappingControlsElementsFeatureEnabledToggle: 5, hideSnappingControlsElementsLayerList: 5, hideSnappingControlsElementsSelfEnabledToggle: 5, hideTooltipsToggle: 5, hideUndoRedoMenu: 5, icon: 1, label: 1, labelOptions: 0, layer: 0, layout: 1, pointSymbol: 0, polygonSymbol: 0, polylineSymbol: 0, position: 1, referenceElement: 1, scale: 1, toolbarKind: 1, showSnappingControlsElementsHeader: 5, snappingOptions: 0, state: 3, tooltipOptions: 0, updateGraphics: 0 };\n  }\n  static {\n    this.shadowRootOptions = h;\n  }\n  static {\n    this.styles = p;\n  }\n  // #endregion\n  // #region Public Methods\n  async cancel() {\n    this.widget?.cancel();\n  }\n  async complete() {\n    this.widget?.complete();\n  }\n  async create(e, i) {\n    await this.widget?.create(e, i);\n  }\n  async delete() {\n    this.widget?.delete();\n  }\n  /** Permanently destroy the component */\n  async destroy() {\n    await this.manager.destroy();\n  }\n  async duplicate() {\n    this.widget?.duplicate();\n  }\n  async redo() {\n    this.widget?.redo();\n  }\n  async triggerUpdate(e, i) {\n    this.widget?.update(e, i);\n  }\n  async undo() {\n    this.widget?.undo();\n  }\n  // #endregion\n  // #region Private Methods\n  _arcgisReadyHandler() {\n    this.defaultGraphicsLayerDisabled || this.el.view?.map.add(this.widget.layer);\n  }\n  async _editConstructorProperties(e) {\n    return this.defaultGraphicsLayerDisabled || (e.layer ??= new l({ title: \"Sketch Layer\" })), e;\n  }\n}\ns(\"arcgis-sketch\", m);\nexport {\n  m as ArcgisSketch\n};\n","|\n<template>\n    <arcgis-sketch ref=\"sketchEl\" style=\"display: none\" />\n</template>\n<script lang=\"ts\">\nexport const DRAW_GRAPHICS_LAYER_ID = 'RampDrawGraphicsLayer';\n</script>\n\n<script setup lang=\"ts\">\n/**\n * @file draw.vue\n * @description Implements drawing functionality using the ESRI Sketch component.\n * It supports multiple drawing tools, multi-point mode, selection, deletion,\n * keyboard-based editing (including arrow key movement, resizing, and rotation),\n * and accessibility announcements.\n * See: https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-sketch/\n\n/* --------------------------------------------------------------------------\n * IMPORTS\n * -------------------------------------------------------------------------- */\nimport { inject, onMounted, onUnmounted, watch, reactive, useTemplateRef } from 'vue';\nimport { useDrawStore } from './store';\nimport { InstanceAPI } from '@/api/internal';\nimport '@arcgis/map-components/components/arcgis-sketch';\nimport { LayerType } from '@/geo/api';\nimport { useI18n } from 'vue-i18n';\nimport {\n    EsriGraphic,\n    EsriPoint,\n    EsriPolygon,\n    EsriPolyline,\n    EsriSimpleFillSymbol,\n    EsriSimpleLineSymbol,\n    EsriSimpleMarkerSymbol\n} from '@/geo/esri';\nimport { GlobalEvents } from '@/api';\n\n/* --------------------------------------------------------------------------\n * CONSTANTS & GLOBAL VARIABLES\n * -------------------------------------------------------------------------- */\nconst { t } = useI18n();\n\n// add helper to translate raw tool names (fallbacks to \"unknown\")\nconst translateTerm = (key?: string): string => (key ? t(`draw.${key}`) : t('draw.unknown'));\n\nconst iApi = inject('iApi') as InstanceAPI;\nconst drawStore = useDrawStore();\n\n// Sketch widget and graphics layer reference variables\nlet sketch: HTMLArcgisSketchElement | null = null;\nconst sketchEl = useTemplateRef<HTMLArcgisSketchElement>('sketchEl');\nlet sketchHandler: { remove: () => void } | null = null;\nlet graphicsLayer: __esri.GraphicsLayer | null = null;\n\n// Variables for selected and highlighted graphics\nlet selectedGraphic: __esri.Graphic | null = null;\nlet highlightGraphic: __esri.Graphic | null = null;\n\n// Multi-point mode state variables\nlet multiPointMode = false;\nlet multiPointGraphic: __esri.Graphic | null = null;\n\ntype Vertex = [number, number]; // [x, y] coordinates\nlet multiPointVertices: Vertex[] = [];\n\nconst rampEventHandlers = reactive<Array<string>>([]);\n\n/* --------------------------------------------------------------------------\n * HELPER FUNCTIONS\n * -------------------------------------------------------------------------- */\n/**\n * Updates the highlight for the given graphic.\n * Clears any previous highlight, creates a new symbol based on geometry type,\n * and adds the highlight graphic to the graphics layer.\n * @param graphic The graphic to highlight.\n */\nconst highlightSelectedGraphic = (graphic?: __esri.Graphic | undefined) => {\n    if (highlightGraphic) {\n        graphicsLayer?.remove(highlightGraphic);\n        highlightGraphic = null;\n    }\n    if (!graphic) return;\n\n    let highlightSymbol: __esri.Symbol;\n    switch (graphic.geometry?.type) {\n        case 'point':\n        case 'multipoint':\n            highlightSymbol = new EsriSimpleMarkerSymbol({\n                color: [255, 255, 0, 0.8],\n                size: 16,\n                outline: {\n                    color: [255, 165, 0, 1],\n                    width: 3\n                }\n            });\n            break;\n        case 'polyline':\n            highlightSymbol = new EsriSimpleLineSymbol({\n                color: [255, 255, 0, 0.8],\n                width: 6\n            });\n            break;\n        default: // polygon, rectangle, circle\n            highlightSymbol = new EsriSimpleFillSymbol({\n                color: [255, 255, 0, 0.3],\n                outline: {\n                    color: [255, 165, 0, 1],\n                    width: 3\n                }\n            });\n    }\n    highlightGraphic = new EsriGraphic({\n        geometry: graphic.geometry,\n        // @ts-expect-error esri type mismatch\n        symbol: highlightSymbol\n    });\n    graphicsLayer?.add(highlightGraphic);\n};\n\n/* --------------------------------------------------------------------------\n * WATCHERS\n * -------------------------------------------------------------------------- */\n// Watch changes to the selected graphic ID and update the Sketch widget and highlight.\nwatch(\n    () => drawStore.selectedGraphicId,\n    (newId, oldId) => {\n        if (!sketch || !graphicsLayer) return;\n        if (!newId) {\n            sketch.cancel();\n            highlightSelectedGraphic();\n        } else if (newId !== oldId) {\n            const graphics = graphicsLayer.graphics.toArray();\n            const selectedEsriGraphic = graphics.find(g => g.attributes && g.attributes.id === newId);\n            if (selectedEsriGraphic) {\n                sketch.triggerUpdate([selectedEsriGraphic]);\n                highlightSelectedGraphic(selectedEsriGraphic);\n            }\n        }\n    }\n);\n\n/* --------------------------------------------------------------------------\n * GRAPHIC CREATION FUNCTIONS\n * -------------------------------------------------------------------------- */\n/**\n * Selects a graphic located at the center of the view using a hit test.\n */\nconst selectCenteredGraphic = async () => {\n    if (!graphicsLayer || !sketch || drawStore.activeTool !== 'edit') return;\n    await iApi.geo.map.viewPromise;\n    const view = iApi.geo.map.esriView!;\n    const centerPoint = { x: view.width / 2, y: view.height / 2 };\n    const searchArea = {\n        x: centerPoint.x,\n        y: centerPoint.y,\n        width: 20,\n        height: 20\n    };\n    const response = await view.hitTest(searchArea);\n    const hits = response.results.filter((result): result is __esri.GraphicHit => {\n        if (!('graphic' in result) || result.graphic.layer !== graphicsLayer) return false;\n        return !!result.graphic.attributes?.id;\n    });\n    if (hits.length > 0) {\n        selectedGraphic = hits[0].graphic;\n        sketch.triggerUpdate([selectedGraphic]);\n        if (selectedGraphic.attributes?.id) {\n            drawStore.selectGraphic(selectedGraphic.attributes.id);\n        }\n        iApi.updateAlert(\n            t('draw.graphic.selected', {\n                type: translateTerm(selectedGraphic.attributes?.type)\n            })\n        );\n    } else {\n        sketch.cancel();\n        selectedGraphic = null;\n        drawStore.clearSelection();\n    }\n};\n\n/**\n * Creates a graphic at the center of the view based on the active tool.\n */\nconst createGraphicAtCenter = async () => {\n    if (!sketch || !drawStore.activeTool) return;\n    await iApi.geo.map.viewPromise;\n    const view = iApi.geo.map.esriView!;\n    const centerScreen = { x: Math.floor(view.width / 2), y: Math.floor(view.height / 2) };\n    const centerPoint = view.toMap(centerScreen);\n    const extent = view.extent;\n    const mapWidth = extent.width;\n    const mapHeight = extent.height;\n    const shapeSize = Math.min(mapWidth, mapHeight) / 10;\n\n    let graphic;\n    switch (drawStore.activeTool) {\n        case 'point':\n            graphic = new EsriGraphic({\n                geometry: new EsriPoint({\n                    x: centerPoint.x,\n                    y: centerPoint.y,\n                    spatialReference: view.spatialReference\n                }),\n                symbol: sketch.pointSymbol\n            });\n            break;\n        case 'polyline':\n            graphic = new EsriGraphic({\n                geometry: new EsriPolyline({\n                    paths: [\n                        [\n                            [centerPoint.x - shapeSize / 2, centerPoint.y],\n                            [centerPoint.x + shapeSize / 2, centerPoint.y]\n                        ]\n                    ],\n                    spatialReference: view.spatialReference\n                }),\n                symbol: sketch.polylineSymbol\n            });\n            break;\n        case 'polygon':\n        case 'rectangle':\n            const halfSize = shapeSize / 2;\n            graphic = new EsriGraphic({\n                geometry: new EsriPolygon({\n                    rings: [\n                        [\n                            [centerPoint.x - halfSize, centerPoint.y - halfSize],\n                            [centerPoint.x + halfSize, centerPoint.y - halfSize],\n                            [centerPoint.x + halfSize, centerPoint.y + halfSize],\n                            [centerPoint.x - halfSize, centerPoint.y + halfSize],\n                            [centerPoint.x - halfSize, centerPoint.y - halfSize]\n                        ]\n                    ],\n                    spatialReference: view.spatialReference\n                }),\n                symbol:\n                    sketch.polygonSymbol ||\n                    new EsriSimpleFillSymbol({\n                        color: [0, 255, 0, 0.3],\n                        outline: {\n                            color: [0, 255, 0, 1],\n                            width: 1\n                        }\n                    })\n            });\n            break;\n        case 'circle':\n            const radius = shapeSize / 2;\n            const numPoints = 36;\n            const circleRing = [];\n            for (let i = 0; i <= numPoints; i++) {\n                const angle = (i / numPoints) * 2 * Math.PI;\n                const x = centerPoint.x + radius * Math.cos(angle);\n                const y = centerPoint.y + radius * Math.sin(angle);\n                circleRing.push([x, y]);\n            }\n            graphic = new EsriGraphic({\n                geometry: new EsriPolygon({\n                    rings: [circleRing],\n                    spatialReference: view.spatialReference\n                }),\n                symbol:\n                    sketch.polygonSymbol ||\n                    new EsriSimpleFillSymbol({\n                        color: [255, 0, 255, 0.3],\n                        outline: {\n                            color: [255, 0, 255, 1],\n                            width: 1\n                        }\n                    })\n            });\n            break;\n        default:\n            console.warn('Unknown tool type:', drawStore.activeTool);\n            return;\n    }\n\n    if (graphic) {\n        const id = `graphic-${Date.now()}`;\n        graphic.attributes = { id, type: drawStore.activeTool };\n        graphicsLayer?.add(graphic);\n        drawStore.addGraphic({\n            id,\n            type: drawStore.activeTool,\n            geometry: graphic.geometry,\n            attributes: graphic.attributes\n        });\n\n        // cancel sketch if graphic is not a point\n        if (drawStore.activeTool !== 'point') {\n            drawStore.clearSelection();\n            drawStore.setActiveTool(null);\n            sketch.cancel();\n        }\n\n        iApi.updateAlert(\n            t('draw.graphic.created', {\n                type: translateTerm(drawStore.activeTool)\n            })\n        );\n    }\n};\n\n/* --------------------------------------------------------------------------\n * KEYBOARD EVENT HANDLING (Multi-point mode and normal operations)\n * -------------------------------------------------------------------------- */\n/**\n * Handles keyboard events for drawing and editing.\n */\nconst handleNavigationKeyDown = (e: KeyboardEvent) => {\n    const mapElement = iApi.geo.map.esriView?.container;\n    if (!document.activeElement || !mapElement?.contains(document.activeElement)) {\n        return;\n    }\n    switch (e.key) {\n        case 'Enter':\n            e.preventDefault();\n            if (drawStore.activeTool && drawStore.activeTool !== 'edit') {\n                if (\n                    (drawStore.activeTool === 'polyline' || drawStore.activeTool === 'polygon') &&\n                    (multiPointMode || multiPointVertices.length === 0)\n                ) {\n                    const view = iApi.geo.map.esriView!;\n                    const centerScreen = { x: Math.floor(view.width / 2), y: Math.floor(view.height / 2) };\n                    const centerPoint = view.toMap(centerScreen);\n                    if (!multiPointMode) {\n                        multiPointMode = true;\n                        multiPointVertices = [[centerPoint.x, centerPoint.y]];\n                        if (drawStore.activeTool === 'polyline') {\n                            multiPointGraphic = new EsriGraphic({\n                                geometry: new EsriPolyline({\n                                    paths: [multiPointVertices],\n                                    spatialReference: view.spatialReference\n                                }),\n                                symbol:\n                                    sketch?.polylineSymbol ||\n                                    new EsriSimpleLineSymbol({ color: [0, 0, 255, 1], width: 2 })\n                            });\n                        } else {\n                            multiPointGraphic = new EsriGraphic({\n                                geometry: new EsriPolygon({\n                                    rings: [multiPointVertices],\n                                    spatialReference: view.spatialReference\n                                }),\n                                symbol:\n                                    sketch?.polygonSymbol ||\n                                    new EsriSimpleFillSymbol({\n                                        color: [0, 255, 0, 0.3],\n                                        outline: { color: [0, 255, 0, 1], width: 1 }\n                                    })\n                            });\n                        }\n                        multiPointGraphic.attributes = { id: `temp-graphic-${Date.now()}`, type: drawStore.activeTool };\n                        graphicsLayer?.add(multiPointGraphic);\n\n                        iApi.updateAlert(\n                            t('draw.multiPoint.started', {\n                                type: translateTerm(drawStore.activeTool),\n                                count: 1\n                            })\n                        );\n                    } else {\n                        multiPointVertices.push([centerPoint.x, centerPoint.y]);\n                        if (drawStore.activeTool === 'polyline') {\n                            multiPointGraphic!.geometry = new EsriPolyline({\n                                paths: [multiPointVertices],\n                                spatialReference: view.spatialReference\n                            });\n                        } else {\n                            multiPointGraphic!.geometry = new EsriPolygon({\n                                rings: [multiPointVertices],\n                                spatialReference: view.spatialReference\n                            });\n                        }\n\n                        iApi.updateAlert(\n                            t('draw.multiPoint.pointAdded', {\n                                type: translateTerm(drawStore.activeTool),\n                                count: multiPointVertices.length\n                            })\n                        );\n                    }\n                } else {\n                    createGraphicAtCenter();\n                }\n            } else {\n                selectCenteredGraphic();\n            }\n            break;\n\n        case 'Delete':\n        case 'Backspace':\n            const view = iApi.geo.map.esriView!;\n            if (multiPointMode && multiPointVertices.length > 1) {\n                e.preventDefault();\n                multiPointVertices.pop();\n                if (drawStore.activeTool === 'polyline') {\n                    multiPointGraphic!.geometry = new EsriPolyline({\n                        paths: [multiPointVertices],\n                        spatialReference: view.spatialReference\n                    });\n                } else {\n                    multiPointGraphic!.geometry = new EsriPolygon({\n                        rings: [multiPointVertices],\n                        spatialReference: view.spatialReference\n                    });\n                }\n                // Notify geometry change using public API\n                multiPointGraphic!.set('geometry', multiPointGraphic?.geometry);\n                iApi.updateAlert(\n                    t('draw.multiPoint.pointRemoved', {\n                        type: translateTerm(drawStore.activeTool ?? undefined),\n                        count: multiPointVertices.length\n                    })\n                );\n            } else if (multiPointMode && multiPointVertices.length === 1) {\n                e.preventDefault();\n                if (multiPointGraphic) {\n                    graphicsLayer?.remove(multiPointGraphic);\n                }\n                multiPointGraphic = null;\n                multiPointVertices = [];\n                multiPointMode = false;\n                iApi.updateAlert(t('draw.multiPoint.canceled'));\n            } else if (selectedGraphic) {\n                e.preventDefault();\n                sketch?.delete();\n                graphicsLayer?.remove(selectedGraphic);\n                if (typeof drawStore.removeGraphic === 'function') {\n                    drawStore.removeGraphic(selectedGraphic.attributes.id);\n                }\n                selectedGraphic = null;\n                highlightSelectedGraphic(undefined);\n                iApi.updateAlert(t('draw.graphic.deleted'));\n            }\n            break;\n\n        case 'Escape':\n            drawStore.setActiveTool(null);\n            sketch?.cancel();\n            selectedGraphic = null;\n            highlightSelectedGraphic(undefined);\n            drawStore.clearSelection();\n            iApi.updateAlert(t('draw.tool.canceled'));\n            break;\n    }\n};\n\nconst handleGraphicKeyboardEdit = (e: KeyboardEvent) => {\n    const mapElement = iApi.geo.map.esriView!.container;\n    if (!document.activeElement || !mapElement?.contains(document.activeElement)) return;\n    if (!selectedGraphic) return;\n    const isMovementKey = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key);\n    if (!isMovementKey) return;\n    e.preventDefault();\n    e.stopPropagation();\n    const translateDelta = 10; // Pixels to move\n    const isResizing = e.shiftKey;\n    const isRotating = e.altKey;\n    const view = iApi.geo.map.esriView!;\n    let screenDx = 0,\n        screenDy = 0;\n    if (e.key === 'ArrowLeft') screenDx = -translateDelta;\n    if (e.key === 'ArrowRight') screenDx = translateDelta;\n    if (e.key === 'ArrowUp') screenDy = -translateDelta;\n    if (e.key === 'ArrowDown') screenDy = translateDelta;\n    const geometry = selectedGraphic.geometry!;\n    let center;\n    if (geometry.type === 'point') {\n        center = { x: geometry.x, y: geometry.y };\n    } else {\n        const extent = geometry.extent!;\n        center = { x: (extent.xmin + extent.xmax) / 2, y: (extent.ymin + extent.ymax) / 2 };\n    }\n    const screenPoint = view.toScreen(\n        new EsriPoint({\n            x: center.x,\n            y: center.y,\n            spatialReference: view.spatialReference\n        })\n    )!;\n    screenPoint.x += screenDx;\n    screenPoint.y += screenDy;\n    const mapPoint = view.toMap(screenPoint);\n    const mapDx = mapPoint.x - center.x;\n    const mapDy = mapPoint.y - center.y;\n    let newGeometry;\n    if (geometry.type === 'point') {\n        if (!isResizing && !isRotating) {\n            newGeometry = new EsriPoint({\n                x: geometry.x + mapDx,\n                y: geometry.y + mapDy,\n                spatialReference: geometry.spatialReference\n            });\n        } else if (isResizing) {\n            newGeometry = geometry.clone();\n            iApi.updateAlert(t('draw.point.resize.unsupported'));\n        } else if (isRotating) {\n            newGeometry = geometry.clone();\n            iApi.updateAlert(t('draw.point.rotate.unsupported'));\n        }\n    } else if (geometry.type === 'polyline') {\n        if (!isResizing && !isRotating) {\n            const polyline = geometry as __esri.Polyline;\n            const newPaths = polyline.paths.map(path => path.map(([x, y]) => [x + mapDx, y + mapDy]));\n            newGeometry = new EsriPolyline({\n                paths: newPaths,\n                spatialReference: geometry.spatialReference\n            });\n        } else if (isResizing) {\n            const polyline = geometry as __esri.Polyline;\n            const scaleFactor = e.key === 'ArrowUp' || e.key === 'ArrowRight' ? 1.05 : 0.95;\n            const newPaths = polyline.paths.map(path =>\n                path.map(([x, y]) => [center.x + (x - center.x) * scaleFactor, center.y + (y - center.y) * scaleFactor])\n            );\n            newGeometry = new EsriPolyline({\n                paths: newPaths,\n                spatialReference: geometry.spatialReference\n            });\n        } else if (isRotating) {\n            const polyline = geometry as __esri.Polyline;\n            const angle = e.key === 'ArrowLeft' ? -0.05 : e.key === 'ArrowRight' ? 0.05 : 0;\n            if (angle !== 0) {\n                const cos = Math.cos(angle);\n                const sin = Math.sin(angle);\n                const newPaths = polyline.paths.map(path =>\n                    path.map(([x, y]) => {\n                        const dx = x - center.x;\n                        const dy = y - center.y;\n                        const rx = dx * cos - dy * sin;\n                        const ry = dx * sin + dy * cos;\n                        return [center.x + rx, center.y + ry];\n                    })\n                );\n                newGeometry = new EsriPolyline({\n                    paths: newPaths,\n                    spatialReference: geometry.spatialReference\n                });\n            } else {\n                newGeometry = geometry.clone();\n            }\n        }\n    } else if (geometry.type === 'polygon') {\n        if (!isResizing && !isRotating) {\n            const polygon = geometry as __esri.Polygon;\n            const newRings = polygon.rings.map(ring => ring.map(([x, y]) => [x + mapDx, y + mapDy]));\n            newGeometry = new EsriPolygon({\n                rings: newRings,\n                spatialReference: geometry.spatialReference\n            });\n        } else if (isResizing) {\n            const polygon = geometry as __esri.Polygon;\n            const scaleFactor = e.key === 'ArrowUp' || e.key === 'ArrowRight' ? 1.05 : 0.95;\n            const newRings = polygon.rings.map(ring =>\n                ring.map(([x, y]) => [center.x + (x - center.x) * scaleFactor, center.y + (y - center.y) * scaleFactor])\n            );\n            newGeometry = new EsriPolygon({\n                rings: newRings,\n                spatialReference: geometry.spatialReference\n            });\n        } else if (isRotating) {\n            const polygon = geometry as __esri.Polygon;\n            const angle = e.key === 'ArrowLeft' ? -0.05 : e.key === 'ArrowRight' ? 0.05 : 0;\n            if (angle !== 0) {\n                const cos = Math.cos(angle);\n                const sin = Math.sin(angle);\n                const newRings = polygon.rings.map(ring =>\n                    ring.map(([x, y]) => {\n                        const dx = x - center.x;\n                        const dy = y - center.y;\n                        const rx = dx * cos - dy * sin;\n                        const ry = dx * sin + dy * cos;\n                        return [center.x + rx, center.y + ry];\n                    })\n                );\n                newGeometry = new EsriPolygon({\n                    rings: newRings,\n                    spatialReference: geometry.spatialReference\n                });\n            } else {\n                newGeometry = geometry.clone();\n            }\n        }\n    }\n    if (newGeometry) {\n        selectedGraphic.geometry = newGeometry;\n        selectedGraphic.set('geometry', newGeometry);\n        highlightSelectedGraphic(selectedGraphic);\n        if (selectedGraphic.attributes?.id) {\n            drawStore.updateGraphicGeometry(selectedGraphic.attributes.id, newGeometry);\n        }\n        const action = isResizing ? 'resized' : isRotating ? 'rotated' : 'moved';\n        iApi.updateAlert(t(`draw.graphic.${action}`));\n    }\n};\n\n/* --------------------------------------------------------------------------\n * VIEW CLICK HANDLER\n * -------------------------------------------------------------------------- */\n/**\n * Handles click events on the view to allow graphic selection.\n * Delegates to the Sketch widget if a graphic is clicked; otherwise clears selection.\n * @param event The view click event.\n */\nconst handleViewClick = async (event: __esri.ViewClickEvent) => {\n    const view = iApi.geo.map.esriView!;\n    const response = await view.hitTest(event);\n    const hit = response.results.find(\n        (result): result is __esri.GraphicHit =>\n            'graphic' in result && result.graphic.layer === graphicsLayer && !!result.graphic.attributes?.id\n    );\n\n    if (hit && drawStore.activeTool === 'edit') {\n        sketch?.triggerUpdate([hit.graphic]);\n    } else {\n        sketch?.cancel();\n        selectedGraphic = null;\n        drawStore.clearSelection();\n        highlightSelectedGraphic();\n    }\n};\n\nconst initializeDrawTools = async () => {\n    await iApi.geo.map.viewPromise;\n\n    // Create or get the graphics layer for drawings\n    if (!iApi.geo.layer.getLayer(DRAW_GRAPHICS_LAYER_ID)) {\n        // @ts-expect-error esri type mismatch\n        graphicsLayer = iApi.geo.layer.createLayer({\n            id: DRAW_GRAPHICS_LAYER_ID,\n            layerType: LayerType.GRAPHIC,\n            cosmetic: true,\n            system: true,\n            url: ''\n        });\n        // @ts-expect-error esri type mismatch\n        await iApi.geo.map.addLayer(graphicsLayer);\n    } else {\n        // @ts-expect-error esri type mismatch\n        graphicsLayer = iApi.geo.layer.getLayer(DRAW_GRAPHICS_LAYER_ID)!.esriLayer;\n    }\n    // @ts-expect-error esri type mismatch\n    if (graphicsLayer?.esriLayer) graphicsLayer = graphicsLayer.esriLayer;\n\n    Object.assign(sketchEl.value!, {\n        view: iApi.geo.map.esriView!,\n        layer: graphicsLayer!,\n        availableCreateTools: ['point', 'multipoint', 'polyline', 'polygon', 'rectangle', 'circle'],\n        updateOnGraphicClick: true,\n        visibleElements: {\n            createTools: { point: true, polyline: true, polygon: true, rectangle: true, circle: true },\n            selectionTools: { enable: true },\n            settingsMenu: false\n        },\n        defaultUpdateOptions: { highlightOptions: { enabled: false } }\n    });\n    iApi.geo.map.esriView!.ui.add(sketchEl.value!, 'bottom-right');\n\n    sketchEl.value?.addEventListener('arcgisCreate', e => handleSketchCreateEvent(e.detail));\n    sketchEl.value?.addEventListener('arcgisUpdate', e => handleSketchUpdateEvent(e.detail));\n\n    sketchHandler = {\n        remove: () => sketchEl.value?.removeEventListener('arcgisCreate', e => handleSketchCreateEvent(e.detail))\n    };\n\n    sketch = sketchEl.value;\n\n    // Add DOM event listeners\n    iApi.geo.map.esriView!.on('click', handleViewClick);\n    document.addEventListener('keydown', handleNavigationKeyDown);\n    document.addEventListener('keydown', handleGraphicKeyboardEdit, { capture: true });\n};\n\nconst cleanupDrawTools = () => {\n    if (sketch) {\n        if (iApi.geo.map.esriView) {\n            iApi.geo.map.esriView.ui.remove(sketch);\n        }\n        if (sketchHandler) {\n            sketchHandler.remove();\n        }\n        sketch.destroy();\n    }\n\n    document.removeEventListener('keydown', handleNavigationKeyDown);\n    document.removeEventListener('keydown', handleGraphicKeyboardEdit, { capture: true });\n\n    multiPointMode = false;\n    multiPointGraphic = null;\n    multiPointVertices = [];\n\n    sketch = null;\n    graphicsLayer = null;\n};\n\n// Extract the existing sketch event handlers for reuse\nconst handleSketchCreateEvent = (event: __esri.SketchCreateEvent) => {\n    if (event.state === 'complete') {\n        const graphic = event.graphic;\n        const id = `graphic-${Date.now()}`;\n        graphic.attributes = graphic.attributes || {};\n        graphic.attributes.id = id;\n        drawStore.addGraphic({\n            id,\n            type: event.tool,\n            geometry: graphic.geometry,\n            attributes: graphic.attributes\n        });\n\n        if (event.tool !== 'point') {\n            drawStore.setActiveTool(null);\n        }\n    }\n};\n\nconst handleSketchUpdateEvent = (event: __esri.SketchUpdateEvent) => {\n    const graphic = event.graphics[0];\n    if (!graphic) return;\n\n    if (event.state === 'start') {\n        if (drawStore.activeTool !== 'edit') {\n            sketch!.cancel();\n            return;\n        }\n\n        selectedGraphic = graphic;\n        if (graphic.attributes?.id) {\n            drawStore.selectGraphic(graphic.attributes.id);\n            iApi.updateAlert(\n                t('draw.graphic.selected', {\n                    type: translateTerm(graphic.attributes?.type)\n                })\n            );\n        }\n    } else if (event.state === 'active') {\n        // update highlight while editing\n        highlightSelectedGraphic(graphic);\n    } else if (event.state === 'complete') {\n        if (graphic.attributes?.id) {\n            drawStore.updateGraphicGeometry(graphic.attributes.id, graphic.geometry);\n            iApi.updateAlert(t('draw.graphic.updated'));\n        }\n    }\n};\n\n/* --------------------------------------------------------------------------\n * INITIALIZATION & EVENT LISTENERS\n * -------------------------------------------------------------------------- */\nonMounted(() => {\n    initializeDrawTools();\n\n    // Listen for map creation/destruction events\n    rampEventHandlers.push(\n        iApi.event.on(GlobalEvents.MAP_DESTROYED, () => {\n            cleanupDrawTools();\n        })\n    );\n});\n\n/* --------------------------------------------------------------------------\n * ACTIVE TOOL WATCHER\n * -------------------------------------------------------------------------- */\nwatch(\n    () => drawStore.activeTool,\n    newTool => {\n        sketch!.cancel();\n        highlightSelectedGraphic();\n        multiPointGraphic = null;\n        multiPointVertices = [];\n        multiPointMode = false;\n        if (newTool && newTool != 'edit') {\n            sketch!.create(newTool);\n        }\n    }\n);\n\n/* --------------------------------------------------------------------------\n * CLEANUP ON UNMOUNT\n * -------------------------------------------------------------------------- */\nonUnmounted(() => {\n    cleanupDrawTools();\n\n    // Remove RAMP event handlers\n    rampEventHandlers.forEach(handler => iApi.event.off(handler));\n});\n</script>\n","import { FixtureInstance, InstanceAPI } from '@/api';\nimport { useDrawStore } from '../store';\nimport { DRAW_GRAPHICS_LAYER_ID } from '../draw.vue';\n\nconst DEFAULT_DRAW_TYPES: DrawTypeConfig[] = [\n    { type: 'point' },\n    { type: 'polyline' },\n    { type: 'polygon' },\n    { type: 'circle' },\n    { type: 'rectangle' }\n];\n\nexport interface DrawTypeConfig {\n    type: string;\n    options?: Record<string, any>;\n    enabled?: boolean; // optional, default true\n}\n\nexport interface DrawFixtureConfig {\n    types?: DrawTypeConfig[];\n    defaultTool?: string;\n}\n\nexport class DrawAPI extends FixtureInstance {\n    store: ReturnType<typeof useDrawStore>;\n\n    constructor(id: string, iApi: InstanceAPI) {\n        super(id, iApi);\n        this.store = useDrawStore(this.$vApp.$pinia);\n    }\n\n    /**\n     * Parses the draw fixture configuration and sets up the draw store.\n     * @param drawConfig The configuration object for the draw fixture.\n     */\n    _parseConfig(drawConfig: DrawFixtureConfig) {\n        if (!drawConfig) {\n            // if the entire drawConfig object is missing default to all standard types\n            this.store.setSupportedTypes(DEFAULT_DRAW_TYPES);\n            return;\n        }\n\n        // Handle types configuration\n        if (drawConfig.types !== undefined) {\n            // The 'types' property is provided in the configuration.\n            // This includes an empty array [] (user explicitly wants no types from config)\n            // or null (treat as explicitly no types).\n            const typesSource = drawConfig.types === null ? [] : drawConfig.types;\n            const enabledTypes = typesSource.filter(t => t.enabled !== false);\n            this.store.setSupportedTypes(enabledTypes);\n        } else {\n            // The 'types' property is not set (undefined) in the configuration.\n            // Default to all standard types.\n            this.store.setSupportedTypes(DEFAULT_DRAW_TYPES);\n        }\n\n        // Set default tool if provided in the configuration\n        if (drawConfig.defaultTool) {\n            this.store.setActiveTool(drawConfig.defaultTool);\n        }\n    }\n\n    /**\n     * Returns the ID of the graphics layer used by the draw fixture.\n     */\n    get graphicsLayerId(): string {\n        return DRAW_GRAPHICS_LAYER_ID;\n    }\n}\n","export default \"key,enValue,enValid,frValue,frValid\\ndraw.multiPoint.started,{type} drawing started with 1 point,1,Dessin de {type} commenc avec 1 point,0\\ndraw.multiPoint.pointAdded,Point added {count} points total,1,Point ajout, {count} points au total,0\\ndraw.multiPoint.pointRemoved,Point removed {count} points remaining,1,Point supprim, {count} points restants,0\\ndraw.multiPoint.canceled,Drawing canceled,1,Dessin annul,0\\ndraw.multiPoint.completed,{type} completed with {count} points,1,{type} termin avec {count} points,0\\ndraw.multiPoint.notEnoughPoints,Not enough points for {type} minimum {min} required,1,Pas assez de points pour {type}, minimum {min} requis,0\\ndraw.graphic.created,{type} created,1,{type} cr,0\\ndraw.graphic.selected,{type} selected,1,{type} slectionn,0\\ndraw.graphic.deselected,Graphic deselected,1,Graphique dslectionn,0\\ndraw.graphic.deleted,Graphic deleted,1,Graphique supprim,0\\ndraw.graphic.updated,Graphic updated,1,Graphique mis  jour,0\\ndraw.graphic.none,No graphic found,1,Aucun graphique trouv,0\\ndraw.tool.canceled,Drawing tool canceled,1,Outil de dessin annul,0\\ndraw.point.resize.unsupported,Resizing not supported for point graphics,1,Le redimensionnement n'est pas pris en charge pour les points,0\\ndraw.point.rotate.unsupported,Rotation not supported for point graphics,1,La rotation n'est pas prise en charge pour les points,0\\ndraw.move.up,Moved up,1,Dplac vers le haut,0\\ndraw.move.down,Moved down,1,Dplac vers le bas,0\\ndraw.move.left,Moved left,1,Dplac vers la gauche,0\\ndraw.move.right,Moved right,1,Dplac vers la droite,0\\ndraw.resize.increase,Increased size,1,Taille augmente,0\\ndraw.resize.decrease,Decreased size,1,Taille rduite,0\\ndraw.rotate.clockwise,Rotated clockwise,1,Rotation dans le sens horaire,0\\ndraw.rotate.counterclockwise,Rotated counter-clockwise,1,Rotation dans le sens antihoraire,0\\ndraw.button.point,Draw point,1,Dessiner un point,0\\ndraw.button.polyline,Draw line,1,Dessiner une ligne,0\\ndraw.button.polygon,Draw polygon,1,Dessiner un polygone,0\\ndraw.button.rectangle,Draw rectangle,1,Dessiner un rectangle,0\\ndraw.button.circle,Draw circle,1,Dessiner un cercle,0\\ndraw.point.tooltip,Draw point,1,Dessiner un point,0\\ndraw.polyline.tooltip,Draw polyline,1,Dessiner une polyligne,0\\ndraw.polygon.tooltip,Draw polygon,1,Dessiner un polygone,0\\ndraw.circle.tooltip,Draw circle,1,Dessiner un cercle,0\\ndraw.rectangle.tooltip,Draw rectangle,1,Dessiner un rectangle,0\\ndraw.edit.tooltip,Edit Mode,1,Mode dition,0\\ndraw.graphic.moved,Graphic moved,1,Graphique dplac,0\\ndraw.shape,shape,1,forme,0\\ndraw.point,point,1,indiquer,0\\ndraw.multipoint,multipoint,1,multipoint,0\\ndraw.polyline,polyline,1,polyligne,0\\ndraw.polygon,polygon,1,polygone,0\\ndraw.rectangle,rectangle,1,rectangle,0\\ndraw.circle,circle,1,cercle,0\\ndraw.unknown,unknown,1,inconnue,0\"","import { markRaw } from 'vue';\nimport { useDrawStore } from './store';\nimport { DrawAPI } from './api/drawApi';\nimport DrawV from './draw.vue';\nimport messages from './lang/lang.csv?raw';\nimport { GlobalEvents } from '@/api';\n\nclass DrawFixture extends DrawAPI {\n    async init() {\n        // Mount a new instance of the component\n        const { el } = this.mount(DrawV, {\n            app: this.$element\n        });\n\n        // Add it to the DOM\n        const innerShell = this.$vApp.$el.getElementsByClassName('inner-shell')[0];\n        innerShell.appendChild(el.childNodes[0]);\n\n        // Add language messages\n        Object.entries(messages).forEach(value => this.$iApi.$i18n.mergeLocaleMessage(...value));\n        this._parseConfig(this.config);\n\n        // Register only the icons for enabled draw types\n        const drawStore = useDrawStore(this.$vApp.$pinia);\n        drawStore.supportedTypes.forEach(typeCfg => {\n            const name = `${typeCfg.type}-icon`;\n            this.$iApi.component(name, markRaw(import(`./icons/${typeCfg.type}-icon.vue`)));\n        });\n    }\n\n    async added() {\n        // Re-initialize on map create or config change\n        this.$iApi.event.on(GlobalEvents.MAP_CREATED, () => {\n            this.init();\n        });\n    }\n}\n\nexport default DrawFixture;\n"],"names":["f","g","p","e","o","c","r","n","l","m","t","h","u","s","i","a","d","b","w","R","x","y","S","j","A","D","T","E","J","L","N","O","V","v","z","M","B","G","H","I","k","q","C","P","W","F","K","R$5","M$2","z$5","Z","_","l$4","a$5","p$9","i$7","t$a","t$9","i$6","t$8","t$7","t$6","P$6","X","Y","e$3","c$8","s$4","E$2","U","i$3","w$7","e$2","t$3","c$7","l$3","h$3","u$5","R$2","v$8","DRAW_GRAPHICS_LAYER_ID","useI18n","translateTerm","key","iApi","inject","drawStore","useDrawStore","sketch","sketchEl","useTemplateRef","sketchHandler","graphicsLayer","selectedGraphic","highlightGraphic","multiPointMode","multiPointGraphic","multiPointVertices","rampEventHandlers","reactive","highlightSelectedGraphic","graphic","highlightSymbol","EsriSimpleMarkerSymbol","EsriSimpleLineSymbol","EsriSimpleFillSymbol","EsriGraphic","watch","newId","oldId","selectedEsriGraphic","selectCenteredGraphic","view","centerPoint","searchArea","hits","result","createGraphicAtCenter","centerScreen","extent","mapWidth","mapHeight","shapeSize","EsriPoint","EsriPolyline","halfSize","EsriPolygon","radius","numPoints","circleRing","angle","id","handleNavigationKeyDown","mapElement","handleGraphicKeyboardEdit","translateDelta","isResizing","isRotating","screenDx","screenDy","geometry","center","screenPoint","mapPoint","mapDx","mapDy","newGeometry","newPaths","path","polyline","scaleFactor","cos","sin","dx","dy","rx","ry","newRings","ring","polygon","action","handleViewClick","event","hit","initializeDrawTools","LayerType","handleSketchCreateEvent","handleSketchUpdateEvent","cleanupDrawTools","onMounted","GlobalEvents","newTool","onUnmounted","handler","DEFAULT_DRAW_TYPES","DrawAPI","FixtureInstance","drawConfig","enabledTypes","messages","DrawFixture","el","DrawV","value","typeCfg","name","markRaw","__variableDynamicImportRuntimeHelper"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66]}