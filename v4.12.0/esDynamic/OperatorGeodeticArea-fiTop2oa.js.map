{"version":3,"file":"OperatorGeodeticArea-fiTop2oa.js","sources":["../../node_modules/@arcgis/core/chunks/GeodeticDistanceCalculator-D4iQ-_NX.js","../../node_modules/@arcgis/core/chunks/OperatorGeodeticArea.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{b as t,c as e}from\"./tslib.es6.js\";import{t as i,G as s,g as n,c as o,v as a,h as m}from\"./Geometry.js\";import{S as r,a as u}from\"./QuadraticBezier.js\";import{v as c,p as h,E as l,F as _,Q as p,R as d,S as g,U as x,V as y,W as P,w as S,X as f,t as G,Y as D,G as v}from\"./ProjectionTransformation.js\";import{h as T,c as b}from\"./Envelope.js\";import{Envelope2D as w}from\"./Envelope2D.js\";import{P as M,b as E,n as R,E as C,o as I}from\"./Point2D.js\";import{T as B}from\"./Transformation2D.js\";import{s as A,w as q,m as N}from\"./Distance2DCalculator-Coa0qAFt.js\";import{O as F}from\"./OperatorShapePreservingDensify.js\";import{O as Y}from\"./OperatorClip.js\";function X(){return new w}class k{[Symbol.dispose](){this.m_peR1.destroy(),this.m_peR2.destroy(),this.m_peR3.destroy(),this.m_peR1=null,this.m_peR2=null,this.m_peR3=null}constructor(t,e,i){this.m_peR1=new l,this.m_peR2=new l,this.m_peR3=new l,void 0!==t?this.reset(t,e,i):this.reset(1,0,1)}reset(t,e,i){this.m_a=t,this.m_e2=e,this.m_b=this.m_a*Math.sqrt(1-this.m_e2),this.m_unitToDegree=i,this.m_unitToRad=.017453292519943295*i,this.m_u180=180/this.m_unitToDegree,this.m_u360=360/this.m_unitToDegree}calculateBbox(t,e,i,s){const n=this.m_peR1,o=this.m_peR2,a=this.m_peR3;_.geodeticDistance(this.m_a,this.m_e2,t*this.m_unitToRad,e*this.m_unitToRad,i*this.m_unitToRad,s*this.m_unitToRad,a,n,o,0);const m=Math.cos(n.val),r=Math.cos(o.val+3.141592653589793),u=e*this.m_unitToRad,c=G.phiToEta(this.m_e2,u),h=Math.sin(n.val)*Math.cos(c);let l=e;if(m*r<0){const t=m<0?-1:1,e=Math.acos(Math.abs(h))*t;l=G.etaToPhi(this.m_e2,e)/this.m_unitToRad}let p=I((i-t)*this.m_unitToRad,2*Math.PI);Math.abs(p)>Math.PI&&(p=p>0?p-2*Math.PI:p+2*Math.PI),p/=this.m_unitToRad,i=t+p;const d=X();return d.xmin=Math.min(t,i),d.xmax=Math.max(t,i),d.ymin=Math.min(e,s),d.ymin=Math.min(d.ymin,l),d.ymax=Math.max(e,s),d.ymax=Math.max(d.ymax,l),d}minDistanceGeodesic(t,e){const i=O(t),s=O(e);if(i&&s)return this.lowerDistanceGeodetic_(t.xmin,t.ymin,e.xmin,e.ymin);const n=this.normalizeGeodesic_(e,t);return U(t,n)?t.ymin>=n.ymax?this.minDistanceGeodesicUpDown_(t,n):n.ymin>=t.ymax?this.minDistanceGeodesicUpDown_(n,t):t.xmin>n.xmax?this.minDistanceGeodesicLeftRight_(n,t):this.minDistanceGeodesicLeftRight_(t,n):0}normalizeGeodesic_(t,e){const i=t.clone(),s=t.clone();let n=V(i,e);if(0===n)return i;for(;s.xmax>e.xmin;){s.xmin-=this.m_u360,s.xmax-=this.m_u360;const t=V(s,e);if(t<n&&(i.assign(s),n=t,0===n))return i}for(s.assign(t);s.xmin<e.xmax;){s.xmin+=this.m_u360,s.xmax+=this.m_u360;const t=V(s,e);if(t<n&&(i.assign(s),n=t,0===n))return i}return i}lowerDistanceGeodetic_(t,e,i,s){const n=this.m_peR1;{const o=this.m_b*this.m_b/this.m_a,a=G.phiToPhig(this.m_e2,this.m_unitToRad*e),m=G.phiToPhig(this.m_e2,this.m_unitToRad*s);_.geodeticDistance(o,0,this.m_unitToRad*t,a,this.m_unitToRad*i,m,n,null,null,0)}return n.val}minDistanceGeodesicUpDown_(t,e){if(e.xmin<=t.xmin?e.xmax>=t.xmin:t.xmax>=e.xmin)return this.lowerDistanceGeodetic_(0,t.ymin,0,e.ymax);if(e.xmin>t.xmax){const i=this.lowerDistanceGeodeticSegMeridional_(t.xmax,t.ymin,t.ymax,e.xmin,e.ymin,e.ymax);if(e.xmax-t.xmin<this.m_u180)return i;const s=this.lowerDistanceGeodeticSegMeridional_(t.xmin,t.ymin,t.ymax,e.xmax,e.ymin,e.ymax);return Math.min(i,s)}{const i=this.lowerDistanceGeodeticSegMeridional_(t.xmin,t.ymin,t.ymax,e.xmax,e.ymin,e.ymax);if(t.xmax-e.xmin<this.m_u180)return i;const s=this.lowerDistanceGeodeticSegMeridional_(t.xmax,t.ymin,t.ymax,e.xmin,e.ymin,e.ymax);return Math.min(i,s)}}minDistanceGeodesicLeftRight_(t,e){let i=Math.abs(t.xmax-e.xmin);for(;i>this.m_u180;)i-=this.m_u360;let s=Math.abs(t.xmin-e.xmax);for(;s>this.m_u180;)s-=this.m_u360;return Math.abs(i)<=Math.abs(s)?this.minDistanceGeodesicLeftRightNormalized_(t,e):this.minDistanceGeodesicLeftRightNormalized_(e,t)}minDistanceGeodesicLeftRightNormalized_(t,e){let i,s;return i=this.lowerDistanceGeodetic_(t.xmax,t.ymin,e.xmin,e.ymin),t.ymin>=e.ymin&&t.ymin<=e.ymax&&(s=this.lowerDistanceGeodeticPtMeridional_(t.xmax,t.ymin,e.xmin,e.ymin,e.ymax),i=Math.min(i,s)),e.ymin>=t.ymin&&e.ymin<=t.ymax&&(s=this.lowerDistanceGeodeticPtMeridional_(e.xmin,e.ymin,t.xmax,t.ymin,t.ymax),i=Math.min(i,s)),s=this.lowerDistanceGeodetic_(t.xmax,t.ymax,e.xmin,e.ymax),i=Math.min(i,s),t.ymax>=e.ymin&&t.ymax<=e.ymax&&(s=this.lowerDistanceGeodeticPtMeridional_(t.xmax,t.ymax,e.xmin,e.ymin,e.ymax),i=Math.min(i,s)),e.ymax>=t.ymin&&e.ymax<=t.ymax&&(s=this.lowerDistanceGeodeticPtMeridional_(e.xmin,e.ymax,t.xmax,t.ymin,t.ymax),i=Math.min(i,s)),i}lowerDistanceGeodeticSegMeridional_(t,e,i,s,n,o){let a=this.lowerDistanceGeodeticPtMeridional_(t,e,s,n,o);const m=this.lowerDistanceGeodeticPtMeridional_(t,i,s,n,o);let r=this.lowerDistanceGeodeticPtMeridional_(s,n,t,e,i);const u=this.lowerDistanceGeodeticPtMeridional_(s,o,t,e,i);return a=Math.min(a,m),r=Math.min(r,u),Math.min(a,r)}lowerDistanceGeodeticPtMeridional_(t,e,i,s,n){const o=this.m_b*this.m_b/this.m_a,a=G.phiToPhig(this.m_e2,this.m_unitToRad*e),m=G.phiToPhig(this.m_e2,this.m_unitToRad*s),r=G.phiToPhig(this.m_e2,this.m_unitToRad*n),u=this.m_peR1,c=this.m_peR2;_.geodeticDistance(o,0,this.m_unitToRad*i,m,this.m_unitToRad*t,a,u,null,null,0),_.geodeticDistance(o,0,this.m_unitToRad*i,r,this.m_unitToRad*t,a,c,null,null,0);const h=p(1,0,new M(this.m_unitToRad*t,a)),l=p(1,0,new M(this.m_unitToRad*i,m)),d=p(1,0,new M(this.m_unitToRad*i,r));let g=new T;g.setCrossProductVector(l,d);const x=l.dotProduct(d);if(g.length()<1.568e-10)return x>=0?Math.min(u.val,c.val):0;g=g.getUnitVector();let y=new T;if(y.setCrossProductVector(g,h),y.length()<1.568e-10){return Math.min(u.val,c.val)-1e-5*o}y=y.getUnitVector();let P=h.sub(g.mul(h.dotProduct(g)));{const e=new T;e.setCrossProductVector(l,P);const i=new T;i.setCrossProductVector(P,d);let s=g.dotProduct(e)>0&&g.dotProduct(i)>0;if(s||(P.negateThis(),e.setCrossProductVector(l,P),i.setCrossProductVector(P,d),s=g.dotProduct(e)>0&&g.dotProduct(i)>0),s){P=P.getUnitVector();const e=D(1,0,P),i=this.m_peR3;_.geodeticDistance(o,0,this.m_unitToRad*t,a,e.x,e.y,i,null,null,0);const s=Math.min(u.val,c.val);return Math.min(s,i.val)}}return Math.min(u.val,c.val)}}function O(t){return t.xmin===t.xmax&&t.ymin===t.ymax}function U(t,e){return e.xmax<t.xmin||e.xmin>t.xmax||e.ymax<t.ymin||e.ymin>t.ymax}function V(t,e){let i,s=0;return i=t.xmin-e.xmax,i>s&&(s=i),i=e.xmin-t.xmax,i>s&&(s=i),s}class j{}function L(t){return{outPoint:void 0===t?new M:t.clone()}}function z(t,e){t.outPoint.assign(e.outPoint)}function H(){return new w}class Q{constructor(t,e,i,s,n=0,o=4){this.m_ptDistFrom=new M,this.m_segStartPt=new M,this.m_segEndPt=new M,this.m_geodeticLength=new l,this.m_az12=new l,this.m_minGeodeticDist=new l,this.m_segStartPt3d=new T,this.m_segEndPt3d=new T,this.m_sr=s,this.m_distCurveType=n,this.m_segCurveType=o,this.m_inputGCS=this.m_sr.getGCS(),this.m_rpu=this.m_inputGCS.getUnit().getUnitToBaseFactor(),this.m_bIsPannablePcs=2===this.m_sr.getCoordinateSystemType()&&this.m_sr.isPannable();const a=v();this.m_inputGCS.querySpheroidData(a),this.m_a=a.majorSemiAxis,this.m_eSquared=a.e2,this.setPointDistFrom(t),this.setSegmentEndPoints(e,i)}setSegmentEndPoints(t,e){this.m_segStartPt.assign(t),this.m_segEndPt.assign(e),this.m_bIsPannablePcs||(this.m_segStartPt.mulThis(this.m_rpu),this.m_segEndPt.mulThis(this.m_rpu)),2===this.m_segCurveType&&(this.m_segStartPt3d.assign(p(this.m_a,this.m_eSquared,this.m_segStartPt)),this.m_segEndPt3d.assign(p(this.m_a,this.m_eSquared,this.m_segEndPt))),this.calculateAndUpdateSegmentLength()}setPointDistFrom(t){this.m_ptDistFrom.assign(t),this.m_ptDistFrom.scale(this.m_rpu)}setSegmentCurveType(t){this.m_segCurveType=t}setDistanceCurveType(t){this.m_distCurveType=t}makeFunctor(){return i=>{let s;switch(this.m_segCurveType){case 0:case 1:case 3:{const o={stack:[],error:void 0,hasError:!1};try{const e=t(o,new l,!1),n=t(o,new l,!1);_.geodeticCoordinate(this.m_a,this.m_eSquared,this.m_segStartPt.x,this.m_segStartPt.y,this.m_geodeticLength.val*i,this.m_az12.val,e,n,this.m_segCurveType),s=new M(e.val,n.val);break}catch(n){o.error=n,o.hasError=!0}finally{e(o)}}case 2:{const t=T.lerp(this.m_segStartPt3d,this.m_segEndPt3d,i);s=D(this.m_a,this.m_eSquared,t);break}case 4:s=M.lerp(this.m_segStartPt,this.m_segEndPt,i),this.m_bIsPannablePcs&&(g(this.m_sr,0,[s],1),s.mulThis(this.m_rpu));break;default:o(\"Invalid curve type\")}return _.geodeticDistance(this.m_a,this.m_eSquared,this.m_ptDistFrom.x,this.m_ptDistFrom.y,s.x,s.y,this.m_minGeodeticDist,null,null,this.m_distCurveType),this.m_minGeodeticDist.val}}calculateAndUpdateSegmentLength(){switch(this.m_segCurveType){case 0:case 2:case 1:case 3:_.geodeticDistance(this.m_a,this.m_eSquared,this.m_segStartPt.x,this.m_segStartPt.y,this.m_segEndPt.x,this.m_segEndPt.y,this.m_geodeticLength,this.m_az12,null,this.m_segCurveType);break;case 4:this.m_geodeticLength.val=M.distance(this.m_segStartPt,this.m_segEndPt);break;default:o(\"Invalid curve type\")}}[Symbol.dispose](){this.m_geodeticLength[Symbol.dispose](),this.m_az12[Symbol.dispose](),this.m_minGeodeticDist[Symbol.dispose]()}}function W(){return new j}class J{[Symbol.dispose](){this.m_envHelper[Symbol.dispose]()}constructor(t,e,i,s,n){this.m_boxGeomA=H(),this.m_boxGeomB=H(),this.m_envGeomA=new w,this.m_envGeomB=new w,this.m_progressCounter=0,this.m_transformPCS2GCS=null,this.m_segmentBoxesA=new Map,this.m_segmentBoxesB=new Map,this.m_boundaryPtsA=[],this.m_boundaryPtsB=[],this.m_scaleToRadians=new B,this.m_scaleToDegrees=new B,this.m_inputSR=t,this.m_distCurveType=e,this.m_progressTracker=i,this.m_maxDistance=s,this.m_maxDeviation=n,this.m_inputGCS=t.getGCS(),this.m_peGeogcs=this.m_inputGCS.getPECoordSys(),this.m_tolerance=0;const o=v();this.m_inputGCS.querySpheroidData(o),this.m_a=o.majorSemiAxis,this.m_eSquared=o.e2,this.m_rpu=this.m_inputGCS.getUnit().getUnitToBaseFactor(),this.m_envHelper=new k(this.m_a,this.m_eSquared,1),4===this.m_distCurveType&&(this.m_distCurveType=0),this.m_boxGeomA.setEmpty(),this.m_boxGeomB.setEmpty(),this.m_envGeomA.setEmpty(),this.m_envGeomB.setEmpty(),this.m_bIsPannablePcs=2===this.m_inputSR.getCoordinateSystemType()&&this.m_inputSR.isPannable()}progress(t=!1){}calculate(t,e,i,s){const n=L(),o=L();if(t.queryEnvelope(this.m_envGeomA),e.queryEnvelope(this.m_envGeomB),this.checkGeometriesIntersect(t,e,n,o))return i&&z(i,n),s&&z(s,o),0;const a=this.prepareGeometry(t);if(a.isEmpty())return Number.NaN;const m=this.prepareGeometry(e);if(m.isEmpty())return Number.NaN;this.m_tolerance=this.computeTolerance(a,m);const r=this._ExecuteBruteForce(a,m,n,o);return r>=this.m_maxDistance?Number.NaN:(i&&(this.prepareOutput(n),z(i,n)),s&&(this.prepareOutput(o),z(s,o)),r)}createDistanceFunctor(t,e,i){const s=new Q(t,e,i,this.m_inputSR,this.m_distCurveType);return this.m_bIsPannablePcs||1===this.m_inputSR.getCoordinateSystemType()||s.setSegmentCurveType(2),s}_NormalizeAndProject(t){if(this.m_inputSR.isPannable()&&(t=(new c).foldInto360Range(t,this.m_inputSR)),2===this.m_inputSR.getCoordinateSystemType()){const e=h(this.m_inputSR,this.m_inputGCS,null);t=(new c).execute(t,e,this.m_progressTracker)}return t}_ExecuteBruteForce(t,e,n,o){switch(t.getGeometryType()){case s.enumPoint:return this.calculateDistanceGeodeticPointGeometry(t,e,n,o);case s.enumMultiPoint:return this.calculateDistanceGeodeticMultipointGeometry(t,e,n,o);case s.enumPolyline:case s.enumPolygon:case s.enumEnvelope:return this.calculateDistanceGeodeticMultipathGeometry(t,e,n,o);default:i(\"\")}}calculateDistanceGeodeticPointGeometry(t,e,n,o){switch(e.getGeometryType()){case s.enumPoint:return this.calculateDistanceGeodeticPointPoint(t,e,n,o);case s.enumMultiPoint:return this.calculateDistanceGeodeticPointMultipoint(t,e,n,o);case s.enumPolyline:case s.enumPolygon:return this.calculateDistanceGeodeticPointMultipath(t,e,n,o);default:i(\"\")}}calculateDistanceGeodeticPointPoint(i,s,n,o){const a={stack:[],error:void 0,hasError:!1};try{const e=i.getXY();e.scale(this.m_rpu);const m=s.getXY();m.scale(this.m_rpu),n.outPoint.assign(e),o.outPoint.assign(m);const r=t(a,new l,!1);return _.geodeticDistance(this.m_a,this.m_eSquared,e.x,e.y,m.x,m.y,r,null,null,this.m_distCurveType),r.val}catch(m){a.error=m,a.hasError=!0}finally{e(a)}}calculateDistanceGeodeticPointMultipoint(i,s,n,o){const a={stack:[],error:void 0,hasError:!1};try{this.computeEnvelopesAndBoxes(i,s);const e=this.estimateMinimumDistance(n,o);let m=e<this.m_maxDistance?e:this.m_maxDistance;const r=i.getXY();r.scale(this.m_rpu),n.outPoint.assign(r);const u=p(this.m_a,this.m_eSquared,r),c=new M,h=s.getImpl(),d=t(a,new l,!1),g=h.getPointCount();for(let t=0;t<g;++t){h.queryXY(t,c),c.scale(this.m_rpu);const e=p(this.m_a,this.m_eSquared,c);if(!(T.distance(u,e)>m)&&(!(this.m_envHelper.minDistanceGeodesic(this.m_boxGeomA,this.m_boxGeomB)>m)&&(_.geodeticDistance(this.m_a,this.m_eSquared,r.x,r.y,c.x,c.y,d,null,null,this.m_distCurveType),d.val<m&&(m=d.val,o.outPoint=c,0===m))))return m}return m===this.m_maxDistance?Number.POSITIVE_INFINITY:m}catch(m){a.error=m,a.hasError=!0}finally{e(a)}}calculateDistanceGeodeticPointMultipath(i,s,o,a){const m={stack:[],error:void 0,hasError:!1};try{const e=new M,r=new M;e.assign(i.getXY()),r.assign(i.getXY()),o.outPoint.assign(r.mul(this.m_rpu)),this.m_bIsPannablePcs&&d(this.m_inputSR,[e],1,!1),this.computeEnvelopesAndBoxes(i,s);const u=this.estimateMinimumDistance(o,a);let c=u<this.m_maxDistance?u:this.m_maxDistance;const h=s.getImpl(),l=new M(0,0),_=new M(0,0),p=[1],g=this.canUseSpatialTree(i,s),x=W();g&&this.buildSpatialTree(x,s);const y=H();y.setCoords({xmin:r.x,ymin:r.y,xmax:r.x,ymax:r.y});const P=t(m,this.createDistanceFunctor(r,l,_),!1),S=h.querySegmentIterator();if(S.stripAttributes(),g)n(0);else for(;S.nextPath();)for(;S.hasNextSegment();){const t=S.nextSegment(),i=this.findOrComputeBoxSegment(S.getStartPointIndex(),t,this.m_segmentBoxesB);if(this.m_envHelper.minDistanceGeodesic(y,i)>c)continue;const s=this.calculateDistanceGeodeticPointSegment(e,r,t,p,P);if(s.second<c&&(this.updateOutputSegment(a,t,s.first),c=s.second,0===c))return 0}return c===this.m_maxDistance?Number.POSITIVE_INFINITY:c}catch(r){m.error=r,m.hasError=!0}finally{e(m)}}calculateDistanceGeodeticMultipointGeometry(t,e,n,o){switch(e.getGeometryType()){case s.enumPoint:return this.calculateDistanceGeodeticPointMultipoint(e,t,o,n);case s.enumMultiPoint:return this.calculateDistanceGeodeticMultipointMultipoint(t,e,n,o);case s.enumPolyline:case s.enumPolygon:case s.enumEnvelope:return this.calculateDistanceGeodeticMultipointMultipath(t,e,n,o);default:i(\"\")}}calculateDistanceGeodeticMultipointMultipoint(i,s,n,o){const a={stack:[],error:void 0,hasError:!1};try{const e=t(a,new l,!1);this.computeEnvelopesAndBoxes(i,s);const m=this.estimateMinimumDistance(n,o);let r=m<this.m_maxDistance?m:this.m_maxDistance;const u=new M,c=new M,h=i.getImpl(),d=s.getImpl(),g=H(),x=h.getPointCount(),y=d.getPointCount();for(let t=0;t<x;++t){if(u.assign(h.getXY(t)),g.setCoords({xmin:u.x,ymin:u.y,xmax:u.x,ymax:u.y}),this.m_envHelper.minDistanceGeodesic(g,this.m_boxGeomB)>r)continue;u.scale(this.m_rpu);const i=p(this.m_a,this.m_eSquared,u);for(let t=0;t<y;++t){c.assign(d.getXY(t)),c.scale(this.m_rpu);const s=p(this.m_a,this.m_eSquared,c);if(!(T.distance(i,s)>=r)&&(_.geodeticDistance(this.m_a,this.m_eSquared,u.x,u.y,c.x,c.y,e,null,null,this.m_distCurveType),e.val<r&&(n.outPoint.assign(u),o.outPoint.assign(c),r=e.val,0===r)))return r}}return r===this.m_maxDistance?Number.POSITIVE_INFINITY:r}catch(m){a.error=m,a.hasError=!0}finally{e(a)}}calculateDistanceGeodeticMultipointMultipath(i,s,o,a){const m={stack:[],error:void 0,hasError:!1};try{const e=s.getImpl().querySegmentIterator();e.stripAttributes(),this.computeEnvelopesAndBoxes(i,s);const r=this.estimateMinimumDistance(o,a);let u=r<this.m_maxDistance?r:this.m_maxDistance;const c=new M,h=new M(0,0),l=new M(0,0),_=new M(0,0),p=[0],g=H(),x=t(m,this.createDistanceFunctor(h,l,_),!1),y=W(),P=this.canUseSpatialTree(i,s);P&&this.buildSpatialTree(y,s);const S=i.getPointCount();for(let t=0;t<S;++t)if(c.assign(i.getXY(t)),h.assign(i.getXY(t)),this.m_bIsPannablePcs&&d(this.m_inputSR,[c],1,!1),g.setCoords({xmin:h.x,ymin:h.y,xmax:h.x,ymax:h.y}),!(this.m_envHelper.minDistanceGeodesic(g,this.m_boxGeomB)>u))if(x.setPointDistFrom(h),P)n(0);else{for(;e.nextPath();)for(;e.hasNextSegment();){const t=e.nextSegment();if(this.m_envHelper.minDistanceGeodesic(g,this.findOrComputeBoxSegment(e.getStartPointIndex(),t,this.m_segmentBoxesB))>u)continue;const i=this.calculateDistanceGeodeticPointSegment(c,h,t,p,x);if(i.second<u&&(o.outPoint.assign(h.mul(this.m_rpu)),this.updateOutputSegment(a,t,i.first),u=i.second,0===u))return 0}e.resetToFirstPath()}return u===this.m_maxDistance?Number.POSITIVE_INFINITY:u}catch(r){m.error=r,m.hasError=!0}finally{e(m)}}calculateDistanceGeodeticMultipathGeometry(t,e,n,o){switch(e.getGeometryType()){case s.enumPoint:return this.calculateDistanceGeodeticPointMultipath(e,t,o,n);case s.enumMultiPoint:return this.calculateDistanceGeodeticMultipointMultipath(e,t,o,n);case s.enumPolyline:case s.enumPolygon:case s.enumEnvelope:return this.calculateDistanceGeodeticMultipathMultipath(t,e,n,o);default:i(\"\")}}calculateDistanceGeodeticMultipathMultipath(t,e,i,s){const n=[t],o=[e],a=this.swapGeometries(n,o),m=n[0],r=o[0];this.computeEnvelopesAndBoxes(n[0],o[0]);const u=this.estimateMinimumDistance(i,s),c=this.calculateDistanceGeodeticMultipathMultipath_(m,r,i,s,u);return a&&(s.outPoint=E(i.outPoint,i.outPoint=s.outPoint)),c}calculateDistanceGeodeticMultipathMultipath_(i,s,o,a,m=Number.MAX_VALUE){const u={stack:[],error:void 0,hasError:!1};try{let e=m;const c=new M(0,0),h=new M,l=new M(0,0),_=new M,p=new M(0,0),d=new M,y=new M,P=new M,S=[new M],f=[0],G=[0],D=H(),v=H(),T=t(u,this.createDistanceFunctor(p,c,l),!1),b=W(),w=this.canUseSpatialTree(i,s);w&&this.buildSpatialTree(b,s);const E=s.querySegmentIterator();E.stripAttributes();const R=new r,C=A(i);for(let t=0;t<C.length;++t){const s=C[t];i.getSegmentBuffer(s,R,!0);const m=R.get();if(D.assign(this.findOrComputeBoxSegment(s,m,this.m_segmentBoxesA)),w)n(0);else{if(p.assign(m.getStartXY()),d.assign(m.getStartXY()),y.assign(m.getEndXY()),P.assign(m.getEndXY()),this.m_bIsPannablePcs&&(g(this.m_inputSR,0,[d],1),g(this.m_inputSR,0,[P],1)),this.m_envHelper.minDistanceGeodesic(D,this.m_boxGeomB)>e)continue;for(;E.nextPath();){for(;E.hasNextSegment();){const t=E.nextSegment();if(c.assign(t.getStartXY()),h.assign(t.getStartXY()),l.assign(t.getEndXY()),_.assign(t.getEndXY()),m.intersect(t,S,f,G,this.m_tolerance))return this.updateOutputSegment(o,m,f[0]),this.updateOutputSegment(a,t,G[0]),0;if(this.m_bIsPannablePcs&&(g(this.m_inputSR,0,[h],1),g(this.m_inputSR,0,[_],1)),v.assign(this.findOrComputeBoxPoint(E.getStartPointIndex(),h,_,this.m_segmentBoxesB)),this.m_envHelper.minDistanceGeodesic(D,v)>e)continue;T.setSegmentEndPoints(c,l),T.setPointDistFrom(d);let i=x(T.makeFunctor(),0,1,1e-10);if(i.second<e&&(o.outPoint.assign(d.mul(this.m_rpu)),this.updateOutputSegment(a,t,i.first),e=i.second,0===e))break;if(T.setPointDistFrom(P),i=x(T.makeFunctor(),0,1,1e-10),i.second<e&&(o.outPoint.assign(P.mul(this.m_rpu)),this.updateOutputSegment(a,t,i.first),e=i.second,0===e))break;if(T.setSegmentEndPoints(p,y),T.setPointDistFrom(h),i=x(T.makeFunctor(),0,1,1e-10),i.second<e&&(this.updateOutputSegment(o,m,i.first),a.outPoint.assign(h.mul(this.m_rpu)),e=i.second,0===e))break;if(T.setPointDistFrom(_),i=x(T.makeFunctor(),0,1,1e-10),i.second<e&&(this.updateOutputSegment(o,m,i.first),a.outPoint.assign(_.mul(this.m_rpu)),e=i.second,0===e))break}if(0===e)return 0}E.resetToFirstPath()}}return e===this.m_maxDistance?Number.POSITIVE_INFINITY:e}catch(c){u.error=c,u.hasError=!0}finally{e(u)}}calculateDistanceGeodeticPointSegment(t,e,i,s,n){const o=i.getStartXY(),a=i.getEndXY();return i.intersectPoint(t,s,this.m_tolerance)?R(s[0],0):(n.setPointDistFrom(e),n.setSegmentEndPoints(o,a),x(n.makeFunctor(),0,1,1e-10))}prepareGeometry(t){let e=t.clone();const i=t.getGeometryType();if(i===s.enumPoint||i===s.enumMultiPoint)return this._NormalizeAndProject(e);if(i===s.enumEnvelope&&(e=this.envelopeToPolygon(e)),this.m_inputSR.isPannable())return this.prepareGeometryPannable(e,4);if(2===this.m_inputSR.getCoordinateSystemType()){if(e=y(e,this.m_inputSR,0,null),e.isEmpty())return e;e=(new F).execute(e,this.m_inputSR,5e4,this.m_maxDeviation/2,0,null);const t=this.m_inputSR.getSRToGCSTransform();return(new c).execute(e,t,this.m_progressTracker)}const n=new w;e.queryLooseEnvelope(n);const o=this.m_inputSR.getPannableExtent();if(n.ymin<o.ymin||n.ymax>o.ymax){const t=new w(n.xmin-1,o.ymin,n.xmax+1,o.ymax);if(e=(new Y).execute(e,t,this.m_inputSR,this.m_progressTracker),e.isEmpty())return e}return n.width()>2*o.width()?(e=P(e,-2*o.width(),2*o.width(),this.m_inputSR,!0,0,!0,this.m_progressTracker),e):e}prepareGeometryPannable(t,e){const i=new w;t.queryEnvelope(i);const s=this.m_inputSR.getPannableExtent();if(s.containsEnvelope(i))return t;const n=new C;s.queryIntervalX(n);const o=new C;return i.queryIntervalX(o),t=n.contains(o)?S(t,this.m_inputSR):(new c).foldInto360RangeGeodetic(t,this.m_inputSR,e)}prepareOutput(t){t.outPoint.scale(1/this.m_rpu),2===this.m_inputSR.getCoordinateSystemType()&&d(this.m_inputSR,[t.outPoint],1,!1)}updateOutputSegment(t,e,i){e.queryCoord2D(i,t.outPoint),this.m_bIsPannablePcs&&g(this.m_inputSR,0,[t.outPoint],1),t.outPoint.mulThis(this.m_rpu)}computeTolerance(t,e){t.queryEnvelope(this.m_envGeomA),e.queryEnvelope(this.m_envGeomB);const i=new w(this.m_envGeomA);return i.mergeEnvelope2D(this.m_envGeomB),b(null,i)}envelopeToPolygon(t){const e=new u;return e.addEnvelope(t,!1),e}computeEnvelopesAndBoxes(t,e){t.queryEnvelope(this.m_envGeomA),e.queryEnvelope(this.m_envGeomB),this.m_boxGeomA=this.computeBoxGeometry(t,this.m_boundaryPtsA,this.m_segmentBoxesA),this.m_boxGeomB=this.computeBoxGeometry(e,this.m_boundaryPtsB,this.m_segmentBoxesB)}computeBoxGeometry(t,e,i){switch(t.getGeometryType()){case s.enumPoint:return this.computeBoxPoint(t,e);case s.enumMultiPoint:return this.computeBoxMultiPoint(t,e);case s.enumPolyline:case s.enumPolygon:return this.computeBoxMultiPath(t,e,i);default:o(\"Invalid geometry type\")}}computeBoxPoint(t,e){const i=t.getXY();e.length=0,e.push(i.mul(this.m_rpu));const s=H();return s.setCoords({xmin:i.x,ymin:i.y,xmax:i.x,ymax:i.y}),s}computeBoxMultiPoint(t,e){let i=!0;for(let n=0;n<t.getPointCount();++n){const s=t.getXY(n);if(i){e.length=0;for(let t=0;t<4;++t)e.push(s.clone());i=!1}s.x<e[0].x&&e[0].assign(s),s.y>e[1].y&&e[1].assign(s),s.x>e[2].x&&e[2].assign(s),s.y<e[3].y&&e[3].assign(s)}for(let n=0;n<e.length;++n)e[n].mulThis(this.m_rpu);const s=H();return t.queryEnvelope(s),s}computeBoxMultiPath(t,e,i){let s=!0;const n=H();n.setEmpty();const o=t.querySegmentIterator();for(o.stripAttributes();o.nextPath();)for(;o.hasNextSegment();){const t=o.nextSegment(),a=t.getStartXY(),m=t.getEndXY();if(this.m_bIsPannablePcs&&(g(this.m_inputSR,0,[a],1),g(this.m_inputSR,0,[m],1)),s){for(let t=0;t<4;++t)e.push(a.clone());s=!1}a.x<e[0].x&&e[0].assign(a),a.y>e[1].y&&e[1].assign(a),a.x>e[2].x&&e[2].assign(a),a.y<e[3].y&&e[3].assign(a),m.x<e[0].x&&e[0].assign(m),m.y>e[1].y&&e[1].assign(m),m.x>e[2].x&&e[2].assign(m),m.y<e[3].y&&e[3].assign(m);const r=this.findOrComputeBoxPoint(o.getStartPointIndex(),a,m,i);n.mergeEnvelope2D(r)}for(let a=0;a<e.length;++a)e[a].mulThis(this.m_rpu);return n}findOrComputeBoxSegment(t,e,i){if(!i.has(t)){let s=H();if(e.queryEnvelope(s),this.m_bIsPannablePcs){const t=M.construct(s.xmin,s.ymin),e=M.construct(s.xmax,s.ymax);g(this.m_inputSR,0,[t],1),g(this.m_inputSR,0,[e],1),s=this.m_envHelper.calculateBbox(t.x,t.y,e.x,e.y)}return i.set(t,s),s}return i.get(t)}findOrComputeBoxPoint(t,e,i,s){if(!s.has(t)){let n=H();return n.setCoords({xmin:e.x,ymin:e.y,xmax:i.x,ymax:i.y}),this.m_bIsPannablePcs&&(n=this.m_envHelper.calculateBbox(n.xmin,n.ymin,n.xmax,n.ymax)),s.set(t,n),n}return s.get(t)}estimateMinimumDistance(i,s){const n={stack:[],error:void 0,hasError:!1};try{const e=t=>p(this.m_a,this.m_eSquared,t),o=this.m_boundaryPtsA.map(e),a=this.m_boundaryPtsB.map(e);let m=Number.MAX_VALUE,r=0,u=0;for(let t=0;t<o.length;++t)for(let e=0;e<a.length;++e){const i=T.distance(o[t],a[e]);i<m&&(m=i,r=t,u=e)}i.outPoint.assign(this.m_boundaryPtsA[r]),s.outPoint.assign(this.m_boundaryPtsB[u]);const c=t(n,new l,!1);return _.geodeticDistance(this.m_a,this.m_eSquared,this.m_boundaryPtsA[r].x,this.m_boundaryPtsA[r].y,this.m_boundaryPtsB[u].x,this.m_boundaryPtsB[u].y,c,null,null,this.m_distCurveType),c.val}catch(o){n.error=o,n.hasError=!0}finally{e(n)}}swapGeometries(t,e){return a(t[0])>a(e[0])&&(e[0]=E(t[0],t[0]=e[0]),this.m_envGeomB=E(this.m_envGeomA,this.m_envGeomA=this.m_envGeomB),!0)}canUseSpatialTree(t,e){return!1}checkGeometriesIntersect(t,e,i,n){let o=t.getGeometryType(),a=e.getGeometryType();if(this.m_envGeomA.isIntersecting(this.m_envGeomB)){if(o===s.enumPoint&&2===e.getDimension()){const s=[0],o=[t.getXY()];if(f(e,o,1,this.m_tolerance,s),0!==s[0])return i.outPoint.assign(o[0]),n.outPoint.assign(o[0]),!0}else if(a===s.enumPoint&&2===t.getDimension()){const s=[2],o=[e.getXY()];if(f(t,o,1,this.m_tolerance,s),0!==s[0])return i.outPoint.assign(o[0]),n.outPoint.assign(o[0]),!0}if(o===s.enumMultiPoint&&2===e.getDimension())return this.multipointIntersectsArea(t,e,i,n);if(a===s.enumMultiPoint&&2===t.getDimension())return this.multipointIntersectsArea(e,t,n,i);let r,u,c=t,h=e;if(o===s.enumEnvelope&&(r=this.envelopeToPolygon(t),c=r,o=s.enumPolygon),a===s.enumEnvelope&&(u=this.envelopeToPolygon(e),h=u,a=s.enumPolygon),m(o)&&m(a)){const t=c.querySegmentIterator(),e=h.querySegmentIterator(),s=N(),o=N();if(q(c,h,t,e,s,o))return i.outPoint.assign(s.outPoint),n.outPoint.assign(s.outPoint),!0}}return!1}multipointIntersectsArea(t,e,i,s){const n=t.getPointCount();for(let o=0;o<n;++o){const n=[2],a=t.getXY(o);if(f(e,[a],1,this.m_tolerance,n),0!==n[0])return i.outPoint.assign(a),s.outPoint.assign(a),!0}return!1}getNearestNeighbourVisitor(t,e,i,s,o,a,m){return n(0),{}}buildSpatialTree(t,e){n(0)}}export{J as G,Q as a,L as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{t as e,d as t,G as i,c as s,g as n}from\"./Geometry.js\";import{a,x as _,L as r}from\"./QuadraticBezier.js\";import{O as h}from\"./OperatorDensify.js\";import{p as o,g as m,v as l,a4 as p,aw as u,b as c,Z as g,G as d,w as E,$ as f,ax as P,ay as S,E as A,F as x,Q as y,az as R,Y as M,U as C}from\"./ProjectionTransformation.js\";import{n as T,d as w,P as N,K as q,l as b,s as I,E as v,p as $,f as z,b as D,x as G,y as O,z as L}from\"./Point2D.js\";import{Envelope2D as k}from\"./Envelope2D.js\";import{a as F,h as J}from\"./Envelope.js\";import{O as Y}from\"./OperatorClip.js\";import{O as U}from\"./OperatorShapePreservingLength.js\";import{b as X,c as j}from\"./tslib.es6.js\";import{T as B}from\"./Transformation2D.js\";import{a as H}from\"./GeodeticDistanceCalculator-D4iQ-_NX.js\";class Q{constructor(e,t,i,s,n=100){this.m_startPt=e.clone(),this.m_endPt=t.clone(),this.m_cE2=s,this.m_cE=Math.sqrt(this.m_cE2),this.m_c1By2e=1/(2*this.m_cE),this.m_cRpu=i.getGCS().getUnit().getUnitToBaseFactor(),this.isPcs=2===i.getCoordinateSystemType(),this.PEProjcs=i.getPECoordSys(),this.m_points=w(2*n,Number.NaN)}setSegmentEndPoints(e,t){this.m_startPt.assign(e),this.m_endPt.assign(t)}makeFunctor(){return e=>{const t=[0,0];t[0]=this.m_startPt.x*(1-e)+this.m_endPt.x*e,t[1]=this.m_startPt.y*(1-e)+this.m_endPt.y*e,this.isPcs&&g.projToGeogCenter(this.PEProjcs,1,t,0);const i=Math.sin(t[1]*this.m_cRpu);if(0===this.m_cE2)return i;return-Math.log((1-this.m_cE*i)/(1+this.m_cE*i))*this.m_c1By2e+i/(1-this.m_cE2*i*i)}}}function V(e,t,i){const s=new k;e.queryEnvelope(s);const n=F(t,s,!0).total(),a=t.getPannableExtent();a.xmin=s.xmin-10*n,a.xmax=s.xmax+10*n;const r=(new Y).execute(e,a,t,i).getImpl().querySegmentIterator();r.stripAttributes();const h=d();t.querySpheroidData(h);const o=h.e2,m=0===o?2:1,l=new N(0,0),p=new N(0,0),u=new q(0),c=new Q(l,p,t,o,100);for(;r.nextPath();)for(;r.hasNextSegment();){const e=r.nextSegment();l.assign(e.getStartXY()),p.assign(e.getEndXY()),c.setSegmentEndPoints(l,p);const t=_(6,0,1,1e-12,1e-15,c.makeFunctor());u.pe((p.x-l.x)*t)}const g=h.majorSemiAxis;return m*g*g*(1-o)*Math.PI*u.getResult()/t.getPannableExtent().width()}function Z(e,t,i,s,n){const a=se(e,t,n);let _=W(e,a.first,i,s,n),r=1,h=0,o=0;do{if(r++,a.first*=.5,a.first<50*t.getTolerance(0))return _;a.second*=2,o=W(e,a.first,i,s,n),h=Math.abs(o-_),_=o}while(Math.abs(_)>1&&h>1e-8*Math.abs(_)&&(a.second<65e3&&r<8||r<4));return o}function W(e,t,i,s,n){const a=(new h).execute(e,t,0,0,n);let _;_=s?(new l).execute(a,s,n):a;const r=1===i.getUnit().getUnitToBaseFactor()?Math.PI/180:1,o=new k;_.queryEnvelope(o);const m=new k,p=new k,u=new k;m.setCoords({xmin:o.xmin,ymin:75*r,xmax:o.xmax,ymax:90*r}),p.setCoords({xmin:o.xmin,ymin:-60*r,xmax:o.xmax,ymax:75*r}),u.setCoords({xmin:o.xmin,ymin:-90*r,xmax:o.xmax,ymax:-60*r}),m.inflateCoords(.01*m.width(),0),p.inflateCoords(.01*p.width(),0),u.inflateCoords(.01*u.width(),0);let c=0;return c+=K(_,m,i,n),c+=K(_,p,i,n),c+=K(_,u,i,n),c}function K(e,t,i,s){const n=(new Y).execute(e,t,i,s);if(null!==n&&!n.isEmpty()){const e=new k;n.queryEnvelope(e);const{first:t,second:a}=ie(i,e,!1),_=o(i,t,null),r=(new l).execute(n,_,s).calculateArea2D();return a&&t.destroy(),r}return 0}const ee=[null,null,null,null,null,null,null];function te(e,t,i){const a=e.getUnit().getUnitToBaseFactor(),_=t.getCenter();_.scale(180*a/Math.PI);const r=new N;r.x=0,r.y=0;let h=0;if(0===h){_.y>45?(r.y=b,h=0):_.y<-45?(r.y=-b,h=1):_.x>=45&&_.x<135?(r.x=b,h=2):_.x>=135||_.x<-135?(r.x=b,h=3):_.x<-45&&_.x>=-135?(r.x=-b,h=4):(r.x=0,h=5);const e=a*Math.sqrt(I(t.xmin-t.xmax)+I(t.ymin-t.ymax)),i=r.clone(),s=t.getCenter();s.scale(a),h<2&&(i.x=s.x);if(N.distance(i,s)+.5*e>b)return null}const o=ee[h];if(null!==o&&o.getGCS().equalHorizontal(e))return o;const m=e.getText(),l=r.x,g=r.y,d=0,E=0;let f=0,P=-1;6!==h?P=p.PE_PRJ_LAMBERT_AZIMUTHAL_EQAREA:(n(i),f=0,P=p.PE_PRJ_CYLINDRICAL_EQAREA);const S=u(\"EqualAreaPCS\");let A;P===p.PE_PRJ_LAMBERT_AZIMUTHAL_EQAREA?A=`PROJCS[\"${S}\",${m},PROJECTION[\"Lambert_Azimuthal_Equal_Area\"],PARAMETER[\"False_Easting\",${d}],PARAMETER[\"False_Northing\",${E}],PARAMETER[\"Central_Meridian\",${l}],PARAMETER[\"Latitude_of_Origin\",${g}],UNIT[\"Meter\",1.0]]`:P===p.PE_PRJ_CYLINDRICAL_EQAREA?A=`PROJCS[\"${S}\",${m},PROJECTION[\"Cylindrical_Equal_Area\"],PARAMETER[\"False_Easting\",${d}],PARAMETER[\"False_Northing\",${E}],PARAMETER[\"Central_Meridian\",${l}],PARAMETER[\"Standard_Parallel_1\",${f}],PARAMETER[\"Latitude_of_Origin\",${g}],UNIT[\"Meter\",1.0]]`:s(\"getEqualAreaPcsFixed\");const x=c(A);return ee[h]&&ee[h].destroy(),ee[h]=x,x}function ie(e,t,i){const n=te(e,t,i);if(null!==n)return T(n,!1);const a=e.getText(),_=e.getUnit().getUnitToBaseFactor(),r=(t.xmin+t.width()/2)*_,h=(t.ymin+t.height()/2)*_,o=0,m=0;let l=0,g=0,d=-1;t.ymin*_>=75*Math.PI/180||t.ymax*_<=-60*Math.PI/180?d=p.PE_PRJ_LAMBERT_AZIMUTHAL_EQAREA:t.ymin>0||t.ymax<0?(l=(t.ymin+1/3*t.height())*_,g=(t.ymin+2/3*t.height())*_,d=p.PE_PRJ_ALBERS):(l=(t.ymin+2/3*t.height())*_,d=p.PE_PRJ_CYLINDRICAL_EQAREA);const E=u(\"EqualAreaPCS\");let f;return d===p.PE_PRJ_LAMBERT_AZIMUTHAL_EQAREA?f=`PROJCS[\"${E}\",${a},PROJECTION[\"Lambert_Azimuthal_Equal_Area\"],PARAMETER[\"False_Easting\",${o}],PARAMETER[\"False_Northing\",${m}],PARAMETER[\"Central_Meridian\",${r}],PARAMETER[\"Latitude_of_Origin\",${h}],UNIT[\"Meter\",1.0]]`:d===p.PE_PRJ_ALBERS?f=`PROJCS[\"${E}\",${a},PROJECTION[\"Albers\"],PARAMETER[\"False_Easting\",${o}],PARAMETER[\"False_Northing\",${m}],PARAMETER[\"Central_Meridian\",${r}],PARAMETER[\"Standard_Parallel_1\",${l}],PARAMETER[\"Standard_Parallel_2\",${g}],PARAMETER[\"Latitude_of_Origin\",${h}],UNIT[\"Meter\",1.0]]`:d===p.PE_PRJ_CYLINDRICAL_EQAREA?f=`PROJCS[\"${E}\",${a},PROJECTION[\"Cylindrical_Equal_Area\"],PARAMETER[\"False_Easting\",${o}],PARAMETER[\"False_Northing\",${m}],PARAMETER[\"Central_Meridian\",${r}],PARAMETER[\"Standard_Parallel_1\",${l}],PARAMETER[\"Latitude_of_Origin\",${h}],UNIT[\"Meter\",1.0]]`:s(\"getEqualAreaPCSInstance\"),T(c(f),!0)}function se(e,t,i){const s=e.calculateLength2D(),n=(new U).execute(e,t,i)/25e3,a=s/e.getSegmentCount()*2;let _=Math.min(a,s/n);0===_&&(_=1);return T(_,s/_)}class ne{getOperatorType(){return 10314}supportsCurves(){return!0}accelerateGeometry(e,t,i){return!1}canAccelerateGeometry(e){return!1}execute(s,n,_){if(0===n.getCoordinateSystemType()&&e(\"\"),s.isEmpty()||s.getDimension()<2)return 0;if(t(s),s.getGeometryType()===i.enumEnvelope){const e=new a;return e.addEnvelope(s,!1),this.execute(e,n,_)}let r=s;s.getDescription().getAttributeCount()>1&&(r=s.clone(),r.dropAllAttributes());const l=(new h).execute(r,0,n.getTolerance(0),0,_);let p=null;const u=n.getGCS();u!==n&&(p=o(n,u));let c=(new m).execute(l,n,!1,_);return c.isEmpty()?0:(c===s&&(c=s.clone()),n.isPannable()?V(c,n,_):Z(c,n,u,p,_))}}function ae(){return{m_p_PCS:new N,m_factor:Number.NaN,setValues:_e,assign:re}}function _e(e,t){this.m_factor=e,this.m_p_PCS.assign(t)}function re(e){this.m_factor=e.m_factor,this.m_p_PCS.assign(e.m_p_PCS)}class he{constructor(e,t,i,s){this.m_ptStart=new J,this.m_ptEnd=new J,this.m_ptStart.assign(t),this.m_ptEnd.assign(i),this.m_deltaX=this.m_ptEnd.x-this.m_ptStart.x,this.m_deltaY=this.m_ptEnd.y-this.m_ptStart.y,this.m_e=Math.sqrt(e),this.m_e2=e,this.m_c1MinusE2=1-e;const n=Math.sin(s);let a;a=0===this.m_e2?2*n:n*(O(this.m_e*n)+1/(1-this.m_e2*n*n)),this.m_baseA=a}setSegmentEndPoints(e,t){this.m_ptStart.assign(e),this.m_ptEnd.assign(t),this.m_deltaX=this.m_ptEnd.x-this.m_ptStart.x,this.m_deltaY=this.m_ptEnd.y-this.m_ptStart.y}makeFunctor(){return e=>{const t=1-e,i=t*this.m_ptStart.x+e*this.m_ptEnd.x,s=t*this.m_ptStart.y+e*this.m_ptEnd.y,n=t*this.m_ptStart.z+e*this.m_ptEnd.z,a=i*i+s*s,_=n/Math.sqrt(n*n+this.m_c1MinusE2*this.m_c1MinusE2*a);let r;if(0===this.m_e2)r=2*_;else{r=_*(O(this.m_e*_)+1/(1-this.m_e2*_*_))}return(this.m_deltaY*i-this.m_deltaX*s)/a*(r-this.m_baseA)}}}function oe(){return{e:Number.NaN,one_p_e:Number.NaN,one_m_e:Number.NaN,one_m_e_2:Number.NaN,atanh_e_over_e:Number.NaN,half_qp:Number.NaN,f:Number.NaN,z:Number.NaN}}function me(){return{sin_phi:Number.NaN,one_p_sin_phi:Number.NaN,one_m_sin_phi:Number.NaN,one_m_e_2_sin_2_phi:Number.NaN,sin_half_phi_pf:Number.NaN,sin_half_phi_pz:Number.NaN,sin_half_asin_e_sin_phi_pf:Number.NaN,sin_half_asin_e_sin_phi_pz:Number.NaN,atanh_sin_phi:Number.NaN,atanh_esin_phi:Number.NaN,make_negative:!1,initialize:le,changeSign:pe,assign:ue,clone:ce}}function le(e,t,i,s){const n=.5*e;this.sin_phi=Math.sin(e);const a=t*this.sin_phi,_=.5*Math.asin(a);this.one_p_sin_phi=1+this.sin_phi,this.one_m_sin_phi=1-this.sin_phi,this.one_m_e_2_sin_2_phi=(1+a)*(1-a),this.sin_half_phi_pf=Math.sin(n+i),this.sin_half_phi_pz=Math.sin(n+s),this.sin_half_asin_e_sin_phi_pf=Math.sin(_+i),this.sin_half_asin_e_sin_phi_pz=Math.sin(_+s),this.atanh_sin_phi=Math.log(this.sin_half_phi_pf/this.sin_half_phi_pz),this.atanh_esin_phi=Math.log(this.sin_half_asin_e_sin_phi_pf/this.sin_half_asin_e_sin_phi_pz)}function pe(){this.sin_phi=-this.sin_phi;let e=this.one_p_sin_phi;this.one_p_sin_phi=this.one_m_sin_phi,this.one_m_sin_phi=e,e=this.sin_half_phi_pf,this.sin_half_phi_pf=this.sin_half_phi_pz,this.sin_half_phi_pz=e,e=this.sin_half_asin_e_sin_phi_pf,this.sin_half_asin_e_sin_phi_pf=this.sin_half_asin_e_sin_phi_pz,this.sin_half_asin_e_sin_phi_pz=e,this.atanh_sin_phi=-this.atanh_sin_phi,this.atanh_esin_phi=-this.atanh_esin_phi}function ue(e){this.sin_phi=e.sin_phi,this.one_p_sin_phi=e.one_p_sin_phi,this.one_m_sin_phi=e.one_m_sin_phi,this.one_m_e_2_sin_2_phi=e.one_m_e_2_sin_2_phi,this.sin_half_phi_pf=e.sin_half_phi_pf,this.sin_half_phi_pz=e.sin_half_phi_pz,this.sin_half_asin_e_sin_phi_pf=e.sin_half_asin_e_sin_phi_pf,this.sin_half_asin_e_sin_phi_pz=e.sin_half_asin_e_sin_phi_pz,this.atanh_sin_phi=e.atanh_sin_phi,this.atanh_esin_phi=e.atanh_esin_phi,this.make_negative=e.make_negative}function ce(){return{...this}}class ge{constructor(t,i,s){this.m_transformPCS2GCS=null,this.m_scaleToRadians=new B,this.m_scaleToDegrees=new B,this.m_progressTracker=s,n(4!==i),this.m_curveType=i,this.m_inputSR=t,t&&0!==t.getCoordinateSystemType()||e(\"\"),this.m_inputGCS=t.getGCS(),this.m_a=0,this.m_eSquared=0,this.m_b=0,this.m_rpu=0}executePolygonGeodeticArea(e){let t,i=e.clone();if(i.dropAllAttributes(),e.hasNonLinearSegments()){i=(new h).execute(i,0,this.m_inputSR.getTolerance(0),0,this.m_progressTracker)}if(this.m_inputSR.isPannable()){const e=new k;i.queryEnvelope(e);const t=this.m_inputSR.getPannableExtent();if(!t.containsEnvelope(e)){const s=t.getCenterX()-e.getCenterX(),n=new B;n.setShiftCoords(s,0),i.applyTransformation(n),e.move(s,0);const a=new v;t.queryIntervalX(a);const _=new v;e.queryIntervalX(_),i=a.contains(_)?E(i,this.m_inputSR):(new l).foldInto360RangeGeodetic(i,this.m_inputSR,this.m_curveType)}}if(this.m_transformPCS2GCS?(i=(new m).execute(i,this.m_inputSR,!1,this.m_progressTracker),t=i.createInstance(),f(this.m_transformPCS2GCS,i,t,this.m_progressTracker)||(t=(new l).execute(i,this.m_transformPCS2GCS,this.m_progressTracker))):t=(new m).execute(i,this.m_inputGCS,!1,this.m_progressTracker),t.isEmpty())return 0;if(1===this.m_curveType){const e=d();return this.m_inputGCS.querySpheroidData(e),this.m_a=e.majorSemiAxis,this.m_eSquared=e.e2,this.loxodromeArea(t)}const s=t.getImpl();this.m_rpu=this.m_inputGCS.getUnit().getUnitToBaseFactor(),this.m_scaleToRadians.setScale(this.m_rpu),s.applyTransformation(this.m_scaleToRadians),this.m_scaleToDegrees=this.m_scaleToRadians,this.m_scaleToDegrees.invertThis();const n=d();if(this.m_inputGCS.querySpheroidData(n),this.m_a=n.majorSemiAxis,this.m_b=n.minorSemiAxis,this.m_eSquared=n.e2,2===this.m_curveType)return this.executeClippedPolygonGreatEllipticArea(t);{const e={stack:[],error:void 0,hasError:!1};try{const i=P.unit(9101),s=this.m_inputGCS.getPECoordSys(),n=X(e,s.cloneAlterUnits(i),!1);let a,_,r=this.executeClippedPolygonGeodeticArea(t,n,0),h=0;do{h++,a=this.executeClippedPolygonGeodeticArea(t,n,h),_=Math.abs(a-r),r=a}while(Math.abs(a)>1&&_>1e-8*Math.abs(a)&&h<7);return a}catch(a){e.error=a,e.hasError=!0}finally{j(e)}}}executeClippedPolygonGeodeticArea(e,t,i){const s={stack:[],error:void 0,hasError:!1};try{const n=new k;e.queryEnvelope(n);const a=X(s,this.getEqualAreaPCSInstance(t,n),!1),_=e.clone();S(a,_);const r=50,h=_.getImpl().getAttributeStreamRef(0),o=e.getImpl().getAttributeStreamRef(0),m=X(s,new A,!1),l=X(s,new A,!1),p=40,u=[0,0],c=$(ae,p),d=w(p,-1),E=ae(),f=ae();let P,y;const R=a;let M=_.calculateArea2D();const C=new q(0),T=.5*Math.PI,b=1e-10*Math.abs(M)+1e-6,I=e.getPathCount();let v,D,G,O;const L=new N,F=new N,J=new N,Y=new N,U=new N,j=new N;let B,H;for(D=e.getPathStart(0),v=0;v<I;v++,D=G)for(G=e.getPathEnd(v),h.queryPoint2D(G-1<<1,J),o.queryPoint2D(G-1<<1,L),Math.abs(L.y)>T&&(L.y=z(T,L.y)),O=D;O<G;O++,J.assign(Y),L.assign(F)){if(h.queryPoint2D(O<<1,Y),o.queryPoint2D(O<<1,F),Math.abs(F.y)>T&&(F.y=z(T,F.y)),B=N.distance(J,Y),B<r||0===L.y&&0===F.y)continue;x.geodeticDistance(this.m_a,this.m_eSquared,L.x,L.y,F.x,F.y,m,l,null,this.m_curveType);const e=m.val,t=l.val;for(E.setValues(0,J),f.setValues(1,Y),y=i,c[0].assign(f),d[0]=i,P=0;P>=0;){H=.5*(E.m_factor+f.m_factor),x.geodeticCoordinate(this.m_a,this.m_eSquared,L.x,L.y,e*H,t,m,l,this.m_curveType),U.x=m.val,U.y=l.val,u[0]=U.x,u[1]=U.y,g.geogToProj(R,1,u),j.x=u[0],j.y=u[1];const i=-j.offset(E.m_p_PCS,f.m_p_PCS),s=.5*i*N.distance(E.m_p_PCS,f.m_p_PCS);if(C.pe(s),Math.abs(s)>b||Math.abs(s)>0&&y>0)f.setValues(H,j),P++,c[P].assign(f),Math.abs(s)<=b?(y--,d[P-1]=y,d[P]=y):(y=d[P-1],d[P]=y);else{if(P<=0)break;E.assign(f),P--,f.assign(c[P]),y=d[P]}}}return M+=C.getResult(),Math.abs(M)}catch(n){s.error=n,s.hasError=!0}finally{j(s)}}executeClippedPolygonGreatEllipticArea(e){const t=[],i=[],s=new N,n=new N,a=y(1,this.m_eSquared,new N(0,.5*Math.PI)),_=new q(0),r=new q(0),h=new q(0),o=new J,m=new J,l=new k;e.queryLooseEnvelope(l);let p=0;l.containsCoords(l.xmin,0)||(p=Math.abs(l.ymin)<Math.abs(l.ymax)?l.ymin:l.ymax);const u=new he(this.m_eSquared,o,m,p),c=this.m_a*this.m_a,g=e.getImpl().querySegmentIterator();for(g.stripAttributes();g.nextPath();)for(;g.hasNextSegment();){const e=g.nextSegment();s.assign(e.getStartXY()),n.assign(e.getEndXY()),n.x-s.x>Math.PI?s.x+=2*Math.PI:n.x-s.x<-Math.PI&&(n.x+=2*Math.PI),this.splitSegmentCrossingItegralThreshold(e,t,i);for(let i of t)o.assign(y(this.m_a,this.m_eSquared,i.getStartXY())),m.assign(y(this.m_a,this.m_eSquared,i.getEndXY())),u.setSegmentEndPoints(o,m),this.adaptiveIntegrationWithRomberg(u,_);for(let t of i){let e=t.getStartXY(),i=t.getEndXY(),s=p;e.y<0&&(i=D(e,e=i),e.y=-e.y,i.y=-i.y,s=-s);const n=y(1,this.m_eSquared,e),_=y(1,this.m_eSquared,i),o=Math.min(e.y,i.y),m=R(this.m_eSquared,e.x,i.x,s,o);r.pe(m);const l=Math.abs(R(this.m_eSquared,e.x,i.x,o,b)),u=new J;u.setSub(n,a);const g=new J;g.setSub(_,a);const d=new J;d.setCrossProductVector(u,g);let E=c*(l-.5*d.length());E=z(E,i.x-e.x),h.pe(E)}t.length=0,i.length=0}return h.getResult()+c*(.5*(1-this.m_eSquared)*_.getResult()+r.getResult())}getEqualAreaPCSInstance(e,t){const i=t.getCenterX(),s=0,n=0;let a,_;const r=t.height();let h,o;(h=t.ymin>45*Math.PI/180||t.ymax<45*-Math.PI/180)?a=z(.5*Math.PI,t.getCenterY()):(a=t.getCenterY(),_=t.ymin+r*(2/3));const m=u(\"EqualAreaPCS\"),l=e.toString();return o=h?P.fromString(p.PE_TYPE_PROJCS,`PROJCS[\"${m}\", ${l}, PROJECTION[\"Lambert_Azimuthal_Equal_Area\"],PARAMETER[\"False_Easting\",${s}],PARAMETER[\"False_Northing\", ${n}],PARAMETER[\"Central_Meridian\", ${i}], PARAMETER[\"Latitude_of_Origin\", ${a}], UNIT[\"Meter\",1.0]]`):P.fromString(p.PE_TYPE_PROJCS,`PROJCS[\"${m}\", ${l}, PROJECTION[\"Cylindrical_Equal_Area\"],PARAMETER[\"False_Easting\", ${s}],PARAMETER[\"False_Northing\", ${n}],PARAMETER[\"Central_Meridian\", ${i}],PARAMETER[\"Standard_Parallel_1\", ${_}],PARAMETER[\"Latitude_of_Origin\", ${a}],UNIT[\"Meter\",1.0]]`),o}splitSegmentCrossingItegralThreshold(e,t,i){const s=100,n=20,a=n*n,_=y(this.m_a,this.m_eSquared,new N(0,b)),h=y(this.m_a,this.m_eSquared,new N(0,-b)),o=this.splitSegmentPassingThroughPole(e);for(let m of o){const e=m.getStartXY(),o=m.getEndXY(),l=y(this.m_a,this.m_eSquared,e),p=y(this.m_a,this.m_eSquared,o),u=new N,c=new J;let g=J.sqrDistance(_,l),d=J.sqrDistance(l,p);if(g<=s){if(!(d>a)){i.push(new r({start:e,end:o}));continue}c.assign(p.sub(l)),c.normalizeThis(),c.assign(l.add(c.mul(n))),u.assign(M(this.m_a,this.m_eSquared,c)),i.push(new r({start:e,end:u})),e.assign(u)}if(l.assign(y(this.m_a,this.m_eSquared,e)),g=J.sqrDistance(_,p),d=J.sqrDistance(l,p),g<=s){if(!(d>a)){i.push(new r({start:e,end:o}));continue}c.assign(p.sub(l)),c.normalizeThis(),c.assign(p.sub(c.mul(n))),u.assign(M(this.m_a,this.m_eSquared,c)),i.push(new r({start:u,end:o})),o.assign(u)}if(l.assign(y(this.m_a,this.m_eSquared,e)),p.assign(y(this.m_a,this.m_eSquared,o)),g=J.sqrDistance(h,l),d=J.sqrDistance(l,p),g<=s){if(!(d>a)){i.push(new r({start:e,end:o}));continue}c.assign(p.sub(l)),c.normalizeThis(),c.assign(l.add(c.mul(n))),u.assign(M(this.m_a,this.m_eSquared,c)),i.push(new r({start:e,end:u})),e.assign(u)}if(l.assign(y(this.m_a,this.m_eSquared,e)),p.assign(y(this.m_a,this.m_eSquared,o)),g=J.sqrDistance(h,p),d=J.sqrDistance(l,p),g<=s){if(!(d>a)){i.push(new r({start:e,end:o}));continue}c.assign(p.sub(l)),c.normalizeThis(),c.assign(p.sub(c.mul(n))),u.assign(M(this.m_a,this.m_eSquared,c)),i.push(new r({start:u,end:o})),o.assign(u)}t.push(new r({start:e,end:o}))}}splitSegmentPassingThroughPole(e){const t={stack:[],error:void 0,hasError:!1};try{const i=[],s=new J,n=new J,a=new J,_=new N,h=20,o=3.124139361,m=10,l=e.getStartXY(),p=e.getEndXY(),u=X(t,new A,!1);if(x.geodeticDistance(this.m_a,this.m_eSquared,l.x,l.y,p.x,p.y,u,null,null,2),Math.abs(p.x-l.x)>o&&u.val>h){const e=new H(new N(0,90),l.divide(this.m_rpu),p.divide(this.m_rpu),this.m_inputGCS,2,2);let t=C(e.makeFunctor(),0,1,1e-10);if(t.second<=m&&t.first>0&&t.first<1)return s.assign(y(this.m_a,this.m_eSquared,l)),n.assign(y(this.m_a,this.m_eSquared,p)),G(s,n,t.first,a),_.assign(M(this.m_a,this.m_eSquared,a)),i.push(new r({start:l,end:_})),i.push(new r({start:_,end:p})),i;if(e.setPointDistFrom(new N(0,-90)),t=C(e.makeFunctor(),0,1,1e-10),t.second<=m&&t.first>0&&t.first<1)return s.assign(y(this.m_a,this.m_eSquared,l)),n.assign(y(this.m_a,this.m_eSquared,p)),G(s,n,t.first,a),_.assign(M(this.m_a,this.m_eSquared,a)),i.push(new r({start:l,end:_})),i.push(new r({start:_,end:p})),i}return i.push(new r({start:l,end:p})),i}catch(i){t.error=i,t.hasError=!0}finally{j(t)}}adaptiveIntegrationWithRomberg(e,t){const i=e.makeFunctor();let s=0,n=1,a=i(s),r=i(n);const h=1e-17,o=1e-14;let m=(s+n)/2,l=i(m),p=Math.abs(l-a),u=Math.abs(r-l),c=0;for(;c++<32&&(p/u<.1||u/p<.1);)p<u?(t.pe(_(5,s,m,o,h,i)),s=m,a=l):(t.pe(_(5,m,n,o,h,i)),n=m,r=l),m=(s+n)/2,l=Math.abs(i(m)),p=Math.abs(l-a),u=Math.abs(r-l);t.pe(_(5,s,n,o,h,i))}loxodromeAreaHemi(e,t,i,s,n){const a=i.clone(),_=n.clone();let r,h,o,m,l,p,u,c,g,d,E,f,P,S,A,x;return a.make_negative&&a.changeSign(),_.make_negative&&_.changeSign(),E=s-t,1===Math.abs(a.sin_phi)||1===Math.abs(_.sin_phi)?e.half_qp*E:a.sin_phi===_.sin_phi?(d=.5*e.one_m_e_2*a.sin_phi*(1/a.one_m_e_2_sin_2_phi+O(e.e*a.sin_phi))*E,d):(A=Math.log(_.sin_half_phi_pf*a.sin_half_phi_pz/(_.sin_half_phi_pz*a.sin_half_phi_pf)),x=Math.log(_.sin_half_asin_e_sin_phi_pf*a.sin_half_asin_e_sin_phi_pz/(_.sin_half_asin_e_sin_phi_pz*a.sin_half_asin_e_sin_phi_pf)),1===this.m_eSquared?(l=0,r=.5*(A+_.sin_phi/_.one_m_e_2_sin_2_phi-a.sin_phi/a.one_m_e_2_sin_2_phi),h=0):(l=-2*e.atanh_e_over_e*(Math.log(_.one_p_sin_phi/a.one_p_sin_phi)-e.e*x),r=(A-e.e*x)/e.one_m_e_2,h=(Math.log(_.one_m_e_2_sin_2_phi/a.one_m_e_2_sin_2_phi)+l/e.atanh_e_over_e)/e.one_m_e_2),o=-x*(a.atanh_esin_phi+_.atanh_esin_phi),m=1/a.one_m_e_2_sin_2_phi-1/_.one_m_e_2_sin_2_phi,p=L(_.one_m_sin_phi/e.one_p_e,e.e)-L(a.one_m_sin_phi/e.one_p_e,e.e),u=L(_.one_p_sin_phi/e.one_p_e,e.e)-L(a.one_p_sin_phi/e.one_p_e,e.e),c=L(a.one_m_sin_phi/-e.one_m_e,e.e)-L(_.one_m_sin_phi/-e.one_m_e,e.e),g=L(a.one_p_sin_phi/-e.one_m_e,e.e)-L(_.one_p_sin_phi/-e.one_m_e,e.e),d=.25/r*(h+o+m+l+.5*(p+u+c+g)),d+=e.half_qp,f=.5*e.one_m_e_2*a.sin_phi*(1/a.one_m_e_2_sin_2_phi+O(e.e*a.sin_phi)),P=.5*e.one_m_e_2*_.sin_phi*(1/_.one_m_e_2_sin_2_phi+O(e.e*_.sin_phi)),P<f&&(S=f,f=P,P=S),d<f&&(d=f),d>P&&(d=P),d*=E,d)}loxodromeArea(e){const t=Math.PI/180;let i=0;const s=oe(),n=me(),a=me();s.e=Math.sqrt(this.m_eSquared),s.one_p_e=1+s.e,s.one_m_e=1-s.e,s.one_m_e_2=1-this.m_eSquared,s.atanh_e_over_e=O(s.e),this.m_eSquared>=1?s.half_qp=1:s.half_qp=.5*(1+s.atanh_e_over_e*s.one_m_e_2),s.f=.25*Math.PI,s.z=.75*Math.PI,a.initialize(0,s.e,s.f,s.z);const _=e.getPathCount(),r=new N,h=new N,o=e.getImpl().getAttributeStreamRef(0);for(let m=0;m<_;m++){const _=e.getPathStart(m),l=e.getPathEnd(m);if(!(l-_<=1)){o.queryPoint2D(2*(l-1),r);for(let e=_;e<l;e++){o.queryPoint2D(2*e,h);const m=r.y*t,l=h.y*t;if(e===_?(n.initialize(m,s.e,s.f,s.z),n.make_negative=!1):n.assign(a),a.initialize(l,s.e,s.f,s.z),a.make_negative=!1,r.y*h.y<0){if(r.y>=90&&h.y<=-90||h.y>=90&&r.y<=-90)return Number.NaN;const e=me();e.initialize(0,s.e,s.f,s.z),e.make_negative=!1;const _=n.atanh_sin_phi-s.e*n.atanh_esin_phi,o=a.atanh_sin_phi-s.e*a.atanh_esin_phi,l=(o*r.x-_*h.x)/(o-_);m<0?(n.make_negative=!0,i-=this.loxodromeAreaHemi(s,r.x*t,n,l*t,e),n.make_negative=!1,i+=this.loxodromeAreaHemi(s,l*t,e,h.x*t,a)):(i+=this.loxodromeAreaHemi(s,r.x*t,n,l*t,e),a.make_negative=!0,i-=this.loxodromeAreaHemi(s,l*t,e,h.x*t,a),a.make_negative=!1)}else r.y>=0?i+=this.loxodromeAreaHemi(s,r.x*t,n,h.x*t,a):(n.make_negative=!0,a.make_negative=!0,i-=this.loxodromeAreaHemi(s,r.x*t,n,h.x*t,a),n.make_negative=!1,a.make_negative=!1);r.assign(h)}}}return this.m_a*i*this.m_a}calculate(e){if(e.isEmpty()||e.getDimension()<2)return 0;if(e.getGeometryType()===i.enumEnvelope){const t=new a;return t.addEnvelope(e,!1),this.calculate(t)}return this.m_inputSR!==this.m_inputGCS&&null===this.m_transformPCS2GCS&&(this.m_transformPCS2GCS=o(this.m_inputSR,this.m_inputGCS,null)),this.executePolygonGeodeticArea(e)}}class de{getOperatorType(){return 10311}supportsCurves(){return!0}accelerateGeometry(e,t,i){return!1}canAccelerateGeometry(e){return!1}execute(e,i,s,n){if(t(e),4===s)return(new ne).execute(e,i,n);return new ge(i,s,n).calculate(e)}}export{de as OperatorGeodeticArea};\n"],"names":["e","i","s","n","o","M","l","T","a","v","p","t","_","D","g","Q","w","V","k","F","r","Y","h","d","m","N","u","q","c","Z","se","W","K","ie","ee","te","b","I","E","f","P","S","A","x","U","ne","ae","_e","re","he","J","O","oe","me","le","pe","ue","ce","ge","B","X","j","$","y","R","C","G","L","H","z","de"],"mappings":"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","x_google_ignoreList":[0,1]}