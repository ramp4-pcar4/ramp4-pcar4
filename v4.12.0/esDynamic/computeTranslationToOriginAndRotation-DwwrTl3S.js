import{bE as N,aV as O,a9 as R}from"./main-DnzmeE4U.js";import{s as S,q as M,o as P}from"./mat4-BFStKTjU.js";import{F as T,N as o,b as _}from"./projection-m8vi7Cxv.js";function l(s,u,r){const f=Math.sin(s),i=Math.cos(s),e=Math.sin(u),a=Math.cos(u),n=r;return n[0]=-f,n[4]=-e*i,n[8]=a*i,n[12]=0,n[1]=i,n[5]=-e*f,n[9]=a*f,n[13]=0,n[2]=0,n[6]=a,n[10]=e,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1,n}function m(s,u,r){return l(s,u,r),S(r,r),r}function p(s,u,r,f){const i=T(s,f);if(i==null)return!1;const e=i.source.spatialReferenceId,a=i.dest.spatialReferenceId;if(e===a&&!A(a)&&(e!==o.UNKNOWN||N(s,f)))return M(r,u),!0;if(A(a)){const C=_[e][o.LON_LAT],L=_[o.LON_LAT][a];return C!=null&&L!=null&&(C(u,0,t,0),L(t,0,E,0),l(c*t[0],c*t[1],r),r[12]=E[0],r[13]=E[1],r[14]=E[2],!0)}const n=A(e);if((a===o.WEB_MERCATOR||a===o.PLATE_CARREE||a===o.WGS84||a===o.CGCS2000)&&(e===o.WGS84||n||e===o.WEB_MERCATOR||e===o.CGCS2000)){const C=_[e][o.LON_LAT],L=_[o.LON_LAT][a];return C!=null&&L!=null&&(C(u,0,t,0),L(t,0,E,0),n?m(c*t[0],c*t[1],r):P(r),r[12]=E[0],r[13]=E[1],r[14]=E[2],!0)}return!1}function A(s){return s===o.SPHERICAL_ECEF||s===o.SPHERICAL_MARS_PCPF||s===o.SPHERICAL_MOON_PCPF||s===o.WGS84_ECEF}const c=O(1),t=R(),E=R();export{p as m,l as n};
