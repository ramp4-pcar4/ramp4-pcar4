{"version":3,"file":"popupUtils-BiEhUPlu.js","sources":["../../node_modules/@arcgis/core/layers/mixins/CustomParametersMixin.js","../../node_modules/@arcgis/core/support/popupUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";const e=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return r([o({type:Object,json:{write:{overridePolicy:r=>({enabled:!!(r&&Object.keys(r).length>0)})}}})],t.prototype,\"customParameters\",void 0),t=r([s(\"esri.layers.mixins.CustomParametersMixin\")],t),t};export{e as CustomParametersMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../PopupTemplate.js\";import{isFieldEditable as t,isRasterPixelValueField as n,getDisplayFieldName as i,isFieldVisibleByDefault as o}from\"../layers/support/fieldUtils.js\";import s from\"../popup/content/AttachmentsContent.js\";import\"../popup/content/Content.js\";import\"../popup/content/CustomContent.js\";import\"../popup/content/ExpressionContent.js\";import r from\"../popup/content/FieldsContent.js\";import\"../popup/content/MediaContent.js\";import\"../popup/content/RelationshipContent.js\";import\"../popup/content/TextContent.js\";import\"../popup/content/UtilityNetworkAssociationsContent.js\";import l from\"../popup/FieldInfo.js\";import a from\"../popup/support/FieldInfoFormat.js\";function p({displayField:t,editFieldsInfo:n,fields:i,objectIdField:o,title:s},r){if(!i)return null;const l=g({editFieldsInfo:n,fields:i,objectIdField:o},r);if(!l.length)return null;const a=I({titleBase:s,fields:i,displayField:t}),p=j();return new e({title:a,content:p,fieldInfos:l})}function u(t){const{fields:n,featureReduction:i,title:o}=t,s=i.fields;if(!s)return null;const r=F(s,n??[]);if(!r.length)return null;const l=C();return new e({title:o,content:l,fieldInfos:r})}function c(e){const{title:t,graphic:n}=e??{},{attributes:i,sourceLayer:o}=n??{},s=o&&\"displayField\"in o?o.displayField:null,r=s?i?.[s]:null,l=null!=r?JSON.stringify(r):null,a=n?.getObjectId()?.toString();return t||l||a||\"\"}const d=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):o(e,t);function f({fields:e,ignoreFieldTypes:t,sortDisabled:n}){const i=e;return t&&(e=e.filter((e=>!t.includes(e.type)))),e===i&&(e=e.slice()),!0!==n&&e.sort(m),e}function m(e,t){return\"oid\"===e.type?-1:\"oid\"===t.type?1:v(e)?-1:v(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function b(e,t){return new r({fieldInfos:g(e,t).filter((e=>e.visible))})}function g(e,n){const i=n?.visibleFieldNames;return f({fields:e.fields??[],ignoreFieldTypes:n?.ignoreFieldTypes||S,sortDisabled:n?.sortDisabled}).map((n=>new l({fieldName:n.name,isEditable:t(n,e),label:n.alias,format:y(n),visible:d(n,{...e,visibleFieldNames:i})})))}function F(e,t){return e.map((e=>new l({fieldName:e.name,isEditable:!1,label:e.alias,format:w(e,t),visible:!0})))}function w(e,t){const{onStatisticField:n,onStatisticExpression:i,statisticType:o}=e;if(n){const e=t.find((e=>n===e.name));if(e)return y(e)}return\"number\"===i?.returnType?new a({digitSeparator:!0,places:2}):\"count\"===o?new a({digitSeparator:!0,places:0}):void 0}function y(e){switch(e.type){case\"small-integer\":case\"integer\":case\"single\":return new a({digitSeparator:!0,places:0});case\"double\":return new a({digitSeparator:!0,places:2});case\"string\":return n(e.name)?new a({digitSeparator:!0,places:0}):void 0;default:return}}function j(){return[new r,new s]}function C(){return[new r]}function I(e){const t=i(e),{titleBase:n}=e;return t?`${n}: {${t.trim()}}`:n??\"\"}function v(e){if(\"name\"===(e.name&&e.name.toLowerCase()))return!0;const t=e.alias?.toLowerCase();return\"name\"===t}const S=[\"geometry\",\"blob\",\"raster\",\"guid\",\"xml\"];export{g as createFieldInfos,b as createFieldsContent,p as createPopupTemplate,u as createPopupTemplateForFeatureReduction,c as getFeaturePopupTitle};\n"],"names":["e","r","o","s","p","t","n","l","g","a","I","j","c","i","d","f","m","v","S","y"],"mappings":"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","x_google_ignoreList":[0,1]}