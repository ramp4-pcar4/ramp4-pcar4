{"version":3,"file":"LodRenderer-DcLHtm7X.js","sources":["../../node_modules/@arcgis/core/geometry/projection/projectVectorToPoint.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextHelperCanvas.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/FontMetrics.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextRenderer.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/placementUtils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterials.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DepthRange.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/BackedBufferObject.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/RenderInstanceData.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceData.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceOctree.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LevelSelector.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodComponentData.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodLevel.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as r}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{initializeProjection as e}from\"../projection.js\";import{projectVectorToVector as o}from\"./projectVectorToVector.js\";function t(r,e,t){return!!o(r,e,i,t.spatialReference)&&(t.x=i[0],t.y=i[1],t.z=i[2],!0)}async function c(r,o,c,i){return await e(o,c.spatialReference,null,i),t(r,o,c)}const i=r();export{t as projectVectorToPoint,c as projectVectorToPointAsync};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nfunction a(a,n,c){return a.canvas||(a.canvas=document.createElement(\"canvas\")),a.canvas.width=n,a.canvas.height=c,a.canvas}export{a as getTextHelperCanvas};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getTextHelperCanvas as t}from\"./TextHelperCanvas.js\";function e(e){const{size:c}=e.definition,a=e.fontString(c);let i=n.get(a);if(!i){const u=t(o,0,0).getContext(\"2d\");e.setFontProperties(u,c);const x=u.measureText(r);i=new s(x.actualBoundingBoxAscent,x.actualBoundingBoxDescent),n.set(a,i)}return i}const n=new Map;class s{get maxHeight(){return this.maxAscent+this.maxDescent}constructor(t,e){this.maxAscent=t,this.maxDescent=e}}const o={canvas:null},r=(()=>{let t=\"\";for(let e=32;e<127;e++)t+=String.fromCharCode(e);return t})();export{e as getFontMetrics};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{debugFlags as e}from\"../../support/debugFlags.js\";import{getFontMetrics as i}from\"./FontMetrics.js\";import{getTextHelperCanvas as n}from\"./TextHelperCanvas.js\";const s=1;class r{constructor(t,e,i,n){this.text=t,this._alignment=e,this._parameters=i,this._maxSize=n,this._textWidths=[],this._lineWidths=[],this._renderPixelRatio=null,this._metricsCached=null,this.key=`${t}--${this._parameters.key}-${this._alignment}`,this._lines=t.replaceAll(\" \",\"Â \").split(/\\r?\\n/)}get displayWidth(){return Math.ceil(this._displayWidth+2*this._horizontalPadding)}get displayHeight(){let t=this._metrics.firstLineAscent;for(let e=0;e<this._lines.length-1;e++)t+=this._lineSpacing;return t+=this._metrics.lastLineDescent,Math.ceil(t+2*this._haloSize+2*this._verticalPadding)}get renderedWidth(){return this._toRoundedRenderUnit(this.displayWidth)}get renderedHeight(){return this._toRoundedRenderUnit(this.displayHeight)}get firstRenderedBaselinePosition(){return this._toRenderUnit(this._firstLineYOffset+this._metrics.firstLineAscent)}get _firstLineYOffset(){return this._verticalPadding+this._haloSize}get _metrics(){if(null==this._metricsCached){const t=n(a,l,l).getContext(\"2d\"),e=this._parameters.definition.pixelRatio,s=this._fontSize*e;this._parameters.setFontProperties(t,s);let r=2*this._haloSize;const h=this._parameters.definition.font;\"italic\"!==h.style&&\"oblique\"!==h.style&&\"bold\"!==h.weight&&\"bolder\"!==h.weight||(r+=.3*t.measureText(\"A\").width),this._textWidths.length=0,this._lineWidths.length=0;let o=0,d=0,_=0,g=0,m=0;this._lines.forEach(((i,n)=>{const s=t.measureText(i),h=s.width/e,a=h+r;this._textWidths.push(h),this._lineWidths.push(a),o=Math.max(o,a),g=Math.max(g,s.actualBoundingBoxAscent/e),m=Math.max(m,s.actualBoundingBoxDescent/e),0===n&&(d=s.actualBoundingBoxAscent/e),n===this._lines.length-1&&(_=s.actualBoundingBoxDescent/e)}));const f=i(this._parameters),u=Math.max(g,f.maxAscent),p=Math.max(m,f.maxDescent),x=d,R=\"underline\"===this._parameters.definition.font.decoration?p:_,S=o;this._metricsCached=new c(x,R,u,p,S)}return this._metricsCached}get _lineSpacing(){return(this._midLineHeight+this._linePadding)*this._parameters.definition.lineSpacingFactor}get _midLineHeight(){return this._metrics.midLineHeight}get _linePadding(){return this._midLineHeight*d}get _midLineAscent(){return this._metrics.maxLineAscent}get _renderedFontSize(){return this._toRenderUnit(this._fontSize)}get _fontSize(){return this._parameters.definition.size}get _renderedHaloSize(){return this._toRenderUnit(this._haloSize)}get _haloSize(){return this._parameters.haloSize}get _horizontalPadding(){return this._hasBackground?this._parameters.definition.background.padding[0]:0}get _verticalPadding(){return Math.max(this._hasBackground?this._parameters.definition.background.padding[1]:0,s)}get _hasBackground(){return!!this._parameters.backgroundStyle}get renderPixelRatio(){if(null==this._renderPixelRatio){const t=this._parameters.definition.pixelRatio;this._renderPixelRatio=Math.min(t,Math.min(this._maxSize[0]/this.displayWidth,this._maxSize[1]/this.displayHeight))}return this._renderPixelRatio}_getLineXOffset(t){switch(this._alignment){case o.Left:return this._horizontalPadding;case o.Center:return(this.displayWidth-this._lineWidths[t])/2;case o.Right:return this.displayWidth-this._horizontalPadding-this._lineWidths[t]}}render(t,i,n){t.save();const s=i/=this.renderPixelRatio,r=n/=this.renderPixelRatio,h=this._haloSize,o=this._firstLineYOffset+this._metrics.firstLineAscent;i+=h,n+=o;const a=this._haloSize>0;a&&this._renderHalo(t,s,r,h,o),this._parameters.setFontProperties(t,this._renderedFontSize);for(let e=0;e<this._lines.length;++e){const s=this._lines[e],r=this._getLineXOffset(e);a&&(t.globalCompositeOperation=\"destination-out\",t.fillStyle=\"rgb(0, 0, 0)\",this._fillText(t,s,i+r,n),this._renderLineDecoration(t,i+r,n,this._textWidths[e])),t.globalCompositeOperation=\"source-over\",t.fillStyle=this._parameters.textStyle,this._fillText(t,s,i+this._getLineXOffset(e),n),this._renderLineDecoration(t,i+r,n,this._textWidths[e]),n+=this._lineSpacing}if(e.TEXT_SHOW_BASELINE){t.strokeStyle=_,t.setLineDash([2,2]),t.lineWidth=1;let e=r+o;for(let i=0;i<this._lines.length;++i)this._drawLine(t,[s,e],[s+this.displayWidth,e]),e+=this._lineSpacing}if(e.TEXT_SHOW_BORDER&&(t.strokeStyle=_,t.setLineDash([]),t.lineWidth=1,this._drawBox(t,[s,r],[this.displayWidth,this.displayHeight])),this._hasBackground){const e=this._parameters.definition.background.borderRadius*this.renderPixelRatio;this._roundedRect(t,s,r,e),t.globalCompositeOperation=\"destination-over\",t.fillStyle=this._parameters.backgroundStyle,t.fill()}t.restore()}_renderLineDecoration(t,e,i,n,s=!1){if(\"none\"===this._parameters.definition.font.decoration||0===n)return;const r=1,h=Math.max(this._parameters.definition.size/16,r);switch(this._parameters.definition.font.decoration){case\"underline\":i+=2*h;break;case\"line-through\":i-=.33*this._midLineAscent}const o=s?this._haloSize:0;t.strokeStyle=s?this._parameters.haloStyle:this._parameters.textStyle,t.lineWidth=this._toRenderUnit(h+2*o),t.beginPath(),t.moveTo(this._toRenderUnit(e-o),this._toRenderUnit(i)),t.lineTo(this._toRenderUnit(e+n+o),this._toRenderUnit(i)),t.stroke()}_roundedRect(e,i,n,s){i=this._toRenderUnit(i),n=this._toRenderUnit(n);const r=this.renderedWidth,h=this.renderedHeight;0!==s?(s=t(s,0,Math.floor(h/2)),e.beginPath(),e.moveTo(i,n+s),e.arcTo(i,n,i+s,n,s),e.lineTo(i+r-s,n),e.arcTo(i+r,n,i+r,n+s,s),e.lineTo(i+r,n+h-s),e.arcTo(i+r,n+h,i+r-s,n+h,s),e.lineTo(i+s,n+h),e.arcTo(i,n+h,i,n+h-s,s),e.closePath()):e.rect(i,n,r,h)}_renderHalo(t,e,i,s,r){const h=this.renderedWidth,o=this.renderedHeight,d=n(a,Math.max(h,l),Math.max(o,l)),_=d.getContext(\"2d\");_.clearRect(0,0,h,o),this._parameters.setFontProperties(_,this._renderedFontSize),_.fillStyle=this._parameters.haloStyle,_.strokeStyle=this._parameters.haloStyle;const c=this._renderedHaloSize<3;_.lineJoin=c?\"miter\":\"round\",c?this._renderHaloEmulated(_,s,r):this._renderHaloNative(_,s,r);let g=r;for(let n=0;n<this._lines.length;++n){const t=this._getLineXOffset(n);this._renderLineDecoration(_,s+t,g,this._textWidths[n],!0),g+=this._lineSpacing}t.globalAlpha=this._parameters.definition.halo.color[3],t.drawImage(d,0,0,h,o,this._toRenderUnit(e),this._toRenderUnit(i),h,o),t.globalAlpha=1}_renderHaloEmulated(t,e,i){for(let n=0;n<this._lines.length;++n){const s=this._lines[n],r=this._getLineXOffset(n);for(const[n,o]of h)this._fillText(t,s,e+r+this._haloSize*n,i+this._haloSize*o);i+=this._lineSpacing}}_renderHaloNative(t,e,i){const n=2*this._haloSize;for(let s=0;s<this._lines.length;++s){const r=this._lines[s],h=this._getLineXOffset(s),o=5,a=.1;for(let s=0;s<o;s++){const d=1-(o-1)*a+s*a;t.lineWidth=this._toRenderUnit(d*n),this._strokeText(t,r,e+h,i)}i+=this._lineSpacing}}get _displayWidth(){return this._metrics.displayWidth}_toRenderUnit(t){return t*this.renderPixelRatio}_toRoundedRenderUnit(t){return Math.round(t*this.renderPixelRatio)}_fillText(t,e,i,n){t.fillText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_strokeText(t,e,i,n){t.strokeText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_drawLine(t,e,i){t.beginPath(),t.moveTo(this._toRoundedRenderUnit(e[0])+.5,this._toRoundedRenderUnit(e[1])+.5),t.lineTo(this._toRoundedRenderUnit(i[0])+.5,this._toRoundedRenderUnit(i[1])+.5),t.stroke()}_drawBox(t,e,i){const n=this._toRenderUnit(e[0]),s=this._toRenderUnit(e[1]),r=this._toRenderUnit(i[0]),h=this._toRenderUnit(i[1]),o=Math.floor(n)+.5,a=Math.ceil(n+r)-.5,d=Math.floor(s)+.5,l=Math.ceil(s+h)-.5;t.beginPath(),t.moveTo(o,d),t.lineTo(a,d),t.lineTo(a,l),t.lineTo(o,l),t.lineTo(o,d),t.stroke()}}const h=[];{const t=16;for(let e=0;e<360;e+=360/t)h.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}var o;!function(t){t[t.Left=0]=\"Left\",t[t.Center=1]=\"Center\",t[t.Right=2]=\"Right\"}(o||(o={}));const a={canvas:null},d=.2,l=512,_=\"rgb(255, 0, 255, 0.5)\";class c{get firstLineHeight(){return this.firstLineAscent+this.maxLineDescent}get midLineHeight(){return this.maxLineAscent+this.maxLineDescent}get lastLineHeight(){return this.maxLineAscent+this.lastLineDescent}constructor(t,e,i,n,s){this.firstLineAscent=t,this.lastLineDescent=e,this.maxLineAscent=i,this.maxLineDescent=n,this.displayWidth=s}}export{o as TextRenderAlignment,r as TextRenderer,s as textVerticalPaddingPx};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{copy as t,set as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as r,ZEROS as o}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{TextRenderAlignment as c,textVerticalPaddingPx as n}from\"../../webgl-engine/lib/TextRenderer.js\";const i=Object.freeze({left:0,center:.5,right:1}),s=Object.freeze({\"bottom-left\":r(0,0),bottom:r(.5,0),\"bottom-right\":r(1,0),left:r(0,.5),center:r(.5,.5),right:r(1,.5),\"top-left\":r(0,1),top:r(.5,1),\"top-right\":r(1,1)});function f(t){switch(t){case\"left\":return c.Left;case\"right\":return c.Right;default:return c.Center}}function a(t){switch(t){case\"bottom-left\":case\"left\":case\"top-left\":return\"left\";case\"bottom\":case\"center\":case\"top\":return\"center\";case\"bottom-right\":case\"right\":case\"top-right\":return\"right\"}}function l(t){switch(t){case\"bottom-left\":case\"bottom\":case\"bottom-right\":return\"bottom\";case\"left\":case\"center\":case\"right\":return\"center\";case\"top-left\":case\"top\":case\"top-right\":return\"top\"}}function m(t,e){switch(e){case\"bottom\":return\"left\"===t?\"bottom-left\":\"right\"===t?\"bottom-right\":\"bottom\";case\"center\":return t;case\"top\":return\"left\"===t?\"top-left\":\"right\"===t?\"top-right\":\"top\"}}function u(t){return\"middle\"===t?\"center\":t}function h(r,c){switch(r){case\"top\":return e(c,0,n);case\"bottom\":return e(c,0,-1);default:return t(c,o)}}export{m as anchorFromPlacements,a as horizontalPlacementFromAnchor,i as horizontalPlacementToAnchorX,s as namedAnchorToHUDMaterialAnchorPos,f as textRenderAlignmentFromHorizontalPlacement,u as verticalPlacementFromAlignment,l as verticalPlacementFromAnchor,h as verticalScreenOffsetFromAlignment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ResourceState as s}from\"./basicInterfaces.js\";class t{constructor(s,t){this._material=s,this._repository=t,this._map=new Map}dispose(){this._map.forEach(((s,t)=>{null!=s&&this._repository.release(this._material,t)}))}load(t,e,r){const i=this._material.produces.get(e);if(!i?.(r))return null;this._map.has(r)||this._map.set(r,this._repository.acquire(this._material,e,r));const a=this._map.get(r);if(null!=a){if(a.ensureResources(t)===s.LOADED)return a;this._repository.requestRender()}return null}}export{t as GLMaterials};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass r{constructor(r=1/0,t=-1/0){this.near=r,this.far=t}set(r,t){this.near=r,this.far=t}union(r){null!=r&&(this.near=Math.min(this.near,r.near),this.far=Math.max(this.far,r.far))}within(r){return this.near<=r&&r<=this.far}}r.zero=new r(0,0);export{r as DepthRange};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BufferObject as e}from\"../../../../webgl/BufferObject.js\";import{Usage as t}from\"../../../../webgl/enums.js\";class r{constructor(r,i,s){this._elementSize=i,this._buffer=e.createVertex(r,t.STATIC_DRAW),this.resize(s)}destroy(){this._buffer.dispose()}get elementSize(){return this._elementSize}get capacity(){return this._capacity}get array(){return this._array}get buffer(){return this._buffer}get usedMemory(){return this._array.byteLength+this._buffer.usedMemory}copyRange(e,t,r,i=0){const s=new Uint8Array(this.array,e*this.elementSize,(t-e)*this.elementSize);new Uint8Array(r.array,i*this.elementSize).set(s)}transferAll(){this._buffer.setData(this._array)}transferRange(e,t){const r=e*this._elementSize,i=t*this._elementSize;this._buffer.setSubData(new Uint8Array(this._array),r,r,i)}resize(e){const t=e*this._elementSize,r=new ArrayBuffer(t);this._array&&(e>=this._capacity?new Uint8Array(r).set(new Uint8Array(this._array)):new Uint8Array(r).set(new Uint8Array(this._array).subarray(0,e*this._elementSize))),this._array=r,this._buffer.setSize(t),this._capacity=e}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{reallocShrinkThreshold as t,reallocGrowthFactor as i,reallocShrinkFactor as e}from\"../../../../../core/arrayUtils.js\";import{BufferViewVec3f as s,BufferViewMat3f as a,BufferViewVec4f as r,BufferViewVec4u8 as n}from\"../../../../../geometry/support/buffer/BufferView.js\";import{assert as h}from\"../Util.js\";import{VertexAttribute as d}from\"../VertexAttribute.js\";import _ from\"./BackedBufferObject.js\";class c{constructor(t){this.modelOriginHi=t.getField(d.INSTANCEMODELORIGINHI,s),this.modelOriginLo=t.getField(d.INSTANCEMODELORIGINLO,s),this.model=t.getField(d.INSTANCEMODEL,a),this.modelNormal=t.getField(d.INSTANCEMODELNORMAL,a),this.featureAttribute=t.getField(d.INSTANCEFEATUREATTRIBUTE,r),this.color=t.getField(d.INSTANCECOLOR,n),this.objectAndLayerIdColor=t.getField(d.INSTANCEOBJECTANDLAYERIDCOLOR,n)}}class f{constructor(t,i){this._rctx=t,this._instanceBufferLayout=i,this._headIndex=0,this._tailIndex=0,this._firstIndex=null,this._captureFirstIndex=!0,this._updating=!1,this._prevHeadIndex=0,this._resized=!1,this._capacity=1}destroy(){this._buffer&&this._buffer.destroy()}get buffer(){return this._buffer.buffer}get view(){return this._view}get capacity(){return this._capacity}get size(){const t=this._headIndex,i=this._tailIndex;return t>=i?t-i:t+this._capacity-i}get isEmpty(){return this._headIndex===this._tailIndex}get isFull(){return this._tailIndex===(this._headIndex+1)%this._capacity}get headIndex(){return this._headIndex}get tailIndex(){return this._tailIndex}get firstIndex(){return this._firstIndex}get usedMemory(){return this._buffer?.usedMemory??0}reset(){this._headIndex=0,this._tailIndex=0,this._firstIndex=null}startUpdateCycle(){this._captureFirstIndex=!0}beginUpdate(){h(!this._updating,\"already updating\"),this._updating=!0,this._prevHeadIndex=this._headIndex}endUpdate(){h(this._updating,\"not updating\"),this.size<t*this.capacity&&this._shrink(),this._resized?(this._buffer.transferAll(),this._resized=!1):this._transferRange(this._prevHeadIndex,this._headIndex),this._updating=!1}allocateHead(){h(this._updating,\"not updating\"),this.isFull&&this._grow();const t=this.headIndex;return this._captureFirstIndex&&(this._firstIndex=t,this._captureFirstIndex=!1),this._incrementHead(),h(this._headIndex!==this._tailIndex,\"invalid pointers\"),t}freeTail(){h(this._updating,\"not updating\"),h(this.size>0,\"invalid size\");const t=this._tailIndex===this._firstIndex;this._incrementTail(),t&&(this._firstIndex=this._tailIndex)}_grow(){const t=Math.max(u,Math.floor(this._capacity*i));this._resize(t)}_shrink(){const t=Math.max(u,Math.floor(this._capacity*e));this._resize(t)}_resize(t){if(h(this._updating,\"not updating\"),t===this._capacity)return;const i=new _(this._rctx,this._instanceBufferLayout.stride,t);if(this._buffer){this._firstIndex&&(this._firstIndex=(this._firstIndex+this._capacity-this._tailIndex)%this._capacity);const t=this.size,e=this._compactInstances(i);h(e===t,\"invalid compaction\"),this._buffer.destroy(),this._tailIndex=0,this._headIndex=e,this._prevHeadIndex=0}this._resized=!0,this._capacity=t,this._buffer=i,this._view=new c(this._instanceBufferLayout.createView(this._buffer.array))}_compactInstances(t){const i=this._headIndex,e=this._tailIndex;return e<i?(this._buffer.copyRange(e,i,t),i-e):e>i?(this._buffer.copyRange(e,this._capacity,t),i>0&&this._buffer.copyRange(0,i,t,this._capacity-e),i+(this._capacity-e)):0}_incrementHead(t=1){this._headIndex=(this._headIndex+t)%this._capacity}_incrementTail(t=1){this._tailIndex=(this._tailIndex+t)%this._capacity}_transferRange(t,i){t<i?this._buffer.transferRange(t,i):t>i&&(i>0&&this._buffer.transferRange(0,i),this._buffer.transferRange(t,this._capacity))}}const u=64;export{f as RenderInstanceData,c as RenderInstanceDataView,u as initialCapacity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Accessor.js\";import{reallocGrowthFactor as s}from\"../../../../../core/arrayUtils.js\";import i from\"../../../../../core/Evented.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{fromMat4 as o,invert as n,transpose as h}from\"../../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as l}from\"../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{multiply as c}from\"../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as g}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as m}from\"../../../../../chunks/vec32.js\";import{create as f}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{BufferViewMat4f64 as d,BufferViewVec3f64 as p,BufferViewMat3f as _,BufferViewVec2f as T,BufferViewVec4f64 as u,BufferViewVec4f as L,BufferViewVec4u8 as O,BufferViewUint8 as A}from\"../../../../../geometry/support/buffer/BufferView.js\";import{scaleFromMatrix as E}from\"../../../support/mathUtils.js\";import{newLayout as v}from\"../../../support/buffer/InterleavedLayout.js\";import{assert as M}from\"../Util.js\";import{VertexAttribute as I}from\"../VertexAttribute.js\";import{initialCapacity as F}from\"./RenderInstanceData.js\";var S;function C(t){let e=v().mat4f64(I.LOCALTRANSFORM).mat4f64(I.GLOBALTRANSFORM).vec4f64(I.BOUNDINGSPHERE).vec3f64(I.MODELORIGIN).mat3f(I.INSTANCEMODEL).mat3f(I.INSTANCEMODELNORMAL).vec2f(I.MODELSCALEFACTORS);return t.includes(I.FEATUREATTRIBUTE)&&(e=e.vec4f(I.FEATUREATTRIBUTE)),t.includes(I.COLOR)&&(e=e.vec4u8(I.COLOR)),t.includes(I.OBJECTANDLAYERIDCOLOR)&&(e=e.vec4u8(I.OBJECTANDLAYERIDCOLOR)),e=e.u8(I.STATE).u8(I.LODLEVEL),e}!function(t){t[t.ALLOCATED=1]=\"ALLOCATED\",t[t.DEFAULT_ACTIVE=2]=\"DEFAULT_ACTIVE\",t[t.VISIBLE=4]=\"VISIBLE\",t[t.HIGHLIGHT=8]=\"HIGHLIGHT\",t[t.HIGHLIGHT_ACTIVE=16]=\"HIGHLIGHT_ACTIVE\",t[t.REMOVE=32]=\"REMOVE\",t[t.TRANSFORM_CHANGED=64]=\"TRANSFORM_CHANGED\",t[t.ACTIVE=18]=\"ACTIVE\"}(S||(S={}));class R{constructor(t){this.localTransform=t.getField(I.LOCALTRANSFORM,d),this.globalTransform=t.getField(I.GLOBALTRANSFORM,d),this.modelOrigin=t.getField(I.MODELORIGIN,p),this.model=t.getField(I.INSTANCEMODEL,_),this.modelNormal=t.getField(I.INSTANCEMODELNORMAL,_),this.modelScaleFactors=t.getField(I.MODELSCALEFACTORS,T),this.boundingSphere=t.getField(I.BOUNDINGSPHERE,u),this.featureAttribute=t.getField(I.FEATUREATTRIBUTE,L),this.color=t.getField(I.COLOR,O),this.objectAndLayerIdColor=t.getField(I.OBJECTANDLAYERIDCOLOR,O),this.state=t.getField(I.STATE,A),this.lodLevel=t.getField(I.LODLEVEL,A)}}let b=class extends e{constructor(t,e){super(t),this.events=new i,this._capacity=0,this._size=0,this._next=0,this._highlightOptionsMap=new Map,this._highlightOptionsMapPrev=new Map,this._layout=C(e),this._capacity=F,this._buffer=this._layout.createBuffer(this._capacity),this._view=new R(this._buffer)}get capacity(){return this._capacity}get size(){return this._size}get view(){return this._view}addInstance(){this._size+1>this._capacity&&this._grow();const t=this._findSlot();return this._view.state.set(t,S.ALLOCATED),this._size++,this.events.emit(\"instances-changed\"),t}removeInstance(t){const e=this._view.state;M(t>=0&&t<this._capacity&&!!(e.get(t)&S.ALLOCATED),\"invalid instance handle\"),this._getStateFlag(t,S.ACTIVE)?this._setStateFlags(t,S.REMOVE):this.freeInstance(t),this.events.emit(\"instances-changed\")}freeInstance(t){const e=this._view.state;M(t>=0&&t<this._capacity&&!!(e.get(t)&S.ALLOCATED),\"invalid instance handle\"),e.set(t,0),this._size--}setLocalTransform(t,e,s=!0){this._view.localTransform.setMat(t,e),s&&this.updateModelTransform(t)}getLocalTransform(t,e){this._view.localTransform.getMat(t,e)}setGlobalTransform(t,e,s=!0){this._view.globalTransform.setMat(t,e),s&&this.updateModelTransform(t)}getGlobalTransform(t,e){this._view.globalTransform.getMat(t,e)}updateModelTransform(t){const e=this._view,s=y,i=N;e.localTransform.getMat(t,D),e.globalTransform.getMat(t,H);const a=c(H,H,D);m(s,a[12],a[13],a[14]),e.modelOrigin.setVec(t,s),o(i,a),e.model.setMat(t,i);const r=E(y,a);r.sort(),e.modelScaleFactors.set(t,0,r[1]),e.modelScaleFactors.set(t,1,r[2]),n(i,i),h(i,i),e.modelNormal.setMat(t,i),this._setStateFlags(t,S.TRANSFORM_CHANGED),this.events.emit(\"instance-transform-changed\",{index:t})}getModelTransform(t,e){const s=this._view;s.model.getMat(t,N),s.modelOrigin.getVec(t,y),e[0]=N[0],e[1]=N[1],e[2]=N[2],e[3]=0,e[4]=N[3],e[5]=N[4],e[6]=N[5],e[7]=0,e[8]=N[6],e[9]=N[7],e[10]=N[8],e[11]=0,e[12]=y[0],e[13]=y[1],e[14]=y[2],e[15]=1}applyShaderTransformation(t,e){null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedModelTransform(t,e){return this.getModelTransform(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e),e}getCombinedLocalTransform(t,e){this._view.localTransform.getMat(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedMaxScaleFactor(t){let e=this._view.modelScaleFactors.get(t,1);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(y,this,t),e*=Math.max(y[0],y[1],y[2])),e}getCombinedMedianScaleFactor(t){let e=this._view.modelScaleFactors.get(t,0);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(y,this,t),e*=w(y[0],y[1],y[2])),e}getModel(t,e){this._view.model.getMat(t,e)}setFeatureAttribute(t,e){this._view.featureAttribute.setVec(t,e)}getFeatureAttribute(t,e){this._view.featureAttribute.getVec(t,e)}setColor(t,e){this._view.color.setVec(t,e)}setObjectAndLayerIdColor(t,e){this._view.objectAndLayerIdColor.setVec(t,e)}setVisible(t,e){e!==this.getVisible(t)&&(this._setStateFlag(t,S.VISIBLE,e),this.events.emit(\"instance-visibility-changed\",{index:t}))}getVisible(t){return this._getStateFlag(t,S.VISIBLE)}setHighlight(t,e){const{_highlightOptionsMap:s}=this,i=s.get(t);e?e!==i&&(s.set(t,e),this._setStateFlag(t,S.HIGHLIGHT,!0),this.events.emit(\"instance-highlight-changed\")):i&&(s.delete(t),this._setStateFlag(t,S.HIGHLIGHT,!1),this.events.emit(\"instance-highlight-changed\"))}get highlightOptionsMap(){return this._highlightOptionsMap}getHighlightStateFlag(t){return this._getStateFlag(t,S.HIGHLIGHT)}geHighlightOptionsPrev(t){const e=this._highlightOptionsMapPrev.get(t)??null;return this._highlightOptionsMapPrev.delete(t),e}getHighlightName(t){const e=this.highlightOptionsMap.get(t)??null;return e?this._highlightOptionsMapPrev.set(t,e):this._highlightOptionsMapPrev.delete(t),e}getState(t){return this._view.state.get(t)}getLodLevel(t){return this._view.lodLevel.get(t)}countFlags(t){let e=0;for(let s=0;s<this._capacity;++s){this.getState(s)&t&&++e}return e}_setStateFlags(t,e){const s=this._view.state;e=s.get(t)|e,s.set(t,e)}_clearStateFlags(t,e){const s=this._view.state;e=s.get(t)&~e,s.set(t,e)}_setStateFlag(t,e,s){s?this._setStateFlags(t,e):this._clearStateFlags(t,e)}_getStateFlag(t,e){return!!(this._view.state.get(t)&e)}_grow(){this._capacity=Math.max(F,Math.floor(this._capacity*s)),this._buffer=this._layout.createBuffer(this._capacity).copyFrom(this._buffer),this._view=new R(this._buffer)}_findSlot(){const t=this._view.state;let e=this._next;for(;t.get(e)&S.ALLOCATED;)e=e+1===this._capacity?0:e+1;return this._next=e+1===this._capacity?0:e+1,e}};function w(t,e,s){return Math.max(Math.min(t,e),Math.min(Math.max(t,e),s))}t([a({constructOnly:!0})],b.prototype,\"shaderTransformation\",void 0),t([a()],b.prototype,\"_size\",void 0),t([a({readOnly:!0})],b.prototype,\"size\",null),b=t([r(\"esri.views.3d.webgl-engine.lib.lodRendering.InstanceData\")],b);const y=f(),N=l(),D=g(),H=g();export{b as InstanceData,R as InstanceDataView,S as StateFlags};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as e}from\"../../../../../chunks/vec32.js\";import{w as s,c as i,a as r}from\"../../../../../chunks/sphere.js\";import{maxScale as a}from\"../../../support/mathUtils.js\";import h from\"../Octree.js\";class n extends h{constructor(e,r){super((t=>s(this._instanceData.view.boundingSphere.getVec(t,this._tmpSphere))),{maximumDepth:25}),this._instanceData=e,this._boundingSphere=r,this._tmpSphere=i(),this._tmpMat4=t()}addInstance(t){const s=this._instanceData.view.boundingSphere,i=this._instanceData.getCombinedModelTransform(t,this._tmpMat4);e(r(this._tmpSphere),this._boundingSphere.center,i),this._tmpSphere[3]=this._boundingSphere.radius*a(i),s.setVec(t,this._tmpSphere),this.add([t])}removeInstance(t){this.remove([t])}}export{n as InstanceOctree};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i){this._worldSpaceRadius=e,this._minScreenSpaceRadii=i}selectLevel(e,i,t){const c=t.computeScreenPixelSizeAt(e),r=this._worldSpaceRadius*i/c;let s=0;for(let a=1;a<this._minScreenSpaceRadii.length;++a)r>=this._minScreenSpaceRadii[a]&&(s=a);return s}}export{e as LevelSelector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{glLayout as e}from\"../../../support/buffer/glUtil.js\";import{Default3D as t}from\"../DefaultVertexAttributeLocations.js\";import{GLMaterials as r}from\"../GLMaterials.js\";import{VertexArrayObject as o}from\"../VertexArrayObject.js\";import{BufferObject as s}from\"../../../../webgl/BufferObject.js\";import{Usage as i}from\"../../../../webgl/enums.js\";class a{constructor(a,n){const m=a.renderContext.rctx,u=n.geometry,f=n.geometry.getRenderGeometry(),g=f.material;this._materials=a.materials,g.setParameters({instancedDoublePrecision:!0}),this.geometry=u,this.material=g,this.glMaterials=new r(g,this._materials),this.vertexBufferLayout=f.vertexBufferLayout,this.vbo=s.createVertex(m,i.STATIC_DRAW,f.buffer),this.vao=new o(m,t,new Map([[\"geometry\",e(f.vertexBufferLayout)]]),new Map([[\"geometry\",this.vbo]])),this.vertexCount=f.elementCount}destroy(){this.glMaterials.dispose(),this.vbo.dispose(),this.vao.dispose()}get boundingInfo(){return this.geometry.boundingInfo}get triangleCount(){return this.vertexCount/3}get usedMemory(){return 128+this.vbo.usedMemory+this.vao.usedMemory}intersect(e,t,r,o,s,i,a,n){return this.geometry.intersect(e,t,r,o,s,i,a,n)}}export{a as LodComponentData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as o}from\"../../../../../core/arrayUtils.js\";import{isAborted as n,throwIfAborted as t}from\"../../../../../core/promiseUtils.js\";import{create as e}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{empty as r,expandWithVec3 as i,center as s,diameter as c}from\"../../../../../geometry/support/aaBoundingBox.js\";import{LodComponentData as u}from\"./LodComponentData.js\";class a{static async create(e,r,i){const s=await Promise.allSettled(r.components.map((o=>e.controller.schedule((()=>new u(e,o)),i)))),c=s.map((o=>\"fulfilled\"===o.status?o.value:null)).filter(o);if(n(i)||c.length!==s.length){c.forEach((o=>o.destroy())),t(i);for(const o of s)if(\"rejected\"===o.status)throw o.reason}return new a(r.minScreenSpaceRadius,c)}constructor(o,n){this.minScreenSpaceRadius=o,this.components=n}destroy(){this.components.forEach((o=>o.destroy()))}intersect(o,n,t,e,r,i,s){this.components.forEach((c=>c.intersect(o,n,t,e,r,i,this.boundingSphere,s)))}get boundingBox(){if(null==this._boundingBox){const o=r();this.components.forEach((n=>{null!=n.boundingInfo&&(i(o,n.boundingInfo.bbMin),i(o,n.boundingInfo.bbMax))})),this._boundingBox=o}return this._boundingBox}get boundingSphere(){if(null==this._boundingSphere){const o=this.boundingBox,n=e();s(o,n),this._boundingSphere={center:n,radius:.5*c(o)}}return this._boundingSphere}get triangleCount(){return this.components.reduce(((o,n)=>o+n.triangleCount),0)}}export{a as LodLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../../../core/arrayUtils.js\";import r from\"../../../../../core/Error.js\";import{someMap as n,getOrCreateMapValue as s}from\"../../../../../core/MapUtils.js\";import{destroyMaybe as a}from\"../../../../../core/maybe.js\";import{isAborted as i,throwIfAborted as o}from\"../../../../../core/promiseUtils.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as c}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as h}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{d,f as u,t as p}from\"../../../../../chunks/vec32.js\";import{create as m}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as f,fromValues as _}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{debugFlags as g}from\"../../../support/debugFlags.js\";import{glLayout as I}from\"../../../support/buffer/glUtil.js\";import{newLayout as y}from\"../../../support/buffer/InterleavedLayout.js\";import v from\"../../../webgl/RenderCamera.js\";import{ShaderOutput as C}from\"../../core/shaderLibrary/ShaderOutput.js\";import{AsyncRenderPlugin as E}from\"../../effects/RenderPlugin.js\";import{Default3D as R}from\"../DefaultVertexAttributeLocations.js\";import{DepthRange as D}from\"../DepthRange.js\";import{IntersectorType as A}from\"../IntersectorInterfaces.js\";import b from\"../Octree.js\";import{RenderSlot as T}from\"../RenderSlot.js\";import{assert as L}from\"../Util.js\";import{VertexAttribute as S}from\"../VertexAttribute.js\";import{InstanceData as O,StateFlags as j}from\"./InstanceData.js\";import{InstanceOctree as M}from\"./InstanceOctree.js\";import{LevelSelector as x}from\"./LevelSelector.js\";import{LodLevel as N}from\"./LodLevel.js\";import{RenderInstanceData as w}from\"./RenderInstanceData.js\";import{colorMixModes as H}from\"../../materials/internal/MaterialUtil.js\";import{encodeDoubleVec3 as U}from\"../../materials/renderers/utils.js\";import{DefaultMaterialDrawParameters as F}from\"../../shaders/DefaultMaterialTechnique.js\";import{defaultHighlightName as V}from\"../../../../support/HighlightDefaults.js\";import{TaskPriority as B,noBudget as q}from\"../../../../support/Scheduler.js\";import{bindVertexBufferLayout as G,unbindVertexBufferLayout as P}from\"../../../../webgl/Util.js\";const z=e=>{const t=e.baseBoundingSphere.radius,r=e.levels.map((e=>e.minScreenSpaceRadius));return new x(t,r)};let k=class extends E{constructor(e,t){super(e),this.type=A.LOD,this.isGround=!1,this._levels=[],this._defaultRenderInstanceData=new Array,this._highlightRenderInstanceDataMap=new Map,this._instanceIndex=0,this._cycleStartIndex=0,this._slicePlane=!1,this._camera=new v,this._updateCyclesWithStaticCamera=-1,this._needFullCycle=!1,this.produces=new Map([[T.OPAQUE_MATERIAL,e=>this._produces(e)],[T.TRANSPARENT_MATERIAL,e=>!!this._hasTransparentLevels()&&this._produces(e)]]),this._instanceData=new O({shaderTransformation:e.shaderTransformation},e.optionalFields),this.addHandles(t.registerTask(B.LOD_RENDERER,this))}initialize(){this._instanceBufferLayout=Y(this.optionalFields),this._glInstanceBufferLayout=I(this._instanceBufferLayout,1),this.addHandles([this._instanceData.events.on(\"instances-changed\",(()=>this._requestUpdateCycle())),this._instanceData.events.on(\"instance-transform-changed\",(({index:e})=>{this._requestUpdateCycle(),this.metadata.notifyGraphicGeometryChanged(e)})),this._instanceData.events.on(\"instance-visibility-changed\",(({index:e})=>{this._requestUpdateCycle(!0),this.metadata.notifyGraphicVisibilityChanged(e)})),this._instanceData.events.on(\"instance-highlight-changed\",(()=>this._requestUpdateCycle(!0)))])}get _allRenderInstanceData(){const e=[this._defaultRenderInstanceData];for(const t of this._highlightRenderInstanceDataMap)e.push(t[1]);return e}get _allRenderInstanceDataExceptHighlightShadow(){const e=[this._defaultRenderInstanceData];for(const t of this._highlightRenderInstanceDataMap)t[0]!==V&&e.push(t[1]);return e}hasHighlightOptions(e){return this._highlightRenderInstanceDataMap.has(e)}get _enableLevelSelection(){return this.symbol.levels.length>1}get levels(){return this._levels}get baseBoundingBox(){return this._levels[this._levels.length-1].boundingBox}get baseBoundingSphere(){return this._levels[this._levels.length-1].boundingSphere}get baseMaterial(){return this._levels[this._levels.length-1].components[0].material}get slicePlaneEnabled(){return this._slicePlane}set slicePlaneEnabled(e){this._slicePlane=e}get layerUid(){return this.metadata.layerUid}get instanceData(){return this._instanceData}get hasEmissions(){return this._levels.some((e=>e.components.some((e=>e.material.hasEmissions))))}get usedMemory(){return this._allRenderInstanceData.reduce(((e,t)=>t.reduce(((e,t)=>e+t.usedMemory),e)),this._levels.reduce(((e,t)=>e+t.components.reduce(((e,t)=>e+t.usedMemory),0)),0))}get renderStats(){const e=this._instanceData.size,t=[];return this._levels.forEach(((e,r)=>{const n=this._allRenderInstanceData[0][r].size+this._allRenderInstanceData[1][r].size,s=e.triangleCount;t.push({renderedInstances:n,renderedTriangles:n*s,trianglesPerInstance:s})})),{totalInstances:e,renderedInstances:t.reduce(((e,t)=>e+t.renderedInstances),0),renderedTriangles:t.reduce(((e,t)=>e+t.renderedTriangles),0),levels:t}}_createRenderInstanceDataArray(e=[]){const{rctx:t}=this._context.renderContext;return this.symbol.levels.map((r=>{e.push(new w(t,this._instanceBufferLayout))})),e}async initializeRenderContext(e,r){this._context=e,this._createRenderInstanceDataArray(this._defaultRenderInstanceData);const n=await Promise.allSettled(this.symbol.levels.map((t=>N.create(e,t,r)))),s=n.map((e=>\"fulfilled\"===e.status?e.value:null)).filter(t);if(i(r)||s.length!==n.length){s.forEach((e=>e.destroy())),o(r);for(const e of n)if(\"rejected\"===e.status)throw e.reason}this._levels=s,this._levelSelector=z(this)}uninitializeRenderContext(){this._invalidateOctree(),this._levels.forEach((e=>e.destroy())),this._defaultRenderInstanceData.forEach((e=>e.destroy())),this._highlightRenderInstanceDataMap.forEach((e=>e.forEach((e=>e.destroy()))))}_hasTransparentLevels(){return this._levels.some((e=>e.components.some((e=>{const t=e.material.produces.get(T.TRANSPARENT_MATERIAL);return t?.(C.Color)}))))}hasHighlights(){return n(this._highlightRenderInstanceDataMap,(e=>e.some((e=>e.size>0))))}_produces(e){return(e!==C.Highlight||this.hasHighlights())&&(e!==C.ShadowHighlight||this.hasHighlightOptions(V))}prepareRender(e){if(!g.LOD_INSTANCE_RENDERER_DISABLE_UPDATES){if(this._enableLevelSelection){const t=e.bind.contentCamera.equals(this._camera);this._camera.copyFrom(e.bind.contentCamera),t||this._requestUpdateCycle()}this._needFullCycle&&(this.runTask(q),this._needFullCycle=!1)}}acquireTechniques(e){if(!this.baseMaterial.visible||!this.baseMaterial.isVisibleForOutput(e.output))return null;const t=this._getInstanceDatas(e);if(!t)return null;const r=new Array,n=this.levels;return t.forEach((t=>n.forEach((({components:n},s)=>n.forEach((n=>r.push(this._beginComponent(e,t[s],n)))))))),r}render(e,t){const r=this._getInstanceDatas(e);if(!r||null==t)return;let n=0;e.rctx.bindVAO();const s=this.levels;r.forEach((r=>s.forEach((({components:s},a)=>s.forEach((s=>this._renderComponent(e,t[n++],r[a],s,a)))))))}_getInstanceDatas(e){const{output:t,bind:r}=e,n=t===C.Highlight,s=t===C.ShadowHighlight,a=!n&&!s,i=t!==C.ShadowExcludeHighlight;if(a)return i?this._allRenderInstanceData:this._allRenderInstanceDataExceptHighlightShadow;if(i){if(n){const e=r.highlight?.name;if(!e)return null;const t=this._highlightRenderInstanceDataMap.get(e);return t?[t]:null}const e=this._highlightRenderInstanceDataMap.get(V);return s?e?[e]:null:Array.from(this._highlightRenderInstanceDataMap.values())}return null}intersect(e,t,r,n){if(!this.baseMaterial.visible||null==this._octree)return;const s=m();d(s,n,r);const a=s=>{this._instanceData.getCombinedModelTransform(s,Z),e.transform.set(Z),p($,r,e.transform.inverse),p(X,n,e.transform.inverse);const a=this._instanceData.getState(s),i=this._instanceData.getLodLevel(s),o=this._levels.length;L(!!(a&j.ACTIVE),\"invalid instance state\"),L(i>=0&&i<o,\"invaid lod level\"),this._levels[i].intersect(e,t,$,X,s,this.metadata,o)};this.baseMaterial.parameters.verticalOffset?this._octree.forEach(a):this._octree.forEachAlongRay(r,s,a)}notifyShaderTransformationChanged(){this._invalidateOctree(),this._requestUpdateCycle()}get _octree(){if(null==this._octreeCached){const e=this._instanceData,t=e.view?.state;if(!t)return null;this._octreeCached=new M(e,this.baseBoundingSphere);for(let r=0;r<e.capacity;++r)t.get(r)&j.ACTIVE&&this._octreeCached.addInstance(r)}return this._octreeCached}_invalidateOctree(){this._octreeCached=a(this._octreeCached)}queryDepthRange(e){if(null==this._octree)return new D;const t=e.viewForward,r=this._octree.findClosest(t,b.DepthOrder.FRONT_TO_BACK,e.frustum),n=this._octree.findClosest(t,b.DepthOrder.BACK_TO_FRONT,e.frustum);if(null==r||null==n)return new D;const s=e.eye,a=this._instanceData.view;a.boundingSphere.getVec(r,Q),d(Q,Q,s);const i=u(Q,t)-Q[3];a.boundingSphere.getVec(n,Q),d(Q,Q,s);const o=u(Q,t)+Q[3];return new D(i,o)}_requestUpdateCycle(e=!1){this._updateCyclesWithStaticCamera=-1,this._cycleStartIndex=this._instanceIndex,e&&(this._needFullCycle=!0,this._context.requestRender())}_startUpdateCycle(){this._updateCyclesWithStaticCamera++,this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.startUpdateCycle()))))}get running(){return this._instanceData.size>0&&this._updateCyclesWithStaticCamera<1}runTask(e){const{_enableLevelSelection:t,_camera:n,_levelSelector:a}=this;this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.beginUpdate()))));const i=this._instanceData,o=i.view;let l=i.size;const c=i.capacity;let h=this._instanceIndex;const d=Math.ceil(c/500);for(let u=0;u<l&&!e.done;++u){h===this._cycleStartIndex&&this._startUpdateCycle();const u=o.state.get(h);let p=0;if(!(u&j.ALLOCATED)){h=h+1===c?0:h+1,l++;continue}const m=o.lodLevel.get(h);if(u&j.DEFAULT_ACTIVE&&this._defaultRenderInstanceData[m].freeTail(),u&j.HIGHLIGHT_ACTIVE){const e=i.geHighlightOptionsPrev(h);if(e){const t=this._highlightRenderInstanceDataMap.get(e);if(!t)throw new r(\"Internal error in lodRenderer\");t[m].freeTail()}}if(u&j.REMOVE)i.freeInstance(h);else if(u&j.VISIBLE){let e=0;if(t&&(o.modelOrigin.getVec(h,J),e=a.selectLevel(J,i.getCombinedMedianScaleFactor(h),n)),p=u&~(j.ACTIVE|j.TRANSFORM_CHANGED),e>=0)if(u&j.HIGHLIGHT){const t=i.getHighlightName(h);if(t){const n=()=>{const e=this._createRenderInstanceDataArray();return e.forEach((e=>e.beginUpdate())),e},a=s(this._highlightRenderInstanceDataMap,t,n);if(e>=a.length)throw new r(`LodRenderer internal error - missing lodLevel ${e}`);W(a[e],o,h)}p|=j.HIGHLIGHT_ACTIVE}else W(this._defaultRenderInstanceData[e],o,h),p|=j.DEFAULT_ACTIVE;o.state.set(h,p),o.lodLevel.set(h,e)}else p=u&~(j.ACTIVE|j.TRANSFORM_CHANGED),o.state.set(h,p);if(null!=this._octreeCached){const e=!!(u&j.ACTIVE),t=!!(p&j.ACTIVE);!e&&t?this._octreeCached.addInstance(h):e&&!t?this._octreeCached.removeInstance(h):e&&t&&u&j.TRANSFORM_CHANGED&&(this._octreeCached.removeInstance(h),this._octreeCached.addInstance(h))}h=h+1===c?0:h+1,h%d==0&&e.madeProgress()}this._instanceIndex=h,this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.endUpdate())))),this._context.requestRender()}_beginComponent(e,t,r){if(0===t.size)return null;const n=r.glMaterials.load(e.rctx,e.bind.slot,e.output);return n?.beginSlot(e.bind)}_renderComponent(e,t,r,n,s){if(!t)return;const{bind:a,rctx:i}=e;i.runAppleAmdDriverHelper();const o=i.bindTechnique(t,a,n.material.parameters,te);i.bindVAO(n.vao),t.ensureAttributeLocations(n.vao),g.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL&&e.output===C.Color&&(o.setUniform4fv(\"externalColor\",ee[Math.min(s,ee.length-1)]),o.setUniform1i(\"colorMixMode\",H.replace));const l=r.capacity,c=r.headIndex,h=r.tailIndex,d=r.firstIndex,u=this._glInstanceBufferLayout,p=(e,s)=>{G(i,R,r.buffer,u,e),i.drawArraysInstanced(t.primitiveType,0,n.vertexCount,s-e),P(i,R,r.buffer,u)};n.material.parameters.transparent&&null!=d?c>h?(L(d>=h&&d<=c,\"invalid firstIndex\"),p(d,c),p(h,d)):c<h&&(d<=c?(L(d>=0&&d<=c,\"invalid firstIndex\"),p(d,c),p(h,l),p(0,d)):(L(d>=h&&d<=l,\"invalid firstIndex\"),p(d,l),p(0,c),p(h,d))):c>h?p(h,c):c<h&&(p(0,c),p(h,l)),i.bindVAO(null)}};function W(e,t,r){const n=e.allocateHead();K(t,r,e.view,n)}function K(e,t,r,n){U(e.modelOrigin,t,r.modelOriginHi,r.modelOriginLo,n),r.model.copyFrom(n,e.model,t),r.modelNormal.copyFrom(n,e.modelNormal,t),e.color&&r.color&&r.color.copyFrom(n,e.color,t),e.objectAndLayerIdColor&&r.objectAndLayerIdColor&&r.objectAndLayerIdColor.copyFrom(n,e.objectAndLayerIdColor,t),e.featureAttribute&&r.featureAttribute&&r.featureAttribute.copyFrom(n,e.featureAttribute,t)}function Y(e){let t=y().vec3f(S.INSTANCEMODELORIGINHI).vec3f(S.INSTANCEMODELORIGINLO).mat3f(S.INSTANCEMODEL).mat3f(S.INSTANCEMODELNORMAL);return null!=e&&e.includes(\"featureAttribute\")&&(t=t.vec4f(S.INSTANCEFEATUREATTRIBUTE)),null!=e&&e.includes(\"color\")&&(t=t.vec4u8(S.INSTANCECOLOR)),null!=e&&e.includes(\"objectAndLayerIdColor\")&&(t=t.vec4u8(S.INSTANCEOBJECTANDLAYERIDCOLOR)),t}e([l({constructOnly:!0})],k.prototype,\"symbol\",void 0),e([l({constructOnly:!0})],k.prototype,\"optionalFields\",void 0),e([l({constructOnly:!0})],k.prototype,\"metadata\",void 0),e([l({constructOnly:!0})],k.prototype,\"shaderTransformation\",void 0),e([l()],k.prototype,\"_instanceData\",void 0),e([l()],k.prototype,\"_cycleStartIndex\",void 0),e([l({readOnly:!0})],k.prototype,\"_enableLevelSelection\",null),e([l()],k.prototype,\"_updateCyclesWithStaticCamera\",void 0),e([l({readOnly:!0})],k.prototype,\"running\",null),k=e([c(\"esri.views.3d.webgl-engine.lib.lodRendering.LodRenderer\")],k);const J=m(),Q=f(),Z=h(),$=m(),X=m(),ee=[_(1,0,1,1),_(0,0,1,1),_(0,1,0,1),_(1,1,0,1),_(1,0,0,1)],te=new F;export{k as LodRenderer};\n"],"names":["t","r","e","o","i","a","n","c","u","x","s","s$2","l","h","d","_","g","m","f","p","S","C","v","I","R","T","L","O","A","b","F","M","N","D","H","E","w","a$1","z","k","B","Y","V","q","Z","$","X","j","Q","J","W","te","ee","G","P","K","U","y"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]}