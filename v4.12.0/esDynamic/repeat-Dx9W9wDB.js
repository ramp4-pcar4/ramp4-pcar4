import{cM as k,cN as w,fb as A,fc as C}from"./main-DnzmeE4U.js";import{p as H,v as d,r as h,M as y,m as I}from"./ref-CeH0N1rX.js";const L={max:"320px"},N={max:"476px"},j={max:"768px"},q={max:"1152px"},z="8px",B="12px",D="16px",M=(a,p,f)=>{const x=new Map;for(let s=p;s<=f;s++)x.set(a[s],s);return x},E=k(class extends w{constructor(a){if(super(a),a.type!==A.CHILD)throw Error("repeat() can only be used in text expressions")}dt(a,p,f){let x;f===void 0?f=p:p!==void 0&&(x=p);const s=[],r=[];let l=0;for(const i of a)s[l]=x?x(i,l):l,r[l]=f(i,l),l++;return{values:r,keys:s}}render(a,p,f){return this.dt(a,p,f).values}update(a,[p,f,x]){const s=H(a),{values:r,keys:l}=this.dt(p,f,x);if(!Array.isArray(s))return this.ut=l,r;const i=this.ut??=[],u=[];let m,b,e=0,n=s.length-1,t=0,o=r.length-1;for(;e<=n&&t<=o;)if(s[e]===null)e++;else if(s[n]===null)n--;else if(i[e]===l[t])u[t]=d(s[e],r[t]),e++,t++;else if(i[n]===l[o])u[o]=d(s[n],r[o]),n--,o--;else if(i[e]===l[o])u[o]=d(s[e],r[o]),h(a,u[o+1],s[e]),e++,o--;else if(i[n]===l[t])u[t]=d(s[n],r[t]),h(a,s[e],s[n]),n--,t++;else if(m===void 0&&(m=M(l,t,o),b=M(i,e,n)),m.has(i[e]))if(m.has(i[n])){const c=b.get(l[t]),v=c!==void 0?s[c]:null;if(v===null){const g=h(a,s[e]);d(g,r[t]),u[t]=g}else u[t]=d(v,r[t]),h(a,s[e],v),s[c]=null;t++}else y(s[n]),n--;else y(s[e]),e++;for(;t<=o;){const c=h(a,u[o+1]);d(c,r[t]),u[t++]=c}for(;e<=n;){const c=s[e++];c!==null&&y(c)}return this.ut=l,I(a,u),C}});export{N as a,E as b,L as c,z as e,j as i,B as n,D as s,q as t};
