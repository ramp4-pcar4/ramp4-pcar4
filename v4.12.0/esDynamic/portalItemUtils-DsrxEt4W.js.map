{"version":3,"file":"portalItemUtils-DsrxEt4W.js","sources":["../../node_modules/@arcgis/core/portal/support/portalItemUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{initializeProjection as e,project as t}from\"../../geometry/projection.js\";import r from\"../../geometry/SpatialReference.js\";import{webMercatorToGeographic as n}from\"../../geometry/support/webMercatorUtils.js\";async function o(o){const i=o.spatialReference;if(i.isWGS84)return o.clone();if(i.isWebMercator)return n(o);const s=r.WGS84;return await e(i,s),t(o,s)}function i(e,t){if(!s(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function s(e,t){return!!e.typeKeywords?.includes(t)}function c(e){return s(e,E.HOSTED_SERVICE)}function a(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}function u(e,t,r){r?i(e,t):a(e,t)}async function l(e){const t=e.clone().normalize();let r;if(t.length>1)for(const n of t)r?n.width>r.width&&(r=n):r=n;else r=t[0];return o(r)}const E={DEVELOPER_BASEMAP:\"DeveloperBasemap\",GROUP_LAYER_MAP:\"Map\",HOSTED_SERVICE:\"Hosted Service\",JSAPI:\"ArcGIS API for JavaScript\",LOCAL_SCENE:\"ViewingMode-Local\",METADATA:\"Metadata\",MULTI_LAYER:\"Multilayer\",ORIENTED_IMAGERY_LAYER:\"OrientedImageryLayer\",SINGLE_LAYER:\"Singlelayer\",SUBTYPE_GROUP_LAYER:\"SubtypeGroupLayer\",SUBTYPE_GROUP_TABLE:\"SubtypeGroupTable\",TABLE:\"Table\",TILED_IMAGERY:\"Tiled Imagery\"};function f(e){const{portal:t,isOrgItem:r,itemControl:n}=e,o=t.user?.privileges;let i=!o||o.includes(\"features:user:edit\"),s=!!r&&!!o?.includes(\"features:user:fullEdit\");const c=\"update\"===n||\"admin\"===n;return c?s=i=!0:s&&(i=!0),{features:{edit:i,fullEdit:s},content:{updateItem:c}}}export{i as addTypeKeyword,f as getUserPrivileges,l as getWGS84ExtentForItem,s as hasTypeKeyword,c as isHostedLayer,a as removeTypeKeyword,u as toggleTypeKeyword,E as typeKeyword};\n"],"names":["o","i","n","s","r","e","t","c","E","a","u","l","f"],"mappings":";;AAIwN,eAAeA,EAAEA,GAAE;AAAC,QAAMC,IAAED,EAAE;AAAiB,MAAGC,EAAE,QAAQ,QAAOD,EAAE,MAAO;AAAC,MAAGC,EAAE,cAAc,QAAOC,EAAEF,CAAC;AAAE,QAAMG,IAAEC,EAAE;AAAM,SAAO,MAAMC,EAAEJ,GAAEE,CAAC,GAAEG,EAAEN,GAAEG,CAAC;AAAC;AAAC,SAASF,EAAE,GAAE,GAAE;AAAC,MAAG,CAACE,EAAE,GAAE,CAAC,GAAE;AAAC,UAAM,IAAE,EAAE;AAAa,QAAE,EAAE,KAAK,CAAC,IAAE,EAAE,eAAa,CAAC,CAAC;AAAA,EAAC;AAAC;AAAC,SAASA,EAAE,GAAE,GAAE;AAAC,SAAM,CAAC,CAAC,EAAE,cAAc,SAAS,CAAC;AAAC;AAAC,SAASI,EAAE,GAAE;AAAC,SAAOJ,EAAE,GAAEK,EAAE,cAAc;AAAC;AAAC,SAASC,EAAE,GAAE,GAAE;AAAC,QAAM,IAAE,EAAE;AAAa,MAAG,GAAE;AAAC,UAAMJ,IAAE,EAAE,QAAQ,CAAC;AAAE,IAAAA,IAAE,MAAI,EAAE,OAAOA,GAAE,CAAC;AAAA,EAAC;AAAC;AAAC,SAASK,EAAE,GAAE,GAAE,GAAE;AAAC,MAAET,EAAE,GAAE,CAAC,IAAEQ,EAAE,GAAE,CAAC;AAAC;AAAC,eAAeE,EAAE,GAAE;AAAC,QAAM,IAAE,EAAE,QAAQ;AAAY,MAAI;AAAE,MAAG,EAAE,SAAO,EAAE,YAAU,KAAK,EAAE,KAAE,EAAE,QAAM,EAAE,UAAQ,IAAE,KAAG,IAAE;AAAA,MAAO,KAAE,EAAE,CAAC;AAAE,SAAOX,EAAE,CAAC;AAAC;AAAM,MAACQ,IAAE,EAAC,mBAAkB,oBAAmB,iBAAgB,OAAM,gBAAe,kBAAiB,OAAM,6BAA4B,aAAY,qBAAoB,UAAS,YAAW,aAAY,cAAa,wBAAuB,wBAAuB,cAAa,eAAc,qBAAoB,qBAAoB,qBAAoB,qBAAoB,OAAM,SAAQ,eAAc,gBAAe;AAAE,SAASI,EAAE,GAAE;AAAC,QAAK,EAAC,QAAO,GAAE,WAAU,GAAE,aAAY,EAAC,IAAE,GAAEZ,IAAE,EAAE,MAAM;AAAW,MAAIC,IAAE,CAACD,KAAGA,EAAE,SAAS,oBAAoB,GAAE,IAAE,CAAC,CAAC,KAAG,CAAC,CAACA,GAAG,SAAS,wBAAwB;AAAE,QAAMO,IAAa,MAAX,YAAwB,MAAV;AAAY,SAAOA,IAAE,IAAEN,IAAE,KAAG,MAAIA,IAAE,KAAI,EAAC,UAAS,EAAC,MAAKA,GAAE,UAAS,EAAC,GAAE,SAAQ,EAAC,YAAWM,EAAC,EAAC;AAAC;","x_google_ignoreList":[0]}