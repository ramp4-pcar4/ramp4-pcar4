{"version":3,"file":"Normals-BP6u0Eou.js","sources":["../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Normals.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{q as n,n as r}from\"../../../../chunks/vec32.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{newFloatArray as a}from\"../../../../geometry/support/FloatArray.js\";function s(t,n,r,o,a,s=2){const e=1/(Math.abs(r)+Math.abs(o)+Math.abs(a)),c=r*e,f=o*e,h=a<=0?(c>=0?1:-1)*(1-Math.abs(f)):c,u=a<=0?(f>=0?1:-1)*(1-Math.abs(c)):f,l=n*s;t[l]=i(h),t[l+1]=i(u)}function e(t){const n=t.length/3,r=new Int16Array(2*n);let o=0;for(let a=0;a<n;++a)s(r,a,t[o++],t[o++],t[o++]);return r}function c(t,r){const a=t.length/3,e=new Int16Array(2*a);let c=0;const f=o();for(let o=0;o<a;++o)f[0]=t[c++],f[1]=t[c++],f[2]=t[c++],n(f,f,r),s(e,o,f[0],f[1],f[2]);return e}function f(t,n,o,a=2){const s=o*a,e=u(n[s]),c=u(n[s+1]),f=1-Math.abs(e)-Math.abs(c);t[2]=f,f<0?(t[0]=(e>=0?1:-1)*(1-Math.abs(c)),t[1]=(c>=0?1:-1)*(1-Math.abs(e))):(t[0]=e,t[1]=c),r(t,t)}function h(t,n=2){const r=t.length/n,s=a(3*r),e=o();let c=0;for(let o=0;o<r;++o)f(e,t,o,n),s[c++]=e[0],s[c++]=e[1],s[c++]=e[2];return s}function i(n){return t(Math.round(32767*n),-32767,32767)}function u(n){return t(n/32767,-1,1)}export{c as compressAndTransformNormals,s as compressNormal,e as compressNormals,u as decodeInt16,f as decompressNormal,h as decompressNormals,i as encodeInt16};\n"],"names":["s","n","r","o","a","e","c","f","h","u","l","i","t"],"mappings":";;AAIwQ,SAASA,EAAE,GAAEC,GAAEC,GAAEC,GAAEC,GAAEJ,IAAE,GAAE;AAAC,QAAMK,IAAE,KAAG,KAAK,IAAIH,CAAC,IAAE,KAAK,IAAIC,CAAC,IAAE,KAAK,IAAIC,CAAC,IAAGE,IAAEJ,IAAEG,GAAEE,IAAEJ,IAAEE,GAAEG,IAAEJ,KAAG,KAAGE,KAAG,IAAE,IAAE,OAAK,IAAE,KAAK,IAAIC,CAAC,KAAGD,GAAEG,IAAEL,KAAG,KAAGG,KAAG,IAAE,IAAE,OAAK,IAAE,KAAK,IAAID,CAAC,KAAGC,GAAEG,IAAET,IAAED;AAAE,IAAEU,CAAC,IAAEC,EAAEH,CAAC,GAAE,EAAEE,IAAE,CAAC,IAAEC,EAAEF,CAAC;AAAC;AAAC,SAASJ,EAAE,GAAE;AAAC,QAAMJ,IAAE,EAAE,SAAO,GAAEC,IAAE,IAAI,WAAW,IAAED,CAAC;AAAE,MAAIE,IAAE;AAAE,WAAQC,IAAE,GAAEA,IAAEH,GAAE,EAAEG,EAAE,CAAAJ,EAAEE,GAAEE,GAAE,EAAED,GAAG,GAAE,EAAEA,GAAG,GAAE,EAAEA,GAAG,CAAC;AAAE,SAAOD;AAAC;AAAgf,SAASS,EAAEV,GAAE;AAAC,SAAOW,EAAE,KAAK,MAAM,QAAMX,CAAC,GAAE,QAAO,KAAK;AAAC;","x_google_ignoreList":[0]}