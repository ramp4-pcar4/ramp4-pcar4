{"version":3,"file":"imageryUtils-BCPb5mXs.js","sources":["../../node_modules/@arcgis/core/layers/save/imageryUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as t}from\"./utils.js\";import{getWGS84ExtentForItem as r,removeTypeKeyword as a,typeKeyword as s,toggleTypeKeyword as i}from\"../../portal/support/portalItemUtils.js\";const y=\"Image Service\",l=\"imagery-layer-save\",n=\"imagery-layer-save-as\",m=\"imagery-tile-layer-save\",o=\"imagery-tile-layer-save-as\",c=\"WCS\",p=\"wcs-layer-save\",u=\"wcs-layer-save-as\";function g(e){if(\"imagery\"===e.type||\"wcs\"===e.type)return{isValid:!0};const{raster:t}=e,r=\"Function\"===t?.datasetFormat?t.primaryRasters?.rasters[0]:t;return{isValid:\"RasterTileServer\"===r?.datasetFormat&&(\"Raster\"===r.tileType||\"Map\"===r.tileType),errorMessage:\"imagery tile layer should be created from a tiled image service.\"}}function v(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function f(e,t){const{parsedUrl:y,title:l,fullExtent:n}=e;t.url=y.path,t.title||=l;try{t.extent=await r(n)}catch{t.extent=void 0}a(t,s.METADATA),i(t,s.TILED_IMAGERY,\"imagery-tile\"===e.type)}async function d(t,r){const a=\"imagery\"===t.type?l:\"imagery-tile\"===t.type?m:p,s=\"wcs\"===t.type?c:y;return e({layer:t,itemType:s,validateLayer:g,createItemData:v,errorNamePrefix:a},r)}async function I(e,r,a){const s=\"imagery\"===e.type?n:\"imagery-tile\"===e.type?o:u,i=\"wcs\"===e.type?c:y;return t({layer:e,itemType:i,validateLayer:g,createItemData:v,errorNamePrefix:s,newItem:r,setItemProperties:f},a)}export{d as save,I as saveAs};\n"],"names":["l","n","m","o","c","p","u","g","t","v","f","y","r","a","s","i","d","e","I"],"mappings":";;AAI6L,MAAM,IAAE,iBAAgBA,IAAE,sBAAqBC,IAAE,yBAAwBC,IAAE,2BAA0BC,IAAE,8BAA6BC,IAAE,OAAMC,IAAE,kBAAiBC,IAAE;AAAoB,SAASC,EAAE,GAAE;AAAC,MAAe,EAAE,SAAd,aAA4B,EAAE,SAAV,MAAe,QAAM,EAAC,SAAQ,GAAE;AAAE,QAAK,EAAC,QAAOC,EAAC,IAAE,GAAE,IAAeA,GAAG,kBAAhB,aAA8BA,EAAE,gBAAgB,QAAQ,CAAC,IAAEA;AAAE,SAAM,EAAC,SAA6B,GAAG,kBAAxB,uBAAmD,EAAE,aAAb,YAA+B,EAAE,aAAV,QAAoB,cAAa,mEAAkE;AAAC;AAAC,SAASC,EAAE,GAAE;AAAC,QAAMD,IAAE,EAAE;AAAU,SAAO,QAAQ,QAAQA,KAAG,OAAO,KAAKA,CAAC,EAAE,SAAOA,IAAE,IAAI;AAAC;AAAC,eAAeE,EAAE,GAAEF,GAAE;AAAC,QAAK,EAAC,WAAUG,GAAE,OAAMX,GAAE,YAAWC,EAAC,IAAE;AAAE,EAAAO,EAAE,MAAIG,EAAE,MAAKH,EAAE,UAAQR;AAAE,MAAG;AAAC,IAAAQ,EAAE,SAAO,MAAMI,EAAEX,CAAC;AAAA,EAAC,QAAM;AAAC,IAAAO,EAAE,SAAO;AAAA,EAAM;AAAC,EAAAK,EAAEL,GAAEM,EAAE,QAAQ,GAAEC,EAAEP,GAAEM,EAAE,eAA+B,EAAE,SAAnB,cAAuB;AAAC;AAAC,eAAeE,EAAER,GAAEI,GAAE;AAAC,QAAMC,IAAcL,EAAE,SAAd,YAAmBR,IAAmBQ,EAAE,SAAnB,iBAAwBN,IAAEG,GAAES,IAAUN,EAAE,SAAV,QAAeJ,IAAE;AAAE,SAAOa,EAAE,EAAC,OAAMT,GAAE,UAASM,GAAE,eAAcP,GAAE,gBAAeE,GAAE,iBAAgBI,EAAC,GAAED,CAAC;AAAC;AAAC,eAAeM,EAAE,GAAEN,GAAEC,GAAE;AAAC,QAAMC,IAAc,EAAE,SAAd,YAAmBb,IAAmB,EAAE,SAAnB,iBAAwBE,IAAEG,GAAES,IAAU,EAAE,SAAV,QAAeX,IAAE;AAAE,SAAOI,EAAE,EAAC,OAAM,GAAE,UAASO,GAAE,eAAcR,GAAE,gBAAeE,GAAE,iBAAgBK,GAAE,SAAQF,GAAE,mBAAkBF,EAAC,GAAEG,CAAC;AAAC;","x_google_ignoreList":[0]}