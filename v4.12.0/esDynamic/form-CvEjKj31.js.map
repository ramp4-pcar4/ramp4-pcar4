{"version":3,"file":"form-CvEjKj31.js","sources":["../../node_modules/@esri/calcite-components/dist/chunks/form.js"],"sourcesContent":["import { html as k } from \"lit-html\";\nimport { q as M, k as h } from \"./dom.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.0.3 */\nconst S = [\n  \"calcite-input\",\n  \"calcite-input-number\",\n  \"calcite-input-text\",\n  \"calcite-text-area\"\n];\nfunction V(e) {\n  return `${e.split(\"-\").map((n, i) => i === 0 ? n : `${n[0].toUpperCase()}${n.slice(1)}`).join(\"\")}${S.includes(e) ? \"Input\" : \"Change\"}`;\n}\nconst v = \"hidden-form-input\";\nfunction E(e) {\n  return \"checked\" in e;\n}\nconst m = /* @__PURE__ */ new WeakMap(), g = /* @__PURE__ */ new WeakSet();\nfunction H(e, t) {\n  if (h(t.parentElement, \"[form]\"))\n    return !0;\n  const n = \"calciteInternalFormComponentRegister\";\n  let i = !1;\n  return e.addEventListener(n, (o) => {\n    i = o.composedPath().some((l) => g.has(l)), o.stopPropagation();\n  }, { once: !0 }), t.dispatchEvent(new CustomEvent(n, {\n    bubbles: !0,\n    composed: !0\n  })), i;\n}\nfunction L(e, { status: t, message: a, icon: n }) {\n  \"status\" in e && (e.status = t), \"validationIcon\" in e && typeof e.validationIcon != \"string\" && (e.validationIcon = n), \"validationMessage\" in e && !e.validationMessage && (e.validationMessage = a);\n}\nfunction F(e) {\n  return e.nodeName === \"CALCITE-RADIO-BUTTON\" ? h(e, \"calcite-radio-button-group\") : e;\n}\nconst R = new CustomEvent(\"calciteInvalid\", { bubbles: !0, composed: !0 });\nfunction I(e) {\n  const t = e?.target, a = t?.validationMessage, n = F(t?.parentElement);\n  if (!n)\n    return;\n  const i = n?.nodeName?.toLowerCase(), o = i?.split(\"-\");\n  if (o.length < 2 || o[0] !== \"calcite\")\n    return;\n  e?.preventDefault(), \"validity\" in n && (n.validity = t?.validity), n.dispatchEvent(R), L(n, {\n    message: a,\n    icon: !0,\n    status: \"invalid\"\n  });\n  const l = V(i);\n  n.addEventListener(l, () => {\n    \"status\" in n && (n.status = \"idle\"), \"validationIcon\" in n && (n.validationIcon === \"\" || n.validationIcon === !0) && (n.validationIcon = !1), \"validationMessage\" in n && n.validationMessage === a && (n.validationMessage = \"\"), \"validity\" in n && (n.validity = t?.validity);\n  }, { once: !0 });\n}\nfunction $(e) {\n  const { formEl: t } = e;\n  return t ? (t.addEventListener(\"invalid\", I, !0), t.requestSubmit(), t.removeEventListener(\"invalid\", I, !0), requestAnimationFrame(() => {\n    const a = t.querySelectorAll(\"[status=invalid]\");\n    for (const n of a)\n      if (n?.validationMessage) {\n        n?.setFocus();\n        break;\n      }\n  }), !0) : !1;\n}\nfunction x(e) {\n  e.formEl?.reset();\n}\nfunction D(e) {\n  const { el: t, value: a } = e, n = A(e);\n  if (!n || H(n, t))\n    return;\n  e.formEl = n, e.defaultValue = a, E(e) && (e.defaultChecked = e.checked);\n  const i = w.bind(e);\n  n.addEventListener(\"reset\", i), m.set(e.el, i), g.add(t);\n}\nfunction A(e) {\n  const { el: t, form: a } = e;\n  return a ? M(t, { id: a }) : h(t, \"form\");\n}\nfunction w() {\n  if (\"status\" in this && (this.status = \"idle\"), \"validationIcon\" in this && (this.validationIcon = !1), \"validationMessage\" in this && (this.validationMessage = \"\"), E(this)) {\n    this.checked = this.defaultChecked;\n    return;\n  }\n  this.value = this.defaultValue, this.onFormReset?.();\n}\nfunction W(e) {\n  const { el: t, formEl: a } = e;\n  if (!a)\n    return;\n  const n = m.get(t);\n  a.removeEventListener(\"reset\", n), m.delete(t), e.formEl = null, g.delete(t);\n}\nfunction O(e, t) {\n  e.defaultValue = t;\n}\nconst q = \"calciteInternalHiddenInputInput\", b = (e) => {\n  e.target.dispatchEvent(new CustomEvent(q, { bubbles: !0 }));\n}, C = (e) => e.removeEventListener(\"input\", b);\nfunction P(e) {\n  const { el: t, formEl: a, name: n, value: i } = e, { ownerDocument: o } = t, l = t.querySelectorAll(`input[slot=\"${v}\"]`);\n  if (!a || !n) {\n    l.forEach((s) => {\n      C(s), s.remove();\n    });\n    return;\n  }\n  const f = Array.isArray(i) ? i : [i], d = [], u = /* @__PURE__ */ new Set();\n  l.forEach((s) => {\n    const r = f.find((y) => (\n      /* intentional non-strict equality check */\n      y == s.value\n    ));\n    r != null ? (u.add(r), p(e, s, r)) : d.push(s);\n  });\n  let c;\n  f.forEach((s) => {\n    if (u.has(s))\n      return;\n    let r = d.pop();\n    r || (r = o.createElement(\"input\"), r.ariaHidden = \"true\", r.slot = v), c || (c = o.createDocumentFragment()), c.append(r), r.addEventListener(\"input\", b), p(e, r, s);\n  }), c && t.append(c), d.forEach((s) => {\n    C(s), s.remove();\n  });\n}\nfunction p(e, t, a) {\n  const { defaultValue: n, disabled: i, form: o, name: l, required: f } = e;\n  t.defaultValue = n, t.disabled = i, t.name = l, t.required = f, t.tabIndex = -1, o ? t.setAttribute(\"form\", o) : t.removeAttribute(\"form\"), E(e) ? (t.checked = e.checked, t.defaultChecked = e.defaultChecked, t.value = e.checked ? a || \"on\" : \"\") : t.value = a || \"\", e.syncHiddenFormInput?.(t);\n  const d = F(e.el);\n  if (d && \"validity\" in d)\n    for (const u in { ...t?.validity })\n      d.validity[u] = t.validity[u];\n}\nconst B = ({ component: e }) => (P(e), k`<slot name=${v}></slot>`);\nexport {\n  B as H,\n  O as a,\n  D as c,\n  W as d,\n  A as f,\n  q as i,\n  x as r,\n  $ as s\n};\n"],"names":["S","V","e","n","v","E","g","H","t","h","i","o","l","L","a","F","R","I","$","x","D","A","w","M","q","b","C","P","s","f","d","u","r","y","p","c","k"],"mappings":"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","x_google_ignoreList":[0]}