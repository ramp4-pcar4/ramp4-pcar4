import{cY as Ut,b7 as at}from"./main-DnzmeE4U.js";let _;const h=new Array(128).fill(void 0);function w(r){return h[r]}h.push(void 0,null,!0,!1);let T=h.length;function Dt(r){r<132||(h[r]=T,T=r)}function l(r){const t=w(r);return Dt(r),t}function g(r){T===h.length&&h.push(h.length+1);const t=T;return T=h[t],h[t]=r,t}const st=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&st.decode();let M=null;function F(){return M!==null&&M.byteLength!==0||(M=new Uint8Array(_.memory.buffer)),M}function p(r,t){return r>>>=0,st.decode(F().subarray(r,r+t))}function L(r,t){return r>>>=0,F().subarray(r/1,r/1+t)}const gt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>{_.__wbindgen_export_1.get(r.dtor)(r.a,r.b)});function Nt(r,t,e,n){const i={a:r,b:t,cnt:1,dtor:e},o=(...s)=>{i.cnt++;const d=i.a;i.a=0;try{return n(d,i.b,...s)}finally{--i.cnt==0?(_.__wbindgen_export_1.get(i.dtor)(d,i.b),gt.unregister(i)):i.a=d}};return o.original=i,gt.register(o,i,i),o}function Vt(r,t,e){_._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h6f3c6e2a403d1e3d(r,t,g(e))}function Lt(){_.enable_tracing()}let c=0;const X=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Xt=typeof X.encodeInto=="function"?function(r,t){return X.encodeInto(r,t)}:function(r,t){const e=X.encode(r);return t.set(e),{read:r.length,written:e.length}};function y(r,t,e){if(e===void 0){const d=X.encode(r),u=t(d.length,1)>>>0;return F().subarray(u,u+d.length).set(d),c=d.length,u}let n=r.length,i=t(n,1)>>>0;const o=F();let s=0;for(;s<n;s++){const d=r.charCodeAt(s);if(d>127)break;o[i+s]=d}if(s!==n){s!==0&&(r=r.slice(s)),i=e(i,n,n=s+3*r.length,1)>>>0;const d=F().subarray(i+s,i+n);s+=Xt(r,d).written,i=e(i,n,s,1)>>>0}return c=s,i}let m=null;function a(){return(m===null||m.buffer.detached===!0||m.buffer.detached===void 0&&m.buffer!==_.memory.buffer)&&(m=new DataView(_.memory.buffer)),m}function I(r,t){try{return r.apply(this,t)}catch(e){_.__wbindgen_exn_store(g(e))}}function Yt(r,t,e,n){_.wasm_bindgen__convert__closures__invoke2_mut__h367b7e3d952c2b06(r,t,g(e),g(n))}let O=null;function dt(){return O!==null&&O.byteLength!==0||(O=new Float64Array(_.memory.buffer)),O}function Jt(r,t){return r>>>=0,dt().subarray(r/8,r/8+t)}let q=null;function ct(){return q!==null&&q.byteLength!==0||(q=new Uint32Array(_.memory.buffer)),q}function $t(r,t){return r>>>=0,ct().subarray(r/4,r/4+t)}function v(r,t){r>>>=0;const e=a(),n=[];for(let i=r;i<r+4*t;i+=4)n.push(l(e.getUint32(i,!0)));return n}let j=null;function Kt(){return j!==null&&j.byteLength!==0||(j=new Uint16Array(_.memory.buffer)),j}function Y(r,t){const e=t(2*r.length,2)>>>0;return Kt().set(r,e/2),c=r.length,e}function Qt(r,t){const e=t(4*r.length,4)>>>0,n=a();for(let i=0;i<r.length;i++)n.setUint32(e+4*i,g(r[i]),!0);return c=r.length,e}function f(r,t){if(!(r instanceof t))throw new Error(`expected instance of ${t.name}`);return r.ptr}function J(r,t){const e=t(8*r.length,8)>>>0;return dt().set(r,e/8),c=r.length,e}function $(r,t){const e=t(4*r.length,4)>>>0;return ct().set(r,e/4),c=r.length,e}function b(r){return r==null}function nt(r,t){const e=t(1*r.length,1)>>>0;return F().set(r,e/1),c=r.length,e}function wt(r,t,e){const n=y(r,_.__wbindgen_malloc,_.__wbindgen_realloc),i=c;return l(_.readMetadata(n,i,g(t),g(e)))}function Ht(r){const t=nt(r,_.__wbindgen_malloc),e=c;return l(_.readMetadataFromFile(t,e))}function Zt(r,t,e,n,i){const o=y(r,_.__wbindgen_malloc,_.__wbindgen_realloc),s=c;f(n,R);var d=n.__destroy_into_raw();let u=0;return b(i)||(f(i,k),u=i.__destroy_into_raw()),l(_.readFile(o,s,g(t),g(e),d,u))}function te(r,t){let e=0;b(r)||(f(r,k),e=r.__destroy_into_raw());const n=nt(t,_.__wbindgen_malloc),i=c;return l(_.readFileFromBinary(e,n,i))}const ee=Object.freeze({None:0,0:"None",Snappy:1,1:"Snappy"}),B=Object.freeze({Point:0,0:"Point",Polygon:1,1:"Polygon",Polyline:2,2:"Polyline",Multipoint:3,3:"Multipoint"}),_e=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeBigInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"],lt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_columndescriptor_free(r>>>0,1));class K{static __wrap(t){t>>>=0;const e=Object.create(K.prototype);return e.__wbg_ptr=t,lt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,lt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_columndescriptor_free(t,0)}name(){let t,e;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_name(o,this.__wbg_ptr);var n=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return t=n,e=i,p(n,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,e,1)}}physicalType(){let t,e;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_physicalType(o,this.__wbg_ptr);var n=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return t=n,e=i,p(n,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,e,1)}}logicalType(){try{const n=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_logicalType(n,this.__wbg_ptr);var t=a().getInt32(n+0,!0),e=a().getInt32(n+4,!0);let i;return t!==0&&(i=p(t,e).slice(),_.__wbindgen_free(t,1*e,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}encodings(){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_encodings(i,this.__wbg_ptr);var t=a().getInt32(i+0,!0),e=a().getInt32(i+4,!0),n=v(t,e).slice();return _.__wbindgen_free(t,4*e,4),n}finally{_.__wbindgen_add_to_stack_pointer(16)}}pageEncodings(){try{const n=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_pageEncodings(n,this.__wbg_ptr);var t=a().getInt32(n+0,!0),e=a().getInt32(n+4,!0);let i;return t!==0&&(i=v(t,e).slice(),_.__wbindgen_free(t,4*e,4)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}numValues(){return _.columndescriptor_numValues(this.__wbg_ptr)}compression(){let t,e;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_compression(o,this.__wbg_ptr);var n=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return t=n,e=i,p(n,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,e,1)}}compressedSize(){return _.columndescriptor_compressedSize(this.__wbg_ptr)}uncompressedSize(){return _.columndescriptor_uncompressedSize(this.__wbg_ptr)}nullCount(){try{const n=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_nullCount(n,this.__wbg_ptr);var t=a().getInt32(n+0,!0),e=a().getBigInt64(n+8,!0);return t===0?void 0:e}finally{_.__wbindgen_add_to_stack_pointer(16)}}distinctCount(){try{const n=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_distinctCount(n,this.__wbg_ptr);var t=a().getInt32(n+0,!0),e=a().getBigInt64(n+8,!0);return t===0?void 0:e}finally{_.__wbindgen_add_to_stack_pointer(16)}}minValue(){try{const n=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_minValue(n,this.__wbg_ptr);var t=a().getInt32(n+0,!0),e=a().getInt32(n+4,!0);let i;return t!==0&&(i=L(t,e).slice(),_.__wbindgen_free(t,1*e,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}maxValue(){try{const n=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_maxValue(n,this.__wbg_ptr);var t=a().getInt32(n+0,!0),e=a().getInt32(n+4,!0);let i;return t!==0&&(i=L(t,e).slice(),_.__wbindgen_free(t,1*e,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}}const ut=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_fieldmetadata_free(r>>>0,1));class C{static __wrap(t){t>>>=0;const e=Object.create(C.prototype);return e.__wbg_ptr=t,ut.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,ut.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_fieldmetadata_free(t,0)}get name(){let t,e;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.fieldmetadata_name(o,this.__wbg_ptr);var n=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return t=n,e=i,p(n,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,e,1)}}get index(){return _.fieldmetadata_index(this.__wbg_ptr)}get type(){const t=_.fieldmetadata_esri_type(this.__wbg_ptr);return _e[t]}get physicalType(){try{const n=_.__wbindgen_add_to_stack_pointer(-16);_.fieldmetadata_physical_type(n,this.__wbg_ptr);var t=a().getInt32(n+0,!0),e=a().getInt32(n+4,!0);let i;return t!==0&&(i=p(t,e).slice(),_.__wbindgen_free(t,1*e,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}get logicalType(){try{const n=_.__wbindgen_add_to_stack_pointer(-16);_.fieldmetadata_logical_type(n,this.__wbg_ptr);var t=a().getInt32(n+0,!0),e=a().getInt32(n+4,!0);let i;return t!==0&&(i=p(t,e).slice(),_.__wbindgen_free(t,1*e,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}}const bt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_filemetadata_free(r>>>0,1));class R{static __wrap(t){t>>>=0;const e=Object.create(R.prototype);return e.__wbg_ptr=t,bt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,bt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_filemetadata_free(t,0)}version(){return _.filemetadata_version(this.__wbg_ptr)}numRows(){return _.filemetadata_numRows(this.__wbg_ptr)>>>0}numFields(){return _.filemetadata_numFields(this.__wbg_ptr)>>>0}numColumns(){return _.filemetadata_numColumns(this.__wbg_ptr)>>>0}createdBy(){try{const n=_.__wbindgen_add_to_stack_pointer(-16);_.filemetadata_createdBy(n,this.__wbg_ptr);var t=a().getInt32(n+0,!0),e=a().getInt32(n+4,!0);let i;return t!==0&&(i=p(t,e).slice(),_.__wbindgen_free(t,1*e,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}keyValueMetadata(t){try{const i=_.__wbindgen_add_to_stack_pointer(-16),o=y(t,_.__wbindgen_malloc,_.__wbindgen_realloc),s=c;_.filemetadata_keyValueMetadata(i,this.__wbg_ptr,o,s);var e=a().getInt32(i+0,!0),n=a().getInt32(i+4,!0);let d;return e!==0&&(d=p(e,n).slice(),_.__wbindgen_free(e,1*n,1)),d}finally{_.__wbindgen_add_to_stack_pointer(16)}}keys(){try{const n=_.__wbindgen_add_to_stack_pointer(-16);_.filemetadata_keys(n,this.__wbg_ptr);var t=a().getInt32(n+0,!0),e=a().getInt32(n+4,!0);let i;return t!==0&&(i=v(t,e).slice(),_.__wbindgen_free(t,4*e,4)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}getFieldIndex(t){const e=y(t,_.__wbindgen_malloc,_.__wbindgen_realloc),n=c,i=_.filemetadata_getFieldIndex(this.__wbg_ptr,e,n);return i===16777215?void 0:i}getFieldByIndex(t){const e=_.filemetadata_getFieldByIndex(this.__wbg_ptr,t);return e===0?void 0:C.__wrap(e)}getFields(){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.filemetadata_getFields(i,this.__wbg_ptr);var t=a().getInt32(i+0,!0),e=a().getInt32(i+4,!0),n=v(t,e).slice();return _.__wbindgen_free(t,4*e,4),n}finally{_.__wbindgen_add_to_stack_pointer(16)}}}const pt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_filewriter_free(r>>>0,1));class Q{static __wrap(t){t>>>=0;const e=Object.create(Q.prototype);return e.__wbg_ptr=t,pt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,pt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_filewriter_free(t,0)}static new(t,e){const n=Qt(t,_.__wbindgen_malloc),i=c,o=_.filewriter_new(n,i,e);return Q.__wrap(o)}writeKeyValue(t,e){const n=y(t,_.__wbindgen_malloc,_.__wbindgen_realloc),i=c,o=y(e,_.__wbindgen_malloc,_.__wbindgen_realloc),s=c;_.filewriter_writeKeyValue(this.__wbg_ptr,n,i,o,s)}writeI32Page(t,e){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(e,U);var n=e.__destroy_into_raw();_.filewriter_writeI32Page(o,this.__wbg_ptr,t,n);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeI64Page(t,e){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(e,D);var n=e.__destroy_into_raw();_.filewriter_writeI64Page(o,this.__wbg_ptr,t,n);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeF32Page(t,e){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(e,W);var n=e.__destroy_into_raw();_.filewriter_writeF32Page(o,this.__wbg_ptr,t,n);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeF64Page(t,e){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(e,G);var n=e.__destroy_into_raw();_.filewriter_writeF64Page(o,this.__wbg_ptr,t,n);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeGeometryPage(t,e){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(e,E);var n=e.__destroy_into_raw();_.filewriter_writeBytesPage(o,this.__wbg_ptr,t,n);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeStringPage(t,e){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(e,N);var n=e.__destroy_into_raw();_.filewriter_writeBytesPage(o,this.__wbg_ptr,t,n);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeBytesPage(t,e){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(e,S);var n=e.__destroy_into_raw();_.filewriter_writeBytesPage(o,this.__wbg_ptr,t,n);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}finish(){try{const o=this.__destroy_into_raw(),s=_.__wbindgen_add_to_stack_pointer(-16);_.filewriter_finish(s,o);var t=a().getInt32(s+0,!0),e=a().getInt32(s+4,!0),n=a().getInt32(s+8,!0);if(a().getInt32(s+12,!0))throw l(n);var i=L(t,e).slice();return _.__wbindgen_free(t,1*e,1),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}}const ft=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_geometryinfodescriptor_free(r>>>0,1));class k{static __wrap(t){t>>>=0;const e=Object.create(k.prototype);return e.__wbg_ptr=t,ft.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,ft.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_geometryinfodescriptor_free(t,0)}get geometryType(){const t=_.__wbg_get_geometryinfodescriptor_geometryType(this.__wbg_ptr);return t===4?void 0:t}set geometryType(t){_.__wbg_set_geometryinfodescriptor_geometryType(this.__wbg_ptr,b(t)?4:t)}get wkbIndex(){const t=_.__wbg_get_geometryinfodescriptor_wkbIndex(this.__wbg_ptr);return t===16777215?void 0:t}set wkbIndex(t){_.__wbg_set_geometryinfodescriptor_wkbIndex(this.__wbg_ptr,b(t)?16777215:t)}get lngIndex(){const t=_.__wbg_get_geometryinfodescriptor_lngIndex(this.__wbg_ptr);return t===16777215?void 0:t}set lngIndex(t){_.__wbg_set_geometryinfodescriptor_lngIndex(this.__wbg_ptr,b(t)?16777215:t)}get latIndex(){const t=_.__wbg_get_geometryinfodescriptor_latIndex(this.__wbg_ptr);return t===16777215?void 0:t}set latIndex(t){_.__wbg_set_geometryinfodescriptor_latIndex(this.__wbg_ptr,b(t)?16777215:t)}get xIndex(){const t=_.__wbg_get_geometryinfodescriptor_xIndex(this.__wbg_ptr);return t===16777215?void 0:t}set xIndex(t){_.__wbg_set_geometryinfodescriptor_xIndex(this.__wbg_ptr,b(t)?16777215:t)}get inWkid(){try{const n=_.__wbindgen_add_to_stack_pointer(-16);_.__wbg_get_geometryinfodescriptor_inWkid(n,this.__wbg_ptr);var t=a().getInt32(n+0,!0),e=a().getInt32(n+4,!0);return t===0?void 0:e>>>0}finally{_.__wbindgen_add_to_stack_pointer(16)}}set inWkid(t){_.__wbg_set_geometryinfodescriptor_inWkid(this.__wbg_ptr,!b(t),b(t)?0:t)}get outWkid(){try{const n=_.__wbindgen_add_to_stack_pointer(-16);_.__wbg_get_geometryinfodescriptor_outWkid(n,this.__wbg_ptr);var t=a().getInt32(n+0,!0),e=a().getInt32(n+4,!0);return t===0?void 0:e>>>0}finally{_.__wbindgen_add_to_stack_pointer(16)}}set outWkid(t){_.__wbg_set_geometryinfodescriptor_outWkid(this.__wbg_ptr,!b(t),b(t)?0:t)}static new(){const t=_.geometryinfodescriptor_new();return k.__wrap(t)}setMultiscaleInfo(t){f(t,z);var e=t.__destroy_into_raw();_.geometryinfodescriptor_setMultiscaleInfo(this.__wbg_ptr,e)}}const yt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_multiscaleinfo_free(r>>>0,1));class z{static __wrap(t){t>>>=0;const e=Object.create(z.prototype);return e.__wbg_ptr=t,yt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,yt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_multiscaleinfo_free(t,0)}static new(){const t=_.multiscaleinfo_new();return z.__wrap(t)}push(t,e,n,i,o){_.multiscaleinfo_push(this.__wbg_ptr,t,e,n,i,o)}}const ht=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_pagebuilderbytes_free(r>>>0,1));class S{static __wrap(t){t>>>=0;const e=Object.create(S.prototype);return e.__wbg_ptr=t,ht.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,ht.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_pagebuilderbytes_free(t,0)}static new(){const t=_.pagebuilderbytes_new();return S.__wrap(t)}push(t){var e=b(t)?0:nt(t,_.__wbindgen_malloc),n=c;_.pagebuilderbytes_push(this.__wbg_ptr,e,n)}}const mt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_pagebuilderf32_free(r>>>0,1));class W{static __wrap(t){t>>>=0;const e=Object.create(W.prototype);return e.__wbg_ptr=t,mt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,mt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_pagebuilderf32_free(t,0)}static new(){const t=_.pagebuilderbytes_new();return W.__wrap(t)}push(t){_.pagebuilderf32_push(this.__wbg_ptr,!b(t),b(t)?0:t)}}const It=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_pagebuilderf64_free(r>>>0,1));class G{static __wrap(t){t>>>=0;const e=Object.create(G.prototype);return e.__wbg_ptr=t,It.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,It.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_pagebuilderf64_free(t,0)}static new(){const t=_.multiscaleinfo_new();return G.__wrap(t)}push(t){_.pagebuilderf64_push(this.__wbg_ptr,!b(t),b(t)?0:t)}}const kt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_pagebuildergeometry_free(r>>>0,1));class E{static __wrap(t){t>>>=0;const e=Object.create(E.prototype);return e.__wbg_ptr=t,kt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,kt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_pagebuildergeometry_free(t,0)}static new(){const t=_.pagebuilderbytes_new();return E.__wrap(t)}writeXY(t,e){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.pagebuildergeometry_writeXY(i,this.__wbg_ptr,t,e);var n=a().getInt32(i+0,!0);if(a().getInt32(i+4,!0))throw l(n)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writePBF(t,e,n,i){try{const s=_.__wbindgen_add_to_stack_pointer(-16),d=J(t,_.__wbindgen_malloc),u=c,P=$(e,_.__wbindgen_malloc),rt=c;_.pagebuildergeometry_writePBF(s,this.__wbg_ptr,d,u,P,rt,n,i);var o=a().getInt32(s+0,!0);if(a().getInt32(s+4,!0))throw l(o)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writePolygon(t,e){try{const i=_.__wbindgen_add_to_stack_pointer(-16),o=J(t,_.__wbindgen_malloc),s=c,d=$(e,_.__wbindgen_malloc),u=c;_.pagebuildergeometry_writePolygon(i,this.__wbg_ptr,o,s,d,u);var n=a().getInt32(i+0,!0);if(a().getInt32(i+4,!0))throw l(n)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writePolyline(t,e){try{const i=_.__wbindgen_add_to_stack_pointer(-16),o=J(t,_.__wbindgen_malloc),s=c,d=$(e,_.__wbindgen_malloc),u=c;_.pagebuildergeometry_writePolyline(i,this.__wbg_ptr,o,s,d,u);var n=a().getInt32(i+0,!0);if(a().getInt32(i+4,!0))throw l(n)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeMultipoint(t,e){try{const i=_.__wbindgen_add_to_stack_pointer(-16),o=J(t,_.__wbindgen_malloc),s=c,d=$(e,_.__wbindgen_malloc),u=c;_.pagebuildergeometry_writeMultipoint(i,this.__wbg_ptr,o,s,d,u);var n=a().getInt32(i+0,!0);if(a().getInt32(i+4,!0))throw l(n)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeNone(){_.pagebuildergeometry_writeNone(this.__wbg_ptr)}}const Ft=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_pagebuilderi32_free(r>>>0,1));class U{static __wrap(t){t>>>=0;const e=Object.create(U.prototype);return e.__wbg_ptr=t,Ft.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Ft.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_pagebuilderi32_free(t,0)}static new(){const t=_.pagebuilderbytes_new();return U.__wrap(t)}push(t){_.pagebuilderi32_push(this.__wbg_ptr,!b(t),b(t)?0:t)}}const vt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_pagebuilderi64_free(r>>>0,1));class D{static __wrap(t){t>>>=0;const e=Object.create(D.prototype);return e.__wbg_ptr=t,vt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,vt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_pagebuilderi64_free(t,0)}static new(){const t=_.multiscaleinfo_new();return D.__wrap(t)}push(t){_.pagebuilderi64_push(this.__wbg_ptr,!b(t),b(t)?0:t)}}const Rt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_pagebuilderstring_free(r>>>0,1));class N{static __wrap(t){t>>>=0;const e=Object.create(N.prototype);return e.__wbg_ptr=t,Rt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Rt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_pagebuilderstring_free(t,0)}static new(){const t=_.pagebuilderbytes_new();return N.__wrap(t)}push(t){var e=b(t)?0:y(t,_.__wbindgen_malloc,_.__wbindgen_realloc),n=c;_.pagebuilderstring_push(this.__wbg_ptr,e,n)}}const zt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_pageencodingdescriptor_free(r>>>0,1));class H{static __wrap(t){t>>>=0;const e=Object.create(H.prototype);return e.__wbg_ptr=t,zt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,zt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_pageencodingdescriptor_free(t,0)}pageType(){let t,e;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.pageencodingdescriptor_pageType(o,this.__wbg_ptr);var n=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return t=n,e=i,p(n,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,e,1)}}encoding(){let t,e;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.pageencodingdescriptor_encoding(o,this.__wbg_ptr);var n=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return t=n,e=i,p(n,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,e,1)}}count(){return _.pageencodingdescriptor_count(this.__wbg_ptr)}}const xt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_parquetchunk_free(r>>>0,1));class Z{static __wrap(t){t>>>=0;const e=Object.create(Z.prototype);return e.__wbg_ptr=t,xt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,xt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_parquetchunk_free(t,0)}size(){return _.parquetchunk_size(this.__wbg_ptr)>>>0}hasField(t){return _.parquetchunk_hasField(this.__wbg_ptr,t)!==0}readX(t){return _.parquetchunk_readX(this.__wbg_ptr,t)}readY(t){return _.parquetchunk_readY(this.__wbg_ptr,t)}readCoords(t){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.parquetchunk_readCoords(i,this.__wbg_ptr,t);var e=a().getInt32(i+0,!0),n=a().getInt32(i+4,!0);let o;return e!==0&&(o=Jt(e,n).slice(),_.__wbindgen_free(e,8*n,8)),o}finally{_.__wbindgen_add_to_stack_pointer(16)}}readLengths(t){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.parquetchunk_readLengths(i,this.__wbg_ptr,t);var e=a().getInt32(i+0,!0),n=a().getInt32(i+4,!0);let o;return e!==0&&(o=$t(e,n).slice(),_.__wbindgen_free(e,4*n,4)),o}finally{_.__wbindgen_add_to_stack_pointer(16)}}readGeometryTransformed(t,e,n,i,o){const s=_.parquetchunk_readGeometryTransformed(this.__wbg_ptr,t,e,n,i,o);return s===0?void 0:tt.__wrap(s)}boundsXMin(t){return _.parquetchunk_boundsXMin(this.__wbg_ptr,t)}boundsYMin(t){return _.parquetchunk_boundsYMin(this.__wbg_ptr,t)}boundsXMax(t){return _.parquetchunk_boundsXMax(this.__wbg_ptr,t)}boundsYMax(t){return _.parquetchunk_boundsYMax(this.__wbg_ptr,t)}readAttribute(t,e){return l(_.parquetchunk_readAttribute(this.__wbg_ptr,t,e))}}const Pt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_parquetfile_free(r>>>0,1));let Tt=class Et{static __wrap(t){t>>>=0;const e=Object.create(Et.prototype);return e.__wbg_ptr=t,Pt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Pt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_parquetfile_free(t,0)}metadata(){const t=_.parquetfile_metadata(this.__wbg_ptr);return R.__wrap(t)}rowGroups(){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.parquetfile_rowGroups(i,this.__wbg_ptr);var t=a().getInt32(i+0,!0),e=a().getInt32(i+4,!0),n=v(t,e).slice();return _.__wbindgen_free(t,4*e,4),n}finally{_.__wbindgen_add_to_stack_pointer(16)}}readChunksWithCallback(t,e){const n=Y(t,_.__wbindgen_malloc),i=c;return l(_.parquetfile_readChunksWithCallback(this.__wbg_ptr,n,i,g(e)))}readFirstChunk(t){const e=Y(t,_.__wbindgen_malloc),n=c;return l(_.parquetfile_readFirstChunk(this.__wbg_ptr,e,n))}readAllChunks(t){const e=Y(t,_.__wbindgen_malloc),n=c;return l(_.parquetfile_readAllChunks(this.__wbg_ptr,e,n))}updateChunks(t){const e=Y(t,_.__wbindgen_malloc),n=c;return l(_.parquetfile_updateChunks(this.__wbg_ptr,e,n))}};const Mt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_quantizedgeometry_free(r>>>0,1));class tt{static __wrap(t){t>>>=0;const e=Object.create(tt.prototype);return e.__wbg_ptr=t,Mt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Mt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_quantizedgeometry_free(t,0)}readCoordsUnsafe(){return l(_.quantizedgeometry_readCoordsUnsafe(this.__wbg_ptr))}readLengthsUnsafe(){return l(_.quantizedgeometry_readLengthsUnsafe(this.__wbg_ptr))}}const Ot=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_rangeproviderjs_free(r>>>0,1));class A{static __wrap(t){t>>>=0;const e=Object.create(A.prototype);return e.__wbg_ptr=t,Ot.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Ot.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_rangeproviderjs_free(t,0)}static new(t,e){const n=_.rangeproviderjs_new(g(t),g(e));return A.__wrap(n)}static withFetch(){const t=_.rangeproviderjs_withFetch();return A.__wrap(t)}}const qt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_rowgroup_free(r>>>0,1));class et{static __wrap(t){t>>>=0;const e=Object.create(et.prototype);return e.__wbg_ptr=t,qt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,qt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_rowgroup_free(t,0)}columns(){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.rowgroup_columns(i,this.__wbg_ptr);var t=a().getInt32(i+0,!0),e=a().getInt32(i+4,!0),n=v(t,e).slice();return _.__wbindgen_free(t,4*e,4),n}finally{_.__wbindgen_add_to_stack_pointer(16)}}}const jt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>_.__wbg_schemafield_free(r>>>0,1));class x{static __wrap(t){t>>>=0;const e=Object.create(x.prototype);return e.__wbg_ptr=t,jt.register(e,e.__wbg_ptr,e),e}static __unwrap(t){return t instanceof x?t.__destroy_into_raw():0}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,jt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_schemafield_free(t,0)}static tryNew(t,e){try{const o=_.__wbindgen_add_to_stack_pointer(-16),s=y(t,_.__wbindgen_malloc,_.__wbindgen_realloc),d=c,u=y(e,_.__wbindgen_malloc,_.__wbindgen_realloc),P=c;_.schemafield_tryNew(o,s,d,u,P);var n=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);if(a().getInt32(o+8,!0))throw l(i);return x.__wrap(n)}finally{_.__wbindgen_add_to_stack_pointer(16)}}name(){let t,e;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.schemafield_name(o,this.__wbg_ptr);var n=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return t=n,e=i,p(n,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,e,1)}}}async function re(r,t){if(typeof Response=="function"&&r instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(r,t)}catch(n){if(r.headers.get("Content-Type")=="application/wasm")throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const e=await r.arrayBuffer();return await WebAssembly.instantiate(e,t)}{const e=await WebAssembly.instantiate(r,t);return e instanceof WebAssembly.Instance?{instance:e,module:r}:e}}function Bt(){const r={wbg:{}};return r.wbg.__wbg_new_abda76e883ba8a5f=function(){return g(new Error)},r.wbg.__wbg_stack_658279fe44541cf6=function(t,e){const n=y(w(e).stack,_.__wbindgen_malloc,_.__wbindgen_realloc),i=c;a().setInt32(t+4,i,!0),a().setInt32(t+0,n,!0)},r.wbg.__wbg_error_f851667af71bcfc6=function(t,e){let n,i;try{n=t,i=e,console.error(p(t,e))}finally{_.__wbindgen_free(n,i,1)}},r.wbg.__wbindgen_object_drop_ref=function(t){l(t)},r.wbg.__wbindgen_is_function=function(t){return typeof w(t)=="function"},r.wbg.__wbg_self_3093d5d1f7bcb682=function(){return I(function(){return g(self.self)},arguments)},r.wbg.__wbg_window_3bcfc4d31bc012f8=function(){return I(function(){return g(window.window)},arguments)},r.wbg.__wbg_globalThis_86b222e13bdf32ed=function(){return I(function(){return g(globalThis.globalThis)},arguments)},r.wbg.__wbg_global_e5a3fe56f8be9485=function(){return I(function(){return g(global.global)},arguments)},r.wbg.__wbindgen_is_undefined=function(t){return w(t)===void 0},r.wbg.__wbg_newnoargs_76313bd6ff35d0f2=function(t,e){return g(new Function(p(t,e)))},r.wbg.__wbindgen_object_clone_ref=function(t){return g(w(t))},r.wbg.__wbindgen_number_new=function(t){return g(t)},r.wbg.__wbindgen_string_new=function(t,e){return g(p(t,e))},r.wbg.__wbg_call_1084a111329e68ce=function(){return I(function(t,e){return g(w(t).call(w(e)))},arguments)},r.wbg.__wbg_call_89af060b4e1523f2=function(){return I(function(t,e,n){return g(w(t).call(w(e),w(n)))},arguments)},r.wbg.__wbg_call_7de908392845a9a5=function(){return I(function(t,e,n,i,o){return g(w(t).call(w(e),w(n),w(i),w(o)))},arguments)},r.wbg.__wbg_valueOf_563b3487b1b116aa=function(t){return w(t).valueOf()},r.wbg.__wbg_buffer_b7b08af79b0b0974=function(t){return g(w(t).buffer)},r.wbg.__wbg_new_b85e72ed1bfd57f9=function(t,e){try{var n={a:t,b:e},i=(o,s)=>{const d=n.a;n.a=0;try{return Yt(d,n.b,o,s)}finally{n.a=d}};return g(new Promise(i))}finally{n.a=n.b=0}},r.wbg.__wbg_resolve_570458cb99d56a43=function(t){return g(Promise.resolve(w(t)))},r.wbg.__wbg_then_95e6edc0f89b73b1=function(t,e){return g(w(t).then(w(e)))},r.wbg.__wbg_then_876bb3c633745cc6=function(t,e,n){return g(w(t).then(w(e),w(n)))},r.wbg.__wbg_newwithbyteoffsetandlength_b5293b0eedbac651=function(t,e,n){return g(new Int16Array(w(t),e>>>0,n>>>0))},r.wbg.__wbg_new_ea1883e1e5e86686=function(t){return g(new Uint8Array(w(t)))},r.wbg.__wbg_newwithbyteoffsetandlength_874df3e29cb555f9=function(t,e,n){return g(new Uint32Array(w(t),e>>>0,n>>>0))},r.wbg.__wbg_length_8339fcf5d8ecd12e=function(t){return w(t).length},r.wbg.__wbg_set_d1e79e2388520f18=function(t,e,n){w(t).set(w(e),n>>>0)},r.wbg.__wbindgen_throw=function(t,e){throw new Error(p(t,e))},r.wbg.__wbindgen_memory=function(){return g(_.memory)},r.wbg.__wbindgen_array_new=function(){return g([])},r.wbg.__wbindgen_array_push=function(t,e){w(t).push(l(e))},r.wbg.__wbindgen_uint8_array_new=function(t,e){var n=L(t,e).slice();return _.__wbindgen_free(t,1*e,1),g(n)},r.wbg.__wbg_queueMicrotask_48421b3cc9052b68=function(t){return g(w(t).queueMicrotask)},r.wbg.__wbindgen_cb_drop=function(t){const e=l(t).original;return e.cnt--==1?(e.a=0,!0):!1},r.wbg.__wbg_queueMicrotask_12a30234db4045d3=function(t){queueMicrotask(w(t))},r.wbg.__wbg_parquetchunk_new=function(t){return g(Z.__wrap(t))},r.wbg.__wbg_parquetfile_new=function(t){return g(Tt.__wrap(t))},r.wbg.__wbg_filemetadata_new=function(t){return g(R.__wrap(t))},r.wbg.__wbg_fieldmetadata_new=function(t){return g(C.__wrap(t))},r.wbg.__wbg_rowgroup_new=function(t){return g(et.__wrap(t))},r.wbg.__wbg_schemafield_unwrap=function(t){return x.__unwrap(l(t))},r.wbg.__wbg_columndescriptor_new=function(t){return g(K.__wrap(t))},r.wbg.__wbg_pageencodingdescriptor_new=function(t){return g(H.__wrap(t))},r.wbg.__wbindgen_closure_wrapper1827=function(t,e,n){return g(Nt(t,e,163,Vt))},r}function Ct(r,t){return _=r.exports,At.__wbindgen_wasm_module=t,m=null,O=null,j=null,q=null,M=null,_.__wbindgen_start(),_}function ne(r){if(_!==void 0)return _;r!==void 0&&(Object.getPrototypeOf(r)===Object.prototype?{module:r}=r:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const t=Bt();return r instanceof WebAssembly.Module||(r=new WebAssembly.Module(r)),Ct(new WebAssembly.Instance(r,t),r)}async function At(r){if(_!==void 0)return _;r!==void 0&&(Object.getPrototypeOf(r)===Object.prototype?{module_or_path:r}=r:console.warn("using deprecated parameters for the initialization function; pass a single object instead"));const t=Bt();(typeof r=="string"||typeof Request=="function"&&r instanceof Request||typeof URL=="function"&&r instanceof URL)&&(r=fetch(r));const{instance:e,module:n}=await re(await r,t);return Ct(e,n)}const ie=Object.freeze(Object.defineProperty({__proto__:null,ColumnDescriptor:K,CompressMode:ee,FieldMetadata:C,FileMetadata:R,FileWriter:Q,GeometryInfoDescriptor:k,GeometryType:B,MultiScaleInfo:z,PageBuilderBytes:S,PageBuilderF32:W,PageBuilderF64:G,PageBuilderGeometry:E,PageBuilderI32:U,PageBuilderI64:D,PageBuilderString:N,PageEncodingDescriptor:H,ParquetChunk:Z,ParquetFile:Tt,QuantizedGeometry:tt,RangeProviderJs:A,RowGroup:et,SchemaField:x,default:At,enable_tracing:Lt,initSync:ne,readFile:Zt,readFileFromBinary:te,readMetadata:wt,readMetadataFromFile:Ht},Symbol.toStringTag,{value:"Module"}));let it=null;async function ot(){return it||(it=oe()),it}async function oe(){const r=await Promise.resolve().then(()=>ie);return await r.default({module_or_path:Ut("esri/libs/parquet/pkg/arcgis_parquet_bg.wasm")}),r}const St=r=>async function(t,e,n){const i=r(),{data:o}=await at(t,{responseType:"array-buffer",query:i,headers:{range:`bytes=${e}-${n}`}});return o},Wt=r=>async function(t){const e=r(),{data:n}=await at(t,{responseType:"native",method:"head",query:e}),i=n.headers.get("Content-Length");if(i==null)throw new Error("Unable to parse content length");return parseInt(i,10)};class V{static async create(t,e){const n=await ot(),i=await n.readMetadata(t,St(e),Wt(e));return V.fromFileMetadata(i)}static fromFileMetadata(t){const e=[];for(let n=0;n<t.numFields();n++){const i=t.getFieldByIndex(n);e.push({name:i.name,type:i.type,alias:i.name,index:i.index}),i.free()}return new V(t,e)}constructor(t,e){this._inner=t,this.fields=e}destroy(){this._inner.free()}[Symbol.dispose](){this.destroy()}get size(){return this._inner.numRows()}getFieldIndex(t){return this._inner.getFieldIndex(t)}tryReadGeoMetadata(){const t=this._inner.keyValueMetadata("geo");return t==null?null:JSON.parse(t)}tryReadEsriMetadata(){const t=this._inner.keyValueMetadata("esri");return t==null?null:JSON.parse(t)}}function ae(r){switch(r){case"esriGeometryPoint":return B.Point;case"esriGeometryPolygon":return B.Polygon;case"esriGeometryPolyline":return B.Polyline;case"esriGeometryMultipoint":return B.Multipoint;default:throw new Error(`InternalError: Found unexpected GeometryType: ${r}`)}}function Gt(r,t,e){const n=k.new();if(n.geometryType=ae(r.geometryType),r.type==="location")n.latIndex=t.getFieldIndex(r.latitudeFieldName),n.lngIndex=t.getFieldIndex(r.longitudeFieldName);else{if(r.primaryFieldName==null)throw new Error("InternalError: A primary field name or set of location fields must be defined");if(n.wkbIndex=t.getFieldIndex(r.primaryFieldName),r.multiscale){const i=z.new();for(const o of r.multiscale.levels){const[s,d]=o.transform.translate,[u,P]=o.transform.scale,rt=t.getFieldIndex(o.column);i.push(rt,s,d,u,P)}n.setMultiscaleInfo(i)}}return n.inWkid=r.spatialReference.wkid,e&&(n.outWkid=e.wkid),n}class _t{static async create(t,e){const n=await ot(),i=St(e.getCustomParameters),o=Wt(e.getCustomParameters),s=await wt(t,i,o),d=Gt(e.geometryInfo,s,e.outSpatialReference),u=await n.readFile(t,i,o,s,d);return new _t(u,V.fromFileMetadata(u.metadata()))}static async fromFile(t,e,n){const i=await ot(),o=await i.readMetadataFromFile(t),s=e?Gt(e,o,n):void 0,d=await i.readFileFromBinary(s,t);return new _t(d,V.fromFileMetadata(d.metadata()))}constructor(t,e){this.inner=t,this.metadata=e}destroy(){this.inner.free(),this.metadata.destroy()}[Symbol.dispose](){this.destroy()}}export{_t as J};
