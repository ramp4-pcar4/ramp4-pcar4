import{aP as v,aQ as S}from"./main-DnzmeE4U.js";const m={ar:[".",","],bg:[",","\xA0"],bs:[",","."],ca:[",","."],cs:[",","\xA0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xA0"],fi:[",","\xA0"],fr:[",","\u202F"],"fr-ch":[",","\u202F"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xA0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xA0"],lv:[",","\xA0"],mk:[",","."],nb:[",","\xA0"],nl:[",","."],no:[",","\xA0"],pl:[",","\xA0"],pt:[",","."],"pt-pt":[",","\xA0"],ro:[",","."],ru:[",","\xA0"],sk:[",","\xA0"],sl:[",","."],sr:[",","."],sv:[",","\xA0"],th:[".",","],tr:[",","."],uk:[",","\xA0"],vi:[",","."],zh:[".",","]};function x(t=v()){let n=(t=t.toLowerCase())in m;if(!n){const a=t.split("-");a.length>1&&a[0]in m&&(t=a[0],n=!0),n||(t="en")}const[e,l,s="#,##0.###"]=m[t];return{decimal:e,group:l,pattern:s}}function z(t,n){const e=x((n={...n}).locale);n.customs=e;const l=n.pattern||e.pattern;return isNaN(t)||Math.abs(t)===1/0?null:y(t,l,n)}const w=/[#0,]*[#0](?:\.0*#*)?/;function y(t,n,e){const l=(e=e||{}).customs.group,s=e.customs.decimal,a=n.split(";"),r=a[0];if((n=a[t<0?1:0]||"-"+r).includes("%"))t*=100;else if(n.includes("\u2030"))t*=1e3;else{if(n.includes("\xA4"))throw new Error("currency notation not supported");if(n.includes("E"))throw new Error("exponential notation not supported")}const d=w,f=r.match(d);if(!f)throw new Error("unable to find a number expression in pattern: "+n);return e.fractional===!1&&(e.places=0),n.replace(d,O(t,f[0],{decimal:s,group:l,places:e.places,round:e.round}))}function O(t,n,e){(e=e||{}).places===!0&&(e.places=0),e.places===1/0&&(e.places=6);const l=n.split("."),s=typeof e.places=="string"&&e.places.indexOf(",");let a=e.places;s?a=e.places.slice(s+1):+a>=0||(a=(l[1]||[]).length),e.round<0||(t=Number(t.toFixed(Number(a))));const r=String(Math.abs(t)).split("."),d=r[1]||"";if(l[1]||e.places){s&&(e.places=e.places.slice(0,Math.max(0,s)));const o=e.places!==void 0?e.places:l[1]&&l[1].lastIndexOf("0")+1;+o>d.length&&(r[1]=d.padEnd(Number(o),"0")),+a<d.length&&(r[1]=d.slice(0,Math.max(0,Number(a))))}else r[1]&&r.pop();const f=l[0].replace(",","");let i=f.indexOf("0");i!==-1&&(i=f.length-i,i>r[0].length&&(r[0]=r[0].padStart(i,"0")),f.includes("#")||(r[0]=r[0].slice(-i)));let p,c,u=l[0].lastIndexOf(",");if(u!==-1){p=l[0].length-u-1;const o=l[0].slice(0,u);u=o.lastIndexOf(","),u!==-1&&(c=o.length-u-1)}const b=[];for(let o=r[0];o;){const h=o.length-p;b.push(h>0?o.slice(Math.max(0,h)):o),o=h>0?o.slice(0,h):"",c&&(p=c,c=void 0)}return r[0]=b.reverse().join(e.group||","),r.join(e.decimal||".")}function N(t){const n=x((t=t||{}).locale),e=t.pattern||n.pattern,l=n.group,s=n.decimal;let a=1;if(e.includes("%"))a/=100;else if(e.includes("\u2030"))a/=1e3;else if(e.includes("\xA4"))throw new Error("currency notation not supported");const r=e.split(";");return r.length===1&&r.push("-"+r[0]),{regexp:g(r,d=>(d="(?:"+S(d,".")+")").replace(w,f=>{const i={signed:!1,separator:t.strict?l:[l,""],fractional:t.fractional,decimal:s,exponent:!1},p=f.split(".");let c=t.places;p.length===1&&a!==1&&(p[1]="###"),p.length===1||c===0?i.fractional=!1:(c===void 0&&(c=t.pattern?p[1].lastIndexOf("0")+1:1/0),c&&t.fractional==null&&(i.fractional=!0),!t.places&&+c<p[1].length&&(c+=","+p[1].length),i.places=c);const u=p[0].split(",");return u.length>1&&(i.groupSize=u.pop().length,u.length>1&&(i.groupSize2=u.pop().length)),"("+k(i)+")"}),!0).replaceAll(/[\xa0 ]/g,"[\\s\\xa0]"),group:l,decimal:s,factor:a}}function M(t,n){const e=N(n),l=new RegExp("^"+e.regexp+"$").exec(t);if(!l)return NaN;let s=l[1];if(!l[1]){if(!l[2])return NaN;s=l[2],e.factor*=-1}return s=s.replaceAll(new RegExp("["+e.group+"\\s\\xa0]","g"),"").replace(e.decimal,"."),Number(s)*e.factor}function k(t){"places"in(t=t||{})||(t.places=1/0),typeof t.decimal!="string"&&(t.decimal="."),"fractional"in t&&!String(t.places).startsWith("0")||(t.fractional=[!0,!1]),"exponent"in t||(t.exponent=[!0,!1]),"eSigned"in t||(t.eSigned=[!0,!1]);const n=E(t),e=g(t.fractional,s=>{let a="";return s&&t.places!==0&&(a="\\"+t.decimal,t.places===1/0?a="(?:"+a+"\\d+)?":a+="\\d{"+t.places+"}"),a},!0);let l=n+e;return e&&(l="(?:(?:"+l+")|(?:"+e+"))"),l+g(t.exponent,s=>s?"([eE]"+E({signed:t.eSigned})+")":"")}function E(t){return"signed"in(t=t||{})||(t.signed=[!0,!1]),"separator"in t?"groupSize"in t||(t.groupSize=3):t.separator="",g(t.signed,n=>n?"[-+]":"",!0)+g(t.separator,n=>{if(!n)return"(?:\\d+)";(n=S(n))===" "?n="\\s":n==="\xA0"&&(n="\\s\\xa0");const e=t.groupSize,l=t.groupSize2;if(l){const s="(?:0|[1-9]\\d{0,"+(l-1)+"}(?:["+n+"]\\d{"+l+"})*["+n+"]\\d{"+e+"})";return e-l>0?"(?:"+s+"|(?:0|[1-9]\\d{0,"+(e-1)+"}))":s}return"(?:0|[1-9]\\d{0,"+(e-1)+"}(?:["+n+"]\\d{"+e+"})*)"},!0)}const g=(t,n,e)=>{if(!Array.isArray(t))return n(t);const l=[];for(let s=0;s<t.length;s++)l.push(n(t[s]));return A(l.join("|"),!!e)},A=(t,n)=>"("+(n?"?:":"")+t+")";export{N as c,z as l,M as p,x as r};
