{"version":3,"file":"SelfSnappingEngine-cGmuW4MT.js","sources":["../../node_modules/@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js","../../node_modules/@arcgis/core/views/interactive/snapping/LineSnapper.js","../../node_modules/@arcgis/core/views/interactive/snapping/ParallelLineSnapper.js","../../node_modules/@arcgis/core/views/interactive/snapping/RightAngleSnapper.js","../../node_modules/@arcgis/core/views/interactive/snapping/RightAngleTriangleSnapper.js","../../node_modules/@arcgis/core/views/interactive/snapping/SelfSnappingEngine.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../../core/unitUtils.js\";import{distance as t}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as s,asVec2 as i}from\"../sketch/normalizedPoint.js\";import{defaults as o}from\"./Settings.js\";import{squaredScreenDistance as h}from\"./snappingUtils.js\";import{vectorToScreenPoint as n}from\"../support/viewUtils.js\";class l{constructor(e,t){this.view=e,this.options=t,this.squaredShortLineThreshold=o.shortLineThreshold*o.shortLineThreshold}snap(e,t){return null!=t.vertexHandle?\"vertex\"!==t.vertexHandle.type?[]:this.snapExistingVertex(e,t):this.snapNewVertex(e,t)}edgeExceedsShortLineThreshold(e,t){return this.exceedsShortLineThreshold(s(e.leftVertex.pos,this.view,t),s(e.rightVertex.pos,this.view,t),t)}exceedsShortLineThreshold(e,t,{spatialReference:s}){return 0===this.squaredShortLineThreshold||h(n(t,s,r,this.view),n(e,s,r,this.view))>this.squaredShortLineThreshold}isVertical(r,s,{spatialReference:h}){const n=e(h);return t(i(r),i(s))*n<o.verticalLineThresholdMeters}squaredProximityThreshold(e){return\"touch\"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:e,touchSensitivityMultiplier:t}=this.options,r=e*t;return r*r}}export{l as SnappingAlgorithm};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{cyclicalPI as e,cyclical2PI as t}from\"../../../core/Cyclical.js\";import{valueInUnit as r,createAngle as s}from\"../../../core/quantityUtils.js\";import{create as o}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{absoluteHeightElevationInfo as i}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as n,markAsTarget as a,fromVec3 as p}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as d}from\"./SnappingAlgorithm.js\";import{editEdgeToSnappingEdge as l,squaredScreenDistance as h}from\"./snappingUtils.js\";import{LineSnappingCandidate as c}from\"./candidates/LineSnappingCandidate.js\";import{vectorToScreenPoint as f}from\"../support/viewUtils.js\";import{radiansGeographicBetweenVec as g,pointFromDistanceAlongAzimuth as m}from\"../../support/angularMeasurementUtils.js\";import{geodesicDistance as u}from\"../../support/geodesicLengthMeasurementUtils.js\";import{projectPointToLineLike as x}from\"../../support/geometry3dUtils.js\";import{LineType as j}from\"../../support/geometry2dUtils.js\";class E extends d{snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],s=r.edges.length,o=[];if(s<1)return o;const{spatialReference:n}=t,a=f(e,n,i,this.view),{view:p}=this,d=r.edges[s-1];let h=d;do{if(this.edgeExceedsShortLineThreshold(h,t)){const r=l(h,p,t);this._processCandidateProposal(r.left,r.right,e,a,t,o)}h=h.leftVertex.leftEdge}while(h&&h!==d);return o}snapExistingVertex(e,t){const r=[],s=t.vertexHandle,o=s.component;if(o.edges.length<2)return r;const{view:a}=this,{spatialReference:p}=t,d=f(e,p,i,a),h=s.leftEdge,c=s.rightEdge;h&&c&&this.edgeExceedsShortLineThreshold(h,t)&&this.edgeExceedsShortLineThreshold(c,t)&&this._processCandidateProposal(n(h.leftVertex.pos,a,t),n(c.rightVertex.pos,a,t),e,d,t,r);const g=o.edges[0];let m=g;do{if(m!==s.leftEdge&&m!==s.rightEdge&&this.edgeExceedsShortLineThreshold(m,t)){const s=l(m,a,t);this._processCandidateProposal(s.left,s.right,e,d,t,r)}m=m.rightVertex.rightEdge}while(m&&m!==g);return r}_processCandidateProposal(e,t,r,s,n,d){const{spatialReference:l,pointer:g}=n,m=o();v(m,e,t,r,n);const u=a(p(m));h(s,f(u,l,i,this.view))<this.squaredProximityThreshold(g)&&d.push(new c({lineStart:e,lineEnd:t,targetPoint:u,isDraped:\"on-the-ground\"===n.elevationInfo?.mode}))}}function v(e,t,r,s,o){w(e,t,r,s,o)||P(e,s,t,r)}function w(o,i,n,a,{spatialReference:p}){const d=g(i,n,p,p);if(null==d)return!1;const l=g(n,a,p,p);if(null==l)return!1;const h=u(n,a,p);if(null==h)return!1;const c=Math.abs(e.shortestSignedDiff(d,l))>Math.PI/2?t.normalize(d+Math.PI):d;return m(o,n,p,r(h,\"meters\"),s(c,\"radians\",\"geographic\"),\"geodesic\"),o[2]=a[2],!0}function P(e,t,r,s){x(t,{start:r,end:s,type:j.LINE},e),e[2]=t[2]}export{E as LineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{squaredDistance as e}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as t}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as i,asVec2 as s,markAsTarget as o,fromValues as n}from\"../sketch/normalizedPoint.js\";import{defaults as l}from\"./Settings.js\";import{SnappingAlgorithm as a}from\"./SnappingAlgorithm.js\";import{editEdgeToSnappingEdge as c,squaredScreenDistance as h}from\"./snappingUtils.js\";import{ParallelLineSnappingCandidate as d}from\"./candidates/ParallelLineSnappingCandidate.js\";import{vectorToScreenPoint as p}from\"../support/viewUtils.js\";import{projectPointToLine as g}from\"../../support/geometry2dUtils.js\";class f extends a{snapNewVertex(e,t){const s=t.editGeometryOperations.data.components[0],o=s.edges.length,n=s.vertices.length,l=[];if(o<2)return l;const{view:a}=this,h=p(e,t.spatialReference,r,a),d=i(s.vertices[n-1].pos,a,t),g=i(s.vertices[0].pos,a,t),f=s.edges[o-1];let m=f;do{if(this.edgeExceedsShortLineThreshold(m,t)){const r=c(m,a,t);this._checkEdgeForParallelLines(r,d,e,h,t,l),this._checkEdgeForParallelLines(r,g,e,h,t,l)}m=m.leftVertex.leftEdge}while(m&&m!==f);return l}snapExistingVertex(e,t){const s=[],o=t.vertexHandle,n=o.component;if(n.edges.length<3)return s;const{view:l}=this,a=p(e,t.spatialReference,r,l),h=o.leftEdge,d=o.rightEdge,g=n.vertices[0],f=i(g.pos,l,t),m=n.vertices.length,u=n.vertices[m-1],v=i(u.pos,l,t),x=n.edges[0];let E=x;do{if(E!==h&&E!==d&&this.edgeExceedsShortLineThreshold(E,t)){const r=c(E,l,t);h&&this._checkEdgeForParallelLines(r,i(h.leftVertex.pos,l,t),e,a,t,s),d&&this._checkEdgeForParallelLines(r,i(d.rightVertex.pos,l,t),e,a,t,s),o===g?this._checkEdgeForParallelLines(r,v,e,a,t,s):o===u&&this._checkEdgeForParallelLines(r,f,e,a,t,s)}E=E.rightVertex.rightEdge}while(E&&E!==x);return s}_checkEdgeForParallelLines(t,i,a,c,f,v){const x=t.left,E=t.right;if(g(u,s(i),s(x),s(E)),e(u,s(i))<l.parallelLineThreshold)return;g(u,s(a),s(x),s(E),s(i));const{spatialReference:L,pointer:P}=f,j=o(n(u[0],u[1],a[2]));if(h(c,p(j,L,r,this.view))<this.squaredProximityThreshold(P)){if(this.isVertical(j,i,f)||this.isVertical(x,E,f))return;if(m(t,v))return;v.push(new d({referenceLine:t,lineStart:i,targetPoint:j,isDraped:\"on-the-ground\"===f.elevationInfo?.mode}))}}}function m(t,r){const i=t.left,o=t.right;for(const n of r)if(g(u,s(o),s(n.constraint.start),s(n.constraint.end),s(i)),e(u,s(o))<l.parallelLineThreshold)return n.addReferenceLine(t),!0;return!1}const u=t();export{f as ParallelLineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{cyclical2PI as e}from\"../../../core/Cyclical.js\";import{createAngle as t,valueInUnit as r}from\"../../../core/quantityUtils.js\";import{subtract as i,dot as n,squaredLength as s,scaleAndAdd as o}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{b as c,d as p,i as g}from\"../../../chunks/vec32.js\";import{create as h}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{absoluteHeightElevationInfo as l}from\"../../../support/elevationInfoUtils.js\";import{VerticalHalfPlaneConstraint as d}from\"../sketch/constraints.js\";import{fromAnyMapPoint as f,asVec2 as m,markAsTarget as u,fromValues as x,fromVec3 as V}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as E}from\"./SnappingAlgorithm.js\";import{squaredScreenDistance as j}from\"./snappingUtils.js\";import{SelfSnappingRightAngleType as v,RightAngleSnappingCandidate as S,OtherVertexType as k}from\"./candidates/RightAngleSnappingCandidate.js\";import{vectorToScreenPoint as C}from\"../support/viewUtils.js\";import{radiansGeographicBetweenVec as w,pointFromDistanceAlongAzimuth as y}from\"../../support/angularMeasurementUtils.js\";import{geodesicDistance as F}from\"../../support/geodesicLengthMeasurementUtils.js\";class R extends E{snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],i=[];if(r.vertices.length<2)return i;const{view:n}=this,s=C(e,t.spatialReference,l,n),o=r.vertices.at(-1);this._checkForSnappingCandidate(v.LastVertex,i,o.leftEdge,o,o.leftEdge.leftVertex,e,s,t);const a=r.vertices[0];return this._checkForSnappingCandidate(v.FirstVertex,i,a.rightEdge,a,a.rightEdge.rightVertex,e,s,t),i}snapExistingVertex(e,t){const r=[],i=t.vertexHandle;if(i.component.vertices.length<3)return r;const{view:n}=this,s=C(e,t.spatialReference,l,n),o=i.leftEdge,a=i.rightEdge;if(o?.leftVertex.leftEdge){const i=o.leftVertex.leftEdge;this._checkForSnappingCandidate(v.ExistingEdge,r,i,i.rightVertex,i.leftVertex,e,s,t)}if(a?.rightVertex.rightEdge){const i=a.rightVertex.rightEdge;this._checkForSnappingCandidate(v.ExistingEdge,r,i,i.leftVertex,i.rightVertex,e,s,t)}return r}_checkForSnappingCandidate(e,t,r,i,n,s,o,a){if(!this.edgeExceedsShortLineThreshold(r,a))return;const c=this.view,p=f(i.pos,c,a),g=f(n.pos,c,a);_(T,g,p,s,a),this._checkForSnappingCandidateAlongProjectedRay(e,t,g,p,T,s,o,a)}_checkForSnappingCandidateAlongProjectedRay(e,t,r,a,p,g,f,E){const{spatialReference:v,pointer:w}=E,y=i(M,m(g),m(a)),F=n(p,y)/s(p),R=o(M,m(a),p,F),_=u(x(R[0],R[1],g[2]));if(j(f,C(_,v,l,this.view))>this.squaredProximityThreshold(w)||this.isVertical(_,a,E)||this.isVertical(a,r,E))return;const P=c(h(),a,p,Math.sign(F));t.push(new S({targetPoint:_,constraint:new d(a,V(P)),previousVertex:r,otherVertex:a,otherVertexType:k.CENTER,selfSnappingType:e,isDraped:\"on-the-ground\"===E.elevationInfo?.mode}))}}function _(e,t,r,i,n){P(e,t,r,i,n)||U(e,t,r)}function P(i,n,s,o,{spatialReference:a}){const c=w(n,s,a,a);if(null==c)return!1;const g=w(s,o,a,a);if(null==g)return!1;const l=Math.sign(e.shortestSignedDiff(c,g))*Math.PI*.5,d=t(c+l,\"radians\",\"geographic\"),f=h(),m=F(s,o,a);return null!=m&&(y(f,s,a,r(m,\"meters\"),d,\"geodesic\"),p(i,f,s),!0)}function U(e,t,r){const n=i(M,m(r),m(t));g(e,n[1],-n[0],0)}const M=a(),T=h();export{R as RightAngleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{lerp as e,distance as t}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as i}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as o,asVec2 as s,markAsTarget as n,fromValues as p}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as a}from\"./SnappingAlgorithm.js\";import{squaredScreenDistance as d}from\"./snappingUtils.js\";import{RightAngleTriangleSnappingCandidate as l}from\"./candidates/RightAngleTriangleSnappingCandidate.js\";import{vectorToScreenPoint as m}from\"../support/viewUtils.js\";import{projectPointToCircle as c}from\"../../support/geometry2dUtils.js\";class h extends a{snapNewVertex(e,t){const i=t.editGeometryOperations.data.components[0],r=[],s=i.vertices.length;if(\"polygon\"!==t.editGeometryOperations.data.type||s<2)return r;const{view:n}=this,p=i.vertices[0],a=i.vertices[s-1],d=o(p.pos,n,t),l=o(a.pos,n,t);return this._processCandidateProposal(d,l,e,t,r),r}snapExistingVertex(e,t){const i=[],r=t.vertexHandle,s=r.component;if(s.edges.length<2)return i;if(\"polyline\"===t.editGeometryOperations.data.type&&(0===r.index||r.index===s.vertices.length-1))return i;const{view:n}=this,p=o(r.leftEdge.leftVertex.pos,n,t),a=o(r.rightEdge.rightVertex.pos,n,t);return this._processCandidateProposal(p,a,e,t,i),i}_processCandidateProposal(i,o,a,h,g){if(!this.exceedsShortLineThreshold(i,o,h))return;const v=e(f,s(i),s(o),.5),x=.5*t(s(i),s(o)),u=c(f,s(a),v,x),j=n(p(u[0],u[1],a[2])),{spatialReference:y,pointer:w}=h,P=m(a,y,r,this.view);if(d(P,m(j,y,r,this.view))<this.squaredProximityThreshold(w)){if(this.isVertical(i,j,h)||this.isVertical(j,o,h))return;g.push(new l({targetPoint:j,point1:i,point2:o,isDraped:\"on-the-ground\"===h.elevationInfo?.mode}))}}}const f=i();export{h as RightAngleTriangleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import t from\"../../../core/Collection.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LineSnapper as e}from\"./LineSnapper.js\";import{ParallelLineSnapper as p}from\"./ParallelLineSnapper.js\";import{RightAngleSnapper as n}from\"./RightAngleSnapper.js\";import{RightAngleTriangleSnapper as a}from\"./RightAngleTriangleSnapper.js\";import{SnappingDomain as c}from\"./SnappingDomain.js\";import{sortCandidatesInPlace as m}from\"./snappingUtils.js\";let h=class extends s{constructor(o){super(o),this.updating=!1,this._snappers=new t,this._domain=c.SELF}initialize(){this._snappers.push(new p(this.view,this.options),new e(this.view,this.options),new n(this.view,this.options),new a(this.view,this.options))}set options(o){this._set(\"options\",o);for(const s of this._snappers)s.options=o}async fetchCandidates(o,s,t){if(!(s&this._domain&&this.options.effectiveSelfEnabled))return[];const i=[];for(const r of this._snappers.items)for(const s of r.snap(o,t))i.push(s);return m(o,i),i}};o([i({readOnly:!0})],h.prototype,\"updating\",void 0),o([i({constructOnly:!0})],h.prototype,\"view\",void 0),o([i()],h.prototype,\"options\",null),h=o([r(\"esri.views.interactive.snapping.SelfSnappingEngine\")],h);export{h as SelfSnappingEngine};\n"],"names":["l","e","t","o","s","h","n","r","i","E","d","f","p","a","c","m","g","v","u","w","P","x","j","L","R","C","_","T","y","M","F","S","V","k","U"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5]}