{"version":3,"file":"OptimizedFeatureSet-D6mgsKNr.js","sources":["../../node_modules/@arcgis/core/layers/graphics/centroid.js","../../node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js","../../node_modules/@arcgis/core/layers/graphics/OptimizedFeatureSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nfunction t(t,n){return t?n?4:3:n?3:2}function n(n,I,u,o){if(!I?.lengths.length)return null;n.lengths.length&&(n.lengths.length=0),n.coords.length&&(n.coords.length=0);const N=n.coords,l=[],s=u?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:c,coords:T}=I,f=t(u,o);let h=0;for(const t of c){const n=e(s,T,h,t,u,o);n&&l.push(n),h+=t*f}if(l.sort(((t,n)=>{let e=t[2]-n[2];return 0===e&&u&&(e=t[4]-n[4]),e})),l.length){let t=6*l[0][2];N[0]=l[0][0]/t,N[1]=l[0][1]/t,u&&(t=6*l[0][4],N[2]=0!==t?l[0][3]/t:0),(N[0]<s[0]||N[0]>s[1]||N[1]<s[2]||N[1]>s[3]||u&&(N[2]<s[4]||N[2]>s[5]))&&(N.length=0)}if(!N.length){const t=I.lengths[0]?r(T,0,c[0],u,o):null;if(!t)return null;N[0]=t[0],N[1]=t[1],u&&t.length>2&&(N[2]=t[2])}return n}function e(n,e,r,I,u,o){const N=t(u,o);let l=r,s=r+N,c=0,T=0,f=0,h=0,i=0;for(let t=0,g=I-1;t<g;t++,l+=N,s+=N){const t=e[l],r=e[l+1],I=e[l+2],o=e[s],N=e[s+1],E=e[s+2];let g=t*N-o*r;h+=g,c+=(t+o)*g,T+=(r+N)*g,u&&(g=t*E-o*I,f+=(I+E)*g,i+=g),t<n[0]&&(n[0]=t),t>n[1]&&(n[1]=t),r<n[2]&&(n[2]=r),r>n[3]&&(n[3]=r),u&&(I<n[4]&&(n[4]=I),I>n[5]&&(n[5]=I))}if(h>0&&(h*=-1),i>0&&(i*=-1),!h)return null;const E=[c,T,.5*h];return u&&(E[3]=f,E[4]=.5*i),E}function r(n,e,r,l,s){const c=t(l,s);let T=e,f=e+c,h=0,i=0,E=0,g=0;for(let t=0,b=r-1;t<b;t++,T+=c,f+=c){const t=n[T],e=n[T+1],r=n[T+2],s=n[f],c=n[f+1],b=n[f+2],m=l?u(t,e,r,s,c,b):I(t,e,s,c);if(m)if(h+=m,l){const n=N(t,e,r,s,c,b);i+=m*n[0],E+=m*n[1],g+=m*n[2]}else{const n=o(t,e,s,c);i+=m*n[0],E+=m*n[1]}}return h>0?l?[i/h,E/h,g/h]:[i/h,E/h]:r>0?l?[n[e],n[e+1],n[e+2]]:[n[e],n[e+1]]:null}function I(t,n,e,r){const I=e-t,u=r-n;return Math.sqrt(I*I+u*u)}function u(t,n,e,r,I,u){const o=r-t,N=I-n,l=u-e;return Math.sqrt(o*o+N*N+l*l)}function o(t,n,e,r){return[t+.5*(e-t),n+.5*(r-n)]}function N(t,n,e,r,I,u){return[t+.5*(r-t),n+.5*(I-n),e+.5*(u-e)]}export{n as getCentroidOptimizedGeometry,r as lineCentroid};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{estimateAttributesMemory as t}from\"../../core/memoryEstimations.js\";import{getCentroidOptimizedGeometry as e}from\"./centroid.js\";import r from\"./OptimizedGeometry.js\";class s{constructor(t=null,e={},r,s,o=0){this.geometry=t,this.attributes=e,this.centroid=r,this.objectId=s,this.displayId=o}static fromJSON(t){const e=t.geometry?r.fromJSON(t.geometry):null,o=t.centroid?r.fromJSON(t.centroid):null,i=t.objectId;return new s(e,t.attributes,o,i)}weakClone(){const t=new s(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t}clone(){const t=this.geometry?.clone(),e=new s(t,{...this.attributes},this.centroid?.clone(),this.objectId);return e.displayId=this.displayId,e}ensureCentroid(t){return this.centroid??=e(new r,this.geometry,t.hasZ,t.hasM),this.centroid}get usedMemory(){return 128+t(this.attributes)+(this.geometry?.usedMemory??0)}}function o(t){return!!t.geometry?.coords?.length}class i extends s{}export{s as OptimizedFeature,i as OptimizedFeatureWithGeometry,o as hasGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass e{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new e;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}export{e as default};\n"],"names":["t","n","I","u","o","N","l","s","c","T","h","e","r","f","i","g","E","b","m"],"mappings":"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","x_google_ignoreList":[0,1,2]}