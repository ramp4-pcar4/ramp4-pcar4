{"version":3,"file":"utils-BrRx2KpZ.js","sources":["../../node_modules/@arcgis/core/rest/support/generateRendererUtils.js","../../node_modules/@arcgis/core/statistics/utils.js","../../node_modules/@arcgis/core/smartMapping/statistics/support/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Logger.js\";const t=()=>e.getLogger(\"esri.rest.support.generateRendererUtils\");function l(e,t){return Number(e.toFixed(t))}function n(e){const t=o(e),l=[],n=t.uniqueValues.length;for(let a=0;a<n;a++){const e=t.uniqueValues[a],n=t.valueFrequency[a],u=e.toString();l.push({value:e,count:n,label:u})}return{uniqueValues:l}}function a(e,t){const{normalizationTotal:l}=e;return{classBreaks:u(e,t),normalizationTotal:l}}function u(e,t){const n=e.definition,{classificationMethod:a,normalizationType:u,definedInterval:i}=n,c=n.breakCount??1,b=[];let V=e.values;if(0===V.length)return[];V=V.sort(((e,t)=>e-t));const[p,g]=t??[V.at(0),V.at(-1)];if(\"equal-interval\"===a)if(V.length>=c){const e=(g-p)/c;let t=p;for(let n=1;n<c;n++){const a=l(p+n*e,6);b.push({minValue:t,maxValue:a,label:s(t,a,u)}),t=a}b.push({minValue:t,maxValue:g,label:s(t,g,u)})}else V.forEach((e=>{b.push({minValue:e,maxValue:e,label:s(e,e,u)})}));else if(\"natural-breaks\"===a){const t=o(V),n=e.valueFrequency||t.valueFrequency,a=r(t.uniqueValues,n,c);let i=p;for(let e=1;e<c;e++)if(t.uniqueValues.length>e){const n=l(t.uniqueValues[a[e]],6);b.push({minValue:i,maxValue:n,label:s(i,n,u)}),i=n}b.push({minValue:i,maxValue:g,label:s(i,g,u)})}else if(\"quantile\"===a)if(V.length>=c&&p!==g){let e=p,t=Math.ceil(V.length/c),l=0;for(let n=1;n<c;n++){let a=t+l-1;a>V.length&&(a=V.length-1),a<0&&(a=0),b.push({minValue:e,maxValue:V[a],label:s(e,V[a],u)}),e=V[a],l+=t,t=Math.ceil((V.length-l)/(c-n))}b.push({minValue:e,maxValue:g,label:s(e,g,u)})}else{let e=-1;for(let t=0;t<V.length;t++){const l=V[t];l!==e&&(e=l,b.push({minValue:e,maxValue:l,label:s(e,l,u)}),e=l)}}else if(\"standard-deviation\"===a){const e=h(V),t=m(V,e);if(0===t)b.push({minValue:V[0],maxValue:V[0],label:s(V[0],V[0],u)});else{const n=f(p,g,c,e,t)*t;let a=0,o=p;for(let t=c;t>=1;t--){const r=l(e-(t-.5)*n,6);b.push({minValue:o,maxValue:r,label:s(o,r,u)}),o=r,a++}let r=l(e+.5*n,6);b.push({minValue:o,maxValue:r,label:s(o,r,u)}),o=r,a++;for(let t=1;t<=c;t++)r=a===2*c?g:l(e+(t+.5)*n,6),b.push({minValue:o,maxValue:r,label:s(o,r,u)}),o=r,a++}}else if(\"defined-interval\"===a){if(!i)return b;const[e,n]=t??[V.at(0),V.at(-1)],a=Math.ceil((n-e)/i);let o=e;for(let t=1;t<a;t++){const n=l(e+t*i,6);b.push({minValue:o,maxValue:n,label:s(o,n,u)}),o=n}b.push({minValue:o,maxValue:n,label:s(o,n,u)})}return b}function s(e,t,l){let n=null;return n=e===t?l&&\"percent-of-total\"===l?e+\"%\":e.toString():l&&\"percent-of-total\"===l?e+\"% - \"+t+\"%\":e+\" - \"+t,n}function o(e){const t=[],l=[];let n=Number.MIN_VALUE,a=1,u=-1;for(let s=0;s<e.length;s++){const o=e[s];o===n?(a++,l[u]=a):null!==o&&(t.push(o),n=o,a=1,l.push(a),u++)}return{uniqueValues:t,valueFrequency:l}}function r(e,t,l){const n=e.length,a=[];l>n&&(l=n);for(let s=0;s<l;s++)a.push(Math.round(s*n/l-1));a.push(n-1);let u=i(a,e,t,l);return c(u.mean,u.sdcm,a,e,t,l)&&(u=i(a,e,t,l)),a}function i(e,t,l,n){let a=[],u=[],s=[],o=0;const r=[],i=[];for(let m=0;m<n;m++){const n=b(m,e,t,l);r.push(n.sbMean),i.push(n.sbSdcm),o+=i[m]}let c,f=o,h=!0;for(;h||o<f;){h=!1,a=[];for(let t=0;t<n;t++)a.push(e[t]);for(let l=0;l<n;l++)for(let a=e[l]+1;a<=e[l+1];a++)if(c=t[a],l>0&&a!==e[l+1]&&Math.abs(c-r[l])>Math.abs(c-r[l-1]))e[l]=a;else if(l<n-1&&e[l]!==a-1&&Math.abs(c-r[l])>Math.abs(c-r[l+1])){e[l+1]=a-1;break}f=o,o=0,u=[],s=[];for(let a=0;a<n;a++){u.push(r[a]),s.push(i[a]);const n=b(a,e,t,l);r[a]=n.sbMean,i[a]=n.sbSdcm,o+=i[a]}}if(o>f){for(let t=0;t<n;t++)e[t]=a[t],r[t]=u[t],i[t]=s[t];o=f}return{mean:r,sdcm:i}}function c(e,t,l,n,a,u){let s=0,o=0,r=0,i=0,c=!0;for(let f=0;f<2&&c;f++){0===f&&(c=!1);for(let f=0;f<u-1;f++)for(;l[f+1]+1!==l[f+2];){l[f+1]=l[f+1]+1;const u=b(f,l,n,a);r=u.sbMean,s=u.sbSdcm;const h=b(f+1,l,n,a);if(i=h.sbMean,o=h.sbSdcm,!(s+o<t[f]+t[f+1])){l[f+1]=l[f+1]-1;break}t[f]=s,t[f+1]=o,e[f]=r,e[f+1]=i,c=!0}for(let f=u-1;f>0;f--)for(;l[f]!==l[f-1]+1;){l[f]=l[f]-1;const u=b(f-1,l,n,a);r=u.sbMean,s=u.sbSdcm;const h=b(f,l,n,a);if(i=h.sbMean,o=h.sbSdcm,!(s+o<t[f-1]+t[f])){l[f]=l[f]+1;break}t[f-1]=s,t[f]=o,e[f-1]=r,e[f]=i,c=!0}}return c}function f(e,t,l,n,a){let u=Math.max(n-e,t-n)/a/l;return u=u>=1?1:u>=.5?.5:.25,u}function h(e){let t=0;for(let l=0;l<e.length;l++)t+=e[l];return t/=e.length,t}function m(e,t){let l=0;for(let n=0;n<e.length;n++){const a=e[n];l+=(a-t)*(a-t)}l/=e.length;return Math.sqrt(l)}function b(e,l,n,a){let u=0,s=0;for(let t=l[e]+1;t<=l[e+1];t++){const e=a[t];u+=n[t]*e,s+=e}s<=0&&t().warn(\"Exception in Natural Breaks calculation\");const o=u/s;let r=0;for(let t=l[e]+1;t<=l[e+1];t++)r+=a[t]*(n[t]-o)**2;return{sbMean:o,sbSdcm:r}}export{a as createGenerateRendererClassBreaks,n as createGenerateRendererUniqueValues};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../rest/support/ClassBreaksDefinition.js\";import{createGenerateRendererClassBreaks as n}from\"../rest/support/generateRendererUtils.js\";const t=\"<Null>\",l=\"equal-interval\",i=1,a=5,o=10,u=/\\s*(\\+|-)?((\\d+(\\.\\d+)?)|(\\.\\d+))\\s*/gi,r=new Set([\"esriFieldTypeDate\",\"esriFieldTypeInteger\",\"esriFieldTypeSmallInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\",\"esriFieldTypeOID\",\"esriFieldTypeBigInteger\"]),s=new Set([\"esriFieldTypeTimeOnly\",\"esriFieldTypeDateOnly\"]),c=[\"min\",\"max\",\"avg\",\"stddev\",\"count\",\"sum\",\"variance\",\"nullcount\",\"median\"];function m(e){return null==e||\"string\"==typeof e&&!e?t:e}function d(e){const n=null!=e.normalizationField||null!=e.normalizationType,t=null!=e.minValue||null!=e.maxValue,l=!!e.sqlExpression&&e.supportsSQLExpression;return!n&&!t&&!l}function f(e){const{outStatisticTypes:n}=e,t=e.returnDistinct?[...new Set(e.values)]:e.values,l=t.filter((e=>null!=e)).sort(),i=l.length,a={count:i,min:l[0],max:l[i-1]};return e.supportsNullCount&&(a.nullcount=t.length-i),!e.percentileParams||n?.include?.length&&!n.include.includes(\"median\")||n?.exclude?.length&&n.exclude.includes(\"median\")||(a.median=v(t,e.percentileParams)),a}function p(e){const{values:n,useSampleStdDev:t,supportsNullCount:l,outStatisticTypes:i}=e;let a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,u=null,r=null,s=null,c=null,m=0;const d=null==e.minValue?-1/0:e.minValue,f=null==e.maxValue?1/0:e.maxValue;for(const v of n)Number.isFinite(v)?v>=d&&v<=f&&(u=null===u?v:u+v,a=Math.min(a,v),o=Math.max(o,v),m++):\"string\"==typeof v&&m++;if(m&&null!=u){r=u/m;let e=0;for(const t of n)Number.isFinite(t)&&t>=d&&t<=f&&(e+=(t-r)**2);c=t?m>1?e/(m-1):0:m>0?e/m:0,s=Math.sqrt(c)}else a=null,o=null;const p={avg:r,count:m,max:o,min:a,stddev:s,sum:u,variance:c};return l&&(p.nullcount=n.length-m),!e.percentileParams||i?.include?.length&&!i.include.includes(\"median\")||i?.exclude?.length&&i.exclude.includes(\"median\")||(p.median=v(n,e.percentileParams)),p}function v(e,n){const{fieldType:t,value:l,orderBy:i,isDiscrete:a}=n,o=g(t,\"desc\"===i);if(0===(e=[...e].filter((e=>null!=e)).sort(((e,n)=>o(e,n)))).length)return null;if(l<=0)return e[0];if(l>=1)return e[e.length-1];const u=(e.length-1)*l,r=Math.floor(u),s=r+1,c=u%1,m=e[r],d=e[s];return s>=e.length||a||\"string\"==typeof m||\"string\"==typeof d?m:m*(1-c)+d*c}function g(e,n){if(e){if(r.has(e))return N(n);if(s.has(e))return D(n,!1);if(\"esriFieldTypeTimestampOffset\"===e)return F(n);const t=D(n,!0);if(\"esriFieldTypeString\"===e)return t;if(\"esriFieldTypeGUID\"===e||\"esriFieldTypeGlobalID\"===e)return(e,n)=>t(M(e),M(n))}const t=n?1:-1,l=N(n),i=D(n,!0),a=x(n);return(e,n)=>\"number\"==typeof e&&\"number\"==typeof n?l(e,n):\"string\"==typeof e&&\"string\"==typeof n?i(e,n):a(e,n)??t}const h=(e,n)=>null==e?null==n?0:1:null==n?-1:null,T=(e,n)=>null==e?null==n?0:-1:null==n?1:null;function x(e){return e?h:T}const y=(e,n)=>T(e,n)??(e===n?0:new Date(e).getTime()-new Date(n).getTime()),V=(e,n)=>h(e,n)??(e===n?0:new Date(n).getTime()-new Date(e).getTime());function F(e){return e?V:y}const I=(e,n)=>T(e,n)??(e===n?0:e<n?-1:1),b=(e,n)=>h(e,n)??(e===n?0:e<n?1:-1);function D(e,n){if(!n)return e?b:I;const t=x(e);return e?(e,n)=>{const l=t(e,n);return null!=l?l:(e=e.toUpperCase())>(n=n.toUpperCase())?-1:e<n?1:0}:(e,n)=>{const l=t(e,n);return null!=l?l:(e=e.toUpperCase())<(n=n.toUpperCase())?-1:e>n?1:0}}const z=(e,n)=>h(e,n)??n-e,S=(e,n)=>T(e,n)??e-n;function N(e){return e?z:S}function M(e){return e.slice(24,36)+e.slice(19,23)+e.slice(16,18)+e.slice(14,16)+e.slice(11,13)+e.slice(9,11)+e.slice(6,8)+e.slice(4,6)+e.slice(2,4)+e.slice(0,2)}function C(e,n,t){let l;for(l in e)n?.include?.length&&!n.include.includes(l)||n?.exclude?.length&&n.exclude.includes(l)?delete e[l]:c.includes(l)&&(Number.isFinite(e[l])||(e[l]=null));return t?([\"avg\",\"stddev\",\"variance\"].forEach((n=>{null!=e[n]&&(e[n]=Math.ceil(e[n]??0))})),e):e}function k(e){const n={};for(let t of e)(null==t||\"string\"==typeof t&&\"\"===t.trim())&&(t=null),null==n[t]?n[t]={count:1,data:t}:n[t].count++;return{count:n}}function w(e){return\"coded-value\"!==e?.type?[]:e.codedValues.map((e=>e.code))}function $(e,n,t,l){const i=e.count,a=[];if(t&&n){const e=[],t=w(n[0]);for(const i of t)if(n[1]){const t=w(n[1]);for(const a of t)if(n[2]){const t=w(n[2]);for(const n of t)e.push(`${m(i)}${l}${m(a)}${l}${m(n)}`)}else e.push(`${m(i)}${l}${m(a)}`)}else e.push(i);for(const n of e)i.hasOwnProperty(n)||(i[n]={data:n,count:0})}for(const o in i){const e=i[o];a.push({value:e.data,count:e.count,label:e.label})}return{uniqueValueInfos:a}}function B(e,n,t,l){let i=null;switch(n){case\"log\":0!==e&&(i=Math.log(e)*Math.LOG10E);break;case\"percent-of-total\":Number.isFinite(l)&&0!==l&&(i=e/l*100);break;case\"field\":Number.isFinite(t)&&0!==t&&(i=e/t);break;case\"natural-log\":e>0&&(i=Math.log(e));break;case\"square-root\":e>0&&(i=e**.5)}return i}function E(e,t,l){const i=q({field:t.field,normalizationType:t.normalizationType,normalizationField:t.normalizationField,classificationMethod:t.classificationMethod,standardDeviationInterval:t.standardDeviationInterval,definedInterval:t.definedInterval,breakCount:t.numClasses||a});return e=O(e,t.minValue,t.maxValue),n({definition:i,values:e,normalizationTotal:t.normalizationTotal},l)}function O(e,n,t){const l=n??-1/0,i=t??1/0;return e.filter((e=>Number.isFinite(e)&&e>=l&&e<=i))}function q(n){const{breakCount:t,field:a,normalizationField:o,normalizationType:u}=n,r=n.classificationMethod||l,s=\"standard-deviation\"===r?n.standardDeviationInterval||i:void 0,c=\"defined-interval\"===r?n.definedInterval:void 0;return new e({breakCount:t,classificationField:a,classificationMethod:r,normalizationField:\"field\"===u?o:void 0,normalizationType:u,standardDeviationInterval:s,definedInterval:c})}function P(e,n){let t=e.classBreaks;const l=t.length,i=t[0]?.minValue,a=t[l-1]?.maxValue,o=\"standard-deviation\"===n,r=u;return t=t.map((e=>{const n=e.label,t={minValue:e.minValue,maxValue:e.maxValue,label:n};if(o&&n){const e=n.match(r),l=e?.map((e=>+e.trim()))??[];2===l.length?(t.minStdDev=l[0],t.maxStdDev=l[1],l[0]<0&&l[1]>0&&(t.hasAvg=!0)):1===l.length&&(n.includes(\"<\")?(t.minStdDev=null,t.maxStdDev=l[0]):n.includes(\">\")&&(t.minStdDev=l[0],t.maxStdDev=null))}return t})),{minValue:i,maxValue:a,classBreakInfos:t,normalizationTotal:e.normalizationTotal}}function U(e,n){const t=G(e,n);if(null==t.min&&null==t.max)return{bins:[],minValue:t.min,maxValue:t.max,normalizationTotal:n.normalizationTotal};const l=t.intervals,i=t.min??0,a=t.max??0,o=l.map(((e,n)=>({minValue:l[n][0],maxValue:l[n][1],count:0})));for(const u of e)if(null!=u&&u>=i&&u<=a){const e=L(l,u);e>-1&&o[e].count++}return{bins:o,minValue:i,maxValue:a,normalizationTotal:n.normalizationTotal}}function G(e,n,t=!1){const{field:l,classificationMethod:i,standardDeviationInterval:a,definedInterval:u,normalizationType:r,normalizationField:s,normalizationTotal:c,minValue:m,maxValue:f}=n,v=n.numBins||o;let g=null,h=null,T=null;if((!i||\"equal-interval\"===i)&&!r){if(null!=m&&null!=f)g=m,h=f;else{const n=p({values:e,minValue:m,maxValue:f,useSampleStdDev:!r,supportsNullCount:d({normalizationType:r,normalizationField:s,minValue:m,maxValue:f})});g=n.min??null,h=n.max??null}T=j(g??0,h??0,v)}else{const{classBreaks:n}=E(e,{field:l,normalizationType:r,normalizationField:s,normalizationTotal:c,classificationMethod:i,standardDeviationInterval:a,definedInterval:u,minValue:m,maxValue:f,numClasses:v},null!=m&&null!=f?[m,f]:void 0);g=n[0]?.minValue,h=n[n.length-1]?.maxValue,T=n.map((e=>[e.minValue,e.maxValue]))}if(t){const e=T.at(-1)[1];T.push([e,e])}return{min:g,max:h,intervals:T}}function L(e,n){let t=-1;for(let l=e.length-1;l>=0;l--){if(n>=e[l][0]){t=l;break}}return t}function j(e,n,t){const l=(n-e)/t,i=[];let a,o=e;for(let u=1;u<=t;u++)a=o+l,a=Number(a.toFixed(16)),i.push([o,u===t?n:a]),o=a;return i}export{L as binIndex,E as calculateClassBreaks,U as calculateHistogram,v as calculatePercentile,p as calculateStatistics,f as calculateStringStatistics,k as calculateUniqueValuesCount,q as createClassBreaksDefinition,$ as createUVResult,g as getAttributeComparator,G as getBinParams,j as getEqualIntervalBins,B as getNormalizedValue,d as isNullCountSupported,m as processNullValue,C as processSummaryStatisticsResult,P as resolveCBResult,c as statisticTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{pt2px as t}from\"../../../core/screenUtils.js\";import{millisecondsPerTimeUnit as n}from\"../../../core/timeUtils.js\";import r from\"../../../geometry/Point.js\";import o from\"../../../geometry/SpatialReference.js\";import{quantizePoint as i}from\"../../../geometry/support/quantizationUtils.js\";import{isWrappable as s,getInfo as l}from\"../../../geometry/support/spatialReferenceUtils.js\";import{isTimeOnlyField as a,isNumericField as u,numericTypes as f}from\"../../../layers/support/fieldUtils.js\";import{evaluateDensityKernel as c,createValueFunction as m}from\"../../../renderers/support/heatmapUtils.js\";import{isAnyDateField as p}from\"../../support/utils.js\";import{processNullValue as d,getNormalizedValue as h}from\"../../../statistics/utils.js\";import{loadArcade as y}from\"../../../support/arcadeOnDemand.js\";let $=null;const g=/^(?<hh>([0-1][0-9])|([2][0-3])):(?<mm>[0-5][0-9])(:(?<ss>[0-5][0-9]))?([.](?<ms>\\d+))?$/;function j(e,t,n){return e.x<0?e.x+=t:e.x>n&&(e.x-=t),e}function x(e,t,n,o){const a=s(n)?l(n):null,u=a?Math.round((a.valid[1]-a.valid[0])/t.scale[0]):null;return e.map((e=>{const n=new r(e.geometry);return i(t,n,n),e.geometry=a?j(n,u??0,o[0]):n,e}))}function w(e,n=18,r,o,i){const s=new Float64Array(o*i);n=Math.round(t(n));let l=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;const u=m(r);for(const{geometry:t,attributes:f}of e){const{x:e,y:r}=t,m=Math.max(0,e-n),p=Math.max(0,r-n),d=Math.min(i,r+n),h=Math.min(o,e+n),y=+u(f);for(let t=p;t<d;t++)for(let i=m;i<h;i++){const u=t*o+i,f=c(i-e,t-r,n)*y,m=s[u]+=f;l=Math.min(l,m),a=Math.max(a,m)}}return{min:l,max:a}}function I(e){const t=g.exec(e);if(!t)return null;const{hh:r,mm:o,ss:i,ms:s}=t.groups;return Number(r)*n.hours+Number(o)*n.minutes+Number(i)*n.seconds+Number(s||0)}async function b(e,t,n=!0){if(!t)return[];const{field:r,field2:i,field3:s,fieldDelimiter:l,fieldInfos:u,timeZone:f}=e,c=r&&u?.find((e=>e.name.toLowerCase()===r.toLowerCase())),m=!!c&&a(c),g=!!c&&p(c),j=e.valueExpression,x=e.normalizationType,w=e.normalizationField,b=e.normalizationTotal,F=[],N=e.viewInfoParams;let E=null,v=null;if(j){if(!$){const{arcadeUtils:e}=await y();$=e}$.hasGeometryOperations(j)&&await $.enableGeometryOperations(),E=$.createFunction(j),v=N?$.getViewInfo({viewingMode:N.viewingMode,scale:N.scale,spatialReference:new o(N.spatialReference)}):null}const U=e.fieldInfos,M=!(t[0]&&\"declaredClass\"in t[0]&&\"esri.Graphic\"===t[0].declaredClass)&&U?{fields:U}:null;return t.forEach((e=>{const t=e.attributes;let o;if(j){const t=M?{...e,layer:M}:e,n=$.createExecContext(t,v,f);o=$.executeFunction(E,n)}else t&&(o=t[r],i?(o=`${d(o)}${l}${d(t[i])}`,s&&(o=`${o}${l}${d(t[s])}`)):\"string\"==typeof o&&n&&(g?o=o?new Date(o).getTime():null:m&&(o=o?I(o):null)));if(x&&\"number\"==typeof o&&isFinite(o)){const e=t&&parseFloat(t[w]);o=h(o,x,e,b)}F.push(o)})),F}function F(e){const t=e.field,n=e.normalizationType,r=e.normalizationField;let o;return\"field\"===n?o=\"(NOT \"+r+\" = 0)\":\"log\"!==n&&\"natural-log\"!==n&&\"square-root\"!==n||(o=`(${t} > 0)`),o}function N(e,t,n){const r=null!=t?e+\" >= \"+t:\"\",o=null!=n?e+\" <= \"+n:\"\";let i=\"\";return i=r&&o?U(r,o):r||o,i?\"(\"+i+\")\":\"\"}function E(t,n,r,o){let i;return n?n.name!==t.objectIdField&&o.includes(n.type)||(i=new e(r,\"'field' should be one of these types: \"+o.join(\",\"))):i=new e(r,\"'field' is not defined in the layer schema\"),i}function v(t,n,r){let o;return n?n.name!==t.objectIdField&&u(n)||(o=new e(r,\"'field' should be one of these numeric types: \"+f.join(\",\"))):o=new e(r,\"'field' is not defined in the layer schema\"),o}function U(e,t){let n=null!=e?e:\"\";return null!=t&&t&&(n=n?\"(\"+n+\") AND (\"+t+\")\":t),n}function M(t,n){if(t&&\"intersects\"!==t.spatialRelationship)return new e(n,\"Only 'intersects' spatialRelationship is supported for featureFilter\")}function T(t,n,r){const o=z({layer:t,fields:n});if(o.length)return new e(r,\"Unknown fields: \"+o.join(\", \")+\". You can only use fields defined in the layer schema\");const i=O({layer:t,fields:n});return i.length?new e(r,\"Unsupported fields: \"+i.join(\", \")+\". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true\"):void 0}function z(e){const t=e.layer;return e.fields.filter((e=>!t.getField(e)))}function O(e){const t=e.layer;return e.fields.filter((e=>{const n=t.getFieldUsageInfo(e);return!n||!n.supportsStatistics}))}function R(e,t,n){const r=[],o=[],i=[],s=[],l=[];e.forEach(((e,t)=>{const a=e.field?\"field\":\"expression\",u=e.field||e.valueExpression;e.field?(l.push(u),o.push(`var ${a}${t} = Number($feature[\"${u}\"]);`)):(r.push(`function getValueForExpr${t}() {\\n  ${u} \\n}`),o.push(`var ${a}${t} = Number(getValueForExpr${t}());`)),n||i.push(`${a}${t} = IIf(${a}${t} < 0, 0, ${a}${t});`),s.push(`${a}${t}`)}));const a=r.length?null:l.reduce(((e,t)=>`${e} + ${t}`));let u=null;t||n?t?n||a&&(u=`(( ${a} ) >= 0)`):a&&(u=`(( ${a} ) <> 0)`):a&&(u=`(( ${a} ) > 0)`);return{valueExpression:[r.length?r.join(\"\\n\"):\"\",o.join(\"\\n\"),i.join(\"\\n\"),`var total = ${s.join(\" + \")};`,\"return total;\"].filter(Boolean).join(\"\\n\\n\"),sqlExpression:a,sqlWhere:u}}export{w as calculateHeatmapStats,b as getDataValues,N as getRangeExpr,F as getSQLFilterForNormalization,R as getSumOfAttributesExpr,U as mergeWhereClauses,x as quantizeFeatures,I as timeOnlyToMilliseconds,T as verifyBasicFieldValidity,E as verifyFieldType,M as verifyFilterValidity,v as verifyNumericField};\n"],"names":["t","e","l","n","o","a","u","i","c","b","V","p","g","s","r","h","m","f","d","v","N","D","F","M","x","T","y","I","z","S","C","k","w","$","B","E","q","O","P","U","G","L","j"],"mappings":"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","x_google_ignoreList":[0,1,2]}