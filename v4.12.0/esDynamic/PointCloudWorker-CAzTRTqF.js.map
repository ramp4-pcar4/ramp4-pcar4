{"version":3,"file":"PointCloudWorker-CAzTRTqF.js","sources":["../../node_modules/@arcgis/core/renderers/support/pointCloud/ColorModulation.js","../../node_modules/@arcgis/core/renderers/support/pointCloud/PointSizeAlgorithm.js","../../node_modules/@arcgis/core/renderers/support/pointCloud/PointSizeFixedSizeAlgorithm.js","../../node_modules/@arcgis/core/renderers/support/pointCloud/PointSizeSplatAlgorithm.js","../../node_modules/@arcgis/core/renderers/support/pointCloud/pointSizeAlgorithmTypeUtils.js","../../node_modules/@arcgis/core/renderers/PointCloudRenderer.js","../../node_modules/@arcgis/core/renderers/support/pointCloud/ColorClassBreakInfo.js","../../node_modules/@arcgis/core/renderers/PointCloudClassBreaksRenderer.js","../../node_modules/@arcgis/core/renderers/PointCloudStretchRenderer.js","../../node_modules/@arcgis/core/renderers/support/pointCloud/ColorUniqueValueInfo.js","../../node_modules/@arcgis/core/renderers/PointCloudUniqueValueRenderer.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js","../../node_modules/@arcgis/core/views/3d/layers/PointCloudWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/JSONSupport.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var s;let i=s=class extends o{constructor(){super(...arguments),this.field=null,this.minValue=0,this.maxValue=255}clone(){return new s({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};e([r({type:String,json:{write:{isRequired:!0}}})],i.prototype,\"field\",void 0),e([r({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],i.prototype,\"minValue\",void 0),e([r({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],i.prototype,\"maxValue\",void 0),i=s=e([t(\"esri.renderers.support.pointCloud.ColorModulation\")],i);const l=i;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{JSONMap as r}from\"../../../core/jsonMap.js\";import e from\"../../../core/JSONSupport.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";const p=new r({pointCloudFixedSizeAlgorithm:\"fixed-size\",pointCloudSplatAlgorithm:\"splat\"});let i=class extends e{};o([s({type:p.apiValues,readOnly:!0,nonNullable:!0,json:{type:p.jsonValues,read:!1,write:{writer:p.write,isRequired:!0}}})],i.prototype,\"type\",void 0),i=o([t(\"esri.renderers.support.pointCloud.PointSizeAlgorithm\")],i);const a=i;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as r}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"./PointSizeAlgorithm.js\";var i;let p=i=class extends t{constructor(){super(...arguments),this.type=\"fixed-size\",this.size=0,this.useRealWorldSymbolSizes=null}clone(){return new i({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};o([r({pointCloudFixedSizeAlgorithm:\"fixed-size\"})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],p.prototype,\"size\",void 0),o([e({type:Boolean,json:{write:!0}})],p.prototype,\"useRealWorldSymbolSizes\",void 0),p=i=o([s(\"esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm\")],p);const l=p;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"./PointSizeAlgorithm.js\";var p;let c=p=class extends s{constructor(){super(...arguments),this.type=\"splat\",this.scaleFactor=1}clone(){return new p({scaleFactor:this.scaleFactor})}};o([t({pointCloudSplatAlgorithm:\"splat\"})],c.prototype,\"type\",void 0),o([r({type:Number,value:1,nonNullable:!0,json:{write:{isRequired:!0}}})],c.prototype,\"scaleFactor\",void 0),c=p=o([e(\"esri.renderers.support.pointCloud.PointSizeSplatAlgorithm\")],c);const a=c;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport i from\"./PointSizeAlgorithm.js\";import t from\"./PointSizeFixedSizeAlgorithm.js\";import o from\"./PointSizeSplatAlgorithm.js\";const e={key:\"type\",base:i,typeMap:{\"fixed-size\":t,splat:o}};export{e as pointSizeAlgorithmTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{strict as e,JSONMap as r}from\"../core/jsonMap.js\";import t from\"../core/JSONSupport.js\";import{clone as i}from\"../core/lang.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import l from\"./support/pointCloud/ColorModulation.js\";import{pointSizeAlgorithmTypes as p}from\"./support/pointCloud/pointSizeAlgorithmTypeUtils.js\";const u=e()({pointCloudClassBreaksRenderer:\"point-cloud-class-breaks\",pointCloudRGBRenderer:\"point-cloud-rgb\",pointCloudStretchRenderer:\"point-cloud-stretch\",pointCloudUniqueValueRenderer:\"point-cloud-unique-value\"});let c=class extends t{constructor(o){super(o),this.type=void 0,this.pointSizeAlgorithm=null,this.colorModulation=null,this.pointsPerInch=10}clone(){return console.warn(\".clone() is not implemented for \"+this.declaredClass),null}cloneProperties(){return{pointSizeAlgorithm:i(this.pointSizeAlgorithm),colorModulation:i(this.colorModulation),pointsPerInch:i(this.pointsPerInch)}}};o([n({type:u.apiValues,readOnly:!0,nonNullable:!0,json:{type:u.jsonValues,read:!1,write:{writer:u.write,isRequired:!0}}})],c.prototype,\"type\",void 0),o([n({types:p,json:{write:!0}})],c.prototype,\"pointSizeAlgorithm\",void 0),o([n({type:l,json:{write:!0}})],c.prototype,\"colorModulation\",void 0),o([n({json:{write:!0},nonNullable:!0,type:Number})],c.prototype,\"pointsPerInch\",void 0),c=o([s(\"esri.renderers.PointCloudRenderer\")],c),function(o){o.fieldTransformTypeKebabDict=new r({none:\"none\",lowFourBit:\"low-four-bit\",highFourBit:\"high-four-bit\",absoluteValue:\"absolute-value\",moduloTen:\"modulo-ten\"})}(c||(c={}));const d=c;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Color.js\";import o from\"../../../core/JSONSupport.js\";import{clone as s}from\"../../../core/lang.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{Integer as i}from\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";var a;let p=a=class extends o{constructor(){super(...arguments),this.description=null,this.label=null,this.minValue=0,this.maxValue=0,this.color=null}clone(){return new a({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:s(this.color)})}};e([t({type:String,json:{write:!0}})],p.prototype,\"description\",void 0),e([t({type:String,json:{write:!0}})],p.prototype,\"label\",void 0),e([t({type:Number,json:{read:{source:\"classMinValue\"},write:{target:\"classMinValue\",isRequired:!0}}})],p.prototype,\"minValue\",void 0),e([t({type:Number,json:{read:{source:\"classMaxValue\"},write:{target:\"classMaxValue\",isRequired:!0}}})],p.prototype,\"maxValue\",void 0),e([t({type:r,json:{type:[i],write:{isRequired:!0}}})],p.prototype,\"color\",void 0),p=a=e([l(\"esri.renderers.support.pointCloud.ColorClassBreakInfo\")],p);const u=p;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{clone as o}from\"../core/lang.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{enumeration as s}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import i from\"./PointCloudRenderer.js\";import p from\"./support/RendererLegendOptions.js\";import n from\"./support/pointCloud/ColorClassBreakInfo.js\";var l;let a=l=class extends i{constructor(e){super(e),this.type=\"point-cloud-class-breaks\",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.colorClassBreakInfos=null}clone(){return new l({...this.cloneProperties(),field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:o(this.colorClassBreakInfos),legendOptions:o(this.legendOptions)})}};e([s({pointCloudClassBreaksRenderer:\"point-cloud-class-breaks\"})],a.prototype,\"type\",void 0),e([r({json:{write:{isRequired:!0}},type:String})],a.prototype,\"field\",void 0),e([r({type:p,json:{write:!0}})],a.prototype,\"legendOptions\",void 0),e([r({type:i.fieldTransformTypeKebabDict.apiValues,json:{type:i.fieldTransformTypeKebabDict.jsonValues,read:i.fieldTransformTypeKebabDict.read,write:i.fieldTransformTypeKebabDict.write}})],a.prototype,\"fieldTransformType\",void 0),e([r({type:[n],json:{write:{isRequired:!0}}})],a.prototype,\"colorClassBreakInfos\",void 0),a=l=e([t(\"esri.renderers.PointCloudClassBreaksRenderer\")],a);const d=a;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{clone as r}from\"../core/lang.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{enumeration as t}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import i from\"./PointCloudRenderer.js\";import p from\"./support/RendererLegendOptions.js\";import n from\"./visualVariables/support/ColorStop.js\";var l;let d=l=class extends i{constructor(e){super(e),this.type=\"point-cloud-stretch\",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.stops=null}clone(){return new l({...this.cloneProperties(),field:r(this.field),fieldTransformType:r(this.fieldTransformType),stops:r(this.stops),legendOptions:r(this.legendOptions)})}};e([t({pointCloudStretchRenderer:\"point-cloud-stretch\"})],d.prototype,\"type\",void 0),e([o({json:{write:{isRequired:!0}},type:String})],d.prototype,\"field\",void 0),e([o({type:p,json:{write:!0}})],d.prototype,\"legendOptions\",void 0),e([o({type:i.fieldTransformTypeKebabDict.apiValues,json:{type:i.fieldTransformTypeKebabDict.jsonValues,read:i.fieldTransformTypeKebabDict.read,write:i.fieldTransformTypeKebabDict.write}})],d.prototype,\"fieldTransformType\",void 0),e([o({type:[n],json:{write:{isRequired:!0}}})],d.prototype,\"stops\",void 0),d=l=e([s(\"esri.renderers.PointCloudStretchRenderer\")],d);const a=d;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Color.js\";import e from\"../../../core/JSONSupport.js\";import{clone as t}from\"../../../core/lang.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{Integer as i}from\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";var l;let c=l=class extends e{constructor(){super(...arguments),this.description=null,this.label=null,this.values=null,this.color=null}clone(){return new l({description:this.description,label:this.label,values:t(this.values),color:t(this.color)})}};o([s({type:String,json:{write:!0}})],c.prototype,\"description\",void 0),o([s({type:String,json:{write:!0}})],c.prototype,\"label\",void 0),o([s({type:[String],json:{write:{isRequired:!0}}})],c.prototype,\"values\",void 0),o([s({type:r,json:{type:[i],write:{isRequired:!0}}})],c.prototype,\"color\",void 0),c=l=o([p(\"esri.renderers.support.pointCloud.ColorUniqueValueInfo\")],c);const n=c;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{clone as o}from\"../core/lang.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{enumeration as t}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import s from\"./PointCloudRenderer.js\";import n from\"./support/RendererLegendOptions.js\";import p from\"./support/pointCloud/ColorUniqueValueInfo.js\";var l;let u=l=class extends s{constructor(e){super(e),this.type=\"point-cloud-unique-value\",this.field=null,this.fieldTransformType=null,this.colorUniqueValueInfos=null,this.legendOptions=null}clone(){return new l({...this.cloneProperties(),field:o(this.field),fieldTransformType:o(this.fieldTransformType),colorUniqueValueInfos:o(this.colorUniqueValueInfos),legendOptions:o(this.legendOptions)})}};e([t({pointCloudUniqueValueRenderer:\"point-cloud-unique-value\"})],u.prototype,\"type\",void 0),e([r({json:{write:{isRequired:!0}},type:String})],u.prototype,\"field\",void 0),e([r({type:s.fieldTransformTypeKebabDict.apiValues,json:{type:s.fieldTransformTypeKebabDict.jsonValues,read:s.fieldTransformTypeKebabDict.read,write:s.fieldTransformTypeKebabDict.write}})],u.prototype,\"fieldTransformType\",void 0),e([r({type:[p],json:{write:{isRequired:!0}}})],u.prototype,\"colorUniqueValueInfos\",void 0),e([r({type:n,json:{write:!0}})],u.prototype,\"legendOptions\",void 0),u=l=e([i(\"esri.renderers.PointCloudUniqueValueRenderer\")],u);const d=u;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../renderers/PointCloudClassBreaksRenderer.js\";import r from\"../../../../renderers/PointCloudStretchRenderer.js\";import o from\"../../../../renderers/PointCloudUniqueValueRenderer.js\";import{createGeometryIndexFromSchema as t,createTypedView as n,readBinaryAttribute as l}from\"./I3SBinaryReader.js\";import{decodeXYZ as s}from\"./LEPCC.js\";function i(t,n,l,s){const{rendererJSON:i,isRGBRenderer:u}=t;let c=null,a=null;if(n&&u)c=n;else if(n&&\"pointCloudUniqueValueRenderer\"===i?.type){a=o.fromJSON(i);const e=a.colorUniqueValueInfos;c=new Uint8Array(3*s);const r=d(a.fieldTransformType);for(let o=0;o<s;o++){const t=(r?r(n[o]):n[o])+\"\";for(let r=0;r<e.length;r++)if(e[r].values.includes(t)){c[3*o]=e[r].color.r,c[3*o+1]=e[r].color.g,c[3*o+2]=e[r].color.b;break}}}else if(n&&\"pointCloudStretchRenderer\"===i?.type){a=r.fromJSON(i);const e=a.stops;c=new Uint8Array(3*s);const o=d(a.fieldTransformType);for(let r=0;r<s;r++){const t=o?o(n[r]):n[r],l=e.length-1;if(t<e[0].value)c[3*r]=e[0].color.r,c[3*r+1]=e[0].color.g,c[3*r+2]=e[0].color.b;else if(t>=e[l].value)c[3*r]=e[l].color.r,c[3*r+1]=e[l].color.g,c[3*r+2]=e[l].color.b;else for(let o=1;o<e.length;o++)if(t<e[o].value){const n=(t-e[o-1].value)/(e[o].value-e[o-1].value);c[3*r]=e[o].color.r*n+e[o-1].color.r*(1-n),c[3*r+1]=e[o].color.g*n+e[o-1].color.g*(1-n),c[3*r+2]=e[o].color.b*n+e[o-1].color.b*(1-n);break}}}else if(n&&\"pointCloudClassBreaksRenderer\"===i?.type){a=e.fromJSON(i);const r=a.colorClassBreakInfos;c=new Uint8Array(3*s);const o=d(a.fieldTransformType);for(let e=0;e<s;e++){const t=o?o(n[e]):n[e];for(let o=0;o<r.length;o++)if(t>=r[o].minValue&&t<=r[o].maxValue){c[3*e]=r[o].color.r,c[3*e+1]=r[o].color.g,c[3*e+2]=r[o].color.b;break}}}else c=new Uint8Array(3*s).fill(255);if(l&&a?.colorModulation){const e=a.colorModulation.minValue,r=a.colorModulation.maxValue,o=.3;for(let t=0;t<s;t++){const n=l[t],s=n>=r?1:n<=e?o:o+(1-o)*(n-e)/(r-e);c[3*t]=s*c[3*t],c[3*t+1]=s*c[3*t+1],c[3*t+2]=s*c[3*t+2]}}return c}function u(e,r){if(null==e.encoding||\"\"===e.encoding){const o=t(r,e);if(null==o.vertexAttributes.position)return;const l=n(r,o.vertexAttributes.position),s=o.header.fields,i=[s.offsetX,s.offsetY,s.offsetZ],u=[s.scaleX,s.scaleY,s.scaleZ],c=l.length/3,a=new Float64Array(3*c);for(let e=0;e<c;e++)a[3*e]=l[3*e]*u[0]+i[0],a[3*e+1]=l[3*e+1]*u[1]+i[1],a[3*e+2]=l[3*e+2]*u[2]+i[2];return a}if(\"lepcc-xyz\"===e.encoding)return s(r).result}function c(e,r,o){return e?.attributeInfo.useElevation?r?a(r,o):null:e?.attributeInfo.storageInfo?l(e.attributeInfo.storageInfo,e.buffer,o):null}function a(e,r){const o=new Float64Array(r);for(let t=0;t<r;t++)o[t]=e[3*t+2];return o}function f(e,r,o,t,n){const l=e.length/3;let s=0;for(let i=0;i<l;i++){let l=!0;for(let e=0;e<t.length&&l;e++){const{filterJSON:r}=t[e],o=n[e].values[i];switch(r.type){case\"pointCloudValueFilter\":{const e=\"exclude\"===r.mode;r.values.includes(o)===e&&(l=!1);break}case\"pointCloudBitfieldFilter\":{const e=p(r.requiredSetBits),t=p(r.requiredClearBits);((o&e)!==e||o&t)&&(l=!1);break}case\"pointCloudReturnFilter\":{const e=15&o,t=o>>>4&15,n=t>1,s=1===e,i=e===t;let u=!1;for(const o of r.includedReturns)if(\"last\"===o&&i||\"firstOfMany\"===o&&s&&n||\"lastOfMany\"===o&&i&&n||\"single\"===o&&!n){u=!0;break}u||(l=!1);break}}}l&&(o[s]=i,e[3*s]=e[3*i],e[3*s+1]=e[3*i+1],e[3*s+2]=e[3*i+2],r[3*s]=r[3*i],r[3*s+1]=r[3*i+1],r[3*s+2]=r[3*i+2],s++)}return s}function d(e){switch(e){default:case null:case\"none\":return e=>e;case\"low-four-bit\":return e=>15&e;case\"high-four-bit\":return e=>(240&e)>>4;case\"absolute-value\":return e=>Math.abs(e);case\"modulo-ten\":return e=>e%10}}function p(e){let r=0;for(const o of e||[])r|=1<<o;return r}export{a as elevationFromPositions,i as evaluateRenderer,f as filterInPlace,c as getAttributeValues,u as readGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/arrayUtils.js\";import{isArrayBuffer as r}from\"../../../core/typedArrayUtil.js\";import{conjugate as e}from\"../../../core/libs/gl-matrix-2/math/quat.js\";import{create as o}from\"../../../core/libs/gl-matrix-2/factories/quatf64.js\";import{w as a}from\"../../../chunks/vec32.js\";import{clone as i,create as f}from\"../../../core/libs/gl-matrix-2/factories/vec3f32.js\";import n from\"../../../geometry/SpatialReference.js\";import{projectBuffer as s}from\"../../../geometry/projection/projectBuffer.js\";import{readGeometry as u,getAttributeValues as l,evaluateRenderer as m,filterInPlace as b}from\"./i3s/PointCloudWorkerUtil.js\";import{Obb as p}from\"../support/orientedBoundingBox.js\";class c{transform(t){const e=this._transform(t),o=[e.points.buffer,e.rgb.buffer];null!=e.pointIdFilterMap&&o.push(e.pointIdFilterMap.buffer);for(const a of e.attributes)\"buffer\"in a.values&&r(a.values.buffer)&&a.values.buffer!==e.rgb.buffer&&o.push(a.values.buffer);return Promise.resolve({result:e,transferList:o})}_transform(r){const e=u(r.schema,r.geometryBuffer);let o=e.length/3,a=null;const i=new Array,f=l(r.primaryAttributeData,e,o);null!=r.primaryAttributeData&&f&&i.push({attributeInfo:r.primaryAttributeData.attributeInfo,values:f});const s=l(r.modulationAttributeData,e,o);null!=r.modulationAttributeData&&s&&i.push({attributeInfo:r.modulationAttributeData.attributeInfo,values:s});let c=m(r.rendererInfo,f,s,o);if(r.filterInfo&&r.filterInfo.length>0&&null!=r.filterAttributesData){const f=r.filterAttributesData.filter(t).map((t=>{const r=l(t,e,o),a={attributeInfo:t.attributeInfo,values:r};return i.push(a),a}));a=new Uint32Array(o),o=b(e,c,a,r.filterInfo,f)}for(const t of r.userAttributesData){const r=l(t,e,o);i.push({attributeInfo:t.attributeInfo,values:r})}3*o<c.length&&(c=new Uint8Array(c.buffer.slice(0,3*o))),I(e,o,r.elevationOffset);const A=h(e,o,p.fromData(r.obbData),n.fromJSON(r.inSR),n.fromJSON(r.outSR));return{obbData:r.obbData,points:A,rgb:c,attributes:i,pointIdFilterMap:a}}}function h(t,r,o,n,u){if(!s(t,n,0,t,u,0,r))throw new Error(\"Can't reproject\");const l=i(o.center),m=f(),b=f(),p=i(o.halfSize);e(A,o.quaternion);const c=new Float32Array(3*r);for(let e=0;e<r;e++){let r=3*e;m[0]=t[r]-l[0],m[1]=t[r+1]-l[1],m[2]=t[r+2]-l[2],a(b,m,A),p[0]=Math.max(p[0],Math.abs(b[0])),p[1]=Math.max(p[1],Math.abs(b[1])),p[2]=Math.max(p[2],Math.abs(b[2])),c[r++]=m[0],c[r++]=m[1],c[r]=m[2]}return o.halfSize=p,c}function I(t,r,e){if(0!==e)for(let o=0;o<r;o++)t[3*o+2]+=e}const A=o();function g(){return new c}export{g as default};\n"],"names":["s","i","o","e","r","t","l","p","a","c","u","n","d","f","m","b","I","A","h","g"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12]}