import{b7 as r,bo as m}from"./main-DnzmeE4U.js";import{t as l}from"./utils-C1HQJ6Ct.js";import{e as c}from"./webStyleAcceptedFormats-DsfCZOwz.js";async function d(t,n,i){const a=t.thumbnail?.url;if(a){const e=p((await r(a,{responseType:"image"})).data,i);return i?.node?(i.node.appendChild(e),i.node):e}const o=await t.fetchSymbol({acceptedFormats:c});return o?n(o,i):null}function p(t,n){const i=!/\\.svg$/i.test(t.src)&&n?.disableUpsampling,a=Math.max(t.width,t.height);let o=n?.maxSize!=null?m(n.maxSize):l.maxSize;i&&(o=Math.min(a,o));const e=typeof n?.size=="number"?n?.size:null,h=Math.min(o,e!=null?m(e):a);if(h!==a){const s=t.width!==0&&t.height!==0?t.width/t.height:1;s>=1?(t.width=h,t.height=h/s):(t.width=h*s,t.height=h)}return t}export{d as previewWebStyleSymbol};
