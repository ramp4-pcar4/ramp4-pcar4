{"version":3,"file":"index-FSRY57qd.js","sources":["../../node_modules/@esri/calcite-components/dist/components/calcite-flow/customElement.js"],"sourcesContent":["import { c as r } from \"../../chunks/runtime.js\";\nimport { ref as c } from \"lit-html/directives/ref.js\";\nimport { html as l } from \"lit\";\nimport { LitElement as d, safeClassMap as m } from \"@arcgis/lumina\";\nimport { c as f } from \"../../chunks/observers.js\";\nimport { c as h } from \"../../chunks/loadable.js\";\nimport { z as u } from \"../../chunks/dom.js\";\nimport { css as p } from \"@lit/reactive-element/css-tag.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.0.3 */\nconst n = {\n  frame: \"frame\",\n  frameAdvancing: \"frame--advancing\",\n  frameRetreating: \"frame--retreating\"\n}, w = p`:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{position:relative;display:flex;inline-size:100%;flex:1 1 auto;align-items:stretch;overflow:hidden;background-color:transparent}:host .frame{position:relative;margin:0;display:flex;inline-size:100%;flex:1 1 auto;flex-direction:column;align-items:stretch;padding:0;animation-name:none;animation-duration:var(--calcite-animation-timing);background-color:var(--calcite-flow-background-color)}:host ::slotted(*){display:none;block-size:100%}:host ::slotted(*[selected]){display:flex}:host ::slotted(.calcite-match-height:last-child){display:flex;flex:1 1 auto;overflow:hidden}:host .frame--advancing{animation-name:calcite-frame-advance}:host .frame--retreating{animation-name:calcite-frame-retreat}@keyframes calcite-frame-advance{0%{--tw-bg-opacity: .5;transform:translate3d(50px,0,0)}to{--tw-bg-opacity: 1;transform:translateZ(0)}}@keyframes calcite-frame-retreat{0%{--tw-bg-opacity: .5;transform:translate3d(-50px,0,0)}to{--tw-bg-opacity: 1;transform:translateZ(0)}}:host([hidden]){display:none}[hidden]{display:none}`;\nclass g extends d {\n  // #endregion\n  // #region Lifecycle\n  constructor() {\n    super(), this.itemMutationObserver = f(\"mutation\", () => this.updateItemsAndProps()), this.items = [], this.selectedIndex = -1, this.flowDirection = \"standby\", this.listen(\"calciteInternalFlowItemChange\", this.handleCalciteInternalFlowItemChange), this.listen(\"calciteFlowItemBack\", this.handleItemBackClick);\n  }\n  static {\n    this.properties = { flowDirection: 16, customItemSelectors: 1 };\n  }\n  static {\n    this.styles = w;\n  }\n  // #endregion\n  // #region Public Methods\n  /**\n   * Removes the currently active `calcite-flow-item`.\n   *\n   * @returns Promise<HTMLCalciteFlowItemElement | FlowItemLikeElement>\n   */\n  async back() {\n    const { items: e, selectedIndex: i } = this, t = e[i], a = e[i - 1];\n    if (!t || !a)\n      return;\n    const s = t.beforeBack ? t.beforeBack : () => Promise.resolve();\n    try {\n      await s.call(t);\n    } catch {\n      return;\n    }\n    return t.selected = !1, a.selected = !0, a;\n  }\n  /**\n   * Sets focus on the component.\n   *\n   * @returns Promise<void>\n   */\n  async setFocus() {\n    await h(this);\n    const { items: e } = this;\n    return e[this.selectedIndex]?.setFocus();\n  }\n  connectedCallback() {\n    super.connectedCallback(), this.itemMutationObserver?.observe(this.el, { childList: !0, subtree: !0 });\n  }\n  load() {\n  }\n  willUpdate(e) {\n    e.has(\"flowDirection\") && (this.hasUpdated || this.flowDirection !== \"standby\") && this.handleFlowDirectionChange(this.flowDirection);\n  }\n  loaded() {\n    this.updateItemsAndProps();\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback(), this.itemMutationObserver?.disconnect();\n  }\n  // #endregion\n  // #region Private Methods\n  async handleFlowDirectionChange(e) {\n    e !== \"standby\" && (await u(this.frameEl, e === \"retreating\" ? \"calcite-frame-retreat\" : \"calcite-frame-advance\"), this.resetFlowDirection());\n  }\n  handleCalciteInternalFlowItemChange(e) {\n    e.stopPropagation(), this.updateFlowProps();\n  }\n  async handleItemBackClick(e) {\n    if (!e.defaultPrevented)\n      return await this.back(), this.setFocus();\n  }\n  resetFlowDirection() {\n    this.flowDirection = \"standby\";\n  }\n  getFlowDirection(e, i) {\n    const t = e > 0;\n    return !(e > -1 && i > 0) && !t ? \"standby\" : i < e ? \"retreating\" : \"advancing\";\n  }\n  updateItemsAndProps() {\n    const { customItemSelectors: e, el: i } = this, t = Array.from(i.querySelectorAll(`calcite-flow-item${e ? `,${e}` : \"\"}`)).filter((a) => a.closest(\"calcite-flow\") === i);\n    this.items = t, this.ensureSelectedFlowItemExists(), this.updateFlowProps();\n  }\n  updateFlowProps() {\n    const { selectedIndex: e, items: i } = this, t = this.findSelectedFlowItemIndex(i);\n    i.forEach((a, s) => {\n      const o = s === t;\n      o || (a.menuOpen = !1), a.showBackButton = o && t > 0;\n    }), t !== -1 && (e !== t && (this.flowDirection = this.getFlowDirection(e, t)), this.selectedIndex = t);\n  }\n  findSelectedFlowItemIndex(e) {\n    const i = e.slice(0).reverse().find((t) => !!t.selected);\n    return e.indexOf(i);\n  }\n  ensureSelectedFlowItemExists() {\n    const { items: e } = this;\n    if (this.findSelectedFlowItemIndex(e) !== -1)\n      return;\n    const t = e[e.length - 1];\n    t && (t.selected = !0);\n  }\n  setFrameEl(e) {\n    this.frameEl = e;\n  }\n  // #endregion\n  // #region Rendering\n  render() {\n    const { flowDirection: e } = this, i = {\n      [n.frame]: !0,\n      [n.frameAdvancing]: e === \"advancing\",\n      [n.frameRetreating]: e === \"retreating\"\n    };\n    return l`<div class=${m(i)} ${c(this.setFrameEl)}><slot></slot></div>`;\n  }\n}\nr(\"calcite-flow\", g);\nexport {\n  g as Flow\n};\n"],"names":["n","p","d","f","i","t","h","u","o","l","m","c","r"],"mappings":"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","x_google_ignoreList":[0]}