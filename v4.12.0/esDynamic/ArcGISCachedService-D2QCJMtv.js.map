{"version":3,"file":"ArcGISCachedService-D2QCJMtv.js","sources":["../../node_modules/@arcgis/core/layers/support/TileInfoTilemapCache.js","../../node_modules/@arcgis/core/geometry/support/UintArray.js","../../node_modules/@arcgis/core/layers/support/Tilemap.js","../../node_modules/@arcgis/core/layers/support/TilemapCache.js","../../node_modules/@arcgis/core/layers/mixins/ArcGISCachedService.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport l from\"../../core/Error.js\";import{waitTick as t,isAbortError as i}from\"../../core/promiseUtils.js\";class e{constructor(l,t=0,i=l.lods[l.lods.length-1].level){this.tileInfo=l,this.minLOD=t,this.maxLOD=i,l.lodAt(t)||(this.minLOD=l.lods[0].level),l.lodAt(i)||(this.maxLOD=l.lods[l.lods.length-1].level)}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(l,t,i){const e=this.tileInfo?.lodAt(l);return!e||l<this.minLOD||l>this.maxLOD?\"unavailable\":e.cols&&e.rows?i>=e.cols[0]&&i<=e.cols[1]&&t>=e.rows[0]&&t<=e.rows[1]?\"unknown\":\"unavailable\":\"unknown\"}async fetchAvailability(i,e,o,s){await t(s);const a=this.getAvailability(i,e,o);if(\"unavailable\"===a)throw new l(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:i,row:e,col:o});return a}async fetchAvailabilityUpsample(l,e,o,s,a){await t(a),s.level=l,s.row=e,s.col=o;const n=this.tileInfo;return n.updateTileInfo(s),this.fetchAvailability(l,e,o,a).catch((l=>{if(i(l))throw l;if(n.upsampleTile(s))return this.fetchAvailabilityUpsample(s.level,s.row,s.col,s,a);throw l}))}}export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{nativeArrayMaxSize as r}from\"../../core/typedArrayUtil.js\";function n(n,e=!1){return n<=r?e?new Array(n).fill(0):new Array(n):new Uint32Array(n)}function e(r,n,e){return Array.isArray(r)?r.slice(n,n+e):r.subarray(n,n+e)}export{n as newUintArray,e as uintSubArray};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import i from\"../../core/Error.js\";import{clone as e}from\"../../core/lang.js\";import{estimateNumberArrayMemory as a}from\"../../core/memoryEstimations.js\";import{newUintArray as o}from\"../../geometry/support/UintArray.js\";class l{constructor(t){s(t);const{location:i,data:l}=t;this.location=Object.freeze(e(i));const r=this.location.width,n=this.location.height;let h=!0,c=!0;const m=Math.ceil(r*n/32),f=o(m);let w=0;for(let e=0;e<l.length;e++){const t=e%32;l[e]?(c=!1,f[w]|=1<<t):h=!1,31===t&&++w}c?(this._availability=\"unavailable\",this.byteSize=40):h?(this._availability=\"available\",this.byteSize=40):(this._availability=f,this.byteSize=40+a(f))}getAvailability(t,i){if(\"unavailable\"===this._availability||\"available\"===this._availability)return this._availability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%32,o=e>>5,l=this._availability;return o<0||o>l.length?\"unknown\":l[o]&1<<a?\"available\":\"unavailable\"}static fromDefinition(e,a){const o=e.service.request||t,{row:r,col:s,width:h,height:c}=e,m={query:{f:\"json\"}};return a=a?{...m,...a}:m,o(n(e),a).then((t=>t.data)).catch((t=>{if(422===t?.details?.httpStatus)return{location:{top:r,left:s,width:h,height:c},valid:!0,data:new Array(h*c).fill(0)};throw t})).then((t=>{if(t.location&&(t.location.top!==r||t.location.left!==s||t.location.width!==h||t.location.height!==c))throw new i(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:r,left:s,width:h,height:c}});return l.fromJSON(t)}))}static fromJSON(t){return Object.freeze(new l(t))}}function r(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function n(t){let i;if(t.service.tileServers?.length){const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}else i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;const e=t.service.query;return e&&(i=`${i}?${e}`),i}function s(t){if(!t?.location)throw new i(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new i(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new i(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new i(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new i(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}export{l as Tilemap,r as tilemapDefinitionId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import i from\"../../core/Accessor.js\";import{ByteSizeUnit as r}from\"../../core/ByteSizeUnit.js\";import s from\"../../core/Error.js\";import{makeHandle as l}from\"../../core/handleUtils.js\";import\"../../core/has.js\";import{LRUCache as o}from\"../../core/LRUCache.js\";import a from\"../../core/PooledArray.js\";import{isAbortError as n,isAborted as c,onAbort as h,createAbortError as p}from\"../../core/promiseUtils.js\";import{watch as m,initial as f}from\"../../core/reactiveUtils.js\";import{waitTicks as u}from\"../../core/scheduling.js\";import{objectToQuery as v}from\"../../core/urlUtils.js\";import{property as y}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{TileKey as _}from\"./TileKey.js\";import{Tilemap as b,tilemapDefinitionId as g}from\"./Tilemap.js\";var j;function w(e,t,i){return new s(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i})}let T=j=class extends i{constructor(e){super(e),this._pendingTilemapRequests={},this.request=t,this.size=32,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new o(2*r.MEGABYTES),this.addHandles(m((()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]}),(()=>this._initializeTilemapDefinition()),f))}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}getAvailability(e,t,i){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return\"unavailable\";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):\"unknown\"}fetchAvailability(e,t,i,r){return!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD?Promise.reject(w(e,t,i)):this._fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof b){const s=r.getAvailability(t,i);if(\"unavailable\"===s)throw w(e,t,i);return s}if(n(r))throw r;return\"unknown\"}))}fetchAvailabilityUpsample(e,t,i,r,s){r.level=e,r.row=t,r.col=i;const l=this.layer.tileInfo;l.updateTileInfo(r);const o=this.fetchAvailability(e,t,i,s).catch((e=>{if(n(e))throw e;if(l.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r,s);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,s,o),o}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,s,o){if(!this._prefetchingEnabled||null==e)return;const a=`prefetch-${e}`;if(this.hasHandles(a))return;const n=new AbortController;o.then((()=>n.abort()),(()=>n.abort()));let h=!1;const p=l((()=>{h||(h=!0,n.abort())}));if(this.addHandles(p,a),await u(10,n.signal).catch((()=>{})),h||(h=!0,this.removeHandles(a)),c(n))return;const m=new _(e,t,i,r),f={...s,signal:n.signal},v=this.layer.tileInfo;for(let l=0;j._prefetches.length<j._maxPrefetch&&v.upsampleTile(m);++l){const e=this.fetchAvailability(m.level,m.row,m.col,f);j._prefetches.push(e);const t=()=>{j._prefetches.removeUnordered(e)};e.then(t,t)}}_fetchTilemap(e,t,i,r){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return Promise.reject(new s(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const l=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,i,l);if(o)return Promise.resolve(o);const a=r?.signal;return r={...r,signal:null},new Promise(((e,t)=>{h(a,(()=>t(p())));const i=g(l);let s=this._pendingTilemapRequests[i];if(!s){s=b.fromDefinition(l,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>{delete this._pendingTilemapRequests[i]};this._pendingTilemapRequests[i]=s,s.then(e,e)}s.then(e,t)}))}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:v({...e.query,...i,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const s=g(r);return this._tilemapCache.get(s)}get test(){}};T._maxPrefetch=4,T._prefetches=new a({initialSize:j._maxPrefetch}),e([y({constructOnly:!0})],T.prototype,\"layer\",void 0),e([y({constructOnly:!0})],T.prototype,\"minLOD\",void 0),e([y({constructOnly:!0})],T.prototype,\"maxLOD\",void 0),e([y({constructOnly:!0})],T.prototype,\"request\",void 0),e([y({constructOnly:!0})],T.prototype,\"size\",void 0),T=j=e([d(\"esri.layers.support.TilemapCache\")],T);export{T as TilemapCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{reader as r}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"../../geometry/SpatialReference.js\";import i from\"../support/TileInfo.js\";import a from\"../support/TileInfoTilemapCache.js\";import{TilemapCache as s}from\"../support/TilemapCache.js\";const p=p=>{let n=class extends p{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(e,o){return null!=o.minLOD&&null!=o.maxLOD?e:0}readMaxScale(e,o){return null!=o.minLOD&&null!=o.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,o,r){const t=o.capabilities?.includes(\"Tilemap\");let{minLOD:l,maxLOD:p,minScale:n,maxScale:c}=o;if(null==l&&null==p&&(0!==n||0!==c)){const e=e=>Math.round(1e4*e)/1e4;n=e(n||o.tileInfo.lods[0].scale),c=e(c||o.tileInfo.lods[o.tileInfo.lods.length-1].scale);for(const r of o.tileInfo.lods){const o=e(r.scale);l=o>=n?r.level:l,p=o>=c?r.level:p}}if(t)return new s({layer:this,minLOD:l,maxLOD:p});if(o.tileInfo){const e=new i;return e.read(o.tileInfo,r),new a(e,l,p)}return null}};return e([o({json:{read:{source:\"copyrightText\"}}})],n.prototype,\"copyright\",void 0),e([o()],n.prototype,\"minScale\",void 0),e([r(\"service\",\"minScale\")],n.prototype,\"readMinScale\",null),e([o()],n.prototype,\"maxScale\",void 0),e([r(\"service\",\"maxScale\")],n.prototype,\"readMaxScale\",null),e([o({type:l})],n.prototype,\"spatialReference\",void 0),e([o({readOnly:!0})],n.prototype,\"supportsBlankTile\",null),e([o({type:i})],n.prototype,\"tileInfo\",void 0),e([o()],n.prototype,\"tilemapCache\",void 0),e([r(\"service\",\"tilemapCache\",[\"capabilities\",\"tileInfo\"])],n.prototype,\"readTilemapCache\",null),e([o()],n.prototype,\"version\",void 0),n=e([t(\"esri.layers.mixins.ArcGISCachedService\")],n),n};export{p as ArcGISCachedService};\n"],"names":["e","l","t","i","o","s","a","n","r","h","c","m","f","w","j","T","b","p","u","_","v","g","y","d"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}