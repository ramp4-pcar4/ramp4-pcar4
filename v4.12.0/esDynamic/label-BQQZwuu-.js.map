{"version":3,"file":"label-BQQZwuu-.js","sources":["../../node_modules/@esri/calcite-components/dist/chunks/label.js"],"sourcesContent":["import { q as k, k as m, l as w } from \"./dom.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.0.3 */\nconst h = \"calciteInternalLabelClick\", E = \"calciteInternalLabelConnected\", f = \"calciteInternalLabelDisconnected\", L = \"calcite-label\", r = /* @__PURE__ */ new WeakMap(), i = /* @__PURE__ */ new WeakMap(), c = /* @__PURE__ */ new WeakMap(), d = /* @__PURE__ */ new WeakMap(), s = /* @__PURE__ */ new Set(), y = (e) => {\n  const { id: t } = e, l = t && k(e, { selector: `${L}[for=\"${t}\"]` });\n  if (l)\n    return l;\n  const a = m(e, L);\n  return !a || // labelable components within other custom elements are not considered labelable\n  M(a, e) ? null : a;\n};\nfunction M(e, t) {\n  let l;\n  const a = \"custom-element-ancestor-check\", b = (n) => {\n    n.stopImmediatePropagation();\n    const u = n.composedPath();\n    l = u.slice(u.indexOf(t), u.indexOf(e));\n  };\n  return e.addEventListener(a, b, { once: !0 }), t.dispatchEvent(new CustomEvent(a, { composed: !0, bubbles: !0 })), e.removeEventListener(a, b), l.filter((n) => n !== t && n !== e).filter((n) => n.tagName?.includes(\"-\")).length > 0;\n}\nfunction v(e) {\n  if (!e)\n    return;\n  const t = y(e.el);\n  if (i.has(t) && t === e.labelEl || !t && s.has(e))\n    return;\n  const l = O.bind(e);\n  if (t) {\n    e.labelEl = t;\n    const a = r.get(t) || [];\n    a.push(e), r.set(t, a.sort(g)), i.has(e.labelEl) || (i.set(e.labelEl, C), e.labelEl.addEventListener(h, C)), s.delete(e), document.removeEventListener(E, c.get(e)), d.set(e, l), document.addEventListener(f, l);\n  } else s.has(e) || (l(), document.removeEventListener(f, d.get(e)));\n}\nfunction T(e) {\n  if (!e || (s.delete(e), document.removeEventListener(E, c.get(e)), document.removeEventListener(f, d.get(e)), c.delete(e), d.delete(e), !e.labelEl))\n    return;\n  const t = r.get(e.labelEl);\n  t.length === 1 && (e.labelEl.removeEventListener(h, i.get(e.labelEl)), i.delete(e.labelEl)), r.set(\n    e.labelEl,\n    t.filter((l) => l !== e).sort(g)\n  ), e.labelEl = null;\n}\nfunction g(e, t) {\n  return w(e.el, t.el) ? -1 : 1;\n}\nfunction I(e) {\n  return e.label || e.labelEl?.textContent?.trim() || \"\";\n}\nfunction C(e) {\n  const t = e.detail.sourceEvent.target, l = r.get(this), a = l.find((n) => n.el === t);\n  if (l.includes(a))\n    return;\n  const o = l[0];\n  o.disabled || o.onLabelClick(e);\n}\nfunction D() {\n  s.has(this) && v(this);\n}\nfunction O() {\n  s.add(this);\n  const e = c.get(this) || D.bind(this);\n  c.set(this, e), document.addEventListener(E, e);\n}\nasync function B(e) {\n  if (await e.componentOnReady(), r.has(e))\n    return;\n  const l = e.ownerDocument?.getElementById(e.for);\n  l && requestAnimationFrame(() => {\n    for (const a of s)\n      if (a.el === l) {\n        v(a);\n        break;\n      }\n  });\n}\nexport {\n  B as a,\n  f as b,\n  v as c,\n  T as d,\n  I as g,\n  E as l\n};\n"],"names":["E","L","r","i","s","y","l","k","a","m","M","b","n","O","C","T","w","I","o","D","B"],"mappings":"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","x_google_ignoreList":[0]}