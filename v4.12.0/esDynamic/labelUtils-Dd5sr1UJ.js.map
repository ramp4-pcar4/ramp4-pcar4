{"version":3,"file":"labelUtils-Dd5sr1UJ.js","sources":["../../node_modules/@arcgis/core/layers/support/labelUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{replace as e}from\"../../core/string.js\";const n=\"__begin__\",s=\"__end__\",r=new RegExp(n,\"ig\"),t=new RegExp(s,\"ig\"),l=new RegExp(\"^\"+n,\"i\"),o=new RegExp(s+\"$\",\"i\"),i='\"',a=i+\" + \",c=\" + \"+i;function p(e){return e.replaceAll(new RegExp(\"\\\\[\",\"g\"),\"{\").replaceAll(new RegExp(\"\\\\]\",\"g\"),\"}\")}function u(e){return e.replaceAll(new RegExp(\"\\\\{\",\"g\"),\"[\").replaceAll(new RegExp(\"\\\\}\",\"g\"),\"]\")}function x(e){const n={expression:\"\",type:\"none\"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(n.expression=e.labelExpressionInfo.value,n.type=\"conventional\"):e.labelExpressionInfo.expression&&(n.expression=e.labelExpressionInfo.expression,n.type=\"arcade\"):null!=e.labelExpression&&(n.expression=p(e.labelExpression),n.type=\"conventional\"),n}function f(e){const n=x(e);switch(n.type){case\"conventional\":return E(n.expression);case\"arcade\":return n.expression}return null}function g(e){const n=x(e);switch(n.type){case\"conventional\":return $(n.expression);case\"arcade\":return _(n.expression)}return null}function E(p){let u;return p?(u=e(p,(e=>n+'$feature[\"'+e+'\"]'+s)),u=l.test(u)?u.replace(l,\"\"):i+u,u=o.test(u)?u.replace(o,\"\"):u+i,u=u.replaceAll(r,a).replaceAll(t,c)):u='\"\"',u}const w=/^\\s*\\{([^}]+)\\}\\s*$/i;function $(e){const n=e?.match(w);return n?.[1].trim()||null}const b=/^\\s*(?:(?:\\$feature\\.(\\w+))|(?:\\$feature\\[([\"'])(.+)(\\2)\\]));?\\s*$/i,m=/^\\s*(?:(?:\\$feature\\.(\\w+))|(?:\\$feature\\[([\"'])(.+)(\\2)\\]));?\\s*(?:DomainName\\(\\s*\\$feature\\s*,\\s*([\"'])(\\1|\\3)(\\5)\\s*\\));?\\s*$/i,R=/^\\s*(?:DomainName\\(\\s*\\$feature\\s*,\\s*([\"'])(.+)(\\1)\\s*\\));?\\s*$/i;function _(e){if(!e)return null;let n=b.exec(e)||m.exec(e);return n?n[1]||n[3]:(n=R.exec(e),n?n[2]:null)}export{E as convertTemplatedStringToArcade,x as getLabelExpression,f as getLabelExpressionArcade,g as getLabelExpressionSingleField,_ as getSingleFieldArcadeExpression,$ as getSingleFieldTemplatedString,p as sqlToTemplateString,u as templateStringToSql};\n"],"names":["n","s","r","t","i","a","c","p","e","u","x","f","g","$","w"],"mappings":";AAI+C,MAAMA,IAAE,aAAYC,IAAE,WAAUC,IAAE,IAAI,OAAOF,GAAE,IAAI,GAAEG,IAAE,IAAI,OAAOF,GAAE,IAAI,GAAE,IAAE,IAAI,OAAO,MAAID,GAAE,GAAG,GAAE,IAAE,IAAI,OAAOC,IAAE,KAAI,GAAG,GAAEG,IAAE,KAAIC,IAAED,IAAE,OAAME,IAAE,QAAMF;AAAE,SAASG,EAAEC,GAAE;AAAC,SAAOA,EAAE,WAAW,IAAI,OAAO,OAAM,GAAG,GAAE,GAAG,EAAE,WAAW,IAAI,OAAO,OAAM,GAAG,GAAE,GAAG;AAAC;AAAC,SAASC,EAAED,GAAE;AAAC,SAAOA,EAAE,WAAW,IAAI,OAAO,OAAM,GAAG,GAAE,GAAG,EAAE,WAAW,IAAI,OAAO,OAAM,GAAG,GAAE,GAAG;AAAC;AAAC,SAASE,EAAEF,GAAE;AAAC,QAAMR,IAAE,EAAC,YAAW,IAAG,MAAK,OAAM;AAAE,SAAOQ,EAAE,sBAAoBA,EAAE,oBAAoB,SAAOR,EAAE,aAAWQ,EAAE,oBAAoB,OAAMR,EAAE,OAAK,kBAAgBQ,EAAE,oBAAoB,eAAaR,EAAE,aAAWQ,EAAE,oBAAoB,YAAWR,EAAE,OAAK,YAAgBQ,EAAE,mBAAR,SAA0BR,EAAE,aAAWO,EAAEC,EAAE,eAAe,GAAER,EAAE,OAAK,iBAAgBA;AAAC;AAAC,SAASW,EAAEH,GAAE;AAAC,QAAMR,IAAEU,EAAEF,CAAC;AAAE,UAAOR,EAAE,MAAI;AAAA,IAAE,KAAI;AAAe,aAAO,EAAEA,EAAE,UAAU;AAAA,IAAE,KAAI;AAAS,aAAOA,EAAE;AAAA,EAAU;AAAC,SAAO;AAAI;AAAC,SAASY,EAAEJ,GAAE;AAAC,QAAMR,IAAEU,EAAEF,CAAC;AAAE,UAAOR,EAAE,MAAI;AAAA,IAAE,KAAI;AAAe,aAAOa,EAAEb,EAAE,UAAU;AAAA,IAAE,KAAI;AAAS,aAAO,EAAEA,EAAE,UAAU;AAAA,EAAC;AAAC,SAAO;AAAI;AAAC,SAAS,EAAEO,GAAE;AAAC,MAAIE;AAAE,SAAOF,KAAGE,IAAED,EAAED,GAAG,CAAAC,MAAGR,IAAE,eAAaQ,IAAE,OAAKP,CAAC,GAAGQ,IAAE,EAAE,KAAKA,CAAC,IAAEA,EAAE,QAAQ,GAAE,EAAE,IAAEL,IAAEK,GAAEA,IAAE,EAAE,KAAKA,CAAC,IAAEA,EAAE,QAAQ,GAAE,EAAE,IAAEA,IAAEL,GAAEK,IAAEA,EAAE,WAAWP,GAAEG,CAAC,EAAE,WAAWF,GAAEG,CAAC,KAAGG,IAAE,MAAKA;AAAC;AAAC,MAAMK,IAAE;AAAuB,SAASD,EAAEL,GAAE;AAAqB,SAAZA,GAAG,MAAMM,CAAC,IAAa,CAAC,EAAE,KAAM,KAAE;AAAI;AAAC,MAAM,IAAE,uEAAsE,IAAE,qIAAoI,IAAE;AAAoE,SAAS,EAAEN,GAAE;AAAC,MAAG,CAACA,EAAE,QAAO;AAAK,MAAIR,IAAE,EAAE,KAAKQ,CAAC,KAAG,EAAE,KAAKA,CAAC;AAAE,SAAOR,IAAEA,EAAE,CAAC,KAAGA,EAAE,CAAC,KAAGA,IAAE,EAAE,KAAKQ,CAAC,GAAER,IAAEA,EAAE,CAAC,IAAE;AAAK;","x_google_ignoreList":[0]}