{"version":3,"file":"TextOverlayItem-pAuO460X.js","sources":["../../node_modules/@arcgis/core/libs/maquette/h.js","../../node_modules/@arcgis/core/views/overlay/TextOverlayItem.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nlet e=e=>({vnodeSelector:\"\",properties:void 0,children:void 0,text:e.toString(),domNode:null}),r=(t,o,n)=>{for(let l=0,i=o.length;l<i;l++){let i=o[l];Array.isArray(i)?r(t,i,n):null!=i&&!1!==i&&(\"string\"==typeof i&&(i=e(i)),n.push(i))}};function t(e,t,o){if(Array.isArray(t))o=t,t=void 0;else if(t&&(\"string\"==typeof t||t.hasOwnProperty(\"vnodeSelector\"))||o&&(\"string\"==typeof o||o.hasOwnProperty(\"vnodeSelector\")))throw new Error(\"h called with invalid arguments\");let n,l;return o&&1===o.length&&\"string\"==typeof o[0]?n=o[0]:o&&(l=[],r(e,o,l),0===l.length&&(l=void 0)),{vnodeSelector:e,properties:t,children:l,text:\"\"===n?void 0:n,domNode:null}}export{t as h};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../Color.js\";import o from\"../../core/Accessor.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../libs/maquette/projection.js\";import{h as s}from\"../../libs/maquette/h.js\";import\"../../libs/maquette/projector.js\";const l={bottom:\"esri-text-overlay-item-anchor-bottom\",\"bottom-right\":\"esri-text-overlay-item-anchor-bottom-right\",\"bottom-left\":\"esri-text-overlay-item-anchor-bottom-left\",top:\"esri-text-overlay-item-anchor-top\",\"top-right\":\"esri-text-overlay-item-anchor-top-right\",\"top-left\":\"esri-text-overlay-item-anchor-top-left\",center:\"esri-text-overlay-item-anchor-center\",right:\"esri-text-overlay-item-anchor-right\",left:\"esri-text-overlay-item-anchor-left\"};let n=class extends o{get position(){return[this.x,this.y]}set position(t){this._set(\"x\",t[0]),this._set(\"y\",t[1])}get _textShadowColor(){const{textColor:t,backgroundColor:e}=this,o=e.clone();return o.a*=t.a,o}get _textShadow(){const t=this._textShadowColor.toCss(!0);return`0 0 ${this._textShadowSize}px ${t}`}get padding(){return.5*this.fontSize}get borderRadius(){return this.padding}set borderRadius(t){this._overrideIfSome(\"borderRadius\",t)}constructor(t){super(t),this.x=0,this.y=0,this.text=\"-\",this.fontSize=14,this.anchor=\"center\",this.visible=!0,this.isDecoration=!0,this.backgroundColor=new e([0,0,0,.6]),this.textColor=new e([255,255,255]),this._textShadowSize=1}render(){return s(\"div\",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+\"px\",top:Math.floor(this.y)+\"px\",visibility:this.visible?\"visible\":\"hidden\",fontSize:this.fontSize+\"px\",lineHeight:this.fontSize+\"px\",backgroundColor:this.backgroundColor.toCss(!0),color:this.textColor.toCss(!0),padding:this.padding+\"px\",borderRadius:this.borderRadius+\"px\",textShadow:this._textShadow}},[this.text])}renderCanvas(t){if(!this.visible)return;const e=t.font.replace(/^(.*?)px/,\"\");t.font=`${this.fontSize}px ${e}`;const{padding:o,borderRadius:i}=this,r=t.measureText(this.text).width,s=\"\"!==this.text?this.fontSize:0,l=h[this.anchor];t.textAlign=\"center\",t.textBaseline=\"middle\";const n=r+2*o,a=s+2*o,x=this.x+l.x*n,d=this.y+l.y*a;this._roundedRect(t,x,d,n,a,i),t.fillStyle=this.backgroundColor.toCss(!0),t.fill();const p=this.x+(l.x+.5)*n,c=this.y+(l.y+.5)*a;this._renderTextShadow(t,this.text,p,c),t.fillStyle=this.textColor.toCss(!0),t.fillText(this.text,p,c)}_renderTextShadow(t,e,o,i){t.lineJoin=\"miter\",t.fillStyle=`rgba(${this._textShadowColor.r}, ${this._textShadowColor.g}, ${this._textShadowColor.b}, ${1/a.length})`;const r=this._textShadowSize;for(const[s,l]of a)t.fillText(e,o+r*s,i+r*l)}_roundedRect(t,e,o,i,r,s){s=Math.min(s,r/2,i/2),t.beginPath(),t.moveTo(e,o+s),t.arcTo(e,o,e+s,o,s),t.lineTo(e+i-s,o),t.arcTo(e+i,o,e+i,o+s,s),t.lineTo(e+i,o+r-s),t.arcTo(e+i,o+r,e+i-s,o+r,s),t.lineTo(e+s,o+r),t.arcTo(e,o+r,e,o+r-s,s),t.closePath()}_cssClasses(){const t={\"esri-text-overlay-item\":!0};let e;for(e in l)t[l[e]]=this.anchor===e;return t}};t([i()],n.prototype,\"x\",void 0),t([i()],n.prototype,\"y\",void 0),t([i()],n.prototype,\"position\",null),t([i()],n.prototype,\"text\",void 0),t([i()],n.prototype,\"fontSize\",void 0),t([i()],n.prototype,\"anchor\",void 0),t([i()],n.prototype,\"visible\",void 0),t([i()],n.prototype,\"isDecoration\",void 0),t([i()],n.prototype,\"backgroundColor\",void 0),t([i()],n.prototype,\"textColor\",void 0),t([i()],n.prototype,\"_textShadowSize\",void 0),t([i()],n.prototype,\"_textShadowColor\",null),t([i()],n.prototype,\"_textShadow\",null),t([i()],n.prototype,\"padding\",null),t([i()],n.prototype,\"borderRadius\",null),n=t([r(\"esri.views.overlay.TextOverlayItem\")],n);const h={bottom:{x:-.5,y:-1,textAlign:\"center\",textBaseline:\"bottom\"},\"bottom-left\":{x:0,y:-1,textAlign:\"left\",textBaseline:\"bottom\"},\"bottom-right\":{x:-1,y:-1,textAlign:\"right\",textBaseline:\"bottom\"},center:{x:-.5,y:-.5,textAlign:\"center\",textBaseline:\"middle\"},left:{x:0,y:-.5,textAlign:\"left\",textBaseline:\"middle\"},right:{x:-1,y:-.5,textAlign:\"right\",textBaseline:\"middle\"},top:{x:-.5,y:0,textAlign:\"center\",textBaseline:\"top\"},\"top-left\":{x:0,y:0,textAlign:\"left\",textBaseline:\"top\"},\"top-right\":{x:-1,y:0,textAlign:\"right\",textBaseline:\"top\"}},a=[];{const t=16;for(let e=0;e<360;e+=360/t)a.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}const x=n;export{x as default};\n"],"names":["e","r","o","n","l","i","t","s","h","a","x","d","p","c"],"mappings":"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","x_google_ignoreList":[0,1]}