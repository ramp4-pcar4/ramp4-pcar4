{"version":3,"file":"interfaces-D_DB_-WL.js","sources":["../../node_modules/@arcgis/core/views/3d/support/engineContent/line.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js","../../node_modules/@arcgis/core/views/3d/terrain/interfaces.js","../../node_modules/@arcgis/core/views/3d/terrain/Overlay.js","../../node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js","../../node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js","../../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTargets.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/renderPasses/RenderPassIdentifier.js","../../node_modules/@arcgis/core/views/3d/environment/Clouds.js","../../node_modules/@arcgis/core/views/3d/environment/CloudyWeather.js","../../node_modules/@arcgis/core/views/3d/environment/FoggyWeather.js","../../node_modules/@arcgis/core/views/3d/environment/RainyWeather.js","../../node_modules/@arcgis/core/views/3d/environment/SnowyWeather.js","../../node_modules/@arcgis/core/views/3d/environment/SunnyWeather.js","../../node_modules/@arcgis/core/views/3d/environment/weather.js","../../node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/TextureCubeBindUniform.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CloudsParallaxShading.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js","../../node_modules/@arcgis/core/chunks/TextureOnly.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Integer2PassUniform.js","../../node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js","../../node_modules/@arcgis/core/chunks/HighlightApply.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightApplyTechnique.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightDownsampleTechnique.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightPassParameters.js","../../node_modules/@arcgis/core/chunks/HighlightToSingle.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightToSingleTechnique.js","../../node_modules/@arcgis/core/chunks/SingleHighlightApply.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightApplyTechnique.js","../../node_modules/@arcgis/core/chunks/SingleHighlightBlur.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightBlurTechnique.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/Highlight.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRepository.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Update.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BindParameters.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/CascadeCamera.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowMap.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechniqueConfiguration.js","../../node_modules/@arcgis/core/chunks/OverlayCompositing.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositingTechnique.js","../../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js","../../node_modules/@arcgis/core/chunks/ColorMaterial.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechnique.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechniqueConfiguration.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js","../../node_modules/@arcgis/core/views/3d/support/renderInfoUtils/line.js","../../node_modules/@arcgis/core/layers/graphics/sources/interfaces.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{set as t,dist as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{ONES as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{getReferenceEllipsoid as n}from\"../../../../geometry/ellipsoidUtils.js\";import{lonLatToWebMercatorComparable as i}from\"../../../../geometry/projection/projectors.js\";import{newDoubleArray as a}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as l}from\"../../../../geometry/support/FloatArray.js\";import{getZeroIndexArray as u}from\"../../../../geometry/support/Indices.js\";import{ViewingMode as s}from\"../../../ViewingMode.js\";import{Attribute as c}from\"../../webgl-engine/lib/Attribute.js\";import{ContentObjectType as p}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Geometry as f}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as m}from\"../../webgl-engine/lib/VertexAttribute.js\";function b(t,e,r=null){const o=[],n=e.mapPositions;g(e,o);const i=o[0][1].data,a=o[0][1].indices.length,l=u(a);return h(e,o,l),j(e,o,l),T(e,o,l),D(e,o,l),w(e,o,l),y(e,o,l),E(e,o,i),new f(t,o,n,p.Line,r)}function g(t,e){const{attributeData:{position:r},removeDuplicateStartEnd:o}=t,n=A(r)&&o,i=r.length/3-(n?1:0),a=new Array(2*(i-1)),l=n?r.slice(0,-3):r;let u=0;for(let s=0;s<i-1;s++)a[u++]=s,a[u++]=s+1;e.push([m.POSITION,new c(l,a,3,n)])}function h(t,e,r){if(null!=t.attributeData.colorFeature)return;const n=t.attributeData.color;e.push([m.COLOR,new c(n??o,r,4)])}function T(t,e,r){t.attributeData.normal&&e.push([m.NORMAL,new c(t.attributeData.normal,r,3)])}function D(t,e,r){null!=t.attributeData.colorFeature&&e.push([m.COLORFEATUREATTRIBUTE,new c([t.attributeData.colorFeature],r,1,!0)])}function j(t,e,r){null==t.attributeData.sizeFeature&&e.push([m.SIZE,new c([t.attributeData.size??1],r,1,!0)])}function w(t,e,r){null!=t.attributeData.sizeFeature&&e.push([m.SIZEFEATUREATTRIBUTE,new c([t.attributeData.sizeFeature],r,1,!0)])}function y(t,e,r){null!=t.attributeData.opacityFeature&&e.push([m.OPACITYFEATUREATTRIBUTE,new c([t.attributeData.opacityFeature],r,1,!0)])}function E(r,o,u){if(null==r.overlayInfo||r.overlayInfo.renderCoordsHelper.viewingMode!==s.Global||!r.overlayInfo.spatialReference.isGeographic)return;const p=a(u.length),f=n(r.overlayInfo.spatialReference);for(let t=0;t<p.length;t+=3)i(u,t,p,t,f);const b=u.length/3,g=l(b+1);let h=I,T=F,D=0,j=0;t(h,p[j++],p[j++]),j++,g[0]=0;for(let n=1;n<b+1;++n)n===b&&(j=0),t(T,p[j++],p[j++]),j++,D+=e(h,T),g[n]=D,[h,T]=[T,h];o.push([m.DISTANCETOSTART,new c(g,o[0][1].indices,1,!0)])}function A(t){const e=t.length;return t[0]===t[e-3]&&t[1]===t[e-2]&&t[2]===t[e-1]}const I=r(),F=r();function R(t,e){if(null==t||0===t.length)return[];const r=[];return t.forEach((t=>{const o=t.length,n=a(3*o);t.forEach(((t,e)=>{n[3*e]=t[0],n[3*e+1]=t[1],n[3*e+2]=t[2]}));const i={attributeData:{position:n,normal:e},removeDuplicateStartEnd:!1};r.push(i)})),r}export{b as createGeometry,R as lineStripsToParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const t=e().vec3f(O.POSITION),f=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec4u8(O.COLOR),I=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OBJECTANDLAYERIDCOLOR);export{r as PositionColorLayout,t as PositionLayout,f as PositionUVLayout,I as PositionUVLayoutObjectAndLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{Material as r}from\"../lib/Material.js\";import{intersectTriangleGeometry as t}from\"../lib/RayIntersections.js\";class e extends r{intersect(r,e,i,s,o,n){return t(r,i,s,o,void 0,n)}}export{e as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst t={dash:[4,3],dot:[1,3],\"long-dash\":[8,3],\"short-dash\":[4,1],\"short-dot\":[1,1]},o={dash:t.dash,\"dash-dot\":[...t.dash,...t.dot],dot:t.dot,\"long-dash\":t[\"long-dash\"],\"long-dash-dot\":[...t[\"long-dash\"],...t.dot],\"long-dash-dot-dot\":[...t[\"long-dash\"],...t.dot,...t.dot],none:null,\"short-dash\":t[\"short-dash\"],\"short-dash-dot\":[...t[\"short-dash\"],...t[\"short-dot\"]],\"short-dash-dot-dot\":[...t[\"short-dash\"],...t[\"short-dot\"],...t[\"short-dot\"]],\"short-dot\":t[\"short-dot\"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return\"style\"===t?.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}export{h as createStipplePatternSimple,n as getStipplePatternForLinePattern,l as getStipplePatternForPatternStyle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar E,I;!function(E){E[E.ADD=0]=\"ADD\",E[E.UPDATE=1]=\"UPDATE\",E[E.REMOVE=2]=\"REMOVE\"}(E||(E={})),function(E){E[E.NONE=0]=\"NONE\",E[E.VISIBILITY=1]=\"VISIBILITY\",E[E.GEOMETRY=2]=\"GEOMETRY\",E[E.TRANSFORMATION=4]=\"TRANSFORMATION\",E[E.HIGHLIGHT=8]=\"HIGHLIGHT\",E[E.OCCLUDEE=16]=\"OCCLUDEE\"}(I||(I={}));export{E as DirtyOperation,I as DirtyState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar E,A,O;!function(E){E[E.INNER=0]=\"INNER\",E[E.OUTER=1]=\"OUTER\"}(E||(E={})),function(E){E[E.REGULAR=0]=\"REGULAR\",E[E.HAS_NORTH_POLE=1]=\"HAS_NORTH_POLE\",E[E.HAS_SOUTH_POLE=2]=\"HAS_SOUTH_POLE\",E[E.HAS_BOTH_POLES=3]=\"HAS_BOTH_POLES\"}(A||(A={})),function(E){E[E.FADING=0]=\"FADING\",E[E.IMMEDIATE=1]=\"IMMEDIATE\",E[E.UNFADED=2]=\"UNFADED\"}(O||(O={}));export{E as OverlayIndex,A as PatchType,O as TextureUpdate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as e,offset as t,copy as s}from\"../../../geometry/support/aaBoundingRect.js\";import{fromValues as i}from\"../webgl-engine/lib/LocalOriginFactory.js\";class n{constructor(){this._extent=e(),this.resolution=0,this.renderLocalOrigin=i(0,0,0,\"O\"),this.pixelRatio=1,this.mapUnitsPerPixel=1,this.canvasGeometries=new r}get extent(){return this._extent}setupGeometryViewsCyclical(e){this.setupGeometryView();const s=.001*e.range;if(this._extent[0]-s<=e.min){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];t(this._extent,e.range,0,s)}if(this._extent[2]+s>=e.max){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];t(this._extent,-e.range,0,s)}}setupGeometryView(){this.canvasGeometries.numViews=1,s(this.canvasGeometries.extents[0],this._extent)}hasSomeSizedView(){for(let e=0;e<this.canvasGeometries.numViews;e++){const t=this.canvasGeometries.extents[e];if(t[0]!==t[2]&&t[1]!==t[3])return!0}return!1}}class r{constructor(){this.extents=[e(),e(),e()],this.numViews=0}}export{n as Overlay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar o;!function(o){o[o.Color=0]=\"Color\",o[o.ColorNoRasterImage=1]=\"ColorNoRasterImage\",o[o.Highlight=2]=\"Highlight\",o[o.WaterNormal=3]=\"WaterNormal\",o[o.Occluded=4]=\"Occluded\",o[o.ObjectAndLayerIdColor=5]=\"ObjectAndLayerIdColor\"}(o||(o={}));export{o as OverlayContent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e}from\"../../../core/maybe.js\";class t{constructor(e,t,h){this._fbos=e,this._format=t,this._name=h}get valid(){return null!=this._handle?.getTexture()}dispose(){this._handle=e(this._handle)}get texture(){return this._handle?.getTexture()}bind(e,t,h){this._handle&&this._handle.fbo?.width===t&&this._handle.fbo?.height===h||(this._handle?.release(),this._handle=this._fbos.acquire(t,h,this._name,this._format)),e.bindFramebuffer(this._handle?.fbo)}generateMipMap(){this._handle?.getTexture()?.descriptor?.hasMipmap&&this._handle?.getTexture()?.generateMipmap()}}export{t as OverlayFramebufferObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{OverlayContent as e}from\"./OverlayContent.js\";import{OverlayFramebufferObject as r}from\"./OverlayFramebufferObject.js\";import{ColorFormat as o}from\"../webgl/formats.js\";import{ShaderOutput as t}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as l}from\"../webgl-engine/effects/geometry/olidUtils.js\";class s{constructor(e,t,l,s,i=o.RGBA_MIPMAP){this.output=l,this.content=s,this.fbo=new r(e,i,t)}get valid(){return this.fbo.valid}}class i{constructor(r){this.targets=[new s(r,\"overlay color\",t.Color,e.Color),new s(r,\"overlay IM color\",t.Color,e.ColorNoRasterImage),new s(r,\"overlay highlight\",t.Highlight,e.Highlight,o.RG),new s(r,\"overlay water\",t.Normal,e.WaterNormal),new s(r,\"overlay occluded\",t.Color,e.Occluded)],l()&&this.targets.push(new s(r,\"overlay olid\",t.ObjectAndLayerIdColor,e.ObjectAndLayerIdColor,o.RGBA))}getTexture(e){return this.targets[e]?.fbo.texture}dispose(){for(const e of this.targets)e.fbo.dispose()}computeValidity(){return this.targets.reduce(((e,r,o)=>r.valid?e|=1<<o:e),0)}}export{i as OverlayRenderTargets,s as RenderTargetDescriptor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar a;!function(a){a[a.Material=0]=\"Material\",a[a.ShadowMap=1]=\"ShadowMap\",a[a.Highlight=2]=\"Highlight\",a[a.ViewshedShadowMap=3]=\"ViewshedShadowMap\"}(a||(a={}));export{a as RenderPassIdentifier};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar n,e;function d(n){return null!=n&&!n.running}!function(n){n[n.Idle=0]=\"Idle\",n[n.Rendering=1]=\"Rendering\",n[n.Ready=2]=\"Ready\",n[n.Fading=3]=\"Fading\"}(n||(n={})),function(n){n[n.RG=0]=\"RG\",n[n.BA=1]=\"BA\",n[n.COUNT=2]=\"COUNT\"}(e||(e={}));export{e as CloudsTextureChannels,n as CubeMapState,d as ensureClouds};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var c;let p=c=class extends r{constructor(o){super(o),this.type=\"cloudy\",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};o([s({cloudy:\"cloudy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),p=c=o([t(\"esri.views.3d.environment.CloudyWeather\")],p);const i=p;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var p;let c=p=class extends r{constructor(o){super(o),this.type=\"foggy\",this.fogStrength=.5}clone(){return new p({fogStrength:this.fogStrength})}};o([t({foggy:\"foggy\"}),e({json:{write:{isRequired:!0}}})],c.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],c.prototype,\"fogStrength\",void 0),c=p=o([s(\"esri.views.3d.environment.FoggyWeather\")],c);const i=c;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";var s;let p=s=class extends r{constructor(o){super(o),this.type=\"rainy\",this.cloudCover=.5,this.precipitation=.5}clone(){return new s({cloudCover:this.cloudCover,precipitation:this.precipitation})}};o([t({rainy:\"rainy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),p=s=o([i(\"esri.views.3d.environment.RainyWeather\")],p);const n=p;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var i;let p=i=class extends r{constructor(o){super(o),this.type=\"snowy\",this.cloudCover=.5,this.precipitation=.5,this.snowCover=\"disabled\"}clone(){return new i({cloudCover:this.cloudCover,precipitation:this.precipitation,snowCover:this.snowCover})}};o([t({snowy:\"snowy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),o([e({type:[\"enabled\",\"disabled\"],nonNullable:!0,json:{write:!0}})],p.prototype,\"snowCover\",void 0),p=i=o([s(\"esri.views.3d.environment.SnowyWeather\")],p);const n=p;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var c;let n=c=class extends r{constructor(o){super(o),this.type=\"sunny\",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};o([s({sunny:\"sunny\"}),e({json:{write:{isRequired:!0}}})],n.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],n.prototype,\"cloudCover\",void 0),n=c=o([t(\"esri.views.3d.environment.SunnyWeather\")],n);const p=n;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"./CloudyWeather.js\";import r from\"./FoggyWeather.js\";import o from\"./RainyWeather.js\";import t from\"./SnowyWeather.js\";import y from\"./SunnyWeather.js\";const n={key:\"type\",base:y,typeMap:{sunny:y,cloudy:e,rainy:o,snowy:t,foggy:r}},a=Object.keys(n.typeMap);function s(e,r){return!!a.includes(e)||(r.error(`\"${e}\" is not a valid weather type`),!1)}const p=1e4,i=1e5;export{i as cloudsHeight,p as heightLimit,s as validateWeatherType,n as weatherTypes,a as weatherTypesArray};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{neverReached as a}from\"../../../core/compilerUtils.js\";import{clamp as t}from\"../../../core/mathUtils.js\";import{signal as e}from\"../../../core/signal.js\";import{rotate as s}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as r}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{k as h,n as o,h as n,c,l as d,d as l}from\"../../../chunks/vec32.js\";import{create as _,fromValues as u}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as F,fromPoints as f,axis as p}from\"../../../geometry/support/axisAngleDegrees.js\";import{earth as S}from\"../../../geometry/support/Ellipsoid.js\";import{CloudsTextureChannels as m,ensureClouds as E,CubeMapState as D}from\"./Clouds.js\";import{heightLimit as P}from\"./weather.js\";class x{constructor(){this.startTime=0,this._data=e(null),this._readChannels=m.RG,this.parallax=new O,this.parallaxNew=new O,this._anchorPoint=_(),this._fadeState=e(A.HIDE),this._fadeFactor=e(1)}get data(){return this._data.value}set data(a){this._data.value=a}get readChannels(){return this._readChannels}get fadeState(){return this._fadeState.value}get fadeFactor(){return this._fadeFactor.value}get opacity(){switch(this.fadeState){case A.HIDE:return 0;case A.FADE_OUT:return 1-this.fadeFactor;case A.FADE_IN:return this.fadeFactor;case A.SHOW:case A.CROSS_FADE:return 1}}fade(a,e,s){this.isFading&&this.fadeFactor<1&&(this._fadeFactor.value=s?t((e-this.startTime)/(H*s),0,1):1,1===this.fadeFactor&&this._endFade()),this._evaluateState(a,e),this._updateParallax(a)}_evaluateState(a,t){const e=a.relativeElevation,s=this._updateAnchorPoint(a);(e>1.7*P||e<-1e4||s>I)&&this.opacity>0?this._startFade(A.HIDE,t):this.isFading||(e>P||e<-.35*P||s>w*I?this.opacity>0&&this._startFade(A.FADE_OUT,t):E(this.data)&&(0===this.opacity?this._startFade(A.FADE_IN,t):this.data.state===D.Ready&&(this.fadeState===A.SHOW?this._startFade(A.CROSS_FADE,t):this._startFade(A.SHOW,t))))}_updateParallax(a){const t=h(a.eye);this.parallax.radiusCurvatureCorrection=.84*Math.sqrt(Math.max(t-S.radius*S.radius,0))/Math.sqrt(t),f(C,this.parallax.anchorPoint,v),s(this.parallax.transform,i,v[3],p(v)),f(C,this.parallaxNew.anchorPoint,v),s(this.parallaxNew.transform,i,v[3],p(v))}_updateAnchorPoint(a){return o(this._anchorPoint,a.eye),n(this._anchorPoint,this._anchorPoint,S.radius),this.fadeState===A.HIDE&&this.data?.state===D.Ready?(c(this.parallax.anchorPoint,this._anchorPoint),0):d(l(g,this.parallax.anchorPoint,this._anchorPoint))}requestFade(){this._fadeFactor.value=0}_startFade(a,t){switch(this._fadeState.value=a,this.startTime=t,a){case A.CROSS_FADE:this.requestFade(),this._switchReadChannels(),c(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_IN:this.requestFade(),this._switchReadChannels(),c(this.parallax.anchorPoint,this._anchorPoint),c(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_OUT:this.requestFade();break;case A.SHOW:this._switchReadChannels(),c(this.parallax.anchorPoint,this._anchorPoint),c(this.parallaxNew.anchorPoint,this._anchorPoint),this._endFade();break;case A.HIDE:this._endFade()}}_endFade(){switch(this._fadeFactor.value=1,this.data&&this.data.state!==D.Ready&&(this.data.state=D.Idle),this.fadeState){case A.CROSS_FADE:c(this.parallax.anchorPoint,this.parallaxNew.anchorPoint),this._fadeState.value=A.SHOW;break;case A.FADE_IN:this._fadeState.value=A.SHOW;break;case A.FADE_OUT:this._fadeState.value=A.HIDE;break;case A.SHOW:case A.HIDE:break;default:a(this.fadeState)}}_switchReadChannels(){this.data?.state===D.Ready&&(this._readChannels=1-this._readChannels,this.data.state=D.Fading)}get isFading(){return this.fadeState===A.FADE_OUT||this.fadeState===A.FADE_IN||this.fadeState===A.CROSS_FADE}}var A;!function(a){a[a.HIDE=0]=\"HIDE\",a[a.FADE_IN=1]=\"FADE_IN\",a[a.SHOW=2]=\"SHOW\",a[a.CROSS_FADE=3]=\"CROSS_FADE\",a[a.FADE_OUT=4]=\"FADE_OUT\"}(A||(A={}));class O{constructor(){this.anchorPoint=_(),this.radiusCurvatureCorrection=0,this.transform=r()}}const C=u(0,0,1),v=F(),g=_(),H=1.25,w=.5,I=2e5;export{x as CloudsParameters,A as FadeState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BindType as e}from\"../../../../webgl/BindType.js\";import{Uniform as r}from\"../../../../webgl/Uniform.js\";class o extends r{constructor(r,o){super(r,\"samplerCube\",e.Bind,((e,s)=>e.bindTexture(r,o(s))))}}export{o as TextureCubeBindUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{fromValues as o}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{earth as t}from\"../../../../../../geometry/support/Ellipsoid.js\";import{CloudsTextureChannels as e}from\"../../../../environment/Clouds.js\";import{FadeState as a}from\"../../../../environment/CloudsParameters.js\";import{cloudsHeight as r}from\"../../../../environment/weather.js\";import{addMainLightDirection as i,addMainLightIntensity as c}from\"../shading/MainLighting.glsl.js\";import{BooleanBindUniform as d}from\"../../shaderModules/BooleanBindUniform.js\";import{Float3BindUniform as n}from\"../../shaderModules/Float3BindUniform.js\";import{FloatBindUniform as l}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as s}from\"../../shaderModules/glsl.js\";import{Matrix4BindUniform as u}from\"../../shaderModules/Matrix4BindUniform.js\";import{TextureCubeBindUniform as m}from\"../../shaderModules/TextureCubeBindUniform.js\";function h(t){const r=t.fragment;r.constants.add(\"radiusCloudsSquared\",\"float\",C).code.add(s`vec3 intersectWithCloudLayer(vec3 dir, vec3 cameraPosition, vec3 spherePos) {\nfloat B = 2.0 * dot(cameraPosition, dir);\nfloat C = dot(cameraPosition, cameraPosition) - radiusCloudsSquared;\nfloat det = B * B - 4.0 * C;\nfloat pointIntDist = max(0.0, 0.5 *(-B + sqrt(det)));\nreturn (cameraPosition + dir * pointIntDist) - spherePos;\n}`),r.uniforms.add(new l(\"radiusCurvatureCorrection\",(({clouds:o})=>o.parallax.radiusCurvatureCorrection))).code.add(s`vec3 correctForPlanetCurvature(vec3 dir) {\ndir.z = dir.z * (1.0 - radiusCurvatureCorrection) + radiusCurvatureCorrection;\nreturn dir;\n}`),r.code.add(s`vec3 rotateDirectionToAnchorPoint(mat4 rotMat, vec3 inVec) {\nreturn (rotMat * vec4(inVec, 0.0)).xyz;\n}`),i(r),c(r);const h=o(.28,.175,.035);r.constants.add(\"RIM_COLOR\",\"vec3\",h);const v=.3,f=140,p=.2,g=10,w=.3;r.code.add(s`\n    vec3 calculateCloudColor(vec3 cameraPosition, vec3 worldSpaceRay, vec4 clouds) {\n      float upDotLight = dot(cameraPosition, mainLightDirection);\n      float dirDotLight = max(dot(worldSpaceRay, mainLightDirection), 0.0);\n      float sunsetTransition = clamp(pow(max(upDotLight, 0.0), ${s.float(v)}), 0.0, 1.0);\n\n      // Base color of the clouds that depends on lighting of the sun and sky\n      vec3 ambientLight = calculateAmbientIrradiance(cameraPosition,  0.0);\n      vec3 combinedLight = clamp((mainLightIntensity + ambientLight )/PI, vec3(0.0), vec3(1.0));\n      vec3 baseCloudColor = pow(combinedLight * pow(clouds.xyz, vec3(GAMMA)), vec3(INV_GAMMA));\n\n      // Rim light around the edge of the clouds simulating scattering of the direct lun light\n      float scatteringMod = max(clouds.a < 0.5 ? clouds.a / 0.5 : - clouds.a / 0.5 + 2.0, 0.0);\n      float rimLightIntensity = 0.5 + 0.5 * pow(max(upDotLight, 0.0), 0.35);\n      vec3 directSunScattering = RIM_COLOR * rimLightIntensity * (pow(dirDotLight, ${s.float(f)})) * scatteringMod;\n\n      // Brighten the clouds around the sun at the sunsets\n      float additionalLight = ${s.float(p)} * pow(dirDotLight, ${s.float(g)}) * (1. - pow(sunsetTransition, ${s.float(w)})) ;\n\n      return vec3(baseCloudColor * (1.0 + additionalLight) + directSunScattering);\n    }\n  `),r.uniforms.add(new d(\"readChannelsRG\",(o=>o.clouds.readChannels===e.RG)),new m(\"cubeMap\",(o=>o.clouds.data?.cubeMap?.colorTexture??null))).code.add(s`vec4 sampleCloud(vec3 rayDir, bool readOtherChannel) {\nvec4 s = texture(cubeMap, rayDir);\nbool readRG = readChannelsRG ^^ readOtherChannel;\ns = readRG ? vec4(vec3(s.r), s.g) : vec4(vec3(s.b), s.a);\nreturn length(s) == 0.0 ? vec4(s.rgb, 1.0) : s;\n}`),r.uniforms.add(new n(\"anchorPoint\",(o=>o.clouds.parallax.anchorPoint)),new n(\"anchorPointNew\",(o=>o.clouds.parallaxNew.anchorPoint)),new u(\"rotationClouds\",(o=>o.clouds.parallax.transform)),new u(\"rotationCloudsNew\",(o=>o.clouds.parallaxNew.transform)),new l(\"cloudsOpacity\",(o=>o.clouds.opacity)),new l(\"fadeFactor\",(o=>o.clouds.fadeFactor)),new d(\"crossFade\",(o=>o.clouds.fadeState===a.CROSS_FADE))).code.add(s`vec4 renderClouds(vec3 worldRay, vec3 cameraPosition) {\nvec3 intersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPoint);\nvec3 worldRayRotated = rotateDirectionToAnchorPoint(rotationClouds, normalize(intersectionPoint));\nvec3 worldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);\nvec4 cloudData = sampleCloud(worldRayRotatedCorrected, crossFade);\nvec3 cameraPositionN = normalize(cameraPosition);\nvec4 cloudColor = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);\nif(crossFade) {\nintersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPointNew);\nworldRayRotated = rotateDirectionToAnchorPoint(rotationCloudsNew, normalize(intersectionPoint));\nworldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);\ncloudData = sampleCloud(worldRayRotatedCorrected, false);\nvec4 cloudColorNew = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);\ncloudColor = mix(cloudColor, cloudColorNew, fadeFactor);\n}\nfloat totalTransmittance = length(cloudColor.rgb) == 0.0 ?\n1.0 :\nclamp(cloudColor.a * cloudsOpacity + (1.0 - cloudsOpacity), 0.0 , 1.0);\nreturn vec4(cloudColor.rgb, totalTransmittance);\n}`)}const C=(t.radius+r)**2;export{h as CloudsParallaxShading};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{hasArea as o,width as r,height as t}from\"../../../../../../geometry/support/aaBoundingRect.js\";import{OverlayIndex as a}from\"../../../../terrain/interfaces.js\";import{OverlayContent as l}from\"../../../../terrain/OverlayContent.js\";import{RenderPassIdentifier as i}from\"../../renderPasses/RenderPassIdentifier.js\";import{isColorOrColorEmission as n,ShaderOutput as v}from\"../ShaderOutput.js\";import{addMainLightDirection as d,addMainLightIntensity as s}from\"../shading/MainLighting.glsl.js\";import{PBRMode as c}from\"../shading/PhysicallyBasedRenderingParameters.glsl.js\";import{Water as x}from\"../shading/Water.glsl.js\";import{Float4DrawUniform as u}from\"../../shaderModules/Float4DrawUniform.js\";import{FloatPassUniform as y}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as m}from\"../../shaderModules/glsl.js\";import{Texture2DPassUniform as p}from\"../../shaderModules/Texture2DPassUniform.js\";import{Uniform as f}from\"../../../../../webgl/Uniform.js\";var C;function g(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new u(\"overlayTexOffset\",((e,o)=>b(e,o))),new u(\"overlayTexScale\",((e,o)=>V(e,o)))),t.constants.add(\"overlayOpacity\",\"float\",1),t.uniforms.add(new p(\"ovColorTex\",((e,o)=>T(e,o)))),h(e,o)}function O(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new w(\"overlayTexOffset\"),new w(\"overlayTexScale\")),t.uniforms.add(new y(\"overlayOpacity\",(e=>e.overlayOpacity)),new p(\"ovColorTex\",((e,o)=>o.overlay?.getTexture(e.overlayContent)))),h(e,o)}function h(e,o){const r=o.pbrMode===c.Water||o.pbrMode===c.WaterOnIntegratedMesh||o.pbrMode===c.TerrainWithWater;r&&e.include(x,o);const{vertex:t,fragment:a}=e;e.varyings.add(\"vtcOverlay\",\"vec4\"),t.code.add(m`void setOverlayVTC(in vec2 uv) {\nvtcOverlay = vec4(uv, uv) * overlayTexScale + overlayTexOffset;\n}`),a.code.add(m`bool isValid(vec2 uv, vec2 dxdy) {\nreturn (uv.x >= 0.0 + dxdy.x) && (uv.x <= 1.0 - dxdy.x) && (uv.y >= 0.0 + dxdy.y) && (uv.y <= 1.0 - dxdy.y);\n}\nvec4 getOverlayColor(sampler2D ov0Tex, vec4 texCoords) {\nvec4 color0 = texture(ov0Tex, vec2(texCoords.x * 0.5, texCoords.y));\nvec4 color1 = texture(ov0Tex, vec2(texCoords.z * 0.5 + 0.5, texCoords.w));\nbool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));\nbool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));\nreturn mix(color1 * float(isValid1), color0, float(isValid0));\n}`),a.code.add(m`vec4 getCombinedOverlayColor() {\nreturn overlayOpacity * getOverlayColor(ovColorTex, vtcOverlay);\n}`),a.code.add(m`vec4 getOverlayColorTexel() {\nvec4 texCoords = vtcOverlay;\nvec2 texDim =  vec2(textureSize(ovColorTex, 0));\nvec4 color0 = texelFetch(ovColorTex, ivec2(vec2(texCoords.x * 0.5, texCoords.y) * texDim), 0);\nvec4 color1 = texelFetch(ovColorTex, ivec2(vec2(texCoords.z * 0.5 + 0.5, texCoords.w) * texDim), 0);\nbool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));\nbool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));\nreturn mix(color1 * float(isValid1), color0, float(isValid0));\n}`),a.code.add(m`vec2 getAllOverlayHighlightValuesEncoded() {\nvec4 texCoords = vtcOverlay;\nvec2 uvInner = texCoords.xy;\nvec2 uvOuter = texCoords.zw;\nbool isValidInner = isValid(uvInner, fwidth(uvInner));\nbool isValidOuter = isValid(uvOuter, vec2(0.0, 0.0));\nvec2 texelCoordInner = uvInner * vec2(0.5, 1.0);\nvec2 texelCoordOuter = uvOuter * vec2(0.5, 1.0) + vec2(0.5,0.0);\nvec2 texDim =  vec2(textureSize(ovColorTex, 0));\nvec2 texelValueInner = texelFetch(ovColorTex, ivec2(texelCoordInner * texDim), 0).rg;\nvec2 texelValueOuter = texelFetch(ovColorTex, ivec2(texelCoordOuter * texDim), 0).rg;\nreturn\nisValidInner ? texelValueInner :\nisValidOuter ? texelValueOuter :\nvec2(0.0);\n}`),r&&(d(a),s(a),a.code.add(m`vec4 getOverlayWaterColor(vec4 maskInput, vec4 colorInput, vec3 vposEyeDir,\nfloat shadow, vec3 localUp, mat3 tbn, vec3 position, vec3 positionWorld) {\nvec3 n = normalize(tbn *  (2.0 * maskInput.rgb - vec3(1.0)));\nvec3 v = vposEyeDir;\nvec3 final = getSeaColor(n, v, mainLightDirection, colorInput.rgb, mainLightIntensity, localUp, 1.0 - shadow, maskInput.w, position, positionWorld);\nreturn vec4(final, colorInput.w);\n}`))}function T(e,o){return e.identifier===i.Material&&n(e.output)?o.overlay?.getTexture(l.ColorNoRasterImage):e.identifier===i.Material&&e.output===v.ObjectAndLayerIdColor?o.overlay?.getTexture(l.ObjectAndLayerIdColor):e.identifier===i.Highlight?o.overlay?.getTexture(l.Highlight):null}function b(e,l){const i=l.overlay?.overlays[a.INNER]?.extent;o(i)&&(I[0]=e.toMapSpace[0]/r(i)-i[0]/r(i),I[1]=e.toMapSpace[1]/t(i)-i[1]/t(i));const n=l.overlay?.overlays[a.OUTER]?.extent;return o(n)&&(I[2]=e.toMapSpace[0]/r(n)-n[0]/r(n),I[3]=e.toMapSpace[1]/t(n)-n[1]/t(n)),I}function V(e,l){const i=l.overlay?.overlays[a.INNER]?.extent;o(i)&&(I[0]=e.toMapSpace[2]/r(i),I[1]=e.toMapSpace[3]/t(i));const n=l.overlay?.overlays[a.OUTER]?.extent;return o(n)&&(I[2]=e.toMapSpace[2]/r(n),I[3]=e.toMapSpace[3]/t(n)),I}!function(e){e[e.Disabled=0]=\"Disabled\",e[e.Enabled=1]=\"Enabled\",e[e.EnabledWithWater=2]=\"EnabledWithWater\",e[e.COUNT=3]=\"COUNT\"}(C||(C={}));const I=e();class w extends f{constructor(e){super(e,\"vec4\")}}export{g as OverlayIM,C as OverlayMode,O as OverlayTerrain,T as getIMColorTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{fromValues as e}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{Float3PassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{NoParameters as l}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as i}from\"../views/webgl/ShaderBuilder.js\";class a extends l{constructor(){super(...arguments),this.color=e(1,1,1)}}function n(){const e=new i;return e.include(r),e.fragment.uniforms.add(new t(\"tex\",(e=>e.texture)),new o(\"uColor\",(e=>e.color))),e.fragment.main.add(s`vec4 texColor = texture(tex, uv);\nfragColor = texColor * vec4(uColor, 1.0);`),e}const m=Object.freeze(Object.defineProperty({__proto__:null,TextureOnlyPassParameters:a,build:n},Symbol.toStringTag,{value:\"Module\"}));export{a as T,m as a,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as s}from\"../../../../webgl/Uniform.js\";class e extends s{constructor(s,e){super(s,\"ivec2\",r.Pass,((r,o,i)=>r.setUniform2iv(s,e(o,i))))}}export{e as Integer2PassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DDrawUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js\";import{NoParameters as r}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as l}from\"../views/webgl/ShaderBuilder.js\";class u extends r{}function o(){const r=new l,{outputs:u,fragment:o}=r;return r.include(e),o.uniforms.add(new i(\"textureInput\",(e=>e.input))),o.constants.add(\"outlineWidth\",\"int\",Math.ceil(n)),o.constants.add(\"cellSize\",\"int\",c),u.add(\"fragGrid\",\"vec2\"),o.main.add(t`ivec2 inputTextureSize = textureSize(textureInput, 0);\nivec2 cellBottomLeftCornerInput = ivec2(floor(gl_FragCoord.xy) * vec2(cellSize));\nivec2 coordMid =  cellBottomLeftCornerInput + ivec2(cellSize >> 1);\nuvec2 centreTexel = uvec2( texelFetch(textureInput, coordMid, 0).rg * 255.0) & uvec2(0x55u);\nfloat marginSquare = float(outlineWidth*outlineWidth);\nuvec2 outputValue = centreTexel & uvec2(0x55u);\nfor(int y = -outlineWidth; y <= cellSize + outlineWidth; y+=2) {\nint dy = y < 0 ? -y : y > cellSize ? y-cellSize : 0;\nint xMargin = dy > 0 ? int(ceil(sqrt(marginSquare - float(dy*dy)))) : outlineWidth;\nfor(int x = -xMargin; x <= cellSize + xMargin; x+=2) {\nivec2 coord = cellBottomLeftCornerInput + ivec2(x, y);\nuvec2[4] texels = uvec2[4] (\nuvec2(texelFetch(textureInput,coord+ivec2(0,0),0).rg * 255.0) & uvec2(0x55u),\nuvec2(texelFetch(textureInput,coord+ivec2(1,0),0).rg * 255.0) & uvec2(0x55u),\nuvec2(texelFetch(textureInput,coord+ivec2(0,1),0).rg * 255.0) & uvec2(0x55u),\nuvec2(texelFetch(textureInput,coord+ivec2(1,1),0).rg * 255.0) & uvec2(0x55u)\n);\nif (texels[0] == texels[1] && texels[1] == texels[2] && texels[2] == texels[3] && texels[3] ==  centreTexel) {\ncontinue;\n}\nfor (int i=0; i<4; ++i){\noutputValue |= ((texels[i] ^ centreTexel) << 1);\noutputValue |= texels[i];\n}\n}\n}\nfragGrid = vec2(outputValue) / 255.0;`),r}const c=32,n=9,a=.4,s=Object.freeze(Object.defineProperty({__proto__:null,HighlightDownsampleDrawParameters:u,blurSize:a,build:o,gridCellPixelSize:c,outlineSize:n},Symbol.toStringTag,{value:\"Module\"}));export{u as H,s as a,a as b,o as c,c as g,n as o};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{set as e}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as l}from\"../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{glsl as i}from\"../shaderModules/glsl.js\";import{Integer2PassUniform as t}from\"../shaderModules/Integer2PassUniform.js\";import{IntegerPassUniform as o}from\"../shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as n}from\"../shaderModules/Texture2DPassUniform.js\";import{g as c}from\"../../../../../chunks/HighlightDownsample.glsl.js\";function s(l){const{vertex:s}=l;s.uniforms.add(new n(\"coverageTexture\",(e=>e.coverageTexture)),new t(\"highlightRenderCellCount\",(l=>e(r,l.horizontalCellCount,l.verticalCellCount))),new t(\"highlightTextureResolution\",(({highlightTexture:l})=>e(r,l.descriptor.width,l.descriptor.height))),new o(\"highlightLevel\",(e=>e.highlightLevel))).constants.add(\"cellSize\",\"int\",c),l.varyings.add(\"sUV\",\"vec2\"),l.varyings.add(\"vOutlinePossible\",\"float\"),s.code.add(i`const ivec2 cellVertices[4] = ivec2[4](ivec2(0,0), ivec2(1,0), ivec2(0,1), ivec2(1,1));`).main.add(i`int cellIndex = gl_InstanceID;\nint cellX = cellIndex % highlightRenderCellCount[0];\nint cellY = (cellIndex - cellX) / highlightRenderCellCount[0];\nivec2 cellPos = ivec2(cellX, cellY);\nuvec2 covTexel = uvec2(texelFetch(coverageTexture, cellPos, 0).rg * 255.0);\nint channelIndex = (highlightLevel >> 2) & 3;\nuint channelValue = covTexel[channelIndex];\nint highlightIndex = (highlightLevel & 3) << 1;\nbool covered = ((channelValue >> highlightIndex) & 1u) == 1u;\nif (!covered) {\ngl_Position = vec4(0.0);\nreturn;\n}\nvOutlinePossible = (((channelValue >> highlightIndex) & 2u) == 2u) ? 1.0 : 0.0;\nivec2 iPosInCell = cellVertices[gl_VertexID];\nvec2 sPos = vec2(cellPos * cellSize + iPosInCell * (cellSize));\nvec2 vPos = sPos / vec2(highlightTextureResolution);\nsUV = vPos;\ngl_Position = vec4(2.0 * vPos - vec2(1.0), 0.0, 1.0);`)}const r=l();export{s as HighlightCellGridScreenSpacePass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as l}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{FloatPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerBindUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/IntegerBindUniform.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as r}from\"../views/webgl/ShaderBuilder.js\";function a(){const a=new r;a.include(e);const{fragment:c}=a;return c.uniforms.add(new n(\"highlightTexture\",(e=>e.highlightTexture)),new n(\"highlightOptionsTexture\",(e=>e.highlightOptionsTexture)),new i(\"pixelRatio\",(e=>e.pixelRatio)),new i(\"occludedIntensityFactor\",(e=>e.occludedFactor)),new o(\"maxHighlightLevel\",(e=>e.highlights.length-1))),c.constants.add(\"pixelSampleScale\",\"float\",1),a.include(l),c.code.add(t`const float pascal17[9] = float[9](12870.0, 11440.0, 8008.0, 4368.0, 1820.0, 560.0, 120.0, 16.0, 1.0);\nconst float denom17 =  65536.0;\nfloat colorWeight[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\nfloat colorOcclusion[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\nfloat weights[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\nvoid applyTexel(vec2 texel, float weight) {\nif (texel != vec2(0.0)){\nint maxChannel = (maxHighlightLevel >> 2) & 1;\nfor (int channelIndex = 0; channelIndex <= maxChannel; ++channelIndex){\nuint channel = readChannel(texel, channelIndex << 2);\nint firstIndex = channelIndex << 2;\nint maxIndex  = min(firstIndex + 3, maxHighlightLevel);\nfor (int highlightIndex = firstIndex; highlightIndex <= maxIndex; ++highlightIndex ) {\nuint v = readChannelBits(channel, highlightIndex);\nif ((v & 1u) == 1u){\ncolorWeight[highlightIndex] += weight;\nif ((v & 2u) == 2u){\ncolorOcclusion[highlightIndex] += weight;\n}\n}\n}\n}\n}\n}\nvec2 readTexel(ivec2 iuv, int du, int dv) {\nreturn texelFetch(highlightTexture, iuv + ivec2(du, dv), 0).rg;\n}\nvoid readAndApplyTexel(ivec2 iuv, int du, int dv, float weight) {\nvec2 texel = readTexel(iuv, du, dv);\napplyTexel(texel, weight);\n}\nvoid readAndApply2TexelsU(ivec2 iuv, int du, int dv, float weight) {\nreadAndApplyTexel(iuv, -du, dv, weight);\nreadAndApplyTexel(iuv, +du, dv, weight);\n}\nfloat getWeight(int pixelDistance) {\nfloat scaledDistance = float(pixelDistance) * pixelSampleScale / pixelRatio;\nfloat d0f = floor(scaledDistance);\nint d0 = int(d0f);\nif (d0 >= 8){\nreturn 0.0;\n}\nfloat w0 = pascal17[d0];\nfloat w1 = pascal17[d0+1];\nfloat f =  scaledDistance - d0f;\nreturn mix(w0, w1, f);\n}`),c.main.add(t`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));\nivec2 iuv = ivec2(sUV * highlightTextureSize);\nvec2 centerTexel = texelFetch(highlightTexture, iuv, 0).rg;\nbool outlinePossible = false;\nif (vOutlinePossible > 0.0){\nfor (int highlightLevel=0; highlightLevel<= maxHighlightLevel; ++highlightLevel) {\nif ((readLevelBits(centerTexel,highlightLevel) & 1u) == 0u) {\noutlinePossible = true;\nbreak;\n}\n}\n}\nif (outlinePossible) {\nint maxPixelDistance = clamp(int(8.0 * pixelRatio / pixelSampleScale), 2, 16);\nfloat weightSum = 0.0;\nfor(int y = 0; y <= maxPixelDistance; ++y) {\nfloat w = getWeight(y);\nweights[y] = w;\nweightSum += w * (y == 0 ? 1.0 : 2.0);\n}\nfor(int y = 0; y <= maxPixelDistance; ++y) {\nweights[y] = weights[y] / weightSum;\n}\nfloat weight0 = weights[0];\napplyTexel(centerTexel, weight0 * weight0);\nfor(int y = 0; y <= maxPixelDistance; y += 1) {\nfloat yFactor = weights[y];\nif (y != 0) {\nfloat xFactor = weight0;\nfloat weight = xFactor * yFactor;\nif (weight > 0.0) {\nreadAndApplyTexel(iuv, 0, +y, weight);\nreadAndApplyTexel(iuv, 0, -y, weight);\n}\n}\nfor(int x = 1; x <= maxPixelDistance; x += 1) {\nfloat xFactor = weights[x];\nfloat weight = xFactor * yFactor;\nif (weight > 0.0) {\nreadAndApply2TexelsU(iuv, x, +y, weight);\nif (y != 0){\nreadAndApply2TexelsU(iuv, x, -y, weight);\n}\n}\n}\n}\n} else {\napplyTexel(centerTexel, 1.0);\n}\nint frontColorIndex = 999;\nint maxColorIndex = 0;\nfor (int i = 0; i <= maxHighlightLevel; ++i) {\nif (colorWeight[i] > 0.0){\nfrontColorIndex = min(frontColorIndex, i);\nmaxColorIndex = max(maxColorIndex, i);\n}\n}\nif (frontColorIndex == 999){\nfragColor = vec4(0.0);\nreturn;\n}\nvec4 accumulatedColor = vec4(0.0);\nfor (int curColorIndex = frontColorIndex; curColorIndex <= maxColorIndex; ++curColorIndex) {\nfloat curColorWeight = colorWeight[curColorIndex];\nif (curColorWeight <= 0.01){\ncontinue;\n}\nuint vc = readLevelBits(centerTexel, curColorIndex);\nbool centerFilled = (vc & 1u) == 1u;\nbool centerOccluded = (vc & 3u) == 3u;\nfloat curColorOcclusion = colorOcclusion[curColorIndex];\nbool occluded = centerFilled ? centerOccluded : curColorOcclusion > 0.5 * curColorWeight;\nint colorChannel = centerFilled ? 0 : 1;\nvec4 colorBase = texelFetch(highlightOptionsTexture, ivec2(curColorIndex, colorChannel), 0);\nfloat occlusionFactor = occluded ? occludedIntensityFactor : 1.0;\nfloat outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, 0.03, curColorWeight);\nfloat intensity = colorBase.a * occlusionFactor * outlineFactor;\nvec3 currentColor = colorBase.rgb;\nfloat a0 = accumulatedColor.a;\nfloat a1 = intensity;\nfloat alpha = clamp(a0 + a1 - a0 * a1, 0.0, 1.0);\nif (alpha > 0.001){\nvec3 blendedColor = ((1.0 - a1) * a0 * accumulatedColor.rgb + a1 * currentColor) / alpha;\naccumulatedColor = vec4(blendedColor, alpha);\n}\n}\nfragColor = accumulatedColor;`),a}const c=Object.freeze(Object.defineProperty({__proto__:null,build:a},Symbol.toStringTag,{value:\"Module\"}));export{c as H,a as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{H as i}from\"../../../../../chunks/HighlightApply.glsl.js\";import{makePipelineState as o,premultipliedAlphaToPremultipliedAlpha as s,defaultColorWrite as l}from\"../../../../webgl/renderState.js\";class t extends r{constructor(r,o){super(r,o,new e(i,(()=>import(\"../../shaders/HighlightApply.glsl.js\"))))}initializePipeline(){return o({blending:s,colorWrite:l})}}export{t as HighlightApplyTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as o}from\"../../../../../chunks/HighlightDownsample.glsl.js\";import{makePipelineState as s,defaultColorWrite as i}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,s){super(r,s,new e(o,(()=>import(\"../../shaders/HighlightDownsample.glsl.js\"))))}initializePipeline(){return s({colorWrite:i})}}export{l as HighlightDownsampleTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{defaultOccludedFactor as t}from\"../../../../support/HighlightDefaults.js\";import{NoParameters as o}from\"../../../../webgl/NoParameters.js\";class e extends o{constructor(){super(...arguments),this.occludedFactor=t,this.verticalCellCount=0,this.horizontalCellCount=0,this.highlightLevel=0,this.pixelRatio=1}}export{e as HighlightPassParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as i}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as t}from\"../views/webgl/ShaderBuilder.js\";function s(){const s=new t;s.include(e),s.include(i);const{fragment:h}=s;return s.outputs.add(\"fragSingleHighlight\",\"vec2\",0),h.uniforms.add(new g(\"highlightTexture\",(e=>e.highlightTexture)),new l(\"highlightLevel\",(e=>e.highlightLevel))),h.main.add(r`ivec2 iuv = ivec2(gl_FragCoord.xy);\nvec2 inputTexel = texelFetch(highlightTexture, iuv, 0).rg;\nuint bits = readLevelBits(inputTexel, highlightLevel);\nbool hasHighlight = (bits & 1u) == 1u;\nbool hasOccluded  = (bits & 2u) == 2u;\nfragSingleHighlight = vec2(hasHighlight ? 1.0 : 0.0, hasOccluded ? 1.0 : 0.0);`),s}const h=Object.freeze(Object.defineProperty({__proto__:null,build:s},Symbol.toStringTag,{value:\"Module\"}));export{h as H,s as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{H as i}from\"../../../../../chunks/HighlightToSingle.glsl.js\";import{makePipelineState as o,defaultColorWrite as s}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,o){super(r,o,new e(i,(()=>import(\"../../shaders/HighlightToSingle.glsl.js\"))))}initializePipeline(){return o({colorWrite:s})}}export{l as HighlightToSingleTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as t}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{Float2DrawUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{o as g,b as u}from\"./HighlightDownsample.glsl.js\";import{ShaderBuilder as h}from\"../views/webgl/ShaderBuilder.js\";function s(){const s=new h;s.include(e);const{fragment:c}=s;return c.uniforms.add(new n(\"blurInput\",(e=>e.singleHighlightBlurTexture)),new i(\"blurSize\",(e=>e.blurSize)),new n(\"highlightTexture\",(e=>e.highlightTexture)),new n(\"highlightOptionsTexture\",(e=>e.highlightOptionsTexture)),new o(\"highlightLevel\",(e=>e.highlightLevel)),new l(\"occludedIntensityFactor\",(e=>e.occludedFactor))),c.constants.add(\"inner\",\"float\",1-(g-u)/g),s.include(t),c.main.add(r`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));\nvec2 uv = sUV;\nvec2 center = texture(blurInput, uv).rg;\nvec2 blurredHighlightValue = (vOutlinePossible == 0.0)\n? center\n: center * 0.204164\n+ texture(blurInput, uv + blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv - blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv + blurSize * 3.294215).rg * 0.093913\n+ texture(blurInput, uv - blurSize * 3.294215).rg * 0.093913;\nfloat highlightIntensity = blurredHighlightValue.r;\nfloat occlusionWeight = blurredHighlightValue.g;\nif (highlightIntensity <= 0.01) {\ndiscard;\n}\nvec4 fillColor    = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 0), 0);\nvec4 outlineColor = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 1), 0);\nvec2 centerTexel = texelFetch(highlightTexture, ivec2(uv * highlightTextureSize), 0).rg;\nuint centerBits = readLevelBits(centerTexel, highlightLevel);\nbool centerFilled = (centerBits & 1u) == 1u;\nbool centerOccluded = (centerBits & 3u) == 3u;\nbool occluded = centerOccluded || (0.5 * highlightIntensity < occlusionWeight);\nfloat occlusionFactor = occluded ? occludedIntensityFactor : 1.0;\nfloat outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, inner, highlightIntensity);\nfloat fillFactor = centerFilled ? 1.0 : 0.0;\nvec4 baseColor = mix(outlineColor, fillColor, fillFactor);\nfloat intensity = baseColor.a * occlusionFactor * outlineFactor;\nfragColor = vec4(baseColor.rgb, intensity);`),s}const c=Object.freeze(Object.defineProperty({__proto__:null,build:s},Symbol.toStringTag,{value:\"Module\"}));export{c as S,s as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{S as i}from\"../../../../../chunks/SingleHighlightApply.glsl.js\";import{makePipelineState as l,premultipliedAlphaToPremultipliedAlpha as o,defaultColorWrite as s}from\"../../../../webgl/renderState.js\";class t extends r{constructor(r,l){super(r,l,new e(i,(()=>import(\"../../shaders/SingleHighlightApply.glsl.js\"))))}initializePipeline(){return l({blending:o,colorWrite:s})}}export{t as SingleHighlightApplyTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{HighlightCellGridScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{Float2DrawUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{glsl as i}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DDrawUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js\";import{NoParameters as s}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as u}from\"../views/webgl/ShaderBuilder.js\";class n extends s{constructor(){super(...arguments),this.blurSize=e()}}function o(){const e=new u;return e.include(r),e.outputs.add(\"fragSingleHighlight\",\"vec2\",0),e.fragment.uniforms.add(new t(\"blurSize\",(e=>e.blurSize)),new l(\"blurInput\",(e=>e.blurInput))).main.add(i`vec2 highlightTextureSize = vec2(textureSize(blurInput,0));\nvec2 center = texture(blurInput, sUV).rg;\nif (vOutlinePossible == 0.0) {\nfragSingleHighlight = center;\n} else {\nvec2 sum = center * 0.204164;\nsum += texture(blurInput, sUV + blurSize * 1.407333).rg * 0.304005;\nsum += texture(blurInput, sUV - blurSize * 1.407333).rg * 0.304005;\nsum += texture(blurInput, sUV + blurSize * 3.294215).rg * 0.093913;\nsum += texture(blurInput, sUV - blurSize * 3.294215).rg * 0.093913;\nfragSingleHighlight = sum;\n}`),e}const g=Object.freeze(Object.defineProperty({__proto__:null,SingleHighlightBlurDrawParameters:n,build:o},Symbol.toStringTag,{value:\"Module\"}));export{n as S,g as a,o as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as i}from\"../../../../../chunks/SingleHighlightBlur.glsl.js\";import{makePipelineState as l,defaultColorWrite as o}from\"../../../../webgl/renderState.js\";class s extends r{constructor(r,l){super(r,l,new e(i,(()=>import(\"../../shaders/SingleHighlightBlur.glsl.js\"))))}initializePipeline(){return l({colorWrite:o})}}export{s as SingleHighlightBlurTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{VertexAttribute as e}from\"./VertexAttribute.js\";import{DataType as r}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as t}from\"../../../webgl/VertexElementDescriptor.js\";const O=[],o=[new t(e.POSITION,3,r.FLOAT,0,12)],m=[new t(e.POSITION,2,r.FLOAT,0,8)],n=[new t(e.POSITION,2,r.FLOAT,0,16),new t(e.UV0,2,r.FLOAT,8,16)];export{O as NoVertex,m as Pos2,n as Pos2Tex,o as Pos3};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{releaseMaybe as t,disposeMaybe as i}from\"../../../../../core/maybe.js\";import{watch as r,initial as s}from\"../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{set as l}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{ZEROS as n}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{InternalRenderCategory as a}from\"../../../webgl.js\";import{ColorFormat as g}from\"../../../webgl/formats.js\";import c from\"../../../webgl/RenderNode.js\";import{HighlightApplyTechnique as u}from\"./HighlightApplyTechnique.js\";import{HighlightDownsampleTechnique as m}from\"./HighlightDownsampleTechnique.js\";import{HighlightPassParameters as p}from\"./HighlightPassParameters.js\";import{HighlightToSingleTechnique as d}from\"./HighlightToSingleTechnique.js\";import{SingleHighlightApplyTechnique as f}from\"./SingleHighlightApplyTechnique.js\";import{SingleHighlightBlurTechnique as b}from\"./SingleHighlightBlurTechnique.js\";import{RenderRequestType as T}from\"../../lib/basicInterfaces.js\";import{Default3D as w}from\"../../lib/DefaultVertexAttributeLocations.js\";import{NoVertex as x}from\"../../lib/DefaultVertexBufferLayouts.js\";import{VertexArrayObject as _}from\"../../lib/VertexArrayObject.js\";import{H as C,g as v}from\"../../../../../chunks/HighlightDownsample.glsl.js\";import{S as j}from\"../../../../../chunks/SingleHighlightBlur.glsl.js\";import{BufferObject as H}from\"../../../../webgl/BufferObject.js\";import{PixelFormat as q,TextureSamplingMode as P,FramebufferBit as R,Usage as D,TextureType as O,PrimitiveType as S,DataType as A}from\"../../../../webgl/enums.js\";import{Texture as E}from\"../../../../webgl/Texture.js\";import{TextureDescriptor as y}from\"../../../../webgl/TextureDescriptor.js\";let I=class extends c{constructor(){super(...arguments),this.produces=a.HIGHLIGHTS,this.consumes={required:[a.HIGHLIGHTS,\"highlights\"]},this._useMultipleHighlights=!1,this._downsampleDrawParameters=new C,this._passParameters=new p,this._singleHighlightBlurDrawParameters=new j,this._grid=new M}initialize(){this.addHandles([r((()=>this._updateOptionsTexture()),(()=>{}),s)])}destroy(){this._grid.coverage=t(this._grid.coverage),this._grid.vao=i(this._grid.vao),this._passParameters.highlightOptionsTexture=t(this._passParameters.highlightOptionsTexture)}_updateOptionsTexture(){if(null==this._passParameters.highlightOptionsTexture){const e=new y(16,2);e.internalFormat=q.RGBA,e.samplingMode=P.NEAREST,this._passParameters.highlightOptionsTexture=new E(this.renderingContext,e,null)}this._passParameters.highlightOptionsTexture.setData(U(this.view.state.highlights)),this.requestRender(T.UPDATE)}precompile(){this.techniques.precompile(m),this._useMultipleHighlights?this.techniques.precompile(u):(this.techniques.precompile(d),this.techniques.precompile(b),this.techniques.precompile(f))}render(e){const t=e.find((({name:e})=>e===a.HIGHLIGHTS)),{techniques:i,bindParameters:r,_passParameters:s,renderingContext:o}=this;if(!r.decorations)return t;const h=i.get(m);if(!h.compiled)return this.requestRender(T.UPDATE),t;const l=e.find((({name:e})=>\"highlights\"===e)).getTexture(),n=()=>{this._gridUpdateResources(l);const e=this._gridComputeCoverage(h,l,r),{horizontalCellCount:t,verticalCellCount:i}=e;return s.horizontalCellCount=t,s.verticalCellCount=i,s.coverageTexture=e.coverage?.getTexture(),e},g=e=>{const t=e.verticalCellCount*e.horizontalCellCount;o.bindVAO(e.vao),o.drawElementsInstanced(S.TRIANGLES,6,A.UNSIGNED_BYTE,0,t)},{camera:c}=r,u=()=>{o.bindFramebuffer(t.fbo),o.setViewport4fv(c.fullViewport)};return this._useMultipleHighlights?this._renderMultiple(l,n,g,u):this._renderSingle(l,n,g,u),s.highlightTexture=null,s.coverageTexture=null,t}_renderMultiple(e,t,i,r){const{techniques:s,bindParameters:o,_passParameters:h,renderingContext:l}=this,n=s.get(u);if(!n.compiled)return void this.requestRender(T.UPDATE);const a=t();h.highlightTexture=e,h.pixelRatio=o.camera.pixelRatio,l.bindTechnique(n,o,h),r(),i(a)}_renderSingle(e,t,i,r){const{fboCache:s,techniques:o,bindParameters:h,_passParameters:n,renderingContext:a}=this,c=o.get(d),u=o.get(b),m=o.get(f);if(!m.compiled||!u.compiled||!c.compiled)return void this.requestRender(T.UPDATE);const p=t(),{width:w,height:x}=e.descriptor;n.highlightTexture=e;const{camera:_}=h,{fullWidth:C,fullHeight:v,pixelRatio:j}=_,H=Math.ceil(C/j),q=Math.ceil(v/j),{_singleHighlightBlurDrawParameters:P}=this,D=this.view._stage.renderView.renderer,{highlights:O}=h;for(let d=0;d<O.length;++d){const{name:e}=O[d];if(!D.hasHighlightOptions(e))continue;n.highlightLevel=d,a.setClearColor(0,0,0,0);const t=s.acquire(w,x,\"single highlight\",g.RG);a.bindFramebuffer(t.fbo),a.setViewport(0,0,w,x),a.clear(R.COLOR),a.bindTechnique(c,h,n),i(p),P.blurInput=t.getTexture(),l(P.blurSize,1/H,0);const o=s.acquire(H,q,\"single highlight blur h\",g.RG);a.unbindTexture(o.fbo?.colorTexture),a.bindFramebuffer(o.fbo),a.setViewport(0,0,H,q),a.clear(R.COLOR),a.bindTechnique(u,h,n,P),i(p),t.release(),l(P.blurSize,0,1/q),n.singleHighlightBlurTexture=o.getTexture(),r(),a.bindTechnique(m,h,n,P),i(p),o.release()}}_gridUpdateResources(e){const t=this._grid,{width:i,height:r}=e.descriptor;if(t.horizontalCellCount=Math.ceil(i/v),t.verticalCellCount=Math.ceil(r/v),t.vao)return;const s=this.renderingContext,o=H.createIndex(s,D.STATIC_DRAW,F);t.vao=new _(s,w,new Map([[\"geometry\",x]]),new Map([[\"geometry\",H.createVertex(s,D.STATIC_DRAW)]]),o)}_gridComputeCoverage(e,t,i){const r=this.renderingContext,s=this._grid,o=t.descriptor,h=Math.ceil(o.width/v),l=Math.ceil(o.height/v);this._downsampleDrawParameters.input=t,s.coverage?.release();const n=this.fboCache.acquire(h,l,\"highlight coverage\",g.RG);return s.coverage=n,r.bindFramebuffer(n.fbo),r.bindTechnique(e,i,this._passParameters,this._downsampleDrawParameters),r.setViewport(0,0,h,l),r.screen.draw(),s}get test(){}};e([o()],I.prototype,\"produces\",void 0),e([o()],I.prototype,\"consumes\",void 0),I=e([h(\"esri.views.3d.webgl-engine.effects.highlight.Highlight\")],I);class M{constructor(){this.coverage=null,this.vao=null,this.verticalCellCount=0,this.horizontalCellCount=0,this.viewportWidth=0,this.viewportHeight=0}}function U(e){const t=new Uint8Array(128);let i=0;for(const r of e){const e=4*i,s=4*i+64;++i;const{color:o}=r,h=r.haloColor??o;t[e+0]=o.r,t[e+1]=o.g,t[e+2]=o.b,t[e+3]=r.fillOpacity*o.a*255,t[s+0]=h.r,t[s+1]=h.g,t[s+2]=h.b,t[s+3]=r.haloOpacity*h.a*255}return t}let G=0;function L(e){let t=0;for(const r of e){const{name:e}=r;t+=e.length;const{color:i,fillOpacity:s,haloColor:o,haloOpacity:h}=r;t+=i.r+i.g+i.b+i.a+s,t+=o?o.r+o.g+o.b+o.a+h:0}const i=e.at(0);if(i){const{shadowOpacity:e,shadowDifference:r,shadowColor:s}=i;t+=e+r+s.r+s.g+s.b+s.a}return G+++(t>=0?0:1)}const F=new Uint8Array([0,1,2,2,1,3]);function V(e,t,i,r,s,o=0){const h=r.highlights,a=h.length>1?t.acquire(i.width,i.height,\"highlight mix\",g.RG):null;if(a){const t=e.getBoundFramebufferObject();e.bindFramebuffer(a.fbo),e.clearFramebuffer(n),e.bindFramebuffer(t)}const c=a?.getTexture();r.highlightMixTexture=c,l(r.highlightMixOrigin,o,0),h.forEach(((t,h)=>{h>0&&(e.bindTexture(c,E.TEXTURE_UNIT_FOR_UPDATES),e.gl.copyTexSubImage2D(O.TEXTURE_2D,0,0,0,o,0,i.width,i.height),e.bindTexture(null,E.TEXTURE_UNIT_FOR_UPDATES)),e.clear(R.DEPTH),r.highlightLevel=h,s()})),r.highlightLevel=null,r.highlightMixTexture=null,a?.release()}export{I as Highlight,V as renderHighlightBuffer,L as trackHighlightOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{disposeMaybe as t}from\"../../../../core/maybe.js\";import{NestedMap as r}from\"../../../../core/NestedMap.js\";import{assert as i}from\"./Util.js\";class s{constructor(e,t,i,s){this._textures=e,this._techniques=t,this.materialChanged=i,this.requestRender=s,this._id2glMaterialRef=new r}dispose(){this._textures.destroy()}acquire(e,t,r){this._ownMaterial(e);const i=e.produces.get(t);if(!i?.(r))return null;let s=this._id2glMaterialRef.get(r,e.id);if(null==s){const t=e.createGLMaterial({material:e,techniques:this._techniques,textures:this._textures,output:r});s=new a(t),this._id2glMaterialRef.set(r,e.id,s)}return s.ref(),s.glMaterial}release(e,r){const i=this._id2glMaterialRef.get(r,e.id);null!=i&&(i.unref(),i.referenced||(t(i.glMaterial),this._id2glMaterialRef.delete(r,e.id)))}_ownMaterial(t){t.repository&&t.repository!==this&&e.getLogger(\"esri.views.3d.webgl-engine.lib.GLMaterialRepository\").error(\"Material is already owned by a different material repository\"),t.repository=this}}class a{constructor(e){this.glMaterial=e,this._refCnt=0}ref(){++this._refCnt}unref(){--this._refCnt,i(this._refCnt>=0)}get referenced(){return this._refCnt>0}}export{s as GLMaterialRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar e;!function(e){e[e.Immediate=0]=\"Immediate\",e[e.FadeWithWeather=1]=\"FadeWithWeather\"}(e||(e={}));export{e as Update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{CloudsParameters as h}from\"../../environment/CloudsParameters.js\";import e from\"../../webgl/RenderCamera.js\";import{HUDRenderStyle as s}from\"../core/shaderLibrary/hud/HUDRenderStyle.js\";import{OITPass as r}from\"./OITPass.js\";import{RenderSlot as g}from\"./RenderSlot.js\";import{Update as n}from\"./Update.js\";import{SceneLighting as l}from\"../lighting/SceneLighting.js\";class a{constructor(i,t){this.width=i,this.height=t}}class o{constructor(i){this.shadowMap=i,this.slot=g.OPAQUE_MATERIAL,this.slicePlane=null,this.hasOccludees=!1,this.enableFillLights=!0,this.oitPass=r.NONE,this.alignPixelEnabled=!1,this.decorations=!0,this.overlayStretch=1,this.viewshedEnabled=!1,this._camera=new e,this._inverseViewport=t(),this._oldLighting=new l,this._newLighting=new l,this._fadedLighting=new l,this._lighting=this._newLighting,this.ssr=new c,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.highlights=new Array,this.highlightOrderMap=new Map,this.highlightMixOrigin=t(),this.highlightMixTexture=null,this.hudRenderStyle=s.Occluded,this.hudOccludedFragmentOpacity=1,this.clouds=new h,this.shadowHighlightsVisible=!1}get camera(){return this._camera}set camera(i){this._camera=i,this._inverseViewport[0]=1/i.fullViewport[2],this._inverseViewport[1]=1/i.fullViewport[3]}get inverseViewport(){return this._inverseViewport}get lighting(){return this._lighting}fadeLighting(){switch(this.clouds.fadeFactor){case 0:this._lighting=this._oldLighting;break;default:this._fadedLighting.lerpLighting(this._oldLighting,this._newLighting,this.clouds.fadeFactor),this._lighting=this._fadedLighting;break;case 1:this._lighting=this._newLighting,this._oldLighting.copyFrom(this._newLighting)}}updateLighting(i,t,h,e){this._oldLighting.copyFrom(this.lighting),this._newLighting.noonFactor=t,this._newLighting.globalFactor=h,this._newLighting.set(i),e===n.FadeWithWeather&&this.clouds.requestFade(),this.fadeLighting()}get highlight(){return null==this.highlightLevel?null:this.highlights[this.highlightLevel]}}class c{constructor(){this.fadeFactor=1,this.reprojectionMatrix=i()}}export{o as BindParameters,a as ViewportSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{Milliseconds as r}from\"../../../../core/time.js\";import e from\"../../webgl/RenderCamera.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{BindParameters as s}from\"./BindParameters.js\";import{RenderOccludedFlag as i}from\"./Material.js\";class a{constructor(r,i){this.rctx=r,this.lastFrameCamera=new e,this.output=t.Color,this.renderOccludedMask=o,this.bind=new s(i),this.bind.alignPixelEnabled=!0}}class n extends a{constructor(e,t,s){super(e,t),this.techniques=s,this.time=r(0)}}const o=i.Occlude|i.OccludeAndTransparent|i.OccludeAndTransparentStencil;export{a as OverlayRenderContext,n as RenderContext,o as defaultRenderOccludedMask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import s from\"../../webgl/RenderCamera.js\";let i=class extends s{constructor(){super(...arguments),this._projectionMatrix=t()}get projectionMatrix(){return this._projectionMatrix}};r([o()],i.prototype,\"_projectionMatrix\",void 0),r([o({readOnly:!0})],i.prototype,\"projectionMatrix\",null),i=r([e(\"esri.views.3d.webgl-engine.lib.CascadeCamera\")],i);export{i as CascadeCamera};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clamp as t,lerp as s,acosClamped as e}from\"../../../../core/mathUtils.js\";import{releaseMaybe as i}from\"../../../../core/maybe.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{translate as r,multiply as h,invert as o,lookAt as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as c,create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as d,add as m,scale as u,lerp as _,squaredDistance as f,subtract as g,dot as p,negate as x,normalize as b,copy as w}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as M}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{p as C,c as j,v as T,t as y,i as D}from\"../../../../chunks/vec32.js\";import{create as H}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as v,t as S}from\"../../../../chunks/vec42.js\";import{create as R}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ViewingMode as O}from\"../../../ViewingMode.js\";import{ColorFormat as E,DepthFormat as U}from\"../../webgl/formats.js\";import{CascadeCamera as F}from\"./CascadeCamera.js\";import{applyTextureResizeModulo as L,applyTextureResizeFloorModulo as Q}from\"./textureUtils.js\";import{assert as V,logWithBase as N,verify as A,rayRay2D as B}from\"./Util.js\";import{TextureType as I,FramebufferBit as W}from\"../../../webgl/enums.js\";import{Texture as z}from\"../../../webgl/Texture.js\";var P;!function(t){t[t.Highlight=0]=\"Highlight\",t[t.ExcludeHighlight=1]=\"ExcludeHighlight\"}(P||(P={}));class q{constructor(){this.camera=new F,this.lightMat=l()}}class G{constructor(){this.maxNumCascadesHighQuality=4,this.maxNumCascadesLowQuality=4,this.textureSizeModHighQuality=1.3,this.textureSizeModLowQuality=.9,this.splitSchemeLambda=0}}class X{constructor(t,s){this._fbos=t,this._viewingMode=s,this._enabled=!1,this._snapshots=new Array,this._textureHeight=0,this._numCascades=1,this.settings=new G,this._projectionView=l(),this._projectionViewInverse=l(),this._modelViewLight=l(),this._cascadeDistances=[0,0,0,0,0],this._usedCascadeDistances=R(),this._cascades=[new q,new q,new q,new q],this._lastOrigin=null,this._maxTextureWidth=Math.min(has(\"esri-mobile\")?4096:16384,t.rctx.parameters.maxTextureSize)}dispose(){this.enabled=!1,this.disposeOffscreenBuffers()}get depthTexture(){return this._handle?.getTexture()}get _textureWidth(){return this._textureHeight*this._numCascades}get numCascades(){return this._numCascades}get cascadeDistances(){return v(this._usedCascadeDistances,this._cascadeDistances[0],this._numCascades>1?this._cascadeDistances[1]:1/0,this._numCascades>2?this._cascadeDistances[2]:1/0,this._numCascades>3?this._cascadeDistances[3]:1/0)}disposeOffscreenBuffers(){this._handle=i(this._handle),this._discardSnapshots()}set maxCascades(s){this.settings.maxNumCascadesHighQuality=t(Math.floor(s),1,4)}get maxCascades(){return this.settings.maxNumCascadesHighQuality}set enabled(t){this._enabled=t,t||this.disposeOffscreenBuffers()}get enabled(){return this._enabled}get ready(){return this._enabled&&null!=this.depthTexture}get cascades(){for(let t=0;t<this._numCascades;++t)it[t]=this._cascades[t];return it.length=this._numCascades,it}start(t,s,e,i,a){V(this.enabled);const{near:r,far:h}=Tt(e);this._computeCascadeDistances(r,h,i),this._textureHeight=this._computeTextureHeight(t,a,i),this._setupMatrices(t,s);const{viewMatrix:o,projectionMatrix:n}=t;for(let c=0;c<this._numCascades;++c)this._constructCascade(c,n,o,s);this._lastOrigin=null,this.clear()}finish(){V(this.enabled),this._handle?.detachDepth()}getShadowMapMatrices(t){if(!this._lastOrigin||!C(t,this._lastOrigin)){this._lastOrigin=this._lastOrigin||H(),j(this._lastOrigin,t);for(let s=0;s<this._numCascades;++s){r(at,this._cascades[s].lightMat,t);for(let t=0;t<16;++t)rt[16*s+t]=at[t]}}return rt}moveSnapshot(t){V(this.enabled),this._handle?.detachDepth(),this._snapshots[t]?.release(),this._snapshots[t]=this._handle,this._handle=null,this.clear()}copySnapshot(t){const s=this._handle?.getTexture()?.descriptor;if(!this.enabled||!s)return;this._snapshots[t]?.release();const{width:e,height:i}=s,a=t===P.Highlight?\"shadow highlight snapshot\":\"shadow no highlight snapshot\";this._snapshots[t]=this._fbos.acquire(e,i,a,E.RGBA4);const r=this._fbos.rctx;this._bindFbo();const h=r.bindTexture(this._snapshots[t]?.getTexture(),z.TEXTURE_UNIT_FOR_UPDATES);r.gl.copyTexSubImage2D(I.TEXTURE_2D,0,0,0,0,0,e,i),r.bindTexture(h,z.TEXTURE_UNIT_FOR_UPDATES)}getSnapshot(t){return this.enabled?this._snapshots[t]?.getTexture():null}clear(){const t=this._fbos.rctx;this._ensureFbo(),this._bindFbo(),t.setClearColor(1,1,1,1),t.clear(W.COLOR|W.DEPTH)}_computeTextureHeight(t,s,e){const i=Math.min(window.devicePixelRatio,s)/t.pixelRatio,a=e?this.settings.textureSizeModHighQuality:this.settings.textureSizeModLowQuality,r=L(Math.floor(Math.max(t.fullWidth,t.fullHeight)*i*a)),h=Math.min(this._maxTextureWidth,this._numCascades*r);return Q(h/this._numCascades)}_ensureFbo(){this._handle?.fbo?.width===this._textureWidth&&this._handle?.fbo.height===this._textureHeight||(this._handle?.release(),this._handle=this._fbos.acquire(this._textureWidth,this._textureHeight,\"shadow map\",E.RGBA4)),this._handle?.acquireDepth(U.DEPTH16_BUFFER)}_discardSnapshot(t){this._snapshots[t]=i(this._snapshots[t])}_discardSnapshots(){for(let t=0;t<this._snapshots.length;++t)this._discardSnapshot(t);this._snapshots.length=0}_bindFbo(){this._fbos.rctx.bindFramebuffer(this._handle?.fbo)}_constructCascade(t,s,e,i){const a=this._cascades[t],o=-this._cascadeDistances[t],n=-this._cascadeDistances[t+1],c=(s[10]*o+s[14])/Math.abs(s[11]*o+s[15]),l=(s[10]*n+s[14])/Math.abs(s[11]*n+s[15]);V(c<l);for(let r=0;r<8;++r){v(J,r%4==0||r%4==3?-1:1,r%4==0||r%4==1?-1:1,r<4?c:l,1);const t=K[r];S(t,J,this._projectionViewInverse),t[0]/=t[3],t[1]/=t[3],t[2]/=t[3]}T(et,K[0]),a.camera.viewMatrix=r(k,this._modelViewLight,et);for(let r=0;r<8;++r)y(K[r],K[r],a.camera.viewMatrix);let d=K[0][2],m=K[0][2];for(let r=1;r<8;++r)d=Math.min(d,K[r][2]),m=Math.max(m,K[r][2]);d-=200,m+=200,a.camera.near=-m,a.camera.far=-d,jt(e,i,d,m,a.camera),h(a.lightMat,a.camera.projectionMatrix,a.camera.viewMatrix);const u=this._textureHeight;a.camera.viewport=[t*u,0,u,u]}_setupMatrices(t,s){h(this._projectionView,t.projectionMatrix,t.viewMatrix),o(this._projectionViewInverse,this._projectionView);const e=this._viewingMode===O.Global?t.eye:D(et,0,0,1);n(this._modelViewLight,[0,0,0],[-s[0],-s[1],-s[2]],e)}_computeCascadeDistances(t,e,i){const a=i?this.settings.maxNumCascadesHighQuality:this.settings.maxNumCascadesLowQuality;this._numCascades=Math.min(1+Math.floor(N(e/t,4)),a);const r=(e-t)/this._numCascades,h=(e/t)**(1/this._numCascades);let o=t,n=t;for(let c=0;c<this._numCascades+1;++c)this._cascadeDistances[c]=s(o,n,this.settings.splitSchemeLambda),o*=h,n+=r}get test(){}}const k=l(),J=R(),K=[];for(let yt=0;yt<8;++yt)K.push(R());const Y=M(),Z=M(),$=M(),tt=M(),st=M(),et=H(),it=[],at=l(),rt=c.concat(c,c,c,c),ht=M(),ot=M(),nt=[M(),M(),M(),M()],ct=M(),lt=M(),dt=M(),mt=M(),ut=M(),_t=M(),ft=M();function gt(t,s,e,i,a,r,h,o){d(ht,0,0);for(let d=0;d<4;++d)m(ht,ht,t[d]);u(ht,ht,.25),d(ot,0,0);for(let d=4;d<8;++d)m(ot,ot,t[d]);u(ot,ot,.25),_(nt[0],t[4],t[5],.5),_(nt[1],t[5],t[6],.5),_(nt[2],t[6],t[7],.5),_(nt[3],t[7],t[4],.5);let n=0,c=f(nt[0],ht);for(let d=1;d<4;++d){const t=f(nt[d],ht);t<c&&(c=t,n=d)}g(ct,nt[n],t[n+4]);const l=ct[0];let M,C;ct[0]=-ct[1],ct[1]=l,g(lt,ot,ht),p(lt,ct)<0&&x(ct,ct),_(ct,ct,lt,e),b(ct,ct),M=C=p(g(dt,t[0],ht),ct);for(let d=1;d<8;++d){const s=p(g(dt,t[d],ht),ct);s<M?M=s:s>C&&(C=s)}w(i,ht),u(dt,ct,M-s),m(i,i,dt);let j=-1,T=1,y=0,D=0;for(let d=0;d<8;++d){g(mt,t[d],i),b(mt,mt);const s=ct[0]*mt[1]-ct[1]*mt[0];s>0?s>j&&(j=s,y=d):s<T&&(T=s,D=d)}A(j>0,\"leftArea\"),A(T<0,\"rightArea\"),u(ut,ct,M),m(ut,ut,ht),u(_t,ct,C),m(_t,_t,ht),ft[0]=-ct[1],ft[1]=ct[0];const H=B(i,t[D],_t,m(dt,_t,ft),1,a),v=B(i,t[y],_t,dt,1,r),S=B(i,t[y],ut,m(dt,ut,ft),1,h),R=B(i,t[D],ut,dt,1,o);A(H,\"rayRay\"),A(v,\"rayRay\"),A(S,\"rayRay\"),A(R,\"rayRay\")}function pt(t,s){return 3*s+t}const xt=M();function bt(t,s){return d(xt,t[s],t[s+3]),xt}const wt=M(),Mt=a();function Ct(t,s,e,i,a){g(wt,e,i),u(wt,wt,.5),Mt[0]=wt[0],Mt[1]=wt[1],Mt[2]=0,Mt[3]=wt[1],Mt[4]=-wt[0],Mt[5]=0,Mt[6]=wt[0]*wt[0]+wt[1]*wt[1],Mt[7]=wt[0]*wt[1]-wt[1]*wt[0],Mt[8]=1,Mt[pt(0,2)]=-p(bt(Mt,0),t),Mt[pt(1,2)]=-p(bt(Mt,1),t);let r=p(bt(Mt,0),e)+Mt[pt(0,2)],h=p(bt(Mt,1),e)+Mt[pt(1,2)],o=p(bt(Mt,0),i)+Mt[pt(0,2)],n=p(bt(Mt,1),i)+Mt[pt(1,2)];r=-(r+o)/(h+n),Mt[pt(0,0)]+=Mt[pt(1,0)]*r,Mt[pt(0,1)]+=Mt[pt(1,1)]*r,Mt[pt(0,2)]+=Mt[pt(1,2)]*r,r=1/(p(bt(Mt,0),e)+Mt[pt(0,2)]),h=1/(p(bt(Mt,1),e)+Mt[pt(1,2)]),Mt[pt(0,0)]*=r,Mt[pt(0,1)]*=r,Mt[pt(0,2)]*=r,Mt[pt(1,0)]*=h,Mt[pt(1,1)]*=h,Mt[pt(1,2)]*=h,Mt[pt(2,0)]=Mt[pt(1,0)],Mt[pt(2,1)]=Mt[pt(1,1)],Mt[pt(2,2)]=Mt[pt(1,2)],Mt[pt(1,2)]+=1,r=p(bt(Mt,1),s)+Mt[pt(1,2)],h=p(bt(Mt,2),s)+Mt[pt(2,2)],o=p(bt(Mt,1),e)+Mt[pt(1,2)],n=p(bt(Mt,2),e)+Mt[pt(2,2)],r=-.5*(r/h+o/n),Mt[pt(1,0)]+=Mt[pt(2,0)]*r,Mt[pt(1,1)]+=Mt[pt(2,1)]*r,Mt[pt(1,2)]+=Mt[pt(2,2)]*r,r=p(bt(Mt,1),s)+Mt[pt(1,2)],h=p(bt(Mt,2),s)+Mt[pt(2,2)],o=-h/r,Mt[pt(1,0)]*=o,Mt[pt(1,1)]*=o,Mt[pt(1,2)]*=o,a[0]=Mt[0],a[1]=Mt[1],a[2]=0,a[3]=Mt[2],a[4]=Mt[3],a[5]=Mt[4],a[6]=0,a[7]=Mt[5],a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=Mt[6],a[13]=Mt[7],a[14]=0,a[15]=Mt[8]}function jt(t,s,i,a,r){const h=1/K[0][3],o=1/K[4][3];V(h<o);let n=h+Math.sqrt(h*o);const c=Math.sin(e(t[2]*s[0]+t[6]*s[1]+t[10]*s[2]));n/=c,gt(K,n,c,Y,Z,$,tt,st),Ct(Y,Z,tt,st,r.projectionMatrix),r.projectionMatrix[10]=2/(i-a),r.projectionMatrix[14]=-(i+a)/(i-a)}function Tt(t){let{near:s,far:e}=t;return s<2&&(s=2),e<2&&(e=2),s>=e&&(s=2,e=4),{near:s,far:e}}export{X as ShadowMap,P as SnapshotSlot};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../../chunks/TextureOnly.glsl.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{makePipelineState as i,premultipliedAlphaToPremultipliedAlpha as l,defaultColorWrite as s}from\"../../../webgl/renderState.js\";class t extends o{constructor(o,i){super(o,i,new r(e,(()=>import(\"../core/shaderLibrary/util/TextureOnly.glsl.js\"))))}initializePipeline(e){return e.hasAlpha?i({blending:l,colorWrite:s}):i({colorWrite:s})}}export{t as TextureTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../../chunks/tslib.es6.js\";import{ShaderTechniqueConfiguration as e,parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";class r extends e{constructor(){super(...arguments),this.hasAlpha=!1}}s([o()],r.prototype,\"hasAlpha\",void 0);export{r as TextureTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{OverlayIndex as e}from\"../views/3d/terrain/interfaces.js\";import{ScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{FloatPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as a}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{NoParameters as i}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as n}from\"../views/webgl/ShaderBuilder.js\";class d extends i{constructor(){super(...arguments),this.overlayIndex=e.INNER,this.opacity=1}}function l(){const e=new n;return e.include(r),e.fragment.uniforms.add(new t(\"tex\",(e=>e.texture))),e.fragment.uniforms.add(new a(\"overlayIdx\",(e=>e.overlayIndex))),e.fragment.uniforms.add(new o(\"opacity\",(e=>e.opacity))),e.fragment.main.add(s`vec2 overlayUV = overlayIdx == 0 ? vec2(uv.x * 0.5, uv.y) : vec2(uv.x * 0.5 + 0.5, uv.y);\nfragColor = texture(tex, overlayUV) * opacity;`),e}const m=Object.freeze(Object.defineProperty({__proto__:null,OverlayCompositingPassParameters:d,build:l},Symbol.toStringTag,{value:\"Module\"}));export{d as O,m as a,l as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{a as o}from\"../../../../chunks/OverlayCompositing.glsl.js\";class s extends r{constructor(r,s){super(r,s,new e(o,(()=>import(\"./OverlayCompositing.glsl.js\"))))}}export{s as OverlayCompositingTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Evented.js\";import\"../../../core/has.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{disposeMaybe as s}from\"../../../core/maybe.js\";import i from\"../../../core/PooledArray.js\";import{watch as n,syncAndInitial as o,on as a,initial as h}from\"../../../core/reactiveUtils.js\";import{someSet as l}from\"../../../core/SetUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ortho as u,fromTranslation as p}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{i as g}from\"../../../chunks/vec32.js\";import{ones as _}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{DrapeTargetType as m,DrapeSourceType as y,DrapedRenderGroup as f}from\"../layers/interfaces.js\";import{debugFlags as R}from\"../support/debugFlags.js\";import{OverlayIndex as b}from\"./interfaces.js\";import{Overlay as T}from\"./Overlay.js\";import{OverlayContent as w}from\"./OverlayContent.js\";import{OverlayRenderTargets as D}from\"./OverlayRenderTargets.js\";import v from\"../webgl/RenderCamera.js\";import{ShaderOutput as x}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{OverlayMode as O}from\"../webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js\";import{T as S}from\"../../../chunks/TextureOnly.glsl.js\";import{SyncRenderPlugin as C}from\"../webgl-engine/effects/RenderPlugin.js\";import{trackHighlightOptions as E,renderHighlightBuffer as P}from\"../webgl-engine/effects/highlight/Highlight.js\";import{RenderRequestType as j}from\"../webgl-engine/lib/basicInterfaces.js\";import{GLMaterialRepository as A}from\"../webgl-engine/lib/GLMaterialRepository.js\";import{GridLocalOriginFactory as M}from\"../webgl-engine/lib/GridLocalOriginFactory.js\";import{RenderOccludedFlag as W}from\"../webgl-engine/lib/Material.js\";import{OITPass as I}from\"../webgl-engine/lib/OITPass.js\";import{OverlayRenderContext as q,defaultRenderOccludedMask as N}from\"../webgl-engine/lib/RenderContext.js\";import{RenderSlot as F}from\"../webgl-engine/lib/RenderSlot.js\";import{ShadowMap as L}from\"../webgl-engine/lib/ShadowMap.js\";import{TextureTechnique as V}from\"../webgl-engine/lib/TextureTechnique.js\";import{TextureTechniqueConfiguration as H}from\"../webgl-engine/lib/TextureTechniqueConfiguration.js\";import{Update as G}from\"../webgl-engine/lib/Update.js\";import{UpdatePolicy as k}from\"../webgl-engine/lib/UpdatePolicy.js\";import{AmbientLight as U}from\"../webgl-engine/lighting/Lightsources.js\";import{O as B}from\"../../../chunks/OverlayCompositing.glsl.js\";import{OverlayCompositingTechnique as z}from\"../webgl-engine/shaders/OverlayCompositingTechnique.js\";import{TaskPriority as Y,noBudget as X}from\"../../support/Scheduler.js\";import{FramebufferBit as K,TextureSamplingMode as J}from\"../../webgl/enums.js\";import{Texture as Q}from\"../../webgl/Texture.js\";import{TextureDescriptor as Z}from\"../../webgl/TextureDescriptor.js\";let $=class extends C{constructor(e){super(e),this._overlays=null,this._renderTargets=null,this._overlayParameters=new B,this.hasHighlights=!1,this._hasWater=!1,this._renderers=new Map,this._sortedDrapeSourceRenderersDirty=!1,this._sortedRenderers=new i,this._passParameters=new S,this._materials=null,this._screenToWorldRatio=1,this._localOriginFactory=null,this.unloadedMemory=0,this.ignoresMemoryFactor=!1,this._camera=new v,this.events=new r,this.longitudeCyclical=null,this.produces=new Map([[F.DRAPED_MATERIAL,e=>e!==x.Highlight||this.hasHighlights],[F.DRAPED_WATER,()=>this._hasWater]]),this._hasTargetWithoutRasterImage=!1,this._hasDrapedFeatureSource=!1,this._hasDrapedRasterSource=!1}initialize(){const e=this._view,r=e._stage,t=r.renderer.fboCache,{waterTextures:s,textures:i}=r.renderView;this._renderContext=new q(this._rctx,new L(t,e.state.viewingMode)),this.addHandles([n((()=>s.updating),(()=>this.events.emit(\"content-changed\")),o),n((()=>this.spatialReference),(e=>this._localOriginFactory=new M(e)),o),a((()=>e.allLayerViews),\"after-changes\",(()=>this._sortedDrapeSourceRenderersDirty=!0)),n((()=>E(e.state.highlights)),(()=>this._sortedDrapeSourceRenderersDirty=!0),h),n((()=>e.state.highlights),(r=>{this._bindParameters.highlights=r,this._bindParameters.highlightOrderMap=e.state.highlightOrderMap,this._updateHighlights()}),h),e.resourceController.scheduler.registerTask(Y.STAGE,this)]),this._materials=new A(i,this._techniques,(()=>{this.notifyChange(\"rendersOccludedDraped\"),this.events.emit(\"content-changed\"),this.notifyChange(\"updating\"),this.notifyChange(\"isEmpty\")}),(()=>this.events.emit(\"content-changed\")));const{_bindParameters:l,_camera:d}=this;d.near=1,d.far=1e4,d.relativeElevation=null,l.slot=F.DRAPED_MATERIAL,l.mainDepth=null,l.camera=d,l.oitPass=I.NONE,l.updateLighting([new U(_())],0,0,G.Immediate)}destroy(){this._renderers.forEach((e=>e.destroy())),this._renderers.clear(),this._passParameters.texture=s(this._passParameters.texture),this.disposeOverlays()}get _bindParameters(){return this._renderContext.bind}get _rctx(){return this._stage.renderView.renderingContext}get _view(){return this.parent.view}get _stage(){return this.parent.view._stage}get spatialReference(){return this.parent.spatialReference}get _techniques(){return this._stage.renderView.techniques}get rctx(){return this._rctx}get materials(){return this._materials}get screenToWorldRatio(){return this._screenToWorldRatio}get localOriginFactory(){return this._localOriginFactory}get pluginContext(){return this._pluginContext}initializeRenderContext(e){this._pluginContext=e,this._techniques.precompile(z)}uninitializeRenderContext(){}acquireTechniques(){return[]}render(){}get updating(){return this._sortedDrapeSourceRenderersDirty||t(this._renderers,(e=>e.updating))}get hasOverlays(){return null!=this._overlays&&null!=this._renderTargets}getMaterialRenderer(e){for(const r of this._renderers.values()){const t=r.getMaterialRenderer(e);if(t)return t}return null}get layers(){return this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers(),this._sortedRenderers.map((e=>e.drapeSource.layer)).filter((e=>!!e))}_updateHighlights(){const e=this._view.state;this._renderers.forEach((r=>r.updateHighlights(e.highlightOrderMap)))}createDrapeSourceRenderer(e,r,t){const s=this._renderers.get(e);null!=s&&s.destroy();const i=new r({...t,rendererContext:this,drapeSource:e});return this._renderers.set(e,i),this._sortedDrapeSourceRenderersDirty=!0,\"fullOpacity\"in e&&this.addHandles(n((()=>e.fullOpacity),(()=>this.events.emit(\"content-changed\"))),e),i}removeDrapeSourceRenderer(e){if(null==e)return;const r=this._renderers.get(e);null!=r&&(this._sortedDrapeSourceRenderersDirty=!0,this._renderers.delete(e),this.removeHandles(e),r.destroy())}computeValidity(){return this._renderTargets?.computeValidity()??0}releaseRenderTargets(){this._renderTargets?.dispose()}get overlays(){return this._overlays??[]}ensureDrapeTargets(e){this._hasTargetWithoutRasterImage=!!this._overlays&&l(e,(e=>e.drapeTargetType===m.WithoutRasterImage))}ensureDrapeSources(e){this._overlays?(this._hasDrapedFeatureSource=l(e,(e=>e.drapeSourceType===y.Features)),this._hasDrapedRasterSource=l(e,(e=>e.drapeSourceType===y.RasterImage))):this._hasDrapedFeatureSource=this._hasDrapedRasterSource=!1}get _needsColorWithoutRasterImage(){return this._hasDrapedRasterSource&&this._hasDrapedFeatureSource&&this._hasTargetWithoutRasterImage}ensureOverlays(e,r,t=this._bindParameters.overlayStretch){null==this._overlays&&(this._renderTargets=new D(this._stage.renderer.fboCache),this._overlays=[new T,new T]),this.ensureDrapeTargets(e),this.ensureDrapeSources(r),this._bindParameters.overlayStretch=t}disposeOverlays(){this._overlays=null,this._renderTargets=s(this._renderTargets),this.events.emit(\"textures-disposed\")}getTexture(e){if(null!=e)return e===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage&&this._hasDrapedFeatureSource?this._renderTargets?.getTexture(w.Color):this._renderTargets?.getTexture(e)}get running(){return this.updating}runTask(e){this._processDrapeSources(e,(()=>!0))}_processDrapeSources(e,r){let s=!1;for(const[t,i]of this._renderers){if(e.done)break;(t.destroyed||r(t))&&(i.commitChanges(this._view.state.highlightOrderMap)&&(s=!0,e.madeProgress()))}this._sortedDrapeSourceRenderersDirty&&(this._sortedDrapeSourceRenderersDirty=!1,s=!0,this._updateSortedDrapeSourceRenderers()),s&&(null!=this._overlays&&0===this._renderers.size&&this.disposeOverlays(),this.notifyChange(\"updating\"),this.notifyChange(\"isEmpty\"),this.events.emit(\"content-changed\"),this.hasHighlights=t(this._renderers,(e=>e.hasHighlights)),this.notifyChange(\"rendersOccludedDraped\"))}hasHighlightOptions(e){return t(this._renderers,(r=>r.hasHighlightOptions(e)))}processSyncDrapeSources(){this._processDrapeSources(X,(e=>e.updatePolicy===k.SYNC))}get isEmpty(){return!R.OVERLAY_DRAW_DEBUG_TEXTURE&&!t(this._renderers,(e=>!e.isEmpty))}get hasWater(){const e=t(this._renderers,(e=>e.hasWater));return e!==this._hasWater&&(this._hasWater=e,this.events.emit(\"has-water\")),this._hasWater}get rendersOccludedDraped(){const e=this._renderContext.renderOccludedMask;this._renderContext.renderOccludedMask=se,++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,this._renderContext.renderOccludedMask=e,r}renders(e){if(R.OVERLAY_DRAW_DEBUG_TEXTURE&&e!==w.Occluded&&e!==w.Highlight)return!0;++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,r}get mode(){return this.isEmpty?O.Disabled:this.hasWater&&this.renders(w.WaterNormal)?O.EnabledWithWater:this._renderTargets?.getTexture(w.Color)?O.Enabled:O.Disabled}updateAnimation(e){let r=!1;return this._renderers.forEach((t=>r=t.updateAnimation(e)||r)),r&&this.parent.requestRender(j.BACKGROUND),r}updateDrapeSourceOrder(){this._sortedDrapeSourceRenderersDirty=!0}precompileShaders(e){if(this._renderTargets){this._bindParameters.alignPixelEnabled=e.alignPixelEnabled,++this._techniques.precompiling;for(const e of this._renderTargets.targets){if(e.content===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const r=e.output;this._renderContext.output=r,this._bindParameters.slot=r===x.Normal?F.DRAPED_WATER:F.DRAPED_MATERIAL,e.content===w.Occluded&&(this._renderContext.renderOccludedMask=se),this._sortedRenderers.forAll((({drapeSource:r,renderer:t})=>{e.content===w.ColorNoRasterImage&&r.drapeSourceType===y.RasterImage||t.precompile(this._renderContext)})),this._renderContext.renderOccludedMask=N}--this._techniques.precompiling}}drawOverlays(e){if(this._overlays&&this._renderTargets){for(const e of this._overlays)this.longitudeCyclical?e.setupGeometryViewsCyclical(this.longitudeCyclical):e.setupGeometryView();this._bindParameters.alignPixelEnabled=e.alignPixelEnabled;for(const e of this._renderTargets.targets){if(e.content===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const r=this._drawTarget(b.INNER,e),t=this._drawTarget(b.OUTER,e);(r||t)&&e.fbo.generateMipMap()}}}_drawTarget(e,r){const t=this._overlays[e],s=t.canvasGeometries;if(0===s.numViews)return!1;const i=this._view.state.contentPixelRatio;this._screenToWorldRatio=i*t.mapUnitsPerPixel/this._bindParameters.overlayStretch;const n=r.output;if(this.isEmpty||n===x.Normal&&!this.hasWater||!t.hasSomeSizedView())return!1;const{_rctx:o,_camera:a,_renderContext:h,_bindParameters:l}=this;if(a.pixelRatio=t.pixelRatio*i,h.output=n,l.screenToWorldRatio=this._screenToWorldRatio,l.screenToPCSRatio=this._screenToWorldRatio*this.parent.worldToPCSRatio,l.slot=n===x.Normal?F.DRAPED_WATER:F.DRAPED_MATERIAL,r.content===w.Occluded&&(h.renderOccludedMask=se),!this.renders(r.content))return h.renderOccludedMask=N,!1;const{resolution:d}=t,c=e===b.INNER?0:d;o.setViewport(c,0,d,d),this._bindTargetFBO(r),e===b.INNER&&(o.setClearColor(0,0,0,0),o.clear(K.COLOR));if(R.OVERLAY_DRAW_DEBUG_TEXTURE&&r.content!==w.Occluded&&r.content!==w.Highlight){this._techniques.precompile(V,ie);const r=this._techniques.get(V,ie);for(let i=0;i<s.numViews;i++)this._setViewParameters(s.extents[i],t),this._ensureDebugPatternResources(t.resolution,re[e]),o.bindTechnique(r,l,this._passParameters),o.screen.draw()}if(r.output===x.Highlight){const{fboCache:t}=this._stage.renderer,s=this._resolution;this._bindTargetFBO(r),P(o,t,{width:s,height:s},l,(()=>this._renderAllGeometry(e,r)),c)}else this._renderAllGeometry(e,r);return o.bindFramebuffer(null),h.renderOccludedMask=N,!0}_renderAllGeometry(e,r){const t=this._overlays[e],s=t.canvasGeometries;this._sortedRenderers.forAll((({drapeSource:i,renderer:n})=>{if(r.content===w.ColorNoRasterImage&&i.drapeSourceType===y.RasterImage)return;const{fullOpacity:o}=i,a=null!=o&&o<1&&r.output===x.Color&&this._bindTemporaryFBO();for(let e=0;e<s.numViews;e++)this._setViewParameters(s.extents[e],t),n.render(this._renderContext);if(a){this._bindTargetFBO(r),this._overlayParameters.texture=a.getTexture(),this._overlayParameters.opacity=o,this._overlayParameters.overlayIndex=e;const t=this._techniques.get(z);this._rctx.bindTechnique(t,this._bindParameters,this._overlayParameters),this._rctx.screen.draw(),a.release()}}))}_bindTargetFBO(e){const r=this._resolution,t=2*r;e.fbo.bind(this._rctx,t,r)}_bindTemporaryFBO(){const e=this._resolution,r=2*e,t=this._stage.renderer.fboCache,s=t.acquire(r,e,\"overlay tmp\");return t.rctx.bindFramebuffer(s.fbo),t.rctx.clear(K.COLOR),s}get _resolution(){return this._overlays?.[b.INNER].resolution??0}notifyContentChanged(){this.events.emit(\"content-changed\")}intersect(e,r,t,s){this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers();let i=0;for(const{renderer:n}of this._sortedRenderers)i=n.intersect?.(e,r,t,s,i)??i}_updateSortedDrapeSourceRenderers(){if(this._sortedRenderers.clear(),0===this._renderers.size)return;const e=this._view.map.allLayers,r=e.length;this._renderers.forEach(((t,s)=>{const i=e.indexOf(s.layer),n=i>=0,o=s.renderGroup??(n?f.MapLayer:f.ViewLayer),a=r*o+(n?i:0);this._sortedRenderers.push(new ee(s,t,a))})),this._sortedRenderers.sort(((e,r)=>e.index-r.index))}_setViewParameters(e,r){const t=this._camera;t.viewport=[0,0,r.resolution,r.resolution],u(t.projectionMatrix,0,e[2]-e[0],0,e[3]-e[1],t.near,t.far),p(t.viewMatrix,[-e[0],-e[1],0])}_ensureDebugPatternResources(e,r){if(g(this._passParameters.color,r[0],r[1],r[2]),this._passParameters.texture)return;const t=new Uint8Array(e*e*4);let s=0;for(let n=0;n<e;n++)for(let r=0;r<e;r++){const i=Math.floor(r/10),o=Math.floor(n/10);i<2||o<2||10*i>e-20||10*o>e-20?(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=255):(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=1&i&&1&o?1&r^1&n?0:255:1&i^1&o?0:128)}const i=new Z(e);i.samplingMode=J.NEAREST,this._passParameters.texture=new Q(this._rctx,i,t)}get test(){}};e([d()],$.prototype,\"hasHighlights\",void 0),e([d()],$.prototype,\"_sortedDrapeSourceRenderersDirty\",void 0),e([d({constructOnly:!0})],$.prototype,\"parent\",void 0),e([d({readOnly:!0})],$.prototype,\"_techniques\",null),e([d({type:Boolean,readOnly:!0})],$.prototype,\"updating\",null),e([d()],$.prototype,\"isEmpty\",null),e([d({readOnly:!0})],$.prototype,\"rendersOccludedDraped\",null),$=e([c(\"esri.views.3d.terrain.OverlayRenderer\")],$);class ee{constructor(e,r,t){this.drapeSource=e,this.renderer=r,this.index=t}}const re=[[1,.5,.5],[.5,.5,1]],te=-2,se=W.OccludeAndTransparent,ie=new H;ie.hasAlpha=!0;export{$ as OverlayRenderer,te as drapedZ,se as overlayRenderOccludedFlag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{generateUID as t}from\"../../../../core/uid.js\";import{copy as r,multiply as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as s}from\"../../../../chunks/vec32.js\";import{N as o,c as n,a as h}from\"../../../../chunks/sphere.js\";import{maxScale as a}from\"../../support/mathUtils.js\";class g{constructor(r,i={}){this.geometry=r,this.screenToWorldRatio=1,this._transformation=e(),this._shaderTransformation=null,this._boundingSphere=null,this.id=t(),this.layerUid=i.layerUid,this.graphicUid=i.graphicUid,this.castShadow=i.castShadow??!1,i.objectShaderTransformation&&this.objectShaderTransformationChanged(i.objectShaderTransformation)}get transformation(){return this._transformation}set transformation(t){r(this._transformation,t),this._boundingSphere=null}get boundingInfo(){return this.geometry.boundingInfo}objectShaderTransformationChanged(t){null==t?this._shaderTransformation=null:(this._shaderTransformation??=e(),i(this._shaderTransformation,t,this.geometry.transformation)),this._boundingSphere=null}get boundingSphere(){return this.boundingInfo?(null==this._boundingSphere&&(this._boundingSphere??=n(),s(h(this._boundingSphere),this.boundingInfo.center,this.shaderTransformation),this._boundingSphere[3]=this.boundingInfo.radius*a(this.shaderTransformation)),this._boundingSphere):o}get material(){return this.geometry.material}get type(){return this.geometry.type}get shaderTransformation(){return this._shaderTransformation??this.transformation}get attributes(){return this.geometry.attributes}get highlight(){return this.geometry.highlights}foreachHighlightOptions(t){this.geometry.foreachHighlightOptions(t)}get hasHighlights(){return this.geometry.hasHighlights}get occludees(){return this.geometry.occludees}get visible(){return this.geometry.visible}set visible(t){this.geometry.visible=t}}class m extends g{}export{g as RenderGeometry,m as ValidatedRenderGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{SliceDraw as e}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as o}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{VertexColor as i}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{terrainDepthTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{VisualVariables as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{ColorConversion as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float4PassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as a}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{VertexAttribute as g}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as v}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{ShaderBuilder as b}from\"../views/webgl/ShaderBuilder.js\";function c(c){const m=new b,{vertex:u,fragment:w,attributes:p,varyings:f}=m,{vvColor:h,hasVertexColors:C}=c;return d(u,c),m.include(r,c),m.include(i,c),m.include(s,c),m.include(o,c),w.include(e,c),m.include(v,c),m.include(l,c),p.add(g.POSITION,\"vec3\"),h&&p.add(g.COLORFEATUREATTRIBUTE,\"float\"),C||f.add(\"vColor\",\"vec4\"),f.add(\"vpos\",\"vec3\"),u.uniforms.add(new n(\"uColor\",(e=>e.color))),u.main.add(a`\n      vpos = position;\n      forwardNormalizedVertexColor();\n      forwardObjectAndLayerIdColor();\n\n      ${C?\"vColor *= uColor;\":h?\"vColor = uColor * interpolateVVColor(colorFeatureAttribute);\":\"vColor = uColor;\"}\n      forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);\n      gl_Position = transformPosition(proj, view, vpos);`),w.include(t),w.main.add(a`discardBySlice(vpos);\ndiscardByTerrainDepth();\noutputColorHighlightOID(vColor, vpos);`),m}const m=Object.freeze(Object.defineProperty({__proto__:null,build:c},Symbol.toStringTag,{value:\"Module\"}));export{m as C,c as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ZEROS as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{isColorOrColorEmission as r,ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as s}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as l}from\"../lib/OITPass.js\";import{blending as o,oitDepthTest as n,depthWrite as a,getDrawBuffers as c,getOITPolygonOffset as p}from\"../lib/OrderIndependentTransparency.js\";import{stencilWriteMaskOn as u,stencilToolMaskBaseParams as m,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{VisualVariablePassParameters as d}from\"../materials/VisualVariablePassParameters.js\";import{C as h}from\"../../../../chunks/ColorMaterial.glsl.js\";import{SpecialDrawBuffers as b}from\"../../../webgl/enums.js\";import{makePipelineState as j,cullingParams as P,defaultColorWrite as g}from\"../../../webgl/renderState.js\";class O extends d{constructor(){super(...arguments),this.color=e}}class S extends i{constructor(e,r){super(e,r,new s(h,(()=>import(\"./ColorMaterial.glsl.js\"))))}_createPipeline(e,s){const{oitPass:i,output:d,transparent:h,cullFace:O,draped:S,hasOccludees:_,polygonOffset:w,enableOffset:x}=e,y=i===l.NONE,N=i===l.FrontFace;return j({blending:r(d)&&h?o(i):null,culling:P(O),depthTest:S?null:{func:n(i)},depthWrite:a(e),drawBuffers:d===t.Depth?{buffers:[b.NONE]}:c(i,d),colorWrite:g,stencilWrite:_?u:null,stencilTest:_?s?m:f:null,polygonOffset:y||N?w?T:null:p(x)})}initializePipeline(e){return this._occludeePipelineState=this._createPipeline(e,!0),this._createPipeline(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}const T={factor:1,units:1};export{O as ColorMaterialPassParameters,S as ColorMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as e}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as s}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";class a extends i{constructor(){super(...arguments),this.cullFace=s.None,this.hasVertexColors=!1,this.transparent=!1,this.discardInvisibleFragments=!1,this.polygonOffset=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.objectAndLayerIdColorInstanced=!1,this.vvColor=!1,this.draped=!1,this.textureCoordinateType=e.None,this.emissionSource=o.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.vvSize=!1,this.vvOpacity=!1}}t([r({count:s.COUNT})],a.prototype,\"cullFace\",void 0),t([r()],a.prototype,\"hasVertexColors\",void 0),t([r()],a.prototype,\"transparent\",void 0),t([r()],a.prototype,\"discardInvisibleFragments\",void 0),t([r()],a.prototype,\"polygonOffset\",void 0),t([r()],a.prototype,\"enableOffset\",void 0),t([r()],a.prototype,\"writeDepth\",void 0),t([r()],a.prototype,\"hasOccludees\",void 0),t([r()],a.prototype,\"terrainDepthTest\",void 0),t([r()],a.prototype,\"cullAboveTerrain\",void 0),t([r()],a.prototype,\"objectAndLayerIdColorInstanced\",void 0),t([r()],a.prototype,\"vvColor\",void 0),t([r()],a.prototype,\"draped\",void 0);export{a as ColorMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ZEROS as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newLayout as r}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmissionOrOID as e,isDepth as s,is2DGeometryOutput as i,isColorOrColorEmission as a,ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as n}from\"../effects/geometry/olidUtils.js\";import{CullFaceOptions as h}from\"../lib/basicInterfaces.js\";import p from\"../lib/GLMaterial.js\";import{OITPolygonOffsetLimit as l}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as f}from\"./DefaultBufferWriter.js\";import{TriangleMaterial as m}from\"./TriangleMaterial.js\";import{VisualVariablePassParameters as _}from\"./VisualVariablePassParameters.js\";import{ColorMaterialTechnique as g}from\"../shaders/ColorMaterialTechnique.js\";import{ColorMaterialTechniqueConfiguration as T}from\"../shaders/ColorMaterialTechniqueConfiguration.js\";import{alphaCutoff as O}from\"../../../../webscene/support/AlphaCutoff.js\";class A extends m{constructor(t){super(t,P),this._configuration=new T,this.supportsEdges=!0,this.produces=new Map([[u.OPAQUE_MATERIAL,t=>this._isOpaqueMaterialPass(t)],[u.OPAQUE_MATERIAL_WITHOUT_NORMALS,t=>this._isOpaqueNoSSAODepthPass(t)],[u.TRANSPARENT_MATERIAL,t=>e(t)&&this._transparent&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_NORMALS,t=>s(t)&&this._transparent&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,t=>e(t)&&this._transparent&&!this.parameters.writeDepth],[u.DRAPED_MATERIAL,t=>i(t)]])}getConfiguration(t,r){return this._configuration.output=t,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._transparent,this._configuration.discardInvisibleFragments=this._transparent&&!this._isOpaquePass(t)&&this.parameters.discardInvisibleFragments,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=r.hasOccludees,this._configuration.oitPass=r.oitPass,this._configuration.enableOffset=r.camera.relativeElevation<l,this._configuration.terrainDepthTest=r.terrainDepthTest&&a(t),this._configuration.cullAboveTerrain=r.cullAboveTerrain,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.draped=this.parameters.draped,this._configuration}get visible(){return this.parameters.color[3]>=O}get _transparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}_isOpaquePass(t){return this._isOpaqueMaterialPass(t)||this._isOpaqueNoSSAODepthPass(t)}_isOpaqueMaterialPass(t){return t===o.Highlight||e(t)&&!this._transparent}_isOpaqueNoSSAODepthPass(t){return s(t)&&this.parameters.writeDepth&&!this._transparent}createGLMaterial(t){return new d(t)}createBufferWriter(){const t=r().vec3f(c.POSITION);return n()&&t.vec4u8(c.OBJECTANDLAYERIDCOLOR),this.parameters.vvColor?t.f32(c.COLORFEATUREATTRIBUTE):t.vec4u8(c.COLOR),new f(t)}}class d extends p{beginSlot(t){return this.getTechnique(g,t)}}class P extends _{constructor(){super(...arguments),this.color=t,this.forceTransparentMode=!1,this.writeDepth=!0,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=h.None,this.draped=!1,this.discardInvisibleFragments=!1}}export{A as ColorMaterial,P as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{projectBuffer as o}from\"../../../../geometry/projection/projectBuffer.js\";import{newDoubleArray as e,doubleSubArray as t}from\"../../../../geometry/support/DoubleArray.js\";import{CounterClockwiseMode as n,ringsToTriangulationInfo as r}from\"../../../../geometry/support/triangulationUtils.js\";import{applyPerVertexElevationAlignment as i}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{drapedZ as s}from\"../../terrain/OverlayRenderer.js\";function p(o,t,s,p){const l=\"polygon\"===o.type?n.CCW_IS_HOLE:n.NONE,a=\"polygon\"===o.type?o.rings:o.paths,{position:u,outlines:f}=r(a,!!o.hasZ,l,o.spatialReference),m=e(u.length),g=i(u,o.spatialReference,0,m,0,u,0,u.length/3,t,s,p),y=null!=g;return{lines:y?c(f,u,m):[],projectionSuccess:y,sampledElevation:g}}function l(e,t){const i=\"polygon\"===e.type?n.CCW_IS_HOLE:n.NONE,p=\"polygon\"===e.type?e.rings:e.paths,{position:l,outlines:a}=r(p,!1,i),u=o(l,e.spatialReference,0,l,t,0);for(let o=2;o<l.length;o+=3)l[o]=s;return{lines:u?c(a,l):[],projectionSuccess:u}}function c(o,e,n=null){const r=new Array;for(const{index:i,count:s}of o){if(s<=1)continue;const o=3*i,p=3*s;r.push({position:t(e,3*i,3*s),mapPositions:null!=n?t(n,o,p):void 0})}return r}export{p as geometryToRenderInfo,l as geometryToRenderInfoDraped};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar a;!function(a){a[a.EnableFastUpdates=0]=\"EnableFastUpdates\",a[a.DisableFastUpdates=1]=\"DisableFastUpdates\",a[a.UpdateFastLocalOrigin=2]=\"UpdateFastLocalOrigin\"}(a||(a={}));export{a as MeshTransformUpdateAction};\n"],"names":["b","t","e","r","o","n","g","i","a","l","u","h","j","T","D","w","y","E","f","p","A","s","m","c","I","F","O","e$4","d","n$5","r$2","t$3","i$3","x","_","H","P","S","C","v","O$1","o$5","a$6","e$2","l$3","e$1","l$2","s$2","M","q","U","R","G","L","V","s$1","a$3","c$2","a$2","X","has","it","Tt","at","rt","z","W","Q","J","K","et","k","jt","N","yt","Y","Z","$","tt","st","ht","ot","nt","ct","lt","dt","mt","ut","_t","ft","gt","B","pt","xt","bt","wt","Mt","Ct","se","ie","re","ee","te","a$1"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55]}