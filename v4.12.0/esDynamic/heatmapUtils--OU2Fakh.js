import{bn as u,bo as l,bp as m}from"./main-DnzmeE4U.js";import{_ as p}from"./vec42-D8CJyqHG.js";import{n as h}from"./vec4f64-CjUMzAyX.js";const c=2.4;function y(t){return u(t*c)}function b(t){return l(t)/c}function g(t,r,i,a){let{color:s,ratio:e}=r,{color:o,ratio:n}=i;n===e&&(n===1?e-=1e-6:n+=1e-6);const f=m((a-e)/(n-e),0,1);p(t,s.toArray(),o.toArray(),f)}function x(t){const r=new Uint8ClampedArray(2048);if(t=t.filter(({ratio:o})=>o>=0&&o<=1).sort((o,n)=>o.ratio-n.ratio).map(({color:o,ratio:n})=>({color:o,ratio:Math.max(n,.001)})),t.length<1)return r;let i=t[0],a=t[0],s=1;const e=h();for(let o=0;o<512;o++){const n=(o+.5)/512;for(;n>a.ratio&&s<t.length;)i=a,a=t[s++];g(e,i,a,n),r.set(e,4*o)}return r}function A(t,r,i){const a=Math.sqrt(t**2+r**2)/i;return a>1?0:3/(Math.PI*i**2)*(1-a**2)**2}function M(t){return typeof t=="function"?t:t?r=>+r[t]:()=>1}export{b as a,c,y as e,x as f,A as l,M as u};
