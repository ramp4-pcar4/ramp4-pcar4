{"version":3,"file":"OptimizedGeometry-1qDYm3YK.js","sources":["../../node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{estimateNumberArrayMemory as t}from\"../../core/memoryEstimations.js\";const s=2;class e{constructor(t=[],s=[]){this.lengths=t??[],this.coords=s??[]}static fromJSON(t){return new e(t.lengths,t.coords)}static fromRect(t){const[s,o,r,h]=t,n=r-s,i=h-o;return new e([5],[s,o,n,0,0,i,-n,0,0,-i])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((t,s)=>t+s))}get usedMemory(){return 64+t(this.lengths,this.coords)}area(){let t=0,e=0;if(!this.lengths.length)return 0;for(let o=0;o<this.lengths.length;o++){const r=this.lengths[o];if(r<3)continue;let h=this.coords[s*e],n=this.coords[s*e+1];for(let o=1;o<r;o+=1){const r=this.coords[s*(o+e)],i=this.coords[s*(o+e)+1];t+=-.5*(r-h)*(i+n),h=r,n=i}e+=r}return t}forEachVertex(t){let e=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let o=0;o<this.lengths.length;o++){const r=this.lengths[o];for(let o=0;o<r;o++){t(this.coords[s*(o+e)],this.coords[s*(o+e)+1])}e+=r}}deltaDecode(){const t=this.clone(),{coords:s,lengths:e}=t;let o=0;for(const r of e){for(let t=1;t<r;t++)s[2*(o+t)]+=s[2*(o+t)-2],s[2*(o+t)+1]+=s[2*(o+t)-1];o+=r}return t}clone(t){if(0===this.lengths.length)return new e([],[this.coords[0],this.coords[1]]);const o=(0===this.lengths.length?1:this.lengths.reduce(((t,s)=>t+s)))*s,r=this.coords.slice(0,o);return t?(t.set(r),new e(this.lengths,t)):new e(Array.from(this.lengths),Array.from(r))}}export{e as default};\n"],"names":["s","e","t","r","h","n","i","o"],"mappings":"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","x_google_ignoreList":[0]}