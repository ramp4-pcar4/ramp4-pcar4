import{dO as L,dP as x,e1 as w,r as O,e6 as T,e7 as W,dS as j,dT as q,dU as o,dW as p,dX as i,d1 as s,e8 as A,d_ as C,d$ as n,ea as F,dV as S,c$ as c,e0 as U,dY as V,eb as m}from"./main-DnzmeE4U.js";const $=["content"],B=L({__name:"screen",props:{panel:{type:Object,required:!0}},setup(v){const g=m(()=>import("./header-BE9fD4Qd.js")),f=m(()=>import("./item-DF94_EAr.js")),{t:r}=x(),y=w("iApi"),e=O(),d=()=>{e.value._tippy.hide()},l=t=>{t.key==="Tab"&&e.value?.matches(":focus")&&e.value._tippy.show()},h=t=>{const a=new CustomEvent("refocusLegendItem",{detail:{focusItem:t}});e.value?.dispatchEvent(a)};T(()=>{e.value?.addEventListener("blur",d),e.value?.addEventListener("keyup",l)}),W(()=>{e.value?.removeEventListener("blur",d),e.value?.removeEventListener("keyup",l)});const _=j(()=>{const t=y.fixture.get("legend");return t?[...t.getLegend()]:[]});return(t,a)=>{const E=q("panel-screen"),b=o("focus-list"),k=o("tippy");return s(),p(E,{panel:v.panel},{header:i(()=>[A(C(n(r)("legend.title")),1)]),content:i(()=>[F(n(g)),S((s(),c("div",{content:n(r)("panels.controls.items"),ref_key:"el",ref:e},[(s(!0),c(U,null,V(_.value,u=>(s(),p(n(f),{legendItem:u,key:u.uid,onFocusItem:a[0]||(a[0]=(I,D)=>h(I))},null,8,["legendItem"]))),128))],8,$)),[[b],[k,{trigger:"manual",placement:"top-end",touch:!1,maxWidth:190}]])]),_:1},8,["panel"])}}});export{B as default};
