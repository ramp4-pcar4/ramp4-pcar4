{"version":3,"file":"FeaturePipelineWorker-CQiy1FDy.js","sources":["../../node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js","../../node_modules/@arcgis/core/layers/support/StreamConnection.js","../../node_modules/@arcgis/core/views/2d/layers/features/PipelineConnectionHandlers.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/mesh/MultiTileMeshData.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/MeshFactory.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/util/Matcher.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/util/DictionaryMatcher.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/util/IntervalMatcher.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/util/LabelMatcher.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/util/MapMatcher.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/util/createMatcher.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/FeatureMeshFactory.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/util/MatcherContext.js","../../node_modules/@arcgis/core/views/2d/layers/features/ProcessorTileMessageQueue.js","../../node_modules/@arcgis/core/views/2d/layers/features/aggregation/ComputedAggregateField.js","../../node_modules/@arcgis/core/views/2d/layers/features/processor/AProcessorStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/processor/AAggregateStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSourceMessage.js","../../node_modules/@arcgis/core/views/2d/layers/features/processor/BinningStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/aggregation/AAggregateCell.js","../../node_modules/@arcgis/core/views/2d/layers/features/aggregation/AccumulatedStatistics.js","../../node_modules/@arcgis/core/views/2d/layers/features/aggregation/GridCell.js","../../node_modules/@arcgis/core/views/2d/layers/features/aggregation/AAggregateSpatialIndex.js","../../node_modules/@arcgis/core/views/2d/layers/features/aggregation/GridSpatialIndex.js","../../node_modules/@arcgis/core/views/2d/layers/features/processor/support/WithDisplayId.js","../../node_modules/@arcgis/core/views/2d/layers/features/processor/ClusterStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/FeatureSpatialIndex.js","../../node_modules/@arcgis/core/geohash/geohashUtils.js","../../node_modules/@arcgis/core/geohash/GeohashCell.js","../../node_modules/@arcgis/core/geohash/GeohashTree.js","../../node_modules/@arcgis/core/views/2d/layers/features/aggregation/GeohashSpatialIndex.js","../../node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderIndirect.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/ASourceChunk.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/Overrides.js","../../node_modules/@arcgis/core/views/2d/layers/features/processor/FeatureUpdateStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/processor/TrackStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/Processor.js","../../node_modules/@arcgis/core/views/2d/layers/features/FeatureStoreStatistics.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSourceQueryInfo.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/StreamMessenger.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/FeatureSnapshotSourceChunk.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/support/snapshotUtils.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureCache.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ALoadStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js","../../node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/support/queryAdapters.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/AFetchLoadStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ATileLoadStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/DrillDownTileSourceChunk.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/DrillDownTileLoadStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/PagedTileSourceChunk.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/PagedTileLoadStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderParquet.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ParquetLoadStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/SnapshotLoadStrategy.js","../../node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js","../../node_modules/@arcgis/core/layers/graphics/sources/connections/WebSocketConnection.js","../../node_modules/@arcgis/core/layers/graphics/sources/connections/GeoEventConnection.js","../../node_modules/@arcgis/core/layers/support/ClientSideConnection.js","../../node_modules/@arcgis/core/layers/graphics/sources/connections/createConnection.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/StreamFeatureStore.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/StreamSourceChunk.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/StreamLoadStrategy.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/chunks/SourceChunkStore.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureSource.js","../../node_modules/@arcgis/core/views/2d/layers/features/sources/FeatureTileSubscription.js","../../node_modules/@arcgis/core/views/2d/layers/features/FeaturePipelineWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import{makeAbsolute as i,addQueryParameters as r,urlToObject as o}from\"../../core/urlUtils.js\";import s from\"../../geometry/SpatialReference.js\";import{wgs84 as a}from\"../../geometry/support/spatialReferenceUtils.js\";import{project as l}from\"../../geometry/support/webMercatorUtils.js\";import{convertToFeatureSet as c,convertToGeometry as u,convertFromGeometry as d}from\"../graphics/featureConversionUtils.js\";import f from\"../graphics/OptimizedFeatureSet.js\";import{validateGeoJSON as m,inferLayerProperties as p,createOptimizedFeatures as g}from\"../graphics/sources/geojson/geojson.js\";import{createDrawingInfo as y}from\"../graphics/sources/support/clientSideDefaults.js\";import{mixAttributes as w}from\"../graphics/sources/support/sourceUtils.js\";import j from\"../support/FieldsIndex.js\";import{kebabDict as b}from\"../support/fieldType.js\";import{utc as h}from\"../../time/constants.js\";const F=()=>n.getLogger(\"esri.layers.ogc.ogcFeatureUtils\"),I=\"startindex\",T=new Set([I,\"offset\"]),k=\"http://www.opengis.net/def/crs/\",x=`${k}OGC/1.3/CRS84`;var S;async function v(n,o,s={},a=5){const{links:l}=n,c=U(l,\"items\",S.geojson)||U(l,\"http://www.opengis.net/def/rel/ogc/1.0/items\",S.geojson);if(null==c)throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{apiKey:u,customParameters:d,signal:f}=s,g=i(c.href,n.landingPage.url),w={limit:a,...d,token:u},T=r(g,w),k={accept:S.geojson},{data:x}=await e(T,{signal:f,headers:k}),v=A(T,a,x.links)??I;m(x);const N=p(x,{geometryType:o.geometryType}),O=o.fields||N.fields||[],P=null!=o.hasZ?o.hasZ:N.hasZ,q=N.geometryType,C=o.objectIdField||N.objectIdFieldName||\"OBJECTID\";let R=o.timeInfo;const $=O.find((({name:e})=>e===C));if($)$.editable=!1,$.nullable=!1;else{if(!N.objectIdFieldType)throw new t(\"ogc-feature-layer:missing-feature-id\",\"Collection geojson require a feature id as a unique identifier\");O.unshift({name:C,alias:C,type:\"number\"===N.objectIdFieldType?\"esriFieldTypeOID\":\"esriFieldTypeString\",editable:!1,nullable:!1})}if(C!==N.objectIdFieldName){const e=O.find((({name:e})=>e===N.objectIdFieldName));e&&(e.type=\"esriFieldTypeInteger\")}O===N.fields&&N.unknownFields.length>0&&F().warn({name:\"ogc-feature-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:N.unknownFields}});for(const e of O){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type&&(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable),!e.name)throw new t(\"ogc-feature-layer:invalid-field-name\",\"field name is missing\",{field:e});if(!b.jsonValues.includes(e.type))throw new t(\"ogc-feature-layer:invalid-field-type\",`invalid type for field \"${e.name}\"`,{field:e})}if(R){const e=new j(O);if(R.startTimeField){const t=e.get(R.startTimeField);t?(R.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):R.startTimeField=null}if(R.endTimeField){const t=e.get(R.endTimeField);t?(R.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):R.endTimeField=null}if(R.trackIdField){const t=e.get(R.trackIdField);t?R.trackIdField=t.name:(R.trackIdField=null,F().warn({name:\"ogc-feature-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:R}}))}R.timeReference||={timeZoneIANA:h},R.startTimeField||R.endTimeField||(F().warn({name:\"ogc-feature-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:R}}),R=void 0)}return{drawingInfo:q?y(q):null,extent:L(n),geometryType:q,fields:O,hasZ:!!P,objectIdField:C,paginationParameter:v,timeInfo:R}}async function N(n,r={}){const{links:o,url:s}=n,a=U(o,\"data\",S.json)||U(o,\"http://www.opengis.net/def/rel/ogc/1.0/data\",S.json);if(null==a)throw new t(\"ogc-feature-layer:missing-collections-page\",\"Missing collections url\");const{apiKey:l,customParameters:c,signal:u}=r,d=i(a.href,s),{data:f}=await e(d,{signal:u,headers:{accept:S.json},query:{...c,token:l}});for(const e of f.collections)e.landingPage=n;return f}async function O(n,r={}){const{links:o,url:s}=n,a=U(o,\"conformance\",S.json)||U(o,\"http://www.opengis.net/def/rel/ogc/1.0/conformance\",S.json);if(null==a)throw new t(\"ogc-feature-layer:missing-conformance-page\",\"Missing conformance url\");const{apiKey:l,customParameters:c,signal:u}=r,d=i(a.href,s),{data:f}=await e(d,{signal:u,headers:{accept:S.json},query:{...c,token:l}});return f}async function P(t,n={}){const{apiKey:i,customParameters:r,signal:o}=n,{data:s}=await e(t,{signal:o,headers:{accept:S.json},query:{...r,token:i}});return s.url=t,s}async function q(t,n={}){const{links:r,url:o}=t,s=U(r,\"service-desc\",S.openapi);if(null==s)return F().warn(\"ogc-feature-layer:missing-openapi-page\",\"The OGC API-Features server does not have an OpenAPI page.\"),null;const{apiKey:a,customParameters:l,signal:c}=n,u=i(s.href,o),{data:d}=await e(u,{signal:c,headers:{accept:S.openapi},query:{...l,token:a}});return d}function C(e){const t=/^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(?<authority>.*)\\/(?<version>.*)\\/(?<code>.*)$/i.exec(e),n=t?.groups;if(!n)return null;const{authority:i,code:r}=n;switch(i.toLowerCase()){case\"ogc\":switch(r.toLowerCase()){case\"crs27\":return s.GCS_NAD_1927.wkid;case\"crs83\":return 4269;case\"crs84\":case\"crs84h\":return s.WGS84.wkid;default:return null}case\"esri\":case\"epsg\":{const e=Number.parseInt(r,10);return Number.isNaN(e)?null:e}default:return null}}async function R(e,t,n){const i=await $(e,t,n);return c(i)}async function $(n,r,o){const{collection:{links:c,landingPage:{url:m}},layerDefinition:p,maxRecordCount:y,queryParameters:{apiKey:b,customParameters:h},spatialReference:F,supportedCrs:I}=n,T=U(c,\"items\",S.geojson)||U(c,\"http://www.opengis.net/def/rel/ogc/1.0/items\",S.geojson);if(null==T)throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{geometry:k,num:x,start:v,timeExtent:N,where:O}=r;if(r.objectIds)throw new t(\"ogc-feature-layer:query-by-objectids-not-supported\",\"Queries with object ids are not supported\");const P=s.fromJSON(F),q=r.outSpatialReference??P,C=q.isWGS84?null:W(q,I),R=K(k,I),$=M(N),G=Z(O),D=x??(null==v?y:10),L=0===v?void 0:v,{fields:A,geometryType:J,hasZ:z,objectIdField:E,paginationParameter:_}=p,B=i(T.href,m),{data:Q}=await e(B,{...o,query:{...h,...R,crs:C,datetime:$,query:G,limit:D,[_]:L,token:b},headers:{accept:S.geojson}}),V=g(Q,{geometryType:J,hasZ:z,objectIdField:E}),H=V.length===D&&!!U(Q.links??[],\"next\",S.geojson),X=new j(A);for(const e of V){const t={};w(X,t,e.attributes,!0);for(const e of X.fields)e.nullable&&!(e.name in t)&&(t[e.name]=null);t[E]=e.attributes[E],e.attributes=t}if(!C&&q.isWebMercator)for(const e of V)if(null!=e.geometry&&null!=J){const t=u(e.geometry,J,z,!1);t.spatialReference=s.WGS84,e.geometry=d(l(t,q))}for(const e of V)e.objectId=e.attributes[E];const Y=C||!C&&q.isWebMercator?q.toJSON():a,ee=new f;return ee.exceededTransferLimit=H,ee.features=V,ee.fields=A,ee.geometryType=J,ee.hasZ=z,ee.objectIdFieldName=E,ee.spatialReference=Y,ee}function G(e){return null!=e&&\"extent\"===e.type}function W(e,t){const{isWebMercator:n,wkid:i}=e;if(!i)return null;const r=n?t[3857]??t[102100]??t[102113]??t[900913]:t[e.wkid];return r?`${k}${r}`:null}function D(e){if(null==e)return\"\";const{xmin:t,ymin:n,xmax:i,ymax:r}=e;return`${t},${n},${i},${r}`}function M(e){if(null==e)return null;const{start:t,end:n}=e;return`${null!=t?t.toISOString():\"..\"}/${null!=n?n.toISOString():\"..\"}`}function Z(e){return null!=e&&e&&\"1=1\"!==e?e:null}function K(e,t){if(!G(e))return null;const{spatialReference:n}=e;if(!n||n.isWGS84)return{bbox:D(e)};const i=W(n,t);return null!=i?{bbox:D(e),\"bbox-crs\":i}:n.isWebMercator?{bbox:D(l(e,s.WGS84))}:null}function L(e){const t=e.extent?.spatial;if(!t)return null;const n=t.bbox[0],i=4===n.length,[r,o]=n,a=i?void 0:n[2];return{xmin:r,ymin:o,xmax:i?n[2]:n[3],ymax:i?n[3]:n[4],zmin:a,zmax:i?void 0:n[5],spatialReference:s.WGS84.toJSON()}}function U(e,t,n){return e.find((({rel:e,type:i})=>e===t&&i===n))??e.find((({rel:e,type:n})=>e===t&&!n))}function A(e,t,n){if(!n)return;const i=U(n,\"next\",S.geojson),r=o(i?.href)?.query;if(!r)return;const s=o(e).query,a=Object.keys(s??{}),l=Object.entries(r).filter((([e])=>!a.includes(e))).find((([e,n])=>T.has(e.toLowerCase())&&Number.parseInt(n,10)===t)),c=l?.[0];return c}!function(e){e.json=\"application/json\",e.geojson=\"application/geo+json\",e.openapi=\"application/vnd.oai.openapi+json;version=3.0\"}(S||(S={}));export{x as crsDefault,k as crsPrefix,v as getCollectionDefinition,N as getServerCollections,O as getServerConformance,P as getServerLandingPage,q as getServerOpenApi,C as getSpatialReferenceWkid,R as queryFeatureSetJSON,$ as queryOptimizedFeatureSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Error.js\";import o from\"../../core/Evented.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let c=class extends o.EventedAccessor{destroy(){this.emit(\"destroy\")}get connectionError(){return this.errorString?new e(\"stream-connection\",this.errorString):null}onFeature(r){this.emit(\"data-received\",r)}onMessage(r){this.emit(\"message-received\",r)}};r([t({readOnly:!0})],c.prototype,\"connectionError\",null),c=r([s(\"esri.layers.support.StreamConnection\")],c);const n=c;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ignoreConnectionErrors as e}from\"../../../../core/workers/utils.js\";class t{constructor(e){this._client=e,this.layerView=this._client.createInvokeProxy(\"\"),this.container=this._client.createInvokeProxy(\"container\"),this._eventLog=this._client.createInvokeProxy(\"eventLog\")}onEvent(t){e(this._eventLog.onEvent(t))}}export{t as PipelineConnectionHandlers};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../tiling/TileInfoView.js\";import e from\"../../../tiling/TileKey.js\";import\"../../../tiling/TileQueue.js\";import\"../../../tiling/TileStrategy.js\";import{tileSize as s}from\"../definitions.js\";import{MeshData as t}from\"./MeshData.js\";const i=1,r=2,n=4,h=8,o=16,c=32,a=64,l=128;function f(e){switch(e){case i:case h:case c:return-1;case r:case a:return 0;case n:case o:case l:return 1}}function u(e){switch(e){case i:case r:case n:return-1;case h:case o:return 0;case c:case a:case l:return 1}}const d=i|h|c,_=n|o|l,m=i|r|n,p=c|a|l;class g{constructor(e,s,i,r,n=0){this.tileKey=e,this._bufferingEnabled=s,this._sizeHint=n,this._meshes={self:new t(this.id,this._sizeHint),neighbors:new Array},this._currentRecordOverlaps=0,this._currentEntityOverlaps=0;const h=r?1:0;this._copyBufferedDataIntoSelf=i&&this._bufferingEnabled&&e.level===h}get id(){return this.tileKey.id}vertexCount(){return this._meshes.self.vertexCount()}indexCount(){return this._meshes.self.indexCount()}indexEnsureSize(e){this._meshes.self.indexEnsureSize(e)}entityStart(e,s=e){this._currentEntityOverlaps=0,this._meshes.self.entityStart(e,s)}entityRecordCount(){return this._meshes.self.entityRecordCount()}entityEnd(){if(this._meshes.self.entityEnd(),this._bufferingEnabled){if(this._copyBufferedDataIntoSelf)return;for(let e=0;e<8;e++){const s=1<<e;!!(this._currentEntityOverlaps&s)&&this._meshes.neighbors[e].entityEnd()}}}recordStart(e,s,t){this._currentRecordOverlaps=0,this._meshes.self.recordStart(e,s,t)}recordEnd(e=0){const s=this._meshes.self.recordEnd(this._currentRecordOverlaps);return s&&0!==this._currentRecordOverlaps?(this._copyIntoNeighbors(),this._currentEntityOverlaps|=this._currentRecordOverlaps,!0):s}recordBounds(e,s,t,i){this._bufferingEnabled&&this._addOverlap(e,s,t,i)}recordCount(){return this._meshes.self.recordCount()}metricStart(e){this._meshes.self.metricStart(e)}metricBoxWrite(e){this._meshes.self.metricBoxWrite(e)}metricEnd(){this._meshes.self.metricEnd()}vertexWrite(e){this._meshes.self.vertexWrite(e)}vertexWriteF32(e){this._meshes.self.vertexWriteF32(e)}vertexWriteRegion(e){this._meshes.self.vertexWriteRegion(e)}indexWrite(e){this._meshes.self.indexWrite(e)}serialize(s){const t={message:[],transferList:[]},i=this._meshes.self.serialize();return t.message.push({tileId:this.tileKey.id,...i.message}),t.transferList.push(...i.transferList),this._meshes.neighbors.forEach(((i,r)=>{const n=i.serialize(),h=1<<r,o=f(h),c=u(h),a=new e(this.tileKey).getNormalizedNeighbor(o,c,s);t.message.push({tileId:a.id,...n.message}),t.transferList.push(...n.transferList)})),t}_addOverlap(e,t,i,r){const n=Math.min(s/2,i),h=Math.min(s/2,r),o=255^((e<0+n?_:e>=s-n?d:_|d)|(t<0+h?p:t>=s-h?m:p|m));this._currentRecordOverlaps|=o}_copyIntoNeighbors(){for(let e=0;e<8;e++){const i=1<<e;if(!!(this._currentRecordOverlaps&i)){if(this._copyBufferedDataIntoSelf){const e=-f(i)*s,t=-u(i)*s;if(0!==t)continue;this._meshes.self.copyLast(e,t);continue}if(!this._meshes.neighbors[e]){const s=Math.floor(this._sizeHint/16);this._meshes.neighbors[e]=new t(i,s)}const r=this._meshes.neighbors[e],n=-f(i)*s,h=-u(i)*s;r.copyLastFrom(this._meshes.self,n,h)}}}}export{g as MultiTileMeshData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass s{}export{s as AMeshFactory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass t{constructor(){this._defaultResult=null,this._backgroundFillResult=null}static async from(e,s){const l=new t;return l.setDefault(await e.createMeshWriters(s.meshes)),l}size(){return 1}getDefault(){return this._defaultResult}setDefault(t){this._defaultResult=t}getBackgroundFill(){return this._backgroundFillResult}setBackgroundFill(t){this._backgroundFillResult=t}hasArcadeDependency(t){return this._defaultResult?.some((e=>e.hasArcadeDependency(t)))??!1}match(t,e,s){const l=this.doMatch(t,e)||this.getDefault();if(l&&l.length>0){const t=this.getBackgroundFill();if(t)return[...t,...l]}return l}getSortKey(t,e){return 0}doMatch(t,e){return null}async fetchResources(t,e){}}export{t as FeatureMatcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{FeatureMatcher as t}from\"./Matcher.js\";class e extends t{static async fromDictionaryRenderer(t,s){return new e(t,s)}constructor(t,e){super(),this._context=t,this._schema=e,this._hashToGroup=new Map}get fieldMap(){return this._schema.fieldMap}async fetchResources(t,e){const s=e.getCursor(),r=[];for(;s.next();)r.push(this._updateMeshWriterGroup(t,s));await Promise.all(r)}match(t,e){const s=t.getAttributeHash();return this._hashToGroup.get(s)}async _updateMeshWriterGroup(t,e){const s=e.readLegacyFeatureForDisplay(),r=e.getAttributeHash();if(this._hashToGroup.has(r))return;this._hashToGroup.set(r,null);const a=await t.fetchDictionaryResourceImmediate({type:\"dictionary-request\",feature:s});if(!a)return;const h=await this._context.createMeshWriters(a.meshes);this._hashToGroup.set(r,h)}}export{e as DictionaryMatcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{FeatureMatcher as e}from\"./Matcher.js\";class t extends e{constructor(e,t){super(),this._intervals=[],this._isMaxInclusive=t,this._field=e}static async fromIntervalSchema(e,s){const r=await e.storage.createComputedField(s),a=new t(r,s.isMaxInclusive);await Promise.all(s.intervals.map((async t=>{const s=await e.createMeshWriters(t.meshes);a.add(t,s)})));const i=await e.createMeshWriters(s.defaultSymbol);a.setDefault(i);const n=await e.createMeshWriters(s.backgroundFill);return a.setBackgroundFill(n),a}add(e,t){this._intervals.push({interval:e,result:t}),this._intervals.sort(((e,t)=>e.interval.min-t.interval.min))}size(){return super.size()+this._intervals.length}hasArcadeDependency(e){return this._field?.hasArcadeDependency(e)||this._intervals.some((t=>t.result.some((t=>t.hasArcadeDependency(e)))))}doMatch(e,t){const s=this._field?.read(e,t);if(null==s||isNaN(s)||s===1/0||s===-1/0)return null;for(let r=0;r<this._intervals.length;r++){const{interval:e,result:t}=this._intervals[r],a=s>=e.min,i=this._isMaxInclusive?s<=e.max:s<e.max;if(a&&i)return t}return null}}export{t as IntervalMatcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{FeatureMatcher as e}from\"./Matcher.js\";class s extends e{static async fromLabelSchema(e,a){const r=a.classes.map((async s=>{const a=await e.createMeshWriters(s.meshes);return{minScale:s.minScale,maxScale:s.maxScale,meshes:a,expression:null,where:await e.storage.createWhereClause(s.where)}})),t=await Promise.all(r);return new s(t)}constructor(e){super(),this._labels=e}match(e,s,a){if(!this._labels.length)return null;const r=this._getLabels(s.$view.scale),t=[];for(const l of r)l.where&&!l.where(e,a)||t.push(...l.meshes);return t}hasArcadeDependency(e){return this._labels.some((s=>s.meshes.some((s=>s.hasArcadeDependency(e)))))}_getLabels(e){return this._labels.filter((s=>this._validForTileScale(s,e)))}_validForTileScale(e,s){const a=s-s/4,r=s+s/2;return(!e.minScale||e.minScale>=a)&&(!e.maxScale||e.maxScale<=r)}}export{s as LabelMatcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{FeatureMatcher as e}from\"./Matcher.js\";class t extends e{constructor(e,t){super(),this._defaultSymbolSortKey=0,this._nullResult=null,this._resultsMap=new Map,this._fields=[],this._fields=e,this._separator=t||\"\"}static async fromMatcherSchema(e,s){const l=s.expression?[e.storage.createComputedField({expression:s.expression})]:[s.field?e.storage.createComputedField({field:s.field}):null,s.field2?e.storage.createComputedField({field:s.field2}):null,s.field3?e.storage.createComputedField({field:s.field3}):null],r=(await Promise.all(l)).filter((e=>!!e)),i=new t(r,s.fieldDelimiter),a=await e.createMeshWriters(s.defaultSymbol);i.setDefault(a);const u=await e.createMeshWriters(s.backgroundFill);return i.setBackgroundFill(u),await Promise.all(s.map.map((async(t,s)=>{const l=await e.createMeshWriters(t.symbol);\"<Null>\"===t.value?i.setNullResult(l):i.add(t.value,l,s+1)}))),i}setNullResult(e){this._nullResult=e}getSortKey(e,t){const s=this._getValueFromFields(e,t);if(null==s||\"\"===s||\"<Null>\"===s)return 0;const l=this._resultsMap.get(s.toString());return l?l.sortKey:this._defaultSymbolSortKey}add(e,t,s){this._resultsMap.set(e.toString(),{meshWriters:t,sortKey:s}),this._defaultSymbolSortKey=Math.max(this._defaultSymbolSortKey,s+1)}size(){return super.size()+this._resultsMap.size}hasArcadeDependency(e){return this._fields.some((t=>t.hasArcadeDependency(e)))||[...this._resultsMap.values()].some((t=>t.meshWriters.some((t=>t.hasArcadeDependency(e)))))||this._nullResult?.some((t=>t.hasArcadeDependency(e)))||!1}doMatch(e,t){const s=this._getValueFromFields(e,t);if(null!==this._nullResult&&(null==s||\"\"===s||\"<Null>\"===s))return this._nullResult;if(null==s)return null;const l=s.toString();return this._resultsMap.get(l)?.meshWriters}_getValueFromFields(e,t){const s=[];for(const l of this._fields){const r=l.read(e,t);null==r||\"\"===r?s.push(\"<Null>\"):s.push(r)}return s.join(this._separator)}}export{t as MapMatcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{internalTrackPartField as e,TrackPart as t}from\"../../../../../layers/support/streamLayerUtils.js\";import{DictionaryMatcher as r}from\"./DictionaryMatcher.js\";import{IntervalMatcher as a}from\"./IntervalMatcher.js\";import{LabelMatcher as s}from\"./LabelMatcher.js\";import{MapMatcher as c}from\"./MapMatcher.js\";import{FeatureMatcher as n}from\"./Matcher.js\";async function i(e,t){switch(t.type){case\"simple\":case\"heatmap\":case\"dot-density\":case\"pie-chart\":return n.from(e,t);case\"interval\":return a.fromIntervalSchema(e,t);case\"dictionary\":return r.fromDictionaryRenderer(e,t);case\"label\":return s.fromLabelSchema(e,t);case\"map\":return c.fromMatcherSchema(e,t);case\"subtype\":return h.fromSubtypes(e,t);case\"cluster\":return o.fromClusterSchema(e,t);case\"track\":return u.fromTrackSchema(e,t);default:throw new Error(\"Impl\")}}class h extends n{constructor(e,t){super(),this._subMatchers=e,this._subtypeField=t}static async fromSubtypes(e,t){const r=new Map,a=[];for(const s in t.renderers){const c=parseInt(s,10),n=i(e,t.renderers[s]).then((e=>r.set(c,e)));a.push(n)}return await Promise.all(a),new h(r,t.subtypeField)}match(e,t,r){const a=e.readAttribute(this._subtypeField),s=this._subMatchers.get(a);return s?s.match(e,t,r):null}hasArcadeDependency(e){for(const t of this._subMatchers.values())if(t.hasArcadeDependency(e))return!0;return!1}}class o extends n{static async fromClusterSchema(e,t){const[r,a]=await Promise.all([i(e,t.feature),i(e,t.cluster)]);return new o(r,a)}constructor(e,t){super(),this._featureMatcher=e,this._clusterMatcher=t}match(e,t,r){return 1===e.readAttribute(\"cluster_count\")?this._featureMatcher.match(e,t,r):this._clusterMatcher.match(e,t,r)}hasArcadeDependency(e){return this._featureMatcher.hasArcadeDependency(e)||this._clusterMatcher.hasArcadeDependency(e)}}class u extends n{static async fromTrackSchema(e,t){const[r,a,s]=await Promise.all([i(e,t.previousObservation),i(e,t.latestObservation),i(e,t.trackLine)]);return new u(r,a,s)}constructor(e,t,r){super(),this._previousObservationMatcher=e,this._latestObservationMatcher=t,this._trackLineMatcher=r}match(r,a,s){switch(r.readAttribute(e)){case t.TrackLine:return this._trackLineMatcher.match(r,a,s);case t.LatestObservation:return this._latestObservationMatcher.match(r,a,s);case t.PreviousObservation:return this._previousObservationMatcher.match(r,a,s)}return null}hasArcadeDependency(e){return this._trackLineMatcher.hasArcadeDependency(e)||this._latestObservationMatcher.hasArcadeDependency(e)||this._previousObservationMatcher.hasArcadeDependency(e)}}export{o as ClusterMatcher,h as SubtypeMatcher,i as createMatcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{AMeshFactory as e}from\"./MeshFactory.js\";import{createMatcher as t}from\"../../util/createMatcher.js\";class s extends e{static async create(e,o){const r=await t(e,o.symbology),c=o.labels?await t(e,o.labels):null;return new s(r,c)}constructor(e,t){super(),this._symbology=e,this._labels=t}destroy(){}async enqueueMatcherRequests(e,t){await Promise.all([this._symbology.fetchResources(e,t),this._labels?.fetchResources(e,t)])}enqueueWriterRequests(e,t,s,o){const r=this._symbology.match(t,s,o);if(r){for(const o of r)o.enqueueRequest(e,t,s);if(this._labels){const r=this._labels.match(t,s,o);if(!r)return;for(const o of r)o.enqueueRequest(e,t,s)}}}write(e,t,s,o,r,c){const a=this._symbology.match(s,o,r);if(!a)return;for(const n of a)n.write(e,t,s,o,c);if(e.entityRecordCount()>=1&&this._labels){const n=this._labels.match(s,o,r);if(!n)return;for(const r of n)r.setReferences(a),r.write(e,t,s,o,c)}}getSortKey(e,t){return this._symbology.getSortKey(e,t)}hasArcadeDependency(e){return!(!this._symbology.hasArcadeDependency(e)&&!this._labels?.hasArcadeDependency(e))}}export{s as FeatureMeshFactory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass s{constructor(s,r,t,e){this.storage=s,this.proxy=r,this.viewParams=t,this.registry=e}async createMeshWriters(s){const r=s.map((s=>this.registry.createMeshWriter(this.storage,this.proxy,this.viewParams,s)));return Promise.all(r)}}export{s as MatcherContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{QueueProcessor as s}from\"../../../../core/QueueProcessor.js\";class e{constructor(e){this._outstandingMessages=[],this._queue=new s({concurrency:e.concurrency,process:s=>e.process(s)})}async push(s){if(s.end)return await Promise.all(this._outstandingMessages),await this._queue.push(s),void(this._outstandingMessages=[]);const e=this._queue.push(s);return this._outstandingMessages.push(e),e}}export{e as ProcessorTileMessageQueue};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{DictionaryValue as t}from\"../support/DictionaryValue.js\";class s{static async create(i,e){if(\"count\"===e.statisticType){const i=new t(1);return new s(e.name,e.alias,e.type,e.statisticType,i)}const a=await i.createComputedField({expression:e.onStatisticExpression?.expression,field:e.onStatisticField});return new s(e.name,e.alias,e.type,e.statisticType,a)}constructor(t,s,i,e,a){this.name=t,this.alias=s,this.type=i,this.statisticType=e,this.computed=a}}export{s as ComputedAggregateField};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.subscription=t,this.handledChunks=new Set}destroy(){}}class e{constructor(t,e,s){this._source=t,this._attributeStore=e,this._sqlOptions=s,this._sendStates=new Map}destroy(){}get enablePixelBuffering(){return!0}get isAggregate(){return!1}onSubscribe(t){const e=this.createState(t);this._sendStates.set(t.key.id,e),this.updateChunks()}onUnsubscribe(t){this._sendStates.get(t.key.id)?.destroy(),this._sendStates.delete(t.key.id)}invalidate(){const t=Array.from(this._sendStates.values());this._sendStates.clear();for(const e of t)e.destroy(),this.onSubscribe(e.subscription)}invalidateAttributeData(t){}hasArcadeDependency(t){return!1}getFeatureObjectIdsForAggregate(t){throw new Error(\"InternalError: AggregateId lookup not supported\")}getDisplayIds(t){return this.displayMap(t,(t=>t),(t=>t))}getDisplayAndObjectIds(t){return this.displayMap(t,(t=>t),((t,e,s)=>[t,s]))}afterUpdateChunks(){}}export{e as AProcessorStrategy,t as ASendState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Evented.js\";import{create as r}from\"../../../../../geometry/support/aaBoundingBox.js\";import{getBoundsOptimizedGeometry as t}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{optimizedFeatureQueryEngineAdapter as a}from\"../../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js\";import{QueryEngine as s}from\"../../../../../layers/graphics/data/QueryEngine.js\";import{collectExpressionDependencies as o}from\"../../../../../support/arcadeOnDemand.js\";import{AProcessorStrategy as n}from\"./AProcessorStrategy.js\";class i extends n{constructor(r,t,s,n,i){super(r,t,i),this.spatialReference=s,this.aggregateFields=n,this._arcadeDependencies=new Set,this.events=new e,this.featureAdapter=a;for(const e of n)o(this._arcadeDependencies,e.computed)}get aggregateQueryEngine(){return this._aggregateQueryEngine||(this._aggregateQueryEngine=new s({featureStore:this,fieldsIndex:this._metadata.fieldsIndex,geometryType:this._metadata.geometryType,objectIdField:this._metadata.objectIdField,spatialReference:this.spatialReference})),this._aggregateQueryEngine}get isAggregate(){return!0}removeChunks(e){}hasArcadeDependency(e){return this._arcadeDependencies.has(e)}forEach(e){return this.forEachAggregateWorldSpace(e)}forEachInBounds(e,r){}forEachBounds(e,a){const s=r();for(const r of e){const e=t(s,r.geometry,!1,!1);e&&a(e)}}}export{i as AAggregateStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i,t,s,r){this.subscription=e,this.reader=i,this.clear=t,this.end=s,this.debugInfo=r,this.type=\"append\"}get id(){return this.subscription.tile.id}createMessage(e,i,t){return{type:\"append\",clear:this.clear,id:this.id,append:e,end:this.end,debugInfo:this.debugInfo,subscriptionVesrion:this.subscription.version,version:i,attributeEpoch:t}}}class i{constructor(e,i,t,s,r){this.subscription=e,this.reader=i,this.remove=t,this.end=s,this.debugInfo=r,this.type=\"update\"}get id(){return this.subscription.tile.id}createMessage(e,i,t){return{type:\"update\",id:this.id,modify:e,debugInfo:this.debugInfo,remove:this.remove,version:i,subscriptionVesrion:this.subscription.version,end:this.end,attributeEpoch:t}}}export{e as FeatureTileAppendMessage,i as FeatureTileUpdateMessage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../geometry/SpatialReference.js\";import{unquantizeOptimizedGeometry as t,convertToFeature as s}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as a}from\"../../../../../layers/graphics/OptimizedFeature.js\";import{checkProjectionSupport as r}from\"../../../../../layers/graphics/data/projectionSupport.js\";import i from\"../../../../../layers/support/FieldsIndex.js\";import{ComputedAggregateField as o}from\"../aggregation/ComputedAggregateField.js\";import{AAggregateStrategy as n}from\"./AAggregateStrategy.js\";import{ASendState as l}from\"./AProcessorStrategy.js\";import{FeatureTileAppendMessage as d,FeatureTileUpdateMessage as c}from\"../sources/FeatureSourceMessage.js\";import{ComputedAttributeStorage as u}from\"../support/ComputedAttributeStorage.js\";import p from\"../support/FeatureFilterEvaluator.js\";import{FeatureMetadata as f}from\"../support/FeatureMetadata.js\";import{FeatureSetReaderJSON as h}from\"../support/FeatureSetReaderJSON.js\";import m from\"../../../tiling/TileKey.js\";class g extends l{constructor(e,t){super(e),this.bins=new Map,this.featureCache=new Map,this.done=!1,this._store=t}reset(){this.destroy(),this.done=!1}destroy(){const e=this.subscription.tile.key.level;for(const t of this.featureCache.keys())this._store.releaseDisplayIdForObjectId(`${t}.${e}`);this.bins.clear(),this.featureCache.clear(),this.handledChunks.clear()}get tile(){return this.subscription.tile}*featuresWorldSpace(){for(const e of this.featureCache.values()){const s=e.clone();s.geometry&&t(s.geometry,s.geometry,!1,!1,this.subscription.tile.transform),yield s}}}class y extends n{static async create(t,s,a,i,n,l){const d=new u({spatialReference:s}),c=await Promise.all(t.fields.map((async e=>o.create(d,e)))),f=t.featureFilter?await p.create({geometryType:a.metadata.geometryType,hasM:!1,hasZ:!1,timeInfo:a.metadata.timeInfo,fieldsIndex:a.metadata.fieldsIndex,spatialReference:s,filterJSON:t.featureFilter}):null;return\"geohash\"===t.index.type&&await r(s,e.WGS84),new y(t,f,n,c,s,a,i,l)}constructor(e,t,s,a,r,o,n,l){super(o,n,r,a,l),this._schema=e,this._featureFilter=t,this._arcadeContextInfo=s,this._metadata=f.createFeature({geometryType:\"esriGeometryPolygon\",objectIdField:\"aggregateId\",fieldsIndex:new i(e.fields).toJSON(),globalIdField:null,spatialReference:o.metadata.spatialReference,outSpatialReference:o.metadata.outSpatialReference,subtypeField:null,subtypes:null,timeInfo:null,timeReferenceUnknownClient:null,dateFieldsTimeZone:null,typeIdField:null,types:null})}createState(e){return new g(e,this._attributeStore)}async*applyOverrideUpdate(e){for(const t of this._sendStates.values()){t.reset();const e=new d(t.subscription,h.empty(this._source.metadata),!0,!1,{});yield e}}displayMap(e,t,s){const a=new Map(e.map((e=>[t(e),e]))),r=[];for(const i of this._sendStates.values())for(const e of i.featuresWorldSpace()){const{objectId:t,displayId:i}=e,o=a.get(t);if(null!=o){const e=s(i,o,t);r.push(e),a.delete(t)}}return r}getDisplayFeatures(e){const t=new Set(e),a=new Set,r=[];for(const i of this._sendStates.values())for(const e of i.featuresWorldSpace())t.has(e.displayId)&&!a.has(e.objectId)&&(e.geometry&&r.push({...s(e,this._metadata.geometryType,!1,!1),displayId:e.displayId}),a.add(e.objectId));return{features:[],aggregates:r,tracks:[]}}getFeatureObjectIdsForAggregate(e){for(const t of this._sendStates.values())for(const s of t.bins.values())if(s.id===e)return Array.from(s.containedObjectIds);return[]}async*updateChunks(){for(const e of this._sendStates.values())yield*this._update(e,this._source)}forEachAggregateWorldSpace(e){const t=new Set;for(const s of this._sendStates.values())for(const a of s.featuresWorldSpace())t.has(a.objectId)||(e(a),t.add(a.objectId))}_createIndexOptions(e){switch(this._schema.index.type){case\"geohash\":return{type:\"geohash\",fields:this.aggregateFields,featureFilter:this._featureFilter,geohashLevel:this._schema.index.fixBinLevel,spatialReference:this.spatialReference,arcadeContextInfo:this._arcadeContextInfo,scale:e.scale,sqlOptions:this._sqlOptions};case\"grid\":{const t=this._schema.index.fixedBinLevel,s=null!=t?e.tileInfoView.getLODInfoAt(t).scale:e.scale;return{type:\"grid\",fields:this.aggregateFields,cellSize:this._schema.index.size,featureFilter:this._featureFilter,spatialReference:this.spatialReference,arcadeContextInfo:this._arcadeContextInfo,scale:s,sqlOptions:this._sqlOptions}}}}async*_update(e,t){const{handledChunks:s,subscription:r,bins:i,featureCache:o}=e,n=r.tile;if(e.done)return;for(const a of t.chunks()){if(s.has(a.chunkId))continue;s.add(a.chunkId);const t=a.queryInfo;if(\"tileId\"in t){const e=new m(t.tileId);if(e.level!==n.level||e.world!==n.key.world)continue}a.getAggregateIndex(this._createIndexOptions(e.tile)).putBounded(i,e.tile.extent,e.tile.resolution)}const l=[],d=r.tile.transform,u=r.tile.key.level;for(const c of i.values()){let e=o.get(c.id);if(e)e.attributes=c.getAttributes();else{const t=c.getGeometry(this.spatialReference,d);e=new a(t,c.getAttributes(),null,c.id),t||(e.centroid=c.getGeometricCentroid(this.spatialReference,d)),e.displayId=this._attributeStore.createDisplayIdForObjectId(`${e.objectId}.${u}`),o.set(c.id,e)}l.push(e)}this.events.emit(\"changed\"),e.done=!t.updateTracking.updating;const p=h.fromOptimizedFeatures(l,this._metadata,d),f=p.getCursor(),g=e.subscription.tile.createArcadeEvaluationOptions(this._arcadeContextInfo);for(;f.next();)this._attributeStore.setAttributeData(f.getDisplayId(),f,g,this._sqlOptions);const y=new c(e.subscription,p,[],e.done,{});yield y}}export{g as BinningState,y as BinningStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this._statistics=t}get statistics(){return this._statistics}}export{t as AAggregateCell};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isBadArcadeResult as t}from\"../../../arcade/callExpressionWithCursor.js\";const e=Math.PI/180;class s{static create(t){return new s(t.map((t=>i(t))))}constructor(t){this._statistics=t}values(){return this._statistics.values()}insert(t,e){for(const s of this._statistics)s.insert(t,e)}merge(t){for(let e=0;e<this._statistics.length;e++){const s=this._statistics[e],i=t._statistics[e];if(s.field.name!==i.field.name)throw new Error(\"InternalError: Tried to merge incompatible statistics\");s.merge(i)}}clone(){return new s(this._statistics.map((t=>t.clone())))}}function i(t){switch(t.statisticType){case\"min\":return new r(t);case\"max\":return new u(t);case\"avg\":return new c(t);case\"avg_angle\":return new h(t);case\"sum\":case\"count\":return new a(t);case\"mode\":return new o(t)}}class n{constructor(t){this.field=t}insert(e,s){if(!this.field.computed)return;const i=this.field.computed.read(e,s);t(i)||this._insertValue(i)}}class r extends n{constructor(){super(...arguments),this.type=\"min\",this.value=Number.MAX_VALUE}_insertValue(t){this.value=Math.min(this.value,t)}merge(t){this.value=Math.min(this.value,t.value)}clone(){const t=new r(this.field);return t.value=this.value,t}}class u extends n{constructor(){super(...arguments),this.type=\"max\",this.value=Number.MIN_VALUE}_insertValue(t){this.value=Math.max(this.value,t)}merge(t){this.value=Math.max(this.value,t.value)}clone(){const t=new u(this.field);return t.value=this.value,t}}class a extends n{constructor(){super(...arguments),this.type=\"sum\",this.value=0}_insertValue(t){this.value+=t}merge(t){this.value+=t.value}clone(){const t=new a(this.field);return t.value=this.value,t}}class c extends n{constructor(){super(...arguments),this.type=\"avg\",this._total=0,this._count=0}get value(){return this._total/this._count}_insertValue(t){this._total+=t,this._count+=1}merge(t){this._total+=t._total,this._count+=t._count}clone(){const t=new c(this.field);return t._total=this._total,t._count=this._count,t}}class h extends n{constructor(){super(...arguments),this.type=\"avg_angle\",this._x=0,this._y=0,this._count=0}get value(){const t=this._x/this._count,e=this._y/this._count,s=180/Math.PI;return Math.atan2(e,t)*s}_insertValue(t){this._x=this._x+Math.cos(t*e),this._y=this._y+Math.sin(t*e),this._count+=1}merge(t){this._x+=t._x,this._y+=t._y,this._count+=t._count}clone(){const t=new h(this.field);return t._x=this._x,t._y=this._y,t._count=this._count,t}}class o extends n{constructor(){super(...arguments),this._frequencies=new Map}get value(){let t,e=0;for(const[s,i]of this._frequencies.entries())i>e&&(e=i,t=s);return t}_insertValue(t){const e=this._frequencies.get(t);null!=e?this._frequencies.set(t,e+1):this._frequencies.set(t,1)}merge(t){for(const[e,s]of t._frequencies.entries()){const t=this._frequencies.get(e);null!=t?this._frequencies.set(e,t+s):this._frequencies.set(e,s)}}clone(){const t=new o(this.field);return t._frequencies=new Map(this._frequencies),t}}export{s as AccumulatedStatistics};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{quantizeX as t,quantizeY as e,quantizeOptimizedGeometry as r}from\"../../../../../layers/graphics/featureConversionUtils.js\";import i from\"../../../../../layers/graphics/OptimizedGeometry.js\";import{AAggregateCell as s}from\"./AAggregateCell.js\";import{AccumulatedStatistics as o}from\"./AccumulatedStatistics.js\";class l extends s{static createId(t,e){return`${t}.${e}`}static create(t,e,r,i){return new l(t,e,o.create(r),i)}constructor(t,e,r,i){super(r),this.gridX=t,this.gridY=e,this._worldUnitsPerCell=i,this._count=0,this._xWorldTotal=0,this._yWorldTotal=0,this._objectIds=new Set}get id(){return l.createId(this.gridX,this.gridY)}get containedObjectIds(){return this._objectIds}get count(){return this._count}get firstObjectId(){return this._objectIds.values().next().value}get centroidXWorld(){return this._xWorldTotal/this._count}get centroidYWorld(){return this._yWorldTotal/this._count}clone(){const t=new l(this.gridX,this.gridY,this._statistics.clone(),this._worldUnitsPerCell);return t._count=this._count,t._xWorldTotal=this._xWorldTotal,t._yWorldTotal=this._yWorldTotal,t._firstFeatureAttributes=this._firstFeatureAttributes,t._objectIds=new Set(this._objectIds),t}insert(t,e,r,i){0===this._count?this._firstFeatureAttributes=t.readAttributes():this._firstFeatureAttributes=null,this._count+=1,this._xWorldTotal+=r,this._yWorldTotal+=i,this._statistics.insert(t,e),this._objectIds.add(t.getObjectId())}merge(t){if(0!==t._count){this._count+=t._count,this._firstFeatureAttributes=t._firstFeatureAttributes,this._xWorldTotal+=t._xWorldTotal,this._yWorldTotal+=t._yWorldTotal,this._statistics.merge(t._statistics);for(const e of t._objectIds.values())this._objectIds.add(e)}}getCentroidX(e){return null==e?this.centroidXWorld:t(e,this.centroidXWorld)}getCentroidY(t){return null==t?this.centroidYWorld:e(t,this.centroidYWorld)}getGeometry(t,e){const s=this.gridX*this._worldUnitsPerCell,o=this.gridY*this._worldUnitsPerCell,l=new i([4],[s,o,s+this._worldUnitsPerCell,o,s+this._worldUnitsPerCell,o+this._worldUnitsPerCell,s,o+this._worldUnitsPerCell]);if(null!=e){const t=new i;return r(t,l,!1,!1,\"esriGeometryPolygon\",e)}return l}getCentroid(t){const e=new i([],[this.centroidXWorld,this.centroidYWorld]);if(null!=t){const s=new i;return r(s,e,!1,!1,\"esriGeometryPoint\",t)}return e}getGeometricCentroid(t,e){const s=this.gridX*this._worldUnitsPerCell+.5*this._worldUnitsPerCell,o=this.gridY*this._worldUnitsPerCell+.5*this._worldUnitsPerCell,l=new i([],[s,o]);if(null!=e){const t=new i;return r(t,l,!1,!1,\"esriGeometryPoint\",e)}return l}getAttributes(){const t={aggregateId:this.id};for(const e of this._statistics.values())t[e.field.name]=e.value;return null!=this._firstFeatureAttributes?{...t,...this._firstFeatureAttributes}:t}}export{l as GridCell};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{tileSize as t}from\"../../../engine/webgl/definitions.js\";import{createArcadeEvaluationOptions as e}from\"../support/arcadeUtils.js\";class r{constructor(t){this._options=t}insert(t,r){const o=t.getCursor(),{arcadeContextInfo:s,scale:i}=this._options,n=e(i,s);for(;o.next();)this._insertFeature(o,n,this._options.sqlOptions,r)}_insertFeature(e,r,o,s){const{featureFilter:i}=this._options;if(null!==i&&!i.check(e,o))return;let n=0,c=0;if(\"esriGeometryPoint\"===e.geometryType)n=e.readXWorldSpace(),c=e.readYWorldSpace();else{if(s){const r=e.readCentroidForDisplay();if(null==r)return;const[o,s]=r.coords;if(o<0||o>t||s<0||s>t)return}const r=e.readCentroidWorldSpace();if(null==r)return;n=r.coords[0],c=r.coords[1]}this._insert(e,n,c,r)}}export{r as AAggregateSpatialIndex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as t,inchesPerMeter as e}from\"../../../../../core/unitUtils.js\";import{AAggregateSpatialIndex as i}from\"./AAggregateSpatialIndex.js\";import{GridCell as s}from\"./GridCell.js\";const l=96;function o(i,s){return t(i)*e*l/s}class n extends i{constructor(t){super(t),this._cells=new Map,this._pixelsPerMapUnit=o(t.spatialReference,t.scale)}put(t){for(const e of this._cells.values()){const i=t.get(e.id);i?i.merge(e):t.set(e.id,e.clone())}}putBounded(t,e,i){const s=[e.xmin,e.ymin,e.xmax,e.ymax],[l,o,n,r]=s,c=Math.floor(l*this._pixelsPerMapUnit/this._options.cellSize),p=Math.floor(o*this._pixelsPerMapUnit/this._options.cellSize),a=Math.ceil(n*this._pixelsPerMapUnit/this._options.cellSize),h=Math.ceil(r*this._pixelsPerMapUnit/this._options.cellSize);for(let _=p;_<=h;_++)for(let e=c;e<=a;e++){const i=`${e}.${_}`,s=this._cells.get(i);if(!s)continue;const l=t.get(s.id);l?s&&!t.has(s.id)&&l.merge(s):t.set(s.id,s.clone())}}_insert(t,e,i,s){const l=e*this._pixelsPerMapUnit,o=i*this._pixelsPerMapUnit,n=Math.floor(l/this._options.cellSize),r=Math.floor(o/this._options.cellSize);this._getCellOrCreate(n,r).insert(t,s,e,i)}_getCellOrCreate(t,e){const i=s.createId(t,e);let l=this._cells.get(i);if(!l){const o=1*this._options.cellSize/this._pixelsPerMapUnit;l=s.create(t,e,this._options.fields,o),this._cells.set(i,l)}return l}}export{n as GridSpatialIndex,o as pixelsPerMapUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass s{constructor(s,t){this.inner=s,this.displayId=t}}export{s as WithDisplayId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{convertToFeature as e}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as t}from\"../../../../../layers/graphics/OptimizedFeature.js\";import s from\"../../../../../layers/graphics/OptimizedGeometry.js\";import i from\"../../../../../layers/support/FieldsIndex.js\";import{tileSize as r}from\"../../../engine/webgl/definitions.js\";import{ComputedAggregateField as n}from\"../aggregation/ComputedAggregateField.js\";import{GridCell as a}from\"../aggregation/GridCell.js\";import{pixelsPerMapUnit as l}from\"../aggregation/GridSpatialIndex.js\";import{AAggregateStrategy as o}from\"./AAggregateStrategy.js\";import{ASendState as d}from\"./AProcessorStrategy.js\";import{WithDisplayId as u}from\"./support/WithDisplayId.js\";import{FeatureTileAppendMessage as c}from\"../sources/FeatureSourceMessage.js\";import{ComputedAttributeStorage as h}from\"../support/ComputedAttributeStorage.js\";import p from\"../support/FeatureFilterEvaluator.js\";import{FeatureMetadata as f}from\"../support/FeatureMetadata.js\";import{FeatureSetReaderJSON as g}from\"../support/FeatureSetReaderJSON.js\";import _ from\"../../../tiling/TileKey.js\";const m=128;class y extends d{constructor(e){super(e),this.didSend=!1,this.done=!1}}class S{constructor(e,t,s,i,r){this._level=e,this._scale=t,this._indexOptions=s,this._clusterRadius=i,this._store=r,this._cells=new Map,this._handledChunks=new Set,this._statistics=new Map,this._clusters=new Map}destroy(){this._clearClusters()}_clearClusters(){for(const e of this._clusters.values())this._store.releaseDisplayIdForObjectId(e.inner.id);this._clusters.clear()}*aggregatesWorldSpace(){for(const e of this._clusters.values()){const s=e.inner.getCentroid(null),i=new t(s,e.inner.getAttributes(),null,e.inner.id,e.displayId);yield i}}clusters(){return this._clusters.values()}updateChunks(e,t){let s=!1;for(const a of e){const e=a.queryInfo;if(\"tileId\"in e){if(new _(e.tileId).level!==this._level)continue}if(!this._handledChunks.has(a.normalizedChunkId)){this._handledChunks.add(a.normalizedChunkId),s=!0;a.getAggregateIndex({...this._indexOptions,scale:this._scale}).put(this._cells)}}const i={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0},r=l(this._indexOptions.spatialReference,this._scale),n=this._indexOptions.cellSize;for(const{subscription:a}of t){const e=a.tile.bounds,t=Math.floor(e[0]*r/n),s=Math.floor(e[1]*r/n),l=Math.ceil(e[2]*r/n),o=Math.ceil(e[3]*r/n);i.xMin=Math.min(i.xMin,t),i.yMin=Math.min(i.yMin,s),i.xMax=Math.max(i.xMax,l),i.yMax=Math.max(i.yMax,o)}return null!=this._lastCellBounds&&i.xMin===this._lastCellBounds.xMin&&i.yMin===this._lastCellBounds.yMin&&i.yMin===this._lastCellBounds.yMin&&i.yMax===this._lastCellBounds.yMax||(s=!0,this._lastCellBounds=i),s&&this._clusterCells(i),s}async updateStatistics(e){let t=!1;for(const s of this._clusters.values())s.inner.count>1&&(t=this._updateAggregateStatistics(this._statistics,s.inner)||t);if(t){const t=Array.from(this._statistics.entries()).map((([e,t])=>({fieldName:e,minValue:t.minValue,maxValue:t.maxValue})));await e.container.updateStatistics(this._level,t)}}createAggregateFeatures(e,i){const n=e.subscription,a=[],l=n.tile.transform;for(const o of this._clusters.values()){let e=o.inner.getCentroidX(l);const i=o.inner.getCentroidY(l),d=n.tile.lod,u=d.wrap?d.worldSize[0]:null,c=1===o.inner.count?o.inner.firstObjectId:o.inner.id,h=o.displayId;if(null!=u)if(1===u){const n=new s([],[e,i]),l=new t(n,o.inner.getAttributes(),null,c,h);l.geometry.coords[0]-=r,a.push(l);const d=new s([],[e,i]),u=new t(d,o.inner.getAttributes(),null,c,h);u.geometry.coords[0]+=r,a.push(u)}else e>r+r/2?e-=u*r:e<-256&&(e+=u*r);if(e<r+m&&e>=-128&&i<r+m&&i>=-128){const r=new s([],[e,i]),n=new t(r,o.inner.getAttributes(),null,c,h);a.push(n)}}return g.fromOptimizedFeatures(a,i,n.tile.transform)}_clusterCells(e){let t=Array.from(this._cells.values());t=t.sort(((e,t)=>t.count-e.count));const s=[];for(const a of this._clusters.values())s.push(a.inner.id);this._clusters.clear();const i=this._clusterRadius*(1/l(this._indexOptions.spatialReference,this._scale)),r=1+this._clusterRadius/this._indexOptions.cellSize,n=new Set;for(const l of t){if(n.has(l.id))continue;if(l.gridX<e.xMin||l.gridX>e.xMax||l.gridY<e.yMin||l.gridY>e.yMax)continue;const t=this._store.createDisplayIdForObjectId(l.id),s=new u(l.clone(),t);n.add(l.id),this._clusters.set(l.id,s);const o=l.centroidXWorld,d=l.centroidYWorld;for(let e=l.gridY-r;e<=l.gridY+r;e++)for(let t=l.gridX-r;t<=l.gridX+r;t++){if(e===l.gridY&&t===l.gridX)continue;const r=this._cells.get(a.createId(t,e));if(!r||n.has(r.id))continue;const u=Math.abs(r.centroidXWorld-o),c=Math.abs(r.centroidYWorld-d);u<i&&c<i&&(s.inner.merge(r),n.add(r.id))}}for(const a of s)this._store.releaseDisplayIdForObjectId(a)}_updateAggregateStatistics(e,t){let s=!1;for(const i of t.statistics.values()){if(\"esriFieldTypeString\"===i.field.type)continue;const t=i.value,r=i.field,n=e.get(r.name);if(n){const{minValue:e,maxValue:i}=n,r=Math.min(n.minValue,t),a=Math.max(n.maxValue,t);e===r&&i===a||(n.minValue=r,n.maxValue=a,s=!0)}else e.set(r.name,{minValue:t,maxValue:t}),s=!0}return s}}class x extends o{static async create(e,t,s,i,r,a,l){const o=new h({spatialReference:s}),d={type:\"grid\",fields:await Promise.all(t.fields.map((async e=>n.create(o,e)))),spatialReference:s,featureFilter:t.featureFilter?await p.create({geometryType:i.metadata.geometryType,hasM:!1,hasZ:!1,timeInfo:i.metadata.timeInfo,fieldsIndex:i.metadata.fieldsIndex,spatialReference:s,filterJSON:t.featureFilter}):null,cellSize:t.clusterRadius/4,arcadeContextInfo:a,sqlOptions:l};return new x(e,t.clusterRadius,d,t.fields,i,r,l)}constructor(e,t,s,r,n,a,l){super(n,a,s.spatialReference,s.fields,l),this._connection=e,this._clusterRadius=t,this._indexOptions=s,this._cellsPerScale=new Map,this._metadata=f.createFeature({geometryType:\"esriGeometryPoint\",objectIdField:\"aggregateId\",fieldsIndex:new i([...r,...this._source.metadata.fieldsIndex.fields,{name:\"aggregateId\",alias:\"aggregateId\",type:\"esriFieldTypeOID\"}]).toJSON(),globalIdField:null,spatialReference:n.metadata.spatialReference,outSpatialReference:n.metadata.outSpatialReference,subtypeField:null,subtypes:null,timeInfo:null,timeReferenceUnknownClient:null,dateFieldsTimeZone:null,typeIdField:null,types:null})}get enablePixelBuffering(){return!1}invalidate(){super.invalidate();for(const e of this._cellsPerScale.values())e.destroy();this._cellsPerScale.clear()}onSubscribe(e){super.onSubscribe(e),this._requiredLevel=e.tile.level,this._requiredScale=e.tile.scale}createState(e){return new y(e)}async*applyOverrideUpdate(e){for(const t of this._cellsPerScale.values())t.destroy();this._cellsPerScale.clear();for(const t of this._sendStates.values())t.done=!1}displayMap(e,t,s){const i=new Map(e.map((e=>[t(e),e]))),r=[],n=this._getClusterState(this._requiredLevel,this._requiredScale);for(const a of n.clusters()){const e=i.get(a.inner.id);if(null==e){if(1===a.inner.count){const{firstObjectId:e}=a.inner,t=e?i.get(e):null;if(null!=t){const n=s(a.displayId,t,e);r.push(n),i.delete(e)}}}else{const t=s(a.displayId,e,a.inner.id);r.push(t),i.delete(a.inner.id)}}return r}getDisplayFeatures(t){const s=new Set(t),i=new Set,r=[],n=[],a=this._getClusterState(this._requiredLevel,this._requiredScale);for(const l of a.aggregatesWorldSpace())if(s.has(l.displayId)&&!i.has(l.displayId)){const t=e(l,this._metadata.geometryType,!1,!1);if(i.add(l.displayId),1===t.attributes.cluster_count){r.push({...t,displayId:l.displayId});continue}n.push({...t,displayId:l.displayId})}return{features:r,aggregates:n,tracks:[]}}getFeatureObjectIdsForAggregate(e){const t=this._getClusterState(this._requiredLevel,this._requiredScale);for(const s of t.clusters())if(s.inner.id===e)return Array.from(s.inner.containedObjectIds);return[]}async*updateChunks(){const e=this._source.chunks();if(!e.length)return;const t=this._getClusterState(this._requiredLevel,this._requiredScale),s=Array.from(this._sendStates.values()).filter((e=>e.subscription.tile.level===this._requiredLevel));if(t.updateChunks(e,s)||!this._source.updateTracking.updating)for(const n of s)n.subscription.tile.level===this._requiredLevel&&(n.didSend=!1,n.done=!1);const i=Array.from(this._sendStates.values()).filter((e=>e.done)).map((e=>e.subscription.tile.key)),r=new Set(i);for(const n of this._sendStates.values()){if(this._source.updateTracking.updating){if(i.some((e=>e.containsChild(n.subscription.tile.key))))continue;if(n.subscription.tile.key.getChildKeys().every((e=>r.has(e))))continue}n.didSend||n.subscription.tile.level!==this._requiredLevel||(n.didSend=!0,yield*this._update(n,t,this._source))}await t.updateStatistics(this._connection)}forEachAggregateWorldSpace(e){if(null==this._requiredLevel||null==this._requiredScale)return;const t=this._getClusterState(this._requiredLevel,this._requiredScale);for(const s of t.aggregatesWorldSpace())e(s)}_getClusterState(e,t){if(null==e||null==t)throw new Error(\"InternalError: Level and scale must be defined\");let s=this._cellsPerScale.get(t);return s||(s=new S(e,t,this._indexOptions,this._clusterRadius,this._attributeStore),this._cellsPerScale.set(t,s)),s}async*_update(e,t,s){if(e.done)return;const i=t.createAggregateFeatures(e,this._metadata);this.events.emit(\"changed\"),e.done=!s.updateTracking.updating;const r=i.getCursor(),n=e.subscription.tile.createArcadeEvaluationOptions(this._indexOptions.arcadeContextInfo);for(;r.next();)this._attributeStore.setAttributeData(r.getDisplayId(),r,n,this._sqlOptions);const a=new c(e.subscription,i,!0,e.done,{});yield a}}export{y as ClusterState,x as ClusterStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{r as n}from\"../../../../chunks/rbush.js\";import{create as s}from\"../../../../geometry/support/aaBoundingBox.js\";class t{static fromReader(o){const e=[],r=o.copy(),a=s();for(;r.next();){r.getBounds(a)&&e.push(r.getIndex())}const i=n(9,(n=>(r.setIndex(n),{minX:r.getBoundsXMin(),minY:r.getBoundsYMin(),maxX:r.getBoundsXMax(),maxY:r.getBoundsYMax()})));return i.load(e),new t(i)}constructor(n){this._index=n}search(n){const s={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]};return this._index.search(s)}}export{t as FeatureSpatialIndex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../core/has.js\";import{rad2deg as t}from\"../core/mathUtils.js\";import o from\"../geometry/Polygon.js\";import r from\"../geometry/SpatialReference.js\";import{toExtent as n}from\"../geometry/support/aaBoundingRect.js\";import{earth as e}from\"../geometry/support/Ellipsoid.js\";import{convertFromPolygon as s}from\"../layers/graphics/featureConversionUtils.js\";import c from\"../layers/graphics/OptimizedGeometry.js\";import{project as i}from\"../layers/graphics/data/projectionSupport.js\";const f=16,a=8,l=4,u=2,h=1,m=new Float64Array(2),p=new Float64Array(2),g=-90,y=90,d=-180,x=180,M=\"0123456789bcdefghjkmnpqrstuvwxyz\",j=64;function S(t,e,f,a){const l=[t.xmin,t.ymin,t.xmax,t.ymax],u=o.fromExtent(n(l,a)),h=i(u,a,r.WGS84,{densificationStep:e*j});if(!h)return null;const m=s(new c,h,!1,!1),p=m.coords.filter(((t,o)=>!(o%2))),g=m.coords.filter(((t,o)=>o%2)),y=Math.min(...p),d=Math.min(...g),x=Math.max(...p),M=Math.max(...g),S=A(y,d,f,r.WGS84),G=A(x,M,f,r.WGS84);return S&&G?{bounds:l,geohashBounds:{xLL:S[0],yLL:S[1],xTR:G[0],yTR:G[1]},level:f}:null}function A(o,n,s,c){if(c.isWebMercator){const r=t(o/e.radius),c=r-360*Math.floor((r+180)/360),i=[0,0];return z(i,0,t(Math.PI/2-2*Math.atan(Math.exp(-n/e.radius))),c,s),i}const f=i({x:o,y:n},c,r.WGS84);if(!f)return null;const a=[0,0];return z(a,0,f.y,f.x,s),a}function G(t){return t<=57?t-48:t<=104?t-88:t<=107?t-89:t<=110?t-90:t-91}function W(t){return M[t]}function w(t){return(t[0]+t[1])/2}function C(t,o,r){return t[0]=o,t[1]=r,t}function L(t,o){const r=w(t),n=o,e=!o;t[0]=e*t[0]+n*r,t[1]=e*r+n*t[1]}function R(t,o){const r=o>w(t);return L(t,r),r}function b(t,o){const r=C(m,g,y),n=C(p,d,x);for(let e=0;e<o.length;e++){const t=G(o.charCodeAt(e));e%2==0?(L(n,!!(f&t)),L(n,!!(l&t)),L(n,!!(h&t)),L(r,!!(a&t)),L(r,!!(u&t))):(L(r,!!(f&t)),L(r,!!(l&t)),L(r,!!(h&t)),L(n,!!(a&t)),L(n,!!(u&t)))}return t[0]=w(r),t[1]=w(n),t}function v(t,o){let r=0,n=0,e=30,s=30;for(let c=0;c<o.length;c++){const t=G(o.charCodeAt(c)),i=c%2==0;e-=i?3:2,s-=i?2:3,r|=F(t,i)<<e,n|=P(t,i)<<s}return{geohashX:r,geohashY:n}}function X(t,o){let r=-90,n=90,e=-180,s=180;for(let c=0;c<o;c++){const o=Math.ceil((c+1)/2),i=Math.floor((c+1)/2),f=1-c%2,a=30-(3*o+2*i),l=30-(2*o+3*i),u=3*f+2*(1-f),h=2*f+3*(1-f),m=3*f+7*(1-f)<<l,p=(7*f+3*(1-f)<<a&t.geohashX)>>a,g=(m&t.geohashY)>>l;for(let t=u-1;t>=0;t--){const o=(e+s)/2,r=p&1<<t?1:0;e=(1-r)*e+r*o,s=(1-r)*o+r*s}for(let t=h-1;t>=0;t--){const o=(r+n)/2,e=g&1<<t?1:0;r=(1-e)*r+e*o,n=(1-e)*o+e*n}}return[e,r,s,n]}function Y(t,o,r,n){n%2&&(n+=1);let e=0,s=0,c=-90,i=90,f=-180,a=180;for(let l=0;l<n/2;l++){for(let t=0;t<5;t++){const o=(f+a)/2,n=r>o?1:0;e|=n<<29-(t+5*l),f=(1-n)*f+n*o,a=(1-n)*o+n*a}for(let t=0;t<5;t++){const r=(c+i)/2,n=o>r?1:0;s|=n<<29-(t+5*l),c=(1-n)*c+n*r,i=(1-n)*r+n*i}}t.geohashX=e,t.geohashY=s}function z(t,o,r,n,e){e%2&&(e+=1);let s=0,c=0,i=-90,f=90,a=-180,l=180;for(let u=0;u<e/2;u++){for(let t=0;t<5;t++){const o=(a+l)/2,r=n>o?1:0;s|=r<<29-(t+5*u),a=(1-r)*a+r*o,l=(1-r)*o+r*l}for(let t=0;t<5;t++){const o=(i+f)/2,n=r>o?1:0;c|=n<<29-(t+5*u),i=(1-n)*i+n*o,f=(1-n)*o+n*f}}t[2*o]=s,t[2*o+1]=c}function B(t,o,r){let n=\"\";const e=C(m,-90,90),s=C(p,-180,180);for(let c=0;c<r;c++){let r=0;!(c%2)?(r|=R(s,o)<<4,r|=R(e,t)<<3,r|=R(s,o)<<2,r|=R(e,t)<<1,r|=R(s,o)|0):(r|=R(e,t)<<4,r|=R(s,o)<<3,r|=R(e,t)<<2,r|=R(s,o)<<1,r|=R(e,t)|0),n+=W(r)}return n}function E(t,o,r){return r?t&h|(o&h)<<1|(t&u)<<1|(o&u)<<2|(t&l)<<2:o&h|(t&h)<<1|(o&u)<<1|(t&u)<<2|(o&l)<<2}function F(t,o){return o?h&t|(l&t)>>1|(f&t)>>2:(u&t)>>1|(a&t)>>2}function P(t,o){return o?(u&t)>>1|(a&t)>>2:h&t|(l&t)>>1|(f&t)>>2}function T(t,o,r){const n=!((t.length-1)%2),e=t.slice(0,-1),s=G(t.charCodeAt(t.length-1));let c=0,i=0,m=0,p=0;n?(c=8,i=4,m=h&s|(l&s)>>1|(f&s)>>2,p=(u&s)>>1|(a&s)>>2):(c=4,i=8,p=h&s|(l&s)>>1|(f&s)>>2,m=(u&s)>>1|(a&s)>>2);const g=m+o,y=p+r,d=Math.floor(g/c),x=Math.floor(y/i),M=W(E(g-d*c,y-x*i,n));return t.length>1&&(d||x)?T(e,d,x)+M:e+M}export{v as convertGeohash32ToXY,G as decodeBase32Char,b as decodeGeohash,X as decodeGeohashXY,W as encodeBase32Char,B as encodeGeohash,A as getGeohash,S as getGeohashBounds,T as getRelativeGeohash,z as setGeohashBuf,Y as setGeohashXY,F as unpackXBits,P as unpackYBits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{decodeGeohashXY as t}from\"./geohashUtils.js\";import e from\"../geometry/SpatialReference.js\";import{convertFromPolygon as o,quantizeOptimizedGeometry as s,convertFromPoint as r}from\"../layers/graphics/featureConversionUtils.js\";import i from\"../layers/graphics/OptimizedGeometry.js\";import{project as h}from\"../layers/graphics/data/projectionSupport.js\";import{AAggregateCell as a}from\"../views/2d/layers/features/aggregation/AAggregateCell.js\";import{AccumulatedStatistics as n}from\"../views/2d/layers/features/aggregation/AccumulatedStatistics.js\";class l extends a{static create(t,e,o,s){const r=n.create(t),i=new Array(32);for(let h=0;h<i.length;h++)i[h]=null;return new l(r,e,o,s,i)}constructor(t,e,o,s,r){super(t),this.xNode=e,this.yNode=o,this.depth=s,this.children=r,this._objectIds=new Set,this._count=0,this._xWorldTotal=0,this._yWorldTotal=0,this._xGeohashTotal=0,this._yGeohashTotal=0,this.next=null}get id(){return`${this.xNode}.${this.yNode}`}get containedObjectIds(){return this._objectIds}get count(){return this._count}clone(){const t=new l(this._statistics.clone(),this.xNode,this.yNode,this.depth,this.children);return t._count=this._count,t._xWorldTotal=this._xWorldTotal,t._yWorldTotal=this._yWorldTotal,t._xGeohashTotal=this._xGeohashTotal,t._yGeohashTotal=this._yGeohashTotal,t.next=this.next,t._objectIds=new Set(this._objectIds),t}insert(t,e,o,s,r,i){this._count+=1,this._xWorldTotal+=e,this._yWorldTotal+=o,this._xGeohashTotal+=s,this._yGeohashTotal+=r,this._statistics.insert(t,i),this._objectIds.add(t.getObjectId())}merge(t){if(0!==t._count){this._count+=t._count,this._xWorldTotal+=t._xWorldTotal,this._yWorldTotal+=t._yWorldTotal,this._xGeohashTotal+=t._xWorldTotal,this._yGeohashTotal+=t._yWorldTotal,this._statistics.merge(t._statistics);for(const e of t._objectIds.values())this._objectIds.add(e)}}getCentroid(t){throw new Error(\"getCentroid not supported for GeohashNode\")}getGeometry(t,r){const a=this._getLngLatBounds(),[n,l,d,c]=a,_=h({rings:[[[n,l],[n,c],[d,c],[d,l],[n,l]]]},e.WGS84,t),u=o(new i,_,!1,!1);if(null!=r){return s(new i,u,!1,!1,\"esriGeometryPolygon\",r,!1,!1)}return u}getGeometricCentroid(t,o){const a=this._getLngLatBounds(),[n,l,d,c]=a,_=h({x:(n+d)/2,y:(l+c)/2},e.WGS84,t),u=r(new i,_);if(null!=o){return s(new i,u,!1,!1,\"esriGeometryPoint\",o,!1,!1)}return u}getAttributes(){const t={aggregateId:this.id};for(const e of this._statistics.values())t[e.field.name]=e.value;return t.aggregateCount=this._count,t}find(t,e,o,s,r,i){if(s>=o)return this;const h=1-s%2,a=3*h+2*(1-h),n=2*h+3*(1-h),l=30-r-a,d=30-i-n,c=((t&7*h+3*(1-h)<<l)>>l)+((e&3*h+7*(1-h)<<d)>>d)*(8*h+4*(1-h)),_=this.children[c];return null==_?null:_.find(t,e,o,s+1,r+a,i+n)}_getLngLatBounds(){const e=this.depth,o=Math.ceil(e/2),s=Math.floor(e/2),r=30-(3*o+2*s),i=30-(2*o+3*s),h=this.xNode<<r,a=this.yNode<<i;return t({geohashX:h,geohashY:a},this.depth)}}export{l as GeohashCell};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{GeohashCell as t}from\"./GeohashCell.js\";class e{constructor(e){this._fields=e,this._size=0,this._depth=0,this._root=t.create(this._fields,0,0,0)}destroy(){}get size(){return this._size}get depth(){return this._depth}find(t,e,s){return this._root.find(t,e,s,0,0,0)}insert(e,s,i,n,o,h,r){let l=this._root,d=0,c=0,a=0;for(;null!==l;){if(l.insert(e,s,i,n,o,r),d>=h)return;const f=Math.ceil((d+1)/2),u=Math.floor((d+1)/2),x=1-d%2,_=30-(3*f+2*u),p=30-(2*f+3*u),M=(n&7*x+3*(1-x)<<_)>>_,m=(o&3*x+7*(1-x)<<p)>>p,g=M+m*(8*x+4*(1-x));c=c<<3*x+2*(1-x)|M,a=a<<2*x+3*(1-x)|m,null==l.children[g]&&(l.children[g]=t.create(this._fields,c,a,d+1),this._depth=Math.max(this._depth,d+1),this._size+=1),d+=1,l=l.children[g]}}putBins(t,e){for(const s of this.getNodes(e)){const e=t.get(s.id);e?e.merge(s):t.set(s.id,s.clone())}}getNodes(t){const e=[],{geohashBounds:s,level:i}=t;let n=this._root;for(;null!==n;){const t=n.depth,o=n.xNode,h=n.yNode;if(t>=i){e.push(n),n=n.next;continue}const r=Math.ceil((t+1)/2),l=Math.floor((t+1)/2),d=1-t%2,c=30-(3*r+2*l),a=30-(2*r+3*l),f=~((1<<c)-1),u=~((1<<a)-1),x=(s.xLL&f)>>c,_=(s.yLL&u)>>a,p=(s.xTR&f)>>c,M=(s.yTR&u)>>a,m=o<<3*d+2*(1-d),g=h<<2*d+3*(1-d),y=m+8*d+4*(1-d),z=g+4*d+8*(1-d),L=Math.max(m,x),N=Math.max(g,_),B=Math.min(y,p),R=Math.min(z,M);let T=null,j=null;for(let e=N;e<=R;e++)for(let t=L;t<=B;t++){const s=t-m+(e-g)*(8*d+4*(1-d)),i=n.children[s];i&&(T||(T=i,T.next=n.next),j&&(j.next=i),j=i,i.next=n.next)}n=T||n.next}return e}}export{e as GeohashTree};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{GeohashTree as e}from\"../../../../../geohash/GeohashTree.js\";import{getGeohashBounds as t,getGeohash as s}from\"../../../../../geohash/geohashUtils.js\";import{AAggregateSpatialIndex as o}from\"./AAggregateSpatialIndex.js\";class r extends o{constructor(t){super(t),this._tree=new e(this._options.fields)}put(e){throw new Error(\"Geohash tree does not support put\")}putBounded(e,s,o){const{geohashLevel:r,spatialReference:h}=this._options,i=t(s,o,r,h);null!=i&&this._tree.putBins(e,i)}_insert(e,t,o,r){const{geohashLevel:h,spatialReference:i}=this._options,n=s(t,o,h,i);n&&this._tree.insert(e,t,o,n[0],n[1],h,r)}}export{r as GeohashSpatialIndex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{baseObjectMemory as r}from\"../../../../../core/memoryEstimations.js\";import{normalizeTransform as e,quantizeX as t,quantizeY as s}from\"../../../../../geometry/support/quantizationUtils.js\";import{convertToGeometry as a}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{FeatureSetReader as i}from\"./FeatureSetReader.js\";class d extends i{static from(r,e){if(r instanceof this){const t=new Set(e),s=r._indices.filter((r=>t.has(r)));return new d(r._reader,s)}return new d(r.copy(),e)}constructor(r,e){super(r.metadata),this._currentIndex=-1,this._displayTransform=null,this._reader=r,this._indices=e}setTransformForDisplay(r){const t=this._reader.getInTransform();if(null==t)return void(this._displayTransform=e(r));const s=e(t),a=e(r),[i,d]=s.scale,[n,o]=s.translate,[h,u]=a.scale,[_,l]=a.translate,y=i/h,c=d/u,p=(n-_)/h,m=(o-l)/u;this._displayTransform={originPosition:\"lowerLeft\",scale:[1/y,1/c,1,1],translate:[-p/y,-m/c,0,0]}}getInTransform(){return this._reader.getInTransform()}get fields(){return this._reader.fields}get hasNext(){return this._currentIndex+1<this._indices.length}getSize(){return this._indices.length}getCursor(){return this.copy()}copy(){const r=new d(this._reader.copy(),this._indices);return r._currentIndex=this._currentIndex,r._displayTransform=this._displayTransform,r._processorAttributes=this._processorAttributes,r}get contextTimeZone(){return this._reader.contextTimeZone}set contextTimeZone(r){this._reader.contextTimeZone=r}get usedMemory(){return r+this._reader.usedMemory}setProcessorAttributes(r){this._processorAttributes=Object.assign(this._processorAttributes??{},r)}_nextIndex(){return++this._currentIndex<this._indices.length&&(this._reader.setIndex(this._indices[this._currentIndex]),!0)}next(){for(;this._nextIndex()&&!this._reader._getExists(););return this._currentIndex<this._indices.length}readXForDisplay(){return this._displayTransform?t(this._displayTransform,this._reader.readXForDisplay()):this._reader.readXForDisplay()}readYForDisplay(){return this._displayTransform?s(this._displayTransform,this._reader.readYForDisplay()):this._reader.readYForDisplay()}readGeometryForDisplay(){return this._displayTransform?this._reader.readGeometryForDisplayTransformed(this._displayTransform):this._reader.readGeometryForDisplay()}readCentroidForDisplay(){const r=this._reader.readCentroidForDisplay()?.clone();if(r){const[e,a]=r.coords;this._displayTransform?(r.coords[0]=t(this._displayTransform,e),r.coords[1]=s(this._displayTransform,a)):(r.coords[0]=e,r.coords[1]=a)}return r}get geometryType(){return this._reader.geometryType}get hasFeatures(){return this._reader.hasFeatures}get exceededTransferLimit(){return this._reader.exceededTransferLimit}get hasZ(){return this._reader.hasZ}get hasM(){return this._reader.hasM}readAttribute(r,e=!1){return this._reader.readAttribute(r,e)??this._processorAttributes?.[r]}readAttributes(){return{...this._processorAttributes??{},...this._reader.readAttributes()}}joinAttributes(r){return this._reader.joinAttributes(r)}getBounds(r){return this._reader.getBounds(r)}getAttributeHash(){return this._reader.getAttributeHash()}getObjectId(){return this._reader.getObjectId()}getDisplayId(){return this._reader.getDisplayId()}setDisplayId(r){return this._reader.setDisplayId(r)}setIndex(r){return this._reader.setIndex(r)}getIndex(){return this._reader.getIndex()}readXWorldSpace(){return this._reader.readXWorldSpace()}readYWorldSpace(){return this._reader.readYWorldSpace()}_readX(){return this._reader.readXForDisplay()}_readY(){return this._reader.readYForDisplay()}_readServerCentroid(){return this._reader._readServerCentroid()}readLegacyFeatureForDisplay(){const r=this.readCentroidForDisplay();return{attributes:this.readAttributes(),geometry:this.readLegacyGeometryForDisplay(),centroid:(r&&{x:r.coords[0],y:r.coords[1]})??null}}readLegacyGeometryForDisplay(){const r=this.readGeometryForDisplay();return a(r,this.geometryType,!1,!1)}readGeometryArea(){return this._displayTransform?this._reader.readGeometryForDisplayTransformed(this._displayTransform)?.area()??0:this._reader.readGeometryArea()}readGeometryWorldSpace(){return this._reader.readGeometryWorldSpace()}_readGeometry(){return this._reader._readGeometry()}_readAttribute(r,e){throw new Error(\"Error: Should not be called. Underlying _reader should be used instead\")}_readAttributes(){throw new Error(\"Error: Should not be called. Underlying _reader should be used instead\")}readArcadeFeature(){return this._reader.readArcadeFeature()}geometry(){return this._reader.geometry()}field(r){return this._reader.field(r)}hasField(r){return this._reader.hasField(r)}setField(r,e){return this._reader.setField(r,e)}keys(){return this._reader.keys()}castToText(r=!1){return this._reader.castToText(r)}}export{d as FeatureSetReaderIndirect};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{FeatureSpatialIndex as e}from\"../../../FeatureSpatialIndex.js\";import{GeohashSpatialIndex as t}from\"../../../aggregation/GeohashSpatialIndex.js\";import{GridSpatialIndex as r}from\"../../../aggregation/GridSpatialIndex.js\";import{FeatureSetReaderIndirect as a}from\"../../../support/FeatureSetReaderIndirect.js\";class i{size(){return this.reader.getSize()}get fields(){return this.reader.fields}invalidate(){this._aggregateIndex=null,this._aggregateIndexHash=null,this._spatialIndex=null}registerOverrides(e){this.reader.registerOverrides(e),this.invalidate()}queryFeaturesInBounds(e){const t=this._getSpatialIndex().search(e);return a.from(this.reader,t)}getAggregateIndex(e){const a=JSON.stringify(e);if(a!==this._aggregateIndexHash){switch(this._aggregateIndexHash=a,e.type){case\"grid\":this._aggregateIndex=new r(e);break;case\"geohash\":this._aggregateIndex=new t(e)}this._aggregateIndex.insert(this.reader,this.isTiled)}return this._aggregateIndex}_getSpatialIndex(){return this._spatialIndex||(this._spatialIndex=e.fromReader(this.reader)),this._spatialIndex}}export{i as ASourceChunk};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ASourceChunk as e}from\"./ASourceChunk.js\";import{FeatureSetReaderJSON as t}from\"../../../support/FeatureSetReaderJSON.js\";const s=1e4,r=1e3;class i{constructor(){this.modified=[],this.removed=[]}modify(e){this.modified.push(e)}remove(e){this.removed.push(e)}get isEmpty(){return 0===this.modified.length&&0===this.removed.length}}class o extends e{constructor(e){super(),this._reader=e,this.chunkId=\"override\",this.normalizedChunkId=\"override\"}static fromFeatures(e,s){const r=t.fromOptimizedFeatures(e,s);return new o(r)}get reader(){return this._reader}get queryInfo(){return{}}get first(){return!1}get end(){return!1}get isTiled(){return!1}getTileReader(e){if(!this._reader.getSize())return null;const t=this.queryFeaturesInBounds(e.bounds);return t.setTransformForDisplay(e.transform),t}}class n{constructor(e,t){this.inner=e,this.isWeak=t,this.lastWeak=null}get isStrong(){return!this.isWeak}}class a{constructor(){this._overrides=new Map,this._update=new i,this._lastCleanup=0}hasOverride(e){return this._overrides.has(e)}onChunkInsert(e){if(this._overrides.size){const t=e.reader.getCursor();for(;t.next();){const e=t.getObjectId(),s=this._overrides.get(e);if(s?.lastWeak&&(s.lastWeak=null),s?.isWeak){const e=t.readOptimizedFeatureWorldSpace();s.inner=e,this._update.modify(e),this.invalidate()}}}e.registerOverrides(this)}apply(e,t){const{updateWeak:s,removeWeak:r,update:i,remove:o,release:a}=e.commands;this.invalidate();for(const d of s){const e=new n(d,!0),t=this._overrides.get(d.objectId);t?.isStrong?t.lastWeak=e:(this._overrides.set(d.objectId,e),this._update.modify(d))}for(const d of i){const e=new n(d,!1),t=this._overrides.get(d.objectId);e.lastWeak=t?.isWeak?t:t?.lastWeak??null,this._overrides.set(d.objectId,e),this._update.modify(d)}for(const d of r){const e=new n(null,!0),t=this._overrides.get(d);t?.isStrong?t.lastWeak=e:(this._overrides.set(d,e),this._update.remove(d))}for(const d of o){const e=new n(null,!1),t=this._overrides.get(d);e.lastWeak=t?.isWeak?t:t?.lastWeak??null,this._overrides.set(d,e),this._update.remove(d)}if(a.length){const e=new Set;for(const t of a){const s=this._overrides.get(t);s?.lastWeak?(this._overrides.set(t,s.lastWeak),null==s.lastWeak.inner?this._update.remove(t):this._update.modify(s.lastWeak.inner)):s&&!s.isWeak&&(this._overrides.delete(t),e.add(t))}t.forEachUnsafe((t=>{const s=t.getObjectId();e.has(s)&&(this._update.modify(t.readOptimizedFeatureWorldSpace()),e.delete(s))}));for(const t of e.values())this._update.remove(t)}}clearWeakOverrides(){for(const[e,t]of this._overrides.entries())t.isWeak&&this._overrides.delete(e);this.invalidate()}cleanup(e){if(this._overrides.size<s)return;const t=performance.now();if(t-this._lastCleanup<r)return;this._lastCleanup=t;const i=this._getWeakDeletions();if(!(i.size<s)){for(const t of e){const e=t.reader.withoutOverrides().getCursor();for(;e.next();){const t=e.getObjectId();i.delete(t)}}for(const e of i)this._overrides.delete(e);i.size&&this.invalidate()}}takeOverrideUpdate(){const e=this._update;return e.isEmpty?null:(this._update=new i,e)}asChunk(e){if(!this._chunk){const t=[];for(const e of this._overrides.values())null!=e.inner&&t.push(e.inner);this._chunk=o.fromFeatures(t,e)}return this._chunk}invalidate(){this._chunk=null}putWeakObjectIdsFromGlobalIds(e,t,s){for(const[r,i]of this._overrides.entries())if(i.isWeak&&null!=i.inner){const o=i.inner.attributes[s];o&&t.has(o)&&!e.has(o)&&e.set(o,r)}else if(null!=i.lastWeak&&null!=i.lastWeak.inner){const o=i.lastWeak.inner.attributes[s];o&&t.has(o)&&!e.has(o)&&e.set(o,r)}}_getWeakDeletions(){const e=new Set;for(const[t,s]of this._overrides.entries())s.isWeak&&null==s.inner&&e.add(t);return e}}export{o as OverrideChunk,a as OverrideState,i as OverrideUpdate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../core/has.js\";import{ASendState as e,AProcessorStrategy as t}from\"./AProcessorStrategy.js\";import{FeatureTileUpdateMessage as s,FeatureTileAppendMessage as r}from\"../sources/FeatureSourceMessage.js\";import{OverrideChunk as o}from\"../sources/strategies/chunks/Overrides.js\";import{createArcadeEvaluationOptions as a}from\"../support/arcadeUtils.js\";import{FeatureSetReaderJSON as n}from\"../support/FeatureSetReaderJSON.js\";class d extends e{}class i extends t{constructor(e,t,s,r){super(e,t,r),this._arcadeContextInfo=s,this.handledChunks=new Set,this.handledChunksForIdCreation=new Set,this.handledChunksForAttributeData=new Set,this._streamLayerDeferredObjectIdsToRemove=[]}destroy(){super.destroy();for(const e of this._source.chunks())this._cleanupChunkIds(e)}invalidateAttributeData(e){this.handledChunksForAttributeData.clear(),this._arcadeContextInfo=e,null!=this._evalOptions&&(this._evalOptions=a(this._evalOptions.$view.scale,e))}onSubscribe(e){super.onSubscribe(e),this._evalOptions=e.tile.createArcadeEvaluationOptions(this._arcadeContextInfo)}createState(e){return new d(e)}get aggregateQueryEngine(){return null}displayMap(e,t,s){const r=new Map(e.map((e=>[t(e),e]))),o=[];for(const a of this._source.chunks()){const e=a.reader.getCursor();for(;e.next();){const t=e.getObjectId(),a=e.getDisplayId(),n=r.get(t);if(null!=n){const e=s(a,n,t);o.push(e),r.delete(t)}}}return o}getDisplayFeatures(e){const t=new Set(e),s=new Set,r=[];for(const o of this._source.chunks()){const e=o.reader.getCursor();for(;e.next();){const o=e.getObjectId(),a=e.getDisplayId();t.has(a)&&!s.has(o)&&(r.push({...e.readLegacyFeatureWorldSpace(),displayId:a}),s.add(o))}}return{features:r,aggregates:[],tracks:[]}}async*applyOverrideUpdate(e){const t=[];for(const s of e.modified){const e=this._attributeStore.createDisplayIdForObjectId(s.objectId);s.displayId=e,t.push(e)}const r=n.fromOptimizedFeatures(e.modified,this._source.metadata).getCursor();for(;r.next();)this._attributeStore.setAttributeData(r.getDisplayId(),r,this._evalOptions,this._sqlOptions);const a=[];for(const s of e.removed){const e=this._attributeStore.getDisplayIdForObjectId(s);null!=e&&a.push(e)}has(\"esri-2d-update-debug\")&&console.debug(\"FeatureUpdateStrategy.applyLocalEdit\",{message:e,modifiedDisplayIds:t,removedDisplayIds:a});const d=o.fromFeatures(e.modified,this._source.metadata);this.handledChunks.add(d.chunkId),this.handledChunksForAttributeData.add(d.chunkId),this.handledChunksForIdCreation.add(d.chunkId);for(const o of this._sendStates.values())o.handledChunks.add(d.chunkId),yield new s(o.subscription,null,t,!1,d.queryInfo);for(const o of this._sendStates.values()){const e=d.getTileReader(o.subscription.tile);yield new s(o.subscription,e,a,!1,d.queryInfo)}for(const s of e.removed)this._attributeStore.releaseDisplayIdForObjectId(s)}async*updateChunks(){if(this._source.chunks().length){await this._updateAttributeData();for(const e of this._sendStates.values())yield*this._update(e)}}removeChunks(e){for(const t of e)this.handledChunks.delete(t.chunkId),this.handledChunksForAttributeData.delete(t.chunkId),this._cleanupChunkIds(t)}afterUpdateChunks(){for(const e of this._streamLayerDeferredObjectIdsToRemove)this._attributeStore.releaseDisplayIdForObjectId(e);this._streamLayerDeferredObjectIdsToRemove=[]}_cleanupChunkIds(e){if(this.handledChunksForIdCreation.has(e.chunkId)){const t=e.reader.getCursor();for(;t.next();){const e=t.getObjectId();this._source.isStream?this._streamLayerDeferredObjectIdsToRemove.push(e):this._attributeStore.releaseDisplayIdForObjectId(e)}this.handledChunksForIdCreation.delete(e.chunkId)}}async _updateAttributeData(){for(const e of this._source.chunks()){const{chunkId:t,reader:s}=e;if(!this.handledChunksForIdCreation.has(t)){this.handledChunksForIdCreation.add(t);const e=s.getCursor();for(;e.next();){const t=this._attributeStore.createDisplayIdForObjectId(e.getObjectId());e.setDisplayId(t)}}}for(const e of this._source.chunks())if(!this.handledChunksForAttributeData.has(e.chunkId)){this.handledChunksForAttributeData.add(e.chunkId);const t=e.reader.getCursor();for(;t.next();){const e=t.getDisplayId();this._attributeStore.setAttributeData(e,t,this._evalOptions,this._sqlOptions)}}}*_update(e){const{subscription:t,handledChunks:s}=e;for(const o of this._source.chunks()){const{chunkId:a}=o;if(s.has(a))continue;s.add(a);const n=o.getTileReader(t.tile);n&&(yield new r(e.subscription,n,!1,o.end,o.queryInfo))}}}export{d as DefaultSendState,i as FeatureUpdateStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/arrayUtils.js\";import e from\"../../../../../core/Logger.js\";import{assertIsSome as s}from\"../../../../../core/maybe.js\";import{isLoaded as r,load as i,execute as a}from\"../../../../../geometry/operators/gx/operatorGeodeticDensify.js\";import{geodeticCurveType as o}from\"../../../../../geometry/operators/support/geodeticCurveType.js\";import{intersectsWithMargin as n,fromValues as l,intersects as c,empty as d,expandPointInPlace as u}from\"../../../../../geometry/support/aaBoundingRect.js\";import{getClosestDenormalizedXToReference as h}from\"../../../../../geometry/support/normalizeUtils.js\";import{normalizeCentralMeridianForDisplay as m}from\"../../../../../geometry/support/normalizeUtilsSync.js\";import{quantizeOptimizedGeometry as p,convertToGeometry as f,convertFromNestedArray as g}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as _}from\"../../../../../layers/graphics/OptimizedFeature.js\";import b from\"../../../../../layers/graphics/OptimizedGeometry.js\";import{internalTrackPartField as y,TrackPart as I,externalTrackLineOidPrefix as v,internalTimeReceivedField as k}from\"../../../../../layers/support/streamLayerUtils.js\";import{tileSize as F}from\"../../../engine/webgl/definitions.js\";import{AccumulatedStatistics as j}from\"../aggregation/AccumulatedStatistics.js\";import{ComputedAggregateField as O}from\"../aggregation/ComputedAggregateField.js\";import{AAggregateStrategy as x}from\"./AAggregateStrategy.js\";import{ASendState as T}from\"./AProcessorStrategy.js\";import{FeatureTileAppendMessage as S}from\"../sources/FeatureSourceMessage.js\";import{createArcadeEvaluationOptions as R}from\"../support/arcadeUtils.js\";import{ComputedAttributeStorage as D}from\"../support/ComputedAttributeStorage.js\";import L from\"../support/FeatureFilterEvaluator.js\";import{FeatureMetadata as w}from\"../support/FeatureMetadata.js\";import{FeatureSetReaderIndirect as A}from\"../support/FeatureSetReaderIndirect.js\";import{FeatureSetReaderJSON as G}from\"../support/FeatureSetReaderJSON.js\";let P;const C=()=>e.getLogger(\"esri.views.2d.layers.features.processor.TrackStrategy\"),M=32;class W{constructor(t,e,s,r,i){this.chunkIndex=t,this.featureIndex=e,this.objectId=s,this.displayId=r,this.time=i}}class z{static getOid(t){return v+t}constructor(t,e,s,r,i,a,o,n){this._schema=t,this.trackId=e,this.objectId=s,this.displayId=r,this._fields=i,this._spatialReference=a,this._metadata=o,this._isStream=n,this._maxDisplayDuration=this._schema.maxDisplayDuration>0?this._schema.maxDisplayDuration:1/0,this._maxDisplayObservationsPerTrack=this._schema.maxDisplayObservationsPerTrack>=1?this._schema.maxDisplayObservationsPerTrack:1/0,this._observationRecords=[],this._nextObservationRecords=[],this._trackLinePath=[],this._bounds=[],this._trackLineGeometry=new b}get _trackLineAttributes(){const t={...this._latestObservationFeature?.attributes??{},aggregateId:this.objectId,[y]:I.TrackLine};if(null!=this._statistics)for(const e of this._statistics.values())t[e.field.name]=e.value;return t}get _startTimeField(){return this._metadata.timeInfo?.startTimeField}get length(){return this._observationRecords.length}*observations(){yield*this._observationRecords}*previousObservations(){for(let t=0;t<this._observationRecords.length-1;t++)yield this._observationRecords[t]}stageObservation(t,e){this._nextObservationRecords.push(new W(t,e.getIndex(),e.getObjectId(),e.getDisplayId(),null!=this._startTimeField?e.readAttributeAsTimestamp(this._startTimeField):null))}commitObservations(t,e){const r=new Set(this._nextObservationRecords.map((t=>t.objectId))),i=this._observationRecords.filter((t=>!r.has(t.objectId))).map((t=>t.objectId));let a,o;switch(this._observationRecords=[],this._trackLinePath=[],this._isStream||null==this._startTimeField||this._nextObservationRecords.sort(((t,e)=>{const s=t.time,r=e.time;return null!=s&&null!=r?s-r:0})),this._schema.timeField){case\"startTimeField\":a=this._metadata.timeInfo?.startTimeField;break;case\"endTimeField\":a=this._metadata.timeInfo?.endTimeField;break;case\"timeReceived\":a=this._isStream?k:null}o=this._isStream?e?.end??Date.now():e?.end??-1/0;const n=t.map((t=>t.reader.getCursor()));let l;for(let c=this._nextObservationRecords.length-1;c>=0&&!(this._observationRecords.length>=this._maxDisplayObservationsPerTrack);c--){const t=this._nextObservationRecords[c],e=n[t.chunkIndex];s(e),e.setIndex(t.featureIndex);const r=null!=a?e.readAttributeAsTimestamp(a):null;(null!=r?o-r:0)>=this._maxDisplayDuration||(this._commitObservation(t,e),l??=t)}if(null!=l){const{chunkIndex:t,featureIndex:e,objectId:r,displayId:i}=l,a=n[t];s(a),a.setIndex(e);const o=new _(a.readGeometryWorldSpace(),{...a.readAttributes(),[y]:I.LatestObservation},null,r,i);this._latestObservationFeature=o}else this._latestObservationFeature=null;return this._trackLineGeometry=E(this._trackLineGeometry,this._trackLinePath,this._spatialReference),this._bounds=Z(this._trackLineGeometry),this._nextObservationRecords=[],i}updateStatistics(t,e){this._statistics=j.create(this._fields);const r=t.map((t=>t.reader.getCursor()));for(const{chunkIndex:i,featureIndex:a}of this._observationRecords){const t=r[i];s(t),t.setIndex(a),this._statistics.insert(t,e)}}overlapsTile(t){for(const e of this._bounds)if(n(e,t.bounds,M))return!0;return!1}getLatestObservationFeatureForTile(t){if(null==this._latestObservationFeature)return null;const{objectId:e,displayId:s,geometry:r,attributes:i}=this._latestObservationFeature,a=new b;p(a,r,!1,!1,this._metadata.geometryType,t.subscription.tile.transform);const o=l(1/0,1/0,-1/0,-1/0);X(a,((t,e)=>u(o,[t,e])));if(!c(o,l(0,0,F,F)))return null;return new _(a,i,null,e,s)}getTrackLineFeatureForTile(t){const e=new b;p(e,this._trackLineGeometry,!1,!1,\"esriGeometryPolyline\",t.subscription.tile.transform);return new _(e,this._trackLineAttributes,null,this.objectId,this.displayId)}getTrackLineOptimizedFeature(){return new _(this._trackLineGeometry,this._trackLineAttributes,null,this.objectId,this.displayId)}getTrackLineDisplayFeature(){const{_trackLineGeometry:t,_trackLineAttributes:e,displayId:s}=this;return{geometry:f(t,\"esriGeometryPolyline\",!1,!1),attributes:e,displayId:s}}_commitObservation(t,e){const s=e.readCentroidWorldSpace();let r=s?.coords[0],i=s?.coords[1];null==s&&(r=e.readXWorldSpace(),i=e.readYWorldSpace()),null!=r&&null!=i&&(this._observationRecords.unshift(t),this._trackLinePath.unshift([r,i]))}}class U extends T{constructor(t){super(t),this.done=!1}}class q extends x{static async create(t,e,s,a,o,n){const l=new D({spatialReference:e}),c=await Promise.all(t.fields.map((async t=>O.create(l,t)))),d=t.featureFilter?await L.create({geometryType:s.metadata.geometryType,hasM:!1,hasZ:!1,timeInfo:s.metadata.timeInfo,fieldsIndex:s.metadata.fieldsIndex,spatialReference:e,filterJSON:t.featureFilter}):null;return e.isWrappable||r()||await Promise.all([import(\"../../../../../geometry/operators/support/apiConverter.js\"),import(\"../../../../../geometry/operators/support/jsonConverter.js\"),i()]).then((([t,e,s])=>{P={fromGeometryToGXGeometry:e.fromGeometryToGXGeometry,toGeometry:e.toGeometry,fromSpatialReference:t.fromSpatialReference}})),new q(t,s,a,e,c,d,o,n)}constructor(t,e,s,r,i,a,o,n){super(e,s,r,i,n),this._schema=t,this._featureFilter=a,this._arcadeContextInfo=o,this._tracks=new Map,this._metadata=e.metadata.weakCloneWithAdditionalFields([{name:y,alias:\"trackPart\",type:\"esriFieldTypeSmallInteger\"}]),this._trackLineMetadata=w.createFeature({geometryType:\"esriGeometryPolyline\",objectIdField:\"aggregateId\",fieldsIndex:{fields:[...this._source.metadata.fieldsIndex.fields,...this.aggregateFields,{name:y,alias:\"trackPart\",type:\"esriFieldTypeSmallInteger\"},{name:\"aggregateId\",alias:\"aggregateId\",type:\"esriFieldTypeOID\"}],timeZoneByFieldName:null},globalIdField:null,spatialReference:e.metadata.spatialReference,outSpatialReference:e.metadata.outSpatialReference,subtypeField:null,subtypes:null,timeInfo:e.metadata.timeInfo,timeReferenceUnknownClient:null,dateFieldsTimeZone:null,typeIdField:null,types:null})}get _isStream(){return this._source.isStream}get enablePixelBuffering(){return!0}get isAggregate(){return!1}createState(t){return new U(t)}async*applyOverrideUpdate(t){C().error(\"Applying override to tracks is not supported\")}displayMap(t,e,s){const r=new Map(t.map((t=>[e(t),t]))),i=[];for(const a of this._tracks.values()){const t=r.get(a.objectId);if(null==t)for(const e of a.observations()){const t=r.get(e.objectId);if(null!=t){const a=s(e.displayId,t,e.objectId);i.push(a),r.delete(e.objectId)}}else{const e=s(a.displayId,t,a.objectId);i.push(e),r.delete(a.objectId)}}return i}getDisplayFeatures(t){const e=new Set(t),s=[],r=[],i=this._source.chunks().map((t=>t.reader.getCursor()));for(const a of this._tracks.values()){e.has(a.displayId)&&r.push(a.getTrackLineDisplayFeature());for(const{displayId:t,chunkIndex:r,featureIndex:o}of a.observations())if(e.has(t)){const e=i[r];e.setIndex(o),s.push({displayId:t,attributes:{},...e.readLegacyFeatureWorldSpace()})}}return{features:s,aggregates:[],tracks:r}}getFeatureObjectIdsForAggregate(t){for(const e of this._tracks.values())if(e.objectId===t)return Array.from(e.observations(),(t=>t.objectId));return[]}async*updateChunks(){const t=this._source.chunks();if(!t.length)return;const e=this._metadata.timeInfo?.trackIdField;if(null==e)return;const s=new Set;for(let r=0;r<t.length;r++){const i=t[r].reader.getCursor();for(;i.next();){const t=i.readAttribute(e),a=i.getObjectId();if(null!=t&&null!=a&&(null===this._featureFilter||this._featureFilter.check(i,this._sqlOptions))){if(i.getDisplayId()||i.setDisplayId(this._attributeStore.createDisplayIdForObjectId(a)),!this._tracks.has(t)){const e=z.getOid(t),s=this._attributeStore.createDisplayIdForObjectId(e),r=new z(this._schema,t,e,s,this.aggregateFields,this.spatialReference,this._source.metadata,this._isStream);this._tracks.set(t,r)}this._tracks.get(t).stageObservation(r,i),s.add(t)}}}for(const r of this._tracks.values())if(s.has(r.trackId)){const e=r.commitObservations(t,this._featureFilter?.timeExtent);for(const t of e)this._attributeStore.releaseDisplayIdForObjectId(t);r.updateStatistics(t,R(1,this._arcadeContextInfo))}else this._removeTrack(r);for(const r of this._sendStates.values())yield*this._update(r)}forEachAggregateWorldSpace(t){for(const e of this._tracks.values())t(e.getTrackLineOptimizedFeature())}_removeTrack(t){this._tracks.delete(t.trackId),this._attributeStore.releaseDisplayIdForObjectId(t.objectId);for(const{objectId:e}of t.observations())this._attributeStore.releaseDisplayIdForObjectId(e)}*_update(e){if(e.done)return;e.done=!this._source.updateTracking.updating;const s=[],r=[];for(const t of this._tracks.values())if(t.length>0){if(this._schema.showLatestObservation){const r=t.getLatestObservationFeatureForTile(e);null!=r&&s.push(r)}this._schema.showTrackLine&&t.overlapsTile(e.subscription.tile)&&r.push(t.getTrackLineFeatureForTile(e))}const i=G.fromOptimizedFeatures(s,this._metadata,e.subscription.tile.transform),a=G.fromOptimizedFeatures(r,this._trackLineMetadata,e.subscription.tile.transform);let o=[];if(this._schema.showPreviousObservations){const s=this._source.chunks().map((()=>[]));for(const t of this._tracks.values())for(const{chunkIndex:e,featureIndex:r}of t.previousObservations())s[e].push(r);o=this._source.chunks().map(((t,r)=>{const i=t.getTileReader(e.subscription.tile);if(null==i)return null;const a=A.from(i,s[r]);return a.setProcessorAttributes({[y]:I.PreviousObservation}),\"esriGeometryPoint\"!==a.geometryType&&null!=a.getInTransform()||a.setTransformForDisplay(e.subscription.tile.transform),a})).filter(t)}this.events.emit(\"changed\");const n=e.subscription.tile.createArcadeEvaluationOptions(this._arcadeContextInfo),l=a.getCursor();for(;l.next();)this._attributeStore.setAttributeData(l.getDisplayId(),l,n,this._sqlOptions);for(const t of o){const e=t.getCursor();for(;e.next();)this._attributeStore.setAttributeData(e.getDisplayId(),e,n,this._sqlOptions)}const c=i.getCursor();for(;c.next();)this._attributeStore.setAttributeData(c.getDisplayId(),c,n,this._sqlOptions);yield new S(e.subscription,a,!0,!1,{});for(const t of o)yield new S(e.subscription,t,!1,!1,{});yield new S(e.subscription,i,!1,e.done,{})}}function E(t,e,s){if(e.length<2)return g(t,[e],!1,!1);if(s.isWrappable){let r=!1;for(let t=1;t<e.length;t++){const i=e[t][0],a=h(i,e[t-1][0],s);i!==a&&(e[t][0]=a,r=!0)}if(r){const r=m({paths:[e],spatialReference:s});if(null!=r)return g(t,r.paths,!1,!1)}return g(t,[e],!1,!1)}const r=P.fromGeometryToGXGeometry({hasM:!1,hasZ:!1,paths:[e]}),i=P.fromSpatialReference(s);if(null!=i){const e=a(r,1e6,i,o.geodesic);if(null!=e){const s=P.toGeometry(e,i);if(null!=s&&\"paths\"in s)return g(t,s.paths,!1,!1)}}return g(t,[e],!1,!1)}function X(t,e){const s=2,{coords:r,lengths:i}=t;if(!i.length)return void e(r[0],r[1]);let a=0;for(let o=0;o<i.length;o++){const t=i[o];let n=0,l=0;for(let i=0;i<t;i++)n+=r[s*(i+a)],l+=r[s*(i+a)+1],e(n,l);a+=t}}function Z(t){const{lengths:e,coords:s}=t,r=2;if(!e.length)return[d()];const i=[];let a=0;for(let o=0;o<e.length;o++){const t=e[o],n=d();i.push(n);for(let e=0;e<t;e++){const t=s[r*(e+a)],i=s[r*(e+a)+1];u(n,[t,i])}a+=t}return i}export{q as TrackStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{destroyMaybe as e}from\"../../../../core/maybe.js\";import{notDeepEqual as t}from\"../../../../core/object.js\";import{throwIfNotAbortError as s,throwIfAborted as r}from\"../../../../core/promiseUtils.js\";import{diff as i}from\"../../../../core/accessorSupport/diffUtils.js\";import{ignoreConnectionErrors as a}from\"../../../../core/workers/utils.js\";import o from\"../../../../geometry/SpatialReference.js\";import{MultiTileMeshData as n}from\"../../engine/webgl/mesh/MultiTileMeshData.js\";import{FeatureMeshFactory as c}from\"../../engine/webgl/mesh/factories/FeatureMeshFactory.js\";import{ResourceProxy as h}from\"../../engine/webgl/mesh/factories/ResourceProxy.js\";import{MeshWriterRegistry as u}from\"../../engine/webgl/shaderGraph/techniques/mesh/MeshWriterRegistry.js\";import{MatcherContext as p}from\"../../engine/webgl/util/MatcherContext.js\";import{ProcessorTileMessageQueue as g}from\"./ProcessorTileMessageQueue.js\";import{BinningStrategy as y}from\"./processor/BinningStrategy.js\";import{ClusterStrategy as d}from\"./processor/ClusterStrategy.js\";import{FeatureUpdateStrategy as _}from\"./processor/FeatureUpdateStrategy.js\";import{TrackStrategy as l}from\"./processor/TrackStrategy.js\";import{AttributeStore as m}from\"./support/AttributeStore.js\";import{ComputedAttributeStorage as f}from\"./support/ComputedAttributeStorage.js\";class b{constructor(e,t){this._connection=e,this._source=t,this._version=1,this._registry=new u,this._proxy=new h({fetch:(e,t)=>this._connection.layerView.fetch(e,t),fetchDictionary:(e,t)=>this._connection.layerView.fetchDictionary(e,t)}),this._attributeStore=new m({isLocal:!1,update:e=>a(this._connection.container.updateAttributeView(e))})}destroy(){this._proxy.destroy(),this._strategy?.destroy(),this._attributeStore.destroy()}get aggregateQueryEngine(){return this._strategy?.aggregateQueryEngine}get version(){return this._version}getDisplayFeatures(e){return this._strategy?this._strategy.getDisplayFeatures(e):{features:[],aggregates:[],tracks:[]}}getDisplayIds(e){const t={};return this._strategy?(this._strategy.displayMap(e,(e=>e),((e,s,r)=>{t[r]=e})),t):t}getFeatureObjectIdsForAggregate(e){return this._strategy?this._strategy.getFeatureObjectIdsForAggregate(e):[]}onSubscribe(e){this._strategy?.onSubscribe(e)}onUnsubscribe(e){this._strategy?.onUnsubscribe(e)}async update(e,s,r,a,n){const h=e.processor,u=t(this._schema?.storage,h.storage),g=t(this._schema?.mesh.properties,h.mesh.properties),y=t(this._schema?.mesh.factory,h.mesh.factory),d=t(this._schema?.mesh.strategy,h.mesh.strategy),_=w(this._schema?.expressionProperties,h.expressionProperties),l=_.some((e=>this._attributeStore.hasArcadeDependency(e))),m=_.some((e=>this._factory?.hasArcadeDependency(e)??!1)),b=_.some((e=>this._strategy?.hasArcadeDependency(e)))||this._strategy?.isAggregate&&l,j=m||b,I=g||y||d;if(!(u||I||(m||l||b))&&!a)return!1;has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._version}] SymbolProcessor.update`,{changes:i(this._schema,h),schema:h}),this._schema=h;const x=o.fromJSON(this._source.service.outSpatialReference),v=new f({fields:this._source.metadata.fieldsIndex,spatialReference:x}),k={currentUser:h.mesh.properties.currentUser};if((u||I||l)&&(await this._attributeStore.update(h.storage,v,this._source.metadata,s),this._strategy?.invalidateAttributeData(S(h))),!a&&!I&&!j)return!1;(d||g||j)&&await this._updateStrategy(h.mesh.strategy,x,n,S(h),k),this._updateSortKey(v,\"sortKey\"in h.mesh.properties?h.mesh.properties.sortKey:null);const M=new p(v,this._proxy,r,this._registry);return(y||\"dictionary\"===h.mesh.factory.symbology.type)&&(this._factory=await c.create(M,h.mesh.factory)),this._version=s,!0}async applyOverrideUpdate(e){if(!this._strategy)return;const t=this._strategy.applyOverrideUpdate(e);for await(const r of t)try{await this._process(r)}catch(s){}}async updateChunks(){await this._doUpdateChunks(),this._strategy?.afterUpdateChunks()}async removeChunks(e){this._strategy?.removeChunks(e),this._attributeStore.incrementDisplayIdGeneration()}updateHighlight({highlights:e}){if(!this._strategy)return void this._attributeStore.setHighlight(e.map((({objectId:e,highlightFlags:t})=>({objectId:e,highlightFlags:t,displayId:-1}))),e);const t=this._strategy.displayMap(e,(({objectId:e})=>e),((e,{highlightFlags:t},s)=>({objectId:s,displayId:e,highlightFlags:t})));this._attributeStore.setHighlight(t,e)}invalidate(){this._strategy&&this._strategy.invalidate()}async _doUpdateChunks(){if(!this._strategy)return;const e=this._strategy.updateChunks(),t=[],r=new Map;for await(const a of e){let e=r.get(a.id);null==e&&(e=new g({concurrency:16,process:e=>this._process(e)}),r.set(a.id,e));const i=e.push(a).catch((e=>s(e)));t.push(i)}try{await Promise.all(t)}catch(i){}has(\"esri-2d-update-debug\")&&console.log(\"SendUpdates\"),this._attributeStore.sendUpdates(),has(\"esri-2d-update-debug\")&&console.log(\"SendUpdates.await\")}async _updateStrategy(e,t,s,r,i){switch(this._strategy?.destroy(),e.type){case\"feature\":this._strategy=new _(this._source,this._attributeStore,r,i);break;case\"binning\":this._strategy=await y.create(e,t,this._source,this._attributeStore,r,i);break;case\"cluster\":this._strategy=await d.create(this._connection,e,t,this._source,this._attributeStore,r,i);break;case\"track\":this._strategy=await l.create(e,t,this._source,this._attributeStore,r,i)}for(const a of s)this._strategy.onSubscribe(a)}async _updateSortKey(t,s){if(this._sortInfo=e(this._sortInfo?.computed),null!=s){const e=s.byRenderer?null:await t.createComputedField(s);this._sortInfo={...s,computed:e}}}async _process(e){const t=e.subscription;if(has(\"esri-2d-update-debug\")){const s=t.tile;console.debug(`Version[${this._version}] Tile[${s.key.id}, end=${e.end}] Processor._process`)}const s={currentUser:this._schema?.mesh.properties.currentUser};await this._fetchResources(e,s),r(t.signal);const i=await this._write(e,t.tile.createArcadeEvaluationOptions(S(this._schema)),s),a=t.tile.tileInfoView.getLODInfoAt(t.tile.key),{message:o,transferList:n}=i.serialize(a),c={objectIdMap:null,inner:e.createMessage(o,this._version,this._attributeStore.epoch)};if(this._schema?.mesh.properties.returnMeshObjectId){c.objectIdMap={};const t=e.reader?.getCursor();if(t)for(;t.next();)c.objectIdMap[t.getDisplayId()]=t.getObjectId()}if(r(t.signal),await this._connection.container.onMessage(c,{signal:t.signal,transferList:n}),this._attributeStore.sendUpdates(),has(\"esri-2d-update-debug\")){const s=t.tile;console.debug(`Version[${this._version}] Tile[${s.key.id}, end=${e.end}] Processor._process.await`)}}async _fetchResources(e,t){await this._fetchMatcherResources(e),await this._fetchWriterResources(e,t)}async _fetchMatcherResources(e){if(e.reader)return this._factory.enqueueMatcherRequests(this._proxy,e.reader)}async _fetchWriterResources(e,t){if(!e.reader)return;const s=e.reader.getCursor(),r=e.subscription.tile.createArcadeEvaluationOptions(S(this._schema));for(;s.next();)this._factory.enqueueWriterRequests(this._proxy,s,r,t);await this._proxy.fetchEnqueuedResources()}async _write(e,t,s){const r=e.subscription.tile,i=e.reader?.getCursor(),a=i?.getSize()??0,o=r.tileInfoView.tileInfo.isWrappable,c=r.tileInfoView.tileInfo.spatialReference.isWGS84,h=new n(r.key,this._strategy.enablePixelBuffering,o,c,a);if(!i)return h;const u=r.createArcadeEvaluationOptions(S(this._schema));for(;i.next();){const e=this._getSortKeyValue(i,t);h.entityStart(i.getDisplayId(),e),this._factory.write(h,this._proxy,i,u,s,r.level),h.entityEnd()}return h}_getSortKeyValue(e,t){if(!this._sortInfo)return 0;const{computed:s,order:r,byRenderer:i}=this._sortInfo,a=i?this._factory.getSortKey(e,t):s?.read(e,t);return null==a||isNaN(a)?0:a*(\"asc\"===r?-1:1)}}function w(e,t){const s=[];return e?.timeExtent?.start===t.timeExtent?.start&&e?.timeExtent?.end===t.timeExtent?.end||s.push(\"timeProperties\"),s}function S(e){const{timeZone:t}=e?.mesh.properties??{},{timeExtent:s}=e?.expressionProperties??{};return{timeZone:t,timeExtent:s}}export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass t{static from(e){let n=0,r=0,o=0;return e.forEach((t=>{const e=t._readGeometry();e&&(r+=e.isPoint?1:e.lengths.reduce(((t,e)=>t+e),0),o+=e.isPoint?1:e.lengths.length,n+=1)})),new t(n,r,o)}constructor(t,e,n){this.featureCount=t,this.vertexCount=e,this.ringCount=n}toJSON(){return{featureCount:this.featureCount,ringCount:this.featureCount,vertexCount:this.featureCount}}}export{t as FeatureStoreStatistics};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../core/has.js\";import{sqlAnd as e}from\"../../../../../core/sql.js\";import t from\"../../../../../geometry/SpatialReference.js\";import{isHostedAgolService as r}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{getClauseForScaleRange as a}from\"../../../../../layers/support/displayFilterUtils.js\";import i from\"../../../../../rest/support/Query.js\";import s from\"../../../../../time/TimeExtent.js\";const o=4;function n(e,a,i){const o=e.orderByFields??i.objectIdField+\" ASC\",n=e.source,u={returnCentroid:!(null!==n&&\"object\"==typeof n&&\"path\"in n&&r(n.path))&&\"esriGeometryPolygon\"===i.serviceGeometryType,returnGeometry:!0,timeReferenceUnknownClient:i.timeReferenceUnknownClient??void 0,outSpatialReference:t.fromJSON(e.outSpatialReference),orderByFields:\"memory\"===e.type?[]:[o],where:a.mutable.dataFilter.definitionExpression??\"1=1\",outFields:a.mutable.availableFields,multipatchOption:\"esriGeometryMultiPatch\"===i.serviceGeometryType?\"xyFootprint\":null};if(\"feature\"===a.type){const{gdbVersion:e,historicMoment:t,timeExtent:r}=a.mutable.dataFilter;return{...u,gdbVersion:e,historicMoment:t?new Date(t):null,timeExtent:r?s.fromJSON(r):null,outFields:a.mutable.availableFields}}return u}class u{static fromSchema(e,t,r){const a=\"feature\"===t.type?t.mutable.dataFilter.queryScaleRanges:[],i=t.mutable.displayFilterInfo;return new u(n(e,t,r),i,a,r.subtypeField,t.mutable.dataFilter.customParameters,r.geometryType,e.queryMetadata)}constructor(e,t,r,a,i,s,o){this._queryParams=e,this._displayFilter=t,this._queryScaleRanges=r,this._subtypeField=a,this._customParameters=i,this._geometryType=s,this._queryMetadata=o}get pageSize(){if(null==this._queryMetadata)throw new Error(\"InternalError: Service does not support paged queries\");const e=this._queryMetadata.supportsMaxRecordCountFactor?o:null,t=(this._queryMetadata.maxRecordCount??8e3)*(e??1);return Math.min(8e3,t)}get objectIdsQueryPageSize(){return this._queryMetadata?.maxRecordCount??2e3}updateHistoricMoment(e){this._queryParams.historicMoment=e}updateFields(e){this._queryParams.outFields=e}createPatchFieldsQuery(e,t,r){if(!t.getSize())return null;const a=e.clone();if(\"*\"===this._queryParams.outFields[0]){if(\"*\"===(a.outFields??[])[0])return null;a.outFields=this._queryParams.outFields}else{const e=new Set(this._queryParams.outFields),r=[];for(const a of e)t.hasField(a)||r.push(a);if(0===r.length)return null;a.outFields=r}a.returnGeometry=!1,a.returnCentroid=!1,a.quantizationParameters=null,a.cacheHint=!0;const i={inner:a,customParameters:this._customParameters};if(has(\"esri-tiles-debug\")&&null!=r){const e=r.chunkId.toString().replaceAll(\"/\",\".\");i.customParameters=i.customParameters?{...i.customParameters,chunkId:e}:{chunkId:e}}return i}createQuery(e={}){if(!this._queryParams)throw new Error(\"InternalError: queryInfo should be defined\");return{inner:new i({...this._queryParams,...e}),customParameters:this._customParameters}}createTileQuery(t,r){if(null==this._queryMetadata)throw new Error(\"InternalError: Service does not support tile queries\");const i=this.createQuery(r),s=i.inner;if(this._queryScaleRanges.length){const r=this._queryScaleRanges.filter((e=>(!e.minScale||e.minScale>=t.maxScale)&&(!e.maxScale||e.maxScale<=t.minScale))).map((e=>e.subtypeCode));if(r.length){const t=`${this._subtypeField} IN (${r})`;s.where=e(s.where,t)}}if(this._displayFilter&&(s.where=e(s.where,a(this._displayFilter,t.minScale,t.maxScale))),s.quantizationParameters=r.quantizationParameters??t.getQuantizationParameters(),s.resultType=\"tile\",s.geometry=t.extent,this._queryMetadata.supportsQuantization?\"esriGeometryPolyline\"===this._geometryType&&(s.maxAllowableOffset=t.resolution*has(\"feature-polyline-generalization-factor\")):\"esriGeometryPolyline\"!==this._geometryType&&\"esriGeometryPolygon\"!==this._geometryType||(s.maxAllowableOffset=t.resolution,\"esriGeometryPolyline\"===this._geometryType&&(s.maxAllowableOffset*=has(\"feature-polyline-generalization-factor\"))),s.defaultSpatialReferenceEnabled=this._queryMetadata.supportsDefaultSpatialReference,s.compactGeometryEnabled=this._queryMetadata.supportsCompactGeometry,this._queryMetadata.supportsMaxRecordCountFactor&&(s.maxRecordCountFactor=o),has(\"esri-tiles-debug\")){const e=t.id.replaceAll(\"/\",\".\");i.customParameters=i.customParameters?{...i.customParameters,tileId:e}:{tileId:e}}return i}createPagedTileQuery(e,t){const r=this.pageSize;return this.createTileQuery(e,{start:r*t,num:r,returnExceededLimitFeatures:!0})}createPagedQuery(e){const t=this.pageSize;return this.createQuery({start:t*e,num:t,returnExceededLimitFeatures:!0,maxRecordCountFactor:o,cacheHint:!0})}createObjectIdsQuery(e){return this.createQuery({objectIds:e,outFields:[\"*\"]})}}export{u as FeatureSourceQueryInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{watch as s}from\"../../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";const a=2500;let o=class extends t{constructor(e){super(),this._connection=e,this._enabledEventTypes=new Set,this._updateInfo={websocket:0,client:0},this._lastTime=performance.now(),this._queuedCommands=[],this.addHandles([s((()=>this._strategy?.connectionStatus??\"disconnected\"),(e=>{this._layerView.setProperty({propertyName:\"pipelineConnectionStatus\",value:e})}),{initial:!0}),s((()=>this._strategy?.errorString||null),(e=>this._layerView.setProperty({propertyName:\"pipelineErrorString\",value:e})),{initial:!0})])}destroy(){this._strategy=null,this.removeAllHandles()}get _layerView(){return this._connection.layerView}set strategy(e){null==this._strategy&&this._resetUpdateInfo(performance.now());const t=\"event-handles\";this.removeHandles(t),null!=e&&(this.addHandles([e.events.on(\"data-received\",(e=>this._onFeature(e))),e.events.on(\"message-received\",(e=>this._onWebSocketMessage(e))),e.events.on(\"features-updated\",(e=>this._onUpdate(e))),e.events.on(\"tick\",(()=>this._onTick()))],t),this._queuedCommands.forEach((t=>t(e))),this._queuedCommands=[]),this._strategy=e}updateCustomParameters(e){null!=e&&this._callOrEnqueue((t=>t.updateCustomParameters(e)))}sendMessageToSocket(e){this._callOrEnqueue((t=>t.sendMessageToSocket(e)))}sendMessageToClient(e){this._callOrEnqueue((t=>t.sendMessageToClient(e)))}enableEvent(e,t){t?this._enabledEventTypes.add(e):this._enabledEventTypes.delete(e)}disconnect(){this._strategy?.disconnect()}connect(){this._strategy?.connect()}clear(){this._strategy?.clear()}_onWebSocketMessage(e){this._enabledEventTypes.has(\"message-received\")&&this._layerView.emitEvent({name:\"message-received\",event:e})}_onFeature(e){this._updateInfo.websocket++,this._enabledEventTypes.has(\"data-received\")&&this._layerView.emitEvent({name:\"data-received\",event:{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry}})}_onUpdate(e){this._updateInfo.client+=e}_onTick(){const e=performance.now(),t=e-this._lastTime;if(t>a){const s=Math.round(this._updateInfo.client/(t/1e3)),n=Math.round(this._updateInfo.websocket/(t/1e3));this._resetUpdateInfo(e),this._layerView.emitEvent({name:\"update-rate\",event:{client:s,websocket:n}})}}_resetUpdateInfo(e){this._lastTime=e,this._updateInfo.client=0,this._updateInfo.websocket=0}_callOrEnqueue(e){null!=this._strategy?e(this._strategy):this._queuedCommands.push(e)}};e([n()],o.prototype,\"_strategy\",void 0),o=e([r(\"esri.views.2d.layers.features.sources.StreamMessenger\")],o);export{o as StreamMessenger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ASourceChunk as e}from\"./ASourceChunk.js\";class t extends e{constructor(e,t,r,s){super(),this._reader=e,this._queryJSON=t,this._page=r,this._end=s,this.chunkId=`${this._page}${this.end?\"e\":\"\"}`,this.normalizedChunkId=this.chunkId}get reader(){return this._reader}get first(){return 0===this._page}get end(){return this._end}get queryInfo(){return{type:\"snapshot\",chunkId:this.chunkId,queryJSON:this._queryJSON,page:this._page,size:this.size(),end:this.end}}get isTiled(){return!1}getTileReader(e){const t=this.queryFeaturesInBounds(e.bounds);return t.setTransformForDisplay(e.transform),t}}export{t as FeatureSnapshotSourceChunk};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport r from\"../../../../../../../core/Error.js\";import{throwIfAborted as e}from\"../../../../../../../core/promiseUtils.js\";import{FeatureSnapshotSourceChunk as n}from\"../chunks/FeatureSnapshotSourceChunk.js\";async function o(e,n,o,a={}){const s=(await Promise.allSettled(o.map((r=>t(e,n,r,a))))).filter((r=>\"rejected\"===r.status)).map((r=>r.reason));if(s.length)throw new r(\"featurelayer-query\",\"Encountered errors when downloading data\",{errors:s})}async function t(r,o,t,a={}){const s=`${r.chunkPrefix??\"\"}${t.num}`,u=await r.fetch(t.query,a,{chunkId:s}),i=new n(u,t.query.inner.toJSON(),t.num,!1);i.chunkId=i.normalizedChunkId=s,e(a),o.insert(i)}export{o as fetchPages};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Error.js\";import\"../../../../../core/has.js\";import e from\"../../../../../core/Logger.js\";import{debounce as r}from\"../../../../../core/promiseUtils.js\";import{generateUUID as s}from\"../../../../../core/uuid.js\";import{fetchPages as i}from\"./strategies/support/snapshotUtils.js\";const o=8e3;class h{constructor(h,a,c,n){this.store=h,this.queryInfo=a,this._options=c,this._fetch=n,this._nextBatch=new Set,this._fetchFeatures=r((async()=>{if(0===this._nextBatch.size||this._options.signal?.aborted)return;const r=Array.from(this._nextBatch);this._nextBatch.clear(),r.length>o&&e.getLogger(\"esri.views.2d.layers.FeatureLayerView2D\").warn(new t(\"highlight-too-many-features\",`highlight is limited to ${o} features on large layers configured with a display filter to avoid performance issues`));const h=this.queryInfo.objectIdsQueryPageSize,a=Math.ceil(o/h),c=Math.min(a,Math.ceil(r.length/h)),n=Array.from({length:c},((t,e)=>{const s=e*h,i=Math.min(s+h,r.length);return{num:e,query:this.queryInfo.createObjectIdsQuery(r.slice(s,i))}}));try{await i({chunkPrefix:\"cache.\"+s(),fetch:this._fetch},this.store,n,this._options)}catch(f){}}))}prepareCacheUpdate(t,e){if(e)for(const r of e)this._nextBatch.delete(r);for(const r of t)this._nextBatch.add(r)}applyCacheUpdate(){return 0===this._nextBatch.size||this._options.signal?.aborted?null:this._fetchFeatures().catch((()=>{}))}}export{h as FeatureCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass r{constructor(r){this._store=r,this._controller=new AbortController}destroy(){this._controller.abort()}get _options(){return{signal:this._controller.signal}}unsafeSetQueryHistoricMoment(r){throw new Error(\"InternalError: LoadStrategy does not support query info\")}async queryByObjectId(r){throw new Error(\"InternalError: LoadStrategy does not support fetching\")}async addParquetFile(r){throw new Error(\"InternalError: LoadStrategy does not support loading blobs\")}prepareCacheUpdate(r,t){}applyCacheUpdate(){return null}}export{r as ALoadStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Error.js\";import t from\"../../../../../layers/support/FieldsIndex.js\";import{parseField as s,parseTransform as r}from\"../../../../../rest/query/operations/pbfFeatureServiceParser.js\";const n=268435455;class o{constructor(){this.hasFeatures=!1,this.exceededTransferLimit=!1,this.fieldCount=0,this.featureCount=0,this.objectIdFieldIndex=0,this.vertexCount=0,this.offsets={attributes:new Array,geometry:new Array},this.centroid=new Array}}function a(a,i,c=!1){const f=1,d=3,u=9,g=12,l=13,p=15,h=a.asUnsafe(),b=h.pos(),w=new o;let m=0,y=0;const k=1,x=2,I=4,L=3;let A=null,F=null,C=null,S=!1;const j=[];for(;h.next();)switch(h.tag()){case f:A=h.getString();break;case d:F=h.getString();break;case g:C=h.processMessage(r);break;case u:if(w.exceededTransferLimit=h.getBool(),w.exceededTransferLimit){w.offsets.geometry=c?new Float64Array(8e3):new Int32Array(8e3),w.centroid=c?new Float64Array(16e3):new Int32Array(16e3);for(let e=0;e<w.centroid.length;e++)w.centroid[e]=n}break;case l:{const e=h.processMessage(s);e.index=m++,j.push(e);break}case p:{const e=h.getLength(),t=h.pos()+e;if(!w.exceededTransferLimit){const e=w.offsets.geometry,t=w.centroid;e.push(0),t.push(n),t.push(n)}!S&&w.exceededTransferLimit&&(S=!0,w.offsets.attributes=c?new Float64Array(8e3*m):new Uint32Array(8e3*m));let s=y*m;for(;h.pos()<t&&h.next();)switch(h.tag()){case k:{if(S)w.offsets.attributes[s++]=h.pos();else{w.offsets.attributes.push(h.pos())}const e=h.getLength();h.skipLen(e);break}case x:if(i){const e=h.getLength(),t=h.pos()+e;for(;h.pos()<t&&h.next();)switch(h.tag()){case L:{h.getUInt32();const e=h.getSInt64(),t=h.getSInt64();w.centroid[2*y]=e,w.centroid[2*y+1]=t;break}default:h.skip()}}else{w.offsets.geometry[y]=h.pos();const e=h.getLength();w.vertexCount+=e,h.skipLen(e)}break;case I:{const e=h.getLength(),t=h.pos()+e;for(;h.pos()<t&&h.next();)switch(h.tag()){case L:{h.getUInt32();const e=h.getSInt64(),t=h.getSInt64();w.centroid[2*y]=e,w.centroid[2*y+1]=t;break}default:h.skip()}break}default:h.skip()}y++,w.hasFeatures=!0;break}default:h.skip()}const U=A||F;if(!U)throw new e(\"FeatureSet has no objectId or globalId field name\");return w.fields=new t(j),w.featureCount=y,w.fieldCount=m,w.objectIdFieldIndex=w.fields.get(U)?.index,w.transform=C,w.displayIds=new Uint32Array(w.featureCount),w.groupIds=new Uint16Array(w.featureCount),h.move(b),w}export{o as FeatureSetHeader,a as parseHeader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Error.js\";import\"../../../../../core/has.js\";import t from\"../../../../../core/Logger.js\";import{assertIsSome as r}from\"../../../../../core/maybe.js\";import{baseObjectMemory as s}from\"../../../../../core/memoryEstimations.js\";import n from\"../../../../../core/pbf.js\";import a from\"../../../../../layers/graphics/OptimizedGeometry.js\";import{FeatureSetCache as i}from\"./FeatureSetCache.js\";import{FeatureSetReader as h}from\"./FeatureSetReader.js\";import{parseHeader as o}from\"./FeatureSetReaderPBFHeader.js\";const d=!0,u=268435455,c=128,l=128e3,g={small:{delta:new Int32Array(c),decoded:new Int32Array(c)},small64:{delta:new Float64Array(0),decoded:new Float64Array(0)},large:{delta:new Int32Array(l),decoded:new Int32Array(l)},large64:{delta:new Float64Array(0),decoded:new Float64Array(0)}};function _(e,t){return t?e<=g.small64.delta.length?g.small64:(e<=g.large64.delta.length||(g.large64.delta=new Float64Array(Math.round(1.25*e)),g.large64.decoded=new Float64Array(Math.round(1.25*e))),g.large64):e<=g.small.delta.length?g.small:(e<=g.large.delta.length||(g.large.delta=new Int32Array(Math.round(1.25*e)),g.large.decoded=new Int32Array(Math.round(1.25*e))),g.large)}function f(r){try{const e=2,t=new n(new Uint8Array(r),new DataView(r));for(;t.next();){if(t.tag()===e)return I(t.getMessage());t.skip()}}catch(s){const r=new e(\"query:parsing-pbf\",\"Error while parsing FeatureSet PBF payload\",{error:s});t.getLogger(\"esri.view.2d.layers.features.support.FeatureSetReaderPBF\").error(r)}return null}function I(e){const t=1;for(;e.next();){if(e.tag()===t)return e.getMessage();e.skip()}return null}function y(e){const t=1,r=2,s=3,n=4,a=5,i=6,h=7,o=8,d=9,u=e.getLength(),c=e.pos()+u;for(;e.pos()<c&&e.next();)switch(e.tag()){case t:return e.getString();case r:return e.getFloat();case s:return e.getDouble();case n:return e.getSInt32();case a:return e.getUInt32();case i:return e.getInt64();case h:return e.getUInt64();case o:return e.getSInt64();case d:return e.getBool();default:return e.skip(),null}return null}function m(e,t,r,s,n,a){return.5*Math.abs(e*s+r*a+n*t-e*a-r*t-n*s)}function p(e,t,r,s,n){if(!e)return!1;return 0===t*n-s*r&&t*s+r*n>0}class x extends h{static fromBuffer(e,t,r=!1){const s=t.geometryType,n=f(e),a=o(n,\"esriGeometryPoint\"===s,r);return new x(n,a,t,r)}constructor(e,t,r,s){super(r),this._use64Bit=s,this._hasNext=!1,this._isPoints=!1,this._featureIndex=-1,this._featureOffset=0,this._cache={area:0,unquantGeometry:void 0,geometry:void 0},this._parseCaches=new Array,this._geometryType=r.geometryType,this._reader=e,this._header=t,this._hasNext=t.hasFeatures,this._isPoints=\"esriGeometryPoint\"===r.geometryType}get _size(){return this._header.featureCount}get fields(){return this._header.fields}get geometryType(){return this._geometryType}get hasZ(){return!1}get hasM(){return!1}get hasFeatures(){return this._header.hasFeatures}get hasNext(){return this._hasNext}get exceededTransferLimit(){return this._header.exceededTransferLimit}getSize(){return this._size}getInTransform(){return this._header.transform}getCursor(){return this.copy()}getIndex(){return this._featureIndex}setIndex(e){this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0,this._featureIndex=e}getAttributeHash(){let e=\"\";for(const t of this._header.fields.fields)e+=this._readAttributeAtIndex(t.index)+\".\";return e}getObjectId(){return this._readAttributeAtIndex(this._header.objectIdFieldIndex)}getDisplayId(){return this._header.displayIds[this._featureIndex]}setDisplayId(e){this._header.displayIds[this._featureIndex]=e}readGeometryArea(){return this._cache.area||this._readGeometry(!0),this._cache.area}copy(){const e=this._reader.clone(),t=new x(e,this._header,this.metadata,this._use64Bit);return this.copyInto(t),t}next(){for(this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0;++this._featureIndex<this._size&&!this._getExists(););return this._featureIndex<this._size}get usedMemory(){return s+(this._cache.geometry?.usedMemory??0)}_readX(){return this._header.centroid[2*this._featureIndex]}_readY(){return this._header.centroid[2*this._featureIndex+1]}_readServerCentroid(){const e=this._header.centroid[2*this._featureIndex],t=this._header.centroid[2*this._featureIndex+1];return e===u?null:new a([],[e,t])}_readGeometry(e=!1){if(void 0===this._cache.geometry){let r=null;if(this._isPoints){if(this._header.centroid[2*this._featureIndex]===u)return null;const e=this._header.centroid[2*this._featureIndex],t=this._header.centroid[2*this._featureIndex+1];r=new a([],[e,t])}else{const s=this._header.offsets.geometry[this._featureIndex],n=this._reader;if(0===s)return null;n.move(s);try{r=e?this._parseGeometryForDisplay(n):this._parseGeometry(n)}catch(t){return null}}return 0===r?.coords.length&&(r=null),this._cache.geometry=r,r}return this._cache.geometry}_readAttribute(e,t){const r=this._header.fields.get(e);if(null==r)return;const s=this._readAttributeAtIndex(r.index),n=this._header.fields.isDateField(r.name);return t?null==s?s:n?new Date(s):s:s}_readAttributes(){const e={};for(const t of this._header.fields.fields)e[t.name]=this._readAttributeAtIndex(t.index);return e}copyInto(e){super.copyInto(e),e._featureIndex=this._featureIndex,e._featureOffset=this._featureOffset,e._hasNext=this._hasNext,e._parseCaches=this._parseCaches}_readAttributeAtIndex(e){let t=this._parseCaches[e];if(t||(t=new i(this.getSize()),this._parseCaches[e]=t),t.has(this._featureIndex))return t.get(this._featureIndex);const r=this._header.offsets.attributes[this._featureIndex*this._header.fieldCount+e],s=this._reader;s.move(r);const n=y(s);return t.set(this._featureIndex,n),n}_readGeometryDeltaDecoded(e=!1){if(void 0===this._cache.unquantGeometry){const t=this._readGeometry(e);if(!t)return this._cache.unquantGeometry=void 0,null;if(!this.getInTransform())return this._cache.unquantGeometry=t,t;const r=_(t.coords.length,this._use64Bit).decoded,s=t.clone(r),n=s.coords;let a=0;for(const e of s.lengths){for(let t=1;t<e;t++){const e=2*(a+t),r=2*(a+t-1);n[e]+=n[r],n[e+1]+=n[r+1]}a+=e}return this._cache.unquantGeometry=s,s}return this._cache.unquantGeometry}_parseGeometry(e){const t=2,r=3,s=e.asUnsafe(),n=s.getLength(),i=s.pos()+n,h=[],o=[];for(;s.pos()<i&&s.next();)switch(s.tag()){case t:{const e=s.getUInt32(),t=s.pos()+e;for(;s.pos()<t;)o.push(s.getUInt32());break}case r:{const e=s.getUInt32(),t=s.pos()+e;for(h.push(s.getSInt64()),h.push(s.getSInt64()),this.hasZ&&s.getSInt64(),this.hasM&&s.getSInt64();s.pos()<t;)h.push(s.getSInt64()),h.push(s.getSInt64()),this.hasZ&&s.getSInt64(),this.hasM&&s.getSInt64();break}default:s.skip()}return new a(o,h)}_parseGeometryForDisplay(e){const t=2,s=3,n=e.asUnsafe(),i=n.getLength(),h=n.pos()+i,o=[],u=[];let c=0,l=0,g=null,f=0;const I=\"esriGeometryPolygon\"===this.geometryType,y=\"esriGeometryPolyline\"===this.geometryType,x=I||y;for(;n.pos()<h&&n.next();)switch(n.tag()){case t:{const e=n.getUInt32(),t=n.pos()+e;for(;n.pos()<t;){const e=n.getUInt32();o.push(e),c+=e}g=_(2*c,this._use64Bit).delta;break}case s:{n.getUInt32();const e=2+(this.hasZ?1:0)+(this.hasM?1:0);r(g);for(const t of o)if(l+e*t>g.length)for(let e=0;e<t;e++)n.getSInt64(),n.getSInt64(),this.hasZ&&n.getSInt64(),this.hasM&&n.getSInt64();else if(I&&d){const e=this.getAreaSimplificationThreshold(t,this._header.vertexCount);let r=2,s=1;const a=!1;let i=n.getSInt64(),h=n.getSInt64();g[l++]=i,g[l++]=h,this.hasZ&&n.getSInt64(),this.hasM&&n.getSInt64();let o=n.getSInt64(),d=n.getSInt64();for(this.hasZ&&n.getSInt64(),this.hasM&&n.getSInt64();r<t;){let t=n.getSInt64(),a=n.getSInt64();this.hasZ&&n.getSInt64(),this.hasM&&n.getSInt64();const u=i+o,c=h+d;m(i,h,u,c,u+t,c+a)>=e?(f+=-.5*(u-i)*(c+h),s>1&&p(x,g[l-2],g[l-1],o,d)?(g[l-2]+=o,g[l-1]+=d):(g[l++]=o,g[l++]=d,s++),i=u,h=c):(t+=o,a+=d),o=t,d=a,r++}s<3||a?l-=2*s:(f+=-.5*(i+o-i)*(h+d+h),p(x,g[l-2],g[l-1],o,d)?(g[l-2]+=o,g[l-1]+=d,u.push(s)):(g[l++]=o,g[l++]=d,u.push(++s)))}else{let e=0,r=n.getSInt64(),s=n.getSInt64();this.hasZ&&n.getSInt64(),this.hasM&&n.getSInt64(),g[l++]=r,g[l++]=s,e+=1;for(let a=1;a<t;a++){const t=n.getSInt64(),i=n.getSInt64(),h=r+t,o=s+i;f+=-.5*(h-r)*(o+s),this.hasZ&&n.getSInt64(),this.hasM&&n.getSInt64(),a>2&&p(x,g[l-2],g[l-1],t,i)?(g[l-2]+=t,g[l-1]+=i):(g[l++]=t,g[l++]=i,e+=1),r=h,s=o}u.push(e)}break}default:n.skip()}return this._cache.area=f,u.length?new a(u,g):null!=g?this._createDeltaQuantizedExtrudedGeometry(g[0],g[1]):null}}export{x as FeatureSetReaderPBF};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../../../core/has.js\";import t from\"../../../../../../../core/workers/Connection.js\";import{toQuantizationTransform as e}from\"../../../../../../../geometry/support/quantizationUtils.js\";import{convertFromFeatureSet as r,quantizeOptimizedFeatureSet as a}from\"../../../../../../../layers/graphics/featureConversionUtils.js\";import{queryOptimizedFeatureSet as s}from\"../../../../../../../layers/ogc/ogcFeatureUtils.js\";import{executeQueryPBFBuffer as i,executeQuery as o}from\"../../../../../../../rest/query/operations/query.js\";import{FeatureSetReaderJSON as n}from\"../../../support/FeatureSetReaderJSON.js\";import{FeatureSetReaderPBF as u}from\"../../../support/FeatureSetReaderPBF.js\";class c{constructor(t,e){this.service=t,this._metadata=e}destroy(){}}function m(t,e){switch(t.type){case\"memory\":return new l(t,e);case\"ogc\":return new y(t,e);case\"feature-service\":return t.queryMetadata.supportsFormatPBF&&has(\"featurelayer-pbf\")?new d(t,e):new f(t,e)}}async function p(e){const r=new t;return await r.open(e,{}),r}class l extends c{constructor(t,e){super(t,e),this._portsOpen=p(t.source).then((t=>this.client=t))}destroy(){this.client.close(),this.client=null}async executeQuery(t,e){await this._portsOpen;const r=await this.client.invoke(\"queryFeatures\",t.toJSON(),e);return n.fromFeatureSet(r,this._metadata)}}class d extends c{async executeQuery(t,e){const{data:r}=await i(this.service.source,t,e),a=!t.quantizationParameters;return u.fromBuffer(r,this._metadata,a)}}class f extends c{async executeQuery(t,s){const{source:i,queryMetadata:u}=this.service;if(null!=t.quantizationParameters&&!u.supportsQuantization){const u=t.clone(),c=e(u.quantizationParameters);u.quantizationParameters=null;const{data:m}=await o(i,u,this._metadata.spatialReference,s),p=r(m,this._metadata.objectIdField);return a(c,p),n.fromOptimizedFeatureSet(p,this._metadata)}const{data:c}=await o(i,t,this._metadata.spatialReference,s);return\"esriGeometryPoint\"===this._metadata.geometryType&&(c.features=c.features?.filter((t=>{if(null!=t.geometry){const e=t.geometry;return Number.isFinite(e.x)&&Number.isFinite(e.y)}return!0}))),n.fromFeatureSet(c,this._metadata)}}class y extends c{async executeQuery(t,r){if(t.quantizationParameters&&!this.service.queryMetadata.supportsQuantization){const i=t.clone(),o=e(i.quantizationParameters);i.quantizationParameters=null;const u=await s(this.service.source,t,r);return a(o,u),n.fromOptimizedFeatureSet(u,this._metadata)}const i=await s(this.service.source,t,r);return n.fromOptimizedFeatureSet(i,this._metadata)}}export{c as SourceAdapter,m as createQueryAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../core/Error.js\";import t from\"../../../../../../core/Logger.js\";import{QueueProcessor as r}from\"../../../../../../core/QueueProcessor.js\";import s from\"../../../../../../rest/support/Query.js\";import{ALoadStrategy as n}from\"./ALoadStrategy.js\";import{createQueryAdapter as o}from\"./support/queryAdapters.js\";import{FeatureSetReaderJSON as u}from\"../../support/FeatureSetReaderJSON.js\";class i extends n{constructor(e,t,s,n,u){super(s),this._serviceInfo=e,this._queryInfo=t,this._metadata=n,this._connection=u,this._queue=new r({concurrency:32,process:async e=>{const t={signal:e.options?.signal,query:e.query.customParameters,useRequestQueue:!0};return this._adapter.executeQuery(e.query.inner,t)}}),this._adapter=o(e,n)}unsafeSetQueryHistoricMoment(e){this._queryInfo.updateHistoricMoment(e)}async updateFields(t){this._queryInfo.updateFields(t);const r=Array.from(this._store.chunks()).map((async e=>{const t=s.fromJSON(e.queryInfo.queryJSON);if(t)try{return await this._tryUpdateFields(e.reader,t,{chunkId:e.chunkId}),null}catch(r){return r}})),n=(await Promise.all(r)).filter((e=>e));if(n.length)throw new e(\"featurelayer-query\",\"Encountered errors when downloading fields\",{errors:n})}async queryByObjectId(e){if(0===e.length)return u.empty(this._metadata);const t=this._queryInfo.createQuery({objectIds:e});return this._fetch(t,null,null)}async _fetch(e,t,r){const s=await this._enqueue(e,t);return await this._tryUpdateFields(s,e.inner,r),s}async _tryUpdateFields(r,s,n){const o=this._queryInfo.createPatchFieldsQuery(s,r,n);if(!o)return;const u=await this._enqueue(o,this._options);u.getSize()===r.getSize()?r.joinAttributes(u):t.getLogger(\"esri.views.2d.layers.features.sources.strategies.AFetchLoadStrategy\").error(new e(\"featurelayer-query\",`Failed to join features. Expected a count of ${r.getSize()} features, but got ${u.getSize()}`,{query:o.inner.toJSON(),debugInfo:n}))}async _enqueue(e,t){return this._connection.onEvent({type:\"fetchStart\"}),this._queue.push({query:e,options:t}).finally((()=>{this._connection.onEvent({type:\"fetchEnd\",done:0===this._queue.length})}))}}export{i as AFetchLoadStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../../core/has.js\";import{FeatureCache as e}from\"../FeatureCache.js\";import{AFetchLoadStrategy as t}from\"./AFetchLoadStrategy.js\";class s extends t{constructor(t,s,h,r,d){super(t,s,h,r,d),this._chunksById=new Map,this._featureCache=new e(h,s,this._options,this._fetch.bind(this))}prepareCacheUpdate(e,t){return this._featureCache.prepareCacheUpdate(e,t)}applyCacheUpdate(){return this._featureCache.applyCacheUpdate()}unload(e){this._removeChunks(e.tile)}_addChunk(e){const t=e.tile.id;this._chunksById.has(t)||this._chunksById.set(t,[]);const s=e.size();(s||e.first||e.end)&&(has(\"esri-2d-update-debug\")&&console.debug(`Chunk[${e.chunkId}] ATileLoadStrategy.addChunk [count=${s}]`),this._chunksById.get(t).push(e),this._store.insert(e))}_removeChunks(e){const t=this._chunksById.get(e.key.id)??[];for(const s of t)has(\"esri-2d-update-debug\")&&console.debug(`Tile[${e.key.id}] Chunk[${s.chunkId}] ATileLoadStrategy.removeChunk`),this._store.remove(s);this._chunksById.delete(e.key.id)}}export{s as ATileLoadStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ASourceChunk as e}from\"./ASourceChunk.js\";class i extends e{constructor(e,i,t,r,s,h){super(),this._reader=e,this._queryJSON=i,this._tile=t,this._sourceTile=r,this._sourceTileDepth=s,this._end=h,this.chunkId=`${this._tile.key.id}.${this._sourceTile?.key.id}${this._end?\"e\":\"\"}`,this.normalizedChunkId=`${this._tile.key.normalizedId}.${this._sourceTile?.key.normalizedId}${this._end?\"e\":\"\"}`}get queryInfo(){return{type:\"drill-down-tile\",chunkId:this.chunkId,tileId:this._tile.key.id,queryJSON:this._queryJSON,sourceTileDepth:this._sourceTileDepth,sourceTileId:this._sourceTile?.key.id,size:this.size(),end:this.end}}get first(){return 0===this._sourceTileDepth}get reader(){return this._reader}get end(){return this._end}get tile(){return this._tile}get isTiled(){return!0}getTileReader(e){return this._tile.key.id===e.key.id?this.reader:null}}export{i as DrillDownTileSourceChunk};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{handlesGroup as t}from\"../../../../../../core/handleUtils.js\";import has from\"../../../../../../core/has.js\";import{throwIfAborted as e,onAbort as s}from\"../../../../../../core/promiseUtils.js\";import{ATileLoadStrategy as o}from\"./ATileLoadStrategy.js\";import{DrillDownTileSourceChunk as r}from\"./chunks/DrillDownTileSourceChunk.js\";import{FeatureSetReaderJSON as i}from\"../../support/FeatureSetReaderJSON.js\";class l{constructor(e,o){this.subscription=e,this._tileIdToResult=new Map,this._controller=new AbortController,this._handles=t([s(e.signal,(()=>this._controller.abort())),s(o,(()=>this._controller.abort()))])}destroy(){this._controller.abort(),this._handles.remove()}get(t){return this._tileIdToResult.get(t)}set(t,e){this._tileIdToResult.set(t,e)}get options(){return{signal:this._controller.signal}}}class a extends o{constructor(){super(...arguments),this._loadStates=new Map}destroy(){super.destroy();for(const t of this._loadStates.values())t.destroy();this._loadStates.clear()}get about(){return{supportsDisplayFilter:!0,willQueryAllFeatures:!1,willQueryFullResolutionGeometry:!1}}async load(t){this._loadStates.has(t.key.id)||this._loadStates.set(t.key.id,new l(t,this._options));const s=this._loadStates.get(t.key.id);let o;try{for await(const o of this._fetchChunkInfos(s,t.tile,0)){const{queryJSON:t,reader:i,sourceTile:l,sourceTileDepth:a,tile:n}=o,h=new r(i,t,n,l,a,!1);e(s.options),this._addChunk(h)}}catch(n){o=n}const a=new r(i.empty(this._metadata),null,t.tile,null,-1,!0);if(this._addChunk(a),o)throw o}unload(t){super.unload(t),this._loadStates.get(t.key.id)?.destroy(),this._loadStates.delete(t.key.id)}async*_fetchChunkInfos(t,e,s){let o=t.get(e.id);const r=!!o;if(o||(o=await this._fetchChunkInfo(t,e,s),t.set(e.id,o)),o.reader.exceededTransferLimit&&s<has(\"featurelayer-query-max-depth\"))for(const i of e.createChildTiles())yield*this._fetchChunkInfos(t,i,s+1);else r||(yield o)}async _fetchChunkInfo(t,e,s){const o=t.subscription.tile.getQuantizationParameters(),r=this._queryInfo.createTileQuery(e,{returnExceededLimitFeatures:!1,quantizationParameters:o});return{reader:await this._fetch(r,t.options,{chunkId:e.id}),queryJSON:r.inner.toJSON(),tile:t.subscription.tile,sourceTile:e,sourceTileDepth:s}}}export{a as DrillDownTileLoadStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ASourceChunk as e}from\"./ASourceChunk.js\";class t extends e{constructor(e,t,i,r,s){super(),this._reader=e,this._queryJSON=t,this._tile=i,this._page=r,this._end=s,this.chunkId=`${this._tile.key.id}.${this._page}${this.end?\"e\":\"\"}`,this.normalizedChunkId=`${this._tile.key.normalizedId}.${this._page}${this.end?\"e\":\"\"}`}get queryInfo(){return{type:\"paged-tile\",chunkId:this.chunkId,tileId:this._tile.key.id,queryJSON:this._queryJSON,page:this._page,size:this.size(),end:this.end}}get reader(){return this._reader}get first(){return 0===this._page}get end(){return this._end}get page(){return this._page}get tile(){return this._tile}get isTiled(){return!0}getTileReader(e){return this._tile.key.id===e.key.id?this.reader:null}}export{t as PagedTileSourceChunk};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{handlesGroup as t}from\"../../../../../../core/handleUtils.js\";import{getOrCreateMapValue as e}from\"../../../../../../core/MapUtils.js\";import{isAborted as s,throwIfAborted as o,onAbort as r}from\"../../../../../../core/promiseUtils.js\";import{ATileLoadStrategy as i}from\"./ATileLoadStrategy.js\";import{PagedTileSourceChunk as a}from\"./chunks/PagedTileSourceChunk.js\";import{FeatureSetReaderJSON as n}from\"../../support/FeatureSetReaderJSON.js\";class l{constructor(e,s){this.subscription=e,this._pages=new Set,this._controller=new AbortController,this._done=!1,this._handles=t([r(e.signal,(()=>this._controller.abort())),r(s,(()=>this._controller.abort()))])}destroy(){this._controller.abort(),this._handles.remove()}get pageStart(){let t=-1;for(const e of this._pages.values())t=Math.max(t,e);return t+1}get done(){return this._done}get options(){return{signal:this._controller.signal}}add(t,e){this._pages.add(t),this._done=this._done||e}}class h extends i{constructor(){super(...arguments),this._loadStates=new Map}destroy(){super.destroy();for(const t of this._loadStates.values())t.destroy();this._loadStates.clear()}get about(){return{supportsDisplayFilter:!0,willQueryAllFeatures:!1,willQueryFullResolutionGeometry:!1}}async load(t){const o=e(this._loadStates,t.key.id,(()=>new l(t,this._options)));let r;try{await this._fetchPages(o)}catch(h){r=h}const i=new a(n.empty(this._metadata),null,t.tile,-1,!0);if(s(o.options)||this._addChunk(i),r)throw r}unload(t){super.unload(t),this._loadStates.get(t.key.id)?.destroy(),this._loadStates.delete(t.key.id)}async _fetchPages(t){const e=4,s=20;let r=0,i=t.pageStart,a=1;for(;r<s&&!t.done;){const s=[];for(let e=0;e<a;e++)s.push(this._fetchChunk(t,i++));const n=await Promise.all(s);for(const e of n)(0!==e.size()||e.first)&&(t.add(e.page,!e.reader.exceededTransferLimit),o(t.options),this._addChunk(e));r++,a=Math.min(a+1,e)}}async _fetchChunk(t,e){const s=t.subscription.tile,o=this._queryInfo.createPagedTileQuery(s,e),r=await this._fetch(o,t.options,{chunkId:`${s.id}-${e}`});return new a(r,o.inner.toJSON(),s,e,!1)}}export{h as PagedTileLoadStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{baseObjectMemory as e}from\"../../../../../core/memoryEstimations.js\";import t from\"../../../../../layers/graphics/OptimizedGeometry.js\";import{FeatureSetReader as r}from\"./FeatureSetReader.js\";class n extends r{constructor(t,r,n,s,i,d=new Uint32Array(s.size())){super(t),this._fields=r,this._geometryInfo=n,this._inner=s,this._chunkId=i,this._displayIds=d,this._index=-1,this.usedMemory=e,this._size=this._inner.size(),null!=t.objectIdField&&(this._objectIdFieldIndex=this._fields.get(t.objectIdField)?.index),this._chunkId>65535&&console.error(\"Exceeded max allowed parquet reader size\")}destroy(){super.destroy(),this._inner.free()}get fields(){return this._fields}get geometryType(){return this._geometryInfo.geometryType}get hasFeatures(){return!0}get hasNext(){throw new Error(\"Method not implemented.\")}get exceededTransferLimit(){return!1}get hasZ(){return!1}get hasM(){return!1}getInTransform(){return null}getSize(){return this._size}getCursor(){return this.copy()}getAttributeHash(){let e=\"\";for(const t of this.fields.fields)e+=this._readAttribute(t.name,!1)+\".\";return e}getObjectId(){return null!=this._objectIdFieldIndex?this._inner.readAttribute(this._index,this._objectIdFieldIndex):this._index<<16|this._chunkId}getDisplayId(){return this._displayIds[this._index]}setDisplayId(e){this._displayIds[this._index]=e}setIndex(e){this._index=e}getBoundsXMin(){return this._inner.boundsXMin(this._index)}getBoundsYMin(){return this._inner.boundsYMin(this._index)}getBoundsXMax(){return this._inner.boundsXMax(this._index)}getBoundsYMax(){return this._inner.boundsYMax(this._index)}setBoundsXMin(e){throw new Error(\"InternalError: Setting bounds is unsupported\")}setBoundsYMin(e){throw new Error(\"InternalError: Setting bounds is unsupported\")}setBoundsXMax(e){throw new Error(\"InternalError: Setting bounds is unsupported\")}setBoundsYMax(e){throw new Error(\"InternalError: Setting bounds is unsupported\")}getIndex(){return this._index}next(){for(;++this._index<this._size&&!this._getExists(););return this._index<this._size}readGeometryArea(){return this.readGeometryForDisplay()?.area()??0}copy(){const e=new n(this.metadata,this._fields,this._geometryInfo,this._inner,this._chunkId,this._displayIds);return this.copyInto(e),e}copyInto(e){super.copyInto(e),e._index=this._index}readGeometryForDisplayTransformed(e){const[r,n]=e.translate,[s,i]=e.scale,d=this._inner.readGeometryTransformed(this._index,r,n,s,i);return d?new t(d.readLengthsUnsafe(),d.readCoordsUnsafe()):null}_readGeometry(e){const r=this._inner.readCoords(this._index),n=this._inner.readLengths(this._index);return r&&n?new t(n,r):null}_readX(){return this._readGeometry()?.coords[0]}_readY(){return this._readGeometry()?.coords[1]}_readServerCentroid(){return null}_readAttribute(e,t){const r=this.fields.get(e);if(!r)return;if(null==r.index)return this.getObjectId();const n=this._inner.readAttribute(this._index,r.index);if(null==n)return n;const s=this.fields.isDateField(r.name);return t?null==n?n:s?new Date(n):n:n}_readAttributes(){const e={};for(const t of this._fields.fields)null!=t.index?this._inner.hasField(t.index)&&(e[t.name]=this._readAttribute(t.name,!1)):e.__OBJECTID=this.getObjectId();return e}}export{n as FeatureSetReaderParquet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{throwIfAborted as e}from\"../../../../../../core/promiseUtils.js\";import{difference as t,union as s}from\"../../../../../../core/SetUtils.js\";import i from\"../../../../../../layers/support/FieldsIndex.js\";import{ParquetFile as a}from\"../../../../../../libs/parquet/parquet.js\";import{ALoadStrategy as r}from\"./ALoadStrategy.js\";import{FeatureSnapshotSourceChunk as l}from\"./chunks/FeatureSnapshotSourceChunk.js\";import{FeatureSetReaderJSON as o}from\"../../support/FeatureSetReaderJSON.js\";import{FeatureSetReaderParquet as n}from\"../../support/FeatureSetReaderParquet.js\";class m extends r{constructor(e,t,s,i){super(i),this._service=e,this._metadata=t,this._schema=s,this._chunkId=0,this._files=[],this._availableFields=new Set(s.mutable.availableFields);const{geometryInfo:a}=this._service;if(\"location\"===a.type)this._availableFields.add(a.latitudeFieldName),this._availableFields.add(a.longitudeFieldName);else if(null!=a.multiscale&&a.multiscale.levels.length>=1){const e=a.multiscale.levels[0];this._availableFields.add(e.column)}else this._availableFields.add(a.primaryFieldName)}destroy(){for(const e of this._files)e.destroy()}get about(){return{supportsDisplayFilter:!1,willQueryAllFeatures:!0,willQueryFullResolutionGeometry:!0}}async updateFields(e){await this._promise;const i=new Set(e),a=t(i,this._availableFields);this._availableFields=s(a,this._availableFields),a.size&&await Promise.all(this._files.map((e=>{const t=Array.from(a).map((t=>e.metadata.getFieldIndex(t)));return e.inner.updateChunks(new Uint16Array(t))})))}async load(e){return null==this._promise&&(this._promise=this._download().then((()=>{this._loadHigherResGeometry()}))),this._promise}unload(e){}async addParquetFile(e){this._insert(e)}async _loadHigherResGeometry(){const{geometryInfo:e}=this._service;if(\"geometry\"===e.type){if(!(null!=e.multiscale&&e.multiscale.levels.length>=1))return;await this.updateFields([e.primaryFieldName])}const t=Array.from(this._store.chunks());this._store.clear();for(const s of t)this._store.insert(s);this._store.refresh()}async _insert(t){const s=await a.create(t,{geometryInfo:this._service.geometryInfo,outSpatialReference:this._service.outSpatialReference,getCustomParameters:()=>this._schema.mutable.dataFilter.customParameters}),{geometryInfo:r}=this._service;e(this._options);const{fields:o,timeZoneByFieldName:m}=this._service.metadata.fieldsIndex,d=o.map((e=>({...e,index:s.metadata.getFieldIndex(e.name)}))),h=i.fromJSON({fields:d,timeZoneByFieldName:m}),u=new Uint16Array(Array.from(this._availableFields.values()).map((e=>h.get(e)?.index)).filter((e=>null!=e)));await s.inner.readChunksWithCallback(u,(e=>{const t=this._chunkId++,s=new n(this._metadata,h,r,e,t),i=new l(s,null,t,!1);this._store.insert(i)})),this._files.push(s)}async _download(){try{await Promise.all(this._service.source.urls.map((e=>this._insert(e))));const e=new l(o.empty(this._metadata),null,-1,!0);this._store.insert(e)}catch(e){throw console.error(e),e}}}export{m as ParquetLoadStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../../core/Error.js\";import{throwIfAborted as e}from\"../../../../../../core/promiseUtils.js\";import r from\"../../../../../../core/RandomLCG.js\";import{AFetchLoadStrategy as o}from\"./AFetchLoadStrategy.js\";import{FeatureSnapshotSourceChunk as s}from\"./chunks/FeatureSnapshotSourceChunk.js\";import{FeatureSetReaderJSON as n}from\"../../support/FeatureSetReaderJSON.js\";class a extends o{constructor(t,e,o,s,n,a){super(t,e,o,n,a),this._random=new r(1e3),this._featureCount=s}get about(){return{supportsDisplayFilter:!1,willQueryAllFeatures:!0,willQueryFullResolutionGeometry:!0}}load(t){return null==this._promise&&(this._promise=this._downloadPages(this._featureCount)),this._promise}unload(t){}async _downloadPages(e){const r=Math.ceil(e/this._queryInfo.pageSize),o=Array.from({length:r},((t,e)=>e)).sort(((t,e)=>this._random.getInt()-this._random.getInt())),a=await Promise.all(o.map((t=>this._downloadPage(t)))),i=new s(n.empty(this._metadata),null,-1,!0);this._store.insert(i);const u=a.filter((t=>t));if(u.length)throw new t(\"featurelayer-query\",\"Encountered errors when downloading data\",{errors:u})}async _downloadPage(t){try{const r=this._queryInfo.createPagedQuery(t),o=await this._fetch(r,this._options,{chunkId:t.toString()}),n=new s(o,r.inner.toJSON(),t,!1);return e(this._options),this._store.insert(n),null}catch(r){return r}}}export{a as SnapshotLoadStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/CircularArray.js\";import{clamp as e}from\"../../../core/mathUtils.js\";import{defaultStreamIdField as s,esriTimestamp as i,internalTimeReceivedField as r}from\"../../support/streamLayerUtils.js\";const o=1e3;class d{constructor(t,e,i,r,o=128){this._trackIdToObservations=new Map,this._idCounter=0,this._lastPurge=performance.now(),this._addOrUpdated=new Map,this._removed=[],this._maxAge=0,this._timeInfo=i,this._purgeOptions=r,this.store=t,this.objectIdField=e,this.purgeInterval=o,this._useGeneratedIds=this.objectIdField===s}removeById(t){this._removed.push(t)}removeByTrackId(t){const e=this._trackIdToObservations.get(t);if(e)for(const s of e.entries)this._removed.push(s)}add(s){if(this._useGeneratedIds){const t=this._nextId();s.attributes[this.objectIdField]=t,s.objectId=t}else s.objectId=s.attributes[this.objectIdField];const i=s.objectId;if(this._addOrUpdated.set(i,s),this._maxAge=Math.max(this._maxAge,s.attributes[this._timeInfo.startTimeField]),!this._timeInfo.trackIdField)return null==this._trackIdLessObservations&&(this._trackIdLessObservations=new t(1e5)),void this._trackIdLessObservations.enqueue(i);const r=s.attributes[this._timeInfo.trackIdField];if(!this._trackIdToObservations.has(r)){const s=null!=this._purgeOptions?.maxObservations?this._purgeOptions.maxObservations:o,i=e(s,0,o);this._trackIdToObservations.set(r,new t(i))}const d=this._trackIdToObservations.get(r),a=d?.enqueue(i);null!=a&&(this._addOrUpdated.has(a)?this._addOrUpdated.delete(a):this._removed.push(a))}checkForUpdates(){const t=this._getToAdd(),e=this._getToRemove(),s=performance.now(),o=s-this._lastPurge,d=Date.now();o>=this.purgeInterval&&(this._purge(s),this._lastPurge=s);const a=[];if(null!=e)for(const i of e){const t=this.store.removeById(i);null!=t&&a.push(t)}const n=[];if(null!=t){const o=new Set(e??[]);for(const e of t)o.has(e.objectId)||(e.attributes[i]=s,e.attributes[r]=d,this.store.add(e),n.push(e))}return!(!n.length&&!a?.length)&&(this.store.update(n,a),!0)}_getToAdd(){if(!this._addOrUpdated.size)return null;const t=new Array(this._addOrUpdated.size);let e=0;return this._addOrUpdated.forEach((s=>t[e++]=s)),this._addOrUpdated.clear(),t}_getToRemove(){const t=this._removed;return this._removed.length?(this._removed=[],t):null}_nextId(){const t=this._idCounter;return this._idCounter=(this._idCounter+1)%4294967294+1,t}_purge(t){const e=this._purgeOptions;null!=e&&(this._purgeSomeByDisplayCount(e),this._purgeByAge(e),this._purgeByAgeReceived(t,e),this._purgeTracks())}_purgeSomeByDisplayCount(t){if(!t.displayCount)return;let e=this.store.size;if(e>t.displayCount){if(this._timeInfo.trackIdField)for(const s of this._trackIdToObservations.values())if(e>t.displayCount&&s.size){const t=s.dequeue();this._removed.push(t),e--}if(null!=this._trackIdLessObservations){let s=e-t.displayCount;for(;s-- >0;){const t=this._trackIdLessObservations.dequeue();null!=t&&this._removed.push(t)}}}}_purgeByAge(t){const e=this._timeInfo?.startTimeField;if(!t.age||!e)return;const s=60*t.age*1e3,i=this._maxAge-s;this.store.forEach((t=>{t.attributes[e]<i&&this._removed.push(t.objectId)}))}_purgeByAgeReceived(t,e){if(!e.ageReceived)return;const s=t-60*e.ageReceived*1e3;this.store.forEach((t=>{t.attributes[i]<s&&this._removed.push(t.objectId)}))}_purgeTracks(){this._trackIdToObservations.forEach(((t,e)=>{0===t.size&&this._trackIdToObservations.delete(e)}))}}export{d as StreamFeatureManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import o from\"../../../../core/Logger.js\";import{after as s,createResolver as r}from\"../../../../core/promiseUtils.js\";import{addQueryParameters as n}from\"../../../../core/urlUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getGeometryZScaler as a}from\"../../../../geometry/support/zscale.js\";import l from\"../../../support/StreamConnection.js\";var h;!function(e){e[e.CONNECTING=0]=\"CONNECTING\",e[e.OPEN=1]=\"OPEN\",e[e.CLOSING=2]=\"CLOSING\",e[e.CLOSED=3]=\"CLOSED\"}(h||(h={}));let d=class extends l{constructor(e){super({}),this._outstandingMessages=[],this.errorString=null;const{geometryType:t,spatialReference:o,sourceSpatialReference:s}=e;this._config=e,this._featureZScaler=a(t,s,o),this._open()}normalizeCtorArgs(){return{}}async _open(){await this._tryCreateWebSocket(),this.destroyed||await this._handshake()}destroy(){super.destroy(),null!=this._websocket&&(this._websocket.onopen=null,this._websocket.onclose=null,this._websocket.onerror=null,this._websocket.onmessage=null,this._websocket.close()),this._websocket=null}get connectionStatus(){if(null==this._websocket)return\"disconnected\";switch(this._websocket.readyState){case h.CONNECTING:case h.OPEN:return\"connected\";case h.CLOSING:case h.CLOSED:return\"disconnected\"}}sendMessageToSocket(e){null!=this._websocket?this._websocket.send(JSON.stringify(e)):this._outstandingMessages.push(e)}sendMessageToClient(e){this._onMessage(e)}updateCustomParameters(e){this._config.customParameters=e,null!=this._websocket&&this._websocket.close()}async _tryCreateWebSocket(e=this._config.source.path,r=1e3,i=0){try{if(this.destroyed)return;const t=n(e,this._config.customParameters??{});this._websocket=await this._createWebSocket(t),this.notifyChange(\"connectionStatus\")}catch(c){const n=r/1e3;return this._config.maxReconnectionAttempts&&i>=this._config.maxReconnectionAttempts?(o.getLogger(this).error(new t(\"websocket-connection\",\"Exceeded maxReconnectionAttempts attempts. No further attempts will be made\")),void this.destroy()):(o.getLogger(this).error(new t(\"websocket-connection\",`Failed to connect. Attempting to reconnect in ${n}s`,c)),await s(r),this._tryCreateWebSocket(e,Math.min(1.5*r,1e3*this._config.maxReconnectionInterval),i+1))}}_setWebSocketJSONParseHandler(e){e.onmessage=e=>{try{const t=JSON.parse(e.data);this._onMessage(t)}catch(s){return void o.getLogger(this).error(new t(\"websocket-connection\",\"Failed to parse message, invalid JSON\",{error:s}))}}}_createWebSocket(e){return new Promise(((t,o)=>{const s=new WebSocket(e);s.onopen=()=>{if(s.onopen=null,this.destroyed)return s.onclose=null,void s.close();s.onclose=e=>this._onClose(e),s.onerror=e=>this._onError(e),this._setWebSocketJSONParseHandler(s),t(s)},s.onclose=e=>{s.onopen=s.onclose=null,o(e)}}))}async _handshake(e=1e4){const s=this._websocket;if(null==s)return;const n=r(),i=s.onmessage,{filter:c,outFields:a,spatialReference:l}=this._config;return n.timeout(e),s.onmessage=e=>{let r=null;try{r=JSON.parse(e.data)}catch(h){}r&&\"object\"==typeof r||(o.getLogger(this).error(new t(\"websocket-connection\",\"Protocol violation. Handshake failed - malformed message\",e.data)),n.reject(),this.destroy()),r.spatialReference?.wkid!==l?.wkid&&(o.getLogger(this).error(new t(\"websocket-connection\",`Protocol violation. Handshake failed - expected wkid of ${l.wkid}`,e.data)),n.reject(),this.destroy()),\"json\"!==r.format&&(o.getLogger(this).error(new t(\"websocket-connection\",\"Protocol violation. Handshake failed - format is not set\",e.data)),n.reject(),this.destroy()),c&&r.filter!==c&&o.getLogger(this).error(new t(\"websocket-connection\",\"Tried to set filter, but server doesn't support it\")),a&&r.outFields!==a&&o.getLogger(this).error(new t(\"websocket-connection\",\"Tried to set outFields, but server doesn't support it\")),s.onmessage=i;for(const t of this._outstandingMessages)s.send(JSON.stringify(t));this._outstandingMessages=[],n.resolve()},s.send(JSON.stringify({filter:c,outFields:a,format:\"json\",spatialReference:{wkid:l.wkid}})),n.promise}_onMessage(e){if(this.onMessage(e),\"type\"in e)switch(e.type){case\"features\":case\"featureResult\":for(const t of e.features)null!=this._featureZScaler&&this._featureZScaler(t.geometry),this.onFeature(t)}}_onError(e){const t=\"Encountered an error over WebSocket connection\";this._set(\"errorString\",t),o.getLogger(this).error(\"websocket-connection\",t)}_onClose(e){this._websocket=null,this.notifyChange(\"connectionStatus\"),1e3!==e.code&&o.getLogger(this).error(\"websocket-connection\",`WebSocket closed unexpectedly with error code ${e.code}`),this.destroyed||this._open()}};e([i()],d.prototype,\"connectionStatus\",null),e([i()],d.prototype,\"errorString\",void 0),d=e([c(\"esri.layers.graphics.sources.connections.WebSocketConnection\")],d);export{d as WebSocketConnection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../request.js\";import r from\"../../../../core/Error.js\";import i from\"../../../../core/Logger.js\";import{createResolver as o}from\"../../../../core/promiseUtils.js\";import{addQueryParameters as s}from\"../../../../core/urlUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../../geometry/SpatialReference.js\";import{fromJSON as c}from\"../../../../geometry/support/jsonUtils.js\";import{WebSocketConnection as u}from\"./WebSocketConnection.js\";import{executeQuery as l}from\"../../../../rest/query/operations/query.js\";import f from\"../../../../rest/support/Query.js\";const h=1e4,d={maxQueryDepth:5,maxRecordCountFactor:3};let g=class extends u{constructor(e){super({...d,...e}),this._buddyServicesQuery=null,this._relatedFeatures=null}async _open(){const e=await this._fetchServiceDefinition(this._config.source);e.timeInfo.trackIdField||i.getLogger(this).warn(\"GeoEvent service was configured without a TrackIdField. This may result in certain functionality being disabled. The purgeOptions.maxObservations property will have no effect.\");const t=this._fetchWebSocketUrl(e.streamUrls,this._config.spatialReference);this._buddyServicesQuery||(this._buddyServicesQuery=this._queryBuddyServices()),await this._buddyServicesQuery,await this._tryCreateWebSocket(t);const{filter:r,outFields:o}=this._config;this.destroyed||this._setFilter(r,o)}_onMessage(e){if(\"attributes\"in e){let o;try{o=this._enrich(e),null!=this._featureZScaler&&this._featureZScaler(o.geometry)}catch(t){return void i.getLogger(this).error(new r(\"geoevent-connection\",\"Failed to parse message\",t))}this.onFeature(o)}else this.onMessage(e)}async _fetchServiceDefinition(e){const r={f:\"json\",...this._config.customParameters},i=t(e.path,{query:r,responseType:\"json\"}),o=(await i).data;return this._serviceDefinition=o,o}_fetchWebSocketUrl(e,t){const r=e[0],{urls:i,token:o}=r,n=this._inferWebSocketBaseUrl(i);return s(`${n}/subscribe`,{outSR:\"\"+t.wkid,token:o})}_inferWebSocketBaseUrl(e){if(1===e.length)return e[0];for(const t of e)if(t.includes(\"wss\"))return t;return i.getLogger(this).error(new r(\"geoevent-connection\",\"Unable to infer WebSocket url\",e)),null}async _setFilter(e,t){const s=this._websocket;if(null==s||null==e&&null==t)return;const n=JSON.stringify({filter:this._serializeFilter(e,t)});let a=!1;const c=o(),u=()=>{a||(this.destroyed||this._websocket!==s||i.getLogger(this).error(new r(\"geoevent-connection\",\"Server timed out when setting filter\")),c.reject())},l=e=>{const t=JSON.parse(e.data);t.filter&&(t.error&&(i.getLogger(this).error(new r(\"geoevent-connection\",\"Failed to set service filter\",t.error)),this._set(\"errorString\",`Could not set service filter - ${t.error}`),c.reject(t.error)),this._setWebSocketJSONParseHandler(s),a=!0,c.resolve())};return s.onmessage=l,s.send(n),setTimeout(u,h),c.promise}_serializeFilter(e,t){const o={};if(null==e&&null==t)return o;if(e?.geometry)try{const t=c(e.geometry);if(\"extent\"!==t.type)throw new r(`Expected extent but found type ${t.type}`);o.geometry=JSON.stringify(t.shiftCentralMeridian())}catch(s){i.getLogger(this).error(new r(\"geoevent-connection\",\"Encountered an error when setting connection geometryDefinition\",s))}return e?.where&&\"1 = 1\"!==e.where&&\"1=1\"!==e.where&&(o.where=e.where),null!=t&&(o.outFields=t.join(\",\")),o}_enrich(e){if(!this._relatedFeatures)return e;const t=this._serviceDefinition.relatedFeatures.joinField,o=e.attributes[t],s=this._relatedFeatures.get(o);if(!s)return i.getLogger(this).warn(\"geoevent-connection\",\"Feature join failed. Is the join field configured correctly?\",e),e;const{attributes:n,geometry:a}=s;for(const r in n)e.attributes[r]=n[r];return a&&(e.geometry=a),e.geometry||e.centroid||i.getLogger(this).error(new r(\"geoevent-connection\",\"Found malformed feature - no geometry found\",e)),e}async _queryBuddyServices(){try{const{relatedFeatures:e,keepLatestArchive:t}=this._serviceDefinition,r=this._queryRelatedFeatures(e),i=this._queryArchive(t);await r;const o=await i;if(!o)return;for(const s of o.features)this.onFeature(this._enrich(s))}catch(e){i.getLogger(this).error(new r(\"geoevent-connection\",\"Encountered an error when querying buddy services\",{error:e}))}}async _queryRelatedFeatures(e){if(!e)return;const t=await this._queryBuddy(e.featuresUrl);this._addRelatedFeatures(t)}async _queryArchive(e){if(e)return this._queryBuddy(e.featuresUrl)}async _queryBuddy(e){const t=new((await import(\"../../../FeatureLayer.js\")).default)({url:e}),{capabilities:r}=await t.load(),i=r.query.supportsMaxRecordCountFactor,o=r.query.supportsPagination,s=r.query.supportsCentroid,n=this._config.maxRecordCountFactor,c=t.capabilities.query.maxRecordCount,u=i?c*n:c,h=new f;if(h.outFields=this._config.outFields??[\"*\"],h.where=this._config.filter?.where??\"1=1\",h.returnGeometry=!0,h.returnExceededLimitFeatures=!0,h.outSpatialReference=a.fromJSON(this._config.spatialReference),s&&(h.returnCentroid=!0),i&&(h.maxRecordCountFactor=n),o)return h.num=u,t.destroy(),this._queryPages(e,h);const d=await l(e,h,this._config.sourceSpatialReference);return t.destroy(),d.data}async _queryPages(e,t,r=[],i=0){t.start=null!=t.num?i*t.num:null;const{data:o}=await l(e,t,this._config.sourceSpatialReference);return o.exceededTransferLimit&&i<(this._config.maxQueryDepth??0)?(o.features.forEach((e=>r.push(e))),this._queryPages(e,t,r,i+1)):(r.forEach((e=>o.features.push(e))),o)}_addRelatedFeatures(e){const t=new Map,r=e.features,i=this._serviceDefinition.relatedFeatures.joinField;for(const o of r){const e=o.attributes[i];t.set(e,o)}this._relatedFeatures=t}};g=e([n(\"esri.layers.graphics.sources.connections.GeoEventConnection\")],g);const y=g;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{getGeometryZScaler as o}from\"../../geometry/support/zscale.js\";import s from\"./StreamConnection.js\";let a=class extends s{constructor(e){super({}),this.connectionStatus=\"connected\",this.errorString=null;const{geometryType:r,spatialReference:t,sourceSpatialReference:s}=e;this._featureZScaler=o(r,s,t)}normalizeCtorArgs(){return{}}updateCustomParameters(e){}sendMessageToSocket(e){}sendMessageToClient(e){if(\"type\"in e)switch(e.type){case\"features\":case\"featureResult\":for(const r of e.features)null!=this._featureZScaler&&this._featureZScaler(r.geometry),this.onFeature(r)}this.onMessage(e)}};e([r()],a.prototype,\"connectionStatus\",void 0),e([r()],a.prototype,\"errorString\",void 0),a=e([t(\"esri.layers.support.ClientSideConnection\")],a);export{a as ClientSideConnection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"./GeoEventConnection.js\";import{WebSocketConnection as t}from\"./WebSocketConnection.js\";import{ClientSideConnection as n}from\"../../../support/ClientSideConnection.js\";function o(e,t){if(null==e&&null==t)return null;const n={};return null!=t&&(n.geometry=t),null!=e&&(n.where=e),n}function r(r,i,s,c,l,u,a,m,p){const f={source:r,sourceSpatialReference:i,spatialReference:s,geometryType:c,filter:o(l,u),maxReconnectionAttempts:a,maxReconnectionInterval:m,customParameters:p};if(!r)return new n(f);return r.path.startsWith(\"wss://\")||r.path.startsWith(\"ws://\")?new t(f):new e(f)}export{r as createConnection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../../chunks/tslib.es6.js\";import o from\"../../../../../core/Accessor.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../../../core/accessorSupport/decorators/subclass.js\";let s=class extends o{constructor(r){super(r)}get connectionStatus(){return this.connection?.connectionStatus}get errorString(){return this.connection?.errorString}};r([t()],s.prototype,\"connection\",void 0),r([t()],s.prototype,\"connectionStatus\",null),r([t()],s.prototype,\"errorString\",null),s=r([e(\"esri.views.2d.layers.features.sources.StreamConnectionState\")],s);export{s as StreamConnectionState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{FeatureSetReaderJSON as e}from\"../support/FeatureSetReaderJSON.js\";class t{constructor(e,t){this._metadata=e,this._onUpdate=t,this._objectIdToFeature=new Map}get size(){return this._objectIdToFeature.size}get reader(){return e.fromFeatures([...this._objectIdToFeature.values()],this._metadata)}add(e){this._objectIdToFeature.set(e.objectId,e)}forEach(e){this._objectIdToFeature.forEach(e)}removeById(e){const t=this._objectIdToFeature.get(e);return t?(this._objectIdToFeature.delete(e),t):null}clear(){this._objectIdToFeature=new Map}update(e,t){this._onUpdate(e?.length??0)}}export{t as StreamFeatureStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ASourceChunk as e}from\"./ASourceChunk.js\";class r extends e{constructor(e){super(),this._reader=e,this.chunkId=\"stream-chunk\",this.normalizedChunkId=\"stream-chunk\"}get reader(){return this._reader}get first(){return!0}get end(){return!0}get queryInfo(){return{type:\"stream\",chunkId:this.chunkId,size:this.size(),end:this.end}}get isTiled(){return!1}getTileReader(e){const r=this.queryFeaturesInBounds(e.bounds);return r.setTransformForDisplay(e.transform),r}}export{r as StreamSourceChunk};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../core/Evented.js\";import{handlesGroup as t}from\"../../../../../../core/handleUtils.js\";import\"../../../../../../core/has.js\";import{destroyMaybe as s}from\"../../../../../../core/maybe.js\";import{StreamFeatureManager as n}from\"../../../../../../layers/graphics/data/StreamFeatureManager.js\";import{createConnection as i}from\"../../../../../../layers/graphics/sources/connections/createConnection.js\";import{internalTimeReceivedField as o}from\"../../../../../../layers/support/streamLayerUtils.js\";import{StreamConnectionState as r}from\"../StreamConnectionState.js\";import{StreamFeatureStore as a}from\"../StreamFeatureStore.js\";import{ALoadStrategy as c}from\"./ALoadStrategy.js\";import{StreamSourceChunk as h}from\"./chunks/StreamSourceChunk.js\";class m extends c{constructor(t,s,i,c,h){super(i),this._service=t,this._dataFilter=s,this._streamOptions=c,this._metadata=h,this._connectionState=new r,this._forceRefresh=!1,this.events=new e;const{objectIdField:m,timeInfo:d}=this._metadata,{purgeOptions:_}=s;this._stagingStore=new a(this._metadata.weakCloneWithAdditionalFields([{name:o,alias:\"timeReceived\",type:\"esriFieldTypeDate\"}]),(e=>this.events.emit(\"features-updated\",e))),this._manager=new n(this._stagingStore,m,d,_),this.connect()}destroy(){super.destroy(),this.disconnect()}get about(){return{supportsDisplayFilter:!1,willQueryAllFeatures:!1,willQueryFullResolutionGeometry:!1}}get connectionStatus(){return this._connectionState.connectionStatus}get errorString(){return this._connectionState?.errorString}async refresh(){const e=null!=this._chunk;this._manager.checkForUpdates()||!e||this._forceRefresh?(this._chunk&&this._store.remove(this._chunk),this._forceRefresh=!1,this._chunk=new h(this._stagingStore.reader),this._store.insert(this._chunk),this.events.emit(\"tick\")):this.events.emit(\"tick\")}async updateFields(e){throw new Error(\"Updating available fields not supported for StreamLayer\")}async load(e){}unload(e){}disconnect(){this._connection=s(this._connection),this._connectionState.connection=null,this._handlesGroup?.remove()}connect(){if(null!=this._connection)return;const{geometryType:e,spatialReference:s}=this._metadata,{maxReconnectionAttempts:n,maxReconnectionInterval:o,geometryDefinition:r,definitionExpression:a,customParameters:c}=this._dataFilter;this._connection=i(this._service.source,s,this._streamOptions.outSR,e,a,r,n,o,c),this._handlesGroup=t([this._connection.on(\"data-received\",(e=>this._onFeature(e))),this._connection.on(\"message-received\",(e=>this._onWebSocketMessage(e)))]),this._connectionState.connection=this._connection}clear(){this._manager.checkForUpdates(),this._stagingStore.clear(),this._forceRefresh=!0}updateCustomParameters(e){this._connection?.updateCustomParameters(e)}sendMessageToSocket(e){this._connection?.sendMessageToSocket(e)}sendMessageToClient(e){this._connection?.sendMessageToClient(e)}_onWebSocketMessage(e){if(\"type\"in e)switch(e.type){case\"delete\":if(e.objectIds)for(const t of e.objectIds)this._manager.removeById(t);if(e.trackIds)for(const t of e.trackIds)this._manager.removeByTrackId(t);break;case\"clear\":this.clear()}this.events.emit(\"message-received\",e)}_onFeature(e){try{this._manager.add(e),this.events.emit(\"data-received\",e)}catch(t){}}}export{m as StreamLoadStrategy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../../core/Evented.js\";import has from\"../../../../../../../core/has.js\";import{create as s}from\"../../../../../../../geometry/support/aaBoundingBox.js\";import{FeatureStoreQueryAdapter as t}from\"../../../FeatureStoreQueryAdapter.js\";import{OverrideState as r}from\"./Overrides.js\";class o{constructor(s){this._metadata=s,this._chunks=new Map,this._chunksToRemove=[],this._overrides=new r,this.events=new e,this.featureAdapter=new t}destroy(){this.clear()}clear(){for(const e of this._chunks.values())this._chunksToRemove.push(e);this._chunks.clear(),this._overrides.clearWeakOverrides()}*chunks(){this._overrides&&(yield this._overrides.asChunk(this._metadata)),yield*this._chunks.values()}insert(e){has(\"esri-2d-update-debug\")&&console.debug(`Chunk[${e.chunkId}] SourceChunkStore.insert`),this._overrides.onChunkInsert(e),this._chunks.set(e.chunkId,e),this.events.emit(\"changed\")}remove(e){has(\"esri-2d-update-debug\")&&console.debug(`Chunk[${e.chunkId}] SourceChunkStore.remove`),this._chunks.delete(e.chunkId),this._chunksToRemove.push(e)}cleanup(){const e=this._chunksToRemove;return this._chunksToRemove=[],this._overrides.cleanup(this._chunks.values()),e}applyOverride(e){this._overrides.apply(e,this),this.events.emit(\"changed\");for(const s of this._chunks.values())s.invalidate()}takeOverrideUpdate(){return this._overrides.takeOverrideUpdate()}refresh(){this.events.emit(\"refresh\")}forEach(e){const s=new Set;for(const t of this.chunks()){const r=t.reader.getCursor();for(;r.next();){const t=r.getObjectId();s.has(t)||(e(r.copy()),s.add(t))}}}forEachUnsafe(e){const s=new Set;for(const t of this.chunks()){const r=t.reader.getCursor();for(;r.next();){const t=r.getObjectId();s.has(t)||(e(r),s.add(t))}}}mapObjectIdsFromGlobalIds(e,s){const t=new Map,r=new Set(e);return this._overrides.putWeakObjectIdsFromGlobalIds(t,r,s),this._forEachUnsafeIgnoreOverrides((e=>{const o=e.readAttribute(s);if(o&&r.has(o)&&!t.has(o)){const s=e.getObjectId();t.set(o,s)}})),t}forEachInBounds(e,s){const t=new Set;for(const r of this.chunks()){const o=r.queryFeaturesInBounds(e);for(;o.next();){const e=o.getObjectId();t.has(e)||(s(o.copy()),t.add(e))}}}forEachBounds(e,t){const r=s();for(const s of e){s.getBounds(r)&&t(r)}}_forEachUnsafeIgnoreOverrides(e){const s=new Set;for(const t of this._chunks.values()){const r=t.reader.withoutOverrides().getCursor();for(;r.next();){const t=r.getObjectId();s.has(t)||(e(r),s.add(t))}}}}export{o as FeatureSourceChunkStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../request.js\";import has from\"../../../../../core/has.js\";import{ignoreAbortErrors as t,throwIfNotAbortError as s}from\"../../../../../core/promiseUtils.js\";import{diff as r,hasRootDiffOnly as a,hasRootDiff as i}from\"../../../../../core/accessorSupport/diffUtils.js\";import{OptimizedFeature as n}from\"../../../../../layers/graphics/OptimizedFeature.js\";import{QueryEngine as o}from\"../../../../../layers/graphics/data/QueryEngine.js\";import{executeQueryForCount as d}from\"../../../../../rest/query/operations/query.js\";import{FeatureStoreStatistics as h}from\"../FeatureStoreStatistics.js\";import{FeatureSourceQueryInfo as c}from\"./FeatureSourceQueryInfo.js\";import{StreamMessenger as u}from\"./StreamMessenger.js\";import{DrillDownTileLoadStrategy as p}from\"./strategies/DrillDownTileLoadStrategy.js\";import{PagedTileLoadStrategy as m}from\"./strategies/PagedTileLoadStrategy.js\";import{ParquetLoadStrategy as l}from\"./strategies/ParquetLoadStrategy.js\";import{SnapshotLoadStrategy as y}from\"./strategies/SnapshotLoadStrategy.js\";import{StreamLoadStrategy as _}from\"./strategies/StreamLoadStrategy.js\";import{FeatureSourceChunkStore as g}from\"./strategies/chunks/SourceChunkStore.js\";import{FeatureMetadata as f}from\"../support/FeatureMetadata.js\";import{UpdateTracking2D as S}from\"../../support/UpdateTracking2D.js\";class v{constructor(e,t,s,r,a){this.service=e,this._aggregateAdapter=t,this._subscriptions=s,this._connection=r,this._cachedObjectIds=a,this._updateTracking=new S({debugName:\"FeatureSource\"}),this._didInvalidateData=!1,this._metadata=f.createFeature(e.metadata),this._store=new g(this._metadata)}destroy(){this._strategy?.destroy(),this._store.destroy(),this._streamMessenger?.destroy(),\"memory\"===this.service.type&&this.service.source.map((e=>e.close()))}get metadata(){if(!this._metadata)throw new Error(\"InternalError: Metadata not defined. Was update called?\");return this._metadata}get store(){return this._store}get streamMessenger(){return null==this._streamMessenger&&this._initStreamMessenger(),this._streamMessenger}get statistics(){return h.from(this._store)}get updateTracking(){return this._updateTracking}get queryEngine(){if(!this._queryEngine){if(!this._schema)return null;const{dataFilter:e}=this._schema.mutable,t=this._schema.mutable.availableFields,s=this._metadata;this._queryEngine=new o({featureStore:this._store,fieldsIndex:s.fieldsIndex,geometryType:s.geometryType,objectIdField:s.objectIdField,hasM:!1,hasZ:!1,spatialReference:this.service.outSpatialReference,aggregateAdapter:this._aggregateAdapter,timeInfo:s.timeInfo,definitionExpression:e.definitionExpression,availableFields:t})}return this._queryEngine}get isStream(){return\"stream\"===this._schema.type}get hasDisplayFilter(){return!!this._schema&&(\"displayFilterInfo\"in this._schema.mutable&&null!=this._schema.mutable.displayFilterInfo)}chunks(){return Array.from(this._store.chunks())}prepareCacheUpdate(e,t){const s=new Set,r=new Set;for(const a of e)this._cachedObjectIds.has(a)||(this._cachedObjectIds.add(a),s.add(a));for(const a of t)this._cachedObjectIds.delete(a),r.add(a);this.hasDisplayFilter&&this._strategy.prepareCacheUpdate(s,r)}async applyCacheUpdate(){this.hasDisplayFilter&&await this._updateTracking.addPromise(this._strategy.applyCacheUpdate())}cleanup(){return this._store.cleanup()}onSubscribe(e){this._connection.onEvent({type:\"subscribe\",tile:e.tile.id});const t=this._strategy?.load(e);t&&(t.then((()=>this._connection.onEvent({type:\"loaded\",tile:e.tile.id}))).catch((t=>this._connection.onEvent({type:\"error\",tile:e.tile.id,error:t}))),this._updateTracking.addPromise(t))}onResume(e){this._updateTracking.addPromise(t(this._strategy?.load(e)))}onUnsubscribe(e){this._connection.onEvent({type:\"unsubscribe\",tile:e.tile.id}),this._strategy?.unload(e)}applyOverride(e){this._didInvalidateData=!0,this._store.applyOverride(e)}takeOverrideUpdate(){return this._store.takeOverrideUpdate()}async update(e,t){const s=e.source,n=r(this._schema?.mutable,s.mutable);if(!n)return!1;if(has(\"esri-2d-update-debug\")&&console.debug(`Version[${t}] FeatureSource.update`,{changes:n}),this._schema=s,this._queryEngine?.destroy(),this._queryEngine=null,\"feature-service\"===this.service.type&&null!=this.service.queryMetadata.lastEditDate&&(this._lastEditDate=this.service.queryMetadata.lastEditDate),null==this._streamMessenger&&\"stream\"===this._schema.type&&this._initStreamMessenger(),a(n,\"sourceRefreshVersion\")&&this._strategy?.refresh)return await this._strategy.refresh(),!0;if((\"feature\"===s.type||\"parquet\"===s.type)&&a(n,\"availableFields\")){if(await this._queryLastEditDateChanged()||this._didInvalidateData)this._didInvalidateData=!1,await this._updateStrategy(t);else{this._connection.onEvent({type:\"updateFieldsStart\"});try{await this._strategy.updateFields(s.mutable.availableFields),this._connection.onEvent({type:\"updateFieldsEnd\"})}catch(o){this._connection.onEvent({type:\"updateFieldsError\",error:o})}}return!1}return!!(i(n,\"dataFilter\")||i(n,\"sourceRefreshVersion\")||this._strategy.about.supportsDisplayFilter&&i(n,\"displayFilterInfo\"))&&(await this._updateStrategy(t),!0)}async addParquetFile(e){this._strategy.addParquetFile(e)}unsafeSetQueryHistoricMoment(e){\"feature\"===this._schema.type&&(this._schema.mutable.dataFilter.historicMoment=e,this._strategy.unsafeSetQueryHistoricMoment(new Date(e)))}_initStreamMessenger(){null==this._streamMessenger&&(this._streamMessenger=new u(this._connection))}async normalizeOverrides(e){const t={historicMoment:e.historicMoment,commands:{updateWeak:e.commands.updateWeak.map(n.fromJSON),removeWeak:e.commands.removeWeak,update:e.commands.update.map(n.fromJSON),remove:e.commands.remove,release:e.commands.release}},s=e.commands.updateByIdWeak,r=await this._queryOptimizedFeatures(s);return t.commands.updateWeak.push(...r),t}async _queryOptimizedFeatures(e){if(0===e.length)return[];const t=[],s=(await this._strategy.queryByObjectId(e)).getCursor();for(;s.next();)t.push(s.readOptimizedFeatureWorldSpace());return t}getObjectIdsFromGlobalIds(e){const t=this.metadata.globalIdField;if(null==t)throw new Error(\"InternalError: Recieved an edit with globalIds, but not supported by the service\");const s=this._store.mapObjectIdsFromGlobalIds(e,t).values();return Array.from(s)}async _queryLastEditDateChanged(){if(null==this._lastEditDate)return!1;const t=this.service.source,s={...t.query,f:\"json\"},r=(await e(t.path,{query:s,responseType:\"json\"})).data.editingInfo.lastEditDate;return r!==this._lastEditDate&&(this._lastEditDate=r,!0)}async _createStrategy(){const e=\"isSourceHosted\"in this.service&&this.service.isSourceHosted,t=Array.isArray(this.service.source),s=this.service.source&&\"collection\"in this.service.source,r=e||t||s;if(\"stream\"===this._schema.type){const e=new _(this.service,this._schema.mutable.dataFilter,this._store,{outSR:this.service.outSpatialReference},this.metadata);return this._streamMessenger.strategy=e,e}if(\"parquet\"===this._schema.type){const e=this.service;return new l(e,this._metadata,this._schema,this._store)}const a=this.service,i=c.fromSchema(a,this._schema,this._metadata),n=await this._supportSnapshotMode(a,i);return n?new y(a,i,this._store,n.featureCount,this.metadata,this._connection):r?new m(a,i,this._store,this.metadata,this._connection):new p(a,i,this._store,this.metadata,this._connection)}async _updateStrategy(e){const t=await this._createStrategy();this._connection.onEvent({type:\"updateStrategyStart\",about:t.about});const r=!!this._strategy;this._store.clear(),this._strategy?.destroy(),this._strategy=t,has(\"esri-2d-update-debug\")&&console.debug(`Version[${e}] FeatureSource.updateStrategy`,{strategy:t});const a=Array.from(this._subscriptions.values());if(!a.length)return void this._connection.onEvent({type:\"updateStrategyEnd\"});const i=Promise.all(a.map((e=>this._strategy.load(e).then((()=>this._connection.onEvent({type:\"loaded\",tile:e.tile.id}))).catch((t=>this._connection.onEvent({type:\"error\",tile:e.tile.id,error:t}))))));this._updateTracking.addPromise(i),this._strategy.prepareCacheUpdate(this._cachedObjectIds);try{r&&await i}catch(n){s(n)}this._connection.onEvent({type:\"updateStrategyEnd\"}),has(\"esri-2d-update-debug\")&&console.debug(`Version[${e}] FeatureSource.updateStrategyEnd`,{strategy:t})}async _supportSnapshotMode(e,t){const{queryMetadata:s}=e,r=s.snapshotInfo;if(!r||!r.supportsSnapshotMinThreshold||!r.snapshotCountThresholds)return null;const a=e.source,i=t.createQuery();i.inner.orderByFields=[],i.inner.returnGeometry=!1;const n=(await d(a,i.inner,{query:i.customParameters})).data.count,{min:o,max:h}=r.snapshotCountThresholds;return n<=o||r.supportsSnapshotMaxThreshold&&n<h?{featureCount:n}:null}}export{v as FeatureSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass t{constructor(t,r){this.tile=t,this.version=r,this._abortController=new AbortController}get key(){return this.tile.key}get signal(){return this._abortController.signal}abort(){this._abortController.abort()}}export{t as FeatureTileSubscription};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{handlesGroup as t}from\"../../../../core/handleUtils.js\";import has from\"../../../../core/has.js\";import{nextTick as s}from\"../../../../core/nextTick.js\";import{throwIfNotAbortError as i,createResolver as r,ignoreAbortErrors as o}from\"../../../../core/promiseUtils.js\";import n from\"../../../../core/RandomLCG.js\";import{watch as u}from\"../../../../core/reactiveUtils.js\";import{pt2px as a}from\"../../../../core/screenUtils.js\";import{ignoreConnectionErrors as d}from\"../../../../core/workers/utils.js\";import c from\"../../../../layers/support/TileInfo.js\";import{tileSize as p}from\"../../engine/webgl/definitions.js\";import{PipelineConnectionHandlers as h}from\"./PipelineConnectionHandlers.js\";import l from\"./Processor.js\";import{FeatureSource as g}from\"./sources/FeatureSource.js\";import{FeatureTileSubscription as _}from\"./sources/FeatureTileSubscription.js\";import{Tile as b}from\"./support/Tile.js\";import f from\"../../tiling/TileInfoView.js\";class m{constructor(e){this.inner=e,this.resolver=r()}}class y{constructor(){this._aggregateAdapter={getFeatureObjectIds:e=>this._processor.getFeatureObjectIdsForAggregate(e)},this._subscriptions=new Map,this._cachedObjectIds=new Set,this._updateRequested=!1,this._didSourceRefresh=!1,this._updateSubscriptionRequests=[],this._updateHighlightRequests=[]}destroy(){this._subscriptions.clear(),this._processor?.destroy(),this._source?.destroy(),this._handles?.remove(),this._updateOverridesRequest=null,this._tileInfoView=null}onAttach(e){has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.onAttach\");const s=this._connection,i=c.fromJSON(e.tileInfoJSON);this._tileInfoView=new f(i),this._source=new g(e.service,this._aggregateAdapter,this._subscriptions,s,this._cachedObjectIds),this._processor=new l(s,this._source),this._handles=t([this._source.store.events.on(\"changed\",(()=>this._requestUpdate())),this._source.store.events.on(\"refresh\",(()=>this._requestRefresh())),u((()=>this._source.updateTracking.updating),(()=>{this._requestUpdate(),o(this._connection.layerView.setUpdating({source:this._source.updateTracking.updating,pipeline:!0}))}))])}onDetach(){has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.onDetach\"),this.destroy()}set remoteClient(e){this._connection=new h(e)}get features(){const t=this._source?.queryEngine;if(!t)throw new e(\"no-queryEngine\",\"No query engine defined\");return t}get aggregates(){const t=this._processor?.aggregateQueryEngine;if(!t)throw new e(\"no-queryEngine\",\"No aggregate query engine defined\");return t}get processor(){return this._processor}get streamMessenger(){return this._source.streamMessenger}getDisplayFeatures(e){return this._processor.getDisplayFeatures(e)}getDisplayIds(e){return this._processor.getDisplayIds(e)}getObjectIdsFromGlobalIds(e){return this._source.getObjectIdsFromGlobalIds(e)}async updateSchema(e,t){return has(\"esri-2d-update-debug\")&&this._updateSchemaRequest&&console.error(\"InternalError: Schema already updating\"),this._updateSchemaRequest=new m({schema:e,version:t}),this._requestUpdate(),this._updateSchemaRequest.resolver.promise}updateSubscriptions(e){const t=new m(e);return this._updateSubscriptionRequests.push(t),this._requestUpdate(),t.resolver.promise}updateHighlight(e){const t=new m(e);return this._updateHighlightRequests.push(t),this._requestUpdate(),t.resolver.promise}async addParquetFile(e){return this._source.addParquetFile(e)}async onOverride(t){if(null!=this._updateOverridesRequest)throw new e(\"InternalError - Already processing an edit\");this._updateOverridesRequest=new m(t);const s=this._updateOverridesRequest.resolver.promise;return this._requestUpdate(),s}queryStatistics(){return this._source.statistics.toJSON()}async queryVisibleFeatures(e,t){return this.features.executeQuery(e,t)}async queryHeatmapStatistics(e){const t=Math.round(a(e.radius));let s=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;const r=\"string\"==typeof e.fieldOffset,o=e.fieldOffset??0,n=Array.from(this._subscriptions.values()),u=this._source.chunks(),d=t**2,c=3/(Math.PI*d),h=2*t,l=Math.ceil(p/h);for(const a of n){const t=a.tile,n=new Float64Array(l*l);for(const s of u){const i=s.getTileReader(t);if(!i)continue;const u=i.getCursor();for(;u.next();){let t=1;if(null!=e.field){const s=u.readAttribute(e.field);t=r?-1*+s:+s+o}const s=u.readXForDisplay()/h,i=u.readYForDisplay()/h,a=Math.floor(s),p=Math.floor(i);if(a<0||p<0||a>=l||p>=l)continue;const g=((.5+a-s)*h)**2+((.5+p-i)*h)**2;if(g>d)continue;const _=t*(c*(1-g/d)**2);n[p+a*l]+=_}}for(let e=0;e<n.length;e++)s=Math.min(s,n[e]),i=Math.max(i,n[e])}return{max:i,min:s}}async getSampleFeatures(e){const t=this._source.chunks();if(t.reduce(((e,t)=>e+t.size()),0)<=e.minFeatureCount){if(!this._source.updateTracking.updating){const e=[];return this._source.store.forEachUnsafe((t=>e.push(t.readLegacyFeatureWorldSpace()))),e}return null}const s=new Set,i=[],r=t.map((e=>e.reader.getCursor())),o=new n,u=3*e.sampleSize;for(let n=0;n<u&&i.length<e.sampleSize;n++){const e=r[o.getIntRange(0,t.length-1)];if(0===e.getSize())continue;const n=o.getIntRange(0,e.getSize()-1);e.setIndex(n);const u=e.getObjectId();s.has(u)||(s.add(u),i.push(e.readLegacyFeatureWorldSpace()))}return i.length>=e.sampleSize?i:null}_requestUpdate(){this._updateRequested||(this._updateRequested=!0,s((()=>this._scheduleNextUpdate())))}_requestRefresh(){this._didSourceRefresh=!0,this._requestUpdate()}_scheduleNextUpdate(){this._updateRequested&&(this._ongoingUpdate||(this._ongoingUpdate=d(this._doUpdate()).finally((()=>{this._ongoingUpdate=null,this._scheduleNextUpdate()})),this._updateRequested=!1))}_subscribe(e){const t=e.tileId;if(this._subscriptions.has(t))return;has(\"esri-2d-update-debug\")&&console.debug(`Tile[${t}] Pipeline.subscribe`);const s=new b(this._tileInfoView,t),i=new _(s,e.version);this._subscriptions.set(t,i),this._source.onSubscribe(i),this._processor.onSubscribe(i)}_unsubscribe(e){const t=this._subscriptions.get(e);t&&(has(\"esri-2d-update-debug\")&&console.debug(`Tile[${e}] Pipeline.unsubscribe`),t.abort(),this._source.onUnsubscribe(t),this._processor.onUnsubscribe(t),this._subscriptions.delete(t.key.id))}async _doUpdate(){if(has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline._doUpdateStart\"),await this._connection.layerView.setUpdating({source:this._source.updateTracking.updating,pipeline:!0}),this._updateSubscriptionRequests.length){const e=this._updateSubscriptionRequests;this._updateSubscriptionRequests=[];for(const t of e)this._doUpdateSubscriptions(t.inner),t.resolver.resolve()}if(this._updateHighlightRequests.length){const e=this._updateHighlightRequests,t=new Set,s=new Set;for(const i of e)for(const{objectId:e,highlightFlags:r}of i.inner.highlights)r?(t.add(e),s.delete(e)):(s.add(e),t.delete(e));this._source.prepareCacheUpdate(t,s)}const e=this._updateSchemaRequest;this._updateSchemaRequest=null;let t=!1;if(null!=e){const{schema:s,version:i}=e.inner;t=await this._doUpdateSchema(s,i)}this._didSourceRefresh&&(t=!0,this._didSourceRefresh=!1),t&&(this._processor.invalidate(),await this._connection.container.updateRenderState(this._processor.version));const s=this._updateOverridesRequest;if(this._updateOverridesRequest=null,null!=s){has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.applyOverride\",s.inner),null!=s.inner.historicMoment&&this._source.unsafeSetQueryHistoricMoment(s.inner.historicMoment);const e=await this._source.normalizeOverrides(s.inner);this._source.applyOverride(e),has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.endOverride\",s.inner)}if(await this._source.applyCacheUpdate(),this._updateHighlightRequests.length){const e=this._updateHighlightRequests;this._updateHighlightRequests=[];for(const t of e)this._processor.updateHighlight(t.inner),t.resolver.resolve()}const r=this._source.cleanup();this._processor.removeChunks(r);try{const e=this._source.takeOverrideUpdate();if(null!=e&&this._subscriptions.size){has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.applyOverrideChangesStart\"),await this._connection.container.lockForOverrides();try{await this._processor.applyOverrideUpdate(e)}catch(o){has(\"esri-2d-update-debug\")&&console.debug(\"InternalError\",o)}await this._connection.container.unlockForOverrides(),has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.applyOverrideChangesEnd\")}this._subscriptions.size&&(has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.updateChunksStart\"),await this._processor.updateChunks(),has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.updateChunksEnd\"))}catch(o){i(o)}null!=s&&s.resolver.resolve(),null!=e&&e.resolver.resolve(),null==e&&t&&await this._connection.container.trySwapRenderState(),this._updateRequested?(has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline._doUpdateEnd [updateRequested=true]\"),await this._connection.layerView.setUpdating({source:this._source.updateTracking.updating,pipeline:!0})):(has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline._doUpdateEnd [updateRequested=false, After flush]\"),await this._connection.layerView.setUpdating({source:this._source.updateTracking.updating,pipeline:this._updateRequested}))}async _doUpdateSchema(e,t){has(\"esri-2d-update-debug\")&&console.debug(`Version[${t}] Pipeline.updateStart`,{schema:e});const s={tileInfo:this._tileInfoView?.tileInfo},i=await this._source.update(e,t),r=Array.from(this._subscriptions.values()),o=this._processor.update(e,t,s,i,r);return has(\"esri-2d-update-debug\")&&console.debug(`Version[${t}] Pipeline.updateEnd`),o}_doUpdateSubscriptions(e){has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.updateSubscriptions\",e);for(const t of e.subscribe)this._subscribe(t);for(const t of e.unsubscribe)this._unsubscribe(t)}}export{y as default};\n"],"names":["F","n","I","T","k","x","S","v","o","s","a","l","c","U","t","u","d","f","g","i","w","r","e","A","m","N","p","O","P","q","C","R","$","b","j","h","y","L","W","K","M","G","Z","D","J","z","E","_","B","Q","V","H","X","Y","ee","t$c","g$3","s$9","t$a","s$8","t$9","h$5","o$b","u$3","s$7","s$6","s$5","t$8","e$3","g$2","y$5","s$4","n$5","r$6","u$2","a$6","c$2","h$4","o$a","n$4","S$2","x$1","t$6","r$4","d$6","i$3","o$8","n$3","a$5","d$5","i$2","has","t$5","u$1","t$4","h$3","o$3","d$3","y$2","i$1","s$1","l$1","a$2","h$2","a$1","d$2","t$1","m$1"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68]}