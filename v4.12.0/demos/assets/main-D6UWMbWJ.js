const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./request-nZwEiprI.js","./preload-helper-ExcqyqRp.js","./IdentityManager-C5Q0Lqyr.js","./intl-D8pxRaLS.js","./jsxFactory-HPYy2V_L.js","./uuid-Cl5lrJ4c.js","./themeUtils-C3zvZbsE.js","./substitute-CUVC4DC3.js","./QueueProcessor-DprcdQpu.js","./Queue-Bp8J9hIN.js","./ReactiveMap-DNJTwYV-.js","./signal-_szBxGG7.js","./pe-wasm-CRA-qgEz.js","./_commonjsHelpers-DCkdB7M8.js","./WhereClauseCache-CnCXL7zA.js","./LRUCache-CnC3D6GO.js","./MemCache-DvK30feT.js","./WhereClause-BVZx_Mm8.js","./TimeOnly-DxJjRuWE.js","./arcadeUtils-BMNVBwby.js","./arcade-DNrIe9TT.js","./unitConversion-BKOFNkqQ.js","./ImmutableArray-BPVd6ESQ.js","./shared-Dq8KPrAL.js","./Field-BRKBBmM6.js","./fieldType-B-0DY-YK.js","./number-yo9J8KAb.js","./featureConversionUtils-BOo8MNJa.js","./OptimizedFeatureSet-7J4kTonF.js","./memoryEstimations-bvdrNroi.js","./OptimizedGeometry-7XEw-Hai.js","./FieldsIndex-C0Zyp4KO.js","./timeZoneUtils-BNp2mfEj.js","./PortalItem-BUPtFYt9.js","./Basemap-WwZupoib.js","./loadAll-v7n2jQTN.js","./ElevationLayer-DOLrFxDD.js","./PortalLayer-DmW8MNcX.js","./layerContainerType-C5CzMsLd.js","./ElevationInfo-DLPjeENV.js","./lengthUtils-B1iOgQDj.js","./TimeExtent-CVFHym4n.js","./portalItemUtils-HRSUZPvT.js","./projection-F5U3p10J.js","./HeightModelInfo-B3hkwDlh.js","./Layer-CrpAg4i7.js","./ArcGISCachedService-BwHj5LTn.js","./TileInfo-vOJ-d3SA.js","./TileKey-DZd6gJy7.js","./ByteSizeUnit-BsxeN7wM.js","./ArcGISService-CG2T0gNf.js","./WorkerHandle-1VBv5F7K.js","./workers-DADVStUK.js","./webStyleSymbolUtils-BrPioWOf.js","./devEnvironmentUtils-8WtPGj6h.js","./styleUtils-CtFhGPW_.js","./webStyleAcceptedFormats-CG7ZQ6BV.js","./Map-CTJWvBgV.js","./CollectionFlattener-_i2fTLMi.js","./mat4f32-DcsiF_Rp.js","./mat4-mplESjCB.js","./common-DQOJ18NT.js","./MapView-EqsuvpWT.js","./globalCss-geu-g-r4.js","./Version-DeyywoNs.js","./UpdatingHandles-CLyw9aof.js","./GraphicsCollection-B4inrSzy.js","./Query-VeA4-Qk_.js","./IViewEvents-Bci6PjlS.js","./HighlightDefaults-DUnhEm8s.js","./a11yUtils-m_nLVpnt.js","./heightModelInfoUtils-CUA_JpH_.js","./ViewingMode-HRfKv6NR.js","./vec2-maR1OrZI.js","./vec2f64-DohEyf3f.js","./mat2d-D9DBP-jx.js","./normalizeUtils-DSf_eBlh.js","./utils-BIJX9DmY.js","./utils-C6WKisvz.js","./mat2df32-orApM5a3.js","./mat3-CruJiiUv.js","./vec2f32-BbH2jxlN.js","./Scheduler-BTF2H21O.js","./vec32-DvB22h0L.js","./unitBezier-B1N-tmtC.js","./Tile-BuigKQZ6.js","./quickselect-QQC62dOK.js","./definitions-CPtb4TQS.js","./enums-Dk3osxpS.js","./Texture-pu6CNJho.js","./getDataTypeBytes-DflDeYgv.js","./imageUtils-CmEe6Gfn.js","./ColorBackground-KAN9tKsU.js","./FeatureLayer-BdnRYRUZ.js","./queryZScale-61KJd7Y4.js","./FeatureSet-EjAFZH0Q.js","./FeatureType-C2TbZEgA.js","./labelingInfo-BSNsKUPw.js","./SimpleRenderer-UH-a1rCN.js","./commonProperties-CuupewPf.js","./colorRamps-BUZNTJmj.js","./ColorStop-B1JrXuif.js","./visualVariableUtils-DqFvxVwV.js","./UniqueValueRenderer-Brw1oZd3.js","./diffUtils-BMpoATJS.js","./RendererLegendOptions-CGuARK8S.js","./RelationshipQuery-DGz2NKQ1.js","./NormalizationBinParametersMixin-sp74efLi.js","./labelUtils-DfZgHzoh.js","./ScaleRangeLayer-CANL8iBb.js","./jsonUtils-BVTTU8XA.js","./parser-BOplPg1_.js","./popupUtils-BcVk1Duw.js","./scaleUtils-CNZGIFij.js","./displayFilterUtils-Bj77nzY_.js","./EditBusLayer-lskOAJ8Y.js","./FeatureEffect-BmTAxGN5.js","./FeatureFilter-D3D8iaSa.js","./jsonUtils-DWiHYlpG.js","./typeUtils-CRsQk0MY.js","./ClassBreaksRenderer-pGw2-UUE.js","./utils-BRg6PM3S.js","./defaultCIMValues-DII_GG3u.js","./enums-BJSSbDkD.js","./heatmapUtils-D0UuwfRb.js","./vec42-CKs01hkn.js","./vec4f64-o2zAXfmz.js","./MD5-C9MwAd2G.js","./RefreshableLayer-8bJwugyS.js","./TemporalLayer-CIwGUnIS.js","./versionUtils-Dcurp1dm.js","./styleUtils-BIJgkUhv.js","./interfaces-CL2NbQte.js","./GraphicsLayer-dZfMZHiC.js","./ImageryLayer-CDY7Q50y.js","./multidimensionalUtils-CGUpBdUO.js","./RasterSymbolizer-BWMmEZwI.js","./dataUtils-DkTHh3Ap.js","./pixelRangeUtils-Esmjpmyq.js","./colorUtils-B_grc-3o.js","./imageBitmapUtils-sJ46j29y.js","./utils-D87Sd27W.js","./cimSymbolUtils-cqAw9W-o.js","./ClassBreaksDefinition-Pel3RCn0.js","./executeForIds-76jhi0-9.js","./query-DxXLOB5M.js","./pbfQueryUtils-DtHUkqBT.js","./pbf-D-eAs-zM.js","./executeQueryJSON-v3kF640L.js","./MapImageLayer-DoOISIld.js","./SublayersOwner-B1l3YdvV.js","./QueryTask-B2_I6pUW.js","./executeQueryPBF-lOBCpCBl.js","./sublayerUtils-BSpB3Gp5.js","./ExportImageParameters-Dte1GOgG.js","./floorFilterUtils-DKzVzLpH.js","./OpenStreetMapLayer-CdCtQpZx.js","./TileLayer-BHrzkSe7.js","./WMSLayer-BvhKw1wW.js","./ExportWMSImageParameters-IZ-68Wv9.js","./arcade-CF1ToAo1.js","./query-CztWLwcj.js","./executeQuery-CKwZldfg.js","./AttachmentInfo-DU6opK0a.js","./executeAttributeBinsQuery-DN2rP6Yu.js","./AttributeBinsFeatureSet-B3INnmHk.js","./AttributeBinsQuery-B_ioTUX4.js","./queryUtils-DKCAtZJ_.js","./json-Wa8cmqdu.js","./FixedIntervalBinParameters-BlWGCCUi.js","./executeRelationshipQuery-CQ5ZbmqH.js","./executeTopFeaturesQuery-CADqWw3R.js","./queryTopFeatures-bnTzUTZ-.js","./TopFeaturesQuery-BIIpdgOy.js","./executeForTopIds-CQwLK4ce.js","./executeForTopExtents-BWEZNF3I.js","./executeForTopCount-BJWlACUW.js","./shp.min-CrxOebhu.js","./_commonjs-dynamic-modules-TDtrdbi3.js","./jszip.min-ByPhG62r.js","./index-giBFf_8J.js","./index-C0BV8b1p.css","./index-B_GnX2rK.js","./screen.vue_vue_type_script_setup_true_lang-MDppGsvR.js","./screen-BiLbuIF4.css","./index-C-jFelsv.js","./index-CyHFbc14.js","./index-C3Mt9piA.css","./index-C-n5qciL.js","./hilight-defs-CqXQYtIh.js","./index-BNk7091c.js","./dynamic-import-helper-BheWnx7M.js","./draw-store-BaFsNOTl.js","./SketchViewModel-BQEEJoEu.js","./quantityUtils-B7WFJP6j.js","./projectVectorToVector-2U_T6yxL.js","./projectPointToVector-CP3mj71q.js","./geodesicUtils-CINGW30v.js","./plane-DXyNbfXV.js","./mat3f64-q3fE-ZOt.js","./mat4f64-Dk4dwAN8.js","./quatf64-aQ5IuZRd.js","./sphere-MYAntte_.js","./layerViewUtils-eEg1cHt4.js","./widget-GoJNk-6R.js","./meshVertexSpaceUtils-DurlDegv.js","./MeshLocalVertexSpace-DKI2cxe_.js","./hydratedFeatures-CzW8xS0g.js","./geometryEngineBase-8g0RzW7z.js","./hydrated-C5WzuFt9.js","./quat-DOvbuK1U.js","./drapedUtils-gb-eeqgf.js","./utils-BQBvadb7.js","./index-Di0Rj5dx.js","./fabric-BDd7UNwf.js","./index-B_VfvHKU.js","./index-B_hgxawH.js","./index-Su6M1DgA.js","./index-D-wvO5qB.js","./index-DKpHfzQm.js","./index-BfMQ9ya8.js","./index-Bd7iPD1_.js","./screen.vue_vue_type_script_setup_true_lang-DLo8OLvH.js","./index-CYNM550p.js","./index-w7fQa1xQ.js","./index-DPUlGPOh.js","./index-BTeR_sP9.js","./table-state-manager-BeyhKYxv.js","./index-CC1YChPc.js","./index-BfV08Gz4.js","./index-CP8iKphj.js","./index-B0ovZ-6V.js","./index-D76wUHCt.js","./index-BG4sJb5o.css","./index-BD1Fk3Mi.js","./index-CivCJ6J_.js","./index-D8T4p259.js","./index-C1UMDyxT.css","./index-BnrFbOIz.js","./index-D-3-S-HY.css","./index-f1Jz97VP.js","./index-Dti23dwS.css","./index-BzFsSAdw.js","./index-DDyZPlLC.js","./index-9fOkyZK_.js","./index-tqHlMDep.css","./index-BNzwyCMN.js","./screen-CAgmz-mR.js","./screen-BIy0pQYa.js","./screen-G8lp0Bdf.css","./screen-CzFraCui.js","./screen-CYQG3q6X.js","./screen-CwbtZ41W.css","./screen-BSN3XYI1.js","./screen-CjrmR6AG.css","./screen-Bhew6oFA.js","./marked.esm-DmSrlTiT.js","./screen-DcX-wckC.css","./screen-Bc6O7KOZ.js","./vue.esm-bundler-BafTmQCH.js","./screen-DH2W8SRu.css","./screen-DPYn_gfj.js","./screen-DSQCPRbR.js","./screen-CkXxljnt.css","./screen-BkMDDBxz.js","./toggle-switch-control-7HjlG6po.js","./toggle-switch-control-TJXJxWh9.css","./screen-DMJifmlo.css","./screen-DaIAYcPW.js","./screen-BusTg7z-.css"])))=>i.map(i=>d[i]);
import{_ as ve}from"./preload-helper-ExcqyqRp.js";var Qo=(e=>(e.BLOB="blob",e.DATE="date",e.DOUBLE="double",e.GEOMETRY="geometry",e.GLOBAL_ID="global-id",e.GUID="guid",e.INTEGER="integer",e.LONG="long",e.OID="oid",e.RASTER="raster",e.SINGLE="single",e.SMALL_INTEGER="small-integer",e.STRING="string",e.XML="xml",e))(Qo||{}),Vo=(e=>(e.CIRCLE="circle",e.CROSS="cross",e.DIAMOND="diamond",e.ICON="icon",e.PATH="path",e.SQUARE="square",e.TRIANGLE="triangle",e.X="x",e))(Vo||{}),Zr=(e=>(e.DASH="dash",e.DASHDOT="dash-dot",e.DASHDOTDOT="short-dash-dot-dot",e.DOT="dot",e.LONGDASH="long-dash",e.LONGDASHDOT="long-dash-dot",e.LONGDASHDOTDOT="long-dash-dot-dot",e.NONE="none",e.NULL="none",e.SHORTDASH="short-dash",e.SHORTDASHDOT="short-dash-dot",e.SHORTDASHDOTDOT="short-dash-dot-dot",e.SHORTDOT="short-dot",e.SOLID="solid",e))(Zr||{}),gI=(e=>(e.BEVEL="bevel",e.MITER="miter",e.ROUND="round",e))(gI||{}),vI=(e=>(e.ROUND="round",e.BUTT="butt",e.SQUARE="square",e))(vI||{}),bI=(e=>(e.BDIAG="backward-diagonal",e.CROSS="cross",e.DIAG_CROSS="diagonal-cross",e.FDIAG="forward-diagonal",e.HORIZONTAL="horizontal",e.NONE="none",e.NULL="none",e.SOLID="solid",e.VERTICAL="vertical",e))(bI||{}),Ze=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e.LINEARRING="LinearRing",e.EXTENT="Extent",e.NONE="None",e.UNKNOWN="Unknown",e))(Ze||{}),g1=(e=>(e.Simple="simple",e.Unique="uniqueValue",e.ClassBreaks="classBreaks",e.Unknown="unknown",e))(g1||{}),Pe=(e=>(e.FEATURE="esri-feature",e.MAPIMAGE="esri-map-image",e.TILE="esri-tile",e.IMAGERY="esri-imagery",e.GRAPHIC="esri-graphic",e.WMS="ogc-wms",e.WFS="ogc-wfs",e.GEOJSON="file-geojson",e.GEOJSONZIPPED="file-zip-geojson",e.CSV="file-csv",e.SHAPEFILE="file-shape",e.FLATGEOBUF="file-fgb",e.FLATGEOBUFZIPPED="file-zip-fgb",e.OSM="osm-tile",e.DATACSV="data-csv",e.DATAJSON="data-json",e.DATATABLE="data-esri-table",e.UNKNOWN="unknown",e.SUBLAYER="sublayer",e))(Pe||{}),Ts=(e=>(e.FEATURE="feature",e.GRAPHIC="graphic",e.IMAGERY="imagery",e.MAPIMAGE="map-image",e.NOLAYER="no-layer",e.OSM="osm-tile",e.TILE="tile",e.UNKNOWN="unknown",e.WMS="wms",e))(Ts||{}),lr=(e=>(e.ESRI_FEATURE="esriFeature",e.ESRI_RASTER="esriRaster",e.ESRI_TILE="esriTile",e.OSM_TILE="osmTile",e.OGC_RASTER="ogcRaster",e.UNKNOWN="unknown",e))(lr||{}),ui=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e))(ui||{}),Bi=(e=>(e.GEOMETRIC="geometric",e.SYMBOLIC="symbolic",e.HYBRID="hybrid",e.NONE="none",e))(Bi||{}),Qt=(e=>(e.NEW="new",e.INITIATING="initiating",e.INITIATED="initiated",e.TERMINATING="terminating",e.TERMINATED="terminated",e))(Qt||{}),fi=(e=>(e.NEW="new",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error",e))(fi||{}),ts=(e=>(e.NOT_LOADED="not-loaded",e.NOT_VISUAL="not-visual",e.REFRESH="refresh",e.UP_TO_DATE="up-to-date",e))(ts||{}),Oh=(e=>(e.ESRI="esri",e.TEXT="text",e.IMAGE="image",e.HTML="html",e.XML="xml",e.JSON="json",e.UNKNOWN="unknown",e))(Oh||{}),Dr=(e=>(e.SYMBOL="symbol",e.GRID="grid",e.EXTENT="extent",e.INITIAL="initial",e.API="api",e.PERMANENT="permanent",e))(Dr||{}),vi=(e=>(e.BoundaryZoom="boundaryZoom",e.Datatable="datatable",e.Identify="identify",e.Metadata="metadata",e.Opacity="opacity",e.Refresh="refresh",e.Reload="reload",e.Remove="remove",e.Settings="settings",e.Symbology="symbology",e.Visibility="visibility",e))(vi||{});class Tn{attributes;geometry;style;id;constructor(t,i,r){this.geometry=t,i?this.id=i:this.id=Yh.sharedUtils.generateUUID(),r?this.attributes=r:this.attributes={}}_hover;get hover(){return this._hover}set hover(t){t&&this._hover&&this._hover.id!==t.id&&this.removeHover(),this._hover=t}removeHover(){this._hover&&(this._hover=void 0)}}const Ng={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function ZF(e){return!!Ng[e]||!!Ng[e.toLowerCase()]}function _I(e){return Ng[e]??Ng[e.toLowerCase()]}function ige(e){return[..._I(e)]}function Xb(e,t,i){i<0&&++i,i>1&&--i;const r=6*i;return r<1?e+(t-e)*r:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function KF(e,t,i,r=1){const s=(e%360+360)%360/360,n=i<=.5?i*(t+1):i+t-i*t,o=2*i-n;return[Math.round(255*Xb(o,n,s+1/3)),Math.round(255*Xb(o,n,s)),Math.round(255*Xb(o,n,s-1/3)),r]}function rge(e){const t=e.length>5,i=t?8:4,r=(1<<i)-1,s=t?1:17,n=t?e.length===9:e.length===5;let o=+("0x"+e.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return n&&(l=o&r,o>>=i,a[3]=s*l/255),l=o&r,o>>=i,a[2]=s*l,l=o&r,o>>=i,a[1]=s*l,l=o&r,o>>=i,a[0]=s*l,a}const sge=2.2,zT=new Float32Array(1);function nge(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function v1(e,t,i){return Math.min(Math.max(e,t),i)}function oge(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function XF(e,t,i){return e+(t-e)*i}function age(e,t,i,r,s){return XF(r,s,(e-t)/(i-t))}function lge(e){return e*Math.PI/180}function cge(e){return 180*e/Math.PI}function uge(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function hge(e){return Math.acos(v1(e,-1,1))}function fge(e){return Math.asin(v1(e,-1,1))}function Ch(e,t,i=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=i}function dge(e,t,i=1e-6){return!Ch(e,t,i)&&e>t}function pge(e,t,i=1e-6){return!Ch(e,t,i)&&e<t}function mge(e,t,i=1e-6){return Ch(e,t,i)||e>t}const Lg=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function w2(e){return Lg.setFloat64(0,e),Lg.getBigInt64(0)}function QF(e){return Lg.setBigInt64(0,e),Lg.getFloat64(0)}const Iy=BigInt("1000000"),eU=wI(1);function wI(e){const t=w2(e=Math.abs(e)),i=QF(t<=Iy?Iy:t-Iy);return Math.abs(e-i)}function yge(e,t,i=eU){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(i!=null&&wI(Math.min(Math.abs(e),Math.abs(t)))<i)return Math.abs(e-t)<=i;const r=w2(e),s=w2(t);return r<0!=s<0?!1:!((r<s?s-r:r-s)>Iy)}function gge(e){return xI(Math.max(-qT,Math.min(e,qT)))}function xI(e){return zT[0]=e,zT[0]}function vge(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(Ch(t,1)&&Ch(i,1)&&Ch(r,1))}function bge(e,t){return(e%t+t)%t}const qT=xI(34028234663852886e22);function _ge(e,t,i){if(i===void 0||+i==0)return Math[e](t);if(t=+t,i=+i,isNaN(t)||typeof i!="number"||i%1!=0)return NaN;let r=t.toString().split("e");return r=(t=Math[e](+(r[0]+"e"+(r[1]?+r[1]-i:-i)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+i:i))}let cl;function re(e){return typeof cl[e]=="function"?cl[e]=cl[e](globalThis):cl[e]}cl=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},re.add=(e,t,i,r)=>{(r||cl[e]===void 0)&&(cl[e]=t),i&&re(e)},re.cache=cl,re.add("big-integer-warning-enabled",!0),re.add("esri-deprecation-warnings",!0),re.add("esri-tests-disable-screenshots",!1),re.add("esri-tests-use-full-window",!1),re.add("esri-tests-post-to-influx",!0),re.add("esri-cim-animations-enable-status","enabled"),re.add("esri-cim-animations-spotlight",!1),re.add("esri-cim-animations-freeze-time",!1),re.add("enable-feature:multiple-highlights",!0),(()=>{re.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(re.add("host-browser",e),re.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),re.add("dom",e),re("host-browser")){const t=navigator,i=t.userAgent,r=t.appVersion,s=parseFloat(r);if(re.add("wp",parseFloat(i.split("Windows Phone")[1])||void 0),re.add("msapp",parseFloat(i.split("MSAppHost/")[1])||void 0),re.add("khtml",r.includes("Konqueror")?s:void 0),re.add("edge",parseFloat(i.split("Edge/")[1])||void 0),re.add("opr",parseFloat(i.split("OPR/")[1])||void 0),re.add("webkit",!re("wp")&&!re("edge")&&parseFloat(i.split("WebKit/")[1])||void 0),re.add("chrome",!re("edge")&&!re("opr")&&parseFloat(i.split("Chrome/")[1])||void 0),re.add("android",!re("wp")&&parseFloat(i.split("Android ")[1])||void 0),re.add("safari",!r.includes("Safari")||re("wp")||re("chrome")||re("android")||re("edge")||re("opr")?void 0:parseFloat(r.split("Version/")[1])),re.add("mac",r.includes("Macintosh")),!re("wp")&&/(iPhone|iPod|iPad)/.test(i)){const n=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(i)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));re.add(n,a),re.add("ios",a)}re("webkit")||(!i.includes("Gecko")||re("wp")||re("khtml")||re("edge")||re.add("mozilla",s),re("mozilla")&&re.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);t&&re.add("esri-mobile",t),i&&re.add("esri-iPhone",i),re.add("esri-geolocation",!!navigator.geolocation)}re.add("esri-wasm","WebAssembly"in globalThis),re.add("esri-performance-mode-frames-between-render",20),re.add("esri-force-performance-mode",!1),re.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),re.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),re.add("esri-atomics","Atomics"in globalThis),re.add("esri-workers","Worker"in globalThis),re.add("web-feat:cache","caches"in globalThis),re.add("esri-workers-arraybuffer-transfer",!re("safari")||Number(re("safari"))>=12),re.add("workers-pool-size",8),re.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),re.add("featurelayer-simplify-payload-size-factors",[1,1,4]),re.add("featurelayer-fast-triangulation-enabled",!0),re.add("featurelayer-animation-enabled",!0),re.add("featurelayer-snapshot-enabled",!0),re.add("featurelayer-snapshot-point-min-threshold",8e4),re.add("featurelayer-snapshot-point-max-threshold",4e5),re.add("featurelayer-snapshot-point-coverage",.1),re.add("featurelayer-query-max-depth",4),re.add("featurelayer-query-pausing-enabled",!1),re.add("featurelayer-advanced-symbols",!1),re.add("featurelayer-pbf",!0),re.add("featurelayer-pbf-statistics",!1),re.add("feature-layers-workers",!0),re.add("feature-polyline-generalization-factor",1),re.add("mapview-transitions-duration",200),re.add("mapview-essential-goto-duration",200),re.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),re.add("mapserver-pbf-version-support",10.81),re.add("mapservice-popup-identify-max-tolerance",20),re.add("request-queue-concurrency-hosted",16),re.add("request-queue-concurrency-non-hosted",4),re.add("curve-densification-coarse-segments",128),re.add("curve-densification-max-segments",2e3),re.add("curve-densification-min-segments",3),re.add("curve-densification-pixels-per-segment",16),re.add("view-readyState-waiting-delay",1e3),re.add("gradient-depth-bias",.01),re.add("gradient-depth-epsilon",1e-8),re("host-webworker")||re("host-browser")&&(re.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),re.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{re.add("esri-image-decode",!0,!0,!0)}).catch(()=>{re.add("esri-image-decode",!1,!0,!0)})}return!1}),re.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();function wge(e){}function xge(e){return()=>e}function Ege(e){return e}let Py=class ac{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*ac._m}getInt(){return this._seed=(ac._a*this._seed+ac._c)%ac._m,this._seed}getFloat(){return this.getInt()/(ac._m-1)}getIntRange(t,i){return Math.round(this.getFloatRange(t,i))}getFloatRange(t,i){const r=i-t;return t+this.getInt()/ac._m*r}};Py._m=2147483647,Py._a=48271,Py._c=0;const tU=1.5,Sge=1/tU,Age=.5;function Tge(e,t){return t?e.filter((i,r,s)=>s.findIndex(t.bind(null,i))===r):Array.from(new Set(e))}function b1(e,t,i){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(i){for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function $ge(e,t,i){let r,s;return i?(r=t.filter(n=>!e.some(o=>i(o,n))),s=e.filter(n=>!t.some(o=>i(o,n)))):(r=t.filter(n=>!e.includes(n)),s=e.filter(n=>!t.includes(n))),{added:r,removed:s}}function Mge(e){return e&&typeof e.length=="number"}let EI=class{constructor(){this.last=0}};const SI=new EI;function x2(e,t,i,r){r=r||SI;const s=Math.max(0,r.last-10);for(let o=s;o<i;++o)if(e[o]===t)return r.last=o,o;const n=Math.min(s,i);for(let o=0;o<n;++o)if(e[o]===t)return r.last=o,o;return-1}function Cge(e,t,i,r){const s=e.length,n=x2(e,t,s,r);if(n!==-1)return e[n]=e[s-1],e.pop(),t}const en=new Set;function iU(e,t,i=e.length,r=t.length,s,n){if(r===0||i===0)return i;en.clear();for(let a=0;a<r;++a)en.add(t[a]);s=s||SI;const o=Math.max(0,s.last-10);for(let a=o;a<i;++a)if(en.has(e[a])&&(n?.push(e[a]),en.delete(e[a]),e[a]=e[i-1],--i,--a,en.size===0||i===0))return en.clear(),i;for(let a=0;a<o;++a)if(en.has(e[a])&&(n?.push(e[a]),en.delete(e[a]),e[a]=e[i-1],--i,--a,en.size===0||i===0))return en.clear(),i;return en.clear(),i}function Ige(e,t,i){const r=e.length;if(t>=r)return e.slice();const s=AI(i),n=new Set,o=[];for(;o.length<t;){const a=Math.floor(s()*r);n.has(a)||(n.add(a),o.push(e[a]))}return o}function AI(e){return e?(HT.seed=e,()=>HT.getFloat()):Math.random}const HT=new Py;function Pge(e,t){const i=AI(t);for(let r=e.length-1;r>0;r--){const s=Math.floor(i()*(r+1)),n=e[r];e[r]=e[s],e[s]=n}return e}function rU(e,t){const i=e.indexOf(t);return i!==-1?(e.splice(i,1),t):null}function sU(e,t){return e!=null}const Nge=[];function Lge(e){return e instanceof ArrayBuffer}function GE(e){return e?.constructor?.name==="Int8Array"}function TI(e){return e?.constructor?.name==="Uint8Array"}function $I(e){return e?.constructor?.name==="Uint8ClampedArray"}function zE(e){return e?.constructor?.name==="Int16Array"}function MI(e){return e?.constructor?.name==="Uint16Array"}function qE(e){return e?.constructor?.name==="Int32Array"}function OI(e){return e?.constructor?.name==="Uint32Array"}function _1(e){return e?.constructor?.name==="Float32Array"}function w1(e){return e?.constructor?.name==="Float64Array"}function nU(e){return"buffer"in e}const CI=1024;function kge(e){return w1(e)||_1(e)||qE(e)||zE(e)||GE(e)}function Rge(e){return w1(e)||_1(e)}function Dge(e){return w1(e)?179769e303:_1(e)?3402823e32:OI(e)?4294967295:MI(e)?65535:TI(e)||$I(e)?255:qE(e)?2147483647:zE(e)?32767:GE(e)?127:256}function Fge(e,t){let i;for(i in e)e.hasOwnProperty(i)&&e[i]===void 0&&delete e[i];return e}function ge(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=LI(e);if(t!=null)return t;if(II(e))return e.clone();if(PI(e))return e.map(ge);if(NI(e))throw new Error("Trying to clone an unclonable Accessor instance");const i={};for(const r of Object.getOwnPropertyNames(e))i[r]=ge(e[r]);return i}function E2(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=LI(e);if(t!=null)return t;if(PI(e)){let r=!0;const s=e.map(n=>{const o=E2(n);return n!=null&&o==null&&(r=!1),o});return r?s:null}if(II(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(NI(e))return null;const i=new(Object.getPrototypeOf(e)).constructor;for(const r of Object.getOwnPropertyNames(e)){const s=e[r],n=E2(s);if(s!=null&&n==null)return null;i[r]=n}return i}function II(e){return typeof e.clone=="function"}function PI(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function NI(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function WT(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function LI(e){if(GE(e)||TI(e)||$I(e)||zE(e)||MI(e)||qE(e)||OI(e)||_1(e)||w1(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[i,r]of e)t.set(i,ge(r));return t}if(e instanceof Set){const t=new Set;for(const i of e)t.add(ge(i));return t}return null}function HE(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof e?.getTime=="function"&&typeof t?.getTime=="function"&&e.getTime()===t.getTime()||!1}function oU(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&b1(e,t):e instanceof Set?t instanceof Set&&lU(e,t):e instanceof Map?t instanceof Map&&cU(e,t):!!WT(e)&&WT(t)&&aU(e,t))}function aU(e,t){if(e===null||t===null)return!1;const i=Object.keys(e);if(t===null||Object.keys(t).length!==i.length)return!1;for(const r of i)if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}function lU(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function cU(e,t){if(e.size!==t.size)return!1;for(const[i,r]of e){const s=t.get(i);if(s!==r||s===void 0&&!t.has(i))return!1}return!0}function uU(e,t,i=!1){return RI(e,t,i)}function WE(e,t){if(t!=null)return t[e]||kI(e.split("."),!1,t)}function kf(e,t,i){const r=e.split("."),s=r.pop(),n=kI(r,!0,i);n&&s&&(n[s]=t)}function YT(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const i=t;if(e.length!==i.length)return!0;for(let r=0;r<e.length;r++)if(YT(e[r],i[r]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const i in e)if(YT(e[i],t[i]))return!0;return!1}return e!==t}function kI(e,t,i){let r=i;for(const s of e){if(r==null)return;if(!(s in r)){if(!t)return;r[s]={}}r=r[s]}return r}function RI(e,t,i){return t?Object.keys(t).reduce((r,s)=>{let n=r[s],o=t[s];return n===o?r:n===void 0?(r[s]=ge(o),r):(Array.isArray(o)||Array.isArray(r)?(n=n?Array.isArray(n)?r[s]=n.slice():r[s]=[n]:r[s]=[],o&&(Array.isArray(o)||(o=[o]),i?o.forEach(a=>{n.includes(a)||n.push(a)}):r[s]=o.slice())):o&&typeof o=="object"?r[s]=RI(n,o,i):r.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(r[s]=o),r)},e||{}):e}const Ct={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(uU(Ct,globalThis.esriConfig,!0),delete Ct.has),!Ct.assetsPath){{const e="4.32";Ct.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}Ct.defaultAssetsPath=Ct.assetsPath}const hU=/\{([^}]+)\}/g;function JT(e){return e??""}function YE(e,t){return t?e.replaceAll(hU,typeof t=="object"?(i,r)=>JT(WE(r,t)):(i,r)=>JT(t(r))):e}function Uge(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,i=>t?.includes(i)?i:`\\${i}`)}function DI(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}let ZT;function jge(e){return ZT??=new DOMParser,ZT.parseFromString(e||"","text/html").body.innerText||""}function Vge(e,t){return new RegExp(`{${t}}`,"ig").test(e)}function Bge(e,...t){let i=e[0];for(let r=0;r<t.length;++r)i+=t[r]+e[r+1];return i}const KT={info:0,warn:1,error:2,none:3};let Rt=class ps{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,ps._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=ps.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,ps._loggers.get(t)||new ps({module:t})}_log(t,i,...r){if(this._matchLevel(t)){if(i!=="always"&&!ps._throttlingDisabled){const s=dU(r),n=this._loggedMessages[t].get(s);if(i==="once"&&n!=null||i==="oncePerTick"&&n&&n>=ps._tickCounter)return;this._loggedMessages[t].set(s,ps._tickCounter),ps._scheduleTickCounterIncrement()}for(const s of Ct.log.interceptors)if(s(t,this.module,...r))return;this._inheritedWriter()(t,this.module,...r)}}_parentWithMember(t,i){let r=this;for(;r!=null;){const s=r[t];if(s!=null)return s;r=r.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",fU)}_matchLevel(t){const i=Ct.log.level||"warn";return KT[this._parentWithMember("level",i)]<=KT[t]}static _scheduleTickCounterIncrement(){ps._tickCounterScheduled||(ps._tickCounterScheduled=!0,Promise.resolve().then(()=>{ps._tickCounter++,ps._tickCounterScheduled=!1}))}};function fU(e,t,...i){console[e](`[${t}]`,...i)}function dU(...e){return DI(JSON.stringify(e,(i,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]"))}Rt._loggers=new Map,Rt._tickCounter=0,Rt._tickCounterScheduled=!1,Rt._throttlingDisabled=!1;function Gge(e,t){for(const i of e.values())if(t(i))return!0;return!1}function zge(e,t){for(const i of e.values())if(t(i))return i;return null}function FI(e,t,i){const r=e.get(t);if(r!==void 0)return r;const s=i();return e.set(t,s),s}function qge(e){const t=new Map;return i=>(t.has(i)||t.set(i,e(i)),t.get(i))}const Ih=()=>Rt.getLogger("esri.core.accessorSupport.ensureTypes");function pU(e){return e==null?e:new Date(e)}function mU(e){return e==null?e:!!e}function yU(e){return e==null?e:e.toString()}function x1(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function JE(e){return e==null?e:Math.round(parseFloat(e))}function gU(e){return null}function vU(e,t){return i=>{let r=e(i);return t.step!=null&&(r=Math.round(r/t.step)*t.step),t.min!=null&&(r=Math.max(t.min,r)),t.max!=null&&(r=Math.min(t.max,r)),r}}function UI(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function kg(e,t){return t!=null&&e&&!(t instanceof e)}function jI(e){return e&&"isCollection"in e}function XT(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function bU(e,t){if(!t?.constructor||!jI(t.constructor))return S2(e,t)?t:new e(t);const i=XT(e.prototype.itemType),r=XT(t.constructor.prototype.itemType);return i?r?i===r?t:i.prototype.isPrototypeOf(r.prototype)?new e(t):(S2(e,t),t):new e(t):t}function S2(e,t){return!!UI(t)&&(Ih().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+E1(e)+"'"),!0)}function _U(e,t){return t==null?t:jI(e)?bU(e,t):kg(e,t)?S2(e,t)?t:new e(t):t}function E1(e){return e?.prototype?.declaredClass||"unknown"}const wU=new WeakMap;function xU(e){switch(e){case Number:return t=>x1(t);case Ni:return JE;case Boolean:return mU;case String:return yU;case Date:return pU;case ZE:return gU;default:return FI(wU,e,()=>_U.bind(null,e))}}function $n(e,t){const i=xU(e);return arguments.length===1?i:i(t)}function jp(e,t,i){return arguments.length===1?jp.bind(null,e):t&&(Array.isArray(t)?t.map(r=>e(r,i)):[e(t,i)])}function EU(e,t){return arguments.length===1?jp(i=>$n(e,i)):jp(i=>$n(e,i),t)}function VI(e,t,i){return t!==0&&Array.isArray(i)?i.map(r=>VI(e,t-1,r)):e(i)}function Rg(e,t,i){if(arguments.length===2)return n=>Rg(e,t,n);if(!i)return i;i=VI(e,t,i);let r=t,s=i;for(;r>0&&Array.isArray(s);)r--,s=s[0];if(s!==void 0)for(let n=0;n<r;n++)i=[i];return i}function SU(e,t,i){return arguments.length===2?Rg(r=>$n(e,r),t):Rg(r=>$n(e,r),t,i)}function BI(e){return!!Array.isArray(e)&&!e.some(t=>{const i=typeof t;return!(i==="string"||i==="number"||i==="function"&&e.length>1)})}function A2(e,t){if(arguments.length===2)return A2(e).call(null,t);const i=new Set,r=e.filter(a=>typeof a!="function"),s=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||i.add(a);let n=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,f=c==="string"||c==="number";return f&&(i.has(a)||s.some(d=>c==="string"&&d===String||c==="number"&&d===Number))||c==="object"&&s.some(d=>!kg(a,d))?a:(f&&r.length?(n||(n=r.map(d=>typeof d=="string"?`'${d}'`:`${d}`).join(", ")),Ih().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${n}`)):typeof a=="object"&&s.length?(o||(o=s.map(d=>E1(d)).join(", ")),Ih().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):Ih().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Jh(e,t){if(arguments.length===2)return Jh(e).call(null,t);const i={},r=[],s=[];for(const l in e.typeMap){const c=e.typeMap[l];i[l]=$n(c),r.push(E1(c)),s.push(l)}const n=()=>`'${r.join("', '")}'`,o=()=>`'${s.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!kg(e.base,l)||l==null)return l;const c=a(l)||e.defaultKeyValue,f=i[c];if(!f)return Ih().error("Accessor#set",`Invalid property value, value needs to be one of ${n()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!kg(e.typeMap[c],l))return l;if(typeof e.key=="string"&&!UI(l)){const d={};for(const p in l)p!==e.key&&(d[p]=l[p]);return f(d)}return f(l)}}let Ni=class{},ZE=class{};const Yge={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function AU(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function GI(e){switch(e.type){case"native":return $n(e.value);case"array":return jp(GI(e.value));case"one-of":return TU(e);default:return null}}function TU(e){let t=null;return(i,r)=>$2(i,e)?i:(t==null&&(t=T2(e)),Ih().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),r&&(r.valid=!1),null)}function T2(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Ni:return"integer";case Date:return"date";case ZE:return"null";default:return E1(e.value)}case"array":return`array of ${T2(e.value)}`;case"one-of":{const t=e.values.map(i=>T2(i));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function $2(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Ni:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case ZE:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(i=>!$2(i,t.value));case"one-of":return t.values.some(i=>$2(e,i))}}function I0(e){return v1(JE(e),0,255)}function P0(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}function N0(e,t){const i=e.toString(16).padStart(2,"0");return t?i.slice(0,1):i}let dt=class Ui{static blendColors(t,i,r,s=new Ui){return s.r=Math.round(t.r+(i.r-t.r)*r),s.g=Math.round(t.g+(i.g-t.g)*r),s.b=Math.round(t.b+(i.b-t.b)*r),s.a=t.a+(i.a-t.a)*r,s._sanitize()}static fromRgb(t,i){const r=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(r){const s=r[2].split(/\s*,\s*/),n=r[1];if(n==="rgb"&&s.length===3||n==="rgba"&&s.length===4){const o=s[0];if(o.charAt(o.length-1)==="%"){const a=s.map(l=>2.56*parseFloat(l));return s.length===4&&(a[3]=parseFloat(s[3])),Ui.fromArray(a,i)}return Ui.fromArray(s.map(a=>parseFloat(a)),i)}if(n==="hsl"&&s.length===3||n==="hsla"&&s.length===4)return Ui.fromArray(KF(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100,parseFloat(s[3])),i)}return null}static fromHex(t,i=new Ui){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const r=parseInt(t.slice(1,2),16),s=parseInt(t.slice(2,3),16),n=parseInt(t.slice(3,4),16),o=t.length===5?15:parseInt(t.slice(4),16);return Ui.fromArray([r+16*r,s+16*s,n+16*n,(o+16*o)/255],i)}case 7:case 9:{const r=parseInt(t.slice(1,3),16),s=parseInt(t.slice(3,5),16),n=parseInt(t.slice(5,7),16),o=t.length===7?255:parseInt(t.slice(7),16);return Ui.fromArray([r,s,n,o/255],i)}default:return null}}static fromArray(t,i=new Ui){return i._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(t,i){const r=ZF(t)?_I(t):null;return r&&Ui.fromArray(r,i)||Ui.fromRgb(t,i)||Ui.fromHex(t,i)}static fromJSON(t){return t!=null?new Ui([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?Ui.fromString(t,this):Array.isArray(t)?Ui.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Ui||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const i=t?.capitalize??!1,r=t?.digits??6,s=r===3||r===4,n=r===4||r===8,o=`#${N0(this.r,s)}${N0(this.g,s)}${N0(this.b,s)}${n?N0(Math.round(255*this.a),s):""}`;return i?o.toUpperCase():o}toCss(t=!1){const i=this.r+", "+this.g+", "+this.b;return t?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Ui.AlphaMode.ALWAYS){const i=I0(this.r),r=I0(this.g),s=I0(this.b);return t===Ui.AlphaMode.ALWAYS||this.a!==1?[i,r,s,I0(255*this.a)]:[i,r,s]}clone(){return new Ui(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(P0(this.r,0,255)),this.g=Math.round(P0(this.g,0,255)),this.b=Math.round(P0(this.b,0,255)),this.a=P0(this.a,0,1),this}_set(t,i,r,s){this.r=t,this.g=i,this.b=r,this.a=s}};dt.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(dt);function g(e,t,i,r){var s,n=arguments.length,o=n<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(n<3?s(o):n>3?s(t,i,o):s(t,i))||o);return n>3&&o&&Object.defineProperty(t,i,o),o}function Jge(e,t){return function(i,r){t(i,r,e)}}function Zge(e,t,i,r){function s(n){return n instanceof i?n:new i(function(o){o(n)})}return new(i||(i=Promise))(function(n,o){function a(f){try{c(r.next(f))}catch(d){o(d)}}function l(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?n(f.value):s(f.value).then(a,l)}c((r=r.apply(e,[])).next())})}function Kge(e,t,i){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,s;if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(n){return Promise.reject(n)}}),e.stack.push({value:t,dispose:r,async:i})}return t}var $U=typeof SuppressedError=="function"?SuppressedError:function(e,t,i){var r=new Error(i);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function Xge(e){function t(n){e.error=e.hasError?new $U(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}var i,r=0;function s(){for(;i=e.stack.pop();)try{if(!i.async&&r===1)return r=0,e.stack.push(i),Promise.resolve().then(s);if(i.dispose){var n=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(n).then(s,function(o){return t(o),s()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}const QT=new WeakMap;function MU(e,t,i=!1){const r=`🛑 DEPRECATED - ${t}`;if(!i)return void e.warn(r);let s=QT.get(e);s||(s=new Set,QT.set(e,s)),s.has(t)||(s.add(t),e.warn(r))}function OU(e,t,i={}){if(re("esri-deprecation-warnings")){const{moduleName:r}=i;Vp(e,`Function: ${(r?r+"::":"")+t+"()"}`,i)}}function Qge(e,t,i={}){if(re("esri-deprecation-warnings")){const{moduleName:r}=i;Vp(e,`Property: ${(r?r+"::":"")+t}`,i)}}function CU(e,t,i={}){re("esri-deprecation-warnings")&&Vp(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...i})}function Vp(e,t,i={}){if(re("esri-deprecation-warnings")){const{replacement:r,version:s,see:n,warnOnce:o}=i;let a=t;if(r&&(a+=`
	🛠️ Replacement: ${r}`),s&&(a+=`
	⚙️ Version: ${s}`),n)if(Array.isArray(n)){a+=`
	🔗 See for more details:`;for(const l of n)a+=`
		${l}`}else a+=`
	🔗 See ${n} for more details.`;MU(e,a,o)}}function eve(e){const t=[];return function*(){yield*t;for(const i of e)t.push(i),yield i}}function tve(e,t){for(const i of e)if(i!=null&&t(i))return i}function e4(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let KE=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(i=>{t+=i.length}),t}add(t,i){if(e4(t)){const r=this._getOrCreateGroup(i);for(const s of t)i4(s)&&r.push(s)}else i4(t)&&this._getOrCreateGroup(i).push(t);return this}forEach(t,i){if(typeof t=="function")this._groups.forEach(r=>r.forEach(t));else{const r=this._getGroup(t);r&&i&&r.forEach(i)}}has(t){return this._groups.has(L0(t))}remove(t){if(typeof t!="string"&&e4(t)){for(const i of t)this.remove(i);return this}return this.has(t)?(t4(this._getGroup(t)),this._groups.delete(L0(t)),this):this}removeAll(){return this._groups.forEach(t4),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const i=[];return this._groups.set(L0(t),i),i}_getGroup(t){return this._groups.get(L0(t))}};function L0(e){return e||"_default_"}function t4(e){for(const t of e)t instanceof KE?t.removeAll():t.remove()}function i4(e){return e!=null&&(!!e.remove||e instanceof KE)}function IU(e,t){if(e==null)throw new Error(t??"value is None")}function Ny(e){return e?.destroy(),null}function rve(e){return e?.dispose(),null}function Rf(e){return e?.remove(),null}function zI(e){return e?.abort(),null}function sve(e){return e?.release(),null}function nve(e,t,i){return e!=null&&t!=null?i!=null?i(e,t):e.equals(t):e===t}function PU(e,t){let i;return e.some((r,s)=>(i=t(r,s),i!=null)),i??void 0}const qI=Symbol("Accessor-beforeDestroy"),NU={remove:()=>{}};function Ti(e){return e?{remove(){e&&(e(),e=void 0)}}:NU}function HI(e){e.forEach(t=>t?.remove())}function ove(e){HI(e),e.length=0}function XE(e){return Ti(()=>HI(e))}function ave(e){return Ti(()=>e()?.remove())}function lve(e){return Ti(()=>e?.abort())}function LU(e){return Ti(e!=null?()=>e.destroy():void 0)}function xl(e){return e.__accessor__??null}function kU(e,t){return e?.metadata?.[t]!=null}function Ly(e,t,i){return i?Dg(e,t,{policy:i,path:""}):Dg(e,t,null)}function Dg(e,t,i){return t?Object.keys(t).reduce((r,s)=>{const n=s;let o=null,a="merge";if(i&&(o=i.path?`${i.path}.${s}`:s,a=i.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(r[n]))return r[n]=t[n],r;if(r[n]===void 0)return r[n]=ge(t[n]),r;let l=r[n],c=t[n];if(l===c)return r;if(Array.isArray(c)||Array.isArray(r))l=l?Array.isArray(l)?r[n]=l.slice():r[n]=[l]:r[n]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(f=>{l.includes(f)||l.push(f)}));else if(c&&typeof c=="object")if(i){const f=i.path;i.path=o,r[n]=Dg(l,c,i),i.path=f}else r[n]=Dg(l,c,null);else r.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(r[n]=c);return r},e||{}):e}function WI(e){return Array.isArray(e)?e:e.split(".")}function r4(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function RU(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push(...r4(i));return t}return r4(e)}function YI(e,t,i,r){const s=RU(t);if(s.length!==1){const n=s.map(o=>r(e,o,i));return XE(n)}return r(e,s[0],i)}function JI(e,t){const i=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const r=xl(t);return kU(r,i)?r.get(i):t[i]}function ZI(e,t,i){if(e==null)return e;const r=JI(t[i],e);return!r&&i<t.length-1?void 0:i===t.length-1?r:ZI(r,t,i+1)}function jm(e,t,i=0){return typeof t!="string"||t.includes(".")?ZI(e,WI(t),i):JI(t,e)}function Zh(e,t){return jm(e,t)}function s4(e,t){return jm(t,e)!==void 0}var Qr;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(Qr||(Qr={}));function Vm(e){let t=e.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){t=Object.create(t);for(const r in t)t[r]=ge(t[r]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function S1(e,t){const i=Vm(e);let r=i[t];return r||(r=i[t]={}),r}function DU(e,t){return Ly(e,t,UU)}const FU=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function UU(e){return FU.test(e)?"replace":"merge"}function jU(e){return e?.release&&typeof e.release=="function"}function VU(e){return e?.acquire&&typeof e.acquire=="function"}let Bm=class M2{constructor(t,i,r,s=1,n=0){this._ctor=t,this._acquireFunction=i,this._releaseFunction=r,this.allocationSize=s,this._pool=new Array(n),this._initialSize=n;for(let o=0;o<n;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...t){let i;if(M2.test.disabled)i=new this._ctor;else{if(this._pool.length===0){const r=this.allocationSize;for(let s=0;s<r;s++)this._pool[s]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...t):VU(i)&&i.acquire(...t),i}release(t){t&&!M2.test.disabled&&(this._releaseFunction?this._releaseFunction(t):jU(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const r=this._pool[i];this._dispose(r)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};Bm.test={disabled:!1};let BU=class{constructor(t,i){this._observers=t,this._observer=i}remove(){rU(this._observers,this._observer)}},KI=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return GU;this._observers==null&&(this._observers=[]);const i=this._observers;let r=!1,s=!1;const n=i.length;for(let o=0;o<n;++o){const a=i[o];if(a.destroyed)s=!0;else if(a===t){r=!0;break}}return r||(i.push(t),s&&this._removeDestroyedObservers()),new BU(i,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const i=t.length;let r=0;for(let s=0;s<i;++s){for(;s+r<i&&t[s+r].destroyed;)++r;if(r>0){if(!(s+r<i))break;t[s]=t[s+r]}}t.length=i-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const i of t)i.onCommitted();this._observers=null}}};const GU=Ti();var ct;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(ct||(ct={}));const hve=ct.USER+1;function XI(e){switch(e){case"defaults":return ct.DEFAULTS;case"service":return ct.SERVICE;case"portal-item":return ct.PORTAL_ITEM;case"web-scene":return ct.WEB_SCENE;case"web-map":return ct.WEB_MAP;case"link-chart":return ct.LINK_CHART;case"user":return ct.USER;default:return null}}function O2(e){switch(e){case ct.DEFAULTS:return"defaults";case ct.SERVICE:return"service";case ct.PORTAL_ITEM:return"portal-item";case ct.WEB_SCENE:return"web-scene";case ct.WEB_MAP:return"web-map";case ct.LINK_CHART:return"link-chart";case ct.USER:return"user"}}function zU(e){return O2(e)}var vt;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(vt||(vt={}));let A1=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const Fg=new A1,Sd=[];let ap=Fg;function Ye(e){ap.onAccessed(e)}let ky=!1,Ry=!1;function El(e,t,i){if(ky)return QE(e,t,i);let r=null;return QI(e),r=t.call(i),e5(),r}function qU(e,t){return El(Fg,e,t)}function QE(e,t,i){const r=ky;ky=!0,QI(e);let s=null;try{s=t.call(i)}catch(n){Ry&&Rt.getLogger("esri.core.accessorSupport.tracking").error(n)}return e5(),ky=r,s}function QI(e){ap=e,Sd.push(e)}function e5(){const e=Sd.length;if(e>1){const t=Sd.pop();ap=Sd[e-2],t.onTrackingEnd()}else if(e===1){const t=Sd.pop();ap=Fg,t.onTrackingEnd()}else ap=Fg}function t5(e,t){if(t.flags&vt.DepTrackingInitialized)return;t.flags|=vt.DepTrackingInitialized;const i=Ry;Ry=!1,t.flags&vt.AutoTracked?QE(t.trackingTarget,t.metadata.get,e):i5(e,t),Ry=i}const HU=[];function i5(e,t){t.flags&vt.ExplicitlyTracking||(t.flags|=vt.ExplicitlyTracking,QE(t.trackingTarget,()=>{const i=t.metadata.dependsOn||HU;for(const r of i)if(typeof r!="string"||r.includes(".")){const s=WI(r);for(let n=0,o=e;n<s.length&&o!=null&&typeof o=="object";++n)o=n4(o,s[n],n!==s.length-1)}else n4(e,r,!1)}),t.flags&=~vt.ExplicitlyTracking)}function n4(e,t,i){const r=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const n=parseInt(r,10);if(!isNaN(n))return Array.isArray(e)?e[n]:e.at(n)}const s=xl(e);if(s){const n=s.propertiesByName.get(r);n&&(Ye(n),t5(e,n))}return i?e[r]:void 0}let o4=class extends KI{constructor(t,i){super(),this.propertyName=t,this.metadata=i,this.trackingTarget=new A1(this),this.flags=0,this.flags=vt.Dirty|(i.nonNullable?vt.NonNullable:0)|(i.hasOwnProperty("value")?vt.HasDefaultValue:0)|(i.get===void 0?vt.DepTrackingInitialized:0)|(i.dependsOn===void 0?vt.AutoTracked:0)}destroy(){this.flags&vt.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&Ye(this);const i=t.store,r=this.propertyName,s=this.flags,n=i.get(r);if(s&vt.Computing||~s&vt.Dirty&&i.has(r))return n;this.flags|=vt.Computing;const o=t.host;let a;s&vt.AutoTracked?a=El(this.trackingTarget,this.metadata.get,o):(i5(o,this),a=this.metadata.get.call(o)),this.flags|=vt.DepTrackingInitialized,i.set(r,a,ct.COMPUTED);const l=i.get(r);return l===n?this.flags&=~vt.Dirty:qU(this.commit,this),this.flags&=~vt.Computing,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~vt.Dirty,this.onCommitted()}onInvalidated(){~this.flags&vt.Overridden&&(this.flags|=vt.Dirty);const t=this._observers;if(t&&t.length>0)for(const i of t)i.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onCommitted()}}},WU=class r5{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new r5;return this._values.forEach((r,s)=>{t&&t.has(s)||i.set(s,ge(r))}),i}get(t){return this._values.get(t)}originOf(){return ct.USER}keys(){return[...this._values.keys()]}set(t,i){this._values.set(t,i)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function k0(e,t,i){return e!==void 0}function a4(e,t,i,r){return e!==void 0&&(!(i==null&&e.flags&vt.NonNullable)||(r.lifecycle,Qr.INITIALIZING,!1))}let YU=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Qr.INITIALIZING,this.store=new WU,this.mutable=!0,this._origin=ct.USER;const i=this.host.constructor.__accessorMetadata__;for(const r in i){const s=new o4(r,i[r]);this.propertiesByName.set(r,s)}this.metadata=i}initialize(){this.lifecycle=Qr.CONSTRUCTING}constructed(){this.lifecycle=Qr.CONSTRUCTED}destroy(){this.lifecycle=Qr.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Qr.INITIALIZING}get(t){const i=this.propertiesByName.get(t);if(i.metadata.get)return i.getComputed(this);this.mutable&&Ye(i);const r=this.store;return r.has(t)?r.get(t):i.metadata.value}originOf(t){const i=this.store.originOf(t);if(i===void 0){const r=this.propertiesByName.get(t);if(r!==void 0&&r.flags&vt.HasDefaultValue)return"defaults"}return O2(i)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const i=this.propertiesByName.get(t);if(k0(i))return this.store.has(t)?this.store.get(t):i.metadata.value}internalSet(t,i){const r=this.propertiesByName.get(t);k0(r)&&this._internalSet(r,i)}getDependsInfo(t,i,r){const s=this.propertiesByName.get(i);if(!k0(s))return"";const n=new A1,o=El(n,()=>s.metadata.get?.call(t));let a=`${r}${t.declaredClass.split(".").pop()}.${i}: ${o}
`;const l=n.accessed??new Set;if(l.size===0)return a;r+="  ";for(const c of l)c instanceof o4&&(a+=`${r}${c.propertyName}: undefined
`);return a}setAtOrigin(t,i,r){const s=this.propertiesByName.get(t);if(k0(s))return this._setAtOrigin(s,i,r)}isOverridden(t){const i=this.propertiesByName.get(t);return i!==void 0&&!!(i.flags&vt.Overridden)}clearOverride(t){const i=this.propertiesByName.get(t);i&&i.flags&vt.Overridden&&(i.flags&=~vt.Overridden,i.notifyChange())}override(t,i){const r=this.propertiesByName.get(t);if(!a4(r,t,i,this))return;const s=r.metadata.cast;if(s){const n=this._cast(s,i),{valid:o,value:a}=n;if(Qb.release(n),!o)return;i=a}r.flags|=vt.Overridden,this._internalSet(r,i)}set(t,i){const r=this.propertiesByName.get(t);if(!a4(r,t,i,this))return;const s=r.metadata.cast;if(s){const o=this._cast(s,i),{valid:a,value:l}=o;if(Qb.release(o),!a)return;i=l}const n=r.metadata.set;n?n.call(this.host,i):this._internalSet(r,i)}setDefaultOrigin(t){this._origin=XI(t)}getDefaultOrigin(){return O2(this._origin)}notifyChange(t){const i=this.propertiesByName.get(t);i!==void 0&&i.notifyChange()}invalidate(t){const i=this.propertiesByName.get(t);i!==void 0&&i.invalidate()}commit(t){const i=this.propertiesByName.get(t);i!==void 0&&i.commit()}_internalSet(t,i){const r=this.lifecycle!==Qr.INITIALIZING?this._origin:ct.DEFAULTS;this._setAtOrigin(t,i,r)}_setAtOrigin(t,i,r){const s=this.store,n=t.propertyName;s.has(n,r)&&HE(i,s.get(n))&&~t.flags&vt.Overridden&&r===s.originOf(n)||(t.invalidate(),s.set(n,i,r),t.commit(),t5(this.host,t))}_cast(t,i){const r=Qb.acquire();return r.valid=!0,r.value=i,t&&(r.value=t.call(this.host,i,r)),r}},JU=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const Qb=new Bm(JU);function ZU(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(i,r)=>r===""?"$":(WE(r,t)??"").toString())}let s5=class{constructor(t,i,r=void 0){this.name=t,this.details=r,this.message=(i&&ZU(i,r))??""}toString(){return"["+this.name+"]: "+this.message}},ft=class n5 extends s5{constructor(t,i,r){super(t,i,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return ge(i)}catch{return"[object]"}}))}}catch(t){throw Rt.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new n5(t.name,t.message,t.details)}};ft.prototype.type="error";function Ug(e,t,i){if(e&&t)if(typeof t=="object")for(const r of Object.getOwnPropertyNames(t))Ug(e,r,t[r]);else{if(t.includes(".")){const s=t.split("."),n=s.splice(-1,1)[0];return void Ug(Zh(e,s),n,i)}const r=e.__accessor__;r!=null&&KU(t,r),e[t]=i}}function KU(e,t){if(re("esri-unknown-property-errors")&&!XU(e,t))throw new ft("set:unknown-property",QU(e,t))}function XU(e,t){return t.metadata[e]!=null}function QU(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let ej;function tj(){return ej}var l4;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(l4||(l4={}));function ij(e){e.length=0}let Ja=class{constructor(t=50,i=50){this._pool=new Bm(Array,void 0,ij,i,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return e_.acquire()}static release(t){return e_.release(t)}static prune(){e_.prune()}};const e_=new Ja(100);let rj=class extends Bm{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const i=super.acquire(...t);return this._set.delete(i),i}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const R0=[];function o5(e){R0.push(e),R0.length===1&&queueMicrotask(()=>{const t=R0.slice();R0.length=0;for(const i of t)i()})}let a5=class{constructor(t,i=30){this.name=t,this._counter=0,this._samples=new Array(i)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,i)=>t-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,i)=>t+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var C2;(function(e){const t=(n,o,a,l)=>{let c=o,f=o;const d=a>>>1,p=n[c-1];for(;f<=d;){f=c<<1,f<a&&l(n[f-1],n[f])<0&&++f;const y=n[f-1];if(l(y,p)<=0)break;n[c-1]=y,c=f}n[c-1]=p},i=(n,o)=>n<o?-1:n>o?1:0;function r(n,o,a,l){o===void 0&&(o=0),a===void 0&&(a=n.length),l===void 0&&(l=i);for(let f=a>>>1;f>o;f--)t(n,f,a,l);const c=o+1;for(let f=a-1;f>o;f--){const d=n[o];n[o]=n[f],n[f]=d,t(n,c,f,l)}}function*s(n,o,a,l){o===void 0&&(o=0),a===void 0&&(a=n.length),l===void 0&&(l=i);for(let f=a>>>1;f>o;f--)t(n,f,a,l),yield;const c=o+1;for(let f=a-1;f>o;f--){const d=n[o];n[o]=n[f],n[f]=d,t(n,c,f,l),yield}}e.sort=r,e.iterableSort=s})(C2||(C2={}));const c4=C2,sj=1.5,nj=1.1;let l5=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new EI,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>u4(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const i=new Array;for(let r=0;r<this._length;r++){const s=this.data[r];t(s)&&i.push(s)}return i}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,i){const r=this.data.indexOf(t,i);return r!==-1&&r<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let i=t;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,i=t.length){for(let r=0;r<i;r++)this.data[this._length++]=t[r]}fill(t,i){for(let r=0;r<i;r++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,u4(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const i=x2(this.data,t,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(x2(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,i=t.length,r){this.length=iU(this.data,t,this.length,i,this._hint,r),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,i){if(t>=this.length||i>=this.length||t===i)return;const r=this.data[t];this.data[t]=this.data[i],this.data[i]=r}sort(t){c4.sort(this.data,0,this.length,t)}iterableSort(t){return c4.iterableSort(this.data,0,this.length,t)}some(t,i){for(let r=0;r<this.length;++r)if(t.call(i,this.data[r],r,this.data))return!0;return!1}find(t,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)if(t.call(i,r[n]))return r[n]}filterInPlace(t,i){let r=0;for(let s=0;s<this._length;++s){const n=this.data[s];t.call(i,n,s,this.data)&&(this.data[s]=this.data[r],this.data[r]=n,r++)}if(this._deallocator)for(let s=r;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=r,this._shrink(),this}forAll(t,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)t.call(i,r[n],n,r)}forEach(t,i){this.data.slice(0,this.length).forEach(t,i)}map(t,i){const r=new Array(this.length);for(let s=0;s<this.length;++s)r[s]=t.call(i,this.data[s],s,this.data);return r}reduce(t,i){let r=i;for(let s=0;s<this.length;++s)r=t(r,this.data[s],s,this.data);return r}has(t){const i=this.length,r=this.data;for(let s=0;s<i;++s)if(r[s]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function u4(e){e.data.length>sj*e.length&&(e.data.length=Math.floor(e.length*nj))}function oj(e){return{setTimeout:(t,i)=>{const r=e.setTimeout(t,i);return Ti(()=>e.clearTimeout(r))}}}const aj=oj(globalThis);function eS(e){return lj(e)||c5(e)}function lj(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function c5(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function u5(e,t,i){if(!eS(e))throw new TypeError("target is not a Evented or EventTarget object");return c5(e)?cj(e,t,i):e.on(t,i)}function cj(e,t,i,r){if(Array.isArray(t)){const s=t.slice();for(const n of s)e.addEventListener(n,i,r);return Ti(()=>{for(const n of s)e.removeEventListener(n,i,r)})}return e.addEventListener(t,i,r),Ti(()=>e.removeEventListener(t,i,r))}function h5(e,t,i){if(!eS(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);const r=u5(e,t,s=>{r.remove(),i.call(e,s)});return r}function Br(e="Aborted"){return new ft("AbortError",e)}function Bp(e,t="Aborted"){if(da(e))throw Br(t)}function T1(e){return e instanceof AbortSignal?e:e?.signal??void 0}function da(e){const t=T1(e);return t!=null&&t.aborted}function f5(e){if(Gm(e))throw e}function wve(e){if(!Gm(e))throw e}function Yc(e,t){const i=T1(e);if(i!=null){if(!i.aborted)return h5(i,"abort",()=>t());t()}}function uj(e,t){const i=T1(e);if(i!=null)return Bp(i),h5(i,"abort",()=>t(Br()))}function xve(e,t){return T1(t)==null?e:new Promise((i,r)=>{let s=Yc(t,()=>r(Br()));const n=()=>{s=Rf(s)};e.then(n,n),e.then(i,r)})}function Gm(e){return e?.name==="AbortError"}async function h4(e){try{return await e}catch(t){if(!Gm(t))throw t;return}}async function tS(e){if(!e)return;if(typeof e.forEach!="function"){const i=Object.keys(e),r=i.map(o=>e[o]),s=await tS(r),n={};return i.map((o,a)=>n[o]=s[a]),n}const t=e;return Promise.allSettled(t).then(i=>Array.from(t,(r,s)=>{const n=i[s];return n.status==="fulfilled"?{promise:r,value:n.value}:{promise:r,error:n.reason}}))}async function Eve(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function Sve(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function hj(e,t=void 0,i){const r=new AbortController;return Yc(i,()=>r.abort()),new Promise((s,n)=>{let o=setTimeout(()=>{o=0,s(t)},e);Yc(r,()=>{o&&(clearTimeout(o),n(Br()))})})}function Ave(e,t,i,r){const s=i&&"abort"in i?i:null;r!=null||s||(r=i);let n=setTimeout(()=>{n=0,s?.abort()},t);const o=()=>r||new ft("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then(a=>{if(n===0)throw o();return clearTimeout(n),a},a=>{throw clearTimeout(n),n===0?o():a})}function Tve(e,t){const i=new AbortController,r=setTimeout(()=>i.abort(),t);return Yc(e,()=>{i.abort(),clearTimeout(r)}),{...e,signal:i.signal}}function d5(e){return e&&typeof e.then=="function"}function f4(e){return d5(e)?e:Promise.resolve(e)}function $ve(e,t=-1){let i,r,s,n,o=null;const a=(...l)=>{if(i){r=l,n&&n.reject(Br()),n=Gp();const p=n.promise;if(o){const y=o;o=null,y.abort()}return p}if(s=n||Gp(),n=null,t>0){const p=new AbortController;i=f4(e(...l,p.signal));const y=i;hj(t).then(()=>{i===y&&(n?p.abort():o=p)})}else i=1,i=f4(e(...l));const c=()=>{const p=r;r=s=i=o=null,p!=null&&a(...p)},f=i,d=s;return f.then(c,c),f.then(d.resolve,d.reject),d.promise};return a}function Gp(){let e,t;const i=new Promise((s,n)=>{e=s,t=n}),r=s=>{e(s)};return r.resolve=s=>e(s),r.reject=s=>t(s),r.timeout=(s,n)=>aj.setTimeout(()=>r.reject(n),s),r.promise=i,r}async function Mve(e){await Promise.resolve(),Bp(e)}function Ove(e){return e}function Cve(e){return 1e3*e}function Ive(e){return e}function Pve(e){return .001*e}let fj=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},dj=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},I2=0;const sd={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},P2=["prepare","preRender","render","postRender","update","finish"],N2=[],Jc=new l5;let pj=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,p5()}};function mj(){Fc!=null&&(cancelAnimationFrame(Fc),Fc=requestAnimationFrame(iS))}function p5(){Fc==null&&(I2=performance.now(),Fc=requestAnimationFrame(iS))}const jg={frameTasks:Jc,willDispatch:!1,clearFrameTasks:yj,dispatch:g5,executeFrameTasks:gj,reschedule:mj};function m5(e){const t=new dj(e);return N2.push(t),jg.willDispatch||(jg.willDispatch=!0,o5(g5)),t}function Rve(e){const t=new fj(e);return Jc.push(t),p5(),new pj(t)}let Fc=null;function yj(e=!1){Jc.forAll(t=>{t.removed=!0}),e&&y5()}function iS(){const e=performance.now();Fc=null,Fc=Jc.some(i=>!i.paused&&!i.removed)?requestAnimationFrame(iS):null,jg.executeFrameTasks(e)}function gj(e){const t=e-I2;I2=e;const i=1e3/60,r=Math.max(0,t-i);sd.time=e,sd.frameDuration=i-r;for(let s=0;s<P2.length;s++){const n=performance.now(),o=P2[s];Jc.forAll(a=>{a.paused||a.removed||(s===0&&a.ticks++,a.phases[o]&&(sd.elapsedFrameTime=performance.now()-e,sd.deltaTime=a.ticks===0?0:t,a.phases[o]?.call(a,sd)))}),_j[s].push(performance.now()-n)}y5(),wj.push(performance.now()-e)}const D0=new l5;function y5(){Jc.forAll(e=>{e.removed&&D0.push(e)}),Jc.removeUnorderedMany(D0.data,D0.length),D0.clear()}function g5(){for(;N2.length;){const e=N2.shift();e.isActive&&e.callback()}jg.willDispatch=!1}function vj(e=1,t){const i=Gp(),r=()=>{da(t)?i.reject(Br()):e===0?i():(--e,o5(()=>r()))};return r(),i.promise}function bj(e){return vj(1,e)}async function Dve(e){await bj(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))}const _j=P2.map(e=>new a5(e)),wj=new a5("total");function xj(e,t){for(const i of e.values())if(t(i))return!0;return!1}function d4(e,t){if(!t)return e;for(const i of t)i!=null&&e.add(i);return e}function Fve(e,t){return t!=null&&e.add(t),e}function rS(e,t){const i=new Set;return d4(i,e),d4(i,t),i}function Ej(e,t){const i=new Set;for(const r of t)e.has(r)&&i.add(r);return i}function Uve(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const i of e)if(!t.has(i))return!1;return!0}function jve(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function Sj(e,t){const i=new Set(e);for(const r of t)i.delete(r);return i}function Vve(e,t){return Sj(rS(e,t),Ej(e,t))}let Aj=0;function Dy(){return++Aj}let sS=class extends A1{constructor(t){super(new Tj(t)),this._observer&&p4.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&p4.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},Tj=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=$j}};const p4=new FinalizationRegistry(e=>{e.deref()?.destroy()});function $j(){}let Ph=!1;const Vg=[];function v5(e,t){let i=new sS(n),r=null,s=!1;function n(){if(!i||s)return;if(Ph)return void _5(n);const a=r;i.clear(),Ph=!0,s=!0,r=El(i,e),s=!1,Ph=!1,t(r,a),w5()}function o(){i&&(i.destroy(),i=null,r=null)}return s=!0,r=El(i,e),s=!1,Ti(o)}function b5(e,t){let i=new sS(s),r=null;function s(){t(r,o)}function n(){i&&(i.destroy(),i=null),r=null}function o(){return i?(i.clear(),r=El(i,e),r):null}return o(),Ti(n)}function Mj(e,t){let i=!1,r=!1;const s=!!t?.sync;let n=new sS(()=>{i||r||(r=!0,s?o():queueMicrotask(o))});function o(){r=!1,n&&!i&&(Ph?_5(o):(n.clear(),Ph=!0,i=!0,El(n,e),i=!1,Ph=!1,w5()))}function a(){n&&(n.destroy(),n=null)}return i=!0,El(n,e),i=!1,Ti(a)}function _5(e){Vg.includes(e)||Vg.unshift(e)}function w5(){for(;Vg.length;)Vg.pop()()}var lp;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(lp||(lp={}));let zp=class{constructor(){this.uid=Dy(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,i,r,s,n){return this.pool.acquire(lp.Untracked,t,i,r,s,n,HE)}static acquireTracked(t,i,r,s){return this.pool.acquire(lp.Tracked,t,i,r,null,null,s)}notify(t,i){this.type===lp.Untracked?this.callback.call(this.target,t,i,this.path,this.target):this.callback.call(null,t,i,void 0,void 0)}acquire(t,i,r,s,n,o,a){this.uid=Dy(),this.removed=!1,this.type=t,this.oldValue=i,this.callback=r,this.getValue=s,this.target=n,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Dy(),this.removed=!0}};zp.pool=new rj(zp);const Fy=new Ja,ca=new Set;let Bg;function Gg(e){ca.delete(e),ca.add(e),Bg||(Bg=m5(Ij))}function Oj(e){if(e.removed)return;const t=e.oldValue,i=e.getValue();e.equals(t,i)||(e.oldValue=i,e.notify(i,t))}function Cj(e){for(const t of ca.values())t.target===e&&(t.removed=!0)}function Ij(){let e=10;for(;Bg&&e--;){Bg=null;const t=Pj(),i=Fy.acquire();for(const r of t){const s=r.uid;Oj(r),s===r.uid&&r.removed&&i.push(r)}for(const r of ca)r.removed&&(i.push(r),ca.delete(r));for(const r of i)zp.pool.release(r);Fy.release(i),Fy.release(t),L2.forEach(r=>r())}}function Pj(){const e=Fy.acquire();e.length=ca.size;let t=0;for(const i of ca)e[t]=i,++t;return ca.clear(),e}const L2=new Set;function qve(e){return L2.add(e),Ti(()=>L2.delete(e))}function Nj(e,t,i){let r=YI(e,t,i,(s,n,o)=>{let a,l,c=b5(()=>jm(s,n),(f,d)=>{s.__accessor__?.lifecycle===Qr.DESTROYED||a&&a.uid!==l?r.remove():(a||(a=zp.acquireUntracked(f,o,d,s,n),l=a.uid),Gg(a))});return Ti(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,Gg(a)),a=null),r=c=null})});return r}function Lj(e,t,i){const r=YI(e,t,i,(s,n,o)=>{let a=!1;return v5(()=>jm(s,n),(l,c)=>{s.__accessor__.lifecycle!==Qr.DESTROYED?a||(a=!0,HE(c,l)||o.call(s,l,c,n,s),a=!1):r.remove()})});return r}function kj(e,t,i,r=!1){return e.__accessor__&&e.__accessor__.lifecycle!==Qr.DESTROYED?r?Lj(e,t,i):Nj(e,t,i):Ti()}function Rj(e,t,i){let r,s,n=b5(e,(o,a)=>{r&&r.uid!==s?n.remove():(r||(r=zp.acquireTracked(o,t,a,i),s=r.uid),Gg(r))});return Ti(()=>{n.remove(),r&&(r.uid!==s||r.removed||(r.removed=!0,Gg(r)),r=null),n=null})}function Dj(e,t,i){let r=!1;return v5(e,(s,n)=>{r||(r=!0,i(n,s)||t(s,n),r=!1)})}function Fj(e,t,i=!1,r=oU){return i?Dj(e,t,r):Rj(e,t,r)}function Hve(e){return xj(ca,t=>t.oldValue===e)}function A(e={}){return(t,i)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${i}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(t,i),s=S1(t,i);r&&(r.get||r.set?(s.get=r.get||s.get,s.set=r.set||s.set):"value"in r&&("value"in e&&Rt.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${t.constructor.name}" already defined in the metadata`,e),s.value=e.value=r.value)),e.readOnly!=null&&(s.readOnly=e.readOnly);const n=e.aliasOf;if(n){const l=typeof n=="string"?n:n.source,c=typeof n=="string"?null:n.overridable===!0;let f;s.dependsOn=[l],s.get=function(){let d=Zh(this,l);if(typeof d=="function"){f||(f=l.split(".").slice(0,-1).join("."));const p=Zh(this,f);p&&(d=d.bind(p))}return d},s.readOnly||(s.set=c?function(d){this._override(i,d)}:function(d){Ug(this,l,d)})}const o=e.type,a=e.types;if(!s.cast){let l;o?l=Uj(o):a&&(l=Array.isArray(a)?jp(Jh(a[0])):Jh(a)),e.cast=jj(e.cast,l)}DU(s,e),e.range&&(s.cast=vU(s.cast,e.range))}}function x5(e,t,i){const r=S1(e,i);r.json||(r.json={});let s=r.json;return t!==void 0&&(s.origins||(s.origins={}),s.origins[t]||(s.origins[t]={}),s=s.origins[t]),s}function Uj(e){let t=0,i=e;if(AU(e))return GI(e);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],t++;const r=i;if(BI(r))return t===0?A2(r):Rg(A2(r),t);if(t===1)return EU(r);if(t>1)return SU(r,t);const s=e;return s.from?s.from:$n(s)}function jj(e,t){if(e||t)return e?t?(i,r)=>t(e(i,r),r):e:t}function Vj(e){if(e.json&&e.json.origins){const t=e.json.origins,i={"web-document":["web-scene","web-map"]};for(const r in i)if(t[r]){const s=t[r];i[r].forEach(n=>{t[n]=s}),delete t[r]}}}let qp=class extends s5{constructor(t,i,r){super(t,i,r)}};qp.prototype.type="warning";function E5(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const k2=()=>Rt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function m4(e,t,i){e&&(!i&&!t.read||t.read?.reader||t.read?.enabled===!1||zj(e)&&kf("read.reader",S5(e),t))}function S5(e){const t=e.ndimArray??0;if(t>1)return Gj(e);if(t===1)return y4(e);if("type"in e&&T5(e.type)){const i=e.type.prototype?.itemType?.Type,r=y4(typeof i=="function"?{type:i}:{types:i});return(s,n,o)=>{const a=r(s,n,o);return a&&new e.type(a)}}return nS(e)}function nS(e){return"type"in e?Bj(e.type):qj(e.types)}function Bj(e){return e.prototype.read?(t,i,r)=>{if(t==null)return t;const s=typeof t;if(s!=="object")return void k2().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${s}'`);const n=new e;return n.read(t,r),n}:e.fromJSON}function A5(e,t,i,r){return r!==0&&Array.isArray(t)?t.map(s=>A5(e,s,i,r-1)):e(t,void 0,i)}function Gj(e){const t=nS(e),i=A5.bind(null,t),r=e.ndimArray??0;return(s,n,o)=>{if(s==null)return s;s=i(s,o,r);let a=r,l=s;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)s=[s];return s}}function y4(e){const t=nS(e);return(i,r,s)=>{if(i==null)return i;if(Array.isArray(i)){const o=[];for(const a of i){const l=t(a,void 0,s);l!==void 0&&o.push(l)}return o}const n=t(i,void 0,s);return n!==void 0?[n]:void 0}}function T5(e){if(!E5(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?oS(t.Type):$5(t.Type))}function zj(e){return"types"in e?$5(e.types):oS(e.type)}function oS(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||T5(e))}function $5(e){for(const t in e.typeMap)if(!oS(e.typeMap[t]))return!1;return!0}function qj(e){let t=null;const i=e.errorContext??"type",r=e.validate;return(s,n,o)=>{if(s==null)return s;const a=typeof s;if(a!=="object")return void k2().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=Hj(e));const l=e.key;if(typeof l!="string")return;const c=s[l],f=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!f){const p=`Type '${c||"unknown"}' is not supported`;return o?.messages&&s&&o.messages.push(new qp(`${i}:unsupported`,p,{definition:s,context:o})),void k2().error(p)}const d=new f;return d.read(s,o),r?r(d):d}}function Hj(e){const t={};for(const i in e.typeMap){const r=e.typeMap[i],s=Vm(r.prototype);if(typeof e.key=="function")continue;const n=s[e.key];if(!n)continue;if(n.json?.type&&Array.isArray(n.json.type)&&n.json.type.length===1&&typeof n.json.type[0]=="string"){t[n.json.type[0]]=r;continue}const o=n.json?.write;if(!o?.writer){t[i]=r;continue}const a=o.target,l=typeof a=="string"?a:e.key,c={};o.writer(i,c,l),c[l]&&(t[c[l]]=r)}return t}function Wj(e){if(e.json||(e.json={}),v4(e.json),b4(e.json),g4(e.json),e.json.origins)for(const t in e.json.origins)v4(e.json.origins[t]),b4(e.json.origins[t]),g4(e.json.origins[t]);return!0}function g4(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function v4(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function b4(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function _4(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const i=e?.ndimArray??0;e&&(i===1||"type"in e&&E5(e.type))?t.write.writer=Kj:i>1?t.write.writer=Xj(i):t.types?Array.isArray(t.types)?t.write.writer=Jj(t.types[0]):t.write.writer=Yj(t.types):t.write.writer=Hp}function Yj(e){return(t,i,r,s)=>t?M5(t,e,s)?Hp(t,i,r,s):void 0:Hp(t,i,r,s)}function M5(e,t,i){for(const r in t.typeMap)if(e instanceof t.typeMap[r])return!0;if(i?.messages){const r=t.errorContext??"type",s=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new ft(`${r}:unsupported`,s,{definition:e,context:i})),Rt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function Jj(e){return(t,i,r,s)=>!t||!Array.isArray(t)?Hp(t,i,r,s):Hp(t.filter(n=>M5(n,e,s)),i,r,s)}function Hp(e,t,i,r){kf(i,zg(e,r),t)}function zg(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?Zj(e):e}function Zj(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function Kj(e,t,i,r){let s;e===null?s=null:e&&typeof e.map=="function"?(s=e.map(n=>zg(n,r)),typeof s.toArray=="function"&&(s=s.toArray())):s=[zg(e,r)],kf(i,s,t)}function O5(e,t,i){return i!==0&&Array.isArray(e)?e.map(r=>O5(r,t,i-1)):zg(e,t)}function Xj(e){return(t,i,r,s)=>{let n;if(t===null)n=null;else{n=O5(t,s,e);let o=e,a=n;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)n=[n]}kf(r,n,i)}}function Qj(e,t){return aS(e,"any",t?.origin)}function R2(e,t){return aS(e,"read",t?.origin)}function C5(e,t){return aS(e,"write",t?.origin)}function aS(e,t,i){let r=e?.json;if(r?.origins&&i){let s;s=i==="link-chart"?r.origins[i]&&(t==="any"||t in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],s&&(t==="any"||t in s)&&(r=s)}return r}function eV(e){const t=tV(e);if(e.json.origins)for(const i in e.json.origins){const r=e.json.origins[i],s=r.types?iV(r):t;m4(s,r,!1),r.types&&!r.write&&e.json.write?.enabled&&(r.write={...e.json.write}),_4(s,r)}m4(t,e.json,!0),_4(t,e.json)}function tV(e){return e.json.types?D2(e.json):e.type?I5(e):D2(e)}function iV(e){return e.type?I5(e):D2(e)}function I5(e){if(!e.type)return;let t=0,i=e.type;for(;Array.isArray(i)&&!BI(i);)i=i[0],t++;return{type:i,ndimArray:t}}function D2(e){if(!e.types)return;let t=0,i=e.types;for(;Array.isArray(i);)i=i[0],t++;return{types:i,ndimArray:t}}function rV(e){Wj(e)&&(Vj(e),eV(e))}const t_=new Set,i_=new Set;function ie(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,nV(t);const i=[],r=[];let s=t.prototype;for(;s;)s.hasOwnProperty("initialize")&&!t_.has(s.initialize)&&(t_.add(s.initialize),i.push(s.initialize)),s.hasOwnProperty("destroy")&&!i_.has(s.destroy)&&(i_.add(s.destroy),r.push(s.destroy)),s=Object.getPrototypeOf(s);t_.clear(),i_.clear();const n=class extends t{constructor(...a){if(super(...a),this.constructor===n&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=i.length-1;l>=0;l--)i[l].call(this)}}),r.length){let l=!1;const c=this[qI];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,c.call(this);for(let f=0;f<r.length;f++)r[f].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};n.__accessorMetadata__=Vm(t.prototype),n.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(n,"name",{value:o,configurable:!0}),n}}function sV(e,t){return t.get==null?function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r===void 0)return;i.mutable&&Ye(r);const s=i.store;return s.has(e)?s.get(e):r.metadata.value}:function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r!==void 0)return r.getComputed(i)}}function nV(e){const t=e.prototype,i=Vm(t),r={};for(const s of Object.getOwnPropertyNames(i)){const n=i[s];rV(n),r[s]={enumerable:!0,configurable:!0,get:sV(s,n),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&n.readOnly?w4("read-only",s):a.lifecycle===Qr.CONSTRUCTED&&n.constructOnly?w4("construct-only",s):void a.set(s,o)}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,r)}const w4=(e,t)=>{Rt.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var P5,N5;function oV(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const La=Symbol("Accessor-Handles"),F2=Symbol("Accessor-Initialized");let Hi=class Uy{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:r,constructor:s}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const n=this;class o extends n{constructor(...l){super(...l),this.inherited=null,s&&s.apply(this,l)}}Vm(o.prototype);for(const a in t){const l=t[a];o.prototype[a]=typeof l=="function"?function(...c){const f=this.inherited;let d;this.inherited=function(...p){if(n.prototype[a])return n.prototype[a].apply(this,p)};try{d=l.apply(this,c)}catch(p){throw this.inherited=f,p}return this.inherited=f,d}:t[a]}for(const a in i){const l=oV(i[a]);A(l)(o.prototype,a)}return ie(r)(o)}static freeze(t){return t instanceof Uy?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof Uy?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[P5]=null,this[N5]=!1,this.constructor===Uy)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new YU(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),t.length>0&&(i.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const t=this.__accessor__,i=t.ctorArgs;t.initialize(),i&&(this.set(i),t.ctorArgs=null),t.constructed(),this.initialize(),this[F2]=!0}initialize(){}[qI](){this[La]=Ny(this[La])}destroy(){this.destroyed||(Cj(this),this.__accessor__.destroy(),tj()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[F2]}get destroyed(){return this.__accessor__?.lifecycle===Qr.DESTROYED||!1}commitProperty(t){Zh(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,i){return Ug(this,t,i),this}watch(t,i,r){return OU(Rt.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-core-reactiveUtils.html#watch",warnOnce:!0}),kj(this,t,i,r)}addHandles(t,i){if(this.destroyed){const r=Array.isArray(t)?t:[t];for(const s of r)s.remove();return}(this[La]??=new KE).add(t,i)}removeHandles(t){this[La]?.remove(t)}removeAllHandles(){this[La]?.removeAll()}removeHandlesReference(t){this[La]?.removeReference(t)}hasHandles(t){return this[La]?.has(t)===!0}_override(t,i){i===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,i){i==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,i){return this.__accessor__.internalSet(t,i),this}};P5=La,N5=F2;function Yve(e,t,i){return tS(e.map((r,s)=>t.apply(i,[r,s])))}async function Jve(e,t,i){return(await tS(e.map((r,s)=>t.apply(i,[r,s])))).map(r=>r.value)}function lS(e){return{ok:!0,value:e}}function cS(e){return{ok:!1,error:e}}function aV(e){return e!=null&&e.ok===!0?e.value:null}function lV(e){return e!=null&&e.ok===!1?e.error:null}async function Zve(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return lS(await e)}catch(t){return cS(t)}}async function Kve(e){try{return lS(await e)}catch(t){return f5(t),cS(t)}}function cV(e,t){return new ka(e,t)}let ka=class extends Hi{get value(){return aV(this._result)}get error(){return lV(this._result)}get finished(){return this._result!=null}constructor(t,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=zI(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=t(r),this.promise.then(s=>{this._result=lS(s),this._cleanup()},s=>{this._result=cS(s),this._cleanup()}),this._abortHandle=Yc(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Rf(this._abortHandle),this._abortController=null}};g([A()],ka.prototype,"value",null),g([A()],ka.prototype,"error",null),g([A()],ka.prototype,"finished",null),g([A()],ka.prototype,"promise",void 0),g([A()],ka.prototype,"_result",void 0),ka=g([ie("esri.core.asyncUtils.ReactiveTask")],ka);let U2=class L5{constructor(){this._emitter=new L5.EventEmitter(this)}emit(t,i){return this._emitter.emit(t,i)}on(t,i){return this._emitter.on(t,i)}once(t,i){return this._emitter.once(t,i)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(s=null){this._target=s,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(s,n){let o=this._listenersMap?.get(s);if(!o)return!1;const a=this._target||this;let l=!1;for(const c of o.slice()){const f="deref"in c?c.deref():c;f?f?.call(a,n):l=!0}return l&&(o=o.filter(c=>!("deref"in c)||c.deref()!=null),this._listenersMap.set(s,o)),o.length>0}on(s,n){if(Array.isArray(s)){const a=s.map(l=>this.on(l,n));return XE(a)}if(s.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(s)||[];return o.push(n),this._listenersMap.set(s,o),Ti(()=>{const a=this._listenersMap?.get(s),l=a?.indexOf(n)??-1;l>=0&&a.splice(l,1)})}once(s,n){const o=this.on(s,a=>{o.remove(),("deref"in n?n.deref():n)?.call(null,a)});return o}hasEventListener(s){const n=this._listenersMap?.get(s);return n!=null&&n.length>0}}e.EventEmitter=t,e.EventedMixin=r=>{let s=class extends r{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(n,o){return this._emitter.emit(n,o)}on(n,o){return this._emitter.on(n,o)}once(n,o){return this._emitter.once(n,o)}hasEventListener(n){return this._emitter.hasEventListener(n)}};return s=g([ie("esri.core.Evented")],s),s};let i=class extends Hi{constructor(){super(...arguments),this._emitter=new U2.EventEmitter(this)}destroy(){this._emitter.clear()}emit(r,s){return this._emitter.emit(r,s)}on(r,s){return this._emitter.on(r,s)}once(r,s){return this._emitter.once(r,s)}hasEventListener(r){return this._emitter.hasEventListener(r)}};i=g([ie("esri.core.Evented.EventedAccessor")],i),e.EventedAccessor=i})(U2);var pt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(pt||(pt={}));function uV(e){return(t,i)=>{t[i]=e}}let hV=class extends KI{notify(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onInvalidated(),r.onCommitted()}}};var ea;let fV=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},dV=class{constructor(t,i,r,s,n){this.target=t,this.added=i,this.removed=r,this.start=s,this.deleteCount=n}};const Os=new Bm(fV,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function x4(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function r_(e){return e?e instanceof Zo?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function s_(e){if(e?.length)return e[0]}function pV(e,t,i,r){const s=Math.min(e.length-i,t.length-r);let n=0;for(;n<s&&e[i+n]===t[r+n];)n++;return n}function k5(e,t,i,r){t&&t.forEach((s,n,o)=>{e.push(s),k5(e,i.call(r,s,n,o),i,r)})}const Ea=new Set,Sa=new Set,Aa=new Set,n_=new Map;let mV=0,Zo=ea=class extends U2.EventedAccessor{static isCollection(e){return e!=null&&e instanceof ea}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new hV,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:mV++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof ea?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Ye(this._observable),this._items}set items(e){this._emitBeforeChanges(pt.ADD)||(this._splice(0,this.length,r_(e)),this._emitAfterChanges(pt.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return Ti();if(e==="change"){const i=this._chgListeners,r={removed:!1,callback:t};return i.push(r),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),Ti(()=>{r.removed=!0,i.splice(i.indexOf(r),1)})}return this._emitter.on(e,t)}once(e,t){const i="deref"in t?()=>t.deref():()=>t,r=this.on(e,s=>{i()?.call(null,s),r.remove()});return r}add(e,t){if(Ye(this._observable),this._emitBeforeChanges(pt.ADD))return this;const i=this.getNextIndex(t??null);return this._splice(i,0,[e]),this._emitAfterChanges(pt.ADD),this}addMany(e,t=this._items.length){if(Ye(this._observable),!e?.length)return this;if(this._emitBeforeChanges(pt.ADD))return this;const i=this.getNextIndex(t);return this._splice(i,0,r_(e)),this._emitAfterChanges(pt.ADD),this}at(e){if(Ye(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(pt.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Ye(this._observable),this._createNewInstance({items:this._items.map(ge)})}concat(...e){Ye(this._observable);const t=e.map(r_);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const i=this._splice(0,this.length),r=i.length;for(let s=0;s<r;s++)e.call(t,i[s],s,i);this._emitAfterChanges(pt.REMOVE)}destroyAll(){this.drain(x4)}destroyMany(e){const t=this.removeMany(e);return t.forEach(x4),t}every(e,t){return Ye(this._observable),this._items.every(e,t)}filter(e,t){Ye(this._observable);const i=arguments.length===2?this._items.filter(e,t):this._items.filter(e);return this._createNewInstance({items:i})}find(e,t){return Ye(this._observable),this._items.find(e,t)}findIndex(e,t){return Ye(this._observable),this._items.findIndex(e,t)}flatten(e,t){Ye(this._observable);const i=[];return k5(i,this,e,t),new ea(i)}forEach(e,t){return Ye(this._observable),this._items.forEach(e,t)}getItemAt(e){return Ye(this._observable),this._items[e]}getNextIndex(e){Ye(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Ye(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Ye(this._observable),this._items.indexOf(e,t)}join(e=","){return Ye(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Ye(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Ye(this._observable);const i=this._items.map(e,t);return new ea({items:i})}reorder(e,t=this.length-1){Ye(this._observable);const i=this.indexOf(e);if(i!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(pt.MOVE))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(pt.MOVE)}return e}}pop(){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const e=s_(this._splice(this.length-1,1));return this._emitAfterChanges(pt.REMOVE),e}push(...e){return Ye(this._observable),this._emitBeforeChanges(pt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(pt.ADD)),this.length}reduce(e,t){Ye(this._observable);const i=this._items;return arguments.length===2?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){Ye(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return Ye(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Ye(this._observable),e<0||e>=this.length||this._emitBeforeChanges(pt.REMOVE))return;const t=s_(this._splice(e,1));return this._emitAfterChanges(pt.REMOVE),t}removeMany(e){if(Ye(this._observable),!e?.length||this._emitBeforeChanges(pt.REMOVE))return[];const t=e instanceof ea?e.toArray():e,i=this._items,r=[],s=t.length;for(let n=0;n<s;n++){const o=t[n],a=i.indexOf(o);if(a>-1){const l=1+pV(t,i,n+1,a+1),c=this._splice(a,l);c&&c.length>0&&r.push.apply(r,c),n+=l-1}}return this._emitAfterChanges(pt.REMOVE),r}reverse(){if(Ye(this._observable),this._emitBeforeChanges(pt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(pt.MOVE),this}shift(){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const e=s_(this._splice(0,1));return this._emitAfterChanges(pt.REMOVE),e}slice(e=0,t=this.length){return Ye(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Ye(this._observable),this._items.some(e,t)}sort(e){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.MOVE)||!this._requiresSort(e))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(pt.MOVE),this}_requiresSort(e=(t,i)=>t===i?0:t<i?-1:1){const t=this.length-1;for(let i=0;i<t;i++)if(e(this.items[i],this.items[i+1])>0)return!0;return!1}splice(e,t,...i){Ye(this._observable);const r=(t?pt.REMOVE:0)|(i.length?pt.ADD:0);if(this._emitBeforeChanges(r))return[];const s=this._splice(e,t,i)||[];return this._emitAfterChanges(r),s}toArray(){return Ye(this._observable),this._items.slice()}toJSON(){return Ye(this._observable),this.toArray()}toLocaleString(){return Ye(this._observable),this._items.toLocaleString()}toString(){return Ye(this._observable),this._items.toString()}unshift(...e){return Ye(this._observable),!e.length||this._emitBeforeChanges(pt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(pt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){const r=this._items,s=this.itemType;let n,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=m5(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(o=r.splice(e,t),this.hasEventListener("before-remove")){const a=Os.acquire();a.target=this,a.cancellable=!0;for(let l=0,c=o.length;l<c;l++)n=o[l],a.reset(n),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),r.splice(e,0,n),e+=1,l-=1,c-=1);Os.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=Os.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let c=0;c<l;c++)a.reset(o[c]),this.emit("after-remove",a);Os.release(a)}}if(i?.length){if(s){const f=[];for(const d of i){const p=s.ensureType(d);p==null&&d!=null||f.push(p)}i=f}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=e===this.length;if(a||l){const f=Os.acquire();f.target=this,f.cancellable=!0;const d=Os.acquire();d.target=this,d.cancellable=!1;for(const p of i)a?(f.reset(p),this.emit("before-add",f),f.defaultPrevented||(c?r.push(p):r.splice(e++,0,p),this._set("length",r.length),l&&(d.reset(p),this.emit("after-add",d)))):(c?r.push(p):r.splice(e++,0,p),this._set("length",r.length),d.reset(p),this.emit("after-add",d));Os.release(d),Os.release(f)}else{if(c)for(const f of i)r.push(f);else r.splice(e,0,...i);this._set("length",r.length)}}if((i?.length||o?.length)&&this._notifyChangeEvent(i,o),this.hasEventListener("after-splice")){const a=new dV(this,i,o,e,t);this.emit("after-splice",a)}return o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=Os.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,Os.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Os.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Os.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const i=t.changes;Ea.clear(),Sa.clear(),Aa.clear();for(const{added:l,removed:c}of i){if(l)if(Aa.size===0&&Sa.size===0)for(const f of l)Ea.add(f);else for(const f of l)Sa.has(f)?(Aa.add(f),Sa.delete(f)):Aa.has(f)||Ea.add(f);if(c)if(Aa.size===0&&Ea.size===0)for(const f of c)Sa.add(f);else for(const f of c)Ea.has(f)?Ea.delete(f):(Aa.delete(f),Sa.add(f))}const r=Ja.acquire();Ea.forEach(l=>{r.push(l)});const s=Ja.acquire();Sa.forEach(l=>{s.push(l)});const n=this._items,o=t.items,a=Ja.acquire();if(Aa.forEach(l=>{o.indexOf(l)!==n.indexOf(l)&&a.push(l)}),t.listeners&&(r.length||s.length||a.length)){const l={target:this,added:r,removed:s,moved:a},c=t.listeners.length;for(let f=0;f<c;f++){const d=t.listeners[f];d.removed||d.callback.call(this,l)}}Ja.release(r),Ja.release(s),Ja.release(a)}Ea.clear(),Sa.clear(),Aa.clear()}};Zo.ofType=e=>{if(!e)return ea;if(n_.has(e))return n_.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const s=e.typeMap[r].prototype.declaredClass;t?t+=` | ${s}`:t=s}let i=class extends ea{};return g([uV({Type:e,ensureType:typeof e=="function"?$n(e):Jh(e)})],i.prototype,"itemType",void 0),i=g([ie(`esri.core.Collection<${t}>`)],i),n_.set(e,i),i},g([A()],Zo.prototype,"_updating",void 0),g([A()],Zo.prototype,"length",void 0),g([A()],Zo.prototype,"items",null),g([A({readOnly:!0})],Zo.prototype,"updating",null),Zo=ea=g([ie("esri.core.Collection")],Zo);const mt=Zo;function ar(e,t,i={}){return uS(e,t,i,D5)}function j2(e,t,i={}){return uS(e,t,i,F5)}function uS(e,t,i={},r){let s=null;const n=i.once?(o,a)=>{r(o)&&(Rf(s),t(o,a))}:(o,a)=>{r(o)&&t(o,a)};if(s=Fj(e,n,i.sync,i.equals),i.initial){const o=e();n(o,o)}return s}function hS(e,t,i,r={}){let s=null,n=null,o=null;function a(){s&&n&&(n.remove(),r.onListenerRemove?.(s),s=null,n=null)}function l(f){r.once&&r.once&&Rf(o),i(f)}const c=ar(e,(f,d)=>{a(),eS(f)&&(s=f,n=u5(f,t,l),r.onListenerAdd?.(f))},{sync:r.sync,initial:!0});return o=Ti(()=>{c.remove(),a()}),o}function yV(e,t){return R5(e,null,t)}function gV(e,t){return R5(e,F5,t)}function R5(e,t,i){if(da(i))return Promise.reject(Br());const r=e();if(t?.(r))return Promise.resolve(r);let s=null;function n(){s=Rf(s)}return new Promise((o,a)=>{s=XE([Yc(i,()=>{n(),a(Br())}),uS(e,l=>{n(),o(l)},{sync:!1,once:!0},t??D5)])})}function D5(e){return!0}function F5(e){return!!e}function vV(e,t,i={}){let r=!1;const s=ar(e,(n,o)=>{r||t(n,o)},i);return{remove(){s.remove()},pause(){r=!0},resume(){r=!1}}}function U5(e,t){const i=new mt,r=hS(e,"after-splice",({added:s,start:n,deleteCount:o})=>{const a=i.splice(n,o);for(const l of a)l.remove();if(s?.length){const l=s.map(t);i.addMany(l,n)}},{sync:!0,onListenerRemove:()=>i.drain(s=>s.remove()),onListenerAdd:s=>i.addMany(s.items.map(t))});return i.addHandles(r),i}function bV(e,t){const i=new mt,r=U5(e,a=>cV(async l=>{const c=await t(a,l);if(da(l))throw c.remove(),Br();return c})),s=()=>null,n=async a=>{const l=await a.promise,c=r.indexOf(a);c<0||i.splice(c,1,l)};i.addMany(r.items.map(s));for(const a of r)h4(n(a));const o=r.on("after-splice",({added:a,start:l,deleteCount:c})=>{const f=i.splice(l,c);for(const d of f)d?.remove();if(a?.length){i.addMany(a.map(s),l);for(const d of a)h4(n(d))}});return i.addHandles([LU(r),o]),i}const j5={sync:!0},jy={initial:!0},_V={sync:!0,initial:!0},wV=Object.freeze(Object.defineProperty({__proto__:null,autorun:Mj,initial:jy,mapCollection:U5,mapCollectionAsync:bV,on:hS,once:yV,pausable:vV,sync:j5,syncAndInitial:_V,watch:ar,when:j2,whenOnce:gV},Symbol.toStringTag,{value:"Module"}));let xV=class V5{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new V5;return this._values.forEach((r,s)=>{t&&t.has(s)||i.set(s,ge(r.value),r.origin)}),i}get(t,i){i=this._normalizeOrigin(i);const r=this._values.get(t);return i==null||r?.origin===i?r?.value:void 0}originOf(t){return this._values.get(t)?.origin??ct.USER}keys(t){t=this._normalizeOrigin(t);const i=[...this._values.keys()];return t==null?i:i.filter(r=>this._values.get(r)?.origin===t)}set(t,i,r){if((r=this._normalizeOrigin(r))===ct.DEFAULTS){const s=this._values.get(t);if(s?.origin!=null&&s.origin>r)return}this._values.set(t,new EV(i,r))}delete(t,i){(i=this._normalizeOrigin(i))!=null&&this._values.get(t)?.origin!==i||this._values.delete(t)}has(t,i){return(i=this._normalizeOrigin(i))!=null?this._values.get(t)?.origin===i:this._values.has(t)}forEach(t){this._values.forEach(({value:i},r)=>t(i,r))}_normalizeOrigin(t){if(t!=null)return t===ct.DEFAULTS?t:ct.USER}},EV=class{constructor(t,i){this.value=t,this.origin=i}};function SV(e,t,i){t.keys().forEach(s=>{i.set(s,t.get(s),ct.DEFAULTS)});const r=e.metadata;Object.keys(r).forEach(s=>{e.internalGet(s)&&i.set(s,e.internalGet(s),ct.DEFAULTS)})}function AV(e,t,i){if(!e?.read||e.read.enabled===!1||!e.read.source)return!1;const r=e.read.source;if(typeof r=="string"){if(r===t||r.includes(".")&&r.indexOf(t)===0&&s4(r,i))return!0}else for(const s of r)if(s===t||s.includes(".")&&s.indexOf(t)===0&&s4(s,i))return!0;return!1}function TV(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function $V(e,t,i,r,s){let n=R2(t[i],s);TV(n)&&(e[i]=!0);for(const o of Object.getOwnPropertyNames(t))n=R2(t[o],s),AV(n,i,r)&&(e[o]=!0)}function MV(e,t,i,r){const s=i.metadata,n=Qj(s[t],r),o=n?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(e,t,r):o;a!==void 0&&i.set(t,a)}const B5={origin:"service"};function OV(e,t,i=B5){if(!t||typeof t!="object")return;const r=xl(e),s=r.metadata,n={};for(const o of Object.getOwnPropertyNames(t))$V(n,s,o,t,i);r.setDefaultOrigin(i.origin);for(const o of Object.getOwnPropertyNames(n)){const a=R2(s[o],i).read,l=a?.source;let c;c=l&&typeof l=="string"?jm(t,l):t[o],a?.reader&&(c=a.reader.call(e,c,t,i)),c!==void 0&&r.set(o,c)}if(!i||!i.ignoreDefaults){r.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(s))n[o]||MV(e,o,r,i)}r.setDefaultOrigin("user")}function r1e(e,t,i,r=B5){const s={...r,messages:[]};i(s),s.messages?.forEach(n=>{n.type!=="warning"||e.loaded?r?.messages&&r.messages.push(n):e.loadWarnings.push(n)})}function CV(e,t,i,r,s){const n={};return t.write?.writer?.call(e,r,n,i,s),n}function G5(e,t,i,r,s,n){if(!r?.write)return!1;const o=Zh(e,i);if(!s&&r.write.overridePolicy){const a=r.write.overridePolicy.call(e,o,i,n??void 0);a!==void 0&&(s=a)}if(s||(s=r.write),!s||s.enabled===!1||s.layerContainerTypes&&n?.layerContainerType&&!s.layerContainerTypes.includes(n.layerContainerType))return!1;if((o===null&&!s.allowNull&&!s.writerEnsuresNonNull||o===void 0)&&s.isRequired){const a=new ft("web-document-write:property-required",`Missing value for required property '${i}' on '${e.declaredClass}'`,{propertyName:i,target:e});return a&&n?.messages?n.messages.push(a):a&&!n&&Rt.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!s.allowNull&&!s.writerEnsuresNonNull||!s.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(i)===ct.DEFAULTS)&&IV(e,i,n,r,o)||!s.ignoreOrigin&&n?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(i)<XI(n.origin))}function IV(e,t,i,r,s){const n=r.default;if(n===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(s);if(typeof n=="function"){if(Array.isArray(s)){const o=n.call(e,t,i??void 0);return b1(o,s)}return!1}return n===s}function s1e(e,t,i,r){const s=xl(e),n=s.metadata,o=C5(n[t],r);return!!o&&G5(e,s,t,o,i,r)}function PV(e,t,i){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return Ly(t,e.toJSON(i));const r=xl(e),s=r.metadata;for(const n in s){const o=C5(s[n],i);if(!G5(e,r,n,o,void 0,i))continue;const a=Zh(e,n),l=CV(e,o,o.write&&typeof o.write.target=="string"?o.write.target:n,a,i);Object.keys(l).length>0&&(t=Ly(t,l),i?.resources?.pendingOperations?.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>Ly(t,l,()=>"replace-arrays"))),i?.writtenProperties&&i.writtenProperties.push({target:e,propName:n,oldOrigin:zU(r.store.originOf(n)),newOrigin:i.origin}))}return t}const z5=e=>{let t=class extends e{constructor(...i){super(...i);const r=xl(this),s=r.store,n=new xV;r.store=n,SV(r,s,n)}read(i,r){OV(this,i,r)}write(i,r){return PV(this,i??{},r)}toJSON(i){return this.write({},i)}static fromJSON(i,r){return NV.call(this,i,r)}};return t=g([ie("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function NV(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(e,t),i}let Ad=class extends z5(Hi){};Ad=g([ie("esri.core.JSONSupport")],Ad),function(e){function t(i){return i&&typeof i=="object"&&"toJSON"in i&&typeof i.toJSON=="function"}e.JSONSupportMixin=z5,e.isSerializable=t}(Ad||(Ad={}));const Xe=Ad;function tr(e,t,i){let r,s;return t===void 0||Array.isArray(t)?(s=e,i=t,r=[void 0]):(s=t,r=Array.isArray(e)?e:[e]),(n,o)=>{const a=n.constructor.prototype;r.forEach(l=>{const c=x5(n,l,s);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],i&&(c.read.source=(c.read.source||[]).concat(i))})}}let wo=class{constructor(t,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=LV(t),this.apiValues=E4(this._apiToJSON),this.jsonValues=E4(this._jsonToAPI),this.read=r=>this.fromJSON(r),this.write=(r,s,n)=>{const o=this.toJSON(r);o!==void 0&&kf(n,o,s)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const i=this._apiToJSON[t];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function LV(e){const t={};for(const i in e)t[e[i]]=i;return t}function E4(e){const t=[];for(const i in e)t.push(i);return t.sort(),t}function kn(){return function(e,t){return new wo(e,{ignoreUnknown:!0,...t})}}let fS=class{constructor(t,i,r,s,n,o){this.semiMajorAxis=t,this.flattening=i,this.outerAtmosphereRimWidth=r,this.atmosphereHeight=s,this.scaleHeight=n;const a=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*a,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Mn=new fS(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),Wp=new fS(3396190,1/169.8944472236118,23e4,6e4,.111),$1=new fS(1737400,0,0,0,0),kV=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,RV={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function S4(e){const t=e?.match(kV);if(!t)return null;const[,i,r,s]=t;if(!i)return null;let n=null,o=null,a=null;const{devext:l,qaext:c,www:f}=RV;if(r)if(n=i,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=f);else switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=f);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:n}}function DV(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function q5(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):i.test(e)?e=e.replace(i,"https://devext.arcgis.com"):r.test(e)&&(e=e.replace(r,"https://qaext.arcgis.com")),e}function FV(e){const t=atob(e),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i.buffer}function UV(e){const t=new Uint8Array(e);let i="";for(let r=0;r<t.length;r++)i+=String.fromCharCode(t[r]);return btoa(i)}const jV=()=>Rt.getLogger("esri.core.urlUtils"),Df=Ct.request,A4="esri/config: esriConfig.request.proxyUrl is not set.",H5=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,W5=/^\s*http:/i,VV=/^\s*https:/i,BV=/^\s*file:/i,GV=/:\d+$/,zV=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,qV=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),HV=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let Nh=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(qV);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(HV),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const F0={},WV=new Nh(Ct.applicationUrl);let Er=WV;const YV=JV();let dS=YV;const pS=()=>Er,c1e=()=>dS;function JV(){const e=Er.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${Er.scheme}://${Er.host}${Er.port!=null?`:${Er.port}`:""}`}${t}`}function Co(e){if(!e)return null;const t={path:null,query:null},i=new Nh(e),r=e.indexOf("?");return i.query===null?t.path=e:(t.path=e.slice(0,r),t.query=mS(i.query)),i.fragment&&(t.hash=i.fragment,i.query===null&&(t.path=t.path.slice(0,t.path.length-(i.fragment.length+1)))),t}function mS(e){const t=e.split("&"),i={};for(const r of t){if(!r)continue;const s=r.indexOf("=");let n,o;s<0?(n=decodeURIComponent(r),o=""):(n=decodeURIComponent(r.slice(0,s)),o=decodeURIComponent(r.slice(s+1)));let a=i[n];typeof a=="string"&&(a=i[n]=[a]),Array.isArray(a)?a.push(o):i[n]=o}return i}function Yp(e,t){return e?Object.keys(e).map(i=>{const r=e[i];if(r==null)return"";const s=encodeURIComponent(i)+"=",n=t?.[i];return n?s+encodeURIComponent(n(r)):Array.isArray(r)?r.map(o=>Xe.isSerializable(o)?s+encodeURIComponent(JSON.stringify(o)):s+encodeURIComponent(o)).join("&"):Xe.isSerializable(r)?s+encodeURIComponent(JSON.stringify(r)):s+encodeURIComponent(r)}).filter(i=>i).join("&"):""}function Y5(e=!1){let t,i=Df.proxyUrl;if(typeof e=="string"){t=tB(e);const r=M1(e);r&&(i=r.proxyUrl)}else t=!!e;if(!i)throw jV().warn(A4),new ft("urlUtils:proxy-not-set",A4);return t&&V2()&&(i=_S(i)),Co(i)}function u1e(e,t=!1){const i=M1(e);let r,s;if(i){const n=yS(i.proxyUrl);r=n.path,s=n.query?mS(n.query):null}else if(t){const n=Y5(e);r=n.path,s=n.query}if(r){const n=Co(e);e=r+"?"+n.path;const o=Yp({...s,...n.query});o&&(e=`${e}?${o}`)}return e}const nd={path:"",query:""};function yS(e){const t=e.indexOf("?");return t!==-1?(nd.path=e.slice(0,t),nd.query=e.slice(t+1)):(nd.path=e,nd.query=null),nd}function J5(e){return e=(e=Hg(e=oB(e=yS(e).path),!0)).toLowerCase()}function ZV(e){const t={proxyUrl:e.proxyUrl,urlPrefix:J5(e.urlPrefix)},i=Df.proxyRules,r=t.urlPrefix;let s=i.length;for(let n=0;n<i.length;n++){const o=i[n].urlPrefix;if(r.indexOf(o)===0){if(r.length===o.length)return-1;s=n;break}o.indexOf(r)===0&&(s=n+1)}return i.splice(s,0,t),s}function M1(e){const t=Df.proxyRules,i=J5(e);for(let r=0;r<t.length;r++)if(i.indexOf(t[r].urlPrefix)===0)return t[r]}function h1e(e,t){if(!e||!t)return!1;e=qg(e),t=qg(t);const i=S4(e),r=S4(t);return i!=null&&r!=null?i.portalHostname===r.portalHostname:i==null&&r==null&&Kh(e,t,!0)}function KV(e,t){return e=qg(e),t=qg(t),Hg(e)===Hg(t)}function qg(e){const t=(e=pl(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function T4(e,t=Df.interceptors){const i=r=>r==null||r instanceof RegExp&&r.test(e)||typeof r=="string"&&e.startsWith(r);if(t){for(const r of t)if(Array.isArray(r.urls)){if(r.urls.some(i))return r}else if(i(r.urls))return r}return null}function Kh(e,t,i=!1){if(!e||!t)return!1;const r=G2(e),s=G2(t);return!(!i&&r.scheme!==s.scheme)&&r.host!=null&&s.host!=null&&r.host.toLowerCase()===s.host.toLowerCase()&&r.port===s.port}function gS(e){if(typeof e=="string"){if(!wn(e))return!0;e=G2(e)}if(Kh(e,Er))return!0;const t=Df.trustedServers||[];for(let i=0;i<t.length;i++){const r=XV(t[i]);for(let s=0;s<r.length;s++)if(Kh(e,r[s]))return!0}return!1}function XV(e){return F0[e]||(bS(e)||Il(e)?F0[e]=[new Nh(zm(e))]:F0[e]=[new Nh(`http://${e}`),new Nh(`https://${e}`)]),F0[e]}function zm(e,t=dS,i){return Il(e)?i?.preserveProtocolRelative?e:Er.scheme==="http"&&Er.authority===_s(e).slice(2)?`http:${e}`:`https:${e}`:bS(e)?e:O1(e[0]==="/"?nB(t):t,e)}function Z5(e,t=dS,i){if(e==null||!wn(e))return e;const r=pl(e),s=r.toLowerCase(),n=pl(t).toLowerCase().replace(/\/+$/,""),o=i?pl(i).toLowerCase().replace(/\/+$/,""):null;if(o&&n.indexOf(o)!==0)return e;const a=(d,p,y)=>(y=d.indexOf(p,y))===-1?d.length:y;let l=a(s,"/",s.indexOf("//")+2),c=-1;for(;s.slice(0,l+1)===n.slice(0,l)+"/"&&(c=l+1,l!==s.length);)l=a(s,"/",l+1);if(c===-1||o&&c<o.length)return e;e=r.slice(c);const f=n.slice(c-1).replaceAll(/[^/]+/g,"").length;if(f>0)for(let d=0;d<f;d++)e=`../${e}`;else e=`./${e}`;return e}function pl(e){return e=cB(e=lB(e=aB(e=zm(e=e.trim()))))}function O1(...e){const t=e.filter(sU);if(!t?.length)return;const i=[];if(wn(t[0])){const s=t[0],n=s.indexOf("//");n!==-1&&(i.push(s.slice(0,n+1)),rB(t[0])&&(i[0]+="/"),t[0]=s.slice(n+2))}else t[0][0]==="/"&&i.push("");const r=t.reduce((s,n)=>n?s.concat(n.split("/")):s,[]);for(let s=0;s<r.length;s++){const n=r[s];n===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!n&&s===r.length-1||n&&(n!=="."||i.length===0))&&i.push(n)}return i.join("/")}function _s(e,t=!1){if(e==null||vS(e)||Ff(e))return null;let i=e.indexOf("://");if(i===-1&&Il(e))i=2;else{if(i===-1)return null;i+=3}const r=e.indexOf("/",i);return r!==-1&&(e=e.slice(0,r)),t&&(e=Hg(e,!0)),e}function wn(e){return Il(e)||bS(e)}function vS(e){return e!=null&&e.slice(0,5)==="blob:"}function Ff(e){return e!=null&&e.slice(0,5)==="data:"}function QV(e){const t=Jp(e);return t?.isBase64?FV(t.data):null}function f1e(e){return UV(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const eB=/^data:(.*?)(;base64)?,(.*)$/;function Jp(e){const t=e.match(eB);if(!t)return null;const[,i,r,s]=t;return{mediaType:i,isBase64:!!r,data:s}}function K5(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function d1e(e){return(await fetch(e)).blob()}function p1e(e){const t=QV(e);if(!t)return null;const i=Jp(e);return new Blob([t],{type:i.mediaType})}function Il(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function bS(e){return e!=null&&H5.test(e)}function tB(e){return e!=null&&VV.test(e)||Er.scheme==="https"&&Il(e)}function iB(e){return e!=null&&W5.test(e)||Er.scheme==="http"&&Il(e)}function rB(e){return e!=null&&BV.test(e)}function _S(e){return Il(e)?`https:${e}`:e.replace(W5,"https:")}function sB(){return Er.scheme==="http"}function V2(){return Er.scheme==="https"}function Hg(e,t=!1){return Il(e)?e.slice(2):(e=e.replace(H5,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function nB(e){const t=e.indexOf("//"),i=e.indexOf("/",t+2);return i===-1?e:e.slice(0,i)}function m1e(e){let t=0;if(wn(e)){const r=e.indexOf("//");r!==-1&&(t=r+2)}const i=e.lastIndexOf("/");return i<t?e:e.slice(0,i+1)}function y1e(e,t){if(!e)return"";const i=Co(e).path.replace(/\/+$/,""),r=i.slice(i.lastIndexOf("/")+1);if(!t?.length)return r;const s=new RegExp(`\\.(${t.join("|")})$`,"i");return r.replace(s,"")}function oB(e){return e.endsWith("/")?e:`${e}/`}function X5(e){return e.replace(/\/+$/,"")}function aB(e){if(/^https?:\/\//i.test(e)){const t=yS(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function lB(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function cB(e){const t=Df.httpsDomains;if(!iB(e))return e;const i=e.indexOf("/",7);let r;if(r=i===-1?e:e.slice(0,i),r=r.toLowerCase().slice(7),GV.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return sB()&&r===Er.authority&&!zV.test(e)||(V2()&&r===Er.authority||t&&t.some(s=>r===s||r.endsWith(`.${s}`))||V2()&&!M1(e))&&(e=_S(e)),e}function B2(e,t,i){if(!(t&&i&&e&&wn(e)))return e;const r=e.indexOf("//"),s=e.indexOf("/",r+2),n=e.indexOf(":",r+2),o=Math.min(s<0?e.length:s,n<0?e.length:n);return e.slice(r+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${i}${e.slice(o)}`}function G2(e){return typeof e=="string"?new Nh(zm(e)):(e.scheme||(e.scheme=Er.scheme),e)}function g1e(e){return hB.test(e)}function Q5(e,t){const i=Co(e),r=Object.keys(i.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),i.path}function uB(e,t,i){const r=Co(e),s=r.query||{};return s[t]=String(i),`${r.path}?${Yp(s)}`}function o_(e,t){if(!t)return e;const i=Co(e),r=i.query||{};for(const[n,o]of Object.entries(t))o!=null&&(r[n]=o);const s=Yp(r);return s?`${i.path}?${s}`:i.path}function v1e(e){if(e==null)return null;const t=e.match(e6);return t?t[2]:null}function $4(e){if(e==null)return null;const t=e.match(e6);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function b1e(e){return typeof e=="string"?Jp(e)??{data:e}:new Promise((t,i)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(Jp(r.result)),r.onerror=s=>i(s)})}const e6=/([^.]*)\.([^/]*)$/,hB=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const fB="4.32";let Yt,dB=fB;dB="4.32.10";function _1e(e){Yt=e}function w1e(e){const t=Yt?.findCredential(e);return t?.token?uB(e,"token",t.token):e}re("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),re("host-webworker");function qm(e,t){const i=t?.url?.path;if(e&&i&&(e=zm(e,i,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const r=Z5(e,t.portalItem.itemUrl);r!=null&&pB.test(r)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(r).path)}return(e=z2(e,t?.portal))&&I1.test(e)?i6(e):e}function C1(e,t,i=Zp.YES){if((e=e&&I1.test(e)?r6(e):e)==null)return e;!wn(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let r=zm(e);if(t){const s=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(s){const n=z2(s,t.portal),o=z2(r,t.portal);r=Z5(o,n,n),r!=null&&r!==o&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=t6(r,t?.portal),wn(r)&&(r=pl(r)),t?.resources&&t?.portalItem&&!wn(r)&&!Ff(r)&&i===Zp.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function wS(e,t,i){return qm(e,i)}function Xh(e,t,i,r){const s=C1(e,r);s!==void 0&&(t[i]=s)}const I1=/\/items\/([^/]+)\/resources\/(.*)/,pB=/^\.\/resources\//;function mB(e){return(e?.match(I1)??null)?.[1]??null}function yB(e){const t=e?.match(I1)??null;if(t==null)return null;const i=t[2],r=i.lastIndexOf("/");if(r===-1){const{path:o,extension:a}=$4(i);return{prefix:null,filename:o,extension:a}}const{path:s,extension:n}=$4(i.slice(r+1));return{prefix:i.slice(0,r),filename:s,extension:n}}function t6(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?B2(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function z2(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i=`${t.urlKey}.${t.customBaseUrl}`,r=pS();return Kh(r,`${r.scheme}://${i}`)?B2(e,t.portalHostname,i):B2(e,i,t.portalHostname)}function i6(e){if(!e)return e||null;let t=e;return t&&Yt&&!Yt.findCredential(t)&&(t=q5(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function r6(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&Yt&&!Yt.findCredential(t)&&(t=q5(t)),t}var Zp;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(Zp||(Zp={}));const x1e=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Zp},ensureMainOnlineDomain:t6,fromCDNUrl:r6,fromJSON:qm,itemIdFromResourceUrl:mB,prefixAndFilenameFromResourceUrl:yB,read:wS,toCDNUrl:i6,toJSON:C1,write:Xh},Symbol.toStringTag,{value:"Module"})),s6={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},n6=Object.values(s6),o6=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${n6.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),gB=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${n6.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),vB=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function E1e(e){return o6.test(e)}function a6(e){if(e==null)return null;const t=Co(e),i=t?.path.match(o6)||t?.path.match(gB);if(!i)return null;const[,r,s,n,o]=i,a=s.indexOf("/");return{title:l6(a!==-1?s.slice(a+1):s),serverType:s6[n.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:r}}}function bB(e){const t=Co(e).path.match(vB);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function l6(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function S1e(e,t){const i=[];if(e){const r=a6(e);r!=null&&r.title&&i.push(r.title)}if(t){const r=l6(t);i.push(r)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function M4(e){let t=_s(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function A1e(e,t){return e&&X5(Q5(e,t))}function T1e(e){let{url:t}=e;if(!t)return{url:t};t=Q5(t,e.logger);const i=Co(t),r=a6(i.path);let s;if(r!=null)r.sublayer!=null&&e.layer.layerId==null&&(s=r.sublayer),t=r.url.path;else if(e.nonStandardUrlAllowed){const n=bB(i.path);n!=null&&(t=n.serviceUrl,s=n.sublayerId)}return{url:X5(t),layerId:s}}function $1e(e,t,i,r,s){Xh(t,r,"url",s),r.url&&e.layerId!=null&&(r.url=O1(r.url,i,e.layerId.toString()))}function M1e(e){if(!e)return!1;const t=e.toLowerCase(),i=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),s=t.includes("/imageserver/wmsserver"),n=t.includes("/wmsserver");return i&&(r||s||n)}const _B=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function wB(e){const t=_s(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!_B.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function c6(e,t){return!(!Ct.apiKey||!wB(e))}function xB(e,t,i=!1,r){return new Promise((s,n)=>{if(da(r))return void n(O4());let o=()=>{c(),n(new Error(`Unable to load ${t}`))},a=()=>{const f=e;c(),s(f)},l=()=>{if(!e)return;const f=e;c(),f.src="",n(O4())};const c=()=>{re("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",a)),o=null,a=null,e=null,r?.removeEventListener("abort",l),l=null,i&&URL.revokeObjectURL(t)};r?.addEventListener("abort",l),re("esri-image-decode")?e.decode().then(a,o):(e.addEventListener("error",o),e.addEventListener("load",a))})}function O4(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const u6="Timeout exceeded";function EB(){return new Error(u6)}function O1e(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===u6}function SB(e){Ct.request.crossOriginNoCorsDomains||(Ct.request.crossOriginNoCorsDomains={});const t=Ct.request.crossOriginNoCorsDomains;for(let i of e)i=i.toLowerCase(),/^https?:\/\//.test(i)?t[_s(i)??""]=0:(t[_s("http://"+i)??""]=0,t[_s("https://"+i)??""]=0)}function AB(e){const t=Ct.request.crossOriginNoCorsDomains;if(t){let i=_s(e);if(i)return i=i.toLowerCase(),!Kh(i,pS())&&t[i]<Date.now()-36e5}return!1}async function TB(e){const t=Co(e);e=t.path,t.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const i=Ct.request.crossOriginNoCorsDomains,r=_s(e);i&&r&&(i[r.toLowerCase()]=Date.now())}async function Li(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=mS(t.query.toString().replaceAll("+"," ")));const i=Ff(e),r=vS(e);r||i||(e=pl(e));const s={url:e,requestOptions:{...t}},n=y=>({data:y,getAllHeaders:Qh,getHeader:Qh,httpStatus:200,requestOptions:s.requestOptions,url:s.url}),o=T4(e,Us.internalInterceptors);if(o){const y=await I4(o,s);if(y!=null)return n(y)}let a=T4(e);if(a){const y=await I4(a,s);if(y!=null)return n(y);a.after||a.error||(a=null)}if(e=s.url,(t=s.requestOptions).responseType==="image"&&(re("host-webworker")||re("host-node")))throw xn("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if(t.method==="head"){if(t.body)throw xn("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(i||r)throw xn("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await IB(),Wg)return Wg.execute(e,t);const l=new AbortController,c=Yc(t,()=>l.abort()),f={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:s,redoRequest:!1,useIdentity:Us.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},d=t.useRequestQueue?RB(f):H2(f),p=await d.finally(()=>c?.remove());return a?.after?.(p),p}let Wg;const Us=Ct.request,h6="FormData"in globalThis,$B=new Set([499,498,403,401]),MB=new Set(["COM_0056","COM_0057","SB_0008"]),OB=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Qh=()=>null,Yg=Symbol();function CB(e){const t=_s(e);t&&!Li._corsServers.includes(t)&&Li._corsServers.push(t)}function C4(e){const t=_s(e);return!t||t.endsWith(".arcgis.com")||Li._corsServers.includes(t)||gS(t)}function xn(e,t,i,r){let s="Error";const n={url:i.url,requestOptions:i.requestOptions,getAllHeaders:Qh,getHeader:Qh,ssl:!1};if(t instanceof ft)return t.details?(t.details=ge(t.details),t.details.url=i.url,t.details.requestOptions=i.requestOptions):t.details=n,t;if(t){const o=r&&(()=>Array.from(r.headers)),a=r&&(f=>r.headers.get(f)),l=r?.status,c=t.message;c&&(s=c),o&&a&&(n.getAllHeaders=o,n.getHeader=a),n.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,n.subCode=t.subcode,n.messageCode=t.messageCode,typeof t.details=="string"?n.messages=[t.details]:n.messages=t.details,n.raw=Yg in t?t[Yg]:t}return Gm(t)?Br():new ft(e,s,n)}async function IB(){re("host-webworker")&&!Wg&&(Wg=await ve(()=>import("./request-nZwEiprI.js"),__vite__mapDeps([0,1]),import.meta.url))}async function q2(){Yt||await ve(()=>import("./IdentityManager-C5Q0Lqyr.js"),__vite__mapDeps([2,1,3,4,5,6,7]),import.meta.url)}async function PB(e){const t=e.params.url,i=e.params.requestOptions,r=e.controller.signal,s=i.body;let n=null,o=null;if(h6&&"HTMLFormElement"in globalThis&&(s instanceof FormData?n=s:s instanceof HTMLFormElement&&(n=new FormData(s))),typeof s=="string"&&(o=s),e.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:Us.priority,redirect:"follow",signal:r},(n||o)&&(e.fetchOptions.body=n||o),i.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||i.query?.token||n?.get("token")),!e.hasToken&&c6(t)&&(i.query||(i.query={}),i.query.token=Ct.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!f6(t)&&!da(r)){let a;i.authMode==="immediate"?(await q2(),a=await Yt.getCredential(t,{signal:r}),e.credential=a):i.authMode==="no-prompt"?(await q2(),a=await Yt.getCredential(t,{prompt:!1,signal:r}).catch(()=>{}),e.credential=a):Yt&&(a=Yt.findCredential(t)),a&&(e.credentialToken=a.token,e.useSSL=!!a.ssl)}}function f6(e){return OB.some(t=>t.test(e))}async function NB(e){let t=e.params.url;const i=e.params.requestOptions,r=e.fetchOptions??{},s=vS(t)||Ff(t),n=i.responseType||"json",o=s?0:i.timeout!=null?i.timeout:Us.timeout;let a=!1;if(!s){e.useSSL&&(t=_S(t));let p={...i.query};e.credentialToken&&(p.token=e.credentialToken);let y=Yp(p);re("esri-url-encodes-apostrophe")&&(y=y.replaceAll("'","%27"));const v=t.length+1+y.length;let b;a=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||v>Us.maxUrlLength;const S=i.useProxy||!!M1(t);if(S){const E=Y5(t);b=E.path,!a&&b.length+1+v>Us.maxUrlLength&&(a=!0),E.query&&(p={...E.query,...p})}if(r.method==="HEAD"&&(a||S)){if(a)throw v>Us.maxUrlLength?xn("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):xn("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(S)throw xn("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}a?(r.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?t=o_(t,p):(r.body=Yp(p),r.headers||(r.headers={}),r.headers["Content-Type"]="application/x-www-form-urlencoded")):t=o_(t,p),S&&(e.useProxy=!0,t=`${b}?${t}`),p.token&&h6&&r.body instanceof FormData&&!DV(t)&&r.body.set("token",p.token),i.hasOwnProperty("withCredentials")?e.withCredentials=i.withCredentials:Kh(t,pS())||(gS(t)||Yt&&Yt.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(r.credentials="include",AB(t)&&await TB(a?o_(t,p):t))}let l,c,f=0,d=!1;o>0&&(f=setTimeout(()=>{d=!0,e.controller.abort()},o));try{if(i.responseType==="native-request-init")c=r,c.url=t,i.signal?c.signal=i.signal:delete c.signal;else if(i.responseType!=="image"||r.cache!=="default"||r.method!=="GET"||a||LB(i.headers)||!s&&!e.useProxy&&Us.proxyUrl&&!C4(t)){if(Li._beforeFetch&&await Li._beforeFetch(t,r),l=await fetch(t,r),Li._afterFetch&&await Li._afterFetch(l),e.useProxy||CB(t),i.responseType==="native")c=l;else if(r.method!=="HEAD")if(l.ok){switch(n){case"array-buffer":c=await l.arrayBuffer();break;case"blob":case"image":c=await l.blob();break;default:c=await l.text()}if(f&&(clearTimeout(f),f=0),n==="json"||n==="xml"||n==="document")if(c)switch(n){case"json":c=JSON.parse(c);break;case"xml":c=P4(c,"application/xml");break;case"document":c=P4(c,"text/html")}else c=null;if(c){if(n==="array-buffer"||n==="blob"){const p=l.headers.get("Content-Type");if(p&&/application\/json|text\/plain/i.test(p)&&c[n==="blob"?"size":"byteLength"]<=750)try{const y=await new Response(c).json();y.error&&(c=y)}catch{}}n==="image"&&c instanceof Blob&&(c=await N4(URL.createObjectURL(c),e,!0))}}else{c=await l.text();try{c=JSON.parse(c)}catch{}}}else c=await N4(t,e)}catch(p){if(p.name==="AbortError")throw d?EB():Br("Request canceled");if(!(!l&&p instanceof TypeError&&Us.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||e.useProxy||C4(t))throw p;e.redoRequest=!0,ZV({proxyUrl:Us.proxyUrl,urlPrefix:_s(t)??""})}finally{f&&clearTimeout(f)}return[l,c]}async function I4(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let i,r;try{r=await e.before(t)}catch(s){i=xn("request:interceptor",s,t)}if((r instanceof Error||r instanceof ft)&&(i=xn("request:interceptor",r,t)),i)throw e.error&&e.error(i),i;return r}}function LB(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function P4(e,t){let i;try{i=new DOMParser().parseFromString(e,t)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}Li._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Li._beforeFetch=void 0,Li._afterFetch=void 0;const kB=new Map;async function RB(e){const t=FB(e.params.url);if(!t)return H2(e);const{QueueProcessor:i}=await ve(()=>import("./QueueProcessor-DprcdQpu.js"),__vite__mapDeps([8,9,10,11,1]),import.meta.url);return FI(kB,t.origin,()=>{const s=t.isHosted?re("request-queue-concurrency-hosted"):re("request-queue-concurrency-non-hosted");return new i({concurrency:s,process:n=>{if(da(n.params.requestOptions))throw xn("",Br("Request canceled"),n.params);return H2(n)}})}).push(e)}async function H2(e){let t,i;await PB(e);try{do[t,i]=await NB(e);while(!await DB(e,t,i))}catch(n){const o=xn("request:server",n,e.params,t);throw o.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(o),o}const r=e.params.url;if(i&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!e.hasToken&&!e.credentialToken&&i.user?.username&&!gS(r)){const n=_s(r,!0);n&&Us.trustedServers.push(n)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&SB(i.authorizedCrossOriginNoCorsDomains)}const s=e.credential;if(s&&Yt){let o=Yt.findServerInfo(s.server)?.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const a=Yt.findCredential(o,s.userId);a&&Yt._getIdenticalSvcIdx(o,a)===-1&&a.resources.unshift(o)}}return{data:i,getAllHeaders:t?()=>Array.from(t.headers):Qh,getHeader:t?n=>t.headers.get(n):Qh,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function DB(e,t,i){if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||r.responseType==="native"||r.responseType==="native-request-init")return!0;let s,n;if(i&&(i.error&&typeof i.error=="object"?s=i.error:i.status==="error"&&Array.isArray(i.messages)&&(s={...i},s[Yg]=i,s.details=i.messages)),!s&&!t.ok)throw s=new Error(`Unable to load ${t.url} status: ${t.status}`),s[Yg]=i,s;let o,a=null;s&&(n=Number(s.code),a=s.hasOwnProperty("subcode")?Number(s.subcode):null,o=s.messageCode,o=o?.toUpperCase());const l=r.authMode;if(n===403&&(a===4||s.message?.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||n===498)&&n!==void 0&&$B.has(n)&&!f6(e.params.url)&&(n!==403||(!o||!MB.has(o))&&(a==null||a===2&&e.credentialToken))){await q2();try{const c=await Yt.getCredential(e.params.url,{error:xn("request:server",s,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=c,e.credentialToken=c.token,e.useSSL=e.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;s=c}}if(s)throw s;return!0}function N4(e,t,i=!1){const r=t.controller.signal,s=new Image;return t.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=Us.priority,s.src=e,xB(s,e,i,r)}function FB(e){let t,i;return typeof e=="string"?(t=_s(e,!0),i=M4(e)):(t=e.origin,i=M4(e.toString())),t==null?null:{origin:t,isHosted:i}}function UB(e){if(!Ct.assetsPath)throw Rt.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new ft("assets:path-not-set","config.assetsPath is not set");return O1(Ct.assetsPath,e)}let a_,q=null;function jB(){return!!q}function VB(){return!!re("esri-wasm")}function BB(){return a_||(a_=ve(()=>import("./pe-wasm-CRA-qgEz.js"),__vite__mapDeps([12,13]),import.meta.url).then(e=>e.p).then(({default:e})=>e({locateFile:t=>UB(`esri/geometry/support/${t}`)})).then(e=>{m6(e)}),a_)}var W2,Wt;(function(e){function t(n,o,a){q.ensureCache.prepare();const l=Tc(a),c=a===l,f=q.ensureFloat64(l),d=q._pe_geog_to_proj(q.getPointer(n),o,f);return d&&nl(a,o,f,c),d}function i(n,o,a,l){switch(l){case Wt.PE_TRANSFORM_P_TO_G:return r(n,o,a);case Wt.PE_TRANSFORM_G_TO_P:return t(n,o,a)}return 0}function r(n,o,a){return s(n,o,a,0)}function s(n,o,a,l){q.ensureCache.prepare();const c=Tc(a),f=a===c,d=q.ensureFloat64(c),p=q._pe_proj_to_geog_center(q.getPointer(n),o,d,l);return p&&nl(a,o,d,f),p}e.geogToProj=t,e.projGeog=i,e.projToGeog=r,e.projToGeogCenter=s})(W2||(W2={})),function(e){function t(){e.PE_BUFFER_MAX=q.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=q.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=q.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=q.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=q.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=q.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=q.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=q.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=q.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=q.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=q.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=q.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=q.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=q.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=q.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=q.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=q.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=q.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=q.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=q.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=q.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=q.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=q.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=q.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=q.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=q.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=q.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=q.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=q.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=q.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=q.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=q.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Wt||(Wt={}));let d6=null;var Y2;(function(e){const t={},i={},r=y=>{const v=y.getType();switch(v){case Wt.PE_TYPE_GEOGCS:y=q.castObject(y,q.PeGeogcs);break;case Wt.PE_TYPE_PROJCS:y=q.castObject(y,q.PeProjcs);break;case Wt.PE_TYPE_GEOGTRAN:y=q.castObject(y,q.PeGeogtran);break;default:v&Wt.PE_TYPE_UNIT&&(y=q.castObject(y,q.PeUnit))}return y};function s(){q.PeFactory.prototype.initialize(null)}function n(y){return o(Wt.PE_TYPE_COORDSYS,y)}function o(y,v){let b=null,S=t[y];if(S||(S={},t[y]=S),S.hasOwnProperty(String(v))&&(b=S[v],q.compare(b,q.NULL)&&(b=null)),!b){const E=q.PeFactory.prototype.factoryByType(y,v);q.compare(E,q.NULL)||(b=r(E),S[v]=b)}return b}function a(y,v){let b=null,S=i[y];if(S||(S={},i[y]=S),S.hasOwnProperty(v)&&(b=S[v],q.compare(b,q.NULL)&&(b=null)),!b){const E=q.PeFactory.prototype.fromString(y,v);q.compare(E,q.NULL)||(b=r(E),S[v]=b)}return b}function l(y){return o(Wt.PE_TYPE_GEOGCS,y)}function c(y){return o(Wt.PE_TYPE_GEOGTRAN,y)}function f(y){return q.PeFactory.prototype.getCode(y)}function d(y){return o(Wt.PE_TYPE_PROJCS,y)}function p(y){return o(Wt.PE_TYPE_UNIT,y)}e.initialize=s,e.coordsys=n,e.factoryByType=o,e.fromString=a,e.geogcs=l,e.geogtran=c,e.getCode=f,e.projcs=d,e.unit=p})(Y2||(Y2={}));let p6=null;var Jg,J2,Z2,K2,X2,Q2,Zg,ew,Kg,Xg,tw;function m6(e){function t(n,o,a){n[o]=a(n[o])}q=e,Wt.init(),Jg.init(),Zg.init(),Kg.init(),Xg.init(),d6=class extends q.PeDouble{constructor(n=NaN){super(n)}destroy(){q.destroy(this)}[Symbol.dispose](){this.destroy()}},p6=class extends q.PeGCSExtent{destroy(){q.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[q.PeAngunit,q.PeDatum,q.PeGeogcs,q.PeGeogtran,q.PeObject,q.PeParameter,q.PePrimem,q.PeProjcs,q.PeSpheroid,q.PeUnit];for(const n of i)t(n.prototype,"getName",o=>function(){return o.call(this,new Array(Wt.PE_NAME_MAX))});for(const n of[q.PeGeogtran,q.PeProjcs])t(n.prototype,"getParameters",o=>function(){const a=new Array(Wt.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const f=q.getValue(l,"*");a[c]=f?q.wrapPointer(f,q.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});t(q.PeHorizon.prototype,"getCoord",n=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return nl(l,a,n.call(this),o),l}),t(q.PeGTlistExtendedEntry.prototype,"getEntries",n=>{const o=q._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=n.call(this);if(!q.compare(l,q.NULL)){a=[l];const c=this.getSteps();if(c>1){const f=q.getPointer(l);for(let d=1;d<c;d++)a.push(q.wrapPointer(f+o*d,q.PeGTlistExtendedGTs))}}return a}});const r=q._pe_getPeHorizonSize(),s=n=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(n))return o.get(n);let a=null;const l=n.call(this);if(!q.compare(l,q.NULL)){a=[l];const c=l.getNump();if(c>1){const f=q.getPointer(l);for(let d=1;d<c;d++)a.push(q.wrapPointer(f+r*d,q.PeHorizon))}}return o.set(n,a),a};t(q.PeProjcs.prototype,"horizonGcsGenerate",s),t(q.PeProjcs.prototype,"horizonPcsGenerate",s),q.PeObject.prototype.toString=function(n=Wt.PE_STR_OPTS_NONE){q.ensureCache.prepare();const o=q.getPointer(this),a=q.ensureInt8(new Array(Wt.PE_BUFFER_MAX));return q.UTF8ToString(q._pe_object_to_string_ext(o,n,a))},q.PeGeogcs.prototype.destroy=function(){this.Delete(),fn(this),this.ptr=0},q.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},q.PeProjcs.prototype.destroy=function(){this.Delete(),fn(this),this.ptr=0},q.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function fn(e){if(!e)return;const t=q.getClass(e);if(!t)return;const i=q.getCache(t);if(!i)return;const r=q.getPointer(e);r&&delete i[r]}function U0(e,t){const i=[],r=new Array(t);for(let s=0;s<e;s++)i.push(q.ensureInt8(r));return i}function Tc(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function nl(e,t,i,r=!1){if(r)for(let s=0;s<2*t;s++)e[s]=q.getValue(i+s*Float64Array.BYTES_PER_ELEMENT,"double");else{const s=e.length===0;for(let n=0;n<t;n++)s&&(e[n]=new Array(2)),e[n][0]=q.getValue(i,"double"),e[n][1]=q.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function i(){e.PE_GTLIST_OPTS_COMMON=q.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=q._pe_getPeGTlistExtendedEntrySize()}function r(s,n,o,a,l,c){let f=null;const d=new q.PeInteger(c);try{const p=q.PeGTlistExtended.prototype.getGTlist(s,n,o,a,l,d);if((c=d.val)&&(f=[p],c>1)){const y=q.getPointer(p);for(let v=1;v<c;v++)f.push(q.wrapPointer(y+t*v,q.PeGTlistExtendedEntry))}}finally{q.destroy(d)}return f}e.init=i,e.getGTlist=r})(Jg||(Jg={})),function(e){function t(i){if(i?.length){for(const r of i)fn(r),r.getEntries().forEach(s=>{fn(s);const n=s.getGeogtran();fn(n),n.getParameters().forEach(fn),[n.getGeogcs1(),n.getGeogcs2()].forEach(o=>{fn(o);const a=o.getDatum();fn(a),fn(a.getSpheroid()),fn(o.getPrimem()),fn(o.getUnit())})});q.PeGTlistExtendedEntry.prototype.Delete(i[0])}}e.destroy=t}(J2||(J2={})),function(e){function t(i,r,s,n,o){q.ensureCache.prepare();const a=Tc(s),l=s===a,c=q.ensureFloat64(a);let f=0;n&&(f=q.ensureFloat64(n));const d=q._pe_geog_to_geog(q.getPointer(i),r,c,f,o);return d&&nl(s,r,c,l),d}e.geogToGeog=t}(Z2||(Z2={})),function(e){function t(n,o,a,l,c,f,d,p){q.PeLineType.prototype.geodesic_coordinate(n,o,a,l,c,f,d,p)}function i(n,o,a,l,c,f,d,p,y){q.PeLineType.prototype.geodetic_coordinate(n,o,a,l,c,f,d,p,y)}function r(n,o,a,l,c,f,d,p,y,v){q.PeLineType.prototype.geodetic_distance(n,o,a,l,c,f,d,p,y,v)}function s(n,o,a,l,c,f,d,p,y){q.PeLineType.prototype.great_elliptic_distance(n,o,a,l,c,f,d,p,y)}e.geodesicCoordinate=t,e.geodeticCoordinate=i,e.geodeticDistance=r,e.greatEllipticDistance=s}(K2||(K2={})),function(e){function t(o,a){return q.PeMath.prototype.phi_to_eta(o,a)}function i(o,a){return q.PeMath.prototype.eta_to_phi(o,a)}function r(o,a){return q.PeMath.prototype.phi_to_phig(o,a)}function s(o,a,l){return q.PeMath.prototype.q(o,a,l)}function n(o,a){return q.PeMath.prototype.q90(o,a)}e.phiToEta=t,e.etaToPhi=i,e.phiToPhig=r,e.q=s,e.q90=n}(X2||(X2={})),function(e){const t=(c,f,d,p,y,v)=>{let b,S;switch(q.ensureCache.prepare(),c){case"dd":b=q._pe_geog_to_dd,S=Wt.PE_DD_MAX;break;case"ddm":b=q._pe_geog_to_ddm,S=Wt.PE_DDM_MAX;break;case"dms":b=q._pe_geog_to_dms,S=Wt.PE_DMS_MAX}let E=0;f&&(E=q.getPointer(f));const T=Tc(p),w=q.ensureFloat64(T),_=U0(d,S),$=b(E,d,w,y,q.ensureInt32(_));if($)for(let M=0;M<d;M++)v[M]=q.UTF8ToString(_[M]);return $},i=(c,f,d,p,y)=>{let v;switch(q.ensureCache.prepare(),c){case"dd":v=q._pe_dd_to_geog;break;case"ddm":v=q._pe_ddm_to_geog;break;case"dms":v=q._pe_dms_to_geog}let b=0;f&&(b=q.getPointer(f));const S=p.map(_=>q.ensureString(_)),E=q.ensureInt32(S),T=q.ensureFloat64(new Array(2*d)),w=v(b,d,E,T);return w&&nl(y,d,T),w};function r(c,f,d,p,y){return t("dms",c,f,d,p,y)}function s(c,f,d,p){return i("dms",c,f,d,p)}function n(c,f,d,p,y){return t("ddm",c,f,d,p,y)}function o(c,f,d,p){return i("ddm",c,f,d,p)}function a(c,f,d,p,y){return t("dd",c,f,d,p,y)}function l(c,f,d,p){return i("dd",c,f,d,p)}e.geogToDms=r,e.dmsToGeog=s,e.geogToDdm=n,e.ddmToGeog=o,e.geogToDd=a,e.ddToGeog=l}(Q2||(Q2={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=q.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=q.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=q.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=q.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=q.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(s,n,o,a,l,c,f){q.ensureCache.prepare();let d=0;s&&(d=q.getPointer(s));const p=Tc(o),y=q.ensureFloat64(p),v=U0(n,Wt.PE_MGRS_MAX),b=q.ensureInt32(v),S=q._pe_geog_to_mgrs_extended(d,n,y,a,l,c,b);if(S)for(let E=0;E<n;E++)f[E]=q.UTF8ToString(v[E]);return S}function r(s,n,o,a,l){q.ensureCache.prepare();let c=0;s&&(c=q.getPointer(s));const f=o.map(v=>q.ensureString(v)),d=q.ensureInt32(f),p=q.ensureFloat64(new Array(2*n)),y=q._pe_mgrs_to_geog_extended(c,n,d,a,p);return y&&nl(l,n,p),y}e.init=t,e.geogToMgrsExtended=i,e.mgrsToGeogExtended=r}(Zg||(Zg={})),function(e){function t(r,s,n,o,a,l,c){q.ensureCache.prepare();let f=0;r&&(f=q.getPointer(r));const d=Tc(n),p=q.ensureFloat64(d),y=U0(s,Wt.PE_MGRS_MAX),v=q.ensureInt32(y),b=q._pe_geog_to_usng(f,s,p,o,a,l,v);if(b)for(let S=0;S<s;S++)c[S]=q.UTF8ToString(y[S]);return b}function i(r,s,n,o){q.ensureCache.prepare();let a=0;r&&(a=q.getPointer(r));const l=n.map(p=>q.ensureString(p)),c=q.ensureInt32(l),f=q.ensureFloat64(new Array(2*s)),d=q._pe_usng_to_geog(a,s,c,f);return d&&nl(o,s,f),d}e.geogToUsng=t,e.usngToGeog=i}(ew||(ew={})),function(e){function t(){e.PE_UTM_OPTS_NONE=q.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=q.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=q.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(s,n,o,a,l){q.ensureCache.prepare();let c=0;s&&(c=q.getPointer(s));const f=Tc(o),d=q.ensureFloat64(f),p=U0(n,Wt.PE_UTM_MAX),y=q.ensureInt32(p),v=q._pe_geog_to_utm(c,n,d,a,y);if(v)for(let b=0;b<n;b++)l[b]=q.UTF8ToString(p[b]);return v}function r(s,n,o,a,l){q.ensureCache.prepare();let c=0;s&&(c=q.getPointer(s));const f=o.map(v=>q.ensureString(v)),d=q.ensureInt32(f),p=q.ensureFloat64(new Array(2*n)),y=q._pe_utm_to_geog(c,n,d,a,p);return y&&nl(l,n,p),y}e.init=t,e.geogToUtm=i,e.utmToGeog=r}(Kg||(Kg={})),function(e){const t=new Map;function i(){e.PE_PCSINFO_OPTION_NONE=q.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=q.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=q.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=q.PePCSInfo.prototype.PE_POLE_POINT}function r(s,n=e.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return t.has(s)&&(a=t.get(s),a[n]&&(o=a[n])),o||(o=q.PePCSInfo.prototype.generate(s,n),a||(a=[],t.set(s,a)),a[n]=o),o}e.init=i,e.generate=r}(Xg||(Xg={})),function(e){function t(){return q.PeVersion.prototype.version_string()}e.versionString=t}(tw||(tw={}));const C1e=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return W2},get PeDefs(){return Wt},get PeDouble(){return d6},get PeFactory(){return Y2},get PeGCSExtent(){return p6},get PeGTTransformations(){return Z2},get PeGTlistExtended(){return Jg},get PeGTlistExtendedEntry(){return J2},get PeLineType(){return K2},get PeMath(){return X2},get PeNotationDms(){return Q2},get PeNotationMgrs(){return Zg},get PeNotationUsng(){return ew},get PeNotationUtm(){return Kg},get PePCSInfo(){return Xg},get PeVersion(){return tw},_init:m6,get _pe(){return q},isLoaded:jB,isSupported:VB,load:BB},Symbol.toStringTag,{value:"Module"}));var ef;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(ef||(ef={}));let h;const O={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10665:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(h=2e3;h<=2045;h++)O[h]=0;for(h=2056;h<=2065;h++)O[h]=0;for(h=2067;h<=2135;h++)O[h]=0;for(h=2137;h<=2154;h++)O[h]=0;for(h=2161;h<=2170;h++)O[h]=0;for(h=2172;h<=2193;h++)O[h]=0;for(h=2195;h<=2198;h++)O[h]=0;for(h=2200;h<=2203;h++)O[h]=0;for(h=2205;h<=2217;h++)O[h]=0;for(h=2222;h<=2224;h++)O[h]=1;for(h=2225;h<=2250;h++)O[h]=2;for(h=2251;h<=2253;h++)O[h]=1;for(h=2257;h<=2264;h++)O[h]=2;for(h=2274;h<=2279;h++)O[h]=2;for(h=2280;h<=2282;h++)O[h]=1;for(h=2283;h<=2289;h++)O[h]=2;for(h=2290;h<=2292;h++)O[h]=0;for(h=2308;h<=2313;h++)O[h]=0;for(h=2315;h<=2491;h++)O[h]=0;for(h=2494;h<=2866;h++)O[h]=0;for(h=2867;h<=2869;h++)O[h]=1;for(h=2870;h<=2888;h++)O[h]=2;for(h=2891;h<=2895;h++)O[h]=2;for(h=2896;h<=2898;h++)O[h]=1;for(h=2902;h<=2908;h++)O[h]=2;for(h=2915;h<=2920;h++)O[h]=2;for(h=2921;h<=2923;h++)O[h]=1;for(h=2924;h<=2930;h++)O[h]=2;for(h=2931;h<=2962;h++)O[h]=0;for(h=2964;h<=2968;h++)O[h]=2;for(h=2969;h<=2973;h++)O[h]=0;for(h=2975;h<=2991;h++)O[h]=0;for(h=2995;h<=3051;h++)O[h]=0;for(h=3054;h<=3079;h++)O[h]=0;for(h=3081;h<=3088;h++)O[h]=0;for(h=3092;h<=3101;h++)O[h]=0;for(h=3106;h<=3138;h++)O[h]=0;for(h=3146;h<=3151;h++)O[h]=0;for(h=3153;h<=3166;h++)O[h]=0;for(h=3168;h<=3172;h++)O[h]=0;for(h=3174;h<=3203;h++)O[h]=0;for(h=3294;h<=3358;h++)O[h]=0;for(h=3367;h<=3403;h++)O[h]=0;for(h=3408;h<=3416;h++)O[h]=0;for(h=3417;h<=3438;h++)O[h]=2;for(h=3441;h<=3446;h++)O[h]=2;for(h=3447;h<=3450;h++)O[h]=0;for(h=3451;h<=3459;h++)O[h]=2;for(h=3460;h<=3478;h++)O[h]=0;for(h=3554;h<=3559;h++)O[h]=0;for(h=3560;h<=3570;h++)O[h]=2;for(h=3571;h<=3581;h++)O[h]=0;for(h=3594;h<=3597;h++)O[h]=0;for(h=3601;h<=3604;h++)O[h]=0;for(h=3637;h<=3639;h++)O[h]=0;for(h=3665;h<=3667;h++)O[h]=0;for(h=3693;h<=3695;h++)O[h]=0;for(h=3701;h<=3727;h++)O[h]=0;for(h=3728;h<=3739;h++)O[h]=2;for(h=3740;h<=3751;h++)O[h]=0;for(h=3753;h<=3760;h++)O[h]=2;for(h=3761;h<=3773;h++)O[h]=0;for(h=3775;h<=3777;h++)O[h]=0;for(h=3779;h<=3781;h++)O[h]=0;for(h=3783;h<=3785;h++)O[h]=0;for(h=3788;h<=3791;h++)O[h]=0;for(h=3797;h<=3802;h++)O[h]=0;for(h=3814;h<=3816;h++)O[h]=0;for(h=3825;h<=3829;h++)O[h]=0;for(h=3832;h<=3841;h++)O[h]=0;for(h=3844;h<=3852;h++)O[h]=0;for(h=3873;h<=3885;h++)O[h]=0;for(h=3890;h<=3893;h++)O[h]=0;for(h=3907;h<=3912;h++)O[h]=0;for(h=3942;h<=3950;h++)O[h]=0;for(h=3968;h<=3970;h++)O[h]=0;for(h=3973;h<=3976;h++)O[h]=0;for(h=3986;h<=3989;h++)O[h]=0;for(h=3994;h<=3997;h++)O[h]=0;for(h=4048;h<=4051;h++)O[h]=0;for(h=4056;h<=4063;h++)O[h]=0;for(h=4093;h<=4096;h++)O[h]=0;for(h=4390;h<=4398;h++)O[h]=0;for(h=4399;h<=4413;h++)O[h]=2;for(h=4418;h<=4433;h++)O[h]=2;for(h=4455;h<=4457;h++)O[h]=2;for(h=4484;h<=4489;h++)O[h]=0;for(h=4491;h<=4554;h++)O[h]=0;for(h=4568;h<=4589;h++)O[h]=0;for(h=4652;h<=4656;h++)O[h]=0;for(h=4766;h<=4800;h++)O[h]=0;for(h=5014;h<=5016;h++)O[h]=0;for(h=5069;h<=5072;h++)O[h]=0;for(h=5105;h<=5130;h++)O[h]=0;for(h=5167;h<=5188;h++)O[h]=0;for(h=5253;h<=5259;h++)O[h]=0;for(h=5269;h<=5275;h++)O[h]=0;for(h=5292;h<=5311;h++)O[h]=0;for(h=5329;h<=5331;h++)O[h]=0;for(h=5343;h<=5349;h++)O[h]=0;for(h=5355;h<=5357;h++)O[h]=0;for(h=5387;h<=5389;h++)O[h]=0;for(h=5459;h<=5463;h++)O[h]=0;for(h=5479;h<=5482;h++)O[h]=0;for(h=5518;h<=5520;h++)O[h]=0;for(h=5530;h<=5539;h++)O[h]=0;for(h=5550;h<=5552;h++)O[h]=0;for(h=5562;h<=5583;h++)O[h]=0;for(h=5623;h<=5625;h++)O[h]=2;for(h=5631;h<=5639;h++)O[h]=0;for(h=5649;h<=5653;h++)O[h]=0;for(h=5663;h<=5680;h++)O[h]=0;for(h=5682;h<=5685;h++)O[h]=0;for(h=5875;h<=5877;h++)O[h]=0;for(h=5896;h<=5899;h++)O[h]=0;for(h=5921;h<=5940;h++)O[h]=0;for(h=6050;h<=6125;h++)O[h]=0;for(h=6244;h<=6275;h++)O[h]=0;for(h=6328;h<=6348;h++)O[h]=0;for(h=6350;h<=6356;h++)O[h]=0;for(h=6366;h<=6372;h++)O[h]=0;for(h=6381;h<=6387;h++)O[h]=0;for(h=6393;h<=6404;h++)O[h]=0;for(h=6480;h<=6483;h++)O[h]=0;for(h=6511;h<=6514;h++)O[h]=0;for(h=6579;h<=6581;h++)O[h]=0;for(h=6619;h<=6624;h++)O[h]=0;for(h=6625;h<=6627;h++)O[h]=2;for(h=6628;h<=6632;h++)O[h]=0;for(h=6634;h<=6637;h++)O[h]=0;for(h=6669;h<=6692;h++)O[h]=0;for(h=6707;h<=6709;h++)O[h]=0;for(h=6720;h<=6723;h++)O[h]=0;for(h=6732;h<=6738;h++)O[h]=0;for(h=6931;h<=6933;h++)O[h]=0;for(h=6956;h<=6959;h++)O[h]=0;for(h=7005;h<=7007;h++)O[h]=0;for(h=7057;h<=7070;h++)O[h]=2;for(h=7074;h<=7082;h++)O[h]=0;for(h=7109;h<=7118;h++)O[h]=0;for(h=7119;h<=7127;h++)O[h]=1;for(h=7374;h<=7376;h++)O[h]=0;for(h=7528;h<=7586;h++)O[h]=0;for(h=7587;h<=7645;h++)O[h]=2;for(h=7692;h<=7696;h++)O[h]=0;for(h=7755;h<=7787;h++)O[h]=0;for(h=7791;h<=7795;h++)O[h]=0;for(h=7799;h<=7801;h++)O[h]=0;for(h=7803;h<=7805;h++)O[h]=0;for(h=7825;h<=7831;h++)O[h]=0;for(h=7845;h<=7859;h++)O[h]=0;for(h=8013;h<=8032;h++)O[h]=0;for(h=8065;h<=8068;h++)O[h]=1;for(h=8518;h<=8529;h++)O[h]=2;for(h=8533;h<=8536;h++)O[h]=2;for(h=8538;h<=8540;h++)O[h]=2;for(h=8677;h<=8679;h++)O[h]=0;for(h=8836;h<=8840;h++)O[h]=0;for(h=8857;h<=8859;h++)O[h]=0;for(h=8908;h<=8910;h++)O[h]=0;for(h=9154;h<=9159;h++)O[h]=0;for(h=9205;h<=9218;h++)O[h]=0;for(h=9271;h<=9273;h++)O[h]=0;for(h=9295;h<=9297;h++)O[h]=0;for(h=9356;h<=9360;h++)O[h]=0;for(h=9404;h<=9407;h++)O[h]=0;for(h=9476;h<=9482;h++)O[h]=0;for(h=9487;h<=9494;h++)O[h]=0;for(h=9697;h<=9699;h++)O[h]=0;for(h=9821;h<=9865;h++)O[h]=0;for(h=10285;h<=10291;h++)O[h]=0;for(h=10314;h<=10317;h++)O[h]=0;for(h=10448;h<=10465;h++)O[h]=0;for(h=10731;h<=10733;h++)O[h]=0;for(h=11114;h<=11118;h++)O[h]=0;for(h=20004;h<=20032;h++)O[h]=0;for(h=20047;h<=20049;h++)O[h]=0;for(h=20062;h<=20092;h++)O[h]=0;for(h=20135;h<=20138;h++)O[h]=0;for(h=20248;h<=20258;h++)O[h]=0;for(h=20348;h<=20358;h++)O[h]=0;for(h=20436;h<=20440;h++)O[h]=0;for(h=20822;h<=20824;h++)O[h]=0;for(h=20904;h<=20932;h++)O[h]=0;for(h=20934;h<=20936;h++)O[h]=0;for(h=21004;h<=21032;h++)O[h]=0;for(h=21035;h<=21037;h++)O[h]=0;for(h=21095;h<=21097;h++)O[h]=0;for(h=21148;h<=21150;h++)O[h]=0;for(h=21207;h<=21264;h++)O[h]=0;for(h=21307;h<=21364;h++)O[h]=0;for(h=21413;h<=21423;h++)O[h]=0;for(h=21453;h<=21463;h++)O[h]=0;for(h=21473;h<=21483;h++)O[h]=0;for(h=21780;h<=21782;h++)O[h]=0;for(h=21891;h<=21894;h++)O[h]=0;for(h=21896;h<=21899;h++)O[h]=0;for(h=22171;h<=22177;h++)O[h]=0;for(h=22181;h<=22187;h++)O[h]=0;for(h=22191;h<=22197;h++)O[h]=0;for(h=22207;h<=22222;h++)O[h]=0;for(h=22229;h<=22232;h++)O[h]=0;for(h=22234;h<=22236;h++)O[h]=0;for(h=22243;h<=22250;h++)O[h]=0;for(h=22262;h<=22265;h++)O[h]=0;for(h=22307;h<=22322;h++)O[h]=0;for(h=22348;h<=22357;h++)O[h]=0;for(h=22407;h<=22422;h++)O[h]=0;for(h=22462;h<=22465;h++)O[h]=0;for(h=22521;h<=22525;h++)O[h]=0;for(h=22607;h<=22622;h++)O[h]=0;for(h=22641;h<=22646;h++)O[h]=0;for(h=22648;h<=22657;h++)O[h]=0;for(h=22707;h<=22722;h++)O[h]=0;for(h=22762;h<=22765;h++)O[h]=0;for(h=22807;h<=22822;h++)O[h]=0;for(h=22991;h<=22994;h++)O[h]=0;for(h=23028;h<=23038;h++)O[h]=0;for(h=23301;h<=23333;h++)O[h]=2;for(h=23830;h<=23853;h++)O[h]=0;for(h=23866;h<=23872;h++)O[h]=0;for(h=23877;h<=23884;h++)O[h]=0;for(h=23886;h<=23894;h++)O[h]=0;for(h=23946;h<=23948;h++)O[h]=0;for(h=24311;h<=24313;h++)O[h]=0;for(h=24342;h<=24347;h++)O[h]=0;for(h=24370;h<=24374;h++)O[h]=10;for(h=24375;h<=24381;h++)O[h]=0;for(h=24718;h<=24721;h++)O[h]=0;for(h=24817;h<=24821;h++)O[h]=0;for(h=24877;h<=24882;h++)O[h]=0;for(h=24891;h<=24893;h++)O[h]=0;for(h=25391;h<=25395;h++)O[h]=0;for(h=25828;h<=25838;h++)O[h]=0;for(h=26191;h<=26195;h++)O[h]=0;for(h=26391;h<=26393;h++)O[h]=0;for(h=26701;h<=26722;h++)O[h]=0;for(h=26729;h<=26799;h++)O[h]=2;for(h=26801;h<=26803;h++)O[h]=2;for(h=26811;h<=26813;h++)O[h]=2;for(h=26847;h<=26870;h++)O[h]=2;for(h=26891;h<=26899;h++)O[h]=0;for(h=26901;h<=26923;h++)O[h]=0;for(h=26929;h<=26946;h++)O[h]=0;for(h=26948;h<=26998;h++)O[h]=0;for(h=27037;h<=27040;h++)O[h]=0;for(h=27205;h<=27232;h++)O[h]=0;for(h=27258;h<=27260;h++)O[h]=0;for(h=27391;h<=27398;h++)O[h]=0;for(h=27561;h<=27564;h++)O[h]=0;for(h=27571;h<=27574;h++)O[h]=0;for(h=27581;h<=27584;h++)O[h]=0;for(h=27591;h<=27594;h++)O[h]=0;for(h=27700;h<=27707;h++)O[h]=0;for(h=28191;h<=28193;h++)O[h]=0;for(h=28348;h<=28358;h++)O[h]=0;for(h=28402;h<=28432;h++)O[h]=0;for(h=28462;h<=28492;h++)O[h]=0;for(h=29118;h<=29122;h++)O[h]=0;for(h=29168;h<=29172;h++)O[h]=0;for(h=29177;h<=29185;h++)O[h]=0;for(h=29187;h<=29195;h++)O[h]=0;for(h=29900;h<=29903;h++)O[h]=0;for(h=30161;h<=30179;h++)O[h]=0;for(h=30491;h<=30494;h++)O[h]=0;for(h=30729;h<=30732;h++)O[h]=0;for(h=31251;h<=31259;h++)O[h]=0;for(h=31265;h<=31268;h++)O[h]=0;for(h=31275;h<=31279;h++)O[h]=0;for(h=31281;h<=31297;h++)O[h]=0;for(h=31461;h<=31469;h++)O[h]=0;for(h=31491;h<=31495;h++)O[h]=0;for(h=31917;h<=31922;h++)O[h]=0;for(h=31965;h<=32e3;h++)O[h]=0;for(h=32001;h<=32003;h++)O[h]=2;for(h=32005;h<=32031;h++)O[h]=2;for(h=32033;h<=32060;h++)O[h]=2;for(h=32064;h<=32067;h++)O[h]=2;for(h=32074;h<=32077;h++)O[h]=2;for(h=32081;h<=32086;h++)O[h]=0;for(h=32107;h<=32130;h++)O[h]=0;for(h=32133;h<=32159;h++)O[h]=0;for(h=32164;h<=32167;h++)O[h]=2;for(h=32180;h<=32199;h++)O[h]=0;for(h=32201;h<=32260;h++)O[h]=0;for(h=32301;h<=32360;h++)O[h]=0;for(h=32401;h<=32460;h++)O[h]=0;for(h=32501;h<=32560;h++)O[h]=0;for(h=32601;h<=32662;h++)O[h]=0;for(h=32664;h<=32667;h++)O[h]=2;for(h=32701;h<=32761;h++)O[h]=0;for(h=53001;h<=53004;h++)O[h]=0;for(h=53008;h<=53019;h++)O[h]=0;for(h=53021;h<=53032;h++)O[h]=0;for(h=53034;h<=53037;h++)O[h]=0;for(h=53042;h<=53046;h++)O[h]=0;for(h=53074;h<=53080;h++)O[h]=0;for(h=54001;h<=54004;h++)O[h]=0;for(h=54008;h<=54019;h++)O[h]=0;for(h=54021;h<=54032;h++)O[h]=0;for(h=54034;h<=54037;h++)O[h]=0;for(h=54042;h<=54046;h++)O[h]=0;for(h=54048;h<=54053;h++)O[h]=0;for(h=54074;h<=54080;h++)O[h]=0;for(h=54098;h<=54101;h++)O[h]=0;for(h=102001;h<=102040;h++)O[h]=0;for(h=102042;h<=102063;h++)O[h]=0;for(h=102065;h<=102067;h++)O[h]=0;for(h=102070;h<=102117;h++)O[h]=0;for(h=102122;h<=102216;h++)O[h]=0;for(h=102221;h<=102377;h++)O[h]=0;for(h=102382;h<=102388;h++)O[h]=0;for(h=102389;h<=102398;h++)O[h]=2;for(h=102399;h<=102444;h++)O[h]=0;for(h=102445;h<=102447;h++)O[h]=2;for(h=102448;h<=102458;h++)O[h]=0;for(h=102459;h<=102468;h++)O[h]=2;for(h=102469;h<=102499;h++)O[h]=0;for(h=102500;h<=102519;h++)O[h]=1;for(h=102520;h<=102524;h++)O[h]=0;for(h=102525;h<=102529;h++)O[h]=2;for(h=102530;h<=102588;h++)O[h]=0;for(h=102590;h<=102598;h++)O[h]=0;for(h=102601;h<=102603;h++)O[h]=0;for(h=102605;h<=102628;h++)O[h]=0;for(h=102629;h<=102646;h++)O[h]=2;for(h=102648;h<=102700;h++)O[h]=2;for(h=102701;h<=102703;h++)O[h]=0;for(h=102707;h<=102730;h++)O[h]=2;for(h=102733;h<=102758;h++)O[h]=2;for(h=102767;h<=102900;h++)O[h]=0;for(h=102901;h<=102933;h++)O[h]=2;for(h=102934;h<=102950;h++)O[h]=13;for(h=102951;h<=102963;h++)O[h]=0;for(h=102965;h<=102969;h++)O[h]=0;for(h=102971;h<=102973;h++)O[h]=0;for(h=102975;h<=102989;h++)O[h]=0;for(h=102990;h<=102992;h++)O[h]=1;for(h=102997;h<=103002;h++)O[h]=0;for(h=103003;h<=103008;h++)O[h]=2;for(h=103009;h<=103011;h++)O[h]=0;for(h=103012;h<=103014;h++)O[h]=2;for(h=103019;h<=103021;h++)O[h]=0;for(h=103022;h<=103024;h++)O[h]=2;for(h=103029;h<=103031;h++)O[h]=0;for(h=103032;h<=103034;h++)O[h]=2;for(h=103065;h<=103068;h++)O[h]=0;for(h=103074;h<=103076;h++)O[h]=0;for(h=103077;h<=103079;h++)O[h]=1;for(h=103080;h<=103082;h++)O[h]=0;for(h=103083;h<=103085;h++)O[h]=2;for(h=103090;h<=103093;h++)O[h]=0;for(h=103097;h<=103099;h++)O[h]=0;for(h=103100;h<=103102;h++)O[h]=2;for(h=103107;h<=103109;h++)O[h]=0;for(h=103110;h<=103112;h++)O[h]=2;for(h=103113;h<=103116;h++)O[h]=0;for(h=103117;h<=103120;h++)O[h]=2;for(h=103153;h<=103157;h++)O[h]=0;for(h=103158;h<=103162;h++)O[h]=2;for(h=103163;h<=103165;h++)O[h]=0;for(h=103166;h<=103168;h++)O[h]=1;for(h=103169;h<=103171;h++)O[h]=2;for(h=103186;h<=103188;h++)O[h]=0;for(h=103189;h<=103191;h++)O[h]=2;for(h=103192;h<=103195;h++)O[h]=0;for(h=103196;h<=103199;h++)O[h]=2;for(h=103200;h<=103224;h++)O[h]=0;for(h=103225;h<=103227;h++)O[h]=1;for(h=103232;h<=103237;h++)O[h]=0;for(h=103238;h<=103243;h++)O[h]=2;for(h=103244;h<=103246;h++)O[h]=0;for(h=103247;h<=103249;h++)O[h]=2;for(h=103254;h<=103256;h++)O[h]=0;for(h=103257;h<=103259;h++)O[h]=2;for(h=103264;h<=103266;h++)O[h]=0;for(h=103267;h<=103269;h++)O[h]=2;for(h=103300;h<=103375;h++)O[h]=0;for(h=103381;h<=103383;h++)O[h]=0;for(h=103384;h<=103386;h++)O[h]=1;for(h=103387;h<=103389;h++)O[h]=0;for(h=103390;h<=103392;h++)O[h]=2;for(h=103397;h<=103399;h++)O[h]=0;for(h=103400;h<=103471;h++)O[h]=2;for(h=103476;h<=103478;h++)O[h]=0;for(h=103479;h<=103481;h++)O[h]=2;for(h=103486;h<=103488;h++)O[h]=0;for(h=103489;h<=103491;h++)O[h]=2;for(h=103492;h<=103495;h++)O[h]=0;for(h=103496;h<=103499;h++)O[h]=2;for(h=103528;h<=103543;h++)O[h]=0;for(h=103544;h<=103548;h++)O[h]=2;for(h=103549;h<=103551;h++)O[h]=0;for(h=103552;h<=103554;h++)O[h]=1;for(h=103555;h<=103557;h++)O[h]=2;for(h=103558;h<=103560;h++)O[h]=0;for(h=103571;h<=103573;h++)O[h]=0;for(h=103574;h<=103576;h++)O[h]=2;for(h=103577;h<=103580;h++)O[h]=0;for(h=103581;h<=103583;h++)O[h]=2;for(h=103595;h<=103694;h++)O[h]=0;for(h=103696;h<=103699;h++)O[h]=0;for(h=103700;h<=103793;h++)O[h]=2;for(h=103794;h<=103890;h++)O[h]=0;for(h=103891;h<=103896;h++)O[h]=2;for(h=103900;h<=103971;h++)O[h]=2;for(h=103972;h<=103977;h++)O[h]=0;for(h=112e3;h<=112101;h++)O[h]=0;const y6=[102100,102113,3857,3785,900913],GB=[104905,104971],zB=[4326,...y6,...GB],Kp=[-20037508342788905e-9,20037508342788905e-9],iw=[-20037508342787e-6,20037508342787e-6],l_={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:Kp,origin:iw,dx:1e-5},g6={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Kp,origin:iw,dx:1e-5},102100:l_,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Kp,origin:iw,dx:1e-5},3857:l_,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:l_};function Zc(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const i=e.wkid,r=t.wkid;if(i!=null||r!=null){if(i===r||Kc(e)&&Kc(t))return!0;const o=e.latestWkid;if(o!=null&&r===o)return!0;const a=t.latestWkid;return a!=null&&i===a}let s,n;return e.wkt2&&t.wkt2?(s=e.wkt2,n=t.wkt2):e.wkt&&t.wkt&&(s=e.wkt,n=t.wkt),!(!s||!n)&&s.toUpperCase()===n.toUpperCase()}function cp(e){const t=e?.wkid;return t!=null&&t>=2e3&&g6[t]||null}function I1e(e){if(!e)return;const{wkid:t,vcsWkid:i}=e;if(t)return i?JSON.stringify({wkid:t,vcsWkid:i}):String(t);const r=e.wkt||e.wkt2;return JSON.stringify(r?i?{wkt:r,vcsWkid:i}:{wkt:r}:{})}function Hm(e){if(!v6(e))return!1;const{wkid:t}=e;if(t)return O[t]==null;const i=e.wkt2||e.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function qB(e){return!(HB(e)||WB(e))}function Qg(e){return e?.wkid===4326}function P1e(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function N1e(e){return e?.wkid===ef.CGCS2000}function Kc(e){const t=e?.wkid;return t!=null&&t>=2e3&&y6.includes(t)}function L1e(e){return e?.wkid===32662}function P1(e){return e===ef.GCSMARS2000||e===ef.GCSMARS2000_SPHERE}function HB(e){return P1(e?.wkid)}function N1(e){return e===ef.GCSMOON2000}function WB(e){return N1(e?.wkid)}function YB(e){const t=e?.wkid;return t!=null&&t>=2e3&&zB.includes(t)}function v6(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const b6={wkid:4326,wkt:YE(g6[4326].wkTemplate,{Central_Meridian:"0.0"})},_6={wkid:102100,latestWkid:3857},JB={wkid:32662};function xS(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const ZB=xS(Mn),w6=xS(Wp),x6=xS($1),k1e={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Mn.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},KB=w6.wkt.toUpperCase(),XB=x6.wkt.toUpperCase();function QB(e){if(e!=null&&v6(e)){const t=e.wkid,i=e.wkt2??e.wkt;if(P1(t))return Wp;const r=i?.toUpperCase();if(i&&r===KB)return Wp;if(N1(t)||r&&r===XB)return $1}return Mn}function R1e(e){return P1(e)?Wp:N1(e)?$1:Mn}function eG(e){return Zc(e,ZB)}function D1e(e){return eG(e)||Zc(e,w6)||Zc(e,x6)}const F1e=39.37,tG=Mn.radius*Math.PI/200,E6=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,tf=O,S6=/UNIT\[([^\]]+)]/i,iG=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),rG=kn()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),tn=e=>e*e,Ta=e=>e*e*e,Xp={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:tn(.001)},"square-centimeters":{inBaseUnits:tn(.01)},"square-decimeters":{inBaseUnits:tn(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:tn(1e3)},"square-inches":{inBaseUnits:tn(.0254)},"square-feet":{inBaseUnits:tn(.3048)},"square-yards":{inBaseUnits:tn(.9144)},"square-miles":{inBaseUnits:tn(1609.344)},"square-nautical-miles":{inBaseUnits:tn(1852)},"square-us-feet":{inBaseUnits:tn(1200/3937)},acres:{inBaseUnits:.0015625*tn(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Ta(.001)},"cubic-centimeters":{inBaseUnits:1e3*Ta(.01)},"cubic-decimeters":{inBaseUnits:1e3*Ta(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Ta(1e3)},"cubic-inches":{inBaseUnits:1e3*Ta(.0254)},"cubic-feet":{inBaseUnits:1e3*Ta(.3048)},"cubic-yards":{inBaseUnits:1e3*Ta(.9144)},"cubic-miles":{inBaseUnits:1e3*Ta(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},sG=(()=>{const e={};for(const t in Xp)for(const i in Xp[t].units)e[i]=t;return e})();function nG(e,t,i){return e*Xp[i].units[t].inBaseUnits}function oG(e,t,i){return e/Xp[i].units[t].inBaseUnits}const A6=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],aG=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function rw(e){const t=sG[e];if(!t)throw new Error("unknown type");return t}function L4(e,t=null){return t=t||rw(e),Xp[t].baseUnit===e}function On(e,t,i){if(t===i)return e;const r=rw(t);if(r!==rw(i))throw new Error("incompatible units");const s=L4(t,r)?e:nG(e,t,r);return L4(i,r)?s:oG(s,i,r)}function U1e(e,t,i,r=!1){if(!r&&Hm(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const s=yu(t);return s!==i&&(e=s?On(e,s,i):On(e*=Uf(t),"meters",i)),e}function j1e(e,t,i,r=!1){if(!r&&Hm(i))throw new Error("Unable to convert from a linear unit to an angular unit.");const s=yu(i);return t!==s&&(e=s?On(e,t,s):On(e,t,"meters")/Uf(i)),e}function lG(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function V1e(e){return lG(e)}function B1e(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function G1e(e,t){const i=On(e,t,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function z1e(e,t){const i=On(e,t,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function q1e(e,t){const i=On(e,t,"feet");return Math.abs(i)<1e3?"feet":"miles"}function H1e(e,t){const i=On(e,t,"feet");return Math.abs(i)<1e5?"feet":"miles"}function W1e(e,t){const i=On(e,t,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function Y1e(e,t){const i=On(e,t,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function J1e(e,t,i){return On(e,t,"meters")/(i*Math.PI/180)}function T6(e){return rG.fromJSON(e.toLowerCase())||null}function Z1e(e){if(e!=null&&!qB(e))return 1;const t=Uf(e);return t>1e5?1:t}function cG(e){return Uf(e)>=QB(e).metersPerDegree?"meters":yu(e)}function Uf(e,t=Mn.metersPerDegree){return uG(e,!0)??t}function uG(e,t=!1){const i=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let s=null;if(i){if(P1(i))return Wp.metersPerDegree;if(N1(i))return $1.metersPerDegree;s=tf.values[tf[i]],!s&&t&&iG.has(i)&&(s=tG)}else r&&(O6(r)?s=k4(E6.exec(r),s):M6(r)&&(s=k4(S6.exec(r),s)));return s}function K1e(e){return Hm(e)?1:Uf(e)}function k4(e,t){return e?.[1]?$6(e[1]):t}function $6(e){return parseFloat(e.split(",")[1])}function yu(e){const t=e?.wkid??null,i=e?.wkt2??e?.wkt??null;let r=null;if(t)r=tf.units[tf[t]];else if(i){const s=O6(i)?E6:M6(i)?S6:null;if(s){const n=s.exec(i);n?.[1]&&(r=fG(n[1]))}}return r!=null?T6(r):null}function X1e(e){const t=yu(e);return t!=null&&A6.includes(t)?t:null}function Q1e(e){const t=cG(e);return t!=null&&A6.includes(t)?t:null}function ebe(e){const t=yu(e);return t==null?null:aG.get(t)}function M6(e){return/^GEOCCS/i.test(e)}function O6(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const hG=1e-7;function fG(e){let i=/[\\"']{1}([^\\"']+)/.exec(e)?.[1];if(!i||!T6(i)){const r=$6(e);i=null;const s=tf.values;for(let n=0;n<s.length;++n)if(Math.abs(r-s[n])<hG){i=tf.units[n];break}}return i}function tbe(e){const t=yu(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const dG={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},pG={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},mG={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},ibe=kn()(dG),rbe=kn()(pG),sbe=kn()(mG);function Jt(e,t,i){let r,s;return t===void 0?(s=e,r=[void 0]):typeof t!="string"?(s=e,r=[void 0],i=t):(s=t,r=Array.isArray(e)?e:[e]),(n,o)=>{const a=n.constructor.prototype;for(const l of r){const c=x5(n,l,s);c.write&&typeof c.write=="object"||(c.write={}),i&&(c.write.target=i),c.write.writer=a[o]}}}var qn;let wt=qn=class extends Xe{static fromJSON(e){if(!e)return null;if(e?.wkid===102100)return qn.WebMercator;if(e?.wkid===4326)return qn.WGS84;const t=new qn;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return Qg(this)}get isWebMercator(){return Kc(this)}get isGeographic(){return Hm(this)}get isWrappable(){return YB(this)}get metersPerUnit(){return Uf(this)}get unit(){return yu(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===qn.WGS84)return new qn(b6);if(this===qn.WebMercator)return new qn(_6);const e=new qn;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=ge(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:r}=e.imageCoordinateSystem,s=this.imageCoordinateSystem;return t==null||r?JSON.stringify(s)===JSON.stringify(e.imageCoordinateSystem):i?s.id===t&&s.referenceServiceName===i:s.id===t}return Zc(this,e)}toJSON(e){return this.write(void 0,e)}};wt.GCS_NAD_1927=null,wt.WGS84=null,wt.WebMercator=null,wt.PlateCarree=null,g([A({readOnly:!0})],wt.prototype,"isWGS84",null),g([A({readOnly:!0})],wt.prototype,"isWebMercator",null),g([A({readOnly:!0})],wt.prototype,"isGeographic",null),g([A({readOnly:!0})],wt.prototype,"isWrappable",null),g([A({type:Ni,json:{write:!0}})],wt.prototype,"latestWkid",void 0),g([A({readOnly:!0})],wt.prototype,"metersPerUnit",null),g([A({readOnly:!0})],wt.prototype,"unit",null),g([A({type:Ni,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],wt.prototype,"wkid",void 0),g([A({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],wt.prototype,"wkt",void 0),g([Jt("wkt"),Jt("web-scene","wkt")],wt.prototype,"writeWkt",null),g([A({type:String,json:{write:!1}})],wt.prototype,"wkt2",void 0),g([A({type:Ni,json:{write:!0}})],wt.prototype,"vcsWkid",void 0),g([A({type:Ni,json:{write:!0}})],wt.prototype,"latestVcsWkid",void 0),g([A()],wt.prototype,"imageCoordinateSystem",void 0),wt=qn=g([ie("esri.geometry.SpatialReference")],wt),wt.prototype.toJSON.isDefaultToJSON=!0,wt.GCS_NAD_1927=Hi.freeze(new wt({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),wt.WGS84=Hi.freeze(new wt(b6)),wt.WebMercator=Hi.freeze(new wt(_6)),wt.PlateCarree=Hi.freeze(new wt(JB));const Yi=wt;let Hn=class extends Xe{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Yi.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,i){if(t instanceof Yi)return t;if(t!=null){const r=new Yi;return r.read(t,i),r}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,i){this.cache[t]=i}};g([A()],Hn.prototype,"type",void 0),g([A({readOnly:!0})],Hn.prototype,"cache",null),g([A({readOnly:!0})],Hn.prototype,"extent",null),g([A({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Hn.prototype,"hasM",void 0),g([A({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Hn.prototype,"hasZ",void 0),g([A({type:Yi,json:{write:!0},value:Yi.WGS84})],Hn.prototype,"spatialReference",void 0),g([tr("spatialReference")],Hn.prototype,"readSpatialReference",null),Hn=g([ie("esri.geometry.Geometry")],Hn);const gu=Hn,yG=Object.prototype.toString;function gG(e){const t="__accessorMetadata__"in e?$n(e):e;return function(...i){if(i.push(t),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return vG.apply(this,i)}}function vG(e,t,i,r){S1(e,t).cast=r}function bG(e){return(t,i)=>{S1(t,e).cast=t[i]}}function Wm(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&yG.call(e[0])==="[object Function]"?gG(e[0]):e.length===1&&typeof e[0]=="string"?bG(e[0]):void 0}function Qp(e){if(e&&typeof e=="object"&&"type"in e&&e.type==="mesh")throw new ft("Mesh geometries are not supported for this operation")}function obe(e){e.forEach(Qp)}const _G=57.29577951308232,wG=.017453292519943;function R4(e){return e*_G}function D4(e){return e*wG}function abe(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Mn.radius))}function sw(e){return e.wkid!=null||e.wkt!=null}const c_=[0,0];function ev(e,t,i,r,s){const n=e,o=s;if(o.spatialReference=i,"x"in n&&"x"in o)[o.x,o.y]=t(n.x,n.y,c_,r);else if("xmin"in n&&"xmin"in o)[o.xmin,o.ymin]=t(n.xmin,n.ymin,c_,r),[o.xmax,o.ymax]=t(n.xmax,n.ymax,c_,r);else if("paths"in n&&"paths"in o||"rings"in n&&"rings"in o){const a="paths"in n?n.paths:n.rings,l=[];let c;for(let f=0;f<a.length;f++){const d=a[f];c=[],l.push(c);for(let p=0;p<d.length;p++)c.push(t(d[p][0],d[p][1],[0,0],r)),d[p].length>2&&c[p].push(d[p][2]),d[p].length>3&&c[p].push(d[p][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in n&&"points"in o){const a=n.points,l=[];for(let c=0;c<a.length;c++)l[c]=t(a[c][0],a[c][1],[0,0],r),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return s}function Vy(e,t){const i=e&&(sw(e)?e:e.spatialReference),r=t&&(sw(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!i||!r)&&(!!Zc(r,i)||Kc(r)&&Qg(i)||Kc(i)&&Qg(r))}function C6(e,t){if(e==null)return null;const i=e.spatialReference,r=t&&(sw(t)?t:t.spatialReference);return Vy(i,r)?Zc(i,r)?ge(e):Kc(r)?ev(e,dh,Yi.WebMercator,!1,ge(e)):Qg(r)?ev(e,L1,Yi.WGS84,!1,ge(e)):null:null}function dh(e,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=D4(t);return i[0]=D4(e)*Mn.radius,i[1]=Mn.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function L1(e,t,i=[0,0],r=!1){if(e===Kp[0])i[0]=-180;else if(e===Kp[1])i[0]=180;else{const s=R4(e/Mn.radius);i[0]=r?s:s-360*Math.floor((s+180)/360)}return i[1]=R4(Math.PI/2-2*Math.atan(Math.exp(-t/Mn.radius))),i}function u_(e,t=!1,i=ge(e)){return Qp(e),Qp(i),ev(e,dh,Yi.WebMercator,t,i)}function j0(e,t=!1,i=ge(e)){return Qp(e),Qp(i),ev(e,L1,Yi.WGS84,t,i)}function xG(e,t){const i=e.x-t.x,r=e.y-t.y,s=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(i*i+r*r+s*s)}function EG(e){return I6(e,P6)?.[0]??null}function SG(e){return I6(e,P6)?.[1]??null}function I6({x:e,y:t,spatialReference:i},r=[0,0]){if(i){if(Kc(i))return L1(e,t,r);if(Hm(i))return r[0]=e,r[1]=t,r}return null}const P6=[0,0];var By;const h_=[0,0];function F4(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Or=By=class extends gu{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",Hi.isFrozen(i)?i:i.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,i,r,s){let n;if(Array.isArray(e))n=e,s=t,e=n[0],t=n[1],i=n[2],r=n[3];else if(e&&typeof e=="object"){if(n=e,e=n.x!=null?n.x:n.longitude,t=n.y!=null?n.y:n.latitude,i=n.z,r=n.m,(s=n.spatialReference)&&s.declaredClass!=="esri.geometry.SpatialReference"&&(s=new Yi(s)),n.longitude!=null||n.latitude!=null){if(n.longitude==null)Rt.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(n.latitude==null)Rt.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&s?.isWebMercator){const a=dh(n.longitude,n.latitude,h_);e=a[0],t=a[1]}}}else F4(i)?(s=i,i=null):F4(r)&&(s=r,r=null);const o={x:e,y:t};return o.x==null&&o.y!=null?Rt.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&Rt.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),s!=null&&(o.spatialReference=s),i!=null&&(o.z=i),r!=null&&(o.m=r),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return SG(this)}set latitude(e){const{spatialReference:t,x:i}=this;e!=null&&t&&(t.isWebMercator?this._set("y",dh(i,e,h_)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return EG(this)}set longitude(e){const{y:t,spatialReference:i}=this;e!=null&&i&&(i.isWebMercator?this._set("x",dh(e,t,h_)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new By;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return By.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:i,z:r,m:s,spatialReference:n}=this,{z:o,m:a}=e;let{x:l,y:c,spatialReference:f}=e;if(!n.equals(f))if(n.isWebMercator&&f.isWGS84)[l,c]=dh(l,c),f=n;else{if(!n.isWGS84||!f.isWebMercator)return!1;[l,c]=L1(l,c),f=n}return t===l&&i===c&&r===o&&s===a&&n.wkid===f.wkid}offset(e,t,i){return this.x+=e,this.y+=t,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const e=cp(this.spatialReference);if(!e)return this;let t=this.x;const[i,r]=e.valid,s=2*r;let n;return t>r?(n=Math.ceil(Math.abs(t-r)/s),t-=n*s):t<i&&(n=Math.ceil(Math.abs(t-i)/s),t+=n*s),this._set("x",t),this}distance(e){return xG(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};g([A({readOnly:!0})],Or.prototype,"cache",null),g([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Or.prototype,"hasM",null),g([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Or.prototype,"hasZ",null),g([A({type:Number})],Or.prototype,"latitude",null),g([A({type:Number})],Or.prototype,"longitude",null),g([A({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Wm(e=>isNaN(e)?e:x1(e))],Or.prototype,"x",void 0),g([Jt("x")],Or.prototype,"writeX",null),g([tr("x")],Or.prototype,"readX",null),g([A({type:Number,json:{write:!0}})],Or.prototype,"y",void 0),g([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Or.prototype,"z",void 0),g([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Or.prototype,"m",void 0),Or=By=g([ie("esri.geometry.Point")],Or),Or.prototype.toJSON.isDefaultToJSON=!0;const Pi=Or,f_=[0,0];function N6(e,t){return t!=null&&Pr(e,t.x,t.y,t.z)}function lbe(e,t){if(!t.points?.length)return!1;for(const i of t.points)if(!rf(e,i))return!1;return!0}function AG(e,t){const{xmin:i,ymin:r,zmin:s,xmax:n,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?Pr(e,i,r,s)&&Pr(e,i,o,s)&&Pr(e,n,o,s)&&Pr(e,n,r,s)&&Pr(e,i,r,a)&&Pr(e,i,o,a)&&Pr(e,n,o,a)&&Pr(e,n,r,a):Pr(e,i,r)&&Pr(e,i,o)&&Pr(e,n,o)&&Pr(e,n,r)}function rf(e,t){return Pr(e,t[0],t[1])}function TG(e,t){return Pr(e,t[0],t[1],t[2])}function Pr(e,t,i,r){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(r==null||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function $G(e,t){return f_[1]=t.y,f_[0]=t.x,MG(e,f_)}function MG(e,t){return L6(e.rings,t)}function L6(e,t){if(!e)return!1;if(OG(e))return U4(!1,e,t);let i=!1;for(let r=0,s=e.length;r<s;r++)i=U4(i,e[r],t);return i}function OG(e){return!Array.isArray(e[0][0])}function U4(e,t,i){const[r,s]=i;let n=e,o=0;for(let a=0,l=t.length;a<l;a++){o++,o===l&&(o=0);const[c,f]=t[a],[d,p]=t[o];(f<s&&p>=s||p<s&&f>=s)&&c+(s-f)/(p-f)*(d-c)<r&&(n=!n)}return n}function CG(e,t){return N6(e,t)}function IG(e,t){const i=e.hasZ&&t.hasZ;let r,s,n;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(s=t.ymin,e.ymax<s)return!1}else if(s=e.ymin,t.ymax<s)return!1;if(i&&t.hasZ){if(e.zmin<=t.zmin){if(n=t.zmin,e.zmax<n)return!1}else if(n=e.zmin,t.zmax<n)return!1}return!0}function PG(e,t){const{points:i,hasZ:r}=t,s=r?TG:rf;for(const n of i)if(s(e,n))return!0;return!1}const Xc=[0,0],Qc=[0,0],eu=[0,0],tu=[0,0],NG=[Xc,Qc,eu,tu],k6=[[eu,Xc],[Xc,Qc],[Qc,tu],[tu,eu]];function LG(e,t){return kG(e,t.rings)}function kG(e,t){Xc[0]=e.xmin,Xc[1]=e.ymax,Qc[0]=e.xmax,Qc[1]=e.ymax,eu[0]=e.xmin,eu[1]=e.ymin,tu[0]=e.xmax,tu[1]=e.ymin;for(const i of NG)if(L6(t,i))return!0;for(const i of t){if(!i.length)continue;let r=i[0];if(rf(e,r))return!0;for(let s=1;s<i.length;s++){const n=i[s];if(rf(e,n)||R6(r,n,k6))return!0;r=n}}return!1}function RG(e,t){Xc[0]=e.xmin,Xc[1]=e.ymax,Qc[0]=e.xmax,Qc[1]=e.ymax,eu[0]=e.xmin,eu[1]=e.ymin,tu[0]=e.xmax,tu[1]=e.ymin;const i=t.paths;for(const r of i){if(!i.length)continue;let s=r[0];if(rf(e,s))return!0;for(let n=1;n<r.length;n++){const o=r[n];if(rf(e,o)||R6(s,o,k6))return!0;s=o}}return!1}const Qi=[0,0];function DG(e){for(let t=0;t<e.length;t++){const i=e[t];for(let s=0;s<i.length-1;s++){const n=i[s],o=i[s+1];for(let a=t+1;a<e.length;a++)for(let l=0;l<e[a].length-1;l++){const c=e[a][l],f=e[a][l+1];if(nw(n,o,c,f,Qi)&&!(Qi[0]===n[0]&&Qi[1]===n[1]||Qi[0]===c[0]&&Qi[1]===c[1]||Qi[0]===o[0]&&Qi[1]===o[1]||Qi[0]===f[0]&&Qi[1]===f[1]))return!0}}const r=i.length;if(!(r<=4))for(let s=0;s<r-3;s++){let n=r-1;s===0&&(n=r-2);const o=i[s],a=i[s+1];for(let l=s+2;l<n;l++){const c=i[l],f=i[l+1];if(nw(o,a,c,f,Qi)&&!(Qi[0]===o[0]&&Qi[1]===o[1]||Qi[0]===c[0]&&Qi[1]===c[1]||Qi[0]===a[0]&&Qi[1]===a[1]||Qi[0]===f[0]&&Qi[1]===f[1]))return!0}}}return!1}function R6(e,t,i){for(let r=0;r<i.length;r++)if(nw(e,t,i[r][0],i[r][1]))return!0;return!1}function nw(e,t,i,r,s){const[n,o]=e,[a,l]=t,[c,f]=i,[d,p]=r,y=d-c,v=n-c,b=a-n,S=p-f,E=o-f,T=l-o,w=S*b-y*T;if(w===0)return!1;const _=(y*E-S*v)/w,$=(b*E-T*v)/w;return _>=0&&_<=1&&$>=0&&$<=1&&(s&&(s[0]=n+_*(a-n),s[1]=o+_*(l-o)),!0)}function FG(e){switch(e){case"esriGeometryEnvelope":case"extent":return IG;case"esriGeometryMultipoint":case"multipoint":return PG;case"esriGeometryPoint":case"point":return CG;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return LG;case"esriGeometryPolyline":case"polyline":return RG}}var on;function UG(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function $a(e,t,i){return t==null?i:i==null?t:e(t,i)}let ji=on=class extends gu{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,r,s){return UG(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?Yi.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:r,spatialReference:s??Yi.WGS84}}static fromPoint(e){return new on({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new Pi({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new on;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&Vy(t,i)&&(e=t.isWebMercator?u_(e):j0(e,!0)),e.type==="point"?N6(this,e):e.type==="extent"&&AG(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&Vy(t,i)&&(e=t.isWebMercator?u_(e):j0(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,r=this.height*t;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const s=(this.zmax-this.zmin)*t;this.zmin+=s,this.zmax-=s}if(this.hasM){const s=(this.mmax-this.mmin)*t;this.mmin+=s,this.mmax-=s}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!Zc(t,i)&&Vy(t,i)&&(e=t.isWebMercator?u_(e):j0(e,!0)),FG(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=$a(Math.min,this.zmin,e.zmin),this.zmax=$a(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=$a(Math.min,this.mmin,e.mmin),this.mmax=$a(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=$a(Math.max,this.zmin,e.zmin),this.zmax=$a(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=$a(Math.max,this.mmin,e.mmin),this.mmax=$a(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=cp(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){const r=t.isWebMercator?j0(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(r.x=d_(r.x,e).x),this.spatialReference=new Yi(YE((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null;const[i,r]=e.valid,s=this.xmin,n=this.xmax;return s>=i&&s<=r&&n>=i&&n<=r||(t=this.center),t}_normalize(e,t,i){const r=this.spatialReference;if(!r)return this;const s=i??cp(r);if(s==null)return this;const n=this._getParts(s).map(l=>l.extent);if(n.length<2)return n[0]||this;if(n.length>2)return e?this._shiftCM(s):this.set({xmin:s.valid[0],xmax:s.valid[1]});if(e)return this._shiftCM(s);if(t)return n;let o=!0,a=!0;return n.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:n.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const f=(l.zmax-l.zmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}if(a){const f=(l.mmax-l.mmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}return c}),hasZ:o,hasM:a,spatialReference:r}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:s,ymax:n,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let f;e=e||cp(o);const[d,p]=e.valid;f=d_(this.xmin,e);const y=f.x,v=f.frameId;f=d_(this.xmax,e);const b=f.x,S=f.frameId,E=y===b&&a>0;if(a>2*p){const T=new on(l<c?y:b,s,p,n,o),w=new on(d,s,l<c?b:y,n,o),_=new on(0,s,p,n,o),$=new on(d,s,0,n,o),M=[],I=[];T.contains(_)&&M.push(v),T.contains($)&&I.push(v),w.contains(_)&&M.push(S),w.contains($)&&I.push(S);for(let N=v+1;N<S;N++)M.push(N),I.push(N);t.push({extent:T,frameIds:[v]},{extent:w,frameIds:[S]},{extent:_,frameIds:M},{extent:$,frameIds:I})}else y>b||E?t.push({extent:new on(y,s,p,n,o),frameIds:[v]},{extent:new on(d,s,b,n,o),frameIds:[S]}):t.push({extent:new on(y,s,b,n,o),frameIds:[v]});this.cache._parts=t}const i=this.hasZ,r=this.hasM;if(i||r){const s={};i&&(s.zmin=this.zmin,s.zmax=this.zmax),r&&(s.mmin=this.mmin,s.mmax=this.mmax);for(let n=0;n<t.length;n++)t[n].extent.set(s)}return t}};function d_(e,t){const[i,r]=t.valid,s=2*r;let n,o=0;return e>r?(n=Math.ceil(Math.abs(e-r)/s),e-=n*s,o=n):e<i&&(n=Math.ceil(Math.abs(e-i)/s),e+=n*s,o=-n),{x:e,frameId:o}}g([A({readOnly:!0})],ji.prototype,"cache",null),g([A({readOnly:!0})],ji.prototype,"center",null),g([A({readOnly:!0})],ji.prototype,"extent",null),g([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],ji.prototype,"hasM",null),g([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],ji.prototype,"hasZ",null),g([A({readOnly:!0})],ji.prototype,"height",null),g([A({readOnly:!0})],ji.prototype,"width",null),g([A({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],ji.prototype,"xmin",void 0),g([A({type:Number,json:{write:!0}})],ji.prototype,"ymin",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],ji.prototype,"mmin",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ji.prototype,"zmin",void 0),g([A({type:Number,json:{write:!0}})],ji.prototype,"xmax",void 0),g([A({type:Number,json:{write:!0}})],ji.prototype,"ymax",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],ji.prototype,"mmax",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ji.prototype,"zmax",void 0),ji=on=g([ie("esri.geometry.Extent")],ji),ji.prototype.toJSON.isDefaultToJSON=!0;const Js=ji;function sf(e,t,i=!1){let{hasM:r,hasZ:s}=e;Array.isArray(t)?t.length!==4||r||s?t.length===3&&i&&!r?(s=!0,r=!1):t.length===3&&r&&s&&(r=!1,s=!1):(r=!0,s=!0):(s=!s&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!s||t.hasZ)),e.hasZ=s,e.hasM=r}var ow;function j4(e){return(t,i)=>t==null?i:i==null?t:e(t,i)}function jG(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Ra=ow=class extends gu{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const i={};Array.isArray(e)?(i.points=e,i.spatialReference=t):jG(e)?i.spatialReference=e:(e.points&&(i.points=e.points),e.spatialReference&&(i.spatialReference=e.spatialReference),e.hasZ&&(i.hasZ=e.hasZ),e.hasM&&(i.hasM=e.hasM));const r=i.points?.[0];return r&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=r.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=r.length>3:i.hasM===void 0&&(i.hasM=r.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Js,i=this.hasZ,r=this.hasM,s=i?3:2,n=e[0],o=j4(Math.min),a=j4(Math.max);let l,c,f,d,[p,y]=n,[v,b]=n;for(let S=0,E=e.length;S<E;S++){const T=e[S],[w,_]=T;if(p=o(p,w),y=o(y,_),v=a(v,w),b=a(b,_),i&&T.length>2){const $=T[2];l=o(l,$),f=a(f,$)}if(r&&T.length>s){const $=T[s];c=o(c,$),d=a(d,$)}}return t.xmin=p,t.ymin=y,t.xmax=v,t.ymax=b,t.spatialReference=this.spatialReference,i?(t.zmin=l,t.zmax=f):(t.zmin=void 0,t.zmax=void 0),r?(t.mmin=c,t.mmax=d):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=ge(this.points)}addPoint(e){return sf(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:ge(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new ow(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],i={x:t[0],y:t[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(i.z=t[2],r=3),this.hasM&&(i.m=t[r]),new Pi(i)}removePoint(e){if(!this._validateInputs(e))return null;const t=new Pi(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(sf(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};g([A({readOnly:!0})],Ra.prototype,"cache",null),g([A()],Ra.prototype,"extent",null),g([A({type:[[Number]],json:{write:{isRequired:!0}}})],Ra.prototype,"points",void 0),g([Jt("points")],Ra.prototype,"writePoints",null),Ra=ow=g([ie("esri.geometry.Multipoint")],Ra),Ra.prototype.toJSON.isDefaultToJSON=!0;const k1=Ra;function cbe(e){const t=[];for(e.reset();e.nextPath();){const i=[];for(;e.nextPoint();)i.push([e.x,e.y]);t.push(i)}return e.reset(),t}function VG(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var tv;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(tv||(tv={}));function ube(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,i=e.hasM;if(e.type==="point")return i&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:i?[e.x,e.y,e.m]:[e.x,e.y];if(e.type==="polygon")return e.rings.slice();if(e.type==="polyline")return e.paths.slice();if(e.type==="multipoint")return e.points.slice();if(e.type==="extent"){const r=e.clone().normalize();if(!r)return null;let s=!1,n=!1;return r.forEach(o=>{o.hasZ&&(s=!0),o.hasM&&(n=!0)}),r.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(s&&o.hasZ){const l=.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(n&&o.hasM){const l=.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a})}return null}function R1(e,t){const i=t[0]-e[0],r=t[1]-e[1];if(e.length>2&&t.length>2){const s=e[2]-t[2];return Math.sqrt(i*i+r*r+s*s)}return Math.sqrt(i*i+r*r)}function D6(e,t,i){const r=e[0]+i*(t[0]-e[0]),s=e[1]+i*(t[1]-e[1]);return e.length>2&&t.length>2?[r,s,e[2]+i*(t[2]-e[2])]:[r,s]}function hbe(e,t,i,r){return BG(e,t,i[r],i[r+1])}function BG(e,t,i,r){const[s,n]=t,[o,a]=i,[l,c]=r,f=l-o,d=c-a,p=f*f+d*d,y=(s-o)*f+(n-a)*d,v=Math.min(1,Math.max(0,y/p));return e[0]=o+f*v,e[1]=a+d*v,e}function fbe(e,t,i,r,s,n){let o=i,a=r,l=s-o,c=n-a;if(l!==0||c!==0){const f=((e-o)*l+(t-a)*c)/(l*l+c*c);f>1?(o=s,a=n):f>0&&(o+=l*f,a+=c*f)}return l=e-o,c=t-a,l*l+c*c}function F6(e,t){return D6(e,t,.5)}function dbe(e){const t=e.length;let i=0;for(let r=0;r<t-1;++r)i+=R1(e[r],e[r+1]);return i}function pbe(e,t){if(t<=0)return e[0];const i=e.length;let r=0;for(let s=0;s<i-1;++s){const n=R1(e[s],e[s+1]);if(t-r<n){const o=(t-r)/n;return D6(e[s],e[s+1],o)}r+=n}return e[i-1]}function U6(e,t=tv.X,i=tv.Y){let r=0;const s=e.length;let n=e[0];for(let o=1;o<s;o++){const a=e[o];r+=(a[t]-n[t])*(a[i]+n[i]),n=a}if(!j6(e)){const o=e[0];r+=(o[t]-n[t])*(o[i]+n[i])}return r>=0}function j6(e){const t=e.length;return t<3||b1(e[0],e[t-1])}function mbe(e){"rings"in e&&(GG(e),zG(e))}function GG(e){if(!("rings"in e))return!1;let t=!1;for(const i of e.rings)j6(i)||(i.push(i[0].slice()),t=!0);return t}function zG(e){if(!("rings"in e)||e.rings.length===0||U6(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function ybe(e){return e.type!=="polygon"&&e.type!=="polyline"||qG(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function qG(e,t){const i=cp(t);if(!i)return;const r=i.valid[0],s=i.valid[1],n=s-r;for(const o of e){let a=1/0,l=-1/0;for(const f of o){const d=HG(f[0],r,s);a=Math.min(a,d),l=Math.max(l,d),f[0]=d}const c=l-a;n-c<c&&o.forEach(f=>{f[0]<0&&(f[0]+=n)})}}function HG(e,t,i){const r=i-t;return e<t?i-(t-e)%r:e>i?t+(e-t)%r:e}function gbe(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[i,r]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return i.length===r.length&&i.every((s,n)=>s.length===r[n].length)}function vbe(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function WG(e){return e?YG(e.rings,e.hasZ??!1):null}function YG(e,t){if(!e?.length)return null;const i=[],r=[],s=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,o=e.length;n<o;n++){const a=V6(e[n],t,s);a&&r.push(a)}if(r.sort((n,o)=>{let a=n[2]-o[2];return a===0&&t&&(a=n[4]-o[4]),a}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],t&&(i[2]=r[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||t&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){const n=e[0]&&e[0].length?JG(e[0],t):null;if(!n)return null;i[0]=n[0],i[1]=n[1],t&&n.length>2&&(i[2]=n[2])}return i}function V6(e,t,i){let r=0,s=0,n=0,o=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,f=e.length&&t?e[0][2]:0;for(let p=0;p<e.length;p++){const y=e[p],v=e[(p+1)%e.length],[b,S,E]=y,T=b-l,w=S-c,[_,$,M]=v,I=_-l,N=$-c,P=T*N-I*w;if(o+=P,r+=(T+I)*P,s+=(w+N)*P,t&&y.length>2&&v.length>2){const F=E-f,z=M-f,U=T*z-I*F;n+=(F+z)*U,a+=U}b<i[0]&&(i[0]=b),b>i[1]&&(i[1]=b),S<i[2]&&(i[2]=S),S>i[3]&&(i[3]=S),t&&(E<i[4]&&(i[4]=E),E>i[5]&&(i[5]=E))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const d=[r/(6*o)+l,s/(6*o)+c,o];return t&&(i[4]===i[5]||a===0?(d[3]=(i[4]+i[5])/2,d[4]=0):(d[3]=n/(6*a)+f,d[4]=a)),d}function bbe(e,t){let i=0,r=0,s=0;e.nextPoint();const n=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[f,d]=l,p=f-n,y=d-o,[v,b]=c,S=v-n,E=b-o,T=p*E-S*y;s+=T,i+=(p+S)*T,r+=(y+E)*T,f<t[0]&&(t[0]=f),f>t[1]&&(t[1]=f),d<t[2]&&(t[2]=d),d>t[3]&&(t[3]=d)}return s>0&&(s*=-1),s?(s*=.5,[i/(6*s)+n,r/(6*s)+o,s]):null}function JG(e,t){const i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let s=0,n=0,o=0,a=0;for(let l=0,c=e.length;l<c-1;l++){const f=e[l],d=e[l+1];if(f&&d){i[0]=f[0],i[1]=f[1],r[0]=d[0],r[1]=d[1],t&&f.length>2&&d.length>2&&(i[2]=f[2],r[2]=d[2]);const p=R1(i,r);if(p){s+=p;const y=F6(f,d);n+=p*y[0],o+=p*y[1],t&&y.length>2&&(a+=p*y[2])}}}return s>0?t?[n/s,o/s,a/s]:[n/s,o/s]:e.length?e[0]:null}function ZG(e){const{hasZ:t,totalSize:i}=e;if(i===0)return null;const r=[],s=[],n=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const o=V6(VG(e),e.hasZ,n);o&&s.push(o)}if(s.sort((o,a)=>{let l=o[2]-a[2];return l===0&&t&&(l=o[4]-a[4]),l}),s.length&&(r[0]=s[0][0],r[1]=s[0][1],t&&(r[2]=s[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||t&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){e.reset(),e.nextPath();const o=e.pathSize?KG(e):null;if(!o)return null;r[0]=o[0],r[1]=o[1],t&&o.length>2&&(r[2]=o[2])}return r}function KG(e){const{hasZ:t}=e,i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let s=0,n=0,o=0,a=0;if(e.nextPoint()){let l=e.x,c=e.y,f=e.z;for(;e.nextPoint();){const d=e.x,p=e.y,y=e.z;i[0]=l,i[1]=c,r[0]=d,r[1]=p,t&&(i[2]=f,r[2]=y);const v=R1(i,r);if(v){s+=v;const b=F6(i,r);n+=v*b[0],o+=v*b[1],t&&b.length>2&&(a+=v*b[2])}l=d,c=p,f=y}}return s>0?t?[n/s,o/s,a/s]:[n/s,o/s]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const XG=1e-6;function _be(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<XG){const s=ZG(e);return s?[s[0],s[1]]:null}const i=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const r=[e.x,e.y];for(e.reset();e.nextPath();)ez(i,r,e);return i[0]*=1/t,i[1]*=1/t,i[0]+=r[0],i[1]+=r[1],i}const QG=1/3;function ez(e,t,i){if(!i||i.pathSize<3)return null;i.nextPoint();const r=i.x,s=i.y;i.nextPoint();let n,o=i.x-r,a=i.y-s,l=0,c=0;for(;i.nextPoint();)l=i.x-r,c=i.y-s,n=.5*QG*(l*a-c*o),e[0]+=n*(o+l),e[1]+=n*(a+c),o=l,a=c;const f=i.getCurrentRingArea(),d=[r,s];return d[0]-=t[0],d[1]-=t[1],d[0]*=f,d[1]*=f,e[0]+=d[0],e[1]+=d[1],e}function jf(e=iz){return[e[0],e[1],e[2],e[3]]}function B6(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function wbe(e,t,i,r,s=jf()){return s[0]=e,s[1]=t,s[2]=i,s[3]=r,s}function xbe(e,t=jf()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function Ebe(e,t,i=new Js){return i.xmin=e[0],i.ymin=e[1],i.xmax=e[2],i.ymax=e[3],i.spatialReference=t,i}function Sbe(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function Abe(e,t,i){if(t!=null)if("length"in t)aw(t)?(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[0]),i[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(e[0],t.xmin),i[1]=Math.min(e[1],t.ymin),i[2]=Math.max(e[2],t.xmax),i[3]=Math.max(e[3],t.ymax);break;case"point":i[0]=Math.min(e[0],t.x),i[1]=Math.min(e[1],t.y),i[2]=Math.max(e[2],t.x),i[3]=Math.max(e[3],t.y)}else B6(i,e)}function Tbe(e,t,i=e){const r=t.length;let s=e[0],n=e[1],o=e[2],a=e[3];for(let l=0;l<r;l++){const c=t[l];s=Math.min(s,c[0]),n=Math.min(n,c[1]),o=Math.max(o,c[0]),a=Math.max(a,c[1])}return i[0]=s,i[1]=n,i[2]=o,i[3]=a,i}function $be(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function G6(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function z6(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function Mbe(e){return G6(e)*z6(e)}function Obe(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function Cbe(e){const t=G6(e),i=z6(e);return Math.sqrt(t*t+i*i)}function Ibe(e,t){return tz(e,t.x,t.y)}function tz(e,t,i){return t>=e[0]&&i>=e[1]&&t<=e[2]&&i<=e[3]}function Pbe(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function Nbe(e,t,i){return Math.max(t[0],e[0])-i<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-i<=Math.min(t[3],e[3])}function Lbe(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function kbe(e,t,i,r=e){return r[0]=e[0]+t,r[1]=e[1]+i,r[2]=e[2]+t,r[3]=e[3]+i,r}function Rbe(e,t,i=e){return i[0]=e[0]-t,i[1]=e[1]-t,i[2]=e[2]+t,i[3]=e[3]+t,i}function Dbe(e){return e?B6(e,V4):jf(V4)}function aw(e){return e!=null&&e.length===4}function Fbe(e,t){return aw(e)&&aw(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const V4=[1/0,1/0,-1/0,-1/0],iz=[0,0,0,0];function q6(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function H6(e){return e.points!==void 0}function W6(e){return e.x!==void 0&&e.y!==void 0}function Y6(e){return e.paths!==void 0}function J6(e){return e.rings!==void 0}function Z6(e){function t(i,r){return i==null?r:r==null?i:e(i,r)}return t}const ul=Z6(Math.min),hl=Z6(Math.max);function Ube(e,t){return Y6(t)?nf(e,t.paths,!1,!1):J6(t)?nf(e,t.rings,!1,!1):H6(t)?ES(e,t.points,!1,!1,!1,!1):q6(t)?K6(e,t):(W6(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function jbe(e){let t,i,r,s;for(e.reset(),t=r=1/0,i=s=-1/0;e.nextPath();){const n=rz(e);t=Math.min(n[0],t),r=Math.min(n[1],r),i=Math.max(n[2],i),s=Math.max(n[3],s)}return jf([t,r,i,s])}function rz(e){let t,i,r,s;for(t=r=1/0,i=s=-1/0;e.nextPoint();)t=Math.min(e.x,t),r=Math.min(e.y,r),i=Math.max(e.x,i),s=Math.max(e.y,s);return jf([t,r,i,s])}function Vbe(e,t){return Y6(t)?nf(e,t.paths,!0,!1):J6(t)?nf(e,t.rings,!0,!1):H6(t)?ES(e,t.points,!0,!1,!0,!1):q6(t)?K6(e,t,!0,!1,!0,!1):(W6(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function nf(e,t,i,r){const s=i?3:2;if(!t.length||!t[0].length)return null;let n,o,a,l,[c,f]=t[0][0],[d,p]=t[0][0];for(let y=0;y<t.length;y++){const v=t[y];for(let b=0;b<v.length;b++){const S=v[b],[E,T]=S;if(c=ul(c,E),f=ul(f,T),d=hl(d,E),p=hl(p,T),i&&S.length>2){const w=S[2];n=ul(n,w),o=hl(o,w)}if(r&&S.length>s){const w=S[s];a=ul(n,w),l=hl(o,w)}}}return i?r?(e[0]=c,e[1]=f,e[2]=n,e[3]=a,e[4]=d,e[5]=p,e[6]=o,e[7]=l,e.length=8,e):(e[0]=c,e[1]=f,e[2]=n,e[3]=d,e[4]=p,e[5]=o,e.length=6,e):r?(e[0]=c,e[1]=f,e[2]=a,e[3]=d,e[4]=p,e[5]=l,e.length=6,e):(e[0]=c,e[1]=f,e[2]=d,e[3]=p,e.length=4,e)}function K6(e,t,i,r,s,n){const o=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let f=t.zmin,d=t.zmax,p=t.mmin,y=t.mmax;return s?(f=f||0,d=d||0,n?(p=p||0,y=y||0,e[0]=o,e[1]=l,e[2]=f,e[3]=p,e[4]=a,e[5]=c,e[6]=d,e[7]=y,e):(e[0]=o,e[1]=l,e[2]=f,e[3]=a,e[4]=c,e[5]=d,e)):n?(p=p||0,y=y||0,e[0]=o,e[1]=l,e[2]=p,e[3]=a,e[4]=c,e[5]=y,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=c,e)}function ES(e,t,i,r,s,n){const o=i?3:2,a=r&&n,l=i&&s;if(!t.length||!t[0].length)return null;let c,f,d,p,[y,v]=t[0],[b,S]=t[0];for(let E=0;E<t.length;E++){const T=t[E],[w,_]=T;if(y=ul(y,w),v=ul(v,_),b=hl(b,w),S=hl(S,_),l&&T.length>2){const $=T[2];c=ul(c,$),f=hl(f,$)}if(a&&T.length>o){const $=T[o];d=ul(c,$),p=hl(f,$)}}return s?(c=c||0,f=f||0,n?(d=d||0,p=p||0,e[0]=y,e[1]=v,e[2]=c,e[3]=d,e[4]=b,e[5]=S,e[6]=f,e[7]=p,e):(e[0]=y,e[1]=v,e[2]=c,e[3]=b,e[4]=S,e[5]=f,e)):n?(d=d||0,p=p||0,e[0]=y,e[1]=v,e[2]=d,e[3]=b,e[4]=S,e[5]=p,e):(e[0]=y,e[1]=v,e[2]=b,e[3]=S,e)}function sz(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function nz(e){return e.points!==void 0}function oz(e){return e.x!==void 0&&e.y!==void 0}function az(e){return e.paths!==void 0}function lz(e){return e.rings!==void 0}const SS=[];function X6(e,t,i,r){return{xmin:e,ymin:t,xmax:i,ymax:r}}function Q6(e,t,i,r,s,n){return{xmin:e,ymin:t,zmin:i,xmax:r,ymax:s,zmax:n}}function eP(e,t,i,r,s,n){return{xmin:e,ymin:t,mmin:i,xmax:r,ymax:s,mmax:n}}function tP(e,t,i,r,s,n,o,a){return{xmin:e,ymin:t,zmin:i,mmin:r,xmax:s,ymax:n,zmax:o,mmax:a}}function AS(e,t=!1,i=!1){return t?i?tP(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):Q6(e[0],e[1],e[2],e[3],e[4],e[5]):i?eP(e[0],e[1],e[2],e[3],e[4],e[5]):X6(e[0],e[1],e[2],e[3])}function Bbe(e){return e?sz(e)?e:oz(e)?uz(e):lz(e)?iP(e):az(e)?rP(e):nz(e)?cz(e):null:null}function cz(e){const{hasZ:t,hasM:i,points:r}=e;return AS(ES(SS,r,t??!1,i??!1),t,i)}function uz(e){const{x:t,y:i,z:r,m:s}=e,n=s!=null;return r!=null?n?tP(t,i,r,s,t,i,r,s):Q6(t,i,r,t,i,r):n?eP(t,i,s,t,i,s):X6(t,i,t,i)}function iP(e){const{hasZ:t,hasM:i,rings:r}=e,s=nf(SS,r,t??!1,i??!1);return s?AS(s,t,i):null}function rP(e){const{hasZ:t,hasM:i,paths:r}=e,s=nf(SS,r,t??!1,i??!1);return s?AS(s,t,i):null}var Gy;function B4(e){return!Array.isArray(e[0])}function hz(e){return typeof e[0]?.[0]=="number"}function fz(e){if(!e)return;let{rings:t,hasM:i,hasZ:r,spatialReference:s}=e;switch(t??=[],hz(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return s??=Yi.WGS84,{...e,hasM:i,hasZ:r,rings:t,spatialReference:s}}let Rs=Gy=class extends gu{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:i}=e;let r=!1,s=!1;for(const o of t)o.hasZ&&(r=!0),o.hasM&&(s=!0);const n={rings:t.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(r&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(s&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:i};return r&&(n.hasZ=!0),s&&(n.hasM=!0),new Gy(n)}constructor(e){super(fz(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const e=WG(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new Pi;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}writeCurveRings(e,t){t.curveRings=ge(e)}get extent(){const e=iP(this),{spatialReference:t}=this;return e?new Js({...e,spatialReference:t}):null}get isSelfIntersecting(){return DG(this.rings)}writeRings(e,t){t.rings=ge(this.rings)}addRing(e){if(!e)return;const t=this.rings,i=t.length;if(B4(e)){const r=[];for(let s=0,n=e.length;s<n;s++)r[s]=e[s].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new Gy;return e.spatialReference=this.spatialReference,e.rings=ge(this.rings),e.curveRings=ge(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;if(t!=null!=(i!=null)||t!=null&&i!=null&&!t.equals(i)||this.rings.length!==e.rings.length)return!1;const r=([s,n,o,a],[l,c,f,d])=>s===l&&n===c&&(o==null&&f==null||o===f)&&(a==null&&d==null||a===d);for(let s=0;s<this.rings.length;s++){const n=this.rings[s],o=e.rings[s];if(!b1(n,o,r))return!1}return!0}contains(e){if(!e)return!1;const t=C6(e,this.spatialReference);return $G(this,t??e)}isClockwise(e){const t=B4(e)?e.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):e;return U6(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.rings[e][t],r=this.hasZ,s=this.hasM;return r&&!s?new Pi(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Pi(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Pi(i[0],i[1],i[2],i[3],this.spatialReference):new Pi(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(sf(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e].splice(t,0,i),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Pi(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],i=this.spatialReference,r=t.map(s=>new Pi(s,i));return this.notifyChange("rings"),r}setPoint(e,t,i){return this._validateInputs(e,t)?(sf(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e][t]=i,this.notifyChange("rings"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const r=this.rings[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};g([A({readOnly:!0})],Rs.prototype,"cache",null),g([A({readOnly:!0})],Rs.prototype,"centroid",null),g([A({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Rs.prototype,"curveRings",void 0),g([Jt("curveRings")],Rs.prototype,"writeCurveRings",null),g([A({readOnly:!0})],Rs.prototype,"extent",null),g([A({readOnly:!0})],Rs.prototype,"isSelfIntersecting",null),g([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],Rs.prototype,"rings",void 0),g([Jt("rings")],Rs.prototype,"writeRings",null),Rs=Gy=g([ie("esri.geometry.Polygon")],Rs);const iu=Rs;Rs.prototype.toJSON.isDefaultToJSON=!0;var lw;function dz(e){return!Array.isArray(e[0])}function pz(e){return typeof e[0]?.[0]=="number"}function mz(e){if(!e)return;let{paths:t,hasM:i,hasZ:r,spatialReference:s}=e;switch(t??=[],pz(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return s??=Yi.WGS84,{...e,hasM:i,hasZ:r,paths:t,spatialReference:s}}let Qn=lw=class extends gu{constructor(e){super(mz(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=ge(e)}get extent(){const e=rP(this),{spatialReference:t}=this;return e?new Js({...e,spatialReference:t}):null}writePaths(e,t){t.paths=ge(this.paths)}addPath(e){if(!e)return;const t=this.paths,i=t.length;if(dz(e)){const r=[];for(let s=0,n=e.length;s<n;s++)r[s]=e[s].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new lw;return e.spatialReference=this.spatialReference,e.paths=ge(this.paths),e.curvePaths=ge(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.paths[e][t],r=this.hasZ,s=this.hasM;return r&&!s?new Pi(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Pi(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Pi(i[0],i[1],i[2],i[3],this.spatialReference):new Pi(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(sf(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e].splice(t,0,i),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],i=this.spatialReference,r=t.map(s=>new Pi(s,i));return this.notifyChange("paths"),r}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Pi(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(e,t,i){return this._validateInputs(e,t)?(sf(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e][t]=i,this.notifyChange("paths"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const r=this.paths[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};g([A({readOnly:!0})],Qn.prototype,"cache",null),g([A({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Qn.prototype,"curvePaths",void 0),g([Jt("curvePaths")],Qn.prototype,"writeCurvePaths",null),g([A({readOnly:!0})],Qn.prototype,"extent",null),g([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],Qn.prototype,"paths",void 0),g([Jt("paths")],Qn.prototype,"writePaths",null),Qn=lw=g([ie("esri.geometry.Polyline")],Qn);const Ym=Qn;Qn.prototype.toJSON.isDefaultToJSON=!0;function sP(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function nP(e){return e.points!==void 0}function oP(e){return e.x!==void 0&&e.y!==void 0}function aP(e){return e.paths!==void 0||e.curvePaths!==void 0}function lP(e){return e.rings!==void 0||e.curveRings!==void 0}function TS(e){return e==null?null:e instanceof gu?e:oP(e)?Pi.fromJSON(e):aP(e)?Ym.fromJSON(e):lP(e)?iu.fromJSON(e):nP(e)?k1.fromJSON(e):sP(e)?Js.fromJSON(e):null}function Gbe(e){return e?oP(e)?"esriGeometryPoint":aP(e)?"esriGeometryPolyline":lP(e)?"esriGeometryPolygon":sP(e)?"esriGeometryEnvelope":nP(e)?"esriGeometryMultipoint":null:null}const yz={esriGeometryPoint:Pi,esriGeometryPolyline:Ym,esriGeometryPolygon:iu,esriGeometryEnvelope:Js,esriGeometryMultipoint:k1,esriGeometryMultiPatch:iu};function zbe(e){return e&&yz[e]||null}const cP=e=>{let t=class extends e{clone(){const i=xl(this);IU(i,"unable to clone instance of non-accessor class");const r=i.metadata,s=i.store,n={},o=new Map;for(const l in r){const c=r[l],f=s?.originOf(l),d=c.clonable;if(c.readOnly||d===!1||f!==ct.USER&&f!==ct.DEFAULTS&&f!==ct.WEB_MAP&&f!==ct.WEB_SCENE)continue;const p=this[l];let y=null;y=typeof d=="function"?d(p):d==="reference"?p:E2(p),p!=null&&y==null||(f===ct.DEFAULTS?o.set(l,y):n[l]=y)}const a=new(Object.getPrototypeOf(this)).constructor(n);if(o.size){const l=xl(a)?.store;if(l)for(const[c,f]of o)l.set(c,f,ct.DEFAULTS)}return a}};return t=g([ie("esri.core.Clonable")],t),t};let Td=class extends cP(Hi){};Td=g([ie("esri.core.Clonable")],Td),function(e){e.ClonableMixin=cP}(Td||(Td={}));const Io=Td;let p_;async function gz(){return p_==null&&(p_=ve(()=>import("./WhereClauseCache-CnCXL7zA.js"),__vite__mapDeps([14,15,16,17,18,1]),import.meta.url).then(e=>new e.WhereClauseCache(500,500))),p_}async function vz(e,t){const i=await gz(),r=i.get(e,t);if(r==null)throw i.getError(e,t);return r}function Hbe(e,t){return e||=null,t||=null,e==="1=1"?t??e:t==="1=1"?e??t:e&&t?`(${e}) AND (${t})`:e??t}function Wbe(e,t){return e||=null,t||=null,e==="1=1"||t==="1=1"||e===t?e==="1=1"?e:t:e&&t?`(${e}) OR (${t})`:e??t}function Ybe(e,t){return t.length===0?null:`${e} IN (${bz(t)})`}function bz(e){return e.map(t=>typeof t=="string"?_z(t):t).join(",")}function _z(e){return`'${e.replaceAll("'","''")}'`}function Jbe(e){return typeof e=="number"}function Zbe(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function Kbe(e){return typeof e=="boolean"}function Jm(e){return typeof e=="string"||e instanceof String}function wz(e){return e==null||Jm(e)}function Xbe(e){return Array.isArray(e)}function Qbe(e){return e?.declaredClass==="esri.Graphic"}function e_e(e){return e instanceof Date}class vu extends Error{}class xz extends vu{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class Ez extends vu{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class Sz extends vu{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class ph extends vu{}class uP extends vu{constructor(t){super(`Invalid unit ${t}`)}}class vr extends vu{}class Ma extends vu{constructor(){super("Zone is an abstract class")}}const be="numeric",Cn="short",ws="long",iv={year:be,month:be,day:be},hP={year:be,month:Cn,day:be},Az={year:be,month:Cn,day:be,weekday:Cn},fP={year:be,month:ws,day:be},dP={year:be,month:ws,day:be,weekday:ws},pP={hour:be,minute:be},mP={hour:be,minute:be,second:be},yP={hour:be,minute:be,second:be,timeZoneName:Cn},gP={hour:be,minute:be,second:be,timeZoneName:ws},vP={hour:be,minute:be,hourCycle:"h23"},bP={hour:be,minute:be,second:be,hourCycle:"h23"},_P={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:Cn},wP={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:ws},xP={year:be,month:be,day:be,hour:be,minute:be},EP={year:be,month:be,day:be,hour:be,minute:be,second:be},SP={year:be,month:Cn,day:be,hour:be,minute:be},AP={year:be,month:Cn,day:be,hour:be,minute:be,second:be},Tz={year:be,month:Cn,day:be,weekday:Cn,hour:be,minute:be},TP={year:be,month:ws,day:be,hour:be,minute:be,timeZoneName:Cn},$P={year:be,month:ws,day:be,hour:be,minute:be,second:be,timeZoneName:Cn},MP={year:be,month:ws,day:be,weekday:ws,hour:be,minute:be,timeZoneName:ws},OP={year:be,month:ws,day:be,weekday:ws,hour:be,minute:be,second:be,timeZoneName:ws};class bu{get type(){throw new Ma}get name(){throw new Ma}get ianaName(){return this.name}get isUniversal(){throw new Ma}offsetName(t,i){throw new Ma}formatOffset(t,i){throw new Ma}offset(t){throw new Ma}equals(t){throw new Ma}get isValid(){throw new Ma}}let m_=null;class D1 extends bu{static get instance(){return m_===null&&(m_=new D1),m_}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return FP(t,i,r)}formatOffset(t,i){return up(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let zy={};function $z(e){return zy[e]||(zy[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),zy[e]}const Mz={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Oz(e,t){const i=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,s,n,o,a,l,c,f]=r;return[o,s,n,a,l,c,f]}function Cz(e,t){const i=e.formatToParts(t),r=[];for(let s=0;s<i.length;s++){const{type:n,value:o}=i[s],a=Mz[n];n==="era"?r[a]=o:Be(a)||(r[a]=parseInt(o,10))}return r}let V0={};class In extends bu{static create(t){return V0[t]||(V0[t]=new In(t)),V0[t]}static resetCache(){V0={},zy={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=In.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return FP(t,i,r,this.name)}formatOffset(t,i){return up(this.offset(t),i)}offset(t){const i=new Date(t);if(isNaN(i))return NaN;const r=$z(this.name);let[s,n,o,a,l,c,f]=r.formatToParts?Cz(r,i):Oz(r,i);a==="BC"&&(s=-Math.abs(s)+1);const p=U1({year:s,month:n,day:o,hour:l===24?0:l,minute:c,second:f,millisecond:0});let y=+i;const v=y%1e3;return y-=v>=0?v:1e3+v,(p-y)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let G4={};function Iz(e,t={}){const i=JSON.stringify([e,t]);let r=G4[i];return r||(r=new Intl.ListFormat(e,t),G4[i]=r),r}let cw={};function uw(e,t={}){const i=JSON.stringify([e,t]);let r=cw[i];return r||(r=new Intl.DateTimeFormat(e,t),cw[i]=r),r}let hw={};function Pz(e,t={}){const i=JSON.stringify([e,t]);let r=hw[i];return r||(r=new Intl.NumberFormat(e,t),hw[i]=r),r}let fw={};function Nz(e,t={}){const{base:i,...r}=t,s=JSON.stringify([e,r]);let n=fw[s];return n||(n=new Intl.RelativeTimeFormat(e,t),fw[s]=n),n}let $d=null;function Lz(){return $d||($d=new Intl.DateTimeFormat().resolvedOptions().locale,$d)}let z4={};function kz(e){let t=z4[e];if(!t){const i=new Intl.Locale(e);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,z4[e]=t}return t}function Rz(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(i===-1)return[e];{let r,s;try{r=uw(e).resolvedOptions(),s=e}catch{const l=e.substring(0,i);r=uw(l).resolvedOptions(),s=l}const{numberingSystem:n,calendar:o}=r;return[s,n,o]}}function Dz(e,t,i){return(i||t)&&(e.includes("-u-")||(e+="-u"),i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`)),e}function Fz(e){const t=[];for(let i=1;i<=12;i++){const r=Ie.utc(2009,i,1);t.push(e(r))}return t}function Uz(e){const t=[];for(let i=1;i<=7;i++){const r=Ie.utc(2016,11,13+i);t.push(e(r))}return t}function B0(e,t,i,r){const s=e.listingMode();return s==="error"?null:s==="en"?i(t):r(t)}function jz(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class Vz{constructor(t,i,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:s,floor:n,...o}=r;if(!i||Object.keys(o).length>0){const a={useGrouping:!1,...r};r.padTo>0&&(a.minimumIntegerDigits=r.padTo),this.inf=Pz(t,a)}}format(t){if(this.inf){const i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{const i=this.floor?Math.floor(t):IS(t,3);return Ii(i,this.padTo)}}}class Bz{constructor(t,i,r){this.opts=r,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&In.create(a).valid?(s=a,this.dt=t):(s="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,s=t.zone.name):(s="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const n={...this.opts};n.timeZone=n.timeZone||s,this.dtf=uw(i,n)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(i=>{if(i.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:r}}else return i}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class Gz{constructor(t,i,r){this.opts={style:"long",...r},!i&&RP()&&(this.rtf=Nz(t,r))}format(t,i){return this.rtf?this.rtf.format(t,i):fq(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}}const zz={firstDay:1,minimalDays:4,weekend:[6,7]};class St{static fromOpts(t){return St.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,i,r,s,n=!1){const o=t||hi.defaultLocale,a=o||(n?"en-US":Lz()),l=i||hi.defaultNumberingSystem,c=r||hi.defaultOutputCalendar,f=dw(s)||hi.defaultWeekSettings;return new St(a,l,c,f,o)}static resetCache(){$d=null,cw={},hw={},fw={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:r,weekSettings:s}={}){return St.create(t,i,r,s)}constructor(t,i,r,s,n){const[o,a,l]=Rz(t);this.locale=o,this.numberingSystem=i||a||null,this.outputCalendar=r||l||null,this.weekSettings=s,this.intl=Dz(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=jz(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:St.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,dw(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,i=!1){return B0(this,t,VP,()=>{const r=i?{month:t,day:"numeric"}:{month:t},s=i?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=Fz(n=>this.extract(n,r,"month"))),this.monthsCache[s][t]})}weekdays(t,i=!1){return B0(this,t,zP,()=>{const r=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=i?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=Uz(n=>this.extract(n,r,"weekday"))),this.weekdaysCache[s][t]})}meridiems(){return B0(this,void 0,()=>qP,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ie.utc(2016,11,13,9),Ie.utc(2016,11,13,19)].map(i=>this.extract(i,t,"dayperiod"))}return this.meridiemCache})}eras(t){return B0(this,t,HP,()=>{const i={era:t};return this.eraCache[t]||(this.eraCache[t]=[Ie.utc(-40,1,1),Ie.utc(2017,1,1)].map(r=>this.extract(r,i,"era"))),this.eraCache[t]})}extract(t,i,r){const s=this.dtFormatter(t,i),n=s.formatToParts(),o=n.find(a=>a.type.toLowerCase()===r);return o?o.value:null}numberFormatter(t={}){return new Vz(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new Bz(t,this.intl,i)}relFormatter(t={}){return new Gz(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Iz(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:DP()?kz(this.locale):zz}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let y_=null;class Ar extends bu{static get utcInstance(){return y_===null&&(y_=new Ar(0)),y_}static instance(t){return t===0?Ar.utcInstance:new Ar(t)}static parseSpecifier(t){if(t){const i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new Ar(j1(i[1],i[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${up(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${up(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return up(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class qz extends bu{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ol(e,t){if(Be(e)||e===null)return t;if(e instanceof bu)return e;if(Kz(e)){const i=e.toLowerCase();return i==="default"?t:i==="local"||i==="system"?D1.instance:i==="utc"||i==="gmt"?Ar.utcInstance:Ar.parseSpecifier(i)||In.create(e)}else return ml(e)?Ar.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new qz(e)}const $S={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},q4={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Hz=$S.hanidec.replace(/[\[|\]]/g,"").split("");function Wz(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);if(e[i].search($S.hanidec)!==-1)t+=Hz.indexOf(e[i]);else for(const s in q4){const[n,o]=q4[s];r>=n&&r<=o&&(t+=r-n)}}return parseInt(t,10)}else return t}let Ku={};function Yz(){Ku={}}function rn({numberingSystem:e},t=""){const i=e||"latn";return Ku[i]||(Ku[i]={}),Ku[i][t]||(Ku[i][t]=new RegExp(`${$S[i]}${t}`)),Ku[i][t]}let H4=()=>Date.now(),W4="system",Y4=null,J4=null,Z4=null,K4=60,X4,Q4=null;class hi{static get now(){return H4}static set now(t){H4=t}static set defaultZone(t){W4=t}static get defaultZone(){return ol(W4,D1.instance)}static get defaultLocale(){return Y4}static set defaultLocale(t){Y4=t}static get defaultNumberingSystem(){return J4}static set defaultNumberingSystem(t){J4=t}static get defaultOutputCalendar(){return Z4}static set defaultOutputCalendar(t){Z4=t}static get defaultWeekSettings(){return Q4}static set defaultWeekSettings(t){Q4=dw(t)}static get twoDigitCutoffYear(){return K4}static set twoDigitCutoffYear(t){K4=t%100}static get throwOnInvalid(){return X4}static set throwOnInvalid(t){X4=t}static resetCaches(){St.resetCache(),In.resetCache(),Ie.resetCache(),Yz()}}class yn{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const CP=[0,31,59,90,120,151,181,212,243,273,304,334],IP=[0,31,60,91,121,152,182,213,244,274,305,335];function Bs(e,t){return new yn("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function MS(e,t,i){const r=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const s=r.getUTCDay();return s===0?7:s}function PP(e,t,i){return i+(Zm(e)?IP:CP)[t-1]}function NP(e,t){const i=Zm(e)?IP:CP,r=i.findIndex(n=>n<t),s=t-i[r];return{month:r+1,day:s}}function OS(e,t){return(e-t+7)%7+1}function rv(e,t=4,i=1){const{year:r,month:s,day:n}=e,o=PP(r,s,n),a=OS(MS(r,s,n),i);let l=Math.floor((o-a+14-t)/7),c;return l<1?(c=r-1,l=em(c,t,i)):l>em(r,t,i)?(c=r+1,l=1):c=r,{weekYear:c,weekNumber:l,weekday:a,...V1(e)}}function e$(e,t=4,i=1){const{weekYear:r,weekNumber:s,weekday:n}=e,o=OS(MS(r,1,t),i),a=Lh(r);let l=s*7+n-o-7+t,c;l<1?(c=r-1,l+=Lh(c)):l>a?(c=r+1,l-=Lh(r)):c=r;const{month:f,day:d}=NP(c,l);return{year:c,month:f,day:d,...V1(e)}}function g_(e){const{year:t,month:i,day:r}=e,s=PP(t,i,r);return{year:t,ordinal:s,...V1(e)}}function t$(e){const{year:t,ordinal:i}=e,{month:r,day:s}=NP(t,i);return{year:t,month:r,day:s,...V1(e)}}function i$(e,t){if(!Be(e.localWeekday)||!Be(e.localWeekNumber)||!Be(e.localWeekYear)){if(!Be(e.weekday)||!Be(e.weekNumber)||!Be(e.weekYear))throw new ph("Cannot mix locale-based week fields with ISO-based week fields");return Be(e.localWeekday)||(e.weekday=e.localWeekday),Be(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Be(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Jz(e,t=4,i=1){const r=F1(e.weekYear),s=Gs(e.weekNumber,1,em(e.weekYear,t,i)),n=Gs(e.weekday,1,7);return r?s?n?!1:Bs("weekday",e.weekday):Bs("week",e.weekNumber):Bs("weekYear",e.weekYear)}function Zz(e){const t=F1(e.year),i=Gs(e.ordinal,1,Lh(e.year));return t?i?!1:Bs("ordinal",e.ordinal):Bs("year",e.year)}function LP(e){const t=F1(e.year),i=Gs(e.month,1,12),r=Gs(e.day,1,sv(e.year,e.month));return t?i?r?!1:Bs("day",e.day):Bs("month",e.month):Bs("year",e.year)}function kP(e){const{hour:t,minute:i,second:r,millisecond:s}=e,n=Gs(t,0,23)||t===24&&i===0&&r===0&&s===0,o=Gs(i,0,59),a=Gs(r,0,59),l=Gs(s,0,999);return n?o?a?l?!1:Bs("millisecond",s):Bs("second",r):Bs("minute",i):Bs("hour",t)}function Be(e){return typeof e>"u"}function ml(e){return typeof e=="number"}function F1(e){return typeof e=="number"&&e%1===0}function Kz(e){return typeof e=="string"}function Xz(e){return Object.prototype.toString.call(e)==="[object Date]"}function RP(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function DP(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Qz(e){return Array.isArray(e)?e:[e]}function r$(e,t,i){if(e.length!==0)return e.reduce((r,s)=>{const n=[t(s),s];return r&&i(r[0],n[0])===r[0]?r:n},null)[1]}function eq(e,t){return t.reduce((i,r)=>(i[r]=e[r],i),{})}function of(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dw(e){if(e==null)return null;if(typeof e!="object")throw new vr("Week settings must be an object");if(!Gs(e.firstDay,1,7)||!Gs(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!Gs(t,1,7)))throw new vr("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Gs(e,t,i){return F1(e)&&e>=t&&e<=i}function tq(e,t){return e-t*Math.floor(e/t)}function Ii(e,t=2){const i=e<0;let r;return i?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function Za(e){if(!(Be(e)||e===null||e===""))return parseInt(e,10)}function Zl(e){if(!(Be(e)||e===null||e===""))return parseFloat(e)}function CS(e){if(!(Be(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function IS(e,t,i=!1){const r=10**t;return(i?Math.trunc:Math.round)(e*r)/r}function Zm(e){return e%4===0&&(e%100!==0||e%400===0)}function Lh(e){return Zm(e)?366:365}function sv(e,t){const i=tq(t-1,12)+1,r=e+(t-i)/12;return i===2?Zm(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function U1(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function s$(e,t,i){return-OS(MS(e,1,t),i)+t-1}function em(e,t=4,i=1){const r=s$(e,t,i),s=s$(e+1,t,i);return(Lh(e)-r+s)/7}function pw(e){return e>99?e:e>hi.twoDigitCutoffYear?1900+e:2e3+e}function FP(e,t,i,r=null){const s=new Date(e),n={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(n.timeZone=r);const o={timeZoneName:t,...n},a=new Intl.DateTimeFormat(i,o).formatToParts(s).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function j1(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const r=parseInt(t,10)||0,s=i<0||Object.is(i,-0)?-r:r;return i*60+s}function UP(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new vr(`Invalid unit value ${e}`);return t}function nv(e,t){const i={};for(const r in e)if(of(e,r)){const s=e[r];if(s==null)continue;i[t(r)]=UP(s)}return i}function up(e,t){const i=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return`${s}${Ii(i,2)}:${Ii(r,2)}`;case"narrow":return`${s}${i}${r>0?`:${r}`:""}`;case"techie":return`${s}${Ii(i,2)}${Ii(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function V1(e){return eq(e,["hour","minute","second","millisecond"])}const iq=["January","February","March","April","May","June","July","August","September","October","November","December"],jP=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],rq=["J","F","M","A","M","J","J","A","S","O","N","D"];function VP(e){switch(e){case"narrow":return[...rq];case"short":return[...jP];case"long":return[...iq];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const BP=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],GP=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],sq=["M","T","W","T","F","S","S"];function zP(e){switch(e){case"narrow":return[...sq];case"short":return[...GP];case"long":return[...BP];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const qP=["AM","PM"],nq=["Before Christ","Anno Domini"],oq=["BC","AD"],aq=["B","A"];function HP(e){switch(e){case"narrow":return[...aq];case"short":return[...oq];case"long":return[...nq];default:return null}}function lq(e){return qP[e.hour<12?0:1]}function cq(e,t){return zP(t)[e.weekday-1]}function uq(e,t){return VP(t)[e.month-1]}function hq(e,t){return HP(t)[e.year<0?0:1]}function fq(e,t,i="always",r=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},n=["hours","minutes","seconds"].indexOf(e)===-1;if(i==="auto"&&n){const d=e==="days";switch(t){case 1:return d?"tomorrow":`next ${s[e][0]}`;case-1:return d?"yesterday":`last ${s[e][0]}`;case 0:return d?"today":`this ${s[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=s[e],f=r?l?c[1]:c[2]||c[1]:l?s[e][0]:e;return o?`${a} ${f} ago`:`in ${a} ${f}`}function n$(e,t){let i="";for(const r of e)r.literal?i+=r.val:i+=t(r.val);return i}const dq={D:iv,DD:hP,DDD:fP,DDDD:dP,t:pP,tt:mP,ttt:yP,tttt:gP,T:vP,TT:bP,TTT:_P,TTTT:wP,f:xP,ff:SP,fff:TP,ffff:MP,F:EP,FF:AP,FFF:$P,FFFF:OP};class Sr{static create(t,i={}){return new Sr(t,i)}static parseFormat(t){let i=null,r="",s=!1;const n=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?(r.length>0&&n.push({literal:s||/^\s+$/.test(r),val:r}),i=null,r="",s=!s):s||a===i?r+=a:(r.length>0&&n.push({literal:/^\s+$/.test(r),val:r}),r=a,i=a)}return r.length>0&&n.push({literal:s||/^\s+$/.test(r),val:r}),n}static macroTokenToFormatOpts(t){return dq[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...i}).format()}dtFormatter(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i})}formatDateTime(t,i){return this.dtFormatter(t,i).format()}formatDateTimeParts(t,i){return this.dtFormatter(t,i).formatToParts()}formatInterval(t,i){return this.dtFormatter(t.start,i).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,i){return this.dtFormatter(t,i).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return Ii(t,i);const r={...this.opts};return i>0&&(r.padTo=i),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,i){const r=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",n=(y,v)=>this.loc.extract(t,y,v),o=y=>t.isOffsetFixed&&t.offset===0&&y.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,y.format):"",a=()=>r?lq(t):n({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,v)=>r?uq(t,y):n(v?{month:y}:{month:y,day:"numeric"},"month"),c=(y,v)=>r?cq(t,y):n(v?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),f=y=>{const v=Sr.macroTokenToFormatOpts(y);return v?this.formatWithSystemDefault(t,v):y},d=y=>r?hq(t,y):n({era:y},"era"),p=y=>{switch(y){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return s?n({day:"numeric"},"day"):this.num(t.day);case"dd":return s?n({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return s?n({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?n({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?n({month:"numeric"},"month"):this.num(t.month);case"MM":return s?n({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?n({year:"numeric"},"year"):this.num(t.year);case"yy":return s?n({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?n({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?n({year:"numeric"},"year"):this.num(t.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return f(y)}};return n$(Sr.parseFormat(i),p)}formatDurationFromString(t,i){const r=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=l=>c=>{const f=r(c);return f?this.num(l.get(f),c.length):c},n=Sr.parseFormat(i),o=n.reduce((l,{literal:c,val:f})=>c?l:l.concat(f),[]),a=t.shiftTo(...o.map(r).filter(l=>l));return n$(n,s(a))}}const WP=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Vf(...e){const t=e.reduce((i,r)=>i+r.source,"");return RegExp(`^${t}$`)}function Bf(...e){return t=>e.reduce(([i,r,s],n)=>{const[o,a,l]=n(t,s);return[{...i,...o},a||r,l]},[{},null,1]).slice(0,2)}function Gf(e,...t){if(e==null)return[null,null];for(const[i,r]of t){const s=i.exec(e);if(s)return r(s)}return[null,null]}function YP(...e){return(t,i)=>{const r={};let s;for(s=0;s<e.length;s++)r[e[s]]=Za(t[i+s]);return[r,null,i+s]}}const JP=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,pq=`(?:${JP.source}?(?:\\[(${WP.source})\\])?)?`,PS=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ZP=RegExp(`${PS.source}${pq}`),NS=RegExp(`(?:T${ZP.source})?`),mq=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,yq=/(\d{4})-?W(\d\d)(?:-?(\d))?/,gq=/(\d{4})-?(\d{3})/,vq=YP("weekYear","weekNumber","weekDay"),bq=YP("year","ordinal"),_q=/(\d{4})-(\d\d)-(\d\d)/,KP=RegExp(`${PS.source} ?(?:${JP.source}|(${WP.source}))?`),wq=RegExp(`(?: ${KP.source})?`);function kh(e,t,i){const r=e[t];return Be(r)?i:Za(r)}function xq(e,t){return[{year:kh(e,t),month:kh(e,t+1,1),day:kh(e,t+2,1)},null,t+3]}function zf(e,t){return[{hours:kh(e,t,0),minutes:kh(e,t+1,0),seconds:kh(e,t+2,0),milliseconds:CS(e[t+3])},null,t+4]}function Km(e,t){const i=!e[t]&&!e[t+1],r=j1(e[t+1],e[t+2]),s=i?null:Ar.instance(r);return[{},s,t+3]}function Xm(e,t){const i=e[t]?In.create(e[t]):null;return[{},i,t+1]}const Eq=RegExp(`^T?${PS.source}$`),Sq=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Aq(e){const[t,i,r,s,n,o,a,l,c]=e,f=t[0]==="-",d=l&&l[0]==="-",p=(y,v=!1)=>y!==void 0&&(v||y&&f)?-y:y;return[{years:p(Zl(i)),months:p(Zl(r)),weeks:p(Zl(s)),days:p(Zl(n)),hours:p(Zl(o)),minutes:p(Zl(a)),seconds:p(Zl(l),l==="-0"),milliseconds:p(CS(c),d)}]}const Tq={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function LS(e,t,i,r,s,n,o){const a={year:t.length===2?pw(Za(t)):Za(t),month:jP.indexOf(i)+1,day:Za(r),hour:Za(s),minute:Za(n)};return o&&(a.second=Za(o)),e&&(a.weekday=e.length>3?BP.indexOf(e)+1:GP.indexOf(e)+1),a}const $q=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Mq(e){const[,t,i,r,s,n,o,a,l,c,f,d]=e,p=LS(t,s,r,i,n,o,a);let y;return l?y=Tq[l]:c?y=0:y=j1(f,d),[p,new Ar(y)]}function Oq(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Cq=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Iq=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Pq=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function o$(e){const[,t,i,r,s,n,o,a]=e;return[LS(t,s,r,i,n,o,a),Ar.utcInstance]}function Nq(e){const[,t,i,r,s,n,o,a]=e;return[LS(t,a,i,r,s,n,o),Ar.utcInstance]}const Lq=Vf(mq,NS),kq=Vf(yq,NS),Rq=Vf(gq,NS),Dq=Vf(ZP),XP=Bf(xq,zf,Km,Xm),Fq=Bf(vq,zf,Km,Xm),Uq=Bf(bq,zf,Km,Xm),jq=Bf(zf,Km,Xm);function Vq(e){return Gf(e,[Lq,XP],[kq,Fq],[Rq,Uq],[Dq,jq])}function Bq(e){return Gf(Oq(e),[$q,Mq])}function Gq(e){return Gf(e,[Cq,o$],[Iq,o$],[Pq,Nq])}function zq(e){return Gf(e,[Sq,Aq])}const qq=Bf(zf);function Hq(e){return Gf(e,[Eq,qq])}const Wq=Vf(_q,wq),Yq=Vf(KP),Jq=Bf(zf,Km,Xm);function Zq(e){return Gf(e,[Wq,XP],[Yq,Jq])}const a$="Invalid Duration",QP={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Kq={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...QP},Cs=146097/400,Fu=146097/4800,Xq={years:{quarters:4,months:12,weeks:Cs/7,days:Cs,hours:Cs*24,minutes:Cs*24*60,seconds:Cs*24*60*60,milliseconds:Cs*24*60*60*1e3},quarters:{months:3,weeks:Cs/28,days:Cs/4,hours:Cs*24/4,minutes:Cs*24*60/4,seconds:Cs*24*60*60/4,milliseconds:Cs*24*60*60*1e3/4},months:{weeks:Fu/7,days:Fu,hours:Fu*24,minutes:Fu*24*60,seconds:Fu*24*60*60,milliseconds:Fu*24*60*60*1e3},...QP},Pc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Qq=Pc.slice(0).reverse();function Oa(e,t,i=!1){const r={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new ut(r)}function eN(e,t){let i=t.milliseconds??0;for(const r of Qq.slice(1))t[r]&&(i+=t[r]*e[r].milliseconds);return i}function l$(e,t){const i=eN(e,t)<0?-1:1;Pc.reduceRight((r,s)=>{if(Be(t[s]))return r;if(r){const n=t[r]*i,o=e[s][r],a=Math.floor(n/o);t[s]+=a*i,t[r]-=a*o*i}return s},null),Pc.reduce((r,s)=>{if(Be(t[s]))return r;if(r){const n=t[r]%1;t[r]-=n,t[s]+=n*e[r][s]}return s},null)}function eH(e){const t={};for(const[i,r]of Object.entries(e))r!==0&&(t[i]=r);return t}class ut{constructor(t){const i=t.conversionAccuracy==="longterm"||!1;let r=i?Xq:Kq;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||St.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,i){return ut.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new vr(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new ut({values:nv(t,ut.normalizeUnit),loc:St.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(t){if(ml(t))return ut.fromMillis(t);if(ut.isDuration(t))return t;if(typeof t=="object")return ut.fromObject(t);throw new vr(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){const[r]=zq(t);return r?ut.fromObject(r,i):ut.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){const[r]=Hq(t);return r?ut.fromObject(r,i):ut.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new vr("need to specify a reason the Duration is invalid");const r=t instanceof yn?t:new yn(t,i);if(hi.throwOnInvalid)throw new Sz(r);return new ut({invalid:r})}static normalizeUnit(t){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new uP(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){const r={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?Sr.create(this.loc,r).formatDurationFromString(this,t):a$}toHuman(t={}){if(!this.isValid)return a$;const i=Pc.map(r=>{const s=this.values[r];return Be(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(s)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=IS(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},Ie.fromMillis(i,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?eN(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const i=ut.fromDurationLike(t),r={};for(const s of Pc)(of(i.values,s)||of(this.values,s))&&(r[s]=i.get(s)+this.get(s));return Oa(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const i=ut.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;const i={};for(const r of Object.keys(this.values))i[r]=UP(t(this.values[r],r));return Oa(this,{values:i},!0)}get(t){return this[ut.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const i={...this.values,...nv(t,ut.normalizeUnit)};return Oa(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:r,matrix:s}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:i}),matrix:s,conversionAccuracy:r};return Oa(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return l$(this.matrix,t),Oa(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=eH(this.normalize().shiftToAll().toObject());return Oa(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>ut.normalizeUnit(o));const i={},r={},s=this.toObject();let n;for(const o of Pc)if(t.indexOf(o)>=0){n=o;let a=0;for(const c in r)a+=this.matrix[c][o]*r[c],r[c]=0;ml(s[o])&&(a+=s[o]);const l=Math.trunc(a);i[o]=l,r[o]=(a*1e3-l*1e3)/1e3}else ml(s[o])&&(r[o]=s[o]);for(const o in r)r[o]!==0&&(i[n]+=o===n?r[o]:r[o]/this.matrix[n][o]);return l$(this.matrix,i),Oa(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return Oa(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(r,s){return r===void 0||r===0?s===void 0||s===0:r===s}for(const r of Pc)if(!i(this.values[r],t.values[r]))return!1;return!0}}const Uu="Invalid Interval";function tH(e,t){return!e||!e.isValid?ci.invalid("missing or invalid start"):!t||!t.isValid?ci.invalid("missing or invalid end"):t<e?ci.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class ci{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new vr("need to specify a reason the Interval is invalid");const r=t instanceof yn?t:new yn(t,i);if(hi.throwOnInvalid)throw new Ez(r);return new ci({invalid:r})}static fromDateTimes(t,i){const r=od(t),s=od(i),n=tH(r,s);return n??new ci({start:r,end:s})}static after(t,i){const r=ut.fromDurationLike(i),s=od(t);return ci.fromDateTimes(s,s.plus(r))}static before(t,i){const r=ut.fromDurationLike(i),s=od(t);return ci.fromDateTimes(s.minus(r),s)}static fromISO(t,i){const[r,s]=(t||"").split("/",2);if(r&&s){let n,o;try{n=Ie.fromISO(r,i),o=n.isValid}catch{o=!1}let a,l;try{a=Ie.fromISO(s,i),l=a.isValid}catch{l=!1}if(o&&l)return ci.fromDateTimes(n,a);if(o){const c=ut.fromISO(s,i);if(c.isValid)return ci.after(n,c)}else if(l){const c=ut.fromISO(r,i);if(c.isValid)return ci.before(a,c)}}return ci.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",i){if(!this.isValid)return NaN;const r=this.start.startOf(t,i);let s;return i?.useLocaleWeeks?s=this.end.reconfigure({locale:r.locale}):s=this.end,s=s.startOf(t,i),Math.floor(s.diff(r,t).get(t))+(s.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?ci.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];const i=t.map(od).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),r=[];let{s}=this,n=0;for(;s<this.e;){const o=i[n]||this.e,a=+o>+this.e?this.e:o;r.push(ci.fromDateTimes(s,a)),s=a,n+=1}return r}splitBy(t){const i=ut.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:r}=this,s=1,n;const o=[];for(;r<this.e;){const a=this.start.plus(i.mapUnits(l=>l*s));n=+a>+this.e?this.e:a,o.push(ci.fromDateTimes(r,n)),r=n,s+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const i=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return i>=r?null:ci.fromDateTimes(i,r)}union(t){if(!this.isValid)return this;const i=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return ci.fromDateTimes(i,r)}static merge(t){const[i,r]=t.sort((s,n)=>s.s-n.s).reduce(([s,n],o)=>n?n.overlaps(o)||n.abutsStart(o)?[s,n.union(o)]:[s.concat([n]),o]:[s,o],[[],null]);return r&&i.push(r),i}static xor(t){let i=null,r=0;const s=[],n=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...n),a=o.sort((l,c)=>l.time-c.time);for(const l of a)r+=l.type==="s"?1:-1,r===1?i=l.time:(i&&+i!=+l.time&&s.push(ci.fromDateTimes(i,l.time)),i=null);return ci.merge(s)}difference(...t){return ci.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Uu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=iv,i={}){return this.isValid?Sr.create(this.s.loc.clone(i),t).formatInterval(this):Uu}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Uu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Uu}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Uu}toFormat(t,{separator:i=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:Uu}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):ut.invalid(this.invalidReason)}mapEndpoints(t){return ci.fromDateTimes(t(this.s),t(this.e))}}class G0{static hasDST(t=hi.defaultZone){const i=Ie.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return In.isValidZone(t)}static normalizeZone(t){return ol(t,hi.defaultZone)}static getStartOfWeek({locale:t=null,locObj:i=null}={}){return(i||St.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:i=null}={}){return(i||St.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:i=null}={}){return(i||St.create(t)).getWeekendDays().slice()}static months(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||St.create(i,r,n)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||St.create(i,r,n)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||St.create(i,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||St.create(i,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return St.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return St.create(i,null,"gregory").eras(t)}static features(){return{relative:RP(),localeWeek:DP()}}}function c$(e,t){const i=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=i(t)-i(e);return Math.floor(ut.fromMillis(r).as("days"))}function iH(e,t,i){const r=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const f=c$(l,c);return(f-f%7)/7}],["days",c$]],s={},n=e;let o,a;for(const[l,c]of r)i.indexOf(l)>=0&&(o=l,s[l]=c(e,t),a=n.plus(s),a>t?(s[l]--,e=n.plus(s),e>t&&(a=e,s[l]--,e=n.plus(s))):e=a);return[e,s,a,o]}function rH(e,t,i,r){let[s,n,o,a]=iH(e,t,i);const l=t-s,c=i.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<t&&(o=s.plus({[a]:1})),o!==s&&(n[a]=(n[a]||0)+l/(o-s)));const f=ut.fromObject(n,r);return c.length>0?ut.fromMillis(l,r).shiftTo(...c).plus(f):f}const sH="missing Intl.DateTimeFormat.formatToParts support";function gt(e,t=i=>i){return{regex:e,deser:([i])=>t(Wz(i))}}const nH=" ",tN=`[ ${nH}]`,iN=new RegExp(tN,"g");function oH(e){return e.replace(/\./g,"\\.?").replace(iN,tN)}function u$(e){return e.replace(/\./g,"").replace(iN," ").toLowerCase()}function sn(e,t){return e===null?null:{regex:RegExp(e.map(oH).join("|")),deser:([i])=>e.findIndex(r=>u$(i)===u$(r))+t}}function h$(e,t){return{regex:e,deser:([,i,r])=>j1(i,r),groups:t}}function z0(e){return{regex:e,deser:([t])=>t}}function aH(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function lH(e,t){const i=rn(t),r=rn(t,"{2}"),s=rn(t,"{3}"),n=rn(t,"{4}"),o=rn(t,"{6}"),a=rn(t,"{1,2}"),l=rn(t,"{1,3}"),c=rn(t,"{1,6}"),f=rn(t,"{1,9}"),d=rn(t,"{2,4}"),p=rn(t,"{4,6}"),y=S=>({regex:RegExp(aH(S.val)),deser:([E])=>E,literal:!0}),b=(S=>{if(e.literal)return y(S);switch(S.val){case"G":return sn(t.eras("short"),0);case"GG":return sn(t.eras("long"),0);case"y":return gt(c);case"yy":return gt(d,pw);case"yyyy":return gt(n);case"yyyyy":return gt(p);case"yyyyyy":return gt(o);case"M":return gt(a);case"MM":return gt(r);case"MMM":return sn(t.months("short",!0),1);case"MMMM":return sn(t.months("long",!0),1);case"L":return gt(a);case"LL":return gt(r);case"LLL":return sn(t.months("short",!1),1);case"LLLL":return sn(t.months("long",!1),1);case"d":return gt(a);case"dd":return gt(r);case"o":return gt(l);case"ooo":return gt(s);case"HH":return gt(r);case"H":return gt(a);case"hh":return gt(r);case"h":return gt(a);case"mm":return gt(r);case"m":return gt(a);case"q":return gt(a);case"qq":return gt(r);case"s":return gt(a);case"ss":return gt(r);case"S":return gt(l);case"SSS":return gt(s);case"u":return z0(f);case"uu":return z0(a);case"uuu":return gt(i);case"a":return sn(t.meridiems(),0);case"kkkk":return gt(n);case"kk":return gt(d,pw);case"W":return gt(a);case"WW":return gt(r);case"E":case"c":return gt(i);case"EEE":return sn(t.weekdays("short",!1),1);case"EEEE":return sn(t.weekdays("long",!1),1);case"ccc":return sn(t.weekdays("short",!0),1);case"cccc":return sn(t.weekdays("long",!0),1);case"Z":case"ZZ":return h$(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return h$(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return z0(/[a-z_+-/]{1,256}?/i);case" ":return z0(/[^\S\n\r]/);default:return y(S)}})(e)||{invalidReason:sH};return b.token=e,b}const cH={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function uH(e,t,i){const{type:r,value:s}=e;if(r==="literal"){const l=/^\s+$/.test(s);return{literal:!l,val:l?" ":s}}const n=t[r];let o=r;r==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=i.hour12?"hour12":"hour24");let a=cH[o];if(typeof a=="object"&&(a=a[n]),a)return{literal:!1,val:a}}function hH(e){return[`^${e.map(i=>i.regex).reduce((i,r)=>`${i}(${r.source})`,"")}$`,e]}function fH(e,t,i){const r=e.match(t);if(r){const s={};let n=1;for(const o in i)if(of(i,o)){const a=i[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(s[a.token.val[0]]=a.deser(r.slice(n,n+l))),n+=l}return[r,s]}else return[r,{}]}function dH(e){const t=n=>{switch(n){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,r;return Be(e.z)||(i=In.create(e.z)),Be(e.Z)||(i||(i=new Ar(e.Z)),r=e.Z),Be(e.q)||(e.M=(e.q-1)*3+1),Be(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Be(e.u)||(e.S=CS(e.u)),[Object.keys(e).reduce((n,o)=>{const a=t(o);return a&&(n[a]=e[o]),n},{}),i,r]}let v_=null;function pH(){return v_||(v_=Ie.fromMillis(1555555555555)),v_}function mH(e,t){if(e.literal)return e;const i=Sr.macroTokenToFormatOpts(e.val),r=oN(i,t);return r==null||r.includes(void 0)?e:r}function rN(e,t){return Array.prototype.concat(...e.map(i=>mH(i,t)))}class sN{constructor(t,i){if(this.locale=t,this.format=i,this.tokens=rN(Sr.parseFormat(i),t),this.units=this.tokens.map(r=>lH(r,t)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,s]=hH(this.units);this.regex=RegExp(r,"i"),this.handlers=s}}explainFromTokens(t){if(this.isValid){const[i,r]=fH(t,this.regex,this.handlers),[s,n,o]=r?dH(r):[null,null,void 0];if(of(r,"a")&&of(r,"H"))throw new ph("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:r,result:s,zone:n,specificOffset:o}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function nN(e,t,i){return new sN(e,i).explainFromTokens(t)}function yH(e,t,i){const{result:r,zone:s,specificOffset:n,invalidReason:o}=nN(e,t,i);return[r,s,n,o]}function oN(e,t){if(!e)return null;const r=Sr.create(t,e).dtFormatter(pH()),s=r.formatToParts(),n=r.resolvedOptions();return s.map(o=>uH(o,e,n))}const b_="Invalid DateTime",f$=864e13;function Md(e){return new yn("unsupported zone",`the zone "${e.name}" is not supported`)}function __(e){return e.weekData===null&&(e.weekData=rv(e.c)),e.weekData}function w_(e){return e.localWeekData===null&&(e.localWeekData=rv(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Kl(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Ie({...i,...t,old:i})}function aN(e,t,i){let r=e-t*60*1e3;const s=i.offset(r);if(t===s)return[r,t];r-=(s-t)*60*1e3;const n=i.offset(r);return s===n?[r,s]:[e-Math.min(s,n)*60*1e3,Math.max(s,n)]}function q0(e,t){e+=t*60*1e3;const i=new Date(e);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function qy(e,t,i){return aN(U1(e),t,i)}function d$(e,t){const i=e.o,r=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,n={...e.c,year:r,month:s,day:Math.min(e.c.day,sv(r,s))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=ut.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=U1(n);let[l,c]=aN(a,i,e.zone);return o!==0&&(l+=o,c=e.zone.offset(l)),{ts:l,o:c}}function ju(e,t,i,r,s,n){const{setZone:o,zone:a}=i;if(e&&Object.keys(e).length!==0||t){const l=t||a,c=Ie.fromObject(e,{...i,zone:l,specificOffset:n});return o?c:c.setZone(a)}else return Ie.invalid(new yn("unparsable",`the input "${s}" can't be parsed as ${r}`))}function H0(e,t,i=!0){return e.isValid?Sr.create(St.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function x_(e,t){const i=e.c.year>9999||e.c.year<0;let r="";return i&&e.c.year>=0&&(r+="+"),r+=Ii(e.c.year,i?6:4),t?(r+="-",r+=Ii(e.c.month),r+="-",r+=Ii(e.c.day)):(r+=Ii(e.c.month),r+=Ii(e.c.day)),r}function p$(e,t,i,r,s,n){let o=Ii(e.c.hour);return t?(o+=":",o+=Ii(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(o+=":")):o+=Ii(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(o+=Ii(e.c.second),(e.c.millisecond!==0||!r)&&(o+=".",o+=Ii(e.c.millisecond,3))),s&&(e.isOffsetFixed&&e.offset===0&&!n?o+="Z":e.o<0?(o+="-",o+=Ii(Math.trunc(-e.o/60)),o+=":",o+=Ii(Math.trunc(-e.o%60))):(o+="+",o+=Ii(Math.trunc(e.o/60)),o+=":",o+=Ii(Math.trunc(e.o%60)))),n&&(o+="["+e.zone.ianaName+"]"),o}const lN={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},gH={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},vH={ordinal:1,hour:0,minute:0,second:0,millisecond:0},cN=["year","month","day","hour","minute","second","millisecond"],bH=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],_H=["year","ordinal","hour","minute","second","millisecond"];function wH(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new uP(e);return t}function m$(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return wH(e)}}function xH(e){return Wy[e]||(Hy===void 0&&(Hy=hi.now()),Wy[e]=e.offset(Hy)),Wy[e]}function y$(e,t){const i=ol(t.zone,hi.defaultZone);if(!i.isValid)return Ie.invalid(Md(i));const r=St.fromObject(t);let s,n;if(Be(e.year))s=hi.now();else{for(const l of cN)Be(e[l])&&(e[l]=lN[l]);const o=LP(e)||kP(e);if(o)return Ie.invalid(o);const a=xH(i);[s,n]=qy(e,a,i)}return new Ie({ts:s,zone:i,loc:r,o:n})}function g$(e,t,i){const r=Be(i.round)?!0:i.round,s=(o,a)=>(o=IS(o,r||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(o,a)),n=o=>i.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(i.unit)return s(n(i.unit),i.unit);for(const o of i.units){const a=n(o);if(Math.abs(a)>=1)return s(a,o)}return s(e>t?-0:0,i.units[i.units.length-1])}function v$(e){let t={},i;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],i=Array.from(e).slice(0,e.length-1)):i=Array.from(e),[t,i]}let Hy,Wy={};class Ie{constructor(t){const i=t.zone||hi.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new yn("invalid input"):null)||(i.isValid?null:Md(i));this.ts=Be(t.ts)?hi.now():t.ts;let s=null,n=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[s,n]=[t.old.c,t.old.o];else{const a=ml(t.o)&&!t.old?t.o:i.offset(this.ts);s=q0(this.ts,a),r=Number.isNaN(s.year)?new yn("invalid input"):null,s=r?null:s,n=r?null:a}this._zone=i,this.loc=t.loc||St.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=s,this.o=n,this.isLuxonDateTime=!0}static now(){return new Ie({})}static local(){const[t,i]=v$(arguments),[r,s,n,o,a,l,c]=i;return y$({year:r,month:s,day:n,hour:o,minute:a,second:l,millisecond:c},t)}static utc(){const[t,i]=v$(arguments),[r,s,n,o,a,l,c]=i;return t.zone=Ar.utcInstance,y$({year:r,month:s,day:n,hour:o,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,i={}){const r=Xz(t)?t.valueOf():NaN;if(Number.isNaN(r))return Ie.invalid("invalid input");const s=ol(i.zone,hi.defaultZone);return s.isValid?new Ie({ts:r,zone:s,loc:St.fromObject(i)}):Ie.invalid(Md(s))}static fromMillis(t,i={}){if(ml(t))return t<-f$||t>f$?Ie.invalid("Timestamp out of range"):new Ie({ts:t,zone:ol(i.zone,hi.defaultZone),loc:St.fromObject(i)});throw new vr(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(ml(t))return new Ie({ts:t*1e3,zone:ol(i.zone,hi.defaultZone),loc:St.fromObject(i)});throw new vr("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};const r=ol(i.zone,hi.defaultZone);if(!r.isValid)return Ie.invalid(Md(r));const s=St.fromObject(i),n=nv(t,m$),{minDaysInFirstWeek:o,startOfWeek:a}=i$(n,s),l=hi.now(),c=Be(i.specificOffset)?r.offset(l):i.specificOffset,f=!Be(n.ordinal),d=!Be(n.year),p=!Be(n.month)||!Be(n.day),y=d||p,v=n.weekYear||n.weekNumber;if((y||f)&&v)throw new ph("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&f)throw new ph("Can't mix ordinal dates with month/day");const b=v||n.weekday&&!y;let S,E,T=q0(l,c);b?(S=bH,E=gH,T=rv(T,o,a)):f?(S=_H,E=vH,T=g_(T)):(S=cN,E=lN);let w=!1;for(const F of S){const z=n[F];Be(z)?w?n[F]=E[F]:n[F]=T[F]:w=!0}const _=b?Jz(n,o,a):f?Zz(n):LP(n),$=_||kP(n);if($)return Ie.invalid($);const M=b?e$(n,o,a):f?t$(n):n,[I,N]=qy(M,c,r),P=new Ie({ts:I,zone:r,o:N,loc:s});return n.weekday&&y&&t.weekday!==P.weekday?Ie.invalid("mismatched weekday",`you can't specify both a weekday of ${n.weekday} and a date of ${P.toISO()}`):P.isValid?P:Ie.invalid(P.invalid)}static fromISO(t,i={}){const[r,s]=Vq(t);return ju(r,s,i,"ISO 8601",t)}static fromRFC2822(t,i={}){const[r,s]=Bq(t);return ju(r,s,i,"RFC 2822",t)}static fromHTTP(t,i={}){const[r,s]=Gq(t);return ju(r,s,i,"HTTP",i)}static fromFormat(t,i,r={}){if(Be(t)||Be(i))throw new vr("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:n=null}=r,o=St.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0}),[a,l,c,f]=yH(o,t,i);return f?Ie.invalid(f):ju(a,l,r,`format ${i}`,t,c)}static fromString(t,i,r={}){return Ie.fromFormat(t,i,r)}static fromSQL(t,i={}){const[r,s]=Zq(t);return ju(r,s,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new vr("need to specify a reason the DateTime is invalid");const r=t instanceof yn?t:new yn(t,i);if(hi.throwOnInvalid)throw new xz(r);return new Ie({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,i={}){const r=oN(t,St.fromObject(i));return r?r.map(s=>s?s.val:null).join(""):null}static expandFormat(t,i={}){return rN(Sr.parseFormat(t),St.fromObject(i)).map(s=>s.val).join("")}static resetCache(){Hy=void 0,Wy={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?__(this).weekYear:NaN}get weekNumber(){return this.isValid?__(this).weekNumber:NaN}get weekday(){return this.isValid?__(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?w_(this).weekday:NaN}get localWeekNumber(){return this.isValid?w_(this).weekNumber:NaN}get localWeekYear(){return this.isValid?w_(this).weekYear:NaN}get ordinal(){return this.isValid?g_(this.c).ordinal:NaN}get monthShort(){return this.isValid?G0.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?G0.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?G0.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?G0.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,i=6e4,r=U1(this.c),s=this.zone.offset(r-t),n=this.zone.offset(r+t),o=this.zone.offset(r-s*i),a=this.zone.offset(r-n*i);if(o===a)return[this];const l=r-o*i,c=r-a*i,f=q0(l,o),d=q0(c,a);return f.hour===d.hour&&f.minute===d.minute&&f.second===d.second&&f.millisecond===d.millisecond?[Kl(this,{ts:l}),Kl(this,{ts:c})]:[this]}get isInLeapYear(){return Zm(this.year)}get daysInMonth(){return sv(this.year,this.month)}get daysInYear(){return this.isValid?Lh(this.year):NaN}get weeksInWeekYear(){return this.isValid?em(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?em(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:i,numberingSystem:r,calendar:s}=Sr.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:r,outputCalendar:s}}toUTC(t=0,i={}){return this.setZone(Ar.instance(t),i)}toLocal(){return this.setZone(hi.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:r=!1}={}){if(t=ol(t,hi.defaultZone),t.equals(this.zone))return this;if(t.isValid){let s=this.ts;if(i||r){const n=t.offset(this.ts),o=this.toObject();[s]=qy(o,n,t)}return Kl(this,{ts:s,zone:t})}else return Ie.invalid(Md(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:r}={}){const s=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:r});return Kl(this,{loc:s})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const i=nv(t,m$),{minDaysInFirstWeek:r,startOfWeek:s}=i$(i,this.loc),n=!Be(i.weekYear)||!Be(i.weekNumber)||!Be(i.weekday),o=!Be(i.ordinal),a=!Be(i.year),l=!Be(i.month)||!Be(i.day),c=a||l,f=i.weekYear||i.weekNumber;if((c||o)&&f)throw new ph("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new ph("Can't mix ordinal dates with month/day");let d;n?d=e$({...rv(this.c,r,s),...i},r,s):Be(i.ordinal)?(d={...this.toObject(),...i},Be(i.day)&&(d.day=Math.min(sv(d.year,d.month),d.day))):d=t$({...g_(this.c),...i});const[p,y]=qy(d,this.o,this.zone);return Kl(this,{ts:p,o:y})}plus(t){if(!this.isValid)return this;const i=ut.fromDurationLike(t);return Kl(this,d$(this,i))}minus(t){if(!this.isValid)return this;const i=ut.fromDurationLike(t).negate();return Kl(this,d$(this,i))}startOf(t,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const r={},s=ut.normalizeUnit(t);switch(s){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(s==="weeks")if(i){const n=this.loc.getStartOfWeek(),{weekday:o}=this;o<n&&(r.weekNumber=this.weekNumber-1),r.weekday=n}else r.weekday=1;if(s==="quarters"){const n=Math.ceil(this.month/3);r.month=(n-1)*3+1}return this.set(r)}endOf(t,i){return this.isValid?this.plus({[t]:1}).startOf(t,i).minus(1):this}toFormat(t,i={}){return this.isValid?Sr.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):b_}toLocaleString(t=iv,i={}){return this.isValid?Sr.create(this.loc.clone(i),t).formatDateTime(this):b_}toLocaleParts(t={}){return this.isValid?Sr.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:r=!1,includeOffset:s=!0,extendedZone:n=!1}={}){if(!this.isValid)return null;const o=t==="extended";let a=x_(this,o);return a+="T",a+=p$(this,o,i,r,s,n),a}toISODate({format:t="extended"}={}){return this.isValid?x_(this,t==="extended"):null}toISOWeekDate(){return H0(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:r=!0,includePrefix:s=!1,extendedZone:n=!1,format:o="extended"}={}){return this.isValid?(s?"T":"")+p$(this,o==="extended",i,t,r,n):null}toRFC2822(){return H0(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return H0(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?x_(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:r=!0}={}){let s="HH:mm:ss.SSS";return(i||t)&&(r&&(s+=" "),i?s+="z":t&&(s+="ZZ")),H0(this,s,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():b_}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const i={...this.c};return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",r={}){if(!this.isValid||!t.isValid)return ut.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...r},n=Qz(i).map(ut.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,c=rH(a,l,n,s);return o?c.negate():c}diffNow(t="milliseconds",i={}){return this.diff(Ie.now(),t,i)}until(t){return this.isValid?ci.fromDateTimes(this,t):this}hasSame(t,i,r){if(!this.isValid)return!1;const s=t.valueOf(),n=this.setZone(t.zone,{keepLocalTime:!0});return n.startOf(i,r)<=s&&s<=n.endOf(i,r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const i=t.base||Ie.fromObject({},{zone:this.zone}),r=t.padding?this<i?-t.padding:t.padding:0;let s=["years","months","days","hours","minutes","seconds"],n=t.unit;return Array.isArray(t.unit)&&(s=t.unit,n=void 0),g$(i,this.plus(r),{...t,numeric:"always",units:s,unit:n})}toRelativeCalendar(t={}){return this.isValid?g$(t.base||Ie.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Ie.isDateTime))throw new vr("min requires all arguments be DateTimes");return r$(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(Ie.isDateTime))throw new vr("max requires all arguments be DateTimes");return r$(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,r={}){const{locale:s=null,numberingSystem:n=null}=r,o=St.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});return nN(o,t,i)}static fromStringExplain(t,i,r={}){return Ie.fromFormatExplain(t,i,r)}static buildFormatParser(t,i={}){const{locale:r=null,numberingSystem:s=null}=i,n=St.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return new sN(n,t)}static fromFormatParser(t,i,r={}){if(Be(t)||Be(i))throw new vr("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:n=null}=r,o=St.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});if(!o.equals(i.locale))throw new vr(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${i.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:f}=i.explainFromTokens(t);return f?Ie.invalid(f):ju(a,l,r,`format ${i.format}`,t,c)}static get DATE_SHORT(){return iv}static get DATE_MED(){return hP}static get DATE_MED_WITH_WEEKDAY(){return Az}static get DATE_FULL(){return fP}static get DATE_HUGE(){return dP}static get TIME_SIMPLE(){return pP}static get TIME_WITH_SECONDS(){return mP}static get TIME_WITH_SHORT_OFFSET(){return yP}static get TIME_WITH_LONG_OFFSET(){return gP}static get TIME_24_SIMPLE(){return vP}static get TIME_24_WITH_SECONDS(){return bP}static get TIME_24_WITH_SHORT_OFFSET(){return _P}static get TIME_24_WITH_LONG_OFFSET(){return wP}static get DATETIME_SHORT(){return xP}static get DATETIME_SHORT_WITH_SECONDS(){return EP}static get DATETIME_MED(){return SP}static get DATETIME_MED_WITH_SECONDS(){return AP}static get DATETIME_MED_WITH_WEEKDAY(){return Tz}static get DATETIME_FULL(){return TP}static get DATETIME_FULL_WITH_SECONDS(){return $P}static get DATETIME_HUGE(){return MP}static get DATETIME_HUGE_WITH_SECONDS(){return OP}}function od(e){if(Ie.isDateTime(e))return e;if(e&&e.valueOf&&ml(e.valueOf()))return Ie.fromJSDate(e);if(e&&typeof e=="object")return Ie.fromObject(e);throw new vr(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const EH="HH:mm",SH="HH:mm:ss",AH="HH:mm:ss.SSS",TH=[AH,SH,EH,"TT"],$H="yyyy-MM-dd";function b$(e){if(!e||!Jm(e))return null;const t=Ie.fromFormat(e,$H);return t.isValid?t:null}function _$(e){return e&&Jm(e)?PU(TH,t=>{const i=Ie.fromFormat(e,t);return i.isValid?i:null})??null:null}function w$(e){if(!e||!Jm(e))return null;const t=Ie.fromISO(e);return t.isValid?t:null}var ov;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(ov||(ov={}));const uN=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function MH(e){return e!=null&&uN.has(e.type)}function hN(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function fN(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function dN(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}const OH=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);rS(uN,OH);function t_e(e,t){const i=e?.domain;if(!i||i.type!=="range")return;const r="range"in i?i.range[0]:i.minValue,s="range"in i?i.range[1]:i.maxValue,n=MH(e);return hN(e)||dN(e)||fN(e)?{...CH(e,s,r),isInteger:n}:{min:r!=null&&typeof r=="number"?r:null,max:s!=null&&typeof s=="number"?s:null,rawMin:r,rawMax:s,isInteger:n}}function CH(e,t,i){return hN(e)?{min:b$(i)?.toMillis(),max:b$(t)?.toMillis(),rawMin:i,rawMax:t}:dN(e)?{min:_$(i)?.toMillis(),max:_$(t)?.toMillis(),rawMin:i,rawMax:t}:fN(e)?{min:w$(i)?.toMillis(),max:w$(t)?.toMillis(),rawMin:i,rawMax:t}:{max:null,min:null}}function IH(e){if(!e)return;const t=e.match(PH);return t?.groups?t.groups.doubleQuoted??t.groups.singleQuoted??t.groups.dotNotation:void 0}const PH=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function i_e(e){return e.match(NH)?.[1]?.replace(/\\'/g,"'")??null}const NH=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let so=class{};function LH(e){return e instanceof bu?e===so.instance:e?.toString().toLowerCase()==="unknown"}function s_e(e){return LH(e)?so.instance:e}so.instance=new In("Etc/UTC");var av;(function(e){e.TimeZoneNotRecognized="TimeZoneNotRecognized"})(av||(av={}));const kH={[av.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};let RH=class pN extends Error{constructor(t,i){super(YE(kH[t],i)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,pN)}};function Vu(e,t,i){return e<t?e-t:e>i?e-i:0}function Bu(e,t,i){return e<t?t:e>i?i:e}let W0=class gi{constructor(t){this._date=t,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(t=0,i=1,r=1,s=0,n=0,o=0,a=0,l){if(isNaN(t)||isNaN(i)||isNaN(r)||isNaN(s)||isNaN(n)||isNaN(o)||isNaN(a))return null;const c=Ie.local(t,i).daysInMonth;let f=Ie.fromObject({day:Bu(r,1,c),year:t,month:Bu(i,1,12),hour:Bu(s,0,23),minute:Bu(n,0,59),second:Bu(o,0,59),millisecond:Bu(a,0,999)},{zone:Xl(l)});return f=f.plus({months:Vu(i,1,12),days:Vu(r,1,c),hours:Vu(s,0,23),minutes:Vu(n,0,59),seconds:Vu(o,0,59),milliseconds:Vu(a,0,999)}),new gi(f)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(t,i){const r=Xl(i);return t.isUnknownTimeZone||r===so.instance?gi.fromParts(t.year,t.monthJS+1,t.day,t.hour,t.minute,t.second,t.millisecond,r):new gi(t._date.setZone(r))}static dateJSToArcadeDate(t){return new gi(Ie.fromJSDate(t,{zone:"system"}))}static dateJSAndZoneToArcadeDate(t,i="system"){const r=Xl(i);return new gi(Ie.fromJSDate(t,{zone:r}))}static unknownEpochToArcadeDate(t){return new gi(Ie.fromMillis(t,{zone:so.instance}))}static unknownDateJSToArcadeDate(t){return new gi(Ie.fromMillis(t.getTime(),{zone:so.instance}))}static epochToArcadeDate(t,i="system"){const r=Xl(i);return new gi(Ie.fromMillis(t,{zone:r}))}static dateTimeToArcadeDate(t){return new gi(t)}clone(){return new gi(this._date)}changeTimeZone(t){const i=Xl(t);return gi.dateTimeToArcadeDate(this._date.setZone(i))}static dateTimeAndZoneToArcadeDate(t,i){const r=Xl(i);return t.zone===so.instance||r===so.instance?gi.fromParts(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond,r):new gi(t.setZone(r))}static nowToArcadeDate(t){const i=Xl(t);return new gi(Ie.fromJSDate(new Date,{zone:i}))}static nowUTCToArcadeDate(){return new gi(Ie.utc())}get isSystem(){return this.timeZone==="system"||this.timeZone===gi.systemTimeZoneCanonicalName}equals(t){return this.isSystem&&t.isSystem?this.toNumber()===t.toNumber():this.isUnknownTimeZone===t.isUnknownTimeZone&&this._date.equals(t._date)}get isUnknownTimeZone(){return this._date.zone===so.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let t=this._date.weekday;return t>6&&(t=0),t}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if(this._date.zone.type==="system")return"system";const t=this.zone;return t.type==="fixed"?t.fixed===0?"UTC":t.formatOffset(0,"short"):t.name}stringify(){return JSON.stringify(this.toJSDate())}plus(t){return new gi(this._date.plus(t))}diff(t,i="milliseconds"){return this._date.diff(t._date,i)[i]}toISODate(){return this._date.toISODate()}toISOString(t){return t?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(t,i){return this._date.toISOTime({suppressMilliseconds:t,includeOffset:i&&!this.isUnknownTimeZone})}toFormat(t,i){return this.isUnknownTimeZone&&(t=t.replaceAll("Z","")),this._date.toFormat(t,i)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new gi(this._date.toUTC())}toLocal(){return new gi(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(t){if(!t)return null;const i=Ie.fromISO(t,{setZone:!0});return new gi(i)}};function Xl(e,t=!0){if(e instanceof bu)return e;if(e.toLowerCase()==="system")return"system";if(e.toLowerCase()==="utc")return"UTC";if(e.toLowerCase()==="unknown")return so.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const r=Ar.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(r)return r}const i=In.create(e);if(!i.isValid){if(t)throw new RH(av.TimeZoneNotRecognized);return null}return i}const DH=()=>Rt.getLogger("esri.support.arcadeOnDemand"),FH=["geometry","scale","timeProperties"];function n_e(e,t){if(t!=null)for(const i of FH)t.hasArcadeDependency(i)&&e.add(i);return e}let E_;function mN(){return E_||(E_=(async()=>{const e=await ve(()=>import("./arcadeUtils-BMNVBwby.js"),__vite__mapDeps([19,20,1,21,22,23,18,24,25,26,27,28,29,30,31,32,17,5]),import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel}})()),E_}const o_e=(e,t,i)=>yN.create(e,t,i,null,["$feature","$view"],[]),a_e=(e,t,i,r)=>yN.create(e,t,i,r,["$feature","$view"],[]);let yN=class gN{constructor(t,i,r,s,n,o,a){this._dependencies=new Map,this.services=null,this.script=t,this.evaluate=s;const l=Array.isArray(o)?o:o?.fields;this.fields=l??[],this._syntaxTree=r,this._arcade=i,this._arcadeFeature=n,this._spatialReference=a,this._dependencies.set("geometry",i.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}static async create(t,i,r,s,n,o){const{arcade:a,Feature:l,Dictionary:c}=await mN(),f=i instanceof Yi?i:Yi.fromJSON(i);let d;try{d=a.parseScript(t,o)}catch(N){return DH().error(new ft("arcade-bad-expression","Failed to parse arcade script",{script:t,error:N})),null}const p=n.reduce((N,P)=>({...N,[P]:null}),{});let y=null;s!=null&&(y=new c(s),y.immutable=!0,p.$config=null);const v=a.scriptUsesGeometryEngine(d),b=v&&a.enableGeometrySupport(),S=a.scriptUsesFeatureSet(d)&&a.enableFeatureSetSupport(),E=a.scriptIsAsync(d),T=E&&a.enableAsyncSupport(),w={vars:p,spatialReference:f,useAsync:!!T};await Promise.all([b,S,T]);const _=new Set;await a.loadDependentModules(_,d,null,E,v);const $=new c;$.immutable=!1,$.setField("scale",0);const M=a.compileScript(d,w),I=(N,P)=>{const F=N.$view?.timeZone;if("$view"in N&&N.$view){let z;if($.setField("scale",typeof N.$view=="object"&&"scale"in N.$view?N.$view.scale:void 0),typeof N.$view=="object"&&"timeProperties"in N.$view&&N.$view.timeProperties!=null){const{currentStart:U,currentEnd:V}=N.$view.timeProperties;z=new c({currentStart:U!=null?F!=null?W0.epochToArcadeDate(U,F):W0.unknownEpochToArcadeDate(U):void 0,currentEnd:V!=null?F!=null?W0.epochToArcadeDate(V,F):W0.unknownEpochToArcadeDate(V):void 0,startIncluded:!0,endIncluded:!0})}$.setField("timeProperties",z),N.$view=$}return y&&(N.$config=y),M({vars:N,spatialReference:f,services:P,timeZone:F})};return new gN(t,a,d,I,new l,r,f)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}references(t){return this._dependencies.get(t)??!1}};const UH=/^([0-9_])/,jH=/[^a-z0-9_\u0080-\uffff]+/gi;function l_e(e){return e==null?null:e.trim().replaceAll(jH,"_").replace(UH,"F$1")||null}const VH=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],BH=["field","normalizationField"];function c_e(e,t){if(e!=null&&t!=null){for(const i of Array.isArray(e)?e:[e])if(x$(VH,i,t),"visualVariables"in i&&i.visualVariables)for(const r of i.visualVariables)x$(BH,r,t)}}function x$(e,t,i){if(e)for(const r of e){const s=WE(r,t),n=s&&typeof s!="function"&&i.get(s);n&&kf(r,n.name,t)}}function u_e(e,t){if(e!=null&&t?.fields?.length)if("startField"in e){const i=t.get(e.startField),r=t.get(e.endField);e.startField=i?.name??null,e.endField=r?.name??null}else{const i=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=i?.name??null,e.endTimeField=r?.name??null}}const S_=new Set;function kS(e,t){return e&&t?(S_.clear(),tm(S_,e,t),Array.from(S_).sort()):[]}function tm(e,t,i){if(i)if(t?.fields?.length)if(i.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const r of i)B1(e,t,r);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const r of i)r!=null&&e.add(r)}}function B1(e,t,i){if(typeof i=="string")if(t){const r=t.get(i);r&&e.add(r.name)}else e.add(i)}function h_e(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(i=>i.name):t}function f_e(e,t,i=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const r=kS(e,t);return r.length/e.fields.length>=i?["*"]:r}async function ru(e,t,i){if(!i)return;let r;const s=IH(i);if(s)r=[s];else{const{arcadeUtils:n}=await mN();r=n.extractFieldNames(i,t?.fields?.map(o=>o.name))}for(const n of r)B1(e,t,n)}async function RS(e,t,i){if(i&&i!=="1=1"){const r=await vz(i,t);if(!r.isStandardized)throw new ft("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});tm(e,t,r.fieldNames)}}function d_e({displayField:e,fields:t}){return e||(t?.length?A_(t,"name-or-title")||A_(t,"unique-identifier")||A_(t,"type-or-category")||GH(t):null)}function GH(e){for(const t of e){if(!t?.name)continue;const i=t.name.toLowerCase();if(i.includes("name")||i.includes("title"))return t.name}return null}function A_(e,t){for(const i of e)if(i?.valueType&&i.valueType===t)return i.name;return null}async function p_e(e,t){if(!t)return;const i=t.elevationInfo?.featureExpressionInfo;return i?i.collectRequiredFields(e,t.fieldsIndex):void 0}function zH(e,t,i){i.onStatisticExpression?ru(e,t,i.onStatisticExpression.expression):e.add(i.onStatisticField)}async function m_e(e,t,i){if(!t||!i||!("fields"in i))return;const r=[],s=i.popupTemplate;r.push(vN(e,t,s)),i.fields&&r.push(...i.fields.map(async n=>zH(e,t.fieldsIndex,n))),await Promise.all(r)}async function y_e(e,t){const{fieldsIndex:i,trackInfo:r}=t;if(!t||!r||!i)return;const s=[r.latestObservations.renderer?.collectRequiredFields(e,i),r.previousObservations.renderer?.collectRequiredFields(e,i),r.trackLines.renderer?.collectRequiredFields(e,i)];r.popupTemplate&&s.push(vN(e,t,r.popupTemplate));for(const n of[r.latestObservations.labelingInfo,r.previousObservations.labelingInfo,r.trackLines.labelingInfo])if(n)for(const o of n)s.push(wN(e,i,o));await Promise.all(s)}async function vN(e,t,i){const r=[];i?.expressionInfos&&r.push(...i.expressionInfos.map(n=>ru(e,t.fieldsIndex,n.expression)));const s=i?.content;if(Array.isArray(s))for(const n of s)n.type==="expression"&&n.expressionInfo&&r.push(ru(e,t.fieldsIndex,n.expressionInfo.expression));await Promise.all(r)}async function g_e(e,t,i){t&&(t.timeInfo&&i?.timeExtent&&tm(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&tm(e,t.fieldsIndex,[t.floorInfo.floorField]),i?.where!=null&&await RS(e,t.fieldsIndex,i.where))}async function v_e(e,t,i){t&&i&&await Promise.all(i.map(r=>qH(e,t,r)))}async function qH(e,t,i){t&&i&&(i.valueExpression?await ru(e,t.fieldsIndex,i.valueExpression):i.field&&B1(e,t.fieldsIndex,i.field))}function b_e(e){return e?kS(e.fieldsIndex,bN(e)):[]}function HH(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?kS(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}async function __e(e,t,i){if(!t||!i)return;const r=t.fieldsIndex;await Promise.all(i.filters.map(s=>RS(e,r,s.where)))}const WH=new Set(["oid","global-id","guid"]),YH=new Set(["oid","global-id"]),JH=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function ZH(e){const t=new Set;_N(e).forEach(r=>t.add(r)),HH(e).forEach(r=>t.add(r.toLowerCase()));const i=e&&"infoFor3D"in e?e.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(r=>t.add(r.toLowerCase())),Object.values(i.transformFieldRoles).forEach(r=>t.add(r.toLowerCase()))),Array.from(t)}function bN(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:i,creatorField:r,editDateField:s,editorField:n}=t;return[i,r,s,n].filter(Boolean)}function _N(e){return bN(e).map(t=>t.toLowerCase())}function w_e(e,t){return e.editable&&!WH.has(e.type)&&!_N(t).includes(e.name?.toLowerCase()??"")}function x_e(e,t){const i=e.name?.toLowerCase()??"";return!(t?.objectIdField!=null&&i===t.objectIdField.toLowerCase()||t?.globalIdField!=null&&i===t.globalIdField.toLowerCase()||ZH(t).includes(i)||YH.has(e.type)||JH.some(r=>r.test(i)))}async function E_e(e,t){const{labelingInfo:i,fieldsIndex:r}=t;i?.length&&await Promise.all(i.map(s=>wN(e,r,s)))}async function wN(e,t,i){if(!i)return;const r=i.getLabelExpression(),s=i.where;if(r.type==="arcade")await ru(e,t,r.expression);else{const n=r.expression.match(/{[^}]*}/g);n&&n.forEach(o=>{B1(e,t,o.slice(1,-1))})}await RS(e,t,s)}function S_e(e){const t=e.defaultValue;return t!==void 0&&EN(e,t)?t:e.nullable?null:void 0}function A_e(e){const t=typeof e=="string"?{type:e}:e;return aW(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function xN(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function KH(e){return e===null||xN(e)}function XH(e){return e===null||Number.isInteger(e)}function QH(){return!0}function EN(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=e.nullable?XH:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?KH:xN;break;case"string":case"esriFieldTypeString":i=e.nullable?wz:Jm;break;default:i=QH}return arguments.length===1?i:i(t)}const eW=["integer","small-integer","big-integer"],tW=["single","double"],iW=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],rW=["esriFieldTypeSingle","esriFieldTypeDouble"],SN=new Set([...eW,...iW]),sW=new Set([...tW,...rW]),nW=rS(SN,sW);function T_e(e){return e!=null&&SN.has(e.type)}function oW(e){return e!=null&&nW.has(e.type)}function aW(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function $_e(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function M_e(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function O_e(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function C_e(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function I_e(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function P_e(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function N_e(e,t){return lW(e,t)===null}var lv,cv;function L_e(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function lW(e,t){return e==null||e.nullable&&t===null?null:EN(e,t)?oW(e)&&!cW(e.type,Number(t))?lv.OUT_OF_RANGE:null:cv.INVALID_TYPE}function cW(e,t){const i=typeof e=="string"?AN(e):e;if(!i)return!1;const r=i.min,s=i.max;return i.isInteger?Number.isInteger(t)&&t>=r&&t<=s:t>=r&&t<=s}function AN(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return uW;case"esriFieldTypeInteger":case"integer":return hW;case"esriFieldTypeBigInteger":case"big-integer":return fW;case"esriFieldTypeSingle":case"single":return dW;case"esriFieldTypeDouble":case"double":return pW}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(lv||(lv={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(cv||(cv={}));const uW={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},hW={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},fW={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},dW={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},pW={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function k_e(e,t,i){switch(e){case ov.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case ov.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case cv.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case lv.OUT_OF_RANGE:{const{min:r,max:s}=AN(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${r} to ${s}`}}}function R_e(e,t){return!mW(e,t,null)}function mW(e,t,i){if(!t?.attributes||!e)return!0;const r=new Set(Object.keys(t.attributes));let s=!1;for(const n of e)if(!r.has(n)&&(s=!0,i==null))break;return s}function D_e(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}async function F_e(e,t){const i=new Set;return e?.collectRequiredFields&&await e.collectRequiredFields(i,t),Array.from(i).sort()}function yW(e){const t=e?.match(/{[^}]+}/g);return t?t.map(i=>i.slice(1,-1).split(":")[0].trim()):[]}let Yy=class extends Xe{constructor(t){super(t),this.type=null}};g([A({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],Yy.prototype,"type",void 0),Yy=g([ie("esri.popup.content.Content")],Yy);const ga=Yy,Y0=new wo({asc:"ascending",desc:"descending"});let Od=class extends Io.ClonableMixin(Xe){constructor(t){super(t),this.field=null,this.order="ascending"}};g([A({type:String,json:{write:!0}})],Od.prototype,"field",void 0),g([A({type:Y0.apiValues,json:{type:Y0.jsonValues,read:Y0.read,write:Y0.write}})],Od.prototype,"order",void 0),Od=g([ie("esri.popup.support.AttachmentsOrderByInfo")],Od);const gW=Od;let Da=class extends Io.ClonableMixin(ga){constructor(t){super(t),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};g([A({type:String,json:{write:!0}})],Da.prototype,"description",void 0),g([A({type:["auto","preview","list"],json:{write:!0}})],Da.prototype,"displayType",void 0),g([A({type:[gW],json:{write:!0}})],Da.prototype,"orderByFields",void 0),g([A({type:String,json:{write:!0}})],Da.prototype,"title",void 0),g([A({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Da.prototype,"type",void 0),Da=g([ie("esri.popup.content.AttachmentsContent")],Da);const im=Da;var mw;let lc=mw=class extends ga{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new mw({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ge(this.outFields):null})}};g([A()],lc.prototype,"creator",void 0),g([A()],lc.prototype,"destroyer",void 0),g([A()],lc.prototype,"outFields",void 0),g([A({type:["custom"],readOnly:!0})],lc.prototype,"type",void 0),lc=mw=g([ie("esri.popup.content.CustomContent")],lc);const vW=lc;var yw;let Xu=yw=class extends Xe{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new yw({title:this.title,expression:this.expression})}};g([A({type:String,json:{write:!0}})],Xu.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],Xu.prototype,"expression",void 0),g([A({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Xu.prototype,"returnType",void 0),Xu=yw=g([ie("esri.popup.ElementExpressionInfo")],Xu);const bW=Xu;var gw;let Cd=gw=class extends ga{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new gw({expressionInfo:this.expressionInfo?.clone()})}};g([A({type:bW,json:{write:!0}})],Cd.prototype,"expressionInfo",void 0),g([A({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Cd.prototype,"type",void 0),Cd=gw=g([ie("esri.popup.content.ExpressionContent")],Cd);const G1=Cd;function ot(e,t={}){const i=e instanceof wo?e:new wo(e,t),{alwaysWriteDefaults:r,default:s,ignoreUnknown:n=!0,name:o,nonNullable:a,readOnly:l=!1}=t;return A({type:n?i.apiValues:String,json:{type:i.jsonValues,default:s,name:o,read:!l&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:r}},nonNullable:a,readOnly:l})}let hp;const _W=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,vw=globalThis.document?.documentElement;function TN(){const e=vw?.getAttribute("lang"),t=globalThis.navigator?.language;return _W??e??t??"en"}function Rh(){return hp===void 0&&(hp=TN()),hp}function B_e(e=Rh()){return/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(e)?.[1].toLowerCase()}const Jy=[];function G_e(e){return Jy.push(e),Ti(()=>Jy.splice(Jy.indexOf(e),1))}const Zy=[];function wW(e){return Zy.push(e),Ti(()=>Zy.splice(Zy.indexOf(e),1))}function E$(){const e=TN();hp!==e&&([...Zy].forEach(t=>t(e)),hp=e,[...Jy].forEach(t=>t(e)))}globalThis.addEventListener?.("languagechange",E$),vw&&new MutationObserver(()=>{E$()}).observe(vw,{attributeFilter:["lang"]});const $N="system",xW="unknown",DS="UTC",EW=Intl.DateTimeFormat().resolvedOptions().timeZone,SW={year:void 0,month:void 0,day:void 0,weekday:void 0},AW={hour:void 0,minute:void 0,second:void 0},MN={timeZone:DS},Vn={year:"numeric",month:"numeric",day:"numeric"},ad={year:"numeric",month:"long",day:"numeric"},ld={year:"numeric",month:"short",day:"numeric"},cd={year:"numeric",month:"long",weekday:"long",day:"numeric"},Ka={hour:"numeric",minute:"numeric"},cc={...Ka,second:"numeric"},ON={hourCycle:"h23"},ud={...Ka,...ON},hd={...cc,...ON},CN={"short-date":Vn,"short-date-short-time":{...Vn,...Ka},"short-date-short-time-24":{...Vn,...ud},"short-date-long-time":{...Vn,...cc},"short-date-long-time-24":{...Vn,...hd},"short-date-le":Vn,"short-date-le-short-time":{...Vn,...Ka},"short-date-le-short-time-24":{...Vn,...ud},"short-date-le-long-time":{...Vn,...cc},"short-date-le-long-time-24":{...Vn,...hd},"long-month-day-year":ad,"long-month-day-year-short-time":{...ad,...Ka},"long-month-day-year-short-time-24":{...ad,...ud},"long-month-day-year-long-time":{...ad,...cc},"long-month-day-year-long-time-24":{...ad,...hd},"day-short-month-year":ld,"day-short-month-year-short-time":{...ld,...Ka},"day-short-month-year-short-time-24":{...ld,...ud},"day-short-month-year-long-time":{...ld,...cc},"day-short-month-year-long-time-24":{...ld,...hd},"long-date":cd,"long-date-short-time":{...cd,...Ka},"long-date-short-time-24":{...cd,...ud},"long-date-long-time":{...cd,...cc},"long-date-long-time-24":{...cd,...hd},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Ka,"long-time":cc},TW=kn()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),IN={ar:"ar-u-nu-latn-ca-gregory"};let bw=new WeakMap;const z1=CN["short-date-short-time"];function $W(e){let t=bw.get(e);if(!t){const i=Rh(),r=IN[i]||i,s=MW(e.timeZone??$N),n={...e,timeZone:s};t=new Intl.DateTimeFormat(r,n),bw.set(e,t)}return t}function z_e(e){return CN[e]}function FS(e,t=z1){return $W(t).format(e)}function q_e(e,t=z1){return FS(new Date(e),{...t,...MN,...AW})}function H_e(e,t=z1){return FS(new Date(`1970-01-01T${e}Z`),{...t,...MN,...SW})}function W_e(e,t=z1){if(t.timeZone)return FS(new Date(e),t);const i=Ie.fromISO(e,{setZone:!0}),r=Rh(),s=IN[r]??r,n=i.offset===0?DS:t.timeZone,o={...t,timeZone:n};return i.toLocaleString(o,{locale:s})}function MW(e){switch(e){case $N:return EW;case xW:return DS;default:return e}}wW(()=>{bw=new WeakMap});let Qu=class extends Io.ClonableMixin(Xe){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};g([ot(TW)],Qu.prototype,"dateFormat",void 0),g([A({type:Boolean,json:{write:!0}})],Qu.prototype,"digitSeparator",void 0),g([A({type:Ni,json:{write:!0}})],Qu.prototype,"places",void 0),Qu=g([ie("esri.popup.support.FieldInfoFormat")],Qu);const OW=Qu;var _w;let an=_w=class extends Xe{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new _w({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};g([A({type:String,json:{write:!0}})],an.prototype,"fieldName",void 0),g([A({type:OW,json:{write:!0}})],an.prototype,"format",void 0),g([A({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],an.prototype,"isEditable",void 0),g([A({type:String,json:{write:!0}})],an.prototype,"label",void 0),g([ot(new wo({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],an.prototype,"stringFieldOption",void 0),g([A({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],an.prototype,"statisticType",void 0),g([A({type:String,json:{write:!0}})],an.prototype,"tooltip",void 0),g([A({type:Boolean,json:{write:!0}})],an.prototype,"visible",void 0),an=_w=g([ie("esri.popup.FieldInfo")],an);const PN=an;var ww;let Bo=ww=class extends ga{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(i=>i.toJSON())}clone(){return new ww(ge({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};g([A({type:Object,json:{write:!0}})],Bo.prototype,"attributes",void 0),g([A({type:String,json:{write:!0}})],Bo.prototype,"description",void 0),g([A({type:[PN]})],Bo.prototype,"fieldInfos",void 0),g([Jt("fieldInfos")],Bo.prototype,"writeFieldInfos",null),g([A({type:String,json:{write:!0}})],Bo.prototype,"title",void 0),g([A({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Bo.prototype,"type",void 0),Bo=ww=g([ie("esri.popup.content.FieldsContent")],Bo);const rm=Bo;let uc=class extends Xe{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};g([A({type:String,json:{write:!0}})],uc.prototype,"altText",void 0),g([A({type:String,json:{write:!0}})],uc.prototype,"caption",void 0),g([A({type:String,json:{write:!0}})],uc.prototype,"title",void 0),g([A({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],uc.prototype,"type",void 0),uc=g([ie("esri.popup.content.mixins.MediaInfo")],uc);const US=uc;var xw;let hc=xw=class extends Hi{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new xw({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};g([A()],hc.prototype,"color",void 0),g([A()],hc.prototype,"fieldName",void 0),g([A()],hc.prototype,"tooltip",void 0),g([A()],hc.prototype,"value",void 0),hc=xw=g([ie("esri.popup.content.support.ChartMediaInfoValueSeries")],hc);const CW=hc;var Ew;let Fa=Ew=class extends Xe{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new Ew({colors:ge(this.colors),fields:ge(this.fields),normalizeField:this.normalizeField,series:ge(this.series),tooltipField:this.tooltipField})}};g([A({type:[dt],json:{type:[[Ni]],write:!0}})],Fa.prototype,"colors",void 0),g([A({type:[String],json:{write:{isRequired:!0}}})],Fa.prototype,"fields",void 0),g([A({type:String,json:{write:!0}})],Fa.prototype,"normalizeField",void 0),g([A({type:[CW],json:{read:!1}})],Fa.prototype,"series",void 0),g([A({type:String,json:{write:!0}})],Fa.prototype,"tooltipField",void 0),Fa=Ew=g([ie("esri.popup.content.support.ChartMediaInfoValue")],Fa);const IW=Fa;let Id=class extends US{constructor(t){super(t),this.type=null,this.value=void 0}};g([A({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Id.prototype,"type",void 0),g([A({type:IW,json:{write:{isRequired:!0}}})],Id.prototype,"value",void 0),Id=g([ie("esri.popup.content.mixins.ChartMediaInfo")],Id);const q1=Id,H1=kn()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var Sw;let Ky=Sw=class extends q1{constructor(e){super(e),this.type="bar-chart"}clone(){return new Sw({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:H1.write,isRequired:!0}}})],Ky.prototype,"type",void 0),Ky=Sw=g([ie("esri.popup.content.BarChartMediaInfo")],Ky);const NN=Ky;var Aw;let Xy=Aw=class extends q1{constructor(e){super(e),this.type="column-chart"}clone(){return new Aw({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:H1.write,isRequired:!0}}})],Xy.prototype,"type",void 0),Xy=Aw=g([ie("esri.popup.content.ColumnChartMediaInfo")],Xy);const LN=Xy;var Tw;let Pd=Tw=class extends Xe{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new Tw({linkURL:this.linkURL,sourceURL:this.sourceURL})}};g([A({type:String,json:{write:!0}})],Pd.prototype,"linkURL",void 0),g([A({type:String,json:{write:{isRequired:!0}}})],Pd.prototype,"sourceURL",void 0),Pd=Tw=g([ie("esri.popup.content.support.ImageMediaInfoValue")],Pd);const PW=Pd;var $w;let eh=$w=class extends US{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new $w({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};g([A({type:Number,json:{write:!0}})],eh.prototype,"refreshInterval",void 0),g([A({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],eh.prototype,"type",void 0),g([A({type:PW,json:{write:{isRequired:!0}}})],eh.prototype,"value",void 0),eh=$w=g([ie("esri.popup.content.ImageMediaInfo")],eh);const kN=eh;var Mw;let Qy=Mw=class extends q1{constructor(e){super(e),this.type="line-chart"}clone(){return new Mw({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:H1.write,isRequired:!0}}})],Qy.prototype,"type",void 0),Qy=Mw=g([ie("esri.popup.content.LineChartMediaInfo")],Qy);const RN=Qy;var Ow;let eg=Ow=class extends q1{constructor(e){super(e),this.type="pie-chart"}clone(){return new Ow({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:H1.write,isRequired:!0}}})],eg.prototype,"type",void 0),eg=Ow=g([ie("esri.popup.content.PieChartMediaInfo")],eg);const DN=eg,Cw={base:US,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":NN,"column-chart":LN,"line-chart":RN,"pie-chart":DN,image:kN}};var Iw;let ln=Iw=class extends ga{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?kN.fromJSON(t):t.type==="barchart"?NN.fromJSON(t):t.type==="columnchart"?LN.fromJSON(t):t.type==="linechart"?RN.fromJSON(t):t.type==="piechart"?DN.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(i=>i.toJSON())}clone(){return new Iw(ge({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};g([A()],ln.prototype,"activeMediaInfoIndex",void 0),g([A({type:Object,json:{write:!0}})],ln.prototype,"attributes",void 0),g([A({type:String,json:{write:!0}})],ln.prototype,"description",void 0),g([A({types:[Cw]})],ln.prototype,"mediaInfos",void 0),g([tr("mediaInfos")],ln.prototype,"readMediaInfos",null),g([Jt("mediaInfos")],ln.prototype,"writeMediaInfos",null),g([A({type:String,json:{write:!0}})],ln.prototype,"title",void 0),g([A({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],ln.prototype,"type",void 0),ln=Iw=g([ie("esri.popup.content.MediaContent")],ln);const sm=ln;var Pw;let Nd=Pw=class extends Xe{constructor(e){super(e),this.field=null,this.order=null}clone(){return new Pw({field:this.field,order:this.order})}};g([A({type:String,json:{write:!0}})],Nd.prototype,"field",void 0),g([A({type:["asc","desc"],json:{write:!0}})],Nd.prototype,"order",void 0),Nd=Pw=g([ie("esri.popup.support.RelatedRecordsInfoFieldOrder")],Nd);const FN=Nd;let Wn=class extends Io.ClonableMixin(ga){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};g([A({type:String,json:{write:!0}})],Wn.prototype,"description",void 0),g([A({type:Number,json:{type:Ni,write:!0}})],Wn.prototype,"displayCount",void 0),g([A({type:["list"],json:{write:{isRequired:!0}}})],Wn.prototype,"displayType",void 0),g([A({type:[FN],json:{write:!0}})],Wn.prototype,"orderByFields",void 0),g([A({type:Number,json:{type:Ni,write:{isRequired:!0}}})],Wn.prototype,"relationshipId",void 0),g([A({type:String,json:{write:!0}})],Wn.prototype,"title",void 0),g([A({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Wn.prototype,"type",void 0),Wn=g([ie("esri.popup.content.RelationshipContent")],Wn);const nm=Wn;var Nw;let Ld=Nw=class extends ga{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new Nw({text:this.text})}};g([A({type:String,json:{write:!0}})],Ld.prototype,"text",void 0),g([A({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ld.prototype,"type",void 0),Ld=Nw=g([ie("esri.popup.content.TextContent")],Ld);const om=Ld;let Go=class extends Io.ClonableMixin(Xe){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};g([A({type:String,json:{write:!0}})],Go.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],Go.prototype,"description",void 0),g([A({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Go.prototype,"type",void 0),g([A({type:Number,json:{type:Ni,write:!0}})],Go.prototype,"associatedNetworkSourceId",void 0),g([A({type:Number,json:{type:Ni,write:!0}})],Go.prototype,"associatedAssetGroup",void 0),g([A({type:Number,json:{type:Ni,write:!0}})],Go.prototype,"associatedAssetType",void 0),Go=g([ie("esri.popup.support.UtilityNetworkAssociationType")],Go);const NW=Go;let Ua=class extends Io.ClonableMixin(ga){constructor(t){super(t),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};g([A({type:String,json:{write:!0}})],Ua.prototype,"description",void 0),g([A({type:Number,json:{type:Ni,write:!0}})],Ua.prototype,"displayCount",void 0),g([A({type:String,json:{write:!0}})],Ua.prototype,"title",void 0),g([A({type:[NW],json:{write:!0}})],Ua.prototype,"associationTypes",void 0),g([ot({utilityNetworkAssociations:"utility-network-associations"})],Ua.prototype,"type",void 0),Ua=g([ie("esri.popup.content.UtilityNetworkAssociationsContent")],Ua);const jS=Ua,LW={base:null,key:"type",typeMap:{attachment:im,media:sm,text:om,expression:G1,field:rm,relationship:nm,utilityNetworkAssociations:jS}},kW={base:null,key:"type",typeMap:{attachment:im,media:sm,text:om,expression:G1,field:rm,relationship:nm}};var Lw;let fc=Lw=class extends Xe{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new Lw({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};g([A({type:String,json:{write:!0}})],fc.prototype,"name",void 0),g([A({type:String,json:{write:!0}})],fc.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],fc.prototype,"expression",void 0),g([A({type:["string","number"],json:{write:!0}})],fc.prototype,"returnType",void 0),fc=Lw=g([ie("esri.popup.ExpressionInfo")],fc);const RW=fc;var kw;let kd=kw=class extends Xe{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new kw({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};g([A({type:Boolean,json:{write:!0}})],kd.prototype,"returnTopmostRaster",void 0),g([A({type:Boolean,json:{write:!0}})],kd.prototype,"showNoDataRecords",void 0),kd=kw=g([ie("esri.popup.LayerOptions")],kd);const DW=kd;var Rw;let Rd=Rw=class extends Xe{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new Rw({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ge(this.orderByFields):null})}};g([A({type:Boolean,json:{write:!0}})],Rd.prototype,"showRelatedRecords",void 0),g([A({type:[FN],json:{write:!0}})],Rd.prototype,"orderByFields",void 0),Rd=Rw=g([ie("esri.popup.RelatedRecordsInfo")],Rd);const S$=Rd;let UN=0;const jN=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+UN++})}};return t=g([ie("esri.core.Identifiable")],t),t},FW=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:UN++})}};return t=g([ie("esri.core.Identifiable.NumericIdentifiable")],t),t};let Dd=class extends jN(class{}){};Dd=g([ie("esri.core.Identifiable")],Dd),function(e){e.IdentifiableMixin=jN,e.NumericIdentifiableMixin=FW}(Dd||(Dd={}));const UW=Dd;var Dw;let Ns=Dw=class extends UW.IdentifiableMixin(Hi){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new Dw({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};g([A()],Ns.prototype,"active",void 0),g([A()],Ns.prototype,"className",void 0),g([A()],Ns.prototype,"disabled",void 0),g([A()],Ns.prototype,"icon",void 0),g([A()],Ns.prototype,"id",void 0),g([A()],Ns.prototype,"indicator",void 0),g([A()],Ns.prototype,"title",void 0),g([A()],Ns.prototype,"type",void 0),g([A()],Ns.prototype,"visible",void 0),Ns=Dw=g([ie("esri.support.actions.ActionBase")],Ns);const VS=Ns;var Fw;let tg=Fw=class extends VS{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new Fw({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};g([A()],tg.prototype,"image",void 0),tg=Fw=g([ie("esri.support.actions.ActionButton")],tg);const jW=tg;var Uw;let Fd=Uw=class extends VS{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new Uw({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};g([A()],Fd.prototype,"image",void 0),g([A()],Fd.prototype,"value",void 0),Fd=Uw=g([ie("esri.support.actions.ActionToggle")],Fd);const VW=Fd,fd="relationships/",A$="expression/",BW=mt.ofType({key:"type",defaultKeyValue:"button",base:VS,typeMap:{button:jW,toggle:VW}}),GW={base:ga,key:"type",typeMap:{media:sm,custom:vW,text:om,attachments:im,fields:rm,expression:G1,relationship:nm,utilityNetworkAssociations:jS}},VN=new Set(["attachments","fields","media","text","expression","relationship"]),zW=new Set([...VN,"utility-network-associations"]);let Oi=class extends Io.ClonableMixin(Xe){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(i=>Jh(GW,i)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||d5(t)?t:(Rt.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,i){const{popupElements:r}=i;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,r):this._readPopupInfo(i)}writeWebSceneContent(t,i,r,s){this._writePopupTemplateContent(t,i,s)}writeWebMapContent(t,i,r,s){this._writePopupTemplateContent(t,i,s)}writeFieldInfos(t,i,r,s){const{content:n}=this,o=Array.isArray(n)?n:null;if(t){const a=o?o.filter(c=>c.type==="fields"):[],l=a.length&&a.every(c=>c.fieldInfos?.length);i.fieldInfos=t.filter(Boolean).map(c=>{const f=c.toJSON(s);return l&&(f.visible=!1),f})}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,i)}writeLayerOptions(t,i,r,s){i[r]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(s)}writeTitle(t,i){i.title=t||""}async collectRequiredFields(t,i){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(t,i,[...r,...this._getContentExpressionInfos(this.content,r)]),tm(t,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const i=new Set;return await this.collectRequiredFields(i,t),[...i].sort()}_writePopupTemplateContent(t,i,r){typeof t!="string"?Array.isArray(t)&&(i.popupElements=t.filter(s=>r?.origin==="web-scene"?VN.has(s.type):zW.has(s.type)).map(s=>s?.toJSON(r)),i.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(i):s.type==="media"?this._writeMediaContent(s,i):s.type==="text"?this._writeTextContent(s,i):s.type==="relationship"&&this._writeRelationshipContent(s,i)})):i.description=t}_writeFieldsContent(t,i){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const r=ge(t.fieldInfos);Array.isArray(i.fieldInfos)?r.forEach(s=>{const n=i.fieldInfos.find(o=>o.fieldName?.toLowerCase()===s.fieldName?.toLowerCase());n?n.visible=!0:i.fieldInfos.push(s)}):i.fieldInfos=r}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,i){const r=t.orderByFields?.map(n=>this._toFieldOrderJSON(n,t.relationshipId))||[],s=[...i.relatedRecordsInfo?.orderByFields||[],...r];i.relatedRecordsInfo={showRelatedRecords:!0,...s?.length&&{orderByFields:s}}}_writeTextContent(t,i){!i.description&&t.text&&(i.description=t.text)}_writeMediaContent(t,i){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const r=ge(t.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...r]:i.mediaInfos=r}_readPopupInfoElements(t,i,r){const s={description:!1,mediaInfos:!1};return r.map(n=>n.type==="media"?(n.mediaInfos||!i||s.mediaInfos||(n.mediaInfos=i,s.mediaInfos=!0),sm.fromJSON(n)):n.type==="text"?(n.text||!t||s.description||(n.text=t,s.description=!0),om.fromJSON(n)):n.type==="attachments"?im.fromJSON(n):n.type==="fields"?rm.fromJSON(n):n.type==="expression"?G1.fromJSON(n):n.type==="relationship"?nm.fromJSON(n):n.type==="utilityNetworkAssociations"?jS.fromJSON(n):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:i,order:r}=t;if(!i?.startsWith(fd))return null;const s=i.replace(fd,"").split("/");if(s.length!==2)return null;const n=parseInt(s[0],10),o=s[1];return!Number.isNaN(n)&&o?nm.fromJSON({relationshipId:n,orderByFields:[{field:o,order:r}]}):null}_toFieldOrderJSON(t,i){const{order:r,field:s}=t;return{field:`${fd}${i}/${s}`,order:r}}_readPopupInfo({description:t,mediaInfos:i,showAttachments:r,relatedRecordsInfo:s={showRelatedRecords:!1}}){const n=[];t?n.push(new om({text:t})):n.push(new rm),Array.isArray(i)&&i.length&&n.push(sm.fromJSON({mediaInfos:i})),r&&n.push(im.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=s;return o&&a?.length&&a.forEach(l=>{const c=this._toRelationshipContent(l);c&&n.push(c)}),n.length?n:t}_getContentElementFields(t){const i=t?.type;if(i==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(i==="custom")return t.outFields||[];if(i==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(i==="media"){const r=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...r.reduce((s,n)=>[...s,...this._getMediaInfoFields(n)],[])]}return i==="text"?this._extractFieldNames(t.text):i==="relationship"||i==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:i,title:r,value:s}=t,n=s||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:c,linkURL:f}=n,d=[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(c),...this._extractFieldNames(f),...o??[]];return a&&d.push(a),l&&d.push(l),d}_getContentExpressionInfos(t,i){return Array.isArray(t)?t.reduce((r,s)=>[...r,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],i):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((i,r)=>[...i,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(t,i,r){r&&await Promise.all(r.map(s=>ru(t,i,s.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:i,visible:r})=>!(r!==void 0&&!r||!i||i.startsWith(fd)||i.startsWith(A$))).map(i=>i.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((i,r)=>[...i,...this._getActionFields(r)],[]):[]}_getActionFields(t){const{className:i,title:r,type:s}=t,n=s==="button"||s==="toggle"?t.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(n)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return yW(t).filter(i=>!(i.indexOf(fd)===0||i.indexOf(A$)===0))}};g([A({type:BW})],Oi.prototype,"actions",void 0),g([A()],Oi.prototype,"content",void 0),g([Wm("content")],Oi.prototype,"castContent",null),g([tr("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Oi.prototype,"readContent",null),g([Jt("web-scene","content",{popupElements:{type:mt.ofType(kW)},showAttachments:{type:Boolean},mediaInfos:{type:mt.ofType(Cw)},description:{type:String},relatedRecordsInfo:{type:S$}})],Oi.prototype,"writeWebSceneContent",null),g([Jt("content",{popupElements:{type:mt.ofType(LW)},showAttachments:{type:Boolean},mediaInfos:{type:mt.ofType(Cw)},description:{type:String},relatedRecordsInfo:{type:S$}})],Oi.prototype,"writeWebMapContent",null),g([A({type:[RW],json:{write:!0}})],Oi.prototype,"expressionInfos",void 0),g([A({type:[PN]})],Oi.prototype,"fieldInfos",void 0),g([Jt("fieldInfos")],Oi.prototype,"writeFieldInfos",null),g([A({type:DW})],Oi.prototype,"layerOptions",void 0),g([Jt("layerOptions")],Oi.prototype,"writeLayerOptions",null),g([A({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Oi.prototype,"lastEditInfoEnabled",void 0),g([A()],Oi.prototype,"outFields",void 0),g([A()],Oi.prototype,"overwriteActions",void 0),g([A()],Oi.prototype,"returnGeometry",void 0),g([A({json:{type:String}})],Oi.prototype,"title",void 0),g([Jt("title")],Oi.prototype,"writeTitle",null),Oi=g([ie("esri.PopupTemplate")],Oi);const qW=Oi,i2e=kn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),r2e=kn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),HW={base:gu,key:"type",typeMap:{extent:Js,multipoint:k1,point:Pi,polyline:Ym,polygon:iu}},T$=new wo({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let WW=0,th=class extends Xe{constructor(t){super(t),this.id="sym"+WW++,this.type=null,this.color=new dt([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};g([A({type:T$.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:T$.write,isRequired:!0}}})],th.prototype,"type",void 0),g([A({type:dt,json:{write:{allowNull:!0}}})],th.prototype,"color",void 0),g([tr("color")],th.prototype,"readColor",null),th=g([ie("esri.symbols.Symbol")],th);const Mr=th;var jw;let ja=jw=class extends Mr{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if(this.data?.type==="CIMSymbolReference"){const i=this.data.primitiveOverrides;if(i){const r=i.map(s=>{const n=s.valueExpressionInfo;return n?ru(e,t,n.expression):null});await Promise.all(r)}}}clone(){return new jw({data:ge(this.data)})}hash(){return DI(JSON.stringify(this.data)).toString()}};g([A({json:{write:!1}})],ja.prototype,"color",void 0),g([A({json:{write:!0}})],ja.prototype,"data",void 0),g([tr("data",["symbol"])],ja.prototype,"readData",null),g([Jt("data",{})],ja.prototype,"writeData",null),g([ot({CIMSymbolReference:"cim"},{readOnly:!0})],ja.prototype,"type",void 0),ja=jw=g([ie("esri.symbols.CIMSymbol")],ja);const _u=ja;function YW(e,t,i=mt){return t||(t=new i),t===e||(t.removeAll(),ZW(e)?t.addMany(e):e&&t.add(e)),t}function JW(e){return e}function ZW(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var Xa;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Xa||(Xa={}));let KW=class{constructor(){this._resolver=Gp(),this._status=Xa.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Xa.RESOLVED,this._cleanUp()},()=>{this._status=Xa.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Xa.RESOLVED}isRejected(){return this._status===Xa.REJECTED}isFulfilled(){return this._status!==Xa.PENDING}abort(){this._resolver.reject(Br())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=Gp(),i=[...this._resolvingPromises,t.promise],r=this._allPromise=Promise.all(i);r.then(()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve()},s=>{this.isFulfilled()||this._allPromise!==r||Gm(s)||this._resolver.reject(s)}),t.resolve()}};const BN=e=>{let t=class extends e{constructor(...i){super(...i),this._promiseProps=new KW,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,r){return this._promiseProps.promise.then(()=>this).then(i,r)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return t=g([ie("esri.core.Promise")],t),t};let Ud=class extends BN(Hi){};Ud=g([ie("esri.core.Promise")],Ud),function(e){e.EsriPromiseMixin=BN}(Ud||(Ud={}));const XW=Ud,QW="not-loaded",eY="loading",tY="failed",$$="loaded",GN=e=>{let t=class extends e{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(r=>{const s=this.load.bind(this);this.load=n=>{const o=new Promise((a,l)=>{const c=uj(n,l);this.destroyed&&l(new ft("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===QW){this._set("loadStatus",eY);const a=this._loadController=new AbortController;s({signal:a.signal})}return r(),o}})),this.when(()=>{this._set("loadStatus",$$),this._loadController=null},r=>{this._set("loadStatus",tY),this._set("loadError",r),this._loadController=null})}destroy(){this._loadController&&(this._loadController=zI(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===$$}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new ft("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return g([A({readOnly:!0})],t.prototype,"loaded",null),g([A({readOnly:!0})],t.prototype,"loadError",void 0),g([A({clonable:!1})],t.prototype,"loadStatus",void 0),g([A({type:[qp],readOnly:!0})],t.prototype,"loadWarnings",null),t=g([ie("esri.core.Loadable")],t),t};let jd=class extends GN(XW){};jd=g([ie("esri.core.Loadable")],jd),function(e){function t(i){return!(!i||!i.load)}e.LoadableMixin=GN,e.isLoadable=t}(jd||(jd={}));const iY=jd;let J0;function rY(e){return J0&&!J0.destroyed||(J0=e()),J0}var Vw;const sY=new wo({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Ls=Vw=class extends Hi{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new Vw({categories:this.categories?ge(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let i=[];this.categories&&(i=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let r="";if(this.extent){const o=C6(this.extent,Yi.WGS84);o!=null&&(r=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let s=this.query;!this.disableExtraQuery&&e.extraQuery&&(s="("+s+")"+e.extraQuery);const n={categories:i,bbox:r,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(n.sortField=this.sortField.split(",").map(o=>sY.toJSON(o.trim())).join(","),n.sortOrder=this.sortOrder),{query:{...t,...n}}}};g([A()],Ls.prototype,"categories",void 0),g([A()],Ls.prototype,"disableExtraQuery",void 0),g([A({type:Js})],Ls.prototype,"extent",void 0),g([A()],Ls.prototype,"filter",void 0),g([A()],Ls.prototype,"num",void 0),g([A()],Ls.prototype,"query",void 0),g([A()],Ls.prototype,"sortField",void 0),g([A()],Ls.prototype,"sortOrder",null),g([A()],Ls.prototype,"start",void 0),Ls=Vw=g([ie("esri.portal.PortalQueryParams")],Ls);const ao=Ls;var Bw;let Ci=Bw=class extends Xe{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const i=t.categorySchema||[];return i.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):i})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new ft("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new Bw({sourceJSON:e});return t.read(e),t}queryItems(e,t){let i=$n(ao,e);const r=this.portal;return parseFloat(r.currentVersion)>5?(i=i||new ao,r.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",t)):(i=i?i.clone():new ao,i.query="group:"+this.id+(i.query?" "+i.query:""),r.queryItems(i,t))}_fetchCategorySchemaSet(e,t){const i=this.portal;return i.fetchSelf(i.authMode,!0,t).then(r=>{const s=r.contentCategorySetsGroupQuery;if(s){const n=new ao({disableExtraQuery:!0,num:1,query:s});return i.queryGroups(n,t)}throw new ft("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const s=r.results[0],n=new ao({num:1,query:`typekeywords:"${e}"`});return s.queryItems(n,t)}throw new ft("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(s=>{const n=s?.categorySchema;return n?.length?n:[]}):[])}};g([A()],Ci.prototype,"access",void 0),g([A({type:Date})],Ci.prototype,"created",void 0),g([A()],Ci.prototype,"description",void 0),g([A()],Ci.prototype,"id",void 0),g([A()],Ci.prototype,"isInvitationOnly",void 0),g([A({type:Date})],Ci.prototype,"modified",void 0),g([A()],Ci.prototype,"owner",void 0),g([A()],Ci.prototype,"portal",void 0),g([A()],Ci.prototype,"snippet",void 0),g([A()],Ci.prototype,"sortField",void 0),g([A()],Ci.prototype,"sortOrder",void 0),g([A()],Ci.prototype,"sourceJSON",void 0),g([A()],Ci.prototype,"tags",void 0),g([A()],Ci.prototype,"thumbnail",void 0),g([A({readOnly:!0})],Ci.prototype,"thumbnailUrl",null),g([A()],Ci.prototype,"title",void 0),g([A({readOnly:!0})],Ci.prototype,"url",null),Ci=Bw=g([ie("esri.portal.PortalGroup")],Ci);const Gw=Ci;let dc=class extends Hi{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};g([A()],dc.prototype,"nextQueryParams",void 0),g([A()],dc.prototype,"queryParams",void 0),g([A()],dc.prototype,"results",void 0),g([A()],dc.prototype,"total",void 0),dc=g([ie("esri.portal.PortalQueryResult")],dc);const nY=dc;let zo=class extends Xe{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new ft("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};g([A({type:Date})],zo.prototype,"created",void 0),g([A()],zo.prototype,"id",void 0),g([A()],zo.prototype,"portal",void 0),g([A()],zo.prototype,"title",void 0),g([A({readOnly:!0})],zo.prototype,"url",null),g([A()],zo.prototype,"username",void 0),zo=g([ie("esri.portal.PortalFolder")],zo);const oY=zo;var zw;let Nt=zw=class extends Xe{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,i=e?.data,r=e?.folder,s={method:"post"};t&&(s.query=t.createPostQuery(),i!=null&&(typeof i=="string"?s.query.text=i:typeof i=="object"&&(s.query.text=JSON.stringify(i))));let n=this.userContentUrl;return r&&(n+="/"+(typeof r=="string"?r:r.id)),this.portal.request(n+"/addItem",s).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let i=this.userContentUrl;e.ownerFolder&&(i+="/"+e.ownerFolder);const r=t?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${e.id}/delete`,{method:"post",query:r}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const i=this.userContentUrl+"/deleteItems",r=[],s=e.map(n=>n.id);if(s.length){const n={method:"post",query:{items:s.join(","),permanentDelete:t}},o=await this.portal.request(i,n);for(const a of o.results){const l=e.find(d=>a.itemId===d.id),c=a.success;let f=null;c?(l.id=null,l.portal=null):a.error&&(f=new ft("portal:delete-item-failed",a.error.message,a.error)),r.push({item:l,success:c,error:f})}}return r}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let i;return i=t&&t.folders?t.folders.map(r=>{const s=oY.fromJSON(r);return s.portal=this.portal,s}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(i=>{const r=Gw.fromJSON(i);return r.portal=this.portal,r}):[],t})}async fetchItems(e){e??={};let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:i}=await ve(()=>import("./PortalItem-BUPtFYt9.js"),__vite__mapDeps([33,1]),import.meta.url),r={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},s=await this.portal.request(t,{query:r});let n;return s?.items?(n=s.items.map(o=>{const a=i.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(n.map(o=>o.load())),{items:n,nextStart:s.nextStart,total:s.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new Gw({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new ft("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const i=this.userContentUrl,r=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(i+`/items/${e.id}/restore`,{method:"post",query:r})}toJSON(){throw new ft("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new zw({sourceJSON:e});return t.read(e),t}};g([A()],Nt.prototype,"access",void 0),g([A({type:Date})],Nt.prototype,"created",void 0),g([A()],Nt.prototype,"culture",void 0),g([A()],Nt.prototype,"description",void 0),g([A()],Nt.prototype,"email",void 0),g([A()],Nt.prototype,"favGroupId",void 0),g([A()],Nt.prototype,"fullName",void 0),g([A({type:Date})],Nt.prototype,"modified",void 0),g([A()],Nt.prototype,"orgId",void 0),g([A()],Nt.prototype,"portal",void 0),g([A()],Nt.prototype,"preferredView",void 0),g([A()],Nt.prototype,"privileges",void 0),g([A()],Nt.prototype,"region",void 0),g([A()],Nt.prototype,"role",void 0),g([A()],Nt.prototype,"roleId",void 0),g([A()],Nt.prototype,"sourceJSON",void 0),g([A()],Nt.prototype,"thumbnail",void 0),g([A({readOnly:!0})],Nt.prototype,"thumbnailUrl",null),g([A()],Nt.prototype,"units",void 0),g([A({readOnly:!0})],Nt.prototype,"userContentUrl",null),g([A({readOnly:!0})],Nt.prototype,"url",null),g([A()],Nt.prototype,"username",void 0),g([A()],Nt.prototype,"userLicenseTypeId",void 0),g([A()],Nt.prototype,"userType",void 0),Nt=zw=g([ie("esri.portal.PortalUser")],Nt);const zN=Nt;var ms;let dd;const M$={PortalGroup:()=>Promise.resolve({default:Gw}),PortalItem:()=>ve(()=>import("./PortalItem-BUPtFYt9.js"),__vite__mapDeps([33,1]),import.meta.url),PortalUser:()=>Promise.resolve({default:zN})};let pe=ms=class extends Xe.JSONSupportMixin(iY){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Ct.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){O$.unregister(this),this.defaultBasemap=Ny(this.defaultBasemap),this.defaultDevBasemap=Ny(this.defaultDevBasemap),this.defaultVectorBasemap=Ny(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Rf(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)Ct.request.trustedServers.includes(t)||Ct.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return c6(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=zN.fromJSON(e),t.portal=this),t}load(e){const t=ve(()=>import("./Basemap-WwZupoib.js").then(i=>i.B),__vite__mapDeps([34,1,35,33,3]),import.meta.url).then(({default:i})=>{Bp(e),dd=i}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(i=>{if(!this.hasAPIKey&&Yt){const r=Yt;this.credential=r.findCredential(this.restUrl),this.credential||this.authMode!==ms.AUTH_MODE_AUTO&&this.authMode!==ms.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=r.on("credential-create",aY(new WeakRef(this))),O$.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await ve(async()=>{const{default:i}=await import("./ElevationLayer-DOLrFxDD.js");return{default:i}},__vite__mapDeps([36,1,37,38,39,40,41,33,42,43,44,45,46,47,48,49,15,16,29,50,51,52,9,3]),import.meta.url)).default;return e?e.map(i=>new t({id:i.id,url:i.url})):[]}async fetchBasemaps(e,t){const i=await this._fetchBasemaps(e,t);if(t?.include3d===!0&&this.use3dBasemaps!==!1){const r=await this._fetchBasemaps3D(e,t);i.unshift(...r)}return i}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const t=new ao;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const i=(await this.queryItems(t,e)).results.find(r=>r.type==="Web Scene");return i?new dd({portalItem:i}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):da(e)?Promise.reject(Br()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then(t=>t.classificationSchema):null}fetchFeaturedGroups(e){const t=this.featuredGroups,i=new ao({num:100,sortField:"title"});if(t?.length){const r=[];for(const s of t)r.push(`(title:"${s.title}" AND owner:${s.owner})`);return i.query=r.join(" OR "),this.queryGroups(i,e).then(s=>s.results)}return da(e)?Promise.reject(Br()):Promise.resolve([])}fetchRegions(e){const t=this.user?.culture||this.culture||Rh();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){const t=this.user?.culture||this.culture||Rh();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return rY(()=>new ms)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,i){const r=this.restUrl+"/portals/self",s={authMode:e,query:{culture:Rh().toLowerCase()},withCredentials:!0,...i};return s.authMode==="auto"&&(s.authMode="no-prompt"),t&&(s.query.default=!0),this.request(r,s)}queryPortal(e,t,i,r){const s=$n(ao,t),n=o=>this.request(this.restUrl+e,{...s.toRequestOptions(this),...r}).then(a=>{const l=s.clone();return l.start=a.nextStart,new nY({nextQueryParams:l,queryParams:s,total:a.total,results:ms._resultsToTypedArray(o,{portal:this},a,r)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(f5(l),a)));return i&&M$[i]?M$[i]().then(({default:o})=>(Bp(r),n(o))):n()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new ft("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===ms.AUTH_MODE_ANONYMOUS||this.authMode===ms.AUTH_MODE_NO_PROMPT&&!Yt)return Promise.reject(new ft("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return Yt?Yt.getCredential(this.restUrl,{prompt:this.authMode!==ms.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){const t=this.credential?.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,i){return this.request(e,t).then(r=>{const s=ms._resultsToTypedArray(i,{portal:this},r);return Promise.all(s.map(n=>typeof n.when=="function"?n.when():r)).then(()=>s,()=>s)})}request(e,t={}){const i={f:"json",...t.query},{authMode:r=this.authMode===ms.AUTH_MODE_ANONYMOUS||this.authMode===ms.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:s=null,cacheBust:n=!1,method:o="auto",responseType:a="json",signal:l}=t,c={authMode:r,body:s,cacheBust:n,method:o,query:i,responseType:a,timeout:0,signal:l};return t.withCredentials&&(c.withCredentials=!0),Li(this._normalizeSSL(e),c).then(f=>f.data)}toJSON(){throw new ft("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new ms({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new ft("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const i=new ao;i.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const r=await this.queryGroups(i,t);if(!r.total)return[];const s=r.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=s.sortField||"name",i.sortOrder=s.sortOrder||"desc";const n=await s.queryItems(i,t);return n.total?n.results.filter(o=>o.type==="Web Map").map(o=>new dd({portalItem:o})):[]}async _fetchBasemaps3D(e,t){const i=e||this.basemapGalleryGroupQuery3D;if(!i)return[];if(this.hasAPIKey)return[];const r=new ao({query:i,disableExtraQuery:!0}),s=await this.queryGroups(r,t);if(!s.total)return[];const n=s.results[0];r.num=100,r.query='type:"Web Scene"',r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc";const o=await n.queryItems(r,t);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new dd({portalItem:a})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=dd.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,i,r){let s;if(i){const n=r!=null?r.signal:null;s=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||t)&&(s=s.map(o=>{const a=Object.assign(e?e.fromJSON(o):o,t);return typeof a.load=="function"&&a.load(n),a}))}else s=[];return s}};pe.AUTH_MODE_ANONYMOUS="anonymous",pe.AUTH_MODE_AUTO="auto",pe.AUTH_MODE_IMMEDIATE="immediate",pe.AUTH_MODE_NO_PROMPT="no-prompt",g([A()],pe.prototype,"access",void 0),g([A()],pe.prototype,"allSSL",void 0),g([A()],pe.prototype,"authMode",void 0),g([A()],pe.prototype,"authorizedCrossOriginDomains",void 0),g([tr("authorizedCrossOriginDomains")],pe.prototype,"readAuthorizedCrossOriginDomains",null),g([A()],pe.prototype,"basemapGalleryGroupQuery",void 0),g([A({json:{name:"3DBasemapGalleryGroupQuery"}})],pe.prototype,"basemapGalleryGroupQuery3D",void 0),g([A()],pe.prototype,"bingKey",void 0),g([A()],pe.prototype,"canListApps",void 0),g([A()],pe.prototype,"canListData",void 0),g([A()],pe.prototype,"canListPreProvisionedItems",void 0),g([A()],pe.prototype,"canProvisionDirectPurchase",void 0),g([A()],pe.prototype,"canSearchPublic",void 0),g([A()],pe.prototype,"canShareBingPublic",void 0),g([A()],pe.prototype,"canSharePublic",void 0),g([A()],pe.prototype,"canSignInArcGIS",void 0),g([A()],pe.prototype,"canSignInIDP",void 0),g([A()],pe.prototype,"colorSetsGroupQuery",void 0),g([A()],pe.prototype,"commentsEnabled",void 0),g([A({type:Date})],pe.prototype,"created",void 0),g([A()],pe.prototype,"credential",void 0),g([A()],pe.prototype,"culture",void 0),g([A()],pe.prototype,"currentVersion",void 0),g([A()],pe.prototype,"customBaseUrl",void 0),g([A()],pe.prototype,"default3DBasemapQuery",void 0),g([A()],pe.prototype,"defaultBasemap",void 0),g([tr("defaultBasemap")],pe.prototype,"readDefaultBasemap",null),g([A()],pe.prototype,"defaultDevBasemap",void 0),g([tr("defaultDevBasemap")],pe.prototype,"readDefaultDevBasemap",null),g([A({type:Js})],pe.prototype,"defaultExtent",void 0),g([A()],pe.prototype,"defaultVectorBasemap",void 0),g([tr("defaultVectorBasemap")],pe.prototype,"readDefaultVectorBasemap",null),g([A()],pe.prototype,"description",void 0),g([A()],pe.prototype,"devBasemapGalleryGroupQuery",void 0),g([A()],pe.prototype,"eueiEnabled",void 0),g([A({readOnly:!0})],pe.prototype,"extraQuery",null),g([A()],pe.prototype,"featuredGroups",void 0),g([A()],pe.prototype,"featuredItemsGroupQuery",void 0),g([A()],pe.prototype,"galleryTemplatesGroupQuery",void 0),g([A()],pe.prototype,"layoutGroupQuery",void 0),g([A()],pe.prototype,"livingAtlasGroupQuery",void 0),g([A({readOnly:!0})],pe.prototype,"hasAPIKey",null),g([A()],pe.prototype,"hasCategorySchema",void 0),g([A()],pe.prototype,"hasClassificationSchema",void 0),g([A()],pe.prototype,"helpBase",void 0),g([A()],pe.prototype,"helperServices",void 0),g([A()],pe.prototype,"helpMap",void 0),g([A()],pe.prototype,"homePageFeaturedContent",void 0),g([A()],pe.prototype,"homePageFeaturedContentCount",void 0),g([A()],pe.prototype,"httpPort",void 0),g([A()],pe.prototype,"httpsPort",void 0),g([A()],pe.prototype,"id",void 0),g([A()],pe.prototype,"ipCntryCode",void 0),g([A({readOnly:!0})],pe.prototype,"isOrganization",null),g([A()],pe.prototype,"isPortal",void 0),g([A()],pe.prototype,"isReadOnly",void 0),g([A({readOnly:!0})],pe.prototype,"itemPageUrl",null),g([A()],pe.prototype,"layerTemplatesGroupQuery",void 0),g([A()],pe.prototype,"maxTokenExpirationMinutes",void 0),g([A({type:Date})],pe.prototype,"modified",void 0),g([A()],pe.prototype,"name",void 0),g([A()],pe.prototype,"portalHostname",void 0),g([A()],pe.prototype,"portalMode",void 0),g([A()],pe.prototype,"portalProperties",void 0),g([A()],pe.prototype,"region",void 0),g([A()],pe.prototype,"recycleBinEnabled",void 0),g([A({readOnly:!0})],pe.prototype,"restUrl",null),g([A()],pe.prototype,"rotatorPanels",void 0),g([A()],pe.prototype,"showHomePageDescription",void 0),g([A()],pe.prototype,"sourceJSON",void 0),g([A()],pe.prototype,"staticImagesUrl",void 0),g([A({json:{name:"2DStylesGroupQuery"}})],pe.prototype,"stylesGroupQuery2d",void 0),g([A({json:{name:"stylesGroupQuery"}})],pe.prototype,"stylesGroupQuery3d",void 0),g([A()],pe.prototype,"supportsHostedServices",void 0),g([A()],pe.prototype,"symbolSetsGroupQuery",void 0),g([A()],pe.prototype,"templatesGroupQuery",void 0),g([A()],pe.prototype,"thumbnail",void 0),g([A({readOnly:!0})],pe.prototype,"thumbnailUrl",null),g([A()],pe.prototype,"units",void 0),g([A()],pe.prototype,"url",void 0),g([A()],pe.prototype,"urlKey",void 0),g([tr("urlKey")],pe.prototype,"readUrlKey",null),g([A()],pe.prototype,"user",void 0),g([tr("user")],pe.prototype,"readUser",null),g([A()],pe.prototype,"use3dBasemaps",void 0),g([A()],pe.prototype,"useDefault3dBasemap",void 0),g([A()],pe.prototype,"useStandardizedQuery",void 0),g([A()],pe.prototype,"useVectorBasemaps",void 0),g([A()],pe.prototype,"vectorBasemapGalleryGroupQuery",void 0),pe=ms=g([ie("esri.portal.Portal")],pe);const W1=pe,O$=new FinalizationRegistry(e=>{e.remove()});function aY(e){const t=Yt;return()=>{const i=e.deref();i&&t.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let ih=class extends Xe{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,i,r){t||(i[r]=t)}};g([A({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],ih.prototype,"enabled",void 0),g([Jt("enabled")],ih.prototype,"writeEnabled",null),g([A({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],ih.prototype,"type",void 0),ih=g([ie("esri.symbols.Symbol3DLayer")],ih);const Po=ih,lY=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,cY="screenUtils.toPt: input not recognized!",qN=96;function h2e(e){return e?e/72*qN:0}function xo(e){return e?72*e/qN:0}function ii(e){if(typeof e=="string"){const t=e.match(lY);if(t){const i=Number(t[1]),r=t[3]&&t[3].toLowerCase(),s=e.charAt(0)==="-",n=r==="px"?xo(i):i;return s?-n:n}return console.warn(cY),null}return e}function uY(e=0,t=0){return{x:e,y:t}}function f2e(e){return e?uY(e.x,e.y):null}function d2e(e=0,t=0){return[e,t]}function p2e(e=0,t=0,i=0){return[e,t,i]}function m2e(e){return e}function y2e(e){return e}function g2e(e){return e}function v2e(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function hY(e){const t=JE(100*(1-e));return Math.max(0,Math.min(t,100))}function fY(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function dY(e,t){const i=t.transparency!=null?fY(t.transparency):1,r=t.color;return r&&Array.isArray(r)?new dt([r[0]||0,r[1]||0,r[2]||0,i]):null}function pY(e,t){t.color=e.toJSON().slice(0,3);const i=hY(e.a);i!==0&&(t.transparency=i)}function Pl(e){return{type:dt,nonNullable:e?.nonNullable,json:{type:[Ni],default:null,read:{source:["color","transparency"],reader:dY},write:{target:{color:{type:[Ni],isRequired:e?.colorRequiredOnWrite},transparency:{type:Ni}},writer:pY}}}}const Eo={type:Number,cast:ii,json:{write:!0}};let pc=class extends Xe{constructor(t){super(t),this.color=new dt([0,0,0,1]),this.extensionLength=0,this.size=xo(1)}clone(){}cloneProperties(){return{color:ge(this.color),size:this.size,extensionLength:this.extensionLength}}};g([A({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],pc.prototype,"type",void 0),g([A(Pl({colorRequiredOnWrite:!0}))],pc.prototype,"color",void 0),g([A({...Eo,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],pc.prototype,"extensionLength",void 0),g([A(Eo)],pc.prototype,"size",void 0),pc=g([ie("esri.symbols.edges.Edges3D")],pc);const BS=pc;var qw;let ig=qw=class extends BS{constructor(e){super(e),this.type="sketch"}clone(){return new qw(this.cloneProperties())}};g([ot({sketch:"sketch"},{readOnly:!0})],ig.prototype,"type",void 0),ig=qw=g([ie("esri.symbols.edges.SketchEdges3D")],ig);const mY=ig;var Hw;let rg=Hw=class extends BS{constructor(e){super(e),this.type="solid"}clone(){return new Hw(this.cloneProperties())}};g([ot({solid:"solid"},{readOnly:!0})],rg.prototype,"type",void 0),rg=Hw=g([ie("esri.symbols.edges.SolidEdges3D")],rg);const HN=rg,WN={types:{key:"type",base:BS,typeMap:{solid:HN,sketch:mY}},json:{write:!0}};function GS(){return[0,0,0]}function zS(e){return[e[0],e[1],e[2]]}function qf(e,t,i){return[e,t,i]}function yY(e,t,i){return[e,t,i]}function gY(e,t=GS()){const i=Math.min(3,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function vY(e,t){return new Float64Array(e,t,3)}function YN(){return GS()}function JN(){return qf(1,1,1)}function ZN(){return qf(1,0,0)}function KN(){return qf(0,1,0)}function XN(){return qf(0,0,1)}const bY=YN(),_Y=JN(),wY=ZN(),xY=KN(),EY=XN();Object.freeze(Object.defineProperty({__proto__:null,ONES:_Y,UNIT_X:wY,UNIT_Y:xY,UNIT_Z:EY,ZEROS:bY,clone:zS,create:GS,createView:vY,freeze:yY,fromArray:gY,fromValues:qf,ones:JN,unitX:ZN,unitY:KN,unitZ:XN,zeros:YN},Symbol.toStringTag,{value:"Module"}));var Ww;let vs=Ww=class extends Xe{constructor(e){super(e),this.color=null,this.emissiveFactor=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?zS(this.emissiveFactor):null};return new Ww(e)}};g([A(Pl())],vs.prototype,"color",void 0),g([A({type:[Number],json:{write:!1}})],vs.prototype,"emissiveFactor",void 0),vs=Ww=g([ie("esri.symbols.support.Symbol3DMaterial")],vs);var Yw;let Va=Yw=class extends Po{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new Yw({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};g([ot({Extrude:"extrude"},{readOnly:!0})],Va.prototype,"type",void 0),g([A({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Va.prototype,"size",void 0),g([A({type:vs,json:{write:!0}})],Va.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Va.prototype,"castShadows",void 0),g([A(WN)],Va.prototype,"edges",void 0),Va=Yw=g([ie("esri.symbols.ExtrudeSymbol3DLayer")],Va);const QN=Va;let sg=class extends Xe{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],sg.prototype,"type",void 0),sg=g([ie("esri.symbols.patterns.LinePattern3D")],sg);const eL=sg,SY=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var Jw;const AY=kn()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Vd=Jw=class extends eL{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new Jw(e)}};g([A({type:["style"],json:{write:{isRequired:!0}}})],Vd.prototype,"type",void 0),g([ot(AY),A({type:SY,json:{write:{isRequired:!0}}})],Vd.prototype,"style",void 0),Vd=Jw=g([ie("esri.symbols.patterns.LineStylePattern3D")],Vd);const qS=Vd;let ng=class extends Xe{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],ng.prototype,"type",void 0),ng=g([ie("esri.symbols.patterns.Pattern3D")],ng);const tL=ng,TY=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var Zw;let Bd=Zw=class extends tL{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new Zw({style:this.style})}};g([A({type:["style"],json:{write:{isRequired:!0}}})],Bd.prototype,"type",void 0),g([A({type:TY,json:{read:!0,write:{isRequired:!0}}})],Bd.prototype,"style",void 0),Bd=Zw=g([ie("esri.symbols.patterns.StylePattern3D")],Bd);const iL=Bd,$Y={types:{key:"type",base:tL,typeMap:{style:iL}},json:{write:!0}},rL={types:{key:"type",base:eL,typeMap:{style:qS}},json:{write:!0}},fp=new dt("white"),MY=new dt([255,255,255,0]);function OY(e){return e.r===0&&e.g===0&&e.b===0}var Kw;let dp=Kw=class extends vs{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?zS(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new Kw(e)}};g([ot({multiply:"multiply",replace:"replace",tint:"tint"})],dp.prototype,"colorMixMode",void 0),dp=Kw=g([ie("esri.symbols.support.Symbol3DFillMaterial")],dp);function CY(e,t=!1){return e<=CI?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function x2e(e){return(nU(e)?e.byteLength/8:e.length)<=CI?Array.from(e):new Float64Array(e)}function E2e(e,t,i){return Array.isArray(e)?e.slice(t,t+i):e.subarray(t,t+i)}function Qm(e=LY){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function HS(e,t,i,r,s,n,o=Qm()){return o[0]=e,o[1]=t,o[2]=i,o[3]=r,o[4]=s,o[5]=n,o}function S2e(e,t=Qm()){return IY(e,0,e.length/3,t)}function IY(e,t,i,r=Qm()){return sL(r,Xw),PY(r,e,t,i),r}function A2e(e,t=CY(24)){const[i,r,s,n,o,a]=e;return t[0]=i,t[1]=r,t[2]=s,t[3]=i,t[4]=r,t[5]=a,t[6]=i,t[7]=o,t[8]=s,t[9]=i,t[10]=o,t[11]=a,t[12]=n,t[13]=r,t[14]=s,t[15]=n,t[16]=r,t[17]=a,t[18]=n,t[19]=o,t[20]=s,t[21]=n,t[22]=o,t[23]=a,t}function T2e(e,t){const i=isFinite(e[2])||isFinite(e[5]);return new Js(i?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function $2e(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function M2e(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function O2e(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function PY(e,t,i=0,r=t.length/3){let s=e[0],n=e[1],o=e[2],a=e[3],l=e[4],c=e[5];for(let f=0;f<r;f++)s=Math.min(s,t[i+3*f]),n=Math.min(n,t[i+3*f+1]),o=Math.min(o,t[i+3*f+2]),a=Math.max(a,t[i+3*f]),l=Math.max(l,t[i+3*f+1]),c=Math.max(c,t[i+3*f+2]);e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function C2e(e,t,i){const r=t.length;let s=e[0],n=e[1],o=e[2],a=e[3],l=e[4],c=e[5];if(i)for(let f=0;f<r;f++){const d=t[f];s=Math.min(s,d[0]),n=Math.min(n,d[1]),o=Math.min(o,d[2]),a=Math.max(a,d[0]),l=Math.max(l,d[1]),c=Math.max(c,d[2])}else for(let f=0;f<r;f++){const d=t[f];s=Math.min(s,d[0]),n=Math.min(n,d[1]),a=Math.max(a,d[0]),l=Math.max(l,d[1])}e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function I2e(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function e0(e){return e[0]>=e[3]?0:e[3]-e[0]}function t0(e){return e[1]>=e[4]?0:e[4]-e[1]}function i0(e){return e[2]>=e[5]?0:e[5]-e[2]}function P2e(e){const t=e0(e),i=i0(e),r=t0(e);return Math.sqrt(t*t+i*i+r*r)}function N2e(e,t=[0,0,0]){return t[0]=e[0]+e0(e)/2,t[1]=e[1]+t0(e)/2,t[2]=e[2]+i0(e)/2,t}function L2e(e,t=[0,0,0]){return t[0]=e0(e),t[1]=t0(e),t[2]=i0(e),t}function k2e(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function NY(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function R2e(e,t){return t==null||NY(e,t)}function D2e(e,t,i,r,s=e){return s[0]=e[0]+t,s[1]=e[1]+i,s[2]=e[2]+r,s[3]=e[3]+t,s[4]=e[4]+i,s[5]=e[5]+r,s}function F2e(e,t,i=e){const r=e[0]+e0(e)/2,s=e[1]+t0(e)/2,n=e[2]+i0(e)/2;return i[0]=r+(e[0]-r)*t,i[1]=s+(e[1]-s)*t,i[2]=n+(e[2]-n)*t,i[3]=r+(e[3]-r)*t,i[4]=s+(e[4]-s)*t,i[5]=n+(e[5]-n)*t,i}function U2e(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function j2e(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function V2e(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function sL(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function B2e(e){return e?sL(e,Xw):Qm(Xw)}function G2e(e,t){return t||(t=jf()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function z2e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function q2e(e,t,i,r,s){return e[0]=t,e[1]=i,e[2]=Number.NEGATIVE_INFINITY,e[3]=r,e[4]=s,e[5]=Number.POSITIVE_INFINITY,e}function C$(e){return e.length===6}function H2e(e){return e0(e)===0&&t0(e)===0&&i0(e)===0}function W2e(e,t,i){if(e==null||t==null)return e===t;if(!C$(e)||!C$(t))return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const Xw=[1/0,1/0,1/0,-1/0,-1/0,-1/0],LY=[0,0,0,0,0,0];Qm();function Y2e(e,{isPrimitive:t,width:i,depth:r,height:s}){const n=t?10:1;if(i==null&&s==null&&r==null)return[n*e[0],n*e[1],n*e[2]];const o=qf(i,r,s);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/e[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=e[l]*a);return o}const kY=HS(-.5,-.5,-.5,.5,.5,.5),RY=HS(-.5,-.5,0,.5,.5,1),DY=HS(-.5,-.5,0,.5,.5,.5);function J2e(e){switch(e){case"sphere":case"cube":case"diamond":return kY;case"cylinder":case"cone":case"inverted-cone":return RY;case"tetrahedron":return DY;default:return}}const WS=["butt","square","round"],FY=[...WS,"none"],nL=["miter","bevel","round"];var Qw;let mc=Qw=class extends Xe{constructor(e){super(e),this.color=new dt([0,0,0,1]),this.size=xo(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new Qw(e)}};g([A(Pl({colorRequiredOnWrite:!0}))],mc.prototype,"color",void 0),g([A({...Eo,json:{write:{isRequired:!0}}})],mc.prototype,"size",void 0),g([A(rL)],mc.prototype,"pattern",void 0),g([A({type:WS,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],mc.prototype,"patternCap",void 0),mc=Qw=g([ie("esri.symbols.support.Symbol3DOutline")],mc);var og;let qo=og=class extends Po{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new og(e)}static fromSimpleFillSymbol(e){const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new qS({style:e.outline.style}):null,i={size:e.outline?.width??0,color:(e.outline?.color??fp).clone(),pattern:t};return t&&e.outline?.cap&&(i.patternCap=e.outline.cap),new og({material:new dp({color:(e.color??MY).clone()}),pattern:e.style&&e.style!=="solid"?new iL({style:e.style}):null,outline:i})}};g([ot({Fill:"fill"},{readOnly:!0})],qo.prototype,"type",void 0),g([A({type:dp,json:{write:!0}})],qo.prototype,"material",void 0),g([A($Y)],qo.prototype,"pattern",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],qo.prototype,"castShadows",void 0),g([A({type:mc,json:{write:!0}})],qo.prototype,"outline",void 0),g([A(WN)],qo.prototype,"edges",void 0),qo=og=g([ie("esri.symbols.FillSymbol3DLayer")],qo);const wu=qo;var ex;const UY=kn()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let yc=ex=class extends Xe{constructor(e){super(e)}readHref(e,t,i){return e?qm(e,i):t.dataURI}writeHref(e,t,i,r){e&&(Ff(e)?t.dataURI=e:(t.href=C1(e,r),wn(t.href)&&(t.href=pl(t.href))))}clone(){return new ex({href:this.href,primitive:this.primitive})}};g([A({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],yc.prototype,"href",void 0),g([tr("href")],yc.prototype,"readHref",null),g([Jt("href",{href:{type:String},dataURI:{type:String}})],yc.prototype,"writeHref",null),g([ot(UY)],yc.prototype,"primitive",void 0),yc=ex=g([ie("esri.symbols.support.IconSymbol3DLayerResource")],yc);const Z2e="circle";var tx;let mh=tx=class extends Hi{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new tx({x:this.x,y:this.y})}};g([A({type:Number})],mh.prototype,"x",void 0),g([A({type:Number})],mh.prototype,"y",void 0),mh=tx=g([ie("esri.symbols.support.Symbol3DAnchorPosition2D")],mh);var ix;let Gd=ix=class extends Xe{constructor(e){super(e),this.color=new dt([0,0,0,1]),this.size=xo(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new ix(e)}};g([A(Pl({colorRequiredOnWrite:!0}))],Gd.prototype,"color",void 0),g([A({...Eo,json:{write:{isRequired:!0}}})],Gd.prototype,"size",void 0),Gd=ix=g([ie("esri.symbols.support.Symbol3DIconOutline")],Gd);var rh;const oL="esri.symbols.IconSymbol3DLayer";let cn=rh=class extends Po{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new rh({anchor:this.anchor,anchorPosition:ge(this.anchorPosition),enabled:this.enabled,material:ge(this.material),outline:ge(this.outline),resource:ge(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||fp,i=I$(e),r=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||fp).clone()}:null;return new rh({size:e.size,angle:e.angle,resource:{primitive:VY(e.style)},material:{color:t},outline:r,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const t=!e.color||OY(e.color)?fp:e.color,i=I$(e);return new rh({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new rh({resource:{href:K5({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};g([A({type:vs,json:{write:!0}})],cn.prototype,"material",void 0),g([A({type:yc,json:{write:!0}})],cn.prototype,"resource",void 0),g([ot({Icon:"icon"},{readOnly:!0})],cn.prototype,"type",void 0),g([A({...Eo,json:{write:{isRequired:!0}}})],cn.prototype,"size",void 0),g([ot({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],cn.prototype,"anchor",void 0),g([A({type:mh,json:{type:[Number],read:{reader:e=>new mh({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],cn.prototype,"anchorPosition",void 0),g([A({type:Gd,json:{write:!0}})],cn.prototype,"outline",void 0),g([A({type:Number,json:{write:!0,default:0}})],cn.prototype,"angle",void 0),cn=rh=g([ie(oL)],cn);const Nc=cn;function I$(e){const t="width"in e?e.width:e.size,i="height"in e?e.height:e.size,r=P$(e.xoffset),s=P$(e.yoffset);return(r||s)&&t&&i?{x:-r/t,y:s/i}:null}function P$(e){return isFinite(e)?e:0}const jY={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function VY(e){return jY[e]||(Rt.getLogger(oL).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const BY=["begin","end","begin-end"],aL=["arrow","circle","square","diamond","cross","x"];let gc=class extends Io.ClonableMixin(Xe){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],gc.prototype,"type",void 0),g([A({type:BY,json:{default:"begin-end",write:!0}})],gc.prototype,"placement",void 0),g([A({type:aL,json:{default:"arrow",write:!0}})],gc.prototype,"style",void 0),g([A({type:dt,json:{type:[Ni],default:null,write:!0}})],gc.prototype,"color",void 0),gc=g([ie("esri.symbols.LineStyleMarker3D")],gc);const rx=gc;var ag;let Yn=ag=class extends Po{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=xo(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new ag(e)}static fromSimpleLineSymbol(e){const t={enabled:!0,size:e.width??xo(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new qS({style:e.style}):null,material:new vs({color:(e.color||fp).clone()}),marker:e.marker?new rx({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new ag(t)}};g([A({type:vs,json:{write:!0}})],Yn.prototype,"material",void 0),g([ot({Line:"line"},{readOnly:!0})],Yn.prototype,"type",void 0),g([A({type:nL,json:{write:!0,default:"miter"}})],Yn.prototype,"join",void 0),g([A({type:WS,json:{write:!0,default:"butt"}})],Yn.prototype,"cap",void 0),g([A({...Eo,json:{write:{isRequired:!0}}})],Yn.prototype,"size",void 0),g([A(rL)],Yn.prototype,"pattern",void 0),g([A({types:{key:"type",base:rx,typeMap:{style:rx}},json:{write:!0}})],Yn.prototype,"marker",void 0),Yn=ag=g([ie("esri.symbols.LineSymbol3DLayer")],Yn);const Hf=Yn;var sx;const GY=kn()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let zd=sx=class extends Xe{clone(){return new sx({href:this.href,primitive:this.primitive})}};g([A({type:String,json:{read:wS,write:Xh}})],zd.prototype,"href",void 0),g([ot(GY)],zd.prototype,"primitive",void 0),zd=sx=g([ie("esri.symbols.support.ObjectSymbol3DLayerResource")],zd);const X2e="sphere";var nx;let $c=nx=class extends Hi{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new nx({x:this.x,y:this.y,z:this.z})}};g([A({type:Number})],$c.prototype,"x",void 0),g([A({type:Number})],$c.prototype,"y",void 0),g([A({type:Number})],$c.prototype,"z",void 0),$c=nx=g([ie("esri.symbols.support.Symbol3DAnchorPosition3D")],$c);var ox;let mr=ox=class extends Po{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new ox({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};g([A({type:vs,json:{write:!0}})],mr.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],mr.prototype,"castShadows",void 0),g([A({type:zd,json:{write:!0}})],mr.prototype,"resource",void 0),g([ot({Object:"object"},{readOnly:!0})],mr.prototype,"type",void 0),g([A({type:Number,json:{write:!0}})],mr.prototype,"width",void 0),g([A({type:Number,json:{write:!0}})],mr.prototype,"height",void 0),g([A({type:Number,json:{write:!0}})],mr.prototype,"depth",void 0),g([ot({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],mr.prototype,"anchor",void 0),g([A({type:$c,json:{type:[Number],read:{reader:e=>new $c({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],mr.prototype,"anchorPosition",void 0),g([A({type:Number,json:{write:!0}})],mr.prototype,"heading",void 0),g([A({type:Number,json:{write:!0}})],mr.prototype,"tilt",void 0),g([A({type:Number,json:{write:!0}})],mr.prototype,"roll",void 0),g([A({readOnly:!0})],mr.prototype,"isPrimitive",null),mr=ox=g([ie("esri.symbols.ObjectSymbol3DLayer")],mr);const YS=mr;var ax;let Cr=ax=class extends Po{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new ax({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};g([A({type:vs,json:{write:!0}})],Cr.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Cr.prototype,"castShadows",void 0),g([ot({Path:"path"},{readOnly:!0})],Cr.prototype,"type",void 0),g([A({type:["circle","quad"],json:{write:!0,default:"circle"}})],Cr.prototype,"profile",void 0),g([A({type:nL,json:{write:!0,default:"miter"}})],Cr.prototype,"join",void 0),g([A({type:FY,json:{write:!0,default:"butt"}})],Cr.prototype,"cap",void 0),g([A({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Cr.prototype,"width",void 0),g([tr("width",["width","size","height"])],Cr.prototype,"readWidth",null),g([A({type:Number,json:{write:!0}})],Cr.prototype,"height",void 0),g([tr("height",["height","size","width"])],Cr.prototype,"readHeight",null),g([A({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Cr.prototype,"anchor",void 0),g([A({type:["heading","all"],json:{write:!0,default:"all"}})],Cr.prototype,"profileRotation",void 0),Cr=ax=g([ie("esri.symbols.PathSymbol3DLayer")],Cr);const JS=Cr,zY=["none","underline","line-through"],qY=["normal","italic","oblique"],HY=["normal","lighter","bold","bolder"],lL={type:Number,cast:e=>{const t=x1(e);return t===0?1:v1(t,.1,4)},nonNullable:!0},WY=["left","right","center"],YY=["baseline","top","middle","bottom"],cL={type:WY,nonNullable:!0},uL={type:YY,nonNullable:!0},Q2e=8;var lx;let Ho=lx=class extends Xe{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return ii(e)}clone(){return new lx({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};g([A({type:zY,json:{default:"none",write:!0}})],Ho.prototype,"decoration",void 0),g([A({type:String,json:{write:!0}})],Ho.prototype,"family",void 0),g([A({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:!i||!i.textSymbol3D})}}})],Ho.prototype,"size",void 0),g([Wm("size")],Ho.prototype,"castSize",null),g([A({type:qY,json:{default:"normal",write:!0}})],Ho.prototype,"style",void 0),g([A({type:HY,json:{default:"normal",write:!0}})],Ho.prototype,"weight",void 0),Ho=lx=g([ie("esri.symbols.Font")],Ho);const Y1=Ho;var cx;let yh=cx=class extends Xe{constructor(){super(...arguments),this.color=new dt([0,0,0,1]),this.size=0}clone(){const e={color:ge(this.color),size:this.size};return new cx(e)}};g([A(Pl())],yh.prototype,"color",void 0),g([A(Eo)],yh.prototype,"size",void 0),yh=cx=g([ie("esri.symbols.support.Symbol3DHalo")],yh);let pp=class extends Io.ClonableMixin(Xe){constructor(t){super(t),this.color=null}};g([A(Pl())],pp.prototype,"color",void 0),pp=g([ie("esri.symbols.support.Symbol3DTextBackground")],pp);var lg;let Hr=lg=class extends Po{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,i,r){const s={...r,textSymbol3D:!0};t.font=e.write({},s),delete t.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new lg({enabled:this.enabled,font:this.font&&ge(this.font),halo:this.halo&&ge(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ge(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new lg({font:e.font!=null?e.font.clone():new Y1,halo:JY(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new vs({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new pp({color:e.backgroundColor.clone()}):null})}};function JY(e,t){return e&&t!=null&&t>0?new yh({color:ge(e),size:t}):null}g([A({type:Y1,json:{write:!0}})],Hr.prototype,"font",null),g([Jt("font")],Hr.prototype,"writeFont",null),g([A({type:yh,json:{write:!0}})],Hr.prototype,"halo",void 0),g([A({...cL,json:{default:"center",write:!0}})],Hr.prototype,"horizontalAlignment",void 0),g([A({...lL,json:{default:1,write:!0}})],Hr.prototype,"lineHeight",void 0),g([A({type:vs,json:{write:!0}})],Hr.prototype,"material",void 0),g([A({type:pp,json:{write:!0}})],Hr.prototype,"background",void 0),g([A(Eo)],Hr.prototype,"size",null),g([A({type:String,json:{write:!0}})],Hr.prototype,"text",void 0),g([ot({Text:"text"},{readOnly:!0})],Hr.prototype,"type",void 0),g([A({...uL,json:{default:"baseline",write:!0}})],Hr.prototype,"verticalAlignment",void 0),Hr=lg=g([ie("esri.symbols.TextSymbol3DLayer")],Hr);const Wf=Hr;var ux;let Ba=ux=class extends Po{constructor(e){super(e),this.color=hx.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new ux({color:ge(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};g([A({type:dt,nonNullable:!0,json:{type:[Ni],write:(e,t,i)=>t[i]=e.toArray(dt.AlphaMode.UNLESS_OPAQUE),default:()=>hx.clone(),defaultEquals:e=>e.toCss(!0)===hx.toCss(!0)}})],Ba.prototype,"color",void 0),g([ot({Water:"water"},{readOnly:!0})],Ba.prototype,"type",void 0),g([A({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Ba.prototype,"waterbodySize",void 0),g([A({type:Number,json:{write:!0,default:null}})],Ba.prototype,"waveDirection",void 0),g([A({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Ba.prototype,"waveStrength",void 0),Ba=ux=g([ie("esri.symbols.WaterSymbol3DLayer")],Ba);const hL=Ba,hx=new dt([0,119,190]);var fx;let vc=fx=class extends Hi{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new fx({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};g([A({type:String})],vc.prototype,"name",void 0),g([A({type:String})],vc.prototype,"styleUrl",void 0),g([A({type:String})],vc.prototype,"styleName",void 0),g([A({type:W1})],vc.prototype,"portal",void 0),vc=fx=g([ie("esri.symbols.support.StyleOrigin")],vc);const dx=vc;var px;let mp=px=class extends Hi{constructor(){super(...arguments),this.url=""}clone(){return new px({url:this.url})}};g([A({type:String})],mp.prototype,"url",void 0),mp=px=g([ie("esri.symbols.support.Thumbnail")],mp);const fL={icon:Nc,object:YS,line:Hf,path:JS,fill:wu,extrude:QN,text:Wf,water:hL},ZY=mt.ofType({base:Po,key:"type",typeMap:fL,errorContext:"symbol-layer"});let Jn=class extends Mr{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,r=i?.type,s=r||mt;this._set("symbolLayers",new s)}get color(){return null}set color(t){this.constructed&&Rt.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){YW(t,this._get("symbolLayers"))}readStyleOrigin(t,i,r){if(t.styleUrl&&t.name){const s=qm(t.styleUrl,r);return new dx({styleUrl:s,name:t.name})}if(t.styleName&&t.name)return new dx({portal:r?.portal||W1.getDefault(),styleName:t.styleName,name:t.name});r?.messages&&r.messages.push(new qp("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:t}))}writeStyleOrigin(t,i,r,s){if(t.styleUrl&&t.name){let n=C1(t.styleUrl,s);wn(n)&&(n=pl(n)),i.styleOrigin={styleUrl:n,name:t.name}}else t.styleName&&t.name&&(t.portal&&s?.portal&&!KV(t.portal.restUrl,s.portal.restUrl)?s?.messages&&s.messages.push(new qp("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Po||t&&fL[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};g([A({json:{read:!1,write:!1}})],Jn.prototype,"color",null),g([A({type:ZY,nonNullable:!0,json:{write:!0}}),Wm(JW)],Jn.prototype,"symbolLayers",null),g([A({type:dx})],Jn.prototype,"styleOrigin",void 0),g([tr("styleOrigin")],Jn.prototype,"readStyleOrigin",null),g([Jt("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Jn.prototype,"writeStyleOrigin",null),g([A({type:mp,json:{read:!1}})],Jn.prototype,"thumbnail",void 0),g([A({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Jn.prototype,"type",void 0),Jn=g([ie("esri.symbols.Symbol3D")],Jn);const r0=Jn;let qd=class extends Xe{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};g([A({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],qd.prototype,"type",void 0),g([A({readOnly:!0})],qd.prototype,"visible",void 0),qd=g([ie("esri.symbols.callouts.Callout3D")],qd);const dL=qd;var mx;let cg=mx=class extends Xe{constructor(e){super(e),this.color=new dt("white")}clone(){return new mx({color:ge(this.color)})}};g([A(Pl({colorRequiredOnWrite:!0}))],cg.prototype,"color",void 0),cg=mx=g([ie("esri.symbols.callouts.LineCallout3DBorder")],cg);const KY=cg;var yx;let Ga=yx=class extends dL{constructor(e){super(e),this.type="line",this.color=new dt([0,0,0,1]),this.size=xo(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new yx({color:ge(this.color),size:this.size,border:ge(this.border)})}};g([ot({line:"line"})],Ga.prototype,"type",void 0),g([A(Pl({colorRequiredOnWrite:!0}))],Ga.prototype,"color",void 0),g([A({...Eo,json:{write:{isRequired:!0}}})],Ga.prototype,"size",void 0),g([A({type:KY,json:{write:!0}})],Ga.prototype,"border",void 0),g([A({readOnly:!0})],Ga.prototype,"visible",null),Ga=yx=g([ie("esri.symbols.callouts.LineCallout3D")],Ga);const pL=Ga;function ZS(e){if(!e)return!1;const t=e.verticalOffset;return!(!t||t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function mL(e){return!e||!e.supportsCallout||!e.supportsCallout()?!1:!!e.callout?.visible&&!!ZS(e)}function rwe(e){return e.type==="point-3d"||e.type==="label-3d"}function swe(e){return e.horizontalAlignment==="center"}const yL={types:{key:"type",base:dL,typeMap:{line:pL}},json:{write:!0}};var gx;let sh=gx=class extends Xe{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new gx({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};g([A({...Eo,json:{write:{isRequired:!0}}})],sh.prototype,"screenLength",void 0),g([A({type:Number,nonNullable:!0,json:{write:!0,default:0}})],sh.prototype,"minWorldLength",void 0),g([A({type:Number,json:{write:!0}})],sh.prototype,"maxWorldLength",void 0),sh=gx=g([ie("esri.symbols.support.Symbol3DVerticalOffset")],sh);const KS=sh;var ug;const gL=mt.ofType({base:null,key:"type",typeMap:{text:Wf}});let za=ug=class extends r0{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new gL,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return mL(this)}hasVisibleVerticalOffset(){return ZS(this)}clone(){return new ug({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail),callout:ge(this.callout),verticalOffset:ge(this.verticalOffset)})}static fromTextSymbol(e){return new ug({symbolLayers:new mt([Wf.fromTextSymbol(e)])})}};g([A({type:KS,json:{write:!0}})],za.prototype,"verticalOffset",void 0),g([A(yL)],za.prototype,"callout",void 0),g([A({json:{read:!1,write:!1}})],za.prototype,"styleOrigin",void 0),g([A({type:gL})],za.prototype,"symbolLayers",void 0),g([ot({LabelSymbol3D:"label-3d"},{readOnly:!0})],za.prototype,"type",void 0),za=ug=g([ie("esri.symbols.LabelSymbol3D")],za);const J1=za;var hg;const vL=mt.ofType({base:null,key:"type",typeMap:{line:Hf,path:JS}}),XY=mt.ofType({base:null,key:"type",typeMap:{line:Hf,path:JS}});let Hd=hg=class extends r0{constructor(e){super(e),this.symbolLayers=new vL,this.type="line-3d"}clone(){return new hg({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleLineSymbol(e){return new hg({symbolLayers:new mt([Hf.fromSimpleLineSymbol(e)])})}};g([A({type:vL,json:{type:XY}})],Hd.prototype,"symbolLayers",void 0),g([ot({LineSymbol3D:"line-3d"},{readOnly:!0})],Hd.prototype,"type",void 0),Hd=hg=g([ie("esri.symbols.LineSymbol3D")],Hd);const xu=Hd;var fg;const bL=mt.ofType({base:null,key:"type",typeMap:{fill:wu}});let Wd=fg=class extends r0{constructor(e){super(e),this.symbolLayers=new bL,this.type="mesh-3d"}clone(){return new fg({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleFillSymbol(e){return new fg({symbolLayers:new mt([wu.fromSimpleFillSymbol(e)])})}};g([A({type:bL})],Wd.prototype,"symbolLayers",void 0),g([ot({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Wd.prototype,"type",void 0),Wd=fg=g([ie("esri.symbols.MeshSymbol3D")],Wd);const s0=Wd;let Yd=class extends Mr{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};g([ot({esriSLS:"simple-line"},{readOnly:!0})],Yd.prototype,"type",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],Yd.prototype,"width",void 0),Yd=g([ie("esri.symbols.LineSymbol")],Yd);const QY=Yd;var vx;let Zn=vx=class extends Xe{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,i,r){t[i]=r?.origin==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,i,r){r?.origin==="web-map"||(t[i]=e)}clone(){return new vx({color:ge(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};g([A({type:["begin","end","begin-end"],json:{write:!0}})],Zn.prototype,"placement",void 0),g([ot({"line-marker":"line-marker"},{readOnly:!0}),A({json:{origins:{"web-map":{write:!1}}}})],Zn.prototype,"type",void 0),g([A({type:aL})],Zn.prototype,"style",void 0),g([Jt("style")],Zn.prototype,"writeStyle",null),g([A({type:dt,value:null,json:{write:{allowNull:!0}}})],Zn.prototype,"color",null),g([tr("color")],Zn.prototype,"readColor",null),g([Jt("color")],Zn.prototype,"writeColor",null),Zn=vx=g([ie("esri.symbols.LineSymbolMarker")],Zn);const eJ=Zn;var bx;const T_=new wo({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Wo=bx=class extends QY{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,i,r,s,n){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),i!=null&&(o.width=ii(i)),r!=null&&(o.cap=r),s!=null&&(o.join=s),n!=null&&(o.miterLimit=ii(n)),o}clone(){return new bx({color:ge(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};g([ot({esriSLS:"simple-line"},{readOnly:!0})],Wo.prototype,"type",void 0),g([A({type:T_.apiValues,json:{read:T_.read,write:T_.write}})],Wo.prototype,"style",void 0),g([A({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&i?.origin==null})}}})],Wo.prototype,"cap",void 0),g([A({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&i?.origin==null})}}})],Wo.prototype,"join",void 0),g([A({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":eJ}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Wo.prototype,"marker",void 0),g([A({type:Number,json:{read:!1,write:!1}})],Wo.prototype,"miterLimit",void 0),Wo=bx=g([ie("esri.symbols.SimpleLineSymbol")],Wo);const Rn=Wo;let Jd=class extends Mr{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};g([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Rn}},json:{default:null,write:!0}})],Jd.prototype,"outline",void 0),g([A({type:["simple-fill","picture-fill"],readOnly:!0})],Jd.prototype,"type",void 0),Jd=g([ie("esri.symbols.FillSymbol")],Jd);const _L=Jd;function tJ(e,t,i){return t.imageData?K5({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):wL(t.url,i)}function wL(e,t){if(!wn(e)){const i=rJ(t);if(i)return O1(i,"images",e)}return qm(e,t)}function iJ(e,t,i,r){if(Ff(e)){const s=Jp(e);if(!s)return;t.contentType=s.mediaType,t.imageData=s.data,i&&i.imageData===t.imageData&&i.url&&Xh(i.url,t,"url",r)}else Xh(e,t,"url",r)}const xL={json:{read:{source:["imageData","url"],reader:tJ},write:{writer(e,t,i,r){iJ(e,t,this.source,r)}}}},EL={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=wL(t.url,i)),r}}}};function rJ(e){if(!e)return null;const{origin:t,layer:i}=e;if(t!=="service"&&t!=="portal-item")return null;const r=i?.type;return r==="feature"||r==="stream"?i.parsedUrl?.path:r==="map-image"||r==="tile"?e.url?.path:null}var _x;let ks=_x=class extends _L{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const s={};return e&&(s.url=e),t&&(s.outline=t),i!=null&&(s.width=ii(i)),r!=null&&(s.height=ii(r)),s}clone(){const e=new _x({color:ge(this.color),height:this.height,outline:ge(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",ge(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};g([ot({esriPFS:"picture-fill"},{readOnly:!0})],ks.prototype,"type",void 0),g([A(xL)],ks.prototype,"url",void 0),g([A({type:Number,json:{write:!0}})],ks.prototype,"xscale",void 0),g([A({type:Number,json:{write:!0}})],ks.prototype,"yscale",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],ks.prototype,"width",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],ks.prototype,"height",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],ks.prototype,"xoffset",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],ks.prototype,"yoffset",void 0),g([A(EL)],ks.prototype,"source",void 0),ks=_x=g([ie("esri.symbols.PictureFillSymbol")],ks);const XS=ks;let qa=class extends Mr{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};g([A({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],qa.prototype,"angle",void 0),g([A({type:["simple-marker","picture-marker"],readOnly:!0})],qa.prototype,"type",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],qa.prototype,"xoffset",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],qa.prototype,"yoffset",void 0),g([A({cast:e=>e==="auto"?e:x1(ii(e)),json:{write:!0}})],qa.prototype,"size",void 0),qa=g([ie("esri.symbols.MarkerSymbol")],qa);const SL=qa;var wx;let un=wx=class extends SL{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const r={};return e&&(r.url=e),t!=null&&(r.width=ii(t)),i!=null&&(r.height=ii(i)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new wx({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",ge(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};g([A({json:{write:!1}})],un.prototype,"color",void 0),g([ot({esriPMS:"picture-marker"},{readOnly:!0})],un.prototype,"type",void 0),g([A(xL)],un.prototype,"url",void 0),g([A(EL)],un.prototype,"source",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],un.prototype,"height",void 0),g([tr("height",["height","size"])],un.prototype,"readHeight",null),g([A({type:Number,cast:ii,json:{write:!0}})],un.prototype,"width",void 0),g([A({json:{write:!1}})],un.prototype,"size",void 0),un=wx=g([ie("esri.symbols.PictureMarkerSymbol")],un);const Yf=un;var bc;const AL=mt.ofType({base:null,key:"type",typeMap:{icon:Nc,object:YS,text:Wf}});let _c=bc=class extends r0{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new AL,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return mL(this)}hasVisibleVerticalOffset(){return ZS(this)}clone(){return new bc({verticalOffset:ge(this.verticalOffset),callout:ge(this.callout),styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new bc({symbolLayers:new mt([Nc.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new bc({symbolLayers:new mt([Nc.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!=="CIMPointSymbol")return null;const i=e.data.symbol;return new bc(i?.callout?{symbolLayers:new mt([Nc.fromCIMSymbol(e)]),callout:new pL({size:.5,color:new dt([0,0,0])}),verticalOffset:new KS({screenLength:40})}:{symbolLayers:new mt([Nc.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new bc({symbolLayers:new mt([Wf.fromTextSymbol(e)])})}};g([A({type:KS,json:{write:!0}})],_c.prototype,"verticalOffset",void 0),g([A(yL)],_c.prototype,"callout",void 0),g([A({type:AL,json:{origins:{"web-scene":{write:!0}}}})],_c.prototype,"symbolLayers",void 0),g([ot({PointSymbol3D:"point-3d"},{readOnly:!0})],_c.prototype,"type",void 0),_c=bc=g([ie("esri.symbols.PointSymbol3D")],_c);const la=_c;var Zd;const TL=mt.ofType({base:null,key:"type",typeMap:{extrude:QN,fill:wu,icon:Nc,line:Hf,object:YS,text:Wf,water:hL}});let Kd=Zd=class extends r0{constructor(e){super(e),this.symbolLayers=new TL,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&Vp(Rt.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&Vp(Rt.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(hS(()=>this.symbolLayers,"after-add",({item:t})=>e(t),j5))}clone(){return new Zd({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromJSON(e){const t=new Zd;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const i=t.symbolLayers.at(0),r=t.symbolLayers.at(1);!r.enabled||e.symbolLayers?.[1]&&e.symbolLayers[1].enable===!1||(i.outline={size:r.size,color:r.material!=null?r.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new Zd({symbolLayers:new mt([wu.fromSimpleFillSymbol(e)])})}};g([A({type:TL,json:{write:!0}})],Kd.prototype,"symbolLayers",void 0),g([ot({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Kd.prototype,"type",void 0),Kd=Zd=g([ie("esri.symbols.PolygonSymbol3D")],Kd);const Eu=Kd;var xx;const $_=new wo({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let wc=xx=class extends _L{constructor(...e){super(...e),this.color=new dt([0,0,0,.25]),this.outline=new Rn,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.style=e),t&&(r.outline=t),i&&(r.color=i),r}clone(){return new xx({color:ge(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};g([A()],wc.prototype,"color",void 0),g([A()],wc.prototype,"outline",void 0),g([ot({esriSFS:"simple-fill"},{readOnly:!0})],wc.prototype,"type",void 0),g([A({type:$_.apiValues,json:{read:$_.read,write:$_.write}})],wc.prototype,"style",void 0),wc=xx=g([ie("esri.symbols.SimpleFillSymbol")],wc);const Su=wc;var Ex;const M_=new wo({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Kn=Ex=class extends SL{constructor(...e){super(...e),this.color=new dt([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Rn}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string")return e;const s={};return e&&(s.style=e),t!=null&&(s.size=ii(t)),i&&(s.outline=i),r&&(s.color=r),s}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new Ex({angle:this.angle,color:ge(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};g([A()],Kn.prototype,"color",void 0),g([Jt("color")],Kn.prototype,"writeColor",null),g([ot({esriSMS:"simple-marker"},{readOnly:!0})],Kn.prototype,"type",void 0),g([A()],Kn.prototype,"size",void 0),g([A({type:M_.apiValues,json:{read:M_.read,write:M_.write}})],Kn.prototype,"style",void 0),g([A({type:String,json:{write:!0}})],Kn.prototype,"path",null),g([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Rn}},json:{default:null,write:!0}})],Kn.prototype,"outline",void 0),Kn=Ex=g([ie("esri.symbols.SimpleMarkerSymbol")],Kn);const So=Kn;var Sx;let qt=Sx=class extends Mr{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Y1,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.text=e),t&&(r.font=t),i&&(r.color=i),r}writeLineWidth(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}castLineWidth(e){return ii(e)}writeLineHeight(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}clone(){return new Sx({angle:this.angle,backgroundColor:ge(this.backgroundColor),borderLineColor:ge(this.borderLineColor),borderLineSize:this.borderLineSize,color:ge(this.color),font:this.font&&this.font.clone(),haloColor:ge(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};g([A({type:dt,json:{write:!0}})],qt.prototype,"backgroundColor",void 0),g([A({type:dt,json:{write:!0}})],qt.prototype,"borderLineColor",void 0),g([A({type:Number,json:{write:!0},cast:ii})],qt.prototype,"borderLineSize",void 0),g([A({type:Y1,json:{write:!0}})],qt.prototype,"font",void 0),g([A({...cL,json:{write:!0}})],qt.prototype,"horizontalAlignment",void 0),g([A({type:Boolean,json:{write:!0}})],qt.prototype,"kerning",void 0),g([A({type:dt,json:{write:!0}})],qt.prototype,"haloColor",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],qt.prototype,"haloSize",void 0),g([A({type:Boolean,json:{write:!0}})],qt.prototype,"rightToLeft",void 0),g([A({type:Boolean,json:{write:!0}})],qt.prototype,"rotated",void 0),g([A({type:String,json:{write:!0}})],qt.prototype,"text",void 0),g([ot({esriTS:"text"},{readOnly:!0})],qt.prototype,"type",void 0),g([A({...uL,json:{write:!0}})],qt.prototype,"verticalAlignment",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],qt.prototype,"xoffset",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],qt.prototype,"yoffset",void 0),g([A({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],qt.prototype,"angle",void 0),g([A({type:Number,json:{write:!0}})],qt.prototype,"width",void 0),g([A({type:Number})],qt.prototype,"lineWidth",void 0),g([Jt("lineWidth")],qt.prototype,"writeLineWidth",null),g([Wm("lineWidth")],qt.prototype,"castLineWidth",null),g([A(lL)],qt.prototype,"lineHeight",void 0),g([Jt("lineHeight")],qt.prototype,"writeLineHeight",null),qt=Sx=g([ie("esri.symbols.TextSymbol")],qt);const Jf=qt;var Ax;let hn=Ax=class extends Mr{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:W1.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new Ax({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){const t=e&&"acceptedFormats"in e?e.acceptedFormats:["web"];return this._fetchSymbol({...e,acceptedFormats:t})}async fetchCIMSymbol(e){const t=await this.fetchSymbol({...e,acceptedFormats:["cim"]});if(t?.type!=="cim")throw new ft("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return t}async _fetchSymbol(e){const t=e!=null?e.cache:null,i=t?this._fetchCacheKey:null;if(t!=null){const o=i&&t.get(i);if(o)return o.clone()}const{resolveWebStyleSymbol:r}=await ve(()=>import("./webStyleSymbolUtils-BrPioWOf.js"),__vite__mapDeps([53,54,55,56,1]),import.meta.url);Bp(e);const s=r(this,{portal:this.portal},e);s.catch(o=>{Rt.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const n=await s;return t?.set(i,n.clone()),n}};g([A({json:{write:!1}})],hn.prototype,"color",void 0),g([A({type:String,json:{write:!0}})],hn.prototype,"styleName",void 0),g([A({type:W1,json:{write:!1}})],hn.prototype,"portal",void 0),g([A({type:String,json:{read:wS,write:Xh}})],hn.prototype,"styleUrl",void 0),g([A({type:mp,json:{read:!1}})],hn.prototype,"thumbnail",void 0),g([A({type:String,json:{write:!0}})],hn.prototype,"name",void 0),g([ot({styleSymbolReference:"web-style"},{readOnly:!0})],hn.prototype,"type",void 0),g([A()],hn.prototype,"_fetchCacheKey",null),hn=Ax=g([ie("esri.symbols.WebStyleSymbol")],hn);const su=hn;function lwe(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function $L(e){switch(e?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const QS={base:Mr,key:"type",typeMap:{"simple-fill":Su,"picture-fill":XS,"picture-marker":Yf,"simple-line":Rn,"simple-marker":So,text:Jf,"label-3d":J1,"line-3d":xu,"mesh-3d":s0,"point-3d":la,"polygon-3d":Eu,"web-style":su,cim:_u},errorContext:"symbol"},cwe={base:Mr,key:"type",typeMap:{"picture-marker":Yf,"simple-marker":So,"point-3d":la,cim:_u},errorContext:"symbol"},uwe={base:Mr,key:"type",typeMap:{"simple-line":Rn,"line-3d":xu,cim:_u},errorContext:"symbol"},hwe={base:Mr,key:"type",typeMap:{"simple-fill":Su,"picture-fill":XS,"polygon-3d":Eu,cim:_u},errorContext:"symbol"},fwe={base:Mr,key:"type",typeMap:{"picture-marker":Yf,"simple-marker":So,text:Jf,"web-style":su,cim:_u},errorContext:"symbol"},sJ=S5({types:QS}),dwe={base:Mr,key:"type",typeMap:{"simple-fill":Su,"picture-fill":XS,"picture-marker":Yf,"simple-line":Rn,"simple-marker":So,text:Jf,"line-3d":xu,"mesh-3d":s0,"point-3d":la,"polygon-3d":Eu,"web-style":su,cim:_u},errorContext:"symbol"},pwe={base:Mr,key:"type",typeMap:{text:Jf,"label-3d":J1},errorContext:"symbol"},mwe={base:Mr,key:"type",typeMap:{"line-3d":xu,"mesh-3d":s0,"point-3d":la,"polygon-3d":Eu,"web-style":su,cim:_u},errorContext:"symbol"},ywe={base:Mr,key:"type",typeMap:{"label-3d":J1},errorContext:"symbol"},gwe=Jh(QS);var Tx;function nJ(e){if(!e)return null;const t={};for(const i in e){const r=TS(e[i]);r&&(t[i]=r)}return Object.keys(t).length!==0?t:null}function oJ(e){if(e==null)return null;const t={};for(const i in e){const r=e[i];r&&(t[i]=r.toJSON())}return Object.keys(t).length!==0?t:null}let Wr=Tx=class extends Io.ClonableMixin(Xe){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:Dy(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&CU(Rt.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),e?.type!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new Tx({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[t,this.sourceLayer,this.layer])if(i){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(e&&"defaultPopupTemplate"in i&&i.defaultPopupTemplate!=null)return i.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:oJ(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:Xe.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if(t?.type==="mesh"){const i={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",i,i,e.action)}}_notifyLayer(e,t,i,r){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:e,oldValue:t,newValue:i};e==="origin-transform"&&(s.action=r),e==="attributes"&&(s.attributeName=r),this.layer.graphicChanged(s)}_watchMeshGeometryChanges(){this.addHandles([j2(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),j2(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const e=this.geometry;e?.type==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};g([A({value:null,json:{read:nJ}})],Wr.prototype,"aggregateGeometries",null),g([A({value:null})],Wr.prototype,"attributes",null),g([A({value:null,types:HW,json:{read:TS}})],Wr.prototype,"geometry",null),g([A({type:Boolean})],Wr.prototype,"isAggregate",void 0),g([A({clonable:"reference"})],Wr.prototype,"layer",void 0),g([A({clonable:"reference"})],Wr.prototype,"origin",void 0),g([A({type:qW})],Wr.prototype,"popupTemplate",void 0),g([A({clonable:"reference"})],Wr.prototype,"sourceLayer",void 0),g([A({value:null,types:QS})],Wr.prototype,"symbol",null),g([A({clonable:!1,json:{read:!1,write:!1}})],Wr.prototype,"_version",void 0),g([A({type:Boolean,value:!0})],Wr.prototype,"visible",null),Wr=Tx=g([ie("esri.Graphic")],Wr);const aJ=Wr;function vwe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function bwe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="graphics"}function _we(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="map-notes"&&"sublayers"in e}function wwe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="knowledge-graph"&&"layers"in e}function xwe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="link-chart"&&"layers"in e}function Ewe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function Swe(e){return e?.type==="subtype-sublayer"}const Awe={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function N$(e){const t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function Twe(e){return e==="integrated-mesh"||e==="integrated-mesh-3dtiles"}function $we(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function Mwe(e){const t=e?.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&e?.source?.type==="feature-layer"}async function Owe(e,t){const i=Yt?.findServerInfo(e);if(i?.currentVersion!=null)return i.owningSystemUrl||null;const r=e.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const s=`${e.slice(0,r)}/rest/info`,n=t!=null?t.signal:null,{data:o}=await Li(s,{query:{f:"json"},responseType:"json",signal:n});return o?.owningSystemUrl||null}function lJ(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function Cwe(e){return lJ(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function cJ(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function Iwe(e){return!!cJ(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const e3=[252,146,31,255],uJ=[153,153,153,255],hJ={type:"esriSMS",style:"esriSMSCircle",size:6,color:e3,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},fJ={type:"esriSLS",style:"esriSLSSolid",width:.75,color:e3},dJ={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},pJ={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},mJ={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},yJ={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},gJ={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},ML=So.fromJSON(hJ),OL=Rn.fromJSON(fJ),CL=Su.fromJSON(dJ),Pwe=Jf.fromJSON(pJ);function Nwe(e){if(e==null)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return ML;case"polyline":return OL;case"polygon":case"extent":return CL}return null}const Lwe=So.fromJSON(mJ),kwe=Rn.fromJSON(yJ),Rwe=Su.fromJSON(gJ),vJ=la.fromSimpleMarkerSymbol(ML),bJ=xu.fromSimpleLineSymbol(OL),_J=Eu.fromSimpleFillSymbol(CL),wJ=new s0({symbolLayers:new mt([new wu({material:{color:e3},edges:new HN({size:xo(1),color:new dt(uJ)})})])}),xJ=new xu({symbolLayers:new mt([new Hf({material:{color:new dt([0,0,0])},size:xo(1)})])}),EJ=new Eu({symbolLayers:new mt([new wu({outline:{color:new dt([0,0,0]),size:xo(1)}})])});function Dwe(e){if(e==null)return null;switch(e.type){case"mesh":return wJ;case"point":case"multipoint":return vJ;case"polyline":return bJ;case"polygon":case"extent":return _J}return null}const L$="#useCIMFallbackSymbology()",Gu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function SJ(e,t=Gu){if(!e)return{symbol:null};const{retainId:i=Gu.retainId,ignoreDrivers:r=Gu.ignoreDrivers,hasLabelingContext:s=Gu.hasLabelingContext,retainCIM:n=Gu.retainCIM,cimFallbackEnabled:o=Gu.cimFallbackEnabled}=t;let a=null;if($L(e)||e instanceof su)a=e.clone();else if(e.type==="cim"){const l=e.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=n?e.clone():la.fromCIMSymbol(e);break;case"CIMLineSymbol":o&&(a=xJ.clone(),t?.logWarning?.(L$,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=EJ.clone(),t?.logWarning?.(L$,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new ft("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof Rn)a=xu.fromSimpleLineSymbol(e);else if(e instanceof So)a=la.fromSimpleMarkerSymbol(e);else if(e instanceof Yf)a=la.fromPictureMarkerSymbol(e);else if(e instanceof Su)a=t.geometryType&&t.geometryType==="mesh"?s0.fromSimpleFillSymbol(e):Eu.fromSimpleFillSymbol(e);else{if(!(e instanceof Jf))return{error:new ft("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=s?J1.fromTextSymbol(e):la.fromTextSymbol(e)}return i&&a&&a.type!=="cim"&&(a.id=e.id),!r||a.type==="cim"||a instanceof su||a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function Fwe(e,t,i,r){const s=IL(e,{},{context:r,isLabelSymbol:!1});s!=null&&(t[i]=s)}function Uwe(e,t,i,r){const s=IL(e,{},{context:r,isLabelSymbol:!0});s!=null&&(t[i]=s)}function k$(e){return $L(e)||e instanceof su}function AJ(e){return e?.type==="polygon-3d"||e?.type==="line-3d"}function IL(e,t,i){if(e==null)return null;const{context:r,isLabelSymbol:s}=i,n=r?.origin,o=r?.messages;if(n==="web-scene"&&!k$(e)){const a=SJ(e,{retainCIM:!0,hasLabelingContext:s});return a.symbol!=null?a.symbol.write(t,r):(o?.push(new ft("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:a.error})),null)}return N$(r?.layer)&&AJ(e)?(o?.push(new ft("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${r?.layer?.declaredClass}'.`,{symbol:e,context:r})),null):(n==="web-map"||n==="portal-item"&&!N$(r?.layer))&&k$(e)?(o?.push(new ft("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:r})),null):e.write(t,r)}function t3(e,t){return sJ(e,null,t)}var TJ=":";function O_(...e){const t=[];for(let r=0;r<e.length;r++){const s=e[r];if(typeof s=="string")t.push(s);else if(Array.isArray(s))t.push.apply(t,s);else if(typeof s=="object")for(const n in s)s[n]&&t.push(n)}const i=t.join(" ");return t.length=0,i}var nu=class{resolve(e){}reject(e){}constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};function $J(e,t){let i=e;for(;i;){if(i===t)return!0;if(!i.parentNode)return!1;i.parentNode instanceof ShadowRoot?i=i.parentNode.host:i=i.parentNode}return!1}function MJ(e,t,i){const{subscribe:r}=OJ(t);return r(s=>{s.some(o=>$J(e,o.target))&&i()})}var C_={};function OJ(e){const t=e.join(","),i=C_[t];if(i!==void 0)return i;const r=new Set,s=new MutationObserver(o=>r.forEach(a=>a(o)));globalThis.document&&s.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const n={subscribe(o){return r.add(o),()=>{r.delete(o),r.size===0&&(s.disconnect(),C_[t]=void 0)}}};return C_[t]=n,n}function CJ(e,t){let i=e;for(;i;){const r=i.closest?.(t);if(r)return r;const s=i.getRootNode?.();if(s===globalThis.document)return null;i=s.host}return null}function IJ(e,t,i){return CJ(e,`[${t}]`)?.getAttribute(t)??i}function Xt(e,t,...i){try{return e?.call(t,...i)}catch(r){console.error(r,e)}}async function $x(e,t,...i){try{const r=e?.call(t,...i);return r instanceof Promise?await r:r}catch(r){console.error(r,e)}}var PJ=["ar","bg","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nl","nb","no","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],NJ=new Set(PJ),uv="en",LJ={pt:"pt-PT",nb:"no",zh:"zh-CN"};async function kJ(e,t,i=""){const r=`${t}/${i}`,s=`${r}${e}.json`;return I_[s]??(I_[s]=PL(e,r)),await I_[s]}var I_={};async function PL(e,t){const i=`${t}${e}.json`;try{const r=await fetch(i);if(r.ok)return await r.json()}catch(r){return console.error(r),{}}return e===uv?{}:await PL(uv,t)}function NL(e){const t=IJ(e,"lang",globalThis.navigator?.language||uv);return{lang:t,t9nLocale:LL(t)}}function LL(e){const[t,i]=e.split("-"),r=t.toLowerCase();let s=r;return i&&(s=`${r}-${i.toUpperCase()}`),s=LJ[s]??s,NJ.has(s)?s:i?LL(r):uv}function RJ(e,t,i,r){let s;const n=()=>void DJ(e,t(),r).then(o=>{(s?.lang!==o.lang||s.t9nLocale!==o.t9nLocale||s.t9nStrings!==o.t9nStrings)&&i(o),s=o}).catch(console.error);return queueMicrotask(n),MJ(e,["lang"],n)}async function DJ(e,t,i=e.tagName.toLowerCase().split("-").slice(1).join("-")){const{lang:r,t9nLocale:s}=NL(e),n=`${t}/${i}/t9n`,a=i===null?{}:await kJ(s,n,"messages.");return{lang:r,t9nLocale:s,t9nStrings:a}}var i3=e=>e.replace(FJ,(t,i)=>`${i===0?"":"-"}${t.toLowerCase()}`),FJ=/[A-Z]+(?![a-z])|[A-Z]/gu;function UJ(e,t){const i=t/jJ;let r=0;const s=setInterval(()=>{r+=i,r>=t&&(clearInterval(s),e())},i);return s}var jJ=4;function kL(e){return e!==void 0}function RL(e){let t=e;for(;t=t.parentNode??t.host;)if(t?.constructor?.lumina){const i=t;return i.manager?.loadedCalled||i._offspring.push(e),i._postLoad.promise}return!1}var dg=Object.defineProperty;function VJ(e){const t=e.split(TJ);return t.length===1?[t[0],i3(t[0])]:t}var BJ=globalThis.HTMLElement??VJ;(class extends BJ{constructor(){super(),this._store={},this._pendingAttributes=[],this._postLoad=new nu,this._postLoaded=new nu,this._offspring=[],this._saveInstanceProperties();const e=this.constructor;e._LitConstructor?this._initializeComponent({a:e._LitConstructor}):e._loadPromise.then(this._initializeComponent.bind(this)).catch(t=>{this._postLoaded.reject(t),setTimeout(()=>{throw t})})}static{this.lumina=!0}static _initializePrototype(){this._properties?.forEach(this._bindProp,this),this._asyncMethods?.forEach(this._bindAsync,this),this._syncMethods?.forEach(this._bindSync,this)}static _bindProp(e){dg(this.prototype,e,{configurable:!0,enumerable:!0,get(){return this._store[e]},set(t){this._store[e]=t}})}static _bindAsync(e){dg(this.prototype,e,{async value(...t){return this._litElement||await this._postLoaded.promise,await this._litElement[e](...t)},configurable:!0})}static _bindSync(e){dg(this.prototype,e,{value(...t){return this._litElement[e](...t)},configurable:!0})}get manager(){return this._litElement?.manager}_saveInstanceProperties(){const e=this.constructor,t=this;e._properties?.forEach(i=>{Object.hasOwn(this,i)&&(this._store[i]=t[i],delete t[i])})}attributeChangedCallback(e,t,i){this._litElement?.attributeChangedCallback(e,t,i),this._litElement||this._pendingAttributes.push(e)}connectedCallback(){this._litElement?this._litElement.connectedCallback?.():queueMicrotask(()=>{this._ancestorLoad=RL(this)})}disconnectedCallback(){this._litElement?.disconnectedCallback?.()}async componentOnReady(){return await this._postLoaded.promise,this}_initializeComponent(e){const t=this.constructor,i=t._name,r=this._store,s=Object.values(e).find(f=>f.tagName===i),n=`${i}--lazy`;let o=s;for(;o&&!Object.hasOwn(o,"lumina");)o=Object.getPrototypeOf(o);zJ(o),!t._LitConstructor&&(t._LitConstructor=s,customElements.define(n,s)),s.lazy=this;const l=document.createElement(n);s.lazy=void 0,this._litElement=l,this._store=l,this._pendingAttributes.forEach(f=>{const d=this.getAttribute(f);l.attributeChangedCallback(f,null,d)}),Object.entries(r).forEach(GJ,l);const c=this.isConnected;(c||this._ancestorLoad)&&(l.connectedCallback?.(),c||l.disconnectedCallback())}addController(){}requestUpdate(){this._litElement?.requestUpdate()}});function GJ([e,t]){this[e]=t}function zJ(e){const t=e.prototype,i=Element.prototype;Object.hasOwn(t,"isConnected")||(t.setAttribute=function(s,n){i.setAttribute.call(this.el,s,n)},t.removeAttribute=function(s){i.removeAttribute.call(this.el,s)},dg(t,"isConnected",{get(){return Reflect.get(i,"isConnected",this.el)}}))}var Mx={};function qJ(e,t){if(t){const i=e.constructor.elementProperties;e.manager.internals.members=Object.fromEntries(Array.from(i,([r,s])=>s.noAccessor?void 0:[r,[(s.readOnly?2048:0)|(s.state?32:16)]]).filter(kL))}else{const i=e.constructor,r=i.__registerControllers?.(e)??void 0;if(i.__registerControllers=void 0,typeof r!="object")throw new Error("Failed to retrieve component meta");e.manager.internals.members=Object.fromEntries(Object.entries(r).filter(([s,[n]])=>(n&63)!==0))}}function HJ(e,t=8){return e==null||typeof e=="object"||typeof e=="function"?e:t&4?e==="false"?!1:e===""||!!e:t&2?Number.parseFloat(e):t&1?String(e):e}var WJ=(e,t)=>e.manager.internals.members?.[t]?.[0],r3=Symbol.for("controller"),YJ=e=>typeof e=="object"&&e!==null&&(r3 in e||"hostConnected"in e||"hostDisconnected"in e||"hostUpdate"in e||"hostUpdated"in e),Xd;function gh(e){Xd!==e&&(Xd=e,queueMicrotask(()=>{Xd===e&&(Xd=void 0)}))}function Zf(e){return Xd}var xc=[];function DL(e){if(e===void 0){xc=[];return}const t=xc.indexOf(e);xc=t===-1?[...xc,e]:xc.slice(0,t+1),queueMicrotask(()=>{xc=[]})}function FL(){return xc}var vh;function JJ(e){vh!==e&&(vh=e,queueMicrotask(()=>{vh===e&&(vh=void 0)}))}function ZJ(){const e=vh;return vh=void 0,e}var KJ=async(e,t)=>{const i=s3(e);if(i===void 0)return e;if(await i.ready,typeof t=="function"){const r=i.watchExports(s=>t(s,r))}return i.exports},XJ=async e=>{const t=s3(e);return await t.ready,t},s3=e=>{const i=Zf().manager.internals.resolveExports(e);if(i!==void 0)return i;if(YJ(e))return e;const r=ZJ();if(r!==void 0)return r},ua={setter:!1,getter:!1,readOnly:!1},hv=new WeakMap,UL;UL=r3;var n3=class{constructor(e){this._callbacks={hostConnected:[],hostDisconnected:[],hostLoad:[],hostLoaded:[],hostUpdate:[],hostUpdated:[],hostDestroy:[],hostLifecycle:[]},this._ready=new nu,this._lifecycleCleanups=[],this.connectedCalled=!1,this._loadCalled=!1,this.loadedCalled=!1,this[UL]=!0,this.ready=this._ready.promise,this._exports=D$(this),this._exportWatchers=new Set;const t=e??Zf();this.component=t,this.component.addController(this),this.component.manager===void 0||(DL(this),queueMicrotask(()=>this.catchUpLifecycle()))}catchUpLifecycle(){const{manager:e}=this.component;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e._loadCalled&&this.triggerLoad().then(()=>{e.loadedCalled&&this.triggerLoaded()}).catch(console.error)}get exports(){return this._exports}set exports(e){const t=this._exports;t!==e&&(this._exports=e,this._exportWatchers.forEach(Xt),this.connectedCalled&&this.assignedProperty!==!1&&this.component.requestUpdate(this.assignedProperty,t)),this._ready.resolve(e)}setProvisionalExports(e,t=!0){this._exports=t?D$(e):e,this._exportWatchers.forEach(Xt)}watchExports(e){const t=()=>e(this._exports);return this._exportWatchers.add(t),()=>void this._exportWatchers.delete(t)}get use(){return gh(this.component),KJ}get useRef(){return gh(this.component),XJ}get useRefSync(){return gh(this.component),s3}controllerRemoved(){this.component.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this._callbacks.hostConnected.push(e)}onDisconnected(e){this._callbacks.hostDisconnected.push(e)}onLoad(e){this._callbacks.hostLoad.push(e)}onLoaded(e){this._callbacks.hostLoaded.push(e)}onUpdate(e){this._callbacks.hostUpdate.push(e)}onUpdated(e){this._callbacks.hostUpdated.push(e)}onDestroy(e){this._callbacks.hostDestroy.push(e)}onLifecycle(e){this._callbacks.hostLifecycle.push(e),this.connectedCalled&&this.component.el.isConnected&&this._callLifecycle(e)}triggerConnected(){const e=this;e.hostConnected&&Xt(e.hostConnected,e),this._callbacks.hostConnected.forEach(Xt),this.triggerLifecycle(),this.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&Xt(e.hostDisconnected,e),this._callbacks.hostDisconnected.forEach(Xt),this._lifecycleCleanups.forEach(Xt),this._lifecycleCleanups=[]}async triggerLoad(){if(this._loadCalled)return;this._loadCalled=!0;const e=this;e.hostLoad&&await $x(e.hostLoad,e),this._callbacks.hostLoad.length>0&&await Promise.allSettled(this._callbacks.hostLoad.map($x)),this._ready.resolve(this._exports)}triggerLoaded(){if(this.loadedCalled)return;const e=this;e.hostLoaded&&Xt(e.hostLoaded,e),this._callbacks.hostLoaded.forEach(Xt),this.loadedCalled=!0}triggerUpdate(e){const t=this;t.hostUpdate&&Xt(t.hostUpdate,t,e),this._callbacks.hostUpdate.forEach(R$,e)}triggerUpdated(e){const t=this;t.hostUpdated&&Xt(t.hostUpdated,t,e),this._callbacks.hostUpdated.forEach(R$,e)}triggerDestroy(){const e=this;e.hostDestroy&&Xt(e.hostDestroy,e),this._callbacks.hostDestroy.forEach(Xt)}triggerLifecycle(){const e=this;e.hostLifecycle&&this._callLifecycle(()=>e.hostLifecycle()),this._callbacks.hostLifecycle.forEach(this._callLifecycle,this)}_callLifecycle(e){gh(this.component);const t=Xt(e);(Array.isArray(t)?t:[t]).forEach(r=>{typeof r=="function"?this._lifecycleCleanups.push(r):typeof r=="object"&&typeof r.remove=="function"&&this._lifecycleCleanups.push(r.remove)})}};function R$(e){Xt(e,void 0,this)}var jL=n3;function D$(e){if(typeof e!="object"&&typeof e!="function"||e===null)return e;const t=new Proxy(e,{get(i,r,s){if(!(QJ.has(r)&&r in i&&i[r]===t)&&(r in i||r in Promise.prototype||typeof r=="symbol"))return typeof i=="function"?i[r]:Reflect.get(i,r,s)},set:(i,r,s,n)=>Reflect.set(i,r,s,n)});return t}var QJ=new Set(["exports","_exports"]);function eZ(e,t,i){const r=Object.keys(e),s=r.length;Mc===void 0&&queueMicrotask(o3),Mc??(Mc=new Map);let n=Mc.get(e);return n===void 0&&(n={callbacks:[],keyCount:s},Mc.set(e,n)),n.keyCount!==s&&(n.callbacks.forEach(o=>o(r)),n.callbacks=[],n.keyCount=s),n.callbacks.push(o=>{const a=c=>Xt(t,null,c),l=o[s];l===void 0?a(void 0):e[l]===i?a(l):a(void 0)}),i}var Mc=void 0;function o3(){Array.from(Mc?.entries()??[]).forEach(([e,{callbacks:t}])=>{const i=Object.keys(e);t.forEach(r=>r(i))}),Mc=void 0}function af(e,t,i){var r;const s=t,n=e.manager.internals;(r=n.allWatchers)[s]??(r[s]=[]);const o=n.allWatchers[s],a=i,l=(c,f,d)=>Xt(a,null,c,f,d);return o.push(l),()=>{const c=o.indexOf(l);c!==-1&&o.splice(c,1)}}var tZ=class{constructor(e){this.enabledWatchers={},this.allWatchers={},this.enableReadonly=()=>{if(this.enableReadonly=void 0,!this.component.manager.isLit)return;const t=this.component.manager.internals;Object.entries(t.members).forEach(([i,[r]])=>{var s;r&2048&&((s=t.setters)[i]??(s[i]=[]),t.setters[i].push(t.readonlySetter))})},this.trackedValue=Ox,this.keyTrackers=[],this.getters={},this.setters={},this.accessorGetter={},this.accessorSetter={},this._exports=new WeakMap,this.readonlySetter=(t,i,r)=>{if(ua.readOnly)return t;throw new Error(`Cannot assign to read-only property "${r}" of ${this.component.el.tagName.toLowerCase()}. Trying to assign "${String(t)}"`)},this.component=e}firePropTrackers(e,t){const i=this.keyTrackers;this.trackedValue=Ox,this.keyTrackers=[],i.forEach(r=>r(e,t))}getSetProxy(e){const t=this.component,i=t.constructor.prototype;if(this._getSetProxy(i,e,"class"),t.manager.isLit)return;const r=t.el.constructor.prototype;i!==r&&this._getSetProxy(r,e,"html")}_getSetProxy(e,t,i){const r=this.component,s=WJ(r,t);let n;do n=Object.getOwnPropertyDescriptor(e,t);while(!n&&(e=Object.getPrototypeOf(e)));if(!n)return;const o=n.get,a=n.set,l=Z0 in o,c=Z0 in a;if(l&&c)return;const f=!l,d=!c,p=f?function(){let b=o.call(this);const S=hv.get(this);if(ua.getter||S===void 0)return b;const E=S.manager.internals;b=E.accessorGetter[t](b,t);const T=E.getters[t]??P_;for(let w=0;w<T.length;w++)b=T[w](b,t);return b}:o,y=d?function(b){const S=o.call(this),E=hv.get(this);if(E===void 0){a.call(this,b);return}let T=E.manager.isLit?b??void 0:HJ(b,s);const w=E.manager.internals;if(T===S)a.call(this,T);else{const _=ua.setter?P_:w.setters[t]??P_;for(let $=0;$<_.length&&(T=_[$](T,S,t),T!==S);$++);T=w.accessorSetter[t](T,S,t),a.call(this,T),T!==S&&w.enabledWatchers[t]?.forEach($=>$(T,S,t))}w.keyTrackers.length>0&&w?.firePropTrackers(t,b)}:a;f&&(p[Z0]=!0),d&&(y[Z0]=!0),Object.defineProperty(e,t,{...n,get:p,set:y})}markExports(e,t){(typeof t=="object"&&t!==null||typeof t=="function")&&this._exports.set(t,e)}resolveExports(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this._exports.get(e)}},P_=[],Z0=Symbol(),Ox=Symbol();function VL(e,t,i){const r=e.manager.internals;return r.trackedValue!==Ox&&r.trackedValue!==i&&r.firePropTrackers(void 0,void 0),r.keyTrackers.length===0&&queueMicrotask(()=>r.firePropTrackers(void 0,void 0)),r.trackedValue=i,r.keyTrackers.push((s,n)=>Xt(t,void 0,i===n?s:void 0)),i}function a3(e=[Zf(),...FL()],t,i){const r=Array.isArray(e)?e:[e];let s=r.length+1;const n=a=>{s-=1,a!==void 0&&(s=Math.min(s,0)),s===0&&t(a)};r.forEach(a=>eZ(a,l=>n(l===void 0?void 0:{key:l,host:a,isReactive:!1}),i));const o=r.find(a=>"manager"in a&&typeof a.manager=="object"&&a.manager.component===a);return o&&VL(o,a=>n(a===void 0?void 0:{key:a,host:o,isReactive:!0}),i),i}function iZ(e){ua.setter=!0;try{return e()}finally{ua.setter=!1}}function rZ(e){ua.getter=!0;try{return e()}finally{ua.getter=!1}}function sZ(e){ua.readOnly=!0;try{return e()}finally{ua.readOnly=!1}}var BL=e=>(...t)=>{const i=FL(),r=new e(...t),s=r.exports;DL(i.at(-1));const n=r.component.manager.internals;n.markExports(r,s),r.watchExports(a=>n.markExports(r,a)),JJ(r);const o=[r.component,...i].reverse();return a3(o,a=>a===void 0?void 0:nZ(r,a,s),s)};function nZ(e,{host:t,key:i,isReactive:r},s){const n=t,o=n[i]!==e.exports,a=n[i]!==s,l=s!==e.exports;if(o&&!a&&l&&(n[i]=e.exports),t===e.component){if(r){const f=e.component.manager.internals;a&&f.markExports(e,n[i]),af(e.component,i,d=>{d!==e.exports&&f.markExports(e,d)})}e.assignedProperty=r?void 0:i}e.watchExports(()=>{if(n[i]===e.exports)return;const f=e.component.manager;f.internals.setters[i]?.includes(f.internals.readonlySetter)?sZ(()=>{n[i]=e.exports}):n[i]=e.exports})}var oZ=(e,t)=>new aZ(e,t),aZ=class extends jL{constructor(e,t){const i="addController"in e,r=new Set;function s(l){r.add(l),!(r3 in l)&&e.renderRoot&&e.el.isConnected&&l.hostConnected?.()}function n(l){r.delete(l),l.controllerRemoved?.()}const o=e;if(o.addController=s,o.removeController=n,!i){const l=t??e.constructor.__forceUpdate;o.requestUpdate=()=>l(e)}super(e),this.internals=new tZ(this.component),this.destroyed=!1,this._updatePromise=new nu,this._originalLifecycles={},this.isLit=i,this.component.manager=this,qJ(e,i),this._controllers=r,this.exports=void 0,this.hasDestroy=N_ in this.component&&typeof this.component.destroy=="function",this._bindLifecycleMethods();const a=this.internals;Object.keys(a.members).forEach(l=>{a.accessorGetter[l]=F$,a.accessorSetter[l]=F$,a.getSetProxy(l)}),i?this.internals.enabledWatchers=this.internals.allWatchers:Object.defineProperty(e,"updateComplete",{get:async()=>await this._updatePromise.promise}),queueMicrotask(a.enableReadonly),gh(e),hv.set(e.el,e),hv.set(e,e)}_bindLifecycleMethods(){const e=this.component,t=this.isLit,i=e.el===e;this._originalLifecycles={_connectedCallback:t||i?void 0:e.connectedCallback,_disconnectedCallback:t||i?void 0:e.disconnectedCallback,_load:t?e.load:e.componentWillLoad,_loaded:t?e.loaded:e.componentDidLoad,_willUpdate:t?void 0:e.componentWillUpdate,_updated:t?void 0:e.componentDidUpdate,_destroy:e.destroy};const r=this._connectedCallback.bind(this),s=this._disconnectedCallback.bind(this),n=this._update.bind(this),o=this._updated.bind(this);t?e.constructor.prototype.addController.call(e,{hostConnected:r,hostDisconnected:s,hostUpdate:n,hostUpdated:o}):(e.connectedCallback=r,e.disconnectedCallback=s,e.componentWillLoad=this._load.bind(this),e.componentDidLoad=this._loaded.bind(this),e.componentWillUpdate=n,e.componentDidUpdate=o),this.hasDestroy&&(e.destroy=this.destroy.bind(this))}_connectedCallback(){if(this.destroyed){const t=this.component.el.tagName.toLowerCase();throw this.component.el.remove(),new Error(`The ${t} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${N_} prop.`)}this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout);const e=this.internals;e.enabledWatchers=e.allWatchers,o3(),e.enableReadonly?.(),this._controllers.forEach(cZ),this._originalLifecycles._connectedCallback?.call(this.component)}_disconnectedCallback(){this.destroyed||(this._controllers.forEach(uZ),this._originalLifecycles._disconnectedCallback?.call(this.component),this.hasDestroy&&this._setAutoDestroyTimeout())}async _load(){await Promise.allSettled(Array.from(this._controllers,hZ)),await this._originalLifecycles._load?.call(this.component),this.hasDestroy&&af(this.component,N_,()=>this._setAutoDestroyTimeout())}_loaded(){this._controllers.forEach(fZ),this._originalLifecycles._loaded?.call(this.component)}_update(){const e=this.component;return this._controllers.forEach(dZ,e.$changes),this._originalLifecycles._willUpdate?.call(this.component)}_updated(){const e=this.component;if(this._controllers.forEach(pZ,e.$changes),this._originalLifecycles._updated?.call(this.component),this.isLit)e.$changes=new Map;else{const t=this._updatePromise;this._updatePromise=new nu,t.resolve(!0)}}async destroy(){if(!this.destroyed){if(this.component.el.isConnected){this.hasDestroy=!1;try{this.component.el.remove()}finally{this.hasDestroy=!0}}this._autoDestroyTimeout=void 0,this.destroyed=!0,this._controllers.forEach(mZ),this._controllers.clear(),await this._originalLifecycles._destroy?.call(this.component)}}_setAutoDestroyTimeout(){if(this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout),!this.component.el.isConnected&&!this.component.autoDestroyDisabled){const e=()=>void this.destroy().catch(console.error);this._autoDestroyTimeout=UJ(e,lZ)}}},N_="autoDestroyDisabled",lZ=1e3,F$=e=>e;function cZ(e){"triggerConnected"in e?e.triggerConnected():Xt(e.hostConnected,e)}function uZ(e){"triggerDisconnected"in e?e.triggerDisconnected():Xt(e.hostDisconnected,e)}async function hZ(e){"triggerLoad"in e?await e.triggerLoad():await $x(e.hostLoad,e)}function fZ(e){"triggerLoaded"in e?e.triggerLoaded():Xt(e.hostLoaded,e)}function dZ(e){"triggerUpdate"in e?e.triggerUpdate(this):Xt(e.hostUpdate,e,this)}function pZ(e){"triggerUpdated"in e?e.triggerUpdated(this):Xt(e.hostUpdated,e,this)}function mZ(e){"triggerDestroy"in e?e.triggerDestroy():Xt(e.hostDestroy,e)}var yZ=e=>GL(void 0,e),jwe=e=>t=>GL(t,e),gZ=class extends n3{constructor(e,t){super(e);const i=this.exports;try{gh(this.component);const r=t(this.component,this),s=this.exports!==i;if(r instanceof Promise){s||this.setProvisionalExports(r);const n=r.then(o=>{this.exports=o,super.catchUpLifecycle()}).catch(o=>{this._ready.reject(o),console.error(o)});this.onLoad(async()=>await n)}else(!s||r!==void 0)&&(this.exports=r),queueMicrotask(()=>super.catchUpLifecycle())}catch(r){this._ready.reject(r),console.error(r)}}catchUpLifecycle(){}},GL=BL(gZ),Vwe=(e,t)=>new vZ(e,t),vZ=class extends n3{constructor(e,t){super(),this._attributes=e,this._callback=t,this._observer=new MutationObserver(i=>{i.forEach(r=>{e.includes(r.attributeName)&&t.call(this.component,this.component.el.getAttribute(r.attributeName),r.oldValue,r.attributeName)})})}hostConnected(){this._attributes.forEach(e=>{this.component.el.hasAttribute(e)&&this._callback.call(this.component,null,this.component.el.getAttribute(e),e)}),this._observer.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this._attributes})}hostDisconnected(){this._observer.disconnect()}},bZ=e=>(t={})=>yZ((i,r)=>{const s=NL(i.el),n={_lang:s.lang,_t9nLocale:s.t9nLocale,_loading:!0},o=i;r.onLifecycle(()=>RJ(i.el,()=>e("./assets"),({t9nLocale:l,t9nStrings:c,lang:f})=>{const d={...c,_lang:f,_t9nLocale:l,_loading:!1};r.exports=d;const p=c.componentLabel;typeof p=="string"&&"label"in i&&i.label==null&&(i.label??(i.label=p)),a(o.messageOverrides)},t.name));function a(l){const c=r.exports,f=c._original??c,d=zL(f,l);l&&(d._original=f),r.exports=d}return"messageOverrides"in o&&r.onLifecycle(()=>af(o,"messageOverrides",a)),t.blocking?(r.setProvisionalExports(n,!1),r.ready):n});function zL(e,t){if(!t)return e;const i={...e};return Object.entries(t).forEach(([r,s])=>{typeof s=="object"?i[r]=zL(e[r],s):i[r]=s??e[r]}),i}var _Z=e=>wZ,U$="arcgisPropertyChange";function wZ(...e){const t=Zf();let r=t[U$];return t.manager.isLit&&(r=t.constructor.$createEvent(U$,void 0,t)),t.manager.onLoad(()=>t.manager.onLifecycle(()=>e.map(s=>af(t,s,()=>r.emit({name:s}))))),r}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const pg=globalThis,l3=pg.ShadowRoot&&(pg.ShadyCSS===void 0||pg.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,c3=Symbol(),j$=new WeakMap;let qL=class{constructor(t,i,r){if(this._$cssResult$=!0,r!==c3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=i}get styleSheet(){let t=this.o;const i=this.t;if(l3&&t===void 0){const r=i!==void 0&&i.length===1;r&&(t=j$.get(i)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&j$.set(i,t))}return t}toString(){return this.cssText}};const xZ=e=>new qL(typeof e=="string"?e:e+"",void 0,c3),EZ=(e,...t)=>{const i=e.length===1?e[0]:t.reduce((r,s,n)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[n+1],e[0]);return new qL(i,e,c3)},SZ=(e,t)=>{if(l3)e.adoptedStyleSheets=t.map(i=>i instanceof CSSStyleSheet?i:i.styleSheet);else for(const i of t){const r=document.createElement("style"),s=pg.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=i.cssText,e.appendChild(r)}},V$=l3?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let i="";for(const r of t.cssRules)i+=r.cssText;return xZ(i)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:AZ,defineProperty:TZ,getOwnPropertyDescriptor:$Z,getOwnPropertyNames:MZ,getOwnPropertySymbols:OZ,getPrototypeOf:CZ}=Object,Z1=globalThis,B$=Z1.trustedTypes,IZ=B$?B$.emptyScript:"",PZ=Z1.reactiveElementPolyfillSupport,yp=(e,t)=>e,Cx={toAttribute(e,t){switch(t){case Boolean:e=e?IZ:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=e!==null;break;case Number:i=e===null?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch{i=null}}return i}},HL=(e,t)=>!AZ(e,t),G$={attribute:!0,type:String,converter:Cx,reflect:!1,hasChanged:HL};Symbol.metadata??=Symbol("metadata"),Z1.litPropertyMetadata??=new WeakMap;let nh=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,i=G$){if(i.state&&(i.attribute=!1),this._$Ei(),this.elementProperties.set(t,i),!i.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(t,r,i);s!==void 0&&TZ(this.prototype,t,s)}}static getPropertyDescriptor(t,i,r){const{get:s,set:n}=$Z(this.prototype,t)??{get(){return this[i]},set(o){this[i]=o}};return{get(){return s?.call(this)},set(o){const a=s?.call(this);n.call(this,o),this.requestUpdate(t,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??G$}static _$Ei(){if(this.hasOwnProperty(yp("elementProperties")))return;const t=CZ(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(yp("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(yp("properties"))){const i=this.properties,r=[...MZ(i),...OZ(i)];for(const s of r)this.createProperty(s,i[s])}const t=this[Symbol.metadata];if(t!==null){const i=litPropertyMetadata.get(t);if(i!==void 0)for(const[r,s]of i)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[i,r]of this.elementProperties){const s=this._$Eu(i,r);s!==void 0&&this._$Eh.set(s,i)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const i=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const s of r)i.unshift(V$(s))}else t!==void 0&&i.push(V$(t));return i}static _$Eu(t,i){const r=i.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,i=this.constructor.elementProperties;for(const r of i.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return SZ(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,i,r){this._$AK(t,r)}_$EC(t,i){const r=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,r);if(s!==void 0&&r.reflect===!0){const n=(r.converter?.toAttribute!==void 0?r.converter:Cx).toAttribute(i,r.type);this._$Em=t,n==null?this.removeAttribute(s):this.setAttribute(s,n),this._$Em=null}}_$AK(t,i){const r=this.constructor,s=r._$Eh.get(t);if(s!==void 0&&this._$Em!==s){const n=r.getPropertyOptions(s),o=typeof n.converter=="function"?{fromAttribute:n.converter}:n.converter?.fromAttribute!==void 0?n.converter:Cx;this._$Em=s,this[s]=o.fromAttribute(i,n.type),this._$Em=null}}requestUpdate(t,i,r){if(t!==void 0){if(r??=this.constructor.getPropertyOptions(t),!(r.hasChanged??HL)(this[t],i))return;this.P(t,i,r)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,i,r){this._$AL.has(t)||this._$AL.set(t,i),r.reflect===!0&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(i){Promise.reject(i)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[s,n]of this._$Ep)this[s]=n;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[s,n]of r)n.wrapped!==!0||this._$AL.has(s)||this[s]===void 0||this.P(s,this[s],n)}let t=!1;const i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),this._$EO?.forEach(r=>r.hostUpdate?.()),this.update(i)):this._$EU()}catch(r){throw t=!1,this._$EU(),r}t&&this._$AE(i)}willUpdate(t){}_$AE(t){this._$EO?.forEach(i=>i.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach(i=>this._$EC(i,this[i])),this._$EU()}updated(t){}firstUpdated(t){}};nh.elementStyles=[],nh.shadowRootOptions={mode:"open"},nh[yp("elementProperties")]=new Map,nh[yp("finalized")]=new Map,PZ?.({ReactiveElement:nh}),(Z1.reactiveElementVersions??=[]).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const u3=globalThis,fv=u3.trustedTypes,z$=fv?fv.createPolicy("lit-html",{createHTML:e=>e}):void 0,h3="$lit$",ra=`lit$${Math.random().toFixed(9).slice(2)}$`,f3="?"+ra,NZ=`<${f3}>`,ou=document,am=()=>ou.createComment(""),lm=e=>e===null||typeof e!="object"&&typeof e!="function",d3=Array.isArray,WL=e=>d3(e)||typeof e?.[Symbol.iterator]=="function",L_=`[ 	
\f\r]`,pd=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,q$=/-->/g,H$=/>/g,Ql=RegExp(`>|${L_}(?:([^\\s"'>=/]+)(${L_}*=${L_}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),W$=/'/g,Y$=/"/g,YL=/^(?:script|style|textarea|title)$/i,JL=e=>(t,...i)=>({_$litType$:e,strings:t,values:i}),md=JL(1),zwe=JL(2),Sl=Symbol.for("lit-noChange"),Gi=Symbol.for("lit-nothing"),J$=new WeakMap,Lc=ou.createTreeWalker(ou,129);function ZL(e,t){if(!d3(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return z$!==void 0?z$.createHTML(t):t}const KL=(e,t)=>{const i=e.length-1,r=[];let s,n=t===2?"<svg>":t===3?"<math>":"",o=pd;for(let a=0;a<i;a++){const l=e[a];let c,f,d=-1,p=0;for(;p<l.length&&(o.lastIndex=p,f=o.exec(l),f!==null);)p=o.lastIndex,o===pd?f[1]==="!--"?o=q$:f[1]!==void 0?o=H$:f[2]!==void 0?(YL.test(f[2])&&(s=RegExp("</"+f[2],"g")),o=Ql):f[3]!==void 0&&(o=Ql):o===Ql?f[0]===">"?(o=s??pd,d=-1):f[1]===void 0?d=-2:(d=o.lastIndex-f[2].length,c=f[1],o=f[3]===void 0?Ql:f[3]==='"'?Y$:W$):o===Y$||o===W$?o=Ql:o===q$||o===H$?o=pd:(o=Ql,s=void 0);const y=o===Ql&&e[a+1].startsWith("/>")?" ":"";n+=o===pd?l+NZ:d>=0?(r.push(c),l.slice(0,d)+h3+l.slice(d)+ra+y):l+ra+(d===-2?a:y)}return[ZL(e,n+(e[i]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};class cm{constructor({strings:t,_$litType$:i},r){let s;this.parts=[];let n=0,o=0;const a=t.length-1,l=this.parts,[c,f]=KL(t,i);if(this.el=cm.createElement(c,r),Lc.currentNode=this.el.content,i===2||i===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=Lc.nextNode())!==null&&l.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(h3)){const p=f[o++],y=s.getAttribute(d).split(ra),v=/([.?@])?(.*)/.exec(p);l.push({type:1,index:n,name:v[2],strings:y,ctor:v[1]==="."?QL:v[1]==="?"?ek:v[1]==="@"?tk:n0}),s.removeAttribute(d)}else d.startsWith(ra)&&(l.push({type:6,index:n}),s.removeAttribute(d));if(YL.test(s.tagName)){const d=s.textContent.split(ra),p=d.length-1;if(p>0){s.textContent=fv?fv.emptyScript:"";for(let y=0;y<p;y++)s.append(d[y],am()),Lc.nextNode(),l.push({type:2,index:++n});s.append(d[p],am())}}}else if(s.nodeType===8)if(s.data===f3)l.push({type:2,index:n});else{let d=-1;for(;(d=s.data.indexOf(ra,d+1))!==-1;)l.push({type:7,index:n}),d+=ra.length-1}n++}}static createElement(t,i){const r=ou.createElement("template");return r.innerHTML=t,r}}function au(e,t,i=e,r){if(t===Sl)return t;let s=r!==void 0?i._$Co?.[r]:i._$Cl;const n=lm(t)?void 0:t._$litDirective$;return s?.constructor!==n&&(s?._$AO?.(!1),n===void 0?s=void 0:(s=new n(e),s._$AT(e,i,r)),r!==void 0?(i._$Co??=[])[r]=s:i._$Cl=s),s!==void 0&&(t=au(e,s._$AS(e,t.values),s,r)),t}let XL=class{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:r}=this._$AD,s=(t?.creationScope??ou).importNode(i,!0);Lc.currentNode=s;let n=Lc.nextNode(),o=0,a=0,l=r[0];for(;l!==void 0;){if(o===l.index){let c;l.type===2?c=new Kf(n,n.nextSibling,this,t):l.type===1?c=new l.ctor(n,l.name,l.strings,this,t):l.type===6&&(c=new ik(n,this,t)),this._$AV.push(c),l=r[++a]}o!==l?.index&&(n=Lc.nextNode(),o++)}return Lc.currentNode=ou,s}p(t){let i=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,i),i+=r.strings.length-2):r._$AI(t[i])),i++}};class Kf{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,r,s){this.type=2,this._$AH=Gi,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=r,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&t?.nodeType===11&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=au(this,t,i),lm(t)?t===Gi||t==null||t===""?(this._$AH!==Gi&&this._$AR(),this._$AH=Gi):t!==this._$AH&&t!==Sl&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):WL(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==Gi&&lm(this._$AH)?this._$AA.nextSibling.data=t:this.T(ou.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:r}=t,s=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=cm.createElement(ZL(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===s)this._$AH.p(i);else{const n=new XL(s,this),o=n.u(this.options);n.p(i),this.T(o),this._$AH=n}}_$AC(t){let i=J$.get(t.strings);return i===void 0&&J$.set(t.strings,i=new cm(t)),i}k(t){d3(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let r,s=0;for(const n of t)s===i.length?i.push(r=new Kf(this.O(am()),this.O(am()),this,this.options)):r=i[s],r._$AI(n),s++;s<i.length&&(this._$AR(r&&r._$AB.nextSibling,s),i.length=s)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t&&t!==this._$AB;){const r=t.nextSibling;t.remove(),t=r}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}}class n0{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,r,s,n){this.type=1,this._$AH=Gi,this._$AN=void 0,this.element=t,this.name=i,this._$AM=s,this.options=n,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Gi}_$AI(t,i=this,r,s){const n=this.strings;let o=!1;if(n===void 0)t=au(this,t,i,0),o=!lm(t)||t!==this._$AH&&t!==Sl,o&&(this._$AH=t);else{const a=t;let l,c;for(t=n[0],l=0;l<n.length-1;l++)c=au(this,a[r+l],i,l),c===Sl&&(c=this._$AH[l]),o||=!lm(c)||c!==this._$AH[l],c===Gi?t=Gi:t!==Gi&&(t+=(c??"")+n[l+1]),this._$AH[l]=c}o&&!s&&this.j(t)}j(t){t===Gi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}let QL=class extends n0{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Gi?void 0:t}},ek=class extends n0{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==Gi)}};class tk extends n0{constructor(t,i,r,s,n){super(t,i,r,s,n),this.type=5}_$AI(t,i=this){if((t=au(this,t,i,0)??Gi)===Sl)return;const r=this._$AH,s=t===Gi&&r!==Gi||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,n=t!==Gi&&(r===Gi||s);s&&this.element.removeEventListener(this.name,this,r),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class ik{constructor(t,i,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){au(this,t)}}const Ywe={M:h3,P:ra,A:f3,C:1,L:KL,R:XL,D:WL,V:au,I:Kf,H:n0,N:ek,U:tk,B:QL,F:ik},LZ=u3.litHtmlPolyfillSupport;LZ?.(cm,Kf),(u3.litHtmlVersions??=[]).push("3.2.1");const kZ=(e,t,i)=>{const r=i?.renderBefore??t;let s=r._$litPart$;if(s===void 0){const n=i?.renderBefore??null;r._$litPart$=s=new Kf(t.insertBefore(am(),n),n,void 0,i??{})}return s._$AI(e),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Dh extends nh{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=kZ(i,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Sl}}Dh._$litElement$=!0,Dh.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:Dh});const RZ=globalThis.litElementPolyfillSupport;RZ?.({LitElement:Dh});(globalThis.litElementVersions??=[]).push("4.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const rk={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},sk=e=>(...t)=>({_$litDirective$:e,values:t});let nk=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,i,r){this._$Ct=t,this._$AM=i,this._$Ci=r}_$AS(t,i){return this.update(t,i)}update(t,i){return this.render(...i)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const DZ=sk(class extends nk{constructor(e){if(super(e),e.type!==rk.ATTRIBUTE||e.name!=="class"||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(r=>r!=="")));for(const r in t)t[r]&&!this.nt?.has(r)&&this.st.add(r);return this.render(t)}const i=e.element.classList;for(const r of this.st)r in t||(i.remove(r),this.st.delete(r));for(const r in t){const s=!!t[r];s===this.st.has(r)||this.nt?.has(r)||(s?(i.add(r),this.st.add(r)):(i.remove(r),this.st.delete(r)))}return Sl}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ok="important",FZ=" !"+ok,UZ=sk(class extends nk{constructor(e){if(super(e),e.type!==rk.ATTRIBUTE||e.name!=="style"||e.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,i)=>{const r=e[i];return r==null?t:t+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(e,[t]){const{style:i}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const r of this.ft)t[r]==null&&(this.ft.delete(r),r.includes("-")?i.removeProperty(r):i[r]=null);for(const r in t){const s=t[r];if(s!=null){this.ft.add(r);const n=typeof s=="string"&&s.endsWith(FZ);r.includes("-")||n?i.setProperty(r,n?s.slice(0,-11):s,n?ok:""):i[r]=s}}return Sl}});var ak=(e="",t={},i=Zf())=>{const r={emit:s=>{e===""&&o3();const n=new CustomEvent(e,{detail:s,cancelable:!0,bubbles:!0,composed:!0,...t});return i.el.dispatchEvent(n),n}};return e===""&&a3(void 0,s=>{e=s.key},r),r},jZ=ak.bind(null,""),VZ=()=>{},lk=class ck extends Dh{constructor(){super(),this.el=this.constructor.lazy??this,this.manager=oZ(this),this._postLoad=this.constructor.lazy?._postLoad??new nu,this._offspring=this.constructor.lazy?._offspring??[],this._postLoaded=this.constructor.lazy?._postLoaded??new nu,this._enableUpdating=this.enableUpdating,this.enableUpdating=VZ;const t=ck.prototype.shouldUpdate;this.shouldUpdate!==t&&(this._originalShouldUpdate=this.shouldUpdate,this.shouldUpdate=t)}static finalizeStyles(t){const i=super.finalizeStyles(t),r=this.shadowRootOptions===Mx;return this.runtime?.commonStyles===void 0||r?i:[this.runtime.commonStyles,...i]}static createProperty(t,i){const r=typeof i=="number"?i:Array.isArray(i)?i[0]:0,s=Array.isArray(i)?i[1]:void 0;super.createProperty(t,{attribute:r&1&&typeof t=="string"?i3(t):!1,reflect:!!(r&2),type:r&4?Boolean:r&8?Number:void 0,state:!!(r&16),readOnly:!!(r&32),noAccessor:!!(r&64),...s})}static{this.lumina=!0}connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const t=!this.manager.connectedCalled;super.connectedCallback(),t&&queueMicrotask(()=>this._load().catch(i=>{this._postLoaded.reject(i),setTimeout(()=>{throw i})}))}createRenderRoot(){const t=this.el.shadowRoot,i=this.constructor,r=i.shadowRootOptions,n=t??(r===Mx?this.el:this.el.attachShadow(r));if(Object.defineProperty(this,"shadowRoot",{value:n}),t)return Dh.prototype.createRenderRoot.call(this),t;if(this.isConnected){const o=n.getRootNode();o.adoptedStyleSheets=[...o.adoptedStyleSheets,...i.elementStyles.map(a=>"styleSheet"in a?a.styleSheet:a)]}return n}async _load(){const t=this.el._ancestorLoad??RL(this.el);t&&await t,await this.manager._load(),this._enableUpdating(!0),this.performUpdate(),this._postLoad.resolve(),await Promise.resolve();const i=this._offspring.filter(r=>!r.manager?.loadedCalled);i.length&&await Promise.allSettled(i.map(async r=>await r.componentOnReady())),this._offspring.length=0,this.el.setAttribute(this.constructor.runtime.hydratedAttribute,""),this.manager._loaded(),this._postLoaded.resolve()}shouldUpdate(t){return this.$changes=t,this._originalShouldUpdate?.(t)??!0}listen(t,i,r){const s=i?.bind(this)??i;this.manager.onLifecycle(()=>(this.el.addEventListener(t,s,r),()=>this.el.removeEventListener(t,s,r)))}listenOn(t,i,r,s){const n=r?.bind(this)??r;this.manager.onLifecycle(()=>(t.addEventListener(i,n,s),()=>t.removeEventListener(i,n,s)))}async componentOnReady(){return await this._postLoaded.promise,this}};lk.$createEvent=ak;function BZ(e){let t;const i=s=>{t=new URL(s,globalThis.location?.href||void 0).href},r={...e,getAssetPath(s){const n=new URL(s,t);return n.origin!==globalThis.location?.origin?n.href:n.pathname},setAssetPath:i,customElement(s,n){n.runtime=r,n.tagName=s,customElements.get(s)||customElements.define(s,n)}};return i(e.defaultAssetPath),r}var zu=e=>typeof e=="object"&&e!=null?DZ(e):e,Z$=e=>typeof e=="object"&&e!=null?UZ(e):e,GZ=Gi;function Zwe(e,t,i){i==null?e.removeAttribute(t):e.setAttribute(t,i)}var Kwe={toAttribute:e=>e===!0?"":e===!1?null:e};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const zZ=BZ({defaultAssetPath:"https://js.arcgis.com/map-components/4.32/",hydratedAttribute:"hydrated"}),{customElement:qZ,getAssetPath:HZ,setAssetPath:Xwe}=zZ;let mg=class extends Xe{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};g([A({readOnly:!0})],mg.prototype,"version",null),mg=g([ie("esri.views.layers.support.ClipArea")],mg);const WZ=mg;var Ix;let Ec=Ix=class extends WZ{constructor(e){super(e),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new Ix({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};g([A({type:[Number,String],json:{write:!0}})],Ec.prototype,"left",void 0),g([A({type:[Number,String],json:{write:!0}})],Ec.prototype,"right",void 0),g([A({type:[Number,String],json:{write:!0}})],Ec.prototype,"top",void 0),g([A({type:[Number,String],json:{write:!0}})],Ec.prototype,"bottom",void 0),Ec=Ix=g([ie("esri.views.layers.support.ClipRect")],Ec);const K0=Ec;function YZ(e,t){const i=10**t;return Math.round(e*i)/i}const X0={left:0,right:0,top:0,bottom:0};let Yr=class extends Hi{constructor(t){super(t),this._leadingClips=new Map,this._trailingClips=new Map,this.direction="horizontal",this.leadingLayers=new mt,this.max=100,this.min=0,this.precision=4,this.step=.5,this.stepMultiplier=10,this.trailingLayers=new mt,this.view=null}initialize(){this.addHandles([ar(()=>[this.view,this.view?.ready,this.position,this.direction],()=>this._clipLayers(),jy),ar(()=>this.leadingLayers.toArray(),()=>this._clipLeadingLayers(),jy),ar(()=>this.trailingLayers.toArray(),()=>this._clipTrailingLayers(),jy)])}destroy(){this._removeExistingClips()}get position(){return 25}set position(t){const{precision:i,min:r,max:s}=this;this._set("position",YZ(Math.max(Math.min(t,s),r),i))}get state(){return this.view?.ready?"ready":"disabled"}_clipLayers(){this._clipLeadingLayers(),this._clipTrailingLayers()}_clipLeadingLayers(){this._removeClips("leading");const{leadingLayers:t}=this;t.forEach(i=>this._clipLayer({layer:i,type:"leading"}))}_clipTrailingLayers(){this._removeClips("trailing");const{trailingLayers:t}=this;t.forEach(i=>this._clipLayer({layer:i,type:"trailing"}))}async _getLayerView(t){const{view:i}=this;if(!t||!i)return null;const r=await i.whenLayerView(t);return"clips"in r?r:null}_getVerticalClipRect(t){const{position:i}=this;return t==="leading"?new K0({...X0,bottom:100-i+"%"}):t==="trailing"?new K0({...X0,top:`${i}%`}):null}_getHorizontalClipRect(t){const{position:i}=this;return t==="leading"?new K0({...X0,right:100-i+"%"}):t==="trailing"?new K0({...X0,left:`${i}%`}):null}_getClipRect(t){const{direction:i}=this;return i==="vertical"?this._getVerticalClipRect(t):i==="horizontal"?this._getHorizontalClipRect(t):null}async _clipLayer(t){const{_leadingClips:i,_trailingClips:r}=this,{layer:s,type:n}=t,o=n==="trailing"?r:n==="leading"?i:null,a=await this._getLayerView(s);if(!(a&&"clips"in a&&o&&a.hasOwnProperty("clips")))return;const l=o.get(a);l&&a.clips.remove(l);const c=this._getClipRect(n);c&&(o.set(a,c),a.clips.add(c))}_removeClips(t){const{_leadingClips:i,_trailingClips:r}=this,s=t==="trailing"?r:t==="leading"?i:null;s&&(s.forEach((n,o)=>{o&&o.hasOwnProperty("clips")&&o.clips.remove(n)}),s.clear())}_removeExistingClips(){this._removeClips("leading"),this._removeClips("trailing")}};g([A()],Yr.prototype,"direction",void 0),g([A({type:mt,nonNullable:!0})],Yr.prototype,"leadingLayers",void 0),g([A({readOnly:!0})],Yr.prototype,"max",void 0),g([A({readOnly:!0})],Yr.prototype,"min",void 0),g([A()],Yr.prototype,"position",null),g([A()],Yr.prototype,"precision",void 0),g([A({readOnly:!0})],Yr.prototype,"state",null),g([A()],Yr.prototype,"step",void 0),g([A()],Yr.prototype,"stepMultiplier",void 0),g([A({type:mt,nonNullable:!0})],Yr.prototype,"trailingLayers",void 0),g([A()],Yr.prototype,"view",void 0),Yr=g([ie("esri.widgets.Swipe.SwipeViewModel")],Yr);const JZ=Yr;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const ZZ=bZ(HZ);var KZ=typeof window<"u"&&"$arcgis"in window&&typeof window.$arcgis=="object"&&"import"in window.$arcgis&&!("forceESM"in window.$arcgis);function XZ(e){return e.default!==void 0}async function QZ(){if(KZ)return await window.$arcgis.import("esri/core/reactiveUtils");const e=await ve(()=>Promise.resolve().then(()=>wV),void 0,import.meta.url);return XZ(e)?e.default:e}var k_;async function uk(){return k_??(k_=QZ()),await k_}var eK=class extends jL{constructor(e,t,i){super(e),this._loadAccessor=t,this._options=i,this._watchedProperties=new Map,this._isBinding={value:!0},this.setProvisionalExports(R_.makeGetterProxy(e,this._watchedProperties,this._isBinding,this.constructor.allowedPropNameMismatches)),VL(e,r=>{r&&(this._instancePropName=r)},this.exports)}hostConnected(){this._isBinding.value=!1}async hostLoad(){this.reactiveUtils=await uk();const e=this.component,t=this._gatherParameters(),i=this._options?.editConstructorProperties?.call(e,t)??t,r=i instanceof Promise?await i:i,s=e,n=typeof this._instancePropName=="string"?s[this._instancePropName]:void 0;n!=null&&n!==this.exports?(this._instance=n,n.set(r)):this._instance=await this._createInstance(r),!e.manager.destroyed&&(R_.watchComponentUpdates(this,this._instance,this._watchedProperties),R_.watchAccessorUpdates(this,this._instance,this._watchedProperties),this.exports=this._instance)}_gatherParameters(){return Object.fromEntries(Array.from(this._watchedProperties,([i,r])=>[r,this.component[i]]).filter(([,i])=>i!==void 0))}async _createInstance(e){return this._isAccessorConstructor(this._loadAccessor)?new this._loadAccessor(e):await this._loadAccessor(e)}_isAccessorConstructor(e){return"prototype"in e&&"declaredClass"in e.prototype}hostDestroy(){this._instance&&this._instance.destroy()}async reCreate(){this.hostDestroy(),await this.hostLoad()}},R_={makeGetterProxy:(e,t,i,r)=>new Proxy({},{has:(s,n)=>typeof n=="string"||n in s,get:(s,n)=>{const o=Reflect.get(s,n);if(typeof n=="symbol"||n in Promise.prototype)return o;const a=n in s,l=i?.value??!0;if(a||!l)return o;if(!t.has(n))return a3(e,c=>{c!==void 0&&t.set(c.key,n)},o)}}),watchComponentUpdates(e,t,i){function r(a,l){const c=i.get(l),f=t[c];return typeof f=="boolean"&&c!==l&&l.toLowerCase().includes("disable")?!f:f}const s=(a,l,c)=>{const f=i.get(c),d=t[f],p=typeof d=="boolean"&&f!==c&&c.toLowerCase().includes("disable");if((p?!d:n.manager.isLit?d??void 0:d)===a)return a;t[f]=p?!a:a;const v=t[f];return p?!v:v},n=e.component,o=n.manager.internals;i.forEach((a,l)=>{o.accessorGetter[l]=r,o.accessorSetter[l]=s})},watchAccessorUpdates(e,t,i){const{component:r}=e,s=r,n=t,o=tK(t);rZ(()=>i.forEach((a,l)=>{if(o.has(a))return;const c=s[l];let f=n[a];r.manager.isLit&&(f??(f=void 0));const p=typeof c=="boolean"&&a!==l&&l.toLowerCase().includes("disable")?!c:c;p!=null&&f!==p&&(n[a]=p)})),e.onLifecycle(()=>{if(!t.destroyed)return Array.from(i,([a,l])=>e.reactiveUtils.watch(()=>n[l],()=>{const c=n[l],d=typeof c=="boolean"&&l!==a&&a.toLowerCase().includes("disable")?!c:c;iZ(()=>{s[a]=d})},{initial:!0}))})},reEmitAccessorEvents(e,t,i,r){if(!("on"in t&&typeof t.on=="function"))return;const n=Object.entries(e.component).map(([l,c])=>{const f=c;if(!l.startsWith(r)||l===r||typeof f!="object"||f===null||!("emit"in f)||typeof f.emit!="function")return;const d=f.emit,p=l.slice(r.length);return[i3(p).toLowerCase(),d]}).filter(kL);if(n.length===0)return;const o=t,a=()=>o;e.onLifecycle(()=>{if(!t.destroyed)return n.map(([l,c])=>i.on(a,l,c))})},async reCreate(e,t){const i=t.manager.useRefSync(e);i!==void 0&&await i.reCreate()}};function tK(e){const i=Object.entries(e.__accessor__?.metadata??{});return new Set(i.filter(([r,s])=>s?.readOnly===!0).map(([r])=>r))}function exe(e,t){const i=Zf(),r=i.manager,s=uk();r.onLoaded(()=>{s.then(o=>r.onLifecycle(()=>o.on(e,t,n.emit)))});const n=i.constructor.$createEvent();return n}/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */function Q0(e){e.el.childElem&&(e.el.childElem.ownedBy=e.el);const t=iK(e);if(!t){const i=aK(e.referenceElement);if(!i){hk(e);return}return X$(i,e,!0),i}return rK(t,e.el.parent)||(e.el.parent=t,t.tagName.toLowerCase()==="arcgis-expand"?sK(t,e):t.tagName.toLowerCase()==="arcgis-placement"?nK(t,e):X$(t,e,!1)),t}function iK({el:e}){for(let t=e.parentElement;t;t=t?.parentElement??null){if(K$.has(t.tagName.toLowerCase()))return t;if("ownedBy"in t&&t.ownedBy instanceof HTMLElement&&K$.has(t.ownedBy.tagName.toLowerCase()))return t.ownedBy}}const K$=new Set(["arcgis-map","arcgis-scene","arcgis-link-chart","arcgis-expand","arcgis-placement"]);function rK(e,t){if(e!==t)return!1;const i=e.tagName.toLowerCase();return i==="arcgis-expand"||i==="arcgis-placement"}function K1(e,t,i="arcgisReady"){const r=e;if(typeof r.view?.ready=="boolean")t(r.view);else{let s=function(n){n.target===e&&(K1(e,t,i),e.removeEventListener(i,s))};e.addEventListener(i,s)}}const sK=(e,t)=>K1(e,i=>{t.el.childElem&&e.content!=null&&e.content.append(t.el.childElem),e.expandIcon=t.icon||t.widget?.icon||e.expandIcon,t.position=e.position,t.el.view=i}),nK=(e,t)=>K1(e,i=>{t.el.childElem&&t.el.append(t.el.childElem),t.position=e.position,t.el.view=i}),X$=(e,t,i)=>K1(e,r=>{i?hk(t):t.el.childElem&&oK(e,t),t.el.view=r},"arcgisViewReadyChange");function oK(e,t){const i=t.el.childElem??t.el,r=[...e.children],s={};for(const a of r){const l=a.getAttribute("position")??"manual";s[l]??=[],s[l].push({child:a,position:l,index:r.indexOf(a)})}const n=s[t.position??"manual"]?.findIndex(({child:a})=>a===t.el),o=e.view.ui;o.remove(i),o.add(i,{position:t.position,index:n})}function hk(e){e.el.childElem&&(e.el.shadowRoot??e.el).append(e.el.childElem)}function aK(e){return typeof e!="string"?e??void 0:(e.includes("#")||e.includes(".")||e.includes("[")?void 0:document.querySelector(`#${e}`))??document.querySelector(e)??void 0}/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const lK=(e,t)=>(i,r)=>uK(i,e,r);let cK=class extends eK{hostConnected(){this.component.manager.loadedCalled&&Q0(this.component)}async hostLoad(){await super.hostLoad(),!this.component.manager.destroyed&&this._watchMetaProperties()}hostLoaded(){const{el:t}=this.component,i=t.shadowRoot?.firstElementChild??t.firstElementChild??void 0;t.childElem=i??t.childElem;let r=!1;const s=this.component.el.view;Object.defineProperty(this.component.el,"view",{get:()=>this._instance.view,set:n=>{const o=this.component.el.view,a=n;this._instance.view=a,this._instance.map=a?.map,this._watchViewDestroy(),this.component.requestUpdate("view",o),n&&!r&&(r=!0,this.component.arcgisReady.emit())},configurable:!0,enumerable:!0}),s&&(this._instance.view=s),this.component.el.isConnected&&(Q0(this.component),this._watchViewDestroy())}hostDisconnected(){typeof this.component.el.childElem=="object"&&this.component.el.view?.ui?.remove(this.component.el.childElem)}hostDestroy(){super.hostDestroy(),this._watchViewDestroyHandle?.remove()}_watchMetaProperties(){af(this.component,"position",t=>{this.component.el.childElem!=null&&typeof t=="string"&&Q0(this.component)}),af(this.component,"referenceElement",()=>Q0(this.component))}_watchViewDestroy(){this._watchViewDestroyHandle?.remove(),this._watchViewDestroyHandle=this.reactiveUtils.when(()=>this.component.el.view?.destroyed===!0,()=>void this.component.destroy().catch(console.error),{sync:!0})}};const uK=BL(cK);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const Q$={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",disabledElement:"esri-disabled-element",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",noBookmarksIcon:"esri-widget__no-bookmark-icon",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",ui:"esri-component",widget:"esri-widget esri-component",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const eM={arrowDown:"esri-icon-arrow-down",arrowUp:"esri-icon-arrow-up",basemap:"esri-icon-basemap",bookmark:"esri-icon-bookmark",calendar:"esri-icon-calendar",checkMark:"esri-icon-check-mark",checkboxUnchecked:"esri-icon-checkbox-unchecked",close:"esri-icon-close",collapse:"esri-icon-collapse",defaultAction:"esri-icon-default-action",description:"esri-icon-description",directions:"esri-icon-directions",dockBottom:"esri-icon-dock-bottom",dockLeft:"esri-icon-dock-left",dockRight:"esri-icon-dock-right",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",download:"esri-icon-download",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",edit:"esri-icon-edit",elevationProfile:"esri-icon-elevation-profile",environmentSettings:"esri-icon-environment-settings",erase:"esri-icon-erase",error:"esri-icon-error",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",gear:"esri-icon-gear",handleHorizontal:"esri-icon-handle-horizontal",handleVertical:"esri-icon-handle-vertical",home:"esri-icon-home",icon:"esri-icon",launchLinkExternal:"esri-icon-launch-link-external",layerList:"esri-icon-layer-list",layers:"esri-icon-layers",left:"esri-icon-left",leftArrows:"esri-icon-left-arrow",leftTriangleArrow:"esri-icon-left-triangle-arrow",lineOfSight:"esri-icon-line-of-sight",link:"esri-icon-link",linkExternal:"esri-icon-link-external",linkHorizontal:"esri-icon-link-horizontal",loadingIndicator:"esri-icon-loading-indicator",locate:"esri-icon-locate",locateCircled:"esri-icon-locate-circled",locked:"esri-icon-locked",mapPin:"esri-icon-map-pin",maximize:"esri-icon-maximize",measure:"esri-icon-measure",measureArea:"esri-icon-measure-area",measureBuildingHeightShadow:"esri-icon-measure-building-height-shadow",measureLine:"esri-icon-measure-line",menu:"esri-icon-menu",minimize:"esri-icon-minimize",minus:"esri-icon-minus",nonVisible:"esri-icon-non-visible",northNavigation:"esri-icon-north-navigation",noticeTriangle:"esri-icon-notice-triangle",organization:"esri-icon-organization",pan:"esri-icon-pan",pan2:"esri-icon-pan2",partlyCloudy:"esri-icon-partly-cloudy",pause:"esri-icon-pause",play:"esri-icon-play",playCircled:"esri-icon-play-circled",plus:"esri-icon-plus",polyline:"esri-icon-polyline",printer:"esri-icon-printer",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",rightArrow:"esri-icon-right-arrow",rightTriangleArrow:"esri-icon-right-triangle-arrow",rotate:"esri-icon-rotate",save:"esri-icon-save",search:"esri-icon-search",settings2:"esri-icon-settings2",slice:"esri-icon-slice",swap:"esri-icon-swap",table:"esri-icon-table",timeClock:"esri-icon-time-clock",tracking:"esri-icon-tracking",trash:"esri-icon-trash",unlockedLinkHorizontal:"esri-icon-unlocked-link-horizontal",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",vertexGps:"esri-icon-vertex-gps",visible:"esri-icon-visible",zoomInFixed:"esri-icon-zoom-in-fixed",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomOutFixed:"esri-icon-zoom-out-fixed",zoomToObject:"esri-icon-zoom-to-object"};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const hK=EZ`@layer{arcgis-swipe,.arcgis-swipe{position:absolute;margin:0;background:transparent!important;padding:0;width:100%;height:100%;overflow:hidden;user-select:none}.arcgis-swipe,.arcgis-ui .arcgis-swipe{pointer-events:none!important}.arcgis-swipe__container{position:absolute;z-index:1;margin:0;outline:0;border:0;padding:0;overflow:hidden;pointer-events:auto;touch-action:none;outline-color:transparent}.arcgis-swipe--horizontal .arcgis-swipe__container{margin-left:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:col-resize;height:100%}.arcgis-swipe--vertical .arcgis-swipe__container{margin-top:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:row-resize;width:100%}.arcgis-swipe--disabled .arcgis-swipe__container{cursor:default;pointer-events:none}.arcgis-swipe__divider{position:absolute;background-color:var(--calcite-color-background)}.arcgis-swipe--horizontal .arcgis-swipe__divider{top:0;left:calc(var(--calcite-spacing-xxxl) / 2);margin-left:calc(var(--calcite-border-width-lg) * .5 * -1);border-right:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-left:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:var(--calcite-border-width-lg);height:100%}.arcgis-swipe--vertical .arcgis-swipe__divider{top:calc(var(--calcite-spacing-xxxl) / 2);left:0;margin-top:calc(var(--calcite-border-width-lg) * .5 * -1);border-top:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-bottom:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:100%;height:var(--calcite-border-width-lg)}.arcgis-swipe__handle{display:flex;position:relative;align-items:center;justify-content:center;border:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-radius:var(--calcite-corner-radius-round);background-color:var(--calcite-color-background);width:var(--calcite-spacing-xxxl);height:var(--calcite-spacing-xxxl);color:var(--calcite-color-border-input)}.arcgis-swipe__handle--hidden{visibility:hidden}.arcgis-swipe--vertical .arcgis-swipe__handle{rotate:90deg}.arcgis-swipe__handle-icon{position:relative;z-index:2}.arcgis-swipe--horizontal .arcgis-swipe__handle{top:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe--vertical .arcgis-swipe__handle{left:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe__container:focus .arcgis-swipe__handle,.arcgis-swipe__container:focus .arcgis-swipe__divider{outline:inset 2px var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)))}.arcgis-swipe__container:focus .arcgis-swipe__handle{outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}}`,Ro="arcgis-swipe",Bn={base:Ro,baseDisabled:`${Ro}--disabled`,vertical:`${Ro}--vertical`,horizontal:`${Ro}--horizontal`,container:`${Ro}__container`,divider:`${Ro}__divider`,handle:`${Ro}__handle`,handleHidden:`${Ro}__handle--hidden`,handleIcon:`${Ro}__handle-icon`},fK=lK(JZ);let dK=class extends lk{constructor(){super(...arguments),this._container=null,this._swiping=!1,this.messages=ZZ({}),this._pointerOffset=0,this.viewModel=fK(this),this._onContainerPointerDown=t=>{t.preventDefault();const{_container:i}=this;i&&document.activeElement!==this.el&&i.focus(),this._swiping=!0,this._calculatePointerOffset(t)},this.autoDestroyDisabled=!1,this.direction=this.viewModel.direction,this.disabled=!1,this.hideDivider=!1,this.hideHandle=!1,this.icon="compare",this.label=this.messages.componentLabel,this.leadingLayers=this.viewModel.leadingLayers,this.position="manual",this.swipePosition=this.viewModel.position,this.state=this.viewModel.state,this.trailingLayers=this.viewModel.trailingLayers,this.arcgisPropertyChange=_Z()("state"),this.arcgisReady=jZ()}static{this.properties={autoDestroyDisabled:5,direction:3,disabled:7,hideDivider:7,hideHandle:7,icon:3,label:1,leadingLayers:0,messageOverrides:0,position:3,swipePosition:9,referenceElement:1,state:3,trailingLayers:0}}static{this.shadowRootOptions=Mx}static{this.styles=hK}async destroy(){await this.manager.destroy()}loaded(){this.listenOn(document,"pointermove",this._onContainerPointerMove),this.listenOn(document,"pointerup",this._onContainerPointerUp)}_calculatePointerOffset(t){const{direction:i}=this,r=t.target,s=(i==="vertical"?r.clientHeight:r.clientWidth)/2,n=r.getBoundingClientRect(),o=t.clientX-n.left,a=t.clientY-n.top;this._pointerOffset=i==="vertical"?a-s:o-s}_onContainerPointerUp(t){this._swiping&&(t.preventDefault(),this._swiping=!1)}_onContainerPointerMove(t){if(!this._swiping)return;t.preventDefault();const{_pointerOffset:i,el:r,direction:s}=this,{clientX:n,clientY:o}=t,{top:a,left:l,width:c,height:f}=r.getBoundingClientRect(),d=s==="vertical"?f:c,p=(s==="vertical"?o-a-i:n-l-i)/d*100;this.swipePosition=p}_getKeyPosition(t){const{key:i}=t,{swipePosition:r}=this,{max:s,min:n,step:o,stepMultiplier:a,direction:l}=this.viewModel,c=o*a;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"].includes(i)&&(t.preventDefault(),t.stopPropagation()),l==="vertical"?i==="ArrowDown"||i==="ArrowRight":i==="ArrowUp"||i==="ArrowRight"){const f=t.shiftKey?c:o;return r+f}if(l==="vertical"?i==="ArrowUp"||i==="ArrowLeft":i==="ArrowDown"||i==="ArrowLeft"){const f=t.shiftKey?c:o;return r-f}return i==="Home"?n:i==="End"?s:(l==="vertical"?i==="PageDown":i==="PageUp")?r+c:(l==="vertical"?i==="PageUp":i==="PageDown")?r-c:null}_onContainerKeyDown(t){const i=this._getKeyPosition(t);typeof i=="number"&&(this.swipePosition=i)}render(){const{state:t,direction:i}=this.viewModel,r=t==="disabled"||this.disabled,s={[Q$.disabled]:r,[Bn.baseDisabled]:r,[Bn.vertical]:i==="vertical",[Bn.horizontal]:i==="horizontal"};return md`<div class=${zu(O_(Bn.base,Q$.widget,s))}>${t==="disabled"?null:this._renderContainer()}</div>`}_renderHandle(){const{direction:t}=this.viewModel,{hideHandle:i}=this,r={[eM.dragHorizontal]:t==="vertical",[eM.dragVertical]:t==="horizontal"},s=O_(Bn.handle,!!i&&Bn.handleHidden);return md`<div class=${zu(s)} role=presentation><span aria-hidden=true class=${zu(O_(Bn.handleIcon,r))}></span></div>`}_renderDivider(){return this.hideDivider?null:md`<div class=${zu(Bn.divider)} role=presentation></div>`}_renderContent(){return[this._renderDivider(),this._renderHandle()]}_renderContainer(){const{disabled:t,viewModel:i}=this,{max:r,min:s,direction:n,position:o}=i,a=this.label??this.messages.dragLabel??"",l=`${o}%`,c={top:n==="vertical"?l:void 0,left:n==="vertical"?void 0:l},f=this._renderContent();return t?md`<div class=${zu(Bn.container)} role=presentation style=${Z$(c)}>${f}</div>`:md`<div @pointerdown=${this._onContainerPointerDown} .ariaLabel=${a} .ariaOrientation=${n} .ariaValueMax=${`${r}`} .ariaValueMin=${`${s}`} .ariaValueNow=${`${o}`} .ariaValueText=${l} class=${zu(Bn.container)} @keydown=${this._onContainerKeyDown} role=slider style=${Z$(c)} tabindex=0 title=${a??GZ} touch-action=none>${f}</div>`}};qZ("arcgis-swipe",dK);class Mt{static async Basemap(t){const i=await ve(()=>import("./Basemap-WwZupoib.js").then(r=>r.B),__vite__mapDeps([34,1,35,33,3]),import.meta.url);return Reflect.construct(i.default,[t])}static async Map(t){const i=await ve(()=>import("./Map-CTJWvBgV.js").then(r=>r.M),__vite__mapDeps([57,34,1,35,33,3,58,59,60,61,45,41]),import.meta.url);return Reflect.construct(i.default,[t])}static async MapView(t){const i=await ve(()=>import("./MapView-EqsuvpWT.js").then(r=>r.P),__vite__mapDeps([62,1,63,9,11,64,58,52,3,43,47,48,4,5,65,57,34,35,33,59,60,61,45,41,66,44,32,10,67,24,25,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,6,92]),import.meta.url);return Reflect.construct(i.default,[t])}static async FeatureLayer(t){const i=await ve(()=>import("./FeatureLayer-BdnRYRUZ.js").then(r=>r.F),__vite__mapDeps([93,1,37,38,39,40,41,33,42,43,24,25,45,52,9,3,94,95,96,97,5,67,98,99,100,101,102,103,104,105,55,106,107,108,50,109,110,111,59,60,61,112,113,114,115,116,117,44,32,118,119,120,15,16,64,31,121,122,123,124,125,126,127,128,129,130,131,132]),import.meta.url);return Reflect.construct(i.default,[t])}static async GraphicsLayer(t){const i=await ve(()=>import("./GraphicsLayer-dZfMZHiC.js"),__vite__mapDeps([133,66,45,1,41,109,38,110,111,59,60,61,39,40]),import.meta.url);return Reflect.construct(i.default,[t])}static async ImageryLayer(t){const i=await ve(()=>import("./ImageryLayer-CDY7Q50y.js").then(r=>r.I),__vite__mapDeps([134,1,37,38,39,40,41,33,42,43,45,135,24,25,136,137,138,13,139,125,61,126,99,100,101,102,31,32,140,52,9,3,120,105,103,104,55,76,77,78,141,110,111,59,60,142,121,122,123,15,16,143,67,95,144,145,146,147,29,30,28,94,148,50,109,112,128,129,130,132]),import.meta.url);return Reflect.construct(i.default,[t])}static async MapImageLayer(t){const i=await ve(()=>import("./MapImageLayer-DoOISIld.js"),__vite__mapDeps([149,35,37,38,39,40,41,1,33,42,43,113,45,96,97,5,24,25,67,98,99,100,101,102,103,104,105,55,106,107,108,150,64,58,151,77,144,145,76,78,146,147,29,30,28,94,152,27,95,148,31,32,119,120,15,16,121,122,123,124,125,61,126,112,153,50,109,110,111,59,60,128,129,154,155,140,130]),import.meta.url);return Reflect.construct(i.default,[t])}static async OpenStreetMapLayer(t){const i=await ve(()=>import("./OpenStreetMapLayer-CdCtQpZx.js").then(r=>r.O),__vite__mapDeps([156,37,38,39,40,41,1,33,42,43,45,109,110,111,59,60,61,128,140,47,48]),import.meta.url);return Reflect.construct(i.default,[t])}static async TileLayer(t){const i=await ve(()=>import("./TileLayer-BHrzkSe7.js"),__vite__mapDeps([157,35,37,38,39,40,41,1,33,42,43,45,96,97,5,24,25,67,98,99,100,101,102,103,104,105,55,106,107,108,46,47,48,49,15,16,29,150,64,58,151,77,144,145,76,78,146,147,30,28,94,152,27,95,148,31,32,119,120,121,122,123,124,125,61,126,112,153,50,109,110,111,59,60,128,140]),import.meta.url);return Reflect.construct(i.default,[t])}static async WMSLayer(t){const i=await ve(()=>import("./WMSLayer-BvhKw1wW.js").then(r=>r.W),__vite__mapDeps([158,58,37,38,39,40,41,1,33,42,43,113,45,109,110,111,59,60,61,128,129,32,159,140]),import.meta.url);return Reflect.construct(i.default,[t])}static async ArcadeExecutor(t,i){const{createArcadeExecutor:r}=await ve(async()=>{const{createArcadeExecutor:s}=await import("./arcade-CF1ToAo1.js");return{createArcadeExecutor:s}},__vite__mapDeps([160,22,18,93,1,37,38,39,40,41,33,42,43,24,25,45,52,9,3,94,95,96,97,5,67,98,99,100,101,102,103,104,105,55,106,107,108,50,109,110,111,59,60,61,112,113,114,115,116,117,44,32,118,119,120,15,16,64,31,121,122,123,124,125,126,127,128,129,130,131,132]),import.meta.url);return await r(t,i)}static async ColorBackground(t){const i=await ve(()=>import("./ColorBackground-KAN9tKsU.js"),__vite__mapDeps([92,1]),import.meta.url);return Reflect.construct(i.default,[t])}static async FeatureFilter(t){const i=await ve(()=>import("./FeatureFilter-D3D8iaSa.js"),__vite__mapDeps([117,67,24,25,41,1]),import.meta.url);return Reflect.construct(i.default,[t])}static async FieldFromJson(t){return(await ve(()=>import("./Field-BRKBBmM6.js").then(r=>r.F),__vite__mapDeps([24,25]),import.meta.url)).default.fromJSON(t)}static async Query(){const t=await ve(()=>import("./Query-VeA4-Qk_.js").then(i=>i.Q),__vite__mapDeps([67,24,25,41]),import.meta.url);return Reflect.construct(t.default,[])}static async QueryByIds(t,i,r){const{executeForIds:s}=await ve(async()=>{const{executeForIds:n}=await import("./query-CztWLwcj.js");return{executeForIds:n}},__vite__mapDeps([161,162,67,24,25,41,148,77,145,76,78,146,147,29,30,28,94,43,1,95,163,106,164,165,166,167,168,169,107,32,144,152,27,170,171,172,173,174,175,176]),import.meta.url);return s(t,i,r)}static async RendererFromJson(t){const{fromJSON:i}=await ve(async()=>{const{fromJSON:r}=await import("./jsonUtils-DWiHYlpG.js");return{fromJSON:r}},__vite__mapDeps([118,119,120,99,100,101,102,40,105,1,15,16,64,31,32,121,122,123,124,125,61,126,98,103,104,55]),import.meta.url);return i(t)}}class Ve{wkid;latestWkid;wkt;constructor(t,i){typeof t=="string"?this.wkt=t:(this.wkid=t,this.latestWkid=i)}isEqual(t){return!!(this.isWebMercator()&&t.isWebMercator()||this.wkid&&t.wkid&&this.wkid===t.wkid||this.wkt&&t.wkt&&this.wkt===t.wkt||this.latestWkid&&t.latestWkid&&this.latestWkid===t.latestWkid)}clone(){const t=new Ve("");return t.latestWkid=this.latestWkid,t.wkid=this.wkid,t.wkt=this.wkt,t}lean(){const t={};return this.wkt?t.wkt=this.wkt:(t.wkid=this.wkid,this.latestWkid&&(t.latestWkid=this.latestWkid)),t}isWebMercator(){const t=[900913,3587,54004,41001,102113,102100,3785];return!!(this.wkid&&t.includes(this.wkid)||this.latestWkid&&t.includes(this.latestWkid))}static latLongSR(){return new Ve(4326)}static fromConfig(t){if(t.wkt)return new Ve(t.wkt);if(t.wkid)return new Ve(t.wkid,t.latestWkid);throw new Error("Could not parse config spatial reference object")}static parseSR(t){return t?t instanceof Ve?t.clone():typeof t=="string"&&t.startsWith("EPSG:")?new Ve(parseInt(t.substring(5).trim())):new Ve(t):Ve.latLongSR()}static fromESRI(t){if(t.wkt)return new Ve(t.wkt);{const i=t.toJSON().latestWkid,r=new Ve(t.wkid);return i&&(r.latestWkid=i),r}}toESRI(){return new Yi(this.lean())}static fromGeoJSON(t){const i=Ve.parseGeoJsonCrs(t);return i.substring(0,5)==="EPSG:"?new Ve(parseInt(i.slice(5))):new Ve(i)}static parseGeoJsonCrs(t){if(t){if(t.type==="name"){const i=/urn:ogc:def:crs:EPSG::(\d+)/,r=t.properties.name,s=r.match(i);if(s)return"EPSG:"+s[1];if(r.substring(0,7)!=="urn:ogc")return r}}else return"EPSG:4326";return console.error("Encountered unsupported GeoJSON CRS format. Defaulting to lat-long, resuling conversion is likely wrong",t),"EPSG:4326"}toGeoJSON(){const t={type:"name",properties:{name:""}};return this.wkt?t.properties.name=this.wkt:t.properties.name="urn:ogc:def:crs:EPSG::"+(this.latestWkid||this.wkid),t}}class Au{sr;id;constructor(t,i){this.id=t?t.toString():"",this.sr=Ve.parseSR(i)}get type(){return Ze.UNKNOWN}childIdGenerator(t){return`${this.id}-${t}`}toESRI(){throw new Error(`.toESRI not implemented on geometry type ${this.type}`)}toGeoJSON(){throw new Error(`.toGeoJSON not implemented on geometry type ${this.type}`)}invalid(){return this.type===Ze.NONE||this.type===Ze.UNKNOWN}geoJsonFactory(t,i){const r={type:t,coordinates:i};return this.sr&&(r.crs=this.sr.toGeoJSON()),r}}class Nl extends Au{constructor(){super("no_geometry")}get type(){return Ze.NONE}}let jr=class Qd extends Au{rawArray;constructor(t,i,r,s){super(t,i.sr||r),s?this.rawArray=i.slice():this.rawArray=Qd.parseXY(i)}get type(){return Ze.POINT}get x(){return this.rawArray[0]}set x(t){this.rawArray[0]=t}get y(){return this.rawArray[1]}set y(t){this.rawArray[1]=t}toArray(){return this.rawArray.slice()}static parseXY(t){let i;if(Array.isArray(t)&&t.length===2)i=t;else{if(t instanceof Qd)return t.toArray();i=[t.x,t.y]}if(isNaN(i[0])||isNaN(i[1]))throw new Error("Unsupported point format detected. Supported formats are two element array of numbers, or object with x and y properties containing numbers");return[parseFloat(i[0]),parseFloat(i[1])]}static fromESRI(t,i){return new Qd(i,[t.x,t.y],Ve.fromESRI(t.spatialReference),!0)}toESRI(){return new Pi({x:this.x,y:this.y,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new Qd(i,t.coordinates,Ve.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ui.POINT,this.toArray())}};class ns extends Au{rawArray;constructor(t,i,r,s){super(t,i.sr||r),s?this.rawArray=ns.arrayDeepCopy(i):i instanceof ns?this.rawArray=i.toArray():this.rawArray=ns.parsePointSet(i)}get pointArray(){return this.rawArray.map((t,i)=>new jr(this.childIdGenerator(i),t,this.sr,!0))}getAt(t){return new jr(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,i){this.rawArray[i]=jr.parseXY(t)}get length(){return this.rawArray.length}toArray(){return ns.arrayDeepCopy(this.rawArray)}static parsePointSet(t){if(Array.isArray(t)){if(t.length===0)throw new Error("no verticies provided");return t.map(i=>jr.parseXY(i))}else throw new Error("Bad geometry input encountered")}static arrayDeepCopy(t){return t.map(i=>i.slice())}}class Fh extends ns{constructor(t,i,r,s){super(t,i,r,s)}get type(){return Ze.MULTIPOINT}static fromESRI(t,i){return new Fh(i,t.points,Ve.fromESRI(t.spatialReference),!0)}toESRI(){return new k1({points:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new Fh(i,t.coordinates,Ve.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ui.MULTIPOINT,this.toArray())}}class yl extends ns{constructor(t,i,r,s){if(super(t,i,r,s),this.rawArray.length<2)throw new Error("lines require at least two verticies")}get type(){return Ze.LINESTRING}static fromESRI(t,i){return new yl(i,t.paths[0],Ve.fromESRI(t.spatialReference),!0)}toESRI(){return new Ym({paths:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new yl(i,t.coordinates,Ve.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ui.LINESTRING,this.toArray())}}class dn extends Au{rawArray;constructor(t,i,r,s){if(super(t,i.sr||r),s)this.rawArray=dn.arrayDeepCopy(i);else if(i instanceof dn)this.rawArray=i.toArray();else if(i instanceof ns)this.rawArray=[i.toArray()];else if(Array.isArray(i)){if(i.length===0)throw new Error("no lines provided");this.rawArray=i.map(n=>ns.parsePointSet(n))}else throw new Error("invalid lines format for MulitLineString")}get lineArray(){return this.rawArray.map((t,i)=>new yl(this.childIdGenerator(i),t,this.sr,!0))}getAt(t){return new yl(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,i){this.rawArray[i]=ns.parsePointSet(t)}get length(){return this.rawArray.length}get type(){return Ze.MULTILINESTRING}toArray(){return dn.arrayDeepCopy(this.rawArray)}static arrayDeepCopy(t){return t.map(i=>i.map(r=>r.slice()))}static fromESRI(t,i){return new dn(i,t.paths,Ve.fromESRI(t.spatialReference),!0)}toESRI(){return new Ym({paths:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new dn(i,t.coordinates,Ve.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ui.MULTILINESTRING,this.toArray())}}class Uc extends ns{constructor(t,i,r,s){if(super(t,i,r,s),Uc.closeRing(this.rawArray),this.length<4)throw new Error("Linear Ring must have at least 3 distinct vertices.")}get type(){return Ze.LINEARRING}updateAt(t,i){const r=this.length-1;i===0?super.updateAt(t,r):i===r&&super.updateAt(t,0),super.updateAt(t,i)}static closeRing(t){const i=t[0],r=t[t.length-1];(i[0]!==r[0]||i[1]!==r[1])&&t.push(i.slice())}static fromESRI(t,i){return new Uc(i,t.rings[0],Ve.fromESRI(t.spatialReference),!0)}toESRI(){return new iu({rings:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new Uc(i,t.coordinates,Ve.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ui.POLYGON,[this.toArray()])}}class _r extends Au{rawArray;constructor(t,i,r,s){super(t,i.sr||r),s?this.rawArray=_r.arrayDeepCopy(i):this.rawArray=_r.parsePolygon(i)}addLinearRings(t){t.forEach(i=>this.rawArray.push(i.toArray()))}get ringArray(){return this.rawArray.map((t,i)=>new Uc(this.childIdGenerator(i),t,this.sr,!0))}get type(){return Ze.POLYGON}toArray(){return _r.arrayDeepCopy(this.rawArray)}static parsePolygon(t){let i=[];if(t instanceof _r)return t.toArray();if(t instanceof dn)i=t.toArray();else if(t instanceof ns)i=[t.toArray()];else if(Array.isArray(t)){if(t.length===0)throw new Error("no rings provided");i=t.map(r=>ns.parsePointSet(r))}else throw new Error("invalid input format for parsePolygon");return i.forEach(r=>Uc.closeRing(r)),i}static arrayDeepCopy(t){return t.map(i=>i.map(r=>r.slice()))}static fromESRI(t,i){return new _r(i,t.rings,Ve.fromESRI(t.spatialReference),!0)}toESRI(){return new iu({rings:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new _r(i,t.coordinates,Ve.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ui.POLYGON,this.toArray())}}class ta extends Au{rawArray;constructor(t,i,r,s){super(t,i.sr||r),s?this.rawArray=ta.arrayDeepCopy(i):this.rawArray=ta.parseMultiPolygon(i)}addPolygon(t){this.rawArray.push(t.toArray())}get polygonArray(){return this.rawArray.map((t,i)=>new _r(this.childIdGenerator(i),t,this.sr,!0))}get type(){return Ze.MULTIPOLYGON}toArray(){return ta.arrayDeepCopy(this.rawArray)}static parseMultiPolygon(t){if(t instanceof ta)return t.toArray();if(t instanceof _r)return[t.toArray()];if(t instanceof dn||t instanceof ns)return[_r.parsePolygon(t)];if(Array.isArray(t)){if(t.length===0)throw new Error("no polygons provided");return t.map(i=>_r.parsePolygon(i))}else throw new Error("invalid input format for parseMultiPolygon")}static arrayDeepCopy(t){return t.map(i=>i.map(r=>r.map(s=>s.slice())))}static fromESRI(t,i){return new ta(i,[t.rings],Ve.fromESRI(t.spatialReference),!0)}toESRI(){const t=[];return this.toArray().forEach(i=>{i.forEach(r=>t.push(r))}),new iu({rings:t,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new ta(i,t.coordinates,Ve.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ui.MULTIPOLYGON,this.toArray())}}class ei extends Au{rawMin;rawMax;constructor(t,i,r,s){super(t,i.sr||s),this.rawMin=jr.parseXY(i),this.rawMax=jr.parseXY(r)}get type(){return Ze.EXTENT}get xmin(){return this.rawMin[0]}get ymin(){return this.rawMin[1]}get xmax(){return this.rawMax[0]}get ymax(){return this.rawMax[1]}center(){return new jr(this.id+"_centerPoint",[(this.xmax-this.xmin)/2+this.xmin,(this.ymax-this.ymin)/2+this.ymin],this.sr,!0)}expand(t){return ei.fromESRI(this.toESRI().expand(t),`${this.id}-expanded`)}clone(){return new ei(this.id,this.rawMin,this.rawMax,this.sr)}contains(t){return this.sr.isEqual(t.sr)?this.xmin<=t.x&&this.xmax>=t.x&&this.ymin<=t.y&&this.ymax>=t.y:(console.error("Extent.contains(point) must have point in same spatial reference as the extent."),!1)}toArray(){return[this.rawMin.slice(),this.rawMax.slice()]}toPolygonArray(){return[[this.rawMin.slice(),[this.xmin,this.ymax],this.rawMax.slice(),[this.xmax,this.ymin],this.rawMin.slice()]]}toPolygon(){return new _r(this.id,this.toPolygonArray(),this.sr,!0)}static fromParams(t,i,r,s,n,o){return new ei(t,[i,r],[s,n],o)}static fromConfig(t,i){return new ei(t,[i.xmin,i.ymin],[i.xmax,i.ymax],Ve.fromConfig(i.spatialReference))}isEqual(t){return t?this.xmin===t.xmin&&this.ymin===t.ymin&&this.xmax===t.xmax&&this.ymax===t.ymax:!1}static fromESRI(t,i){return ei.fromParams(i,t.xmin,t.ymin,t.xmax,t.ymax,Ve.fromESRI(t.spatialReference))}toESRI(){return new Js({xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:this.sr.toESRI()})}static fromArcServer(t,i){return ei.fromESRI(Js.fromJSON(t),i)}static fromGeoJSON(t,i){if(t.coordinates.length!==5)throw new Error("Extent expected a four vertex polygon from GeoJSON");const r=t.coordinates[0].slice(),s=r.slice();return[1,2,3].forEach(n=>{[0,1].forEach(o=>{const a=t.coordinates[n];r[o]>a[o]&&(r[o]=a[o]),s[o]<a[o]&&(s[o]=a[o])})}),new ei(i,r,s,Ve.fromGeoJSON(t.crs))}toGeoJSON(){return this.geoJsonFactory(ui.POLYGON,this.toPolygonArray())}}class pa{c;constructor(t){if(!t){this.c=[0,0,0,1];return}if(Array.isArray(t)){const i=t.length;if(i<3||i>4){console.error("Invalid colour value array passed to Colour class"),this.c=[0,0,0,1];return}this.c=t.map((r,s)=>s===3?r:parseInt(r)),i===3&&this.c.push(1)}else if(typeof t=="string"){const i=t.substring(0,1)==="#"?t.substring(1):t;this.c=[0,2,4,6].map(r=>{const s=i.substring(r,r+2);return pa.hexToInt(s)})}else this.c=[t.r,t.g,t.b,t.a??1];this.c.forEach((i,r)=>{i<0&&(console.error("Negative value passed to colour"),this.c[r]=0),i>255&&(console.error("Rotund value passed to colour"),this.c[r]=255)}),this.c[3]>1&&(this.c[3]=this.c[3]/255)}get rgba(){return this.c.slice()}get hex(){const t=this.rgba;return t[3]=t[3]*255,`#${t.map(i=>pa.intToHex(i)).join("")}`}get r(){return this.c[0]}get g(){return this.c[1]}get b(){return this.c[2]}get a(){return this.c[3]}toESRI(){return new dt(this.rgba)}toArcServer(){return[this.c[0],this.c[1],this.c[2],255*this.c[3]]}static hexToInt(t){return t.length===0?255:parseInt(t,16)}static intToHex(t){const i=t.toString(16);return i.length===1?`0${i}`:i}}class ia{toOptions(){throw new Error(".toOptions called on BaseStyle. Likely was not implemented on subclass.")}toESRI(){throw new Error(".toESRI called on BaseStyle. Likely was not implemented on subclass.")}static convToPoints(t){if(!(typeof t>"u"))if(typeof t=="string"){let i;const r=t.length;if(r===0)return;const s=t.substring(r-2);return s==="px"?i=parseFloat(t.substring(0,r-2))*1.333333:s==="pt"?i=parseFloat(t.substring(0,r-2)):i=parseFloat(t),i}else return t}}class fl extends ia{_height;_xOffset;_yOffset;_icon;_width;_size;_colour;_style;_outline;_path;_angle;constructor(t){if(t=t||{style:Vo.CIRCLE},super(),this._style=t.style||Vo.CIRCLE,t.style===Vo.ICON){const i=t;this._icon=i.icon||"",this._height=ia.convToPoints(i.height)||16.5,this._width=ia.convToPoints(i.width)||16.5,this._size=0,this._colour=new pa,this._outline=new po,this._path=""}else{const i=t;this._size=ia.convToPoints(i.size)||12,this._colour=new pa(i.colour??"#ffffff40"),this._outline=new po(i.outline),this._path=this._style===Vo.PATH&&i.path||"",this._height=0,this._width=0,this._icon=""}this._xOffset=ia.convToPoints(t.xOffset)||0,this._yOffset=ia.convToPoints(t.yOffset)||0,this._angle=t.angle||0}get colour(){return this.propGrouse(!1),this._colour}get styleType(){return this._style}get width(){return this.propGrouse(!0),this._width}get height(){return this.propGrouse(!0),this._height}get size(){return this.propGrouse(!1),this._size}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get angle(){return this._angle}get icon(){return this.propGrouse(!0),this._icon}get outline(){return this.propGrouse(!1),this._outline}get path(){return this.propGrouse(!1),this._path}propGrouse(t){this._style===Vo.ICON!==t&&console.warn(`Accessed a point style property that is invalid for the style type ${this._style}`)}toOptions(){const t={style:this.styleType,yOffset:this.yOffset,xOffset:this.xOffset,angle:this.angle};return this._style===Vo.ICON?{...t,icon:this.icon,width:this.width,height:this.height}:{...t,size:this.size,colour:this.colour.hex,path:this.path}}toESRI(){let t;return this.styleType===Vo.ICON?fl.isImageUrl(this.icon)?(t=new Yf,t.url=this.icon,t.width=this.width,t.height=this.height,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new So,t.color=new dt(this.colour.rgba),t.size=this.width,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new So,t.color=new dt(this.colour.rgba),t.size=this.size,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle,t.path=this.path,t.style=this.styleType,t.outline=this.outline.toESRI()),t}static fromESRI(t){const i={xOffset:t.xoffset,yOffset:t.yoffset,angle:t.angle};if(t.type==="simple-marker"){const r=i;r.style=t.style,r.colour=t.color.toRgba(),r.size=t.size,r.path=t.path,r.outline=po.fromESRI(t.outline).toOptions()}else{const r=i;r.style=Vo.ICON,r.width=t.width,r.height=t.height,r.icon=t.url}return new fl(i)}static fromArcServer(t){return fl.fromESRI(t3(t))}static isImageUrl(t){return!!t.match(/\.(jpeg|jpg|gif|png|swf|svg)$/)||!!t.match(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}}class po extends ia{_style;_width;_miter;_cap;_join;_colour;constructor(t){t=t||{},super(),this._style=t.style||Zr.SOLID;const i=ia.convToPoints(t.width);this._width=typeof i>"u"||i<0?.75:i,this._colour=new pa(t.colour),this._miter=t.miter??2,this._cap=t.cap||vI.ROUND,this._join=t.join||gI.ROUND}get styleType(){return this._style}get width(){return this._width}get colour(){return this._colour}get miter(){return this._miter}get cap(){return this._cap}get join(){return this._join}toOptions(){return{style:this.styleType,width:this.width,colour:this.colour.hex,miter:this.miter,cap:this.cap,join:this.join}}toESRI(){const t=new Rn;return t.width=this.width,t.color=this.colour.toESRI(),t.style=this.styleType,t.cap=this.cap,t.miterLimit=this.miter,t.join=this.join,t}static fromESRI(t){const i={width:t.width,colour:t.color.toRgba(),style:t.style};return new po(i)}static fromArcServer(t){return po.fromESRI(t3(t))}}class um extends ia{_outlineStyle;_fillColour;_fillStyle;constructor(t){super(),t=t||{},t.fill||(t.fill={}),this._fillColour=new pa(t.fill.colour),this._fillStyle=t.fill.style||bI.SOLID,this._outlineStyle=new po(t.outline)}get fillColour(){return this._fillColour}get fillStyleType(){return this._fillStyle}get outline(){return this._outlineStyle}toOptions(){return{fill:{style:this.fillStyleType,colour:this.fillColour.hex},outline:this.outline.toOptions()}}toESRI(){const t=this.outline.toESRI(),i=new dt(this.fillColour.rgba),r=new Su;return r.style=this.fillStyleType,r.color=i,r.outline=t,r}static fromESRI(t){const i={fill:{colour:t.color.toRgba(),style:t.style},outline:po.fromESRI(t.outline).toOptions()};return new um(i)}static fromArcServer(t){return um.fromESRI(t3(t))}}class pK{Extent=ei;Graphic=Tn;LineString=yl;LineStyle=po;LinearRing=Uc;MultiLineString=dn;MultiPoint=Fh;MultiPolygon=ta;Point=jr;PointStyle=fl;Polygon=_r;PolygonStyle=um;SpatialReference=Ve;esriMapClickToRamp(t,i){return{mapPoint:jr.fromESRI(t.mapPoint,i),screenX:t.x,screenY:t.y,button:t.button,input:t.native.pointerType,clickTime:t.timestamp}}esriMapMouseToRamp(t){return{screenX:t.x,screenY:t.y,button:t.button,moveTime:t.timestamp}}geomRampToEsri(t){return t.toESRI()}geomEsriToRamp(t,i){switch(t.type){case"point":return jr.fromESRI(t,i);case"polyline":{const r=t;return r.paths.length===1?yl.fromESRI(r,i):dn.fromESRI(r,i)}case"polygon":return _r.fromESRI(t,i);case"extent":return ei.fromESRI(t,i);case"multipoint":return Fh.fromESRI(t,i);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomGeoJsonToRamp(t,i){switch(t.type){case ui.POINT:return jr.fromGeoJSON(t,i);case ui.LINESTRING:return yl.fromGeoJSON(t,i);case ui.POLYGON:return _r.fromGeoJSON(t,i);case ui.MULTIPOINT:return Fh.fromGeoJSON(t,i);case ui.MULTILINESTRING:return dn.fromGeoJSON(t,i);case ui.MULTIPOLYGON:return ta.fromGeoJSON(t,i);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomRampToGeoJson(t){return t.toGeoJSON()}graphicRampToGeoJson(t){const i={},r={type:"Feature",geometry:this.geomRampToGeoJson(t.geometry),properties:i};return Object.keys(t.attributes).forEach(s=>r.properties[s]=t.attributes[s]),r}graphicGeoJsonToRamp(t,i){if(t.type!=="Feature")throw new Error("Expected input parameter of graphicGeoJsonToRamp to be a GeoJson feature");const r=this.geomGeoJsonToRamp(t.geometry,i),s={};return Object.keys(t.properties.forEach(o=>s[o]=t.properties[o])),new Tn(r,"",s)}graphicRampToEsri(t){const i={attributes:{},id:t.id};return i.geometry=this.geomRampToEsri(t.geometry),Object.keys(t.attributes).forEach(r=>i.attributes[r]=t.attributes[r]),t.style&&(i.symbol=this.styleRampToEsri(t.style)),new aJ(i)}styleRampToEsri(t){return t.toESRI()}styleEsriToRamp(t){switch(t.type){case"picture-marker":case"simple-marker":return fl.fromESRI(t);case"simple-line":return po.fromESRI(t);case"simple-fill":return um.fromESRI(t);default:return console.error(`Unsupported ESRI symbol type encountered: ${t.type}`),new fl}}serverGeomTypeToRampGeomType(t){if(!t)return Ze.NONE;switch(t){case"esriGeometryPolygon":return Ze.POLYGON;case"esriGeometryPolyline":return Ze.LINESTRING;case"esriGeometryPoint":return Ze.POINT;case"esriGeometryMultipoint":return Ze.MULTIPOINT;case"esriGeometryEnvelope":return Ze.EXTENT;default:return console.error(`Unrecognized server geometry type encountered: ${t}`),Ze.UNKNOWN}}clientGeomTypeToRampGeomType(t){if(!t)return Ze.NONE;switch(t){case"polygon":return Ze.POLYGON;case"polyline":return Ze.LINESTRING;case"point":return Ze.POINT;case"multipoint":return Ze.MULTIPOINT;default:return console.error(`Unrecognized client geometry type encountered: ${t}`),Ze.UNKNOWN}}geoJsonGeomTypeToEsriGeomType(t){switch(t){case ui.POINT:return"point";case ui.LINESTRING:case ui.MULTILINESTRING:return"polyline";case ui.POLYGON:case ui.MULTIPOLYGON:return"polygon";case ui.MULTIPOINT:return"multipoint";default:throw new Error(`Encountered unhandled geometry type ${t}`)}}isImageUrl(t){return fl.isImageUrl(t)}}class dv{layerIdx;name;children;uid;isRoot;constructor(t,i,r="",s=!0){this.layerIdx=t,this.name=r,this.isRoot=s,this.children=[],this.uid=i}findChildByUid(t){if(this.uid===t)return this;{let i;return this.children.some(r=>i=r.findChildByUid(t)),i}}findChildByIdx(t){if(this.layerIdx===t)return this;{let i;return this.children.some(r=>i=r.findChildByIdx(t)),i}}get isLogicalLayer(){return this.layerIdx>-1&&this.children.length===0}get isLayerRoot(){return this.isRoot}}class fk{minScale;maxScale;constructor(t=0,i=0){this.minScale=t,this.maxScale=i}isOffScale(t){const i={offScale:!1,zoomIn:!1};return t<this.maxScale&&this.maxScale!==0?(i.offScale=!0,i.zoomIn=!1):t>this.minScale&&this.minScale!==0&&(i.offScale=!0,i.zoomIn=!0),i}}class dk{sql;cache;extent;constructor(t="",i=""){this.sql={[Dr.PERMANENT]:t,[Dr.INITIAL]:i},this.extent=void 0,this.cache={}}sqlActiveFilters(t=[]){const i=this.sql,r=Object.keys(i).filter(s=>i[s]);return t.length===0?r:r.filter(s=>t.indexOf(s)===-1)}isActive(){return this.sqlActiveFilters([Dr.PERMANENT]).length>0}getCombinedSql(t=[]){const i=this.sqlActiveFilters(t),r=i.length;return r===0?"":r===1?this.sql[i[0]]:i.map(s=>`(${this.sql[s]})`).join(" AND ")}setSql(t,i){t===Dr.PERMANENT?console.error("Attempted to overwrite a permanent filter. Not allowed."):(this.sql[t]=i,this.clearCacheSet(t))}getSql(t){return this.sql[t]||""}setExtent(t){t.isEqual(this.extent)||(this.extent=t,this.clearCacheSet(Dr.EXTENT))}getCacheKey(t,i){return`_cache$${t.sort().join("$")}${i?"$"+Dr.EXTENT:""}$`}getCache(t,i){const r=this.getCacheKey(t,i);return this.cache[r]}setCache(t,i,r){const s=this.getCacheKey(i,r);this.cache[s]=t}cacheActiveKeys(){const t=this.cache;return Object.keys(t).filter(i=>t[i])}clearAllCaches(){this.cache={}}clearCacheSet(t){this.cacheActiveKeys().forEach(i=>{i.indexOf(`$${t}$`)>-1&&delete this.cache[i]})}clearAll(){this.sql={[Dr.PERMANENT]:this.sql[Dr.PERMANENT]},this.extent=void 0,this.clearAllCaches()}}class hm{id;sr;_defaultExtent;_fullExtent;_maximumExtent;constructor(t,i,r=void 0,s=void 0){this.id=t,this.sr=i.sr.clone(),this._defaultExtent=i.clone(),this._fullExtent=r?.clone(),this._maximumExtent=s?.clone(),r&&!r.sr.isEqual(this.sr)&&console.error(`Full extent provided in extent set has a mismatching spatial reference: ${r.sr}`),s&&!s.sr.isEqual(this.sr)&&console.error(`Maximum extent provided in extent set has a mismatching spatial reference: ${s.sr}`)}get defaultExtent(){return this._defaultExtent}set defaultExtent(t){this._defaultExtent=t.clone()}get fullExtent(){return this._fullExtent?this._fullExtent:this.defaultExtent}set fullExtent(t){this._fullExtent=t.clone()}get maximumExtent(){return this._maximumExtent?this._maximumExtent:this.fullExtent}set maximumExtent(t){this._maximumExtent=t.clone()}static fromConfig(t){return new hm(t.id,ei.fromConfig(`${t.id}-extent-default`,t.default),t.full!==void 0?ei.fromConfig(`${t.id}-extent-full`,t.full):void 0,t.maximum!==void 0?ei.fromConfig(`${t.id}-extent-maximum`,t.maximum):void 0)}clone(){return new hm(this.id,this._defaultExtent,this._fullExtent,this._maximumExtent)}}class Si{realPromise;resolveMe(t){}rejectMe(){}getPromise(){return this.realPromise}constructor(){this.realPromise=new Promise((t,i)=>{this.resolveMe=r=>{t(r)},this.rejectMe=i})}}var ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function X1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function mK(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(i,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),i}var D_,tM;function yK(){if(tM)return D_;tM=1;var e=function(T){return t(T)&&!i(T)};function t(E){return!!E&&typeof E=="object"}function i(E){var T=Object.prototype.toString.call(E);return T==="[object RegExp]"||T==="[object Date]"||n(E)}var r=typeof Symbol=="function"&&Symbol.for,s=r?Symbol.for("react.element"):60103;function n(E){return E.$$typeof===s}function o(E){return Array.isArray(E)?[]:{}}function a(E,T){return T.clone!==!1&&T.isMergeableObject(E)?b(o(E),E,T):E}function l(E,T,w){return E.concat(T).map(function(_){return a(_,w)})}function c(E,T){if(!T.customMerge)return b;var w=T.customMerge(E);return typeof w=="function"?w:b}function f(E){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(E).filter(function(T){return Object.propertyIsEnumerable.call(E,T)}):[]}function d(E){return Object.keys(E).concat(f(E))}function p(E,T){try{return T in E}catch{return!1}}function y(E,T){return p(E,T)&&!(Object.hasOwnProperty.call(E,T)&&Object.propertyIsEnumerable.call(E,T))}function v(E,T,w){var _={};return w.isMergeableObject(E)&&d(E).forEach(function($){_[$]=a(E[$],w)}),d(T).forEach(function($){y(E,$)||(p(E,$)&&w.isMergeableObject(T[$])?_[$]=c($,w)(E[$],T[$],w):_[$]=a(T[$],w))}),_}function b(E,T,w){w=w||{},w.arrayMerge=w.arrayMerge||l,w.isMergeableObject=w.isMergeableObject||e,w.cloneUnlessOtherwiseSpecified=a;var _=Array.isArray(T),$=Array.isArray(E),M=_===$;return M?_?w.arrayMerge(E,T,w):v(E,T,w):a(T,w)}b.all=function(T,w){if(!Array.isArray(T))throw new Error("first argument should be an array");return T.reduce(function(_,$){return b(_,$,w)},{})};var S=b;return D_=S,D_}var gK=yK();const pk=X1(gK);class vK{generateUUID(){let t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const r=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(i==="x"?r:r&3|8).toString(16)})}convertImageToCanvas(t,i,r=!0){const s=i??document.createElement("canvas"),n=document.createElement("img");r&&(n.crossOrigin="anonymous");const o=new Promise((a,l)=>{n.addEventListener("load",()=>{s.width=n.width,s.height=n.height,s.getContext("2d")?.drawImage(n,0,0),a(s)}),n.addEventListener("error",c=>l(c))});return n.src=t,o}async convertImagetoDataURL(t,i="image/png"){return t.startsWith("data")?t:this.convertImageToCanvas(t).then(r=>r.toDataURL(i)).catch(r=>(console.error("Failed to load crossorigin image",t,r),t))}parseUrlIndex(t){const i={rootUrl:t,index:0},r=/\/(\d+)\/?$/,s=t.match(r);if(s){const n=s[1];i.index=isNaN(parseInt(n))?void 0:parseInt(n),i.rootUrl=t.substr(0,t.length-s[0].length)}else console.warn("Cannot extract layer index from url "+t);return i}controlAvailable(t,i){return i?.disabledControls?.includes(t)?!1:i?.controls?i?.controls?.includes(t):!0}}class pv{_url;_base;_query;_queryMap={};constructor(t){this._url=t,[this._base,this._query]=t.split("?").concat(""),this._queryMap=this._query.split("&").reduce((i,r)=>{const[s,n]=r.split("=");return i[s]=n,i},{})}get query(){return this._query}get base(){return this._base}get queryMap(){return this._queryMap}updateQuery(t){const i=pk.all([{},this.queryMap,t]);return`${this.base}${Object.entries(i).filter(([,s])=>s!==void 0).map(([s,n],o)=>`${o===0?"?":""}${s}=${n}`).join("&")}`}}/* @preserve
* @terraformer/spatial - v2.1.2 - MIT
* Copyright (c) 2012-2024 Environmental Systems Research Institute, Inc.
* Wed May 15 2024 14:35:51 GMT-0700 (Pacific Daylight Time)
*/var gp=6378137,bK=57.29577951308232,_K=.017453292519943,wK={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},F_=function(t){return t*bK},U_=function(t){return t*_K},xK=function(t){var i=t[0],r=t[1];return[F_(i/gp)-Math.floor((F_(i/gp)+180)/360)*360,F_(Math.PI/2-2*Math.atan(Math.exp(-1*r/gp)))]},EK=function(t){var i=t[0],r=Math.max(Math.min(t[1],89.99999),-89.99999);return[U_(i)*gp,gp/2*Math.log((1+Math.sin(U_(r)))/(1-Math.sin(U_(r))))]};function Px(e){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Px(e)}var SK=function e(t,i){for(var r=0;r<t.length;r++)typeof t[r][0]=="number"&&(t[r]=i(t[r])),Px(t[r])==="object"&&(t[r]=e(t[r],i));return t},AK=function e(t,i,r){if(t.type==="Point")t.coordinates=i(t.coordinates);else if(t.type==="Feature")t.geometry=e(t.geometry,i,!0);else if(t.type==="FeatureCollection")for(var s=0;s<t.features.length;s++)t.features[s]=e(t.features[s],i,!0);else if(t.type==="GeometryCollection")for(var n=0;n<t.geometries.length;n++)t.geometries[n]=e(t.geometries[n],i,!0);else t.coordinates=SK(t.coordinates,i);return r||i===EK&&(t.crs=wK),i===xK&&delete t.crs,t};function TK(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var lu=1,cu=2,Uh=3,$K=4,Nx=5,iM=6378137,MK=6356752314e-3,rM=.0066943799901413165,vp=484813681109536e-20,he=Math.PI/2,OK=.16666666666666666,CK=.04722222222222222,IK=.022156084656084655,_e=1e-10,or=.017453292519943295,lo=57.29577951308232,xt=Math.PI/4,fm=Math.PI*2,_i=3.14159265359,ds={};ds.greenwich=0;ds.lisbon=-9.131906111111;ds.paris=2.337229166667;ds.bogota=-74.080916666667;ds.madrid=-3.687938888889;ds.rome=12.452333333333;ds.bern=7.439583333333;ds.jakarta=106.807719444444;ds.ferro=-17.666666666667;ds.brussels=4.367975;ds.stockholm=18.058277777778;ds.athens=23.7163375;ds.oslo=10.722916666667;const PK={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var sM=/[\s_\-\/\(\)]/g;function Al(e,t){if(e[t])return e[t];for(var i=Object.keys(e),r=t.toLowerCase().replace(sM,""),s=-1,n,o;++s<i.length;)if(n=i[s],o=n.toLowerCase().replace(sM,""),o===r)return e[n]}function Lx(e){var t={},i=e.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),r,s,n,o={proj:"projName",datum:"datumCode",rf:function(a){t.rf=parseFloat(a)},lat_0:function(a){t.lat0=a*or},lat_1:function(a){t.lat1=a*or},lat_2:function(a){t.lat2=a*or},lat_ts:function(a){t.lat_ts=a*or},lon_0:function(a){t.long0=a*or},lon_1:function(a){t.long1=a*or},lon_2:function(a){t.long2=a*or},alpha:function(a){t.alpha=parseFloat(a)*or},gamma:function(a){t.rectified_grid_angle=parseFloat(a)},lonc:function(a){t.longc=a*or},x_0:function(a){t.x0=parseFloat(a)},y_0:function(a){t.y0=parseFloat(a)},k_0:function(a){t.k0=parseFloat(a)},k:function(a){t.k0=parseFloat(a)},a:function(a){t.a=parseFloat(a)},b:function(a){t.b=parseFloat(a)},r:function(a){t.a=t.b=parseFloat(a)},r_a:function(){t.R_A=!0},zone:function(a){t.zone=parseInt(a,10)},south:function(){t.utmSouth=!0},towgs84:function(a){t.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){t.to_meter=parseFloat(a)},units:function(a){t.units=a;var l=Al(PK,a);l&&(t.to_meter=l.to_meter)},from_greenwich:function(a){t.from_greenwich=a*or},pm:function(a){var l=Al(ds,a);t.from_greenwich=(l||parseFloat(a))*or},nadgrids:function(a){a==="@null"?t.datumCode="none":t.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(t.axis=a)},approx:function(){t.approx=!0}};for(r in i)s=i[r],r in o?(n=o[r],typeof n=="function"?n(s):t[n]=s):t[r]=s;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t}var dm=1,mk=2,yk=3,mv=4,gk=5,p3=-1,NK=/\s/,LK=/[A-Za-z]/,kK=/[A-Za-z84_]/,Q1=/[,\]]/,vk=/[\d\.E\-\+]/;function va(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=dm}va.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==mv)for(;NK.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case dm:return this.neutral(e);case mk:return this.keyword(e);case mv:return this.quoted(e);case gk:return this.afterquote(e);case yk:return this.number(e);case p3:return}};va.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=mv;return}if(Q1.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)};va.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=dm;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=dm,this.currentObject=this.stack.pop(),this.currentObject||(this.state=p3);return}};va.prototype.number=function(e){if(vk.test(e)){this.word+=e;return}if(Q1.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)};va.prototype.quoted=function(e){if(e==='"'){this.state=gk;return}this.word+=e};va.prototype.keyword=function(e){if(kK.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=dm;return}if(Q1.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place)};va.prototype.neutral=function(e){if(LK.test(e)){this.word=e,this.state=mk;return}if(e==='"'){this.word="",this.state=mv;return}if(vk.test(e)){this.word=e,this.state=yk;return}if(Q1.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place)};va.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===p3)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function RK(e){var t=new va(e);return t.output()}function nM(e,t,i){Array.isArray(t)&&(i.unshift(t),t=null);var r=t?{}:e,s=i.reduce(function(n,o){return bh(o,n),n},r);t&&(e[t]=s)}function bh(e,t){if(!Array.isArray(e)){t[e]=!0;return}var i=e.shift();if(i==="PARAMETER"&&(i=e.shift()),e.length===1){if(Array.isArray(e[0])){t[i]={},bh(e[0],t[i]);return}t[i]=e[0];return}if(!e.length){t[i]=!0;return}if(i==="TOWGS84"){t[i]=e;return}if(i==="AXIS"){i in t||(t[i]=[]),t[i].push(e);return}Array.isArray(i)||(t[i]={});var r;switch(i){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[i]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&bh(e[2],t[i]);return;case"SPHEROID":case"ELLIPSOID":t[i]={name:e[0],a:e[1],rf:e[2]},e.length===4&&bh(e[3],t[i]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":e[0]=["name",e[0]],nM(t,i,e);return;default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return bh(e,t[i]);return nM(t,i,e)}}var DK=.017453292519943295;function FK(e,t){var i=t[0],r=t[1];!(i in e)&&r in e&&(e[i]=e[r],t.length===3&&(e[i]=t[2](e[i])))}function Gn(e){return e*DK}function UK(e){if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",i=0,r=e.AXIS.length;i<r;++i){var s=[e.AXIS[i][0].toLowerCase(),e.AXIS[i][1].toLowerCase()];s[0].indexOf("north")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="north"?t+="n":s[0].indexOf("south")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="south"?t+="s":s[0].indexOf("east")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="east"?t+="e":(s[0].indexOf("west")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var n=e.GEOGCS;e.type==="GEOGCS"&&(n=e),n&&(n.DATUM?e.datumCode=n.DATUM.name.toLowerCase():e.datumCode=n.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),(e.datumCode==="new_zealand_geodetic_datum_1949"||e.datumCode==="new_zealand_1949")&&(e.datumCode="nzgd49"),(e.datumCode==="wgs_1984"||e.datumCode==="world_geodetic_system_1984")&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode.slice(-6)==="_ferro"&&(e.datumCode=e.datumCode.slice(0,-6)),e.datumCode.slice(-8)==="_jakarta"&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(e.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=n.DATUM.SPHEROID.a,e.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),n.DATUM&&n.DATUM.TOWGS84&&(e.datum_params=n.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);function o(c){var f=e.to_meter||1;return c*f}var a=function(c){return FK(e,c)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Gn],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Gn],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",Gn],["lat0","latitude_of_origin",Gn],["lat0","standard_parallel_1",Gn],["lat1","standard_parallel_1",Gn],["lat2","standard_parallel_2",Gn],["azimuth","Azimuth"],["alpha","azimuth",Gn],["srsCode","name"]];l.forEach(a),!e.long0&&e.longc&&(e.projName==="Albers_Conic_Equal_Area"||e.projName==="Lambert_Azimuthal_Equal_Area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(e.projName==="Stereographic_South_Pole"||e.projName==="Polar Stereographic (variant B)")?(e.lat0=Gn(e.lat1>0?90:-90),e.lat_ts=e.lat1):!e.lat_ts&&e.lat0&&e.projName==="Polar_Stereographic"&&(e.lat_ts=e.lat0,e.lat0=Gn(e.lat0>0?90:-90))}function bk(e){var t=RK(e),i=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",i]);var s={};return bh(t,s),UK(s),s}function kr(e){var t=this;if(arguments.length===2){var i=arguments[1];typeof i=="string"?i.charAt(0)==="+"?kr[e]=Lx(arguments[1]):kr[e]=bk(arguments[1]):kr[e]=i}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(r){Array.isArray(r)?kr.apply(t,r):kr(r)});if(typeof e=="string"){if(e in kr)return kr[e]}else"EPSG"in e?kr["EPSG:"+e.EPSG]=e:"ESRI"in e?kr["ESRI:"+e.ESRI]=e:"IAU2000"in e?kr["IAU2000:"+e.IAU2000]=e:console.log(e);return}}TK(kr);function jK(e){return typeof e=="string"}function VK(e){return e in kr}var BK=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function GK(e){return BK.some(function(t){return e.indexOf(t)>-1})}var zK=["3857","900913","3785","102113"];function qK(e){var t=Al(e,"authority");if(t){var i=Al(t,"epsg");return i&&zK.indexOf(i)>-1}}function HK(e){var t=Al(e,"extension");if(t)return Al(t,"proj4")}function WK(e){return e[0]==="+"}function YK(e){if(jK(e)){if(VK(e))return kr[e];if(GK(e)){var t=bk(e);if(qK(t))return kr["EPSG:3857"];var i=HK(t);return i?Lx(i):t}if(WK(e))return Lx(e)}else return e}function oM(e,t){e=e||{};var i,r;if(!t)return e;for(r in t)i=t[r],i!==void 0&&(e[r]=i);return e}function Ao(e,t,i){var r=e*t;return i/Math.sqrt(1-r*r)}function o0(e){return e<0?-1:1}function Ee(e){return Math.abs(e)<=_i?e:e-o0(e)*fm}function En(e,t,i){var r=e*i,s=.5*e;return r=Math.pow((1-r)/(1+r),s),Math.tan(.5*(he-t))/r}function pm(e,t){for(var i=.5*e,r,s,n=he-2*Math.atan(t),o=0;o<=15;o++)if(r=e*Math.sin(n),s=he-2*Math.atan(t*Math.pow((1-r)/(1+r),i))-n,n+=s,Math.abs(s)<=1e-10)return n;return-9999}function JK(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Ao(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function ZK(e){var t=e.x,i=e.y;if(i*lo>90&&i*lo<-90&&t*lo>180&&t*lo<-180)return null;var r,s;if(Math.abs(Math.abs(i)-he)<=_e)return null;if(this.sphere)r=this.x0+this.a*this.k0*Ee(t-this.long0),s=this.y0+this.a*this.k0*Math.log(Math.tan(xt+.5*i));else{var n=Math.sin(i),o=En(this.e,i,n);r=this.x0+this.a*this.k0*Ee(t-this.long0),s=this.y0-this.a*this.k0*Math.log(o)}return e.x=r,e.y=s,e}function KK(e){var t=e.x-this.x0,i=e.y-this.y0,r,s;if(this.sphere)s=he-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var n=Math.exp(-i/(this.a*this.k0));if(s=pm(this.e,n),s===-9999)return null}return r=Ee(this.long0+t/(this.a*this.k0)),e.x=r,e.y=s,e}var XK=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const QK={init:JK,forward:ZK,inverse:KK,names:XK};function eX(){}function aM(e){return e}var tX=["longlat","identity"];const iX={init:eX,forward:aM,inverse:aM,names:tX};var rX=[QK,iX],yg={},yv=[];function _k(e,t){var i=yv.length;return e.names?(yv[i]=e,e.names.forEach(function(r){yg[r.toLowerCase()]=i}),this):(console.log(t),!0)}function sX(e){if(!e)return!1;var t=e.toLowerCase();if(typeof yg[t]<"u"&&yv[yg[t]])return yv[yg[t]]}function nX(){rX.forEach(_k)}const oX={start:nX,add:_k,get:sX};var He={};He.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};He.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};He.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};He.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};He.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};He.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};He.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};He.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};He.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};He.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};He.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};He.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};He.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};He.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};He.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};He.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};He.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};He.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};He.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};He.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};He.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};He.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};He.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};He.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};He.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};He.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};He.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};He.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};He.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};He.hough={a:6378270,rf:297,ellipseName:"Hough"};He.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};He.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};He.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};He.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};He.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};He.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};He.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};He.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};He.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};He.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};He.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};He.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var aX=He.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};He.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function lX(e,t,i,r){var s=e*e,n=t*t,o=(s-n)/s,a=0;r?(e*=1-o*(OK+o*(CK+o*IK)),s=e*e,o=0):a=Math.sqrt(o);var l=(s-n)/n;return{es:o,e:a,ep2:l}}function cX(e,t,i,r,s){if(!e){var n=Al(He,r);n||(n=aX),e=n.a,t=n.b,i=n.rf}return i&&!t&&(t=(1-1/i)*e),(i===0||Math.abs(e-t)<_e)&&(s=!0,t=e),{a:e,b:t,rf:i,sphere:s}}var Ki={};Ki.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};Ki.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};Ki.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};Ki.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};Ki.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};Ki.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};Ki.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};Ki.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};Ki.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"};Ki.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};Ki.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};Ki.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};Ki.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};Ki.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};Ki.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};Ki.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};Ki.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};Ki.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function uX(e,t,i,r,s,n,o){var a={};return e===void 0||e==="none"?a.datum_type=Nx:a.datum_type=$K,t&&(a.datum_params=t.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=lu),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=cu,a.datum_params[3]*=vp,a.datum_params[4]*=vp,a.datum_params[5]*=vp,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=Uh,a.grids=o),a.a=i,a.b=r,a.es=s,a.ep2=n,a}var wk={};function hX(e,t){var i=new DataView(t),r=pX(i),s=mX(i,r),n=yX(i,s,r),o={header:s,subgrids:n};return wk[e]=o,o}function fX(e){if(e===void 0)return null;var t=e.split(",");return t.map(dX)}function dX(e){if(e.length===0)return null;var t=e[0]==="@";return t&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:wk[e]||null,isNull:!1}}function _h(e){return e/3600*Math.PI/180}function pX(e){var t=e.getInt32(8,!1);return t===11?!1:(t=e.getInt32(8,!0),t!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function mX(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:kx(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function kx(e,t,i){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,i)))}function yX(e,t,i){for(var r=176,s=[],n=0;n<t.nSubgrids;n++){var o=vX(e,r,i),a=bX(e,r,o,i),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);s.push({ll:[_h(o.lowerLongitude),_h(o.lowerLatitude)],del:[_h(o.longitudeInterval),_h(o.latitudeInterval)],lim:[l,c],count:o.gridNodeCount,cvs:gX(a)}),r+=176+o.gridNodeCount*16}return s}function gX(e){return e.map(function(t){return[_h(t.longitudeShift),_h(t.latitudeShift)]})}function vX(e,t,i){return{name:kx(e,t+8,t+16).trim(),parent:kx(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,i),upperLatitude:e.getFloat64(t+88,i),lowerLongitude:e.getFloat64(t+104,i),upperLongitude:e.getFloat64(t+120,i),latitudeInterval:e.getFloat64(t+136,i),longitudeInterval:e.getFloat64(t+152,i),gridNodeCount:e.getInt32(t+168,i)}}function bX(e,t,i,r){for(var s=t+176,n=16,o=[],a=0;a<i.gridNodeCount;a++){var l={latitudeShift:e.getFloat32(s+a*n,r),longitudeShift:e.getFloat32(s+a*n+4,r),latitudeAccuracy:e.getFloat32(s+a*n+8,r),longitudeAccuracy:e.getFloat32(s+a*n+12,r)};o.push(l)}return o}function mo(e,t){if(!(this instanceof mo))return new mo(e);t=t||function(c){if(c)throw c};var i=YK(e);if(typeof i!="object"){t("Could not parse to valid json: "+e);return}var r=mo.projections.get(i.projName);if(!r){t("Could not get projection name from: "+e);return}if(i.datumCode&&i.datumCode!=="none"){var s=Al(Ki,i.datumCode);s&&(i.datum_params=i.datum_params||(s.towgs84?s.towgs84.split(","):null),i.ellps=s.ellipse,i.datumName=s.datumName?s.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84",i.lat1=i.lat1||i.lat0;var n=cX(i.a,i.b,i.rf,i.ellps,i.sphere),o=lX(n.a,n.b,n.rf,i.R_A),a=fX(i.nadgrids),l=i.datum||uX(i.datumCode,i.datum_params,n.a,n.b,o.es,o.ep2,a);oM(this,i),oM(this,r),this.a=n.a,this.b=n.b,this.rf=n.rf,this.sphere=n.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),t(null,this)}mo.projections=oX;mo.projections.start();function _X(e,t){return e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11?!1:e.datum_type===lu?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type===cu?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]:!0}function xk(e,t,i){var r=e.x,s=e.y,n=e.z?e.z:0,o,a,l,c;if(s<-he&&s>-1.001*he)s=-he;else if(s>he&&s<1.001*he)s=he;else{if(s<-he)return{x:-1/0,y:-1/0,z:e.z};if(s>he)return{x:1/0,y:1/0,z:e.z}}return r>Math.PI&&(r-=2*Math.PI),a=Math.sin(s),c=Math.cos(s),l=a*a,o=i/Math.sqrt(1-t*l),{x:(o+n)*c*Math.cos(r),y:(o+n)*c*Math.sin(r),z:(o*(1-t)+n)*a}}function Ek(e,t,i,r){var s=1e-12,n=s*s,o=30,a,l,c,f,d,p,y,v,b,S,E,T,w,_=e.x,$=e.y,M=e.z?e.z:0,I,N,P;if(a=Math.sqrt(_*_+$*$),l=Math.sqrt(_*_+$*$+M*M),a/i<s){if(I=0,l/i<s)return N=he,P=-r,{x:e.x,y:e.y,z:e.z}}else I=Math.atan2($,_);c=M/l,f=a/l,d=1/Math.sqrt(1-t*(2-t)*f*f),v=f*(1-t)*d,b=c*d,w=0;do w++,y=i/Math.sqrt(1-t*b*b),P=a*v+M*b-y*(1-t*b*b),p=t*y/(y+P),d=1/Math.sqrt(1-p*(2-p)*f*f),S=f*(1-p)*d,E=c*d,T=E*v-S*b,v=S,b=E;while(T*T>n&&w<o);return N=Math.atan(E/Math.abs(S)),{x:I,y:N,z:P}}function wX(e,t,i){if(t===lu)return{x:e.x+i[0],y:e.y+i[1],z:e.z+i[2]};if(t===cu){var r=i[0],s=i[1],n=i[2],o=i[3],a=i[4],l=i[5],c=i[6];return{x:c*(e.x-l*e.y+a*e.z)+r,y:c*(l*e.x+e.y-o*e.z)+s,z:c*(-a*e.x+o*e.y+e.z)+n}}}function xX(e,t,i){if(t===lu)return{x:e.x-i[0],y:e.y-i[1],z:e.z-i[2]};if(t===cu){var r=i[0],s=i[1],n=i[2],o=i[3],a=i[4],l=i[5],c=i[6],f=(e.x-r)/c,d=(e.y-s)/c,p=(e.z-n)/c;return{x:f+l*d-a*p,y:-l*f+d+o*p,z:a*f-o*d+p}}}function ty(e){return e===lu||e===cu}function EX(e,t,i){if(_X(e,t)||e.datum_type===Nx||t.datum_type===Nx)return i;var r=e.a,s=e.es;if(e.datum_type===Uh){var n=lM(e,!1,i);if(n!==0)return;r=iM,s=rM}var o=t.a,a=t.b,l=t.es;if(t.datum_type===Uh&&(o=iM,a=MK,l=rM),s===l&&r===o&&!ty(e.datum_type)&&!ty(t.datum_type))return i;if(i=xk(i,s,r),ty(e.datum_type)&&(i=wX(i,e.datum_type,e.datum_params)),ty(t.datum_type)&&(i=xX(i,t.datum_type,t.datum_params)),i=Ek(i,l,o,a),t.datum_type===Uh){var c=lM(t,!0,i);if(c!==0)return}return i}function lM(e,t,i){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-i.x,y:i.y},s={x:Number.NaN,y:Number.NaN},n=[];e:for(var o=0;o<e.grids.length;o++){var a=e.grids[o];if(n.push(a.name),a.isNull){s=r;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,f=l.length;c<f;c++){var d=l[c],p=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,y=d.ll[0]-p,v=d.ll[1]-p,b=d.ll[0]+(d.lim[0]-1)*d.del[0]+p,S=d.ll[1]+(d.lim[1]-1)*d.del[1]+p;if(!(v>r.y||y>r.x||S<r.y||b<r.x)&&(s=SX(r,t,d),!isNaN(s.x)))break e}}return isNaN(s.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*lo+" "+r.y*lo+" tried: '"+n+"'"),-1):(i.x=-s.x,i.y=s.y,0)}function SX(e,t,i){var r={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return r;var s={x:e.x,y:e.y};s.x-=i.ll[0],s.y-=i.ll[1],s.x=Ee(s.x-Math.PI)+Math.PI;var n=cM(s,i);if(t){if(isNaN(n.x))return r;n.x=s.x-n.x,n.y=s.y-n.y;var o=9,a=1e-12,l,c;do{if(c=cM(n,i),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:s.x-(c.x+n.x),y:s.y-(c.y+n.y)},n.x+=l.x,n.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=Ee(n.x+i.ll[0]),r.y=n.y+i.ll[1]}else isNaN(n.x)||(r.x=e.x+n.x,r.y=e.y+n.y);return r}function cM(e,t){var i={x:e.x/t.del[0],y:e.y/t.del[1]},r={x:Math.floor(i.x),y:Math.floor(i.y)},s={x:i.x-1*r.x,y:i.y-1*r.y},n={x:Number.NaN,y:Number.NaN},o;if(r.x<0||r.x>=t.lim[0]||r.y<0||r.y>=t.lim[1])return n;o=r.y*t.lim[0]+r.x;var a={x:t.cvs[o][0],y:t.cvs[o][1]};o++;var l={x:t.cvs[o][0],y:t.cvs[o][1]};o+=t.lim[0];var c={x:t.cvs[o][0],y:t.cvs[o][1]};o--;var f={x:t.cvs[o][0],y:t.cvs[o][1]},d=s.x*s.y,p=s.x*(1-s.y),y=(1-s.x)*(1-s.y),v=(1-s.x)*s.y;return n.x=y*a.x+p*l.x+v*f.x+d*c.x,n.y=y*a.y+p*l.y+v*f.y+d*c.y,n}function uM(e,t,i){var r=i.x,s=i.y,n=i.z||0,o,a,l,c={};for(l=0;l<3;l++)if(!(t&&l===2&&i.z===void 0))switch(l===0?(o=r,"ew".indexOf(e.axis[l])!==-1?a="x":a="y"):l===1?(o=s,"ns".indexOf(e.axis[l])!==-1?a="y":a="x"):(o=n,a="z"),e.axis[l]){case"e":c[a]=o;break;case"w":c[a]=-o;break;case"n":c[a]=o;break;case"s":c[a]=-o;break;case"u":i[a]!==void 0&&(c.z=o);break;case"d":i[a]!==void 0&&(c.z=-o);break;default:return null}return c}function Sk(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function AX(e){hM(e.x),hM(e.y)}function hM(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function TX(e,t){return(e.datum.datum_type===lu||e.datum.datum_type===cu||e.datum.datum_type===Uh)&&t.datumCode!=="WGS84"||(t.datum.datum_type===lu||t.datum.datum_type===cu||t.datum.datum_type===Uh)&&e.datumCode!=="WGS84"}function gv(e,t,i,r){var s;Array.isArray(i)?i=Sk(i):i={x:i.x,y:i.y,z:i.z,m:i.m};var n=i.z!==void 0;if(AX(i),e.datum&&t.datum&&TX(e,t)&&(s=new mo("WGS84"),i=gv(e,s,i,r),e=s),r&&e.axis!=="enu"&&(i=uM(e,!1,i)),e.projName==="longlat")i={x:i.x*or,y:i.y*or,z:i.z||0};else if(e.to_meter&&(i={x:i.x*e.to_meter,y:i.y*e.to_meter,z:i.z||0}),i=e.inverse(i),!i)return;if(e.from_greenwich&&(i.x+=e.from_greenwich),i=EX(e.datum,t.datum,i),!!i)return t.from_greenwich&&(i={x:i.x-t.from_greenwich,y:i.y,z:i.z||0}),t.projName==="longlat"?i={x:i.x*lo,y:i.y*lo,z:i.z||0}:(i=t.forward(i),t.to_meter&&(i={x:i.x/t.to_meter,y:i.y/t.to_meter,z:i.z||0})),r&&t.axis!=="enu"?uM(t,!0,i):(i&&!n&&delete i.z,i)}var fM=mo("WGS84");function j_(e,t,i,r){var s,n,o;return Array.isArray(i)?(s=gv(e,t,i,r)||{x:NaN,y:NaN},i.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"?typeof s.z=="number"?[s.x,s.y,s.z].concat(i.slice(3)):[s.x,s.y,i[2]].concat(i.slice(3)):[s.x,s.y].concat(i.slice(2)):[s.x,s.y]):(n=gv(e,t,i,r),o=Object.keys(i),o.length===2||o.forEach(function(a){if(typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;n[a]=i[a]}),n)}function dM(e){return e instanceof mo?e:e.oProj?e.oProj:mo(e)}function Lt(e,t,i){e=dM(e);var r=!1,s;return typeof t>"u"?(t=e,e=fM,r=!0):(typeof t.x<"u"||Array.isArray(t))&&(i=t,t=e,e=fM,r=!0),t=dM(t),i?j_(e,t,i):(s={forward:function(n,o){return j_(e,t,n,o)},inverse:function(n,o){return j_(t,e,n,o)}},r&&(s.oProj=t),s)}var pM=6,Ak="AJSAJS",Tk="AFAFAF",wh=65,Kr=73,Ds=79,ep=86,tp=90;const $X={forward:$k,inverse:MX,toPoint:Mk};function $k(e,t){return t=t||5,IX(OX({lat:e[1],lon:e[0]}),t)}function MX(e){var t=m3(Ck(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function Mk(e){var t=m3(Ck(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function V_(e){return e*(Math.PI/180)}function mM(e){return 180*(e/Math.PI)}function OX(e){var t=e.lat,i=e.lon,r=6378137,s=.00669438,n=.9996,o,a,l,c,f,d,p,y=V_(t),v=V_(i),b,S;S=Math.floor((i+180)/6)+1,i===180&&(S=60),t>=56&&t<64&&i>=3&&i<12&&(S=32),t>=72&&t<84&&(i>=0&&i<9?S=31:i>=9&&i<21?S=33:i>=21&&i<33?S=35:i>=33&&i<42&&(S=37)),o=(S-1)*6-180+3,b=V_(o),a=s/(1-s),l=r/Math.sqrt(1-s*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),f=a*Math.cos(y)*Math.cos(y),d=Math.cos(y)*(v-b),p=r*((1-s/4-3*s*s/64-5*s*s*s/256)*y-(3*s/8+3*s*s/32+45*s*s*s/1024)*Math.sin(2*y)+(15*s*s/256+45*s*s*s/1024)*Math.sin(4*y)-35*s*s*s/3072*Math.sin(6*y));var E=n*l*(d+(1-c+f)*d*d*d/6+(5-18*c+c*c+72*f-58*a)*d*d*d*d*d/120)+5e5,T=n*(p+l*Math.tan(y)*(d*d/2+(5-c+9*f+4*f*f)*d*d*d*d/24+(61-58*c+c*c+600*f-330*a)*d*d*d*d*d*d/720));return t<0&&(T+=1e7),{northing:Math.round(T),easting:Math.round(E),zoneNumber:S,zoneLetter:CX(t)}}function m3(e){var t=e.northing,i=e.easting,r=e.zoneLetter,s=e.zoneNumber;if(s<0||s>60)return null;var n=.9996,o=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),f,d,p,y,v,b,S,E,T,w=i-5e5,_=t;r<"N"&&(_-=1e7),S=(s-1)*6-180+3,l=a/(1-a),b=_/n,E=b/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),T=E+(3*c/2-27*c*c*c/32)*Math.sin(2*E)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*E)+151*c*c*c/96*Math.sin(6*E),f=o/Math.sqrt(1-a*Math.sin(T)*Math.sin(T)),d=Math.tan(T)*Math.tan(T),p=l*Math.cos(T)*Math.cos(T),y=o*(1-a)/Math.pow(1-a*Math.sin(T)*Math.sin(T),1.5),v=w/(f*n);var $=T-f*Math.tan(T)/y*(v*v/2-(5+3*d+10*p-4*p*p-9*l)*v*v*v*v/24+(61+90*d+298*p+45*d*d-252*l-3*p*p)*v*v*v*v*v*v/720);$=mM($);var M=(v-(1+2*d+p)*v*v*v/6+(5-2*p+28*d-3*p*p+8*l+24*d*d)*v*v*v*v*v/120)/Math.cos(T);M=S+mM(M);var I;if(e.accuracy){var N=m3({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});I={top:N.lat,right:N.lon,bottom:$,left:M}}else I={lat:$,lon:M};return I}function CX(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function IX(e,t){var i="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+PX(e.easting,e.northing,e.zoneNumber)+i.substr(i.length-5,t)+r.substr(r.length-5,t)}function PX(e,t,i){var r=Ok(i),s=Math.floor(e/1e5),n=Math.floor(t/1e5)%20;return NX(s,n,r)}function Ok(e){var t=e%pM;return t===0&&(t=pM),t}function NX(e,t,i){var r=i-1,s=Ak.charCodeAt(r),n=Tk.charCodeAt(r),o=s+e-1,a=n+t,l=!1;o>tp&&(o=o-tp+wh-1,l=!0),(o===Kr||s<Kr&&o>Kr||(o>Kr||s<Kr)&&l)&&o++,(o===Ds||s<Ds&&o>Ds||(o>Ds||s<Ds)&&l)&&(o++,o===Kr&&o++),o>tp&&(o=o-tp+wh-1),a>ep?(a=a-ep+wh-1,l=!0):l=!1,(a===Kr||n<Kr&&a>Kr||(a>Kr||n<Kr)&&l)&&a++,(a===Ds||n<Ds&&a>Ds||(a>Ds||n<Ds)&&l)&&(a++,a===Kr&&a++),a>ep&&(a=a-ep+wh-1);var c=String.fromCharCode(o)+String.fromCharCode(a);return c}function Ck(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var t=e.length,i=null,r="",s,n=0;!/[A-Z]/.test(s=e.charAt(n));){if(n>=2)throw"MGRSPoint bad conversion from: "+e;r+=s,n++}var o=parseInt(r,10);if(n===0||n+3>t)throw"MGRSPoint bad conversion from: "+e;var a=e.charAt(n++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+e;i=e.substring(n,n+=2);for(var l=Ok(o),c=LX(i.charAt(0),l),f=kX(i.charAt(1),l);f<RX(a);)f+=2e6;var d=t-n;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var p=d/2,y=0,v=0,b,S,E,T,w;return p>0&&(b=1e5/Math.pow(10,p),S=e.substring(n,n+p),y=parseFloat(S)*b,E=e.substring(n+p),v=parseFloat(E)*b),T=y+c,w=v+f,{easting:T,northing:w,zoneLetter:a,zoneNumber:o,accuracy:b}}function LX(e,t){for(var i=Ak.charCodeAt(t-1),r=1e5,s=!1;i!==e.charCodeAt(0);){if(i++,i===Kr&&i++,i===Ds&&i++,i>tp){if(s)throw"Bad character: "+e;i=wh,s=!0}r+=1e5}return r}function kX(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var i=Tk.charCodeAt(t-1),r=0,s=!1;i!==e.charCodeAt(0);){if(i++,i===Kr&&i++,i===Ds&&i++,i>ep){if(s)throw"Bad character: "+e;i=wh,s=!0}r+=1e5}return r}function RX(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function lf(e,t,i){if(!(this instanceof lf))return new lf(e,t,i);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t>"u"){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}lf.fromMGRS=function(e){return new lf(Mk(e))};lf.prototype.toMGRS=function(e){return $k([this.x,this.y],e)};var DX=1,FX=.25,yM=.046875,gM=.01953125,vM=.01068115234375,UX=.75,jX=.46875,VX=.013020833333333334,BX=.007120768229166667,GX=.3645833333333333,zX=.005696614583333333,qX=.3076171875;function y3(e){var t=[];t[0]=DX-e*(FX+e*(yM+e*(gM+e*vM))),t[1]=e*(UX-e*(yM+e*(gM+e*vM)));var i=e*e;return t[2]=i*(jX-e*(VX+e*BX)),i*=e,t[3]=i*(GX-e*zX),t[4]=i*e*qX,t}function Xf(e,t,i,r){return i*=t,t*=t,r[0]*e-i*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))}var HX=20;function g3(e,t,i){for(var r=1/(1-t),s=e,n=HX;n;--n){var o=Math.sin(s),a=1-t*o*o;if(a=(Xf(s,o,Math.cos(s),i)-e)*(a*Math.sqrt(a))*r,s-=a,Math.abs(a)<_e)return s}return s}function WX(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=y3(this.es),this.ml0=Xf(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function YX(e){var t=e.x,i=e.y,r=Ee(t-this.long0),s,n,o,a=Math.sin(i),l=Math.cos(i);if(this.es){var f=l*r,d=Math.pow(f,2),p=this.ep2*Math.pow(l,2),y=Math.pow(p,2),v=Math.abs(l)>_e?Math.tan(i):0,b=Math.pow(v,2),S=Math.pow(b,2);s=1-this.es*Math.pow(a,2),f=f/Math.sqrt(s);var E=Xf(i,a,l,this.en);n=this.a*(this.k0*f*(1+d/6*(1-b+p+d/20*(5-18*b+S+14*p-58*b*p+d/42*(61+179*S-S*b-479*b)))))+this.x0,o=this.a*(this.k0*(E-this.ml0+a*r*f/2*(1+d/12*(5-b+9*p+4*y+d/30*(61+S-58*b+270*p-330*b*p+d/56*(1385+543*S-S*b-3111*b))))))+this.y0}else{var c=l*Math.sin(r);if(Math.abs(Math.abs(c)-1)<_e)return 93;if(n=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,o=l*Math.cos(r)/Math.sqrt(1-Math.pow(c,2)),c=Math.abs(o),c>=1){if(c-1>_e)return 93;o=0}else o=Math.acos(o);i<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return e.x=n,e.y=o,e}function JX(e){var t,i,r,s,n=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+o/this.k0,i=g3(t,this.es,this.en),Math.abs(i)<he){var d=Math.sin(i),p=Math.cos(i),y=Math.abs(p)>_e?Math.tan(i):0,v=this.ep2*Math.pow(p,2),b=Math.pow(v,2),S=Math.pow(y,2),E=Math.pow(S,2);t=1-this.es*Math.pow(d,2);var T=n*Math.sqrt(t)/this.k0,w=Math.pow(T,2);t=t*y,r=i-t*w/(1-this.es)*.5*(1-w/12*(5+3*S-9*v*S+v-4*b-w/30*(61+90*S-252*v*S+45*E+46*v-w/56*(1385+3633*S+4095*E+1574*E*S)))),s=Ee(this.long0+T*(1-w/6*(1+2*S+v-w/20*(5+28*S+24*E+8*v*S+6*v-w/42*(61+662*S+1320*E+720*E*S))))/p)}else r=he*o0(o),s=0;else{var a=Math.exp(n/this.k0),l=.5*(a-1/a),c=this.lat0+o/this.k0,f=Math.cos(c);t=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(l,2))),r=Math.asin(t),o<0&&(r=-r),l===0&&f===0?s=0:s=Ee(Math.atan2(l,f)+this.long0)}return e.x=s,e.y=r,e}var ZX=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const gg={init:WX,forward:YX,inverse:JX,names:ZX};function Ik(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function is(e,t){e=Math.abs(e),t=Math.abs(t);var i=Math.max(e,t),r=Math.min(e,t)/(i||1);return i*Math.sqrt(1+Math.pow(r,2))}function KX(e){var t=1+e,i=t-1;return i===0?e:e*Math.log(t)/i}function XX(e){var t=Math.abs(e);return t=KX(t*(1+t/(is(1,t)+1))),e<0?-t:t}function v3(e,t){for(var i=2*Math.cos(2*t),r=e.length-1,s=e[r],n=0,o;--r>=0;)o=-n+i*s+e[r],n=s,s=o;return t+o*Math.sin(2*t)}function QX(e,t){for(var i=2*Math.cos(t),r=e.length-1,s=e[r],n=0,o;--r>=0;)o=-n+i*s+e[r],n=s,s=o;return Math.sin(t)*o}function eQ(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function Pk(e,t,i){for(var r=Math.sin(t),s=Math.cos(t),n=Ik(i),o=eQ(i),a=2*s*o,l=-2*r*n,c=e.length-1,f=e[c],d=0,p=0,y=0,v,b;--c>=0;)v=p,b=d,p=f,d=y,f=-v+a*p-l*d+e[c],y=-b+l*p+a*d;return a=r*o,l=s*n,[a*f-l*y,a*y+l*f]}function tQ(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(gg.init.apply(this),this.forward=gg.forward,this.inverse=gg.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),i=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),i=i*t,this.cgb[1]=i*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=i*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),i=i*t,this.cgb[2]=i*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=i*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),i=i*t,this.cgb[3]=i*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=i*(1237/630+t*(-12/5+t*(-24832/14175))),i=i*t,this.cgb[4]=i*(4174/315+t*(-144838/6237)),this.cbg[4]=i*(-734/315+t*(109598/31185)),i=i*t,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+i*(1/4+i*(1/64+i/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=i*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=i*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),i=i*t,this.utg[2]=i*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=i*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),i=i*t,this.utg[3]=i*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=i*(49561/161280+t*(-179/168+t*(6601661/7257600))),i=i*t,this.utg[4]=i*(-4583/161280+t*(108847/3991680)),this.gtu[4]=i*(34729/80640+t*(-3418889/1995840)),i=i*t,this.utg[5]=i*(-20648693/638668800),this.gtu[5]=i*(212378941/319334400);var r=v3(this.cbg,this.lat0);this.Zb=-this.Qn*(r+QX(this.gtu,2*r))}function iQ(e){var t=Ee(e.x-this.long0),i=e.y;i=v3(this.cbg,i);var r=Math.sin(i),s=Math.cos(i),n=Math.sin(t),o=Math.cos(t);i=Math.atan2(r,o*s),t=Math.atan2(n*s,is(r,s*o)),t=XX(Math.tan(t));var a=Pk(this.gtu,2*i,2*t);i=i+a[0],t=t+a[1];var l,c;return Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,c=this.a*(this.Qn*i+this.Zb)+this.y0):(l=1/0,c=1/0),e.x=l,e.y=c,e}function rQ(e){var t=(e.x-this.x0)*(1/this.a),i=(e.y-this.y0)*(1/this.a);i=(i-this.Zb)/this.Qn,t=t/this.Qn;var r,s;if(Math.abs(t)<=2.623395162778){var n=Pk(this.utg,2*i,2*t);i=i+n[0],t=t+n[1],t=Math.atan(Ik(t));var o=Math.sin(i),a=Math.cos(i),l=Math.sin(t),c=Math.cos(t);i=Math.atan2(o*c,is(l,c*a)),t=Math.atan2(l,c*a),r=Ee(t+this.long0),s=v3(this.cgb,i)}else r=1/0,s=1/0;return e.x=r,e.y=s,e}var sQ=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const vg={init:tQ,forward:iQ,inverse:rQ,names:sQ};function nQ(e,t){if(e===void 0){if(e=Math.floor((Ee(t)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var oQ="etmerc";function aQ(){var e=nQ(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*or,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,vg.init.apply(this),this.forward=vg.forward,this.inverse=vg.inverse}var lQ=["Universal Transverse Mercator System","utm"];const cQ={init:aQ,names:lQ,dependsOn:oQ};function b3(e,t){return Math.pow((1-e)/(1+e),t)}var uQ=20;function hQ(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+xt)/(Math.pow(Math.tan(.5*this.lat0+xt),this.C)*b3(this.e*e,this.ratexp))}function fQ(e){var t=e.x,i=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+xt),this.C)*b3(this.e*Math.sin(i),this.ratexp))-he,e.x=this.C*t,e}function dQ(e){for(var t=1e-14,i=e.x/this.C,r=e.y,s=Math.pow(Math.tan(.5*r+xt)/this.K,1/this.C),n=uQ;n>0&&(r=2*Math.atan(s*b3(this.e*Math.sin(e.y),-.5*this.e))-he,!(Math.abs(r-e.y)<t));--n)e.y=r;return n?(e.x=i,e.y=r,e):null}var pQ=["gauss"];const _3={init:hQ,forward:fQ,inverse:dQ,names:pQ};function mQ(){_3.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function yQ(e){var t,i,r,s;return e.x=Ee(e.x-this.long0),_3.forward.apply(this,[e]),t=Math.sin(e.y),i=Math.cos(e.y),r=Math.cos(e.x),s=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*i*r),e.x=s*i*Math.sin(e.x),e.y=s*(this.cosc0*t-this.sinc0*i*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function gQ(e){var t,i,r,s,n;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,n=is(e.x,e.y)){var o=2*Math.atan2(n,this.R2);t=Math.sin(o),i=Math.cos(o),s=Math.asin(i*this.sinc0+e.y*t*this.cosc0/n),r=Math.atan2(e.x*t,n*this.cosc0*i-e.y*this.sinc0*t)}else s=this.phic0,r=0;return e.x=r,e.y=s,_3.inverse.apply(this,[e]),e.x=Ee(e.x+this.long0),e}var vQ=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const bQ={init:mQ,forward:yQ,inverse:gQ,names:vQ};function _Q(e,t,i){return t*=i,Math.tan(.5*(he+e))*Math.pow((1-t)/(1+t),.5*i)}function wQ(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=_e&&(this.k0=.5*(1+o0(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=_e&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=_e&&Math.abs(Math.cos(this.lat_ts))>_e&&(this.k0=.5*this.cons*Ao(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/En(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Ao(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-he,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function xQ(e){var t=e.x,i=e.y,r=Math.sin(i),s=Math.cos(i),n,o,a,l,c,f,d=Ee(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=_e&&Math.abs(i+this.lat0)<=_e?(e.x=NaN,e.y=NaN,e):this.sphere?(n=2*this.k0/(1+this.sinlat0*r+this.coslat0*s*Math.cos(d)),e.x=this.a*n*s*Math.sin(d)+this.x0,e.y=this.a*n*(this.coslat0*r-this.sinlat0*s*Math.cos(d))+this.y0,e):(o=2*Math.atan(this.ssfn_(i,r,this.e))-he,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=_e?(c=En(this.e,i*this.con,this.con*r),f=2*this.a*this.k0*c/this.cons,e.x=this.x0+f*Math.sin(t-this.long0),e.y=this.y0-this.con*f*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<_e?(n=2*this.a*this.k0/(1+l*Math.cos(d)),e.y=n*a):(n=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(d))),e.y=n*(this.cosX0*a-this.sinX0*l*Math.cos(d))+this.y0),e.x=n*l*Math.sin(d)+this.x0,e))}function EQ(e){e.x-=this.x0,e.y-=this.y0;var t,i,r,s,n,o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return t=this.long0,i=this.lat0,o<=_e?(e.x=t,e.y=i,e):(i=Math.asin(Math.cos(a)*this.sinlat0+e.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<_e?this.lat0>0?t=Ee(this.long0+Math.atan2(e.x,-1*e.y)):t=Ee(this.long0+Math.atan2(e.x,e.y)):t=Ee(this.long0+Math.atan2(e.x*Math.sin(a),o*this.coslat0*Math.cos(a)-e.y*this.sinlat0*Math.sin(a))),e.x=t,e.y=i,e)}else if(Math.abs(this.coslat0)<=_e){if(o<=_e)return i=this.lat0,t=this.long0,e.x=t,e.y=i,e;e.x*=this.con,e.y*=this.con,r=o*this.cons/(2*this.a*this.k0),i=this.con*pm(this.e,r),t=this.con*Ee(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else s=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=_e?n=this.X0:(n=Math.asin(Math.cos(s)*this.sinX0+e.y*Math.sin(s)*this.cosX0/o),t=Ee(this.long0+Math.atan2(e.x*Math.sin(s),o*this.cosX0*Math.cos(s)-e.y*this.sinX0*Math.sin(s)))),i=-1*pm(this.e,Math.tan(.5*(he+n)));return e.x=t,e.y=i,e}var SQ=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const AQ={init:wQ,forward:xQ,inverse:EQ,names:SQ,ssfn_:_Q};function TQ(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),i=this.a,r=this.rf,s=1/r,n=2*s-Math.pow(s,2),o=this.e=Math.sqrt(n);this.R=this.k0*i*Math.sqrt(1-n)/(1-n*Math.pow(t,2)),this.alpha=Math.sqrt(1+n/(1-n)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),c=Math.log((1+o*t)/(1-o*t));this.K=a-this.alpha*l+this.alpha*o/2*c}function $Q(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+i)+this.K,s=2*(Math.atan(Math.exp(r))-Math.PI/4),n=this.alpha*(e.x-this.lambda0),o=Math.atan(Math.sin(n)/(Math.sin(this.b0)*Math.tan(s)+Math.cos(this.b0)*Math.cos(n))),a=Math.asin(Math.cos(this.b0)*Math.sin(s)-Math.sin(this.b0)*Math.cos(s)*Math.cos(n));return e.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,e.x=this.R*o+this.x0,e}function MQ(e){for(var t=e.x-this.x0,i=e.y-this.y0,r=t/this.R,s=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),n=Math.asin(Math.cos(this.b0)*Math.sin(s)+Math.sin(this.b0)*Math.cos(s)*Math.cos(r)),o=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(s))),a=this.lambda0+o/this.alpha,l=0,c=n,f=-1e3,d=0;Math.abs(c-f)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+n/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),f=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=a,e.y=c,e}var OQ=["somerc"];const CQ={init:TQ,forward:$Q,inverse:MQ,names:OQ};var oh=1e-7;function IQ(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],i=typeof e.PROJECTION=="object"?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||t.indexOf(i)!==-1}function PQ(){var e,t,i,r,s,n,o,a,l,c,f=0,d,p=0,y=0,v=0,b=0,S=0,E=0;this.no_off=IQ(this),this.no_rot="no_rot"in this;var T=!1;"alpha"in this&&(T=!0);var w=!1;if("rectified_grid_angle"in this&&(w=!0),T&&(E=this.alpha),w&&(f=this.rectified_grid_angle*or),T||w)p=this.longc;else if(y=this.long1,b=this.lat1,v=this.long2,S=this.lat2,Math.abs(b-S)<=oh||(e=Math.abs(b))<=oh||Math.abs(e-he)<=oh||Math.abs(Math.abs(this.lat0)-he)<=oh||Math.abs(Math.abs(S)-he)<=oh)throw new Error;var _=1-this.es;t=Math.sqrt(_),Math.abs(this.lat0)>_e?(a=Math.sin(this.lat0),i=Math.cos(this.lat0),e=1-this.es*a*a,this.B=i*i,this.B=Math.sqrt(1+this.es*this.B*this.B/_),this.A=this.B*this.k0*t/e,r=this.B*t/(i*Math.sqrt(e)),s=r*r-1,s<=0?s=0:(s=Math.sqrt(s),this.lat0<0&&(s=-s)),this.E=s+=r,this.E*=Math.pow(En(this.e,this.lat0,a),this.B)):(this.B=1/t,this.A=this.k0,this.E=r=s=1),T||w?(T?(d=Math.asin(Math.sin(E)/r),w||(f=E)):(d=f,E=Math.asin(r*Math.sin(d))),this.lam0=p-Math.asin(.5*(s-1/s)*Math.tan(d))/this.B):(n=Math.pow(En(this.e,b,Math.sin(b)),this.B),o=Math.pow(En(this.e,S,Math.sin(S)),this.B),s=this.E/n,l=(o-n)/(o+n),c=this.E*this.E,c=(c-o*n)/(c+o*n),e=y-v,e<-Math.pi?v-=fm:e>Math.pi&&(v+=fm),this.lam0=Ee(.5*(y+v)-Math.atan(c*Math.tan(.5*this.B*(y-v))/l)/this.B),d=Math.atan(2*Math.sin(this.B*Ee(y-this.lam0))/(s-1/s)),f=E=Math.asin(r*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(E))),this.lat0<0&&(this.u_0=-this.u_0)),s=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(xt-s)),this.v_pole_s=this.ArB*Math.log(Math.tan(xt+s))}function NQ(e){var t={},i,r,s,n,o,a,l,c;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-he)>_e){if(o=this.E/Math.pow(En(this.e,e.y,Math.sin(e.y)),this.B),a=1/o,i=.5*(o-a),r=.5*(o+a),n=Math.sin(this.B*e.x),s=(i*this.singam-n*this.cosgam)/r,Math.abs(Math.abs(s)-1)<_e)throw new Error;c=.5*this.ArB*Math.log((1-s)/(1+s)),a=Math.cos(this.B*e.x),Math.abs(a)<oh?l=this.A*e.x:l=this.ArB*Math.atan2(i*this.cosgam+n*this.singam,a)}else c=e.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*e.y;return this.no_rot?(t.x=l,t.y=c):(l-=this.u_0,t.x=c*this.cosrot+l*this.sinrot,t.y=l*this.cosrot-c*this.sinrot),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function LQ(e){var t,i,r,s,n,o,a,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(i=e.y,t=e.x):(i=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*i),s=.5*(r-1/r),n=.5*(r+1/r),o=Math.sin(this.BrA*t),a=(o*this.cosgam+s*this.singam)/n,Math.abs(Math.abs(a)-1)<_e)l.x=0,l.y=a<0?-he:he;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=pm(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(s*this.cosgam-o*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l}var kQ=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const RQ={init:PQ,forward:NQ,inverse:LQ,names:kQ};function DQ(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<_e)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),i=Math.cos(this.lat1),r=Ao(this.e,t,i),s=En(this.e,this.lat1,t),n=Math.sin(this.lat2),o=Math.cos(this.lat2),a=Ao(this.e,n,o),l=En(this.e,this.lat2,n),c=En(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>_e?this.ns=Math.log(r/a)/Math.log(s/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(s,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function FQ(e){var t=e.x,i=e.y;Math.abs(2*Math.abs(i)-Math.PI)<=_e&&(i=o0(i)*(he-2*_e));var r=Math.abs(Math.abs(i)-he),s,n;if(r>_e)s=En(this.e,i,Math.sin(i)),n=this.a*this.f0*Math.pow(s,this.ns);else{if(r=i*this.ns,r<=0)return null;n=0}var o=this.ns*Ee(t-this.long0);return e.x=this.k0*(n*Math.sin(o))+this.x0,e.y=this.k0*(this.rh-n*Math.cos(o))+this.y0,e}function UQ(e){var t,i,r,s,n,o=(e.x-this.x0)/this.k0,a=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(o*o+a*a),i=1):(t=-Math.sqrt(o*o+a*a),i=-1);var l=0;if(t!==0&&(l=Math.atan2(i*o,i*a)),t!==0||this.ns>0){if(i=1/this.ns,r=Math.pow(t/(this.a*this.f0),i),s=pm(this.e,r),s===-9999)return null}else s=-he;return n=Ee(l/this.ns+this.long0),e.x=n,e.y=s,e}var jQ=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const VQ={init:DQ,forward:FQ,inverse:UQ,names:jQ};function BQ(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function GQ(e){var t,i,r,s,n,o,a,l=e.x,c=e.y,f=Ee(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),r=-f*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(s)),o=this.n*n,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),e.y=a*Math.cos(o)/1,e.x=a*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e}function zQ(e){var t,i,r,s,n,o,a,l,c=e.x;e.x=e.y,e.y=c,this.czech||(e.y*=-1,e.x*=-1),o=Math.sqrt(e.x*e.x+e.y*e.y),n=Math.atan2(e.y,e.x),s=n/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(s)),i=Math.asin(Math.cos(r)*Math.sin(s)/Math.cos(t)),e.x=this.long0-i/this.alfa,a=t,l=0;var f=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-e.y)<1e-10&&(l=1),a=e.y,f+=1;while(l===0&&f<15);return f>=15?null:e}var qQ=["Krovak","krovak"];const HQ={init:BQ,forward:GQ,inverse:zQ,names:qQ};function Vr(e,t,i,r,s){return e*s-t*Math.sin(2*s)+i*Math.sin(4*s)-r*Math.sin(6*s)}function a0(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function l0(e){return .375*e*(1+.25*e*(1+.46875*e))}function c0(e){return .05859375*e*e*(1+.75*e)}function u0(e){return e*e*e*(35/3072)}function cf(e,t,i){var r=t*i;return e/Math.sqrt(1-r*r)}function Ll(e){return Math.abs(e)<he?e:e-o0(e)*Math.PI}function vv(e,t,i,r,s){var n,o;n=e/t;for(var a=0;a<15;a++)if(o=(e-(t*n-i*Math.sin(2*n)+r*Math.sin(4*n)-s*Math.sin(6*n)))/(t-2*i*Math.cos(2*n)+4*r*Math.cos(4*n)-6*s*Math.cos(6*n)),n+=o,Math.abs(o)<=1e-10)return n;return NaN}function WQ(){this.sphere||(this.e0=a0(this.es),this.e1=l0(this.es),this.e2=c0(this.es),this.e3=u0(this.es),this.ml0=this.a*Vr(this.e0,this.e1,this.e2,this.e3,this.lat0))}function YQ(e){var t,i,r=e.x,s=e.y;if(r=Ee(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(s)*Math.sin(r)),i=this.a*(Math.atan2(Math.tan(s),Math.cos(r))-this.lat0);else{var n=Math.sin(s),o=Math.cos(s),a=cf(this.a,this.e,n),l=Math.tan(s)*Math.tan(s),c=r*Math.cos(s),f=c*c,d=this.es*o*o/(1-this.es),p=this.a*Vr(this.e0,this.e1,this.e2,this.e3,s);t=a*c*(1-f*l*(1/6-(8-l+8*d)*f/120)),i=p-this.ml0+a*n/o*f*(.5+(5-l+6*d)*f/24)}return e.x=t+this.x0,e.y=i+this.y0,e}function JQ(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,i=e.y/this.a,r,s;if(this.sphere){var n=i+this.lat0;r=Math.asin(Math.sin(n)*Math.cos(t)),s=Math.atan2(Math.tan(t),Math.cos(n))}else{var o=this.ml0/this.a+i,a=vv(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-he)<=_e)return e.x=this.long0,e.y=he,i<0&&(e.y*=-1),e;var l=cf(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(a),2),d=t*this.a/l,p=d*d;r=a-l*Math.tan(a)/c*d*d*(.5-(1+3*f)*d*d/24),s=d*(1-p*(f/3+(1+3*f)*f*p/15))/Math.cos(a)}return e.x=Ee(s+this.long0),e.y=Ll(r),e}var ZQ=["Cassini","Cassini_Soldner","cass"];const KQ={init:WQ,forward:YQ,inverse:JQ,names:ZQ};function gl(e,t){var i;return e>1e-7?(i=e*t,(1-e*e)*(t/(1-i*i)-.5/e*Math.log((1-i)/(1+i)))):2*t}var XQ=1,QQ=2,eee=3,tee=4;function iee(){var e=Math.abs(this.lat0);if(Math.abs(e-he)<_e?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<_e?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=gl(this.e,1),this.mmf=.5/(1-this.es),this.apa=hee(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=gl(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function ree(e){var t,i,r,s,n,o,a,l,c,f,d=e.x,p=e.y;if(d=Ee(d-this.long0),this.sphere){if(n=Math.sin(p),f=Math.cos(p),r=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+f*r:1+this.sinph0*n+this.cosph0*f*r,i<=_e)return null;i=Math.sqrt(2/i),t=i*f*Math.sin(d),i*=this.mode===this.EQUIT?n:this.cosph0*n-this.sinph0*f*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(p+this.lat0)<_e)return null;i=xt-p*.5,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),t=i*Math.sin(d),i*=r}}else{switch(a=0,l=0,c=0,r=Math.cos(d),s=Math.sin(d),n=Math.sin(p),o=gl(this.e,n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*r;break;case this.EQUIT:c=1+l*r;break;case this.N_POLE:c=he+p,o=this.qp-o;break;case this.S_POLE:c=p-he,o=this.qp+o;break}if(Math.abs(c)<_e)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?i=this.ymf*c*(this.cosb1*a-this.sinb1*l*r):i=(c=Math.sqrt(2/(1+l*r)))*a*this.ymf,t=this.xmf*c*l*s;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(c=Math.sqrt(o))*s,i=r*(this.mode===this.S_POLE?c:-c)):t=i=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*i+this.y0,e}function see(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,i=e.y/this.a,r,s,n,o,a,l,c;if(this.sphere){var f=0,d,p=0;if(d=Math.sqrt(t*t+i*i),s=d*.5,s>1)return null;switch(s=2*Math.asin(s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(p=Math.sin(s),f=Math.cos(s)),this.mode){case this.EQUIT:s=Math.abs(d)<=_e?0:Math.asin(i*p/d),t*=p,i=f*d;break;case this.OBLIQ:s=Math.abs(d)<=_e?this.lat0:Math.asin(f*this.sinph0+i*p*this.cosph0/d),t*=p*this.cosph0,i=(f-Math.sin(s)*this.sinph0)*d;break;case this.N_POLE:i=-i,s=he-s;break;case this.S_POLE:s-=he;break}r=i===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,i)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,i*=this.dd,l=Math.sqrt(t*t+i*i),l<_e)return e.x=this.long0,e.y=this.lat0,e;o=2*Math.asin(.5*l/this.rq),n=Math.cos(o),t*=o=Math.sin(o),this.mode===this.OBLIQ?(c=n*this.sinb1+i*o*this.cosb1/l,a=this.qp*c,i=l*this.cosb1*n-i*this.sinb1*o):(c=i*o/l,a=this.qp*c,i=l*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),a=t*t+i*i,!a)return e.x=this.long0,e.y=this.lat0,e;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}r=Math.atan2(t,i),s=fee(Math.asin(c),this.apa)}return e.x=Ee(this.long0+r),e.y=s,e}var nee=.3333333333333333,oee=.17222222222222222,aee=.10257936507936508,lee=.06388888888888888,cee=.0664021164021164,uee=.016415012942191543;function hee(e){var t,i=[];return i[0]=e*nee,t=e*e,i[0]+=t*oee,i[1]=t*lee,t*=e,i[0]+=t*aee,i[1]+=t*cee,i[2]=t*uee,i}function fee(e,t){var i=e+e;return e+t[0]*Math.sin(i)+t[1]*Math.sin(i+i)+t[2]*Math.sin(i+i+i)}var dee=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const pee={init:iee,forward:ree,inverse:see,names:dee,S_POLE:XQ,N_POLE:QQ,EQUIT:eee,OBLIQ:tee};function Tl(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function mee(){Math.abs(this.lat1+this.lat2)<_e||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Ao(this.e3,this.sin_po,this.cos_po),this.qs1=gl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Ao(this.e3,this.sin_po,this.cos_po),this.qs2=gl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=gl(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>_e?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function yee(e){var t=e.x,i=e.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var r=gl(this.e3,this.sin_phi),s=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,n=this.ns0*Ee(t-this.long0),o=s*Math.sin(n)+this.x0,a=this.rh-s*Math.cos(n)+this.y0;return e.x=o,e.y=a,e}function gee(e){var t,i,r,s,n,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),s=0,t!==0&&(s=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-r*r)/(2*this.ns0)):(i=(this.c-r*r)/this.ns0,o=this.phi1z(this.e3,i)),n=Ee(s/this.ns0+this.long0),e.x=n,e.y=o,e}function vee(e,t){var i,r,s,n,o,a=Tl(.5*t);if(e<_e)return a;for(var l=e*e,c=1;c<=25;c++)if(i=Math.sin(a),r=Math.cos(a),s=e*i,n=1-s*s,o=.5*n*n/r*(t/(1-l)-i/n+.5/e*Math.log((1-s)/(1+s))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var bee=["Albers_Conic_Equal_Area","Albers","aea"];const _ee={init:mee,forward:yee,inverse:gee,names:bee,phi1z:vee};function wee(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function xee(e){var t,i,r,s,n,o,a,l,c=e.x,f=e.y;return r=Ee(c-this.long0),t=Math.sin(f),i=Math.cos(f),s=Math.cos(r),o=this.sin_p14*t+this.cos_p14*i*s,n=1,o>0||Math.abs(o)<=_e?(a=this.x0+this.a*n*i*Math.sin(r)/o,l=this.y0+this.a*n*(this.cos_p14*t-this.sin_p14*i*s)/o):(a=this.x0+this.infinity_dist*i*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*i*s)),e.x=a,e.y=l,e}function Eee(e){var t,i,r,s,n,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(s=Math.atan2(t,this.rc),i=Math.sin(s),r=Math.cos(s),o=Tl(r*this.sin_p14+e.y*i*this.cos_p14/t),n=Math.atan2(e.x*i,t*this.cos_p14*r-e.y*this.sin_p14*i),n=Ee(this.long0+n)):(o=this.phic0,n=0),e.x=n,e.y=o,e}var See=["gnom"];const Aee={init:wee,forward:xee,inverse:Eee,names:See};function Tee(e,t){var i=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-i)<1e-6)return t<0?-1*he:he;for(var r=Math.asin(.5*t),s,n,o,a,l=0;l<30;l++)if(n=Math.sin(r),o=Math.cos(r),a=e*n,s=Math.pow(1-a*a,2)/(2*o)*(t/(1-e*e)-n/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),r+=s,Math.abs(s)<=1e-10)return r;return NaN}function $ee(){this.sphere||(this.k0=Ao(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Mee(e){var t=e.x,i=e.y,r,s,n=Ee(t-this.long0);if(this.sphere)r=this.x0+this.a*n*Math.cos(this.lat_ts),s=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var o=gl(this.e,Math.sin(i));r=this.x0+this.a*this.k0*n,s=this.y0+this.a*o*.5/this.k0}return e.x=r,e.y=s,e}function Oee(e){e.x-=this.x0,e.y-=this.y0;var t,i;return this.sphere?(t=Ee(this.long0+e.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(i=Tee(this.e,2*e.y*this.k0/this.a),t=Ee(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=i,e}var Cee=["cea"];const Iee={init:$ee,forward:Mee,inverse:Oee,names:Cee};function Pee(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Nee(e){var t=e.x,i=e.y,r=Ee(t-this.long0),s=Ll(i-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*s,e}function Lee(e){var t=e.x,i=e.y;return e.x=Ee(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Ll(this.lat0+(i-this.y0)/this.a),e}var kee=["Equirectangular","Equidistant_Cylindrical","eqc"];const Ree={init:Pee,forward:Nee,inverse:Lee,names:kee};var bM=20;function Dee(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=a0(this.es),this.e1=l0(this.es),this.e2=c0(this.es),this.e3=u0(this.es),this.ml0=this.a*Vr(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Fee(e){var t=e.x,i=e.y,r,s,n,o=Ee(t-this.long0);if(n=o*Math.sin(i),this.sphere)Math.abs(i)<=_e?(r=this.a*o,s=-1*this.a*this.lat0):(r=this.a*Math.sin(n)/Math.tan(i),s=this.a*(Ll(i-this.lat0)+(1-Math.cos(n))/Math.tan(i)));else if(Math.abs(i)<=_e)r=this.a*o,s=-1*this.ml0;else{var a=cf(this.a,this.e,Math.sin(i))/Math.tan(i);r=a*Math.sin(n),s=this.a*Vr(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+a*(1-Math.cos(n))}return e.x=r+this.x0,e.y=s+this.y0,e}function Uee(e){var t,i,r,s,n,o,a,l,c;if(r=e.x-this.x0,s=e.y-this.y0,this.sphere)if(Math.abs(s+this.a*this.lat0)<=_e)t=Ee(r/this.a+this.long0),i=0;else{o=this.lat0+s/this.a,a=r*r/this.a/this.a+o*o,l=o;var f;for(n=bM;n;--n)if(f=Math.tan(l),c=-1*(o*(l*f+1)-l-.5*(l*l+a)*f)/((l-o)/f-1),l+=c,Math.abs(c)<=_e){i=l;break}t=Ee(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(i))}else if(Math.abs(s+this.ml0)<=_e)i=0,t=Ee(this.long0+r/this.a);else{o=(this.ml0+s)/this.a,a=r*r/this.a/this.a+o*o,l=o;var d,p,y,v,b;for(n=bM;n;--n)if(b=this.e*Math.sin(l),d=Math.sqrt(1-b*b)*Math.tan(l),p=this.a*Vr(this.e0,this.e1,this.e2,this.e3,l),y=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),v=p/this.a,c=(o*(d*v+1)-v-.5*d*(v*v+a))/(this.es*Math.sin(2*l)*(v*v+a-2*o*v)/(4*d)+(o-v)*(d*y-2/Math.sin(2*l))-y),l-=c,Math.abs(c)<=_e){i=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),t=Ee(this.long0+Math.asin(r*d/this.a)/Math.sin(i))}return e.x=t,e.y=i,e}var jee=["Polyconic","poly"];const Vee={init:Dee,forward:Fee,inverse:Uee,names:jee};function Bee(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Gee(e){var t,i=e.x,r=e.y,s=r-this.lat0,n=i-this.long0,o=s/vp*1e-5,a=n,l=1,c=0;for(t=1;t<=10;t++)l=l*o,c=c+this.A[t]*l;var f=c,d=a,p=1,y=0,v,b,S=0,E=0;for(t=1;t<=6;t++)v=p*f-y*d,b=y*f+p*d,p=v,y=b,S=S+this.B_re[t]*p-this.B_im[t]*y,E=E+this.B_im[t]*p+this.B_re[t]*y;return e.x=E*this.a+this.x0,e.y=S*this.a+this.y0,e}function zee(e){var t,i=e.x,r=e.y,s=i-this.x0,n=r-this.y0,o=n/this.a,a=s/this.a,l=1,c=0,f,d,p=0,y=0;for(t=1;t<=6;t++)f=l*o-c*a,d=c*o+l*a,l=f,c=d,p=p+this.C_re[t]*l-this.C_im[t]*c,y=y+this.C_im[t]*l+this.C_re[t]*c;for(var v=0;v<this.iterations;v++){var b=p,S=y,E,T,w=o,_=a;for(t=2;t<=6;t++)E=b*p-S*y,T=S*p+b*y,b=E,S=T,w=w+(t-1)*(this.B_re[t]*b-this.B_im[t]*S),_=_+(t-1)*(this.B_im[t]*b+this.B_re[t]*S);b=1,S=0;var $=this.B_re[1],M=this.B_im[1];for(t=2;t<=6;t++)E=b*p-S*y,T=S*p+b*y,b=E,S=T,$=$+t*(this.B_re[t]*b-this.B_im[t]*S),M=M+t*(this.B_im[t]*b+this.B_re[t]*S);var I=$*$+M*M;p=(w*$+_*M)/I,y=(_*$-w*M)/I}var N=p,P=y,F=1,z=0;for(t=1;t<=9;t++)F=F*N,z=z+this.D[t]*F;var U=this.lat0+z*vp*1e5,V=this.long0+P;return e.x=V,e.y=U,e}var qee=["New_Zealand_Map_Grid","nzmg"];const Hee={init:Bee,forward:Gee,inverse:zee,names:qee};function Wee(){}function Yee(e){var t=e.x,i=e.y,r=Ee(t-this.long0),s=this.x0+this.a*r,n=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return e.x=s,e.y=n,e}function Jee(e){e.x-=this.x0,e.y-=this.y0;var t=Ee(this.long0+e.x/this.a),i=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=i,e}var Zee=["Miller_Cylindrical","mill"];const Kee={init:Wee,forward:Yee,inverse:Jee,names:Zee};var Xee=20;function Qee(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=y3(this.es)}function ete(e){var t,i,r=e.x,s=e.y;if(r=Ee(r-this.long0),this.sphere){if(!this.m)s=this.n!==1?Math.asin(this.n*Math.sin(s)):s;else for(var n=this.n*Math.sin(s),o=Xee;o;--o){var a=(this.m*s+Math.sin(s)-n)/(this.m+Math.cos(s));if(s-=a,Math.abs(a)<_e)break}t=this.a*this.C_x*r*(this.m+Math.cos(s)),i=this.a*this.C_y*s}else{var l=Math.sin(s),c=Math.cos(s);i=this.a*Xf(s,l,c,this.en),t=this.a*r*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=i,e}function tte(e){var t,i,r,s;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(t))),this.m?t=Tl((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=Tl(Math.sin(t)/this.n)),r=Ee(r+this.long0),t=Ll(t)):(t=g3(e.y/this.a,this.es,this.en),s=Math.abs(t),s<he?(s=Math.sin(t),i=this.long0+e.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(t)),r=Ee(i)):s-_e<he&&(r=this.long0)),e.x=r,e.y=t,e}var ite=["Sinusoidal","sinu"];const rte={init:Qee,forward:ete,inverse:tte,names:ite};function ste(){}function nte(e){for(var t=e.x,i=e.y,r=Ee(t-this.long0),s=i,n=Math.PI*Math.sin(i);;){var o=-(s+Math.sin(s)-n)/(1+Math.cos(s));if(s+=o,Math.abs(o)<_e)break}s/=2,Math.PI/2-Math.abs(i)<_e&&(r=0);var a=.900316316158*this.a*r*Math.cos(s)+this.x0,l=1.4142135623731*this.a*Math.sin(s)+this.y0;return e.x=a,e.y=l,e}function ote(e){var t,i;e.x-=this.x0,e.y-=this.y0,i=e.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),t=Math.asin(i);var r=Ee(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),i=(2*t+Math.sin(2*t))/Math.PI,Math.abs(i)>1&&(i=1);var s=Math.asin(i);return e.x=r,e.y=s,e}var ate=["Mollweide","moll"];const lte={init:ste,forward:nte,inverse:ote,names:ate};function cte(){Math.abs(this.lat1+this.lat2)<_e||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=a0(this.es),this.e1=l0(this.es),this.e2=c0(this.es),this.e3=u0(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Ao(this.e,this.sinphi,this.cosphi),this.ml1=Vr(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<_e?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Ao(this.e,this.sinphi,this.cosphi),this.ml2=Vr(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Vr(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function ute(e){var t=e.x,i=e.y,r;if(this.sphere)r=this.a*(this.g-i);else{var s=Vr(this.e0,this.e1,this.e2,this.e3,i);r=this.a*(this.g-s)}var n=this.ns*Ee(t-this.long0),o=this.x0+r*Math.sin(n),a=this.y0+this.rh-r*Math.cos(n);return e.x=o,e.y=a,e}function hte(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,i,r,s;this.ns>=0?(i=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(i=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var n=0;if(i!==0&&(n=Math.atan2(t*e.x,t*e.y)),this.sphere)return s=Ee(this.long0+n/this.ns),r=Ll(this.g-i/this.a),e.x=s,e.y=r,e;var o=this.g-i/this.a;return r=vv(o,this.e0,this.e1,this.e2,this.e3),s=Ee(this.long0+n/this.ns),e.x=s,e.y=r,e}var fte=["Equidistant_Conic","eqdc"];const dte={init:cte,forward:ute,inverse:hte,names:fte};function pte(){this.R=this.a}function mte(e){var t=e.x,i=e.y,r=Ee(t-this.long0),s,n;Math.abs(i)<=_e&&(s=this.x0+this.R*r,n=this.y0);var o=Tl(2*Math.abs(i/Math.PI));(Math.abs(r)<=_e||Math.abs(Math.abs(i)-he)<=_e)&&(s=this.x0,i>=0?n=this.y0+Math.PI*this.R*Math.tan(.5*o):n=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/r-r/Math.PI),l=a*a,c=Math.sin(o),f=Math.cos(o),d=f/(c+f-1),p=d*d,y=d*(2/c-1),v=y*y,b=Math.PI*this.R*(a*(d-v)+Math.sqrt(l*(d-v)*(d-v)-(v+l)*(p-v)))/(v+l);r<0&&(b=-b),s=this.x0+b;var S=l+d;return b=Math.PI*this.R*(y*S-a*Math.sqrt((v+l)*(l+1)-S*S))/(v+l),i>=0?n=this.y0+b:n=this.y0-b,e.x=s,e.y=n,e}function yte(e){var t,i,r,s,n,o,a,l,c,f,d,p,y;return e.x-=this.x0,e.y-=this.y0,d=Math.PI*this.R,r=e.x/d,s=e.y/d,n=r*r+s*s,o=-Math.abs(s)*(1+n),a=o-2*s*s+r*r,l=-2*o+1+2*s*s+n*n,y=s*s/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,c=(o-a*a/3/l)/l,f=2*Math.sqrt(-c/3),d=3*y/c/f,Math.abs(d)>1&&(d>=0?d=1:d=-1),p=Math.acos(d)/3,e.y>=0?i=(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI:i=-(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI,Math.abs(r)<_e?t=this.long0:t=Ee(this.long0+Math.PI*(n-1+Math.sqrt(1+2*(r*r-s*s)+n*n))/2/r),e.x=t,e.y=i,e}var gte=["Van_der_Grinten_I","VanDerGrinten","vandg"];const vte={init:pte,forward:mte,inverse:yte,names:gte};function bte(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function _te(e){var t=e.x,i=e.y,r=Math.sin(e.y),s=Math.cos(e.y),n=Ee(t-this.long0),o,a,l,c,f,d,p,y,v,b,S,E,T,w,_,$,M,I,N,P,F,z,U;return this.sphere?Math.abs(this.sin_p12-1)<=_e?(e.x=this.x0+this.a*(he-i)*Math.sin(n),e.y=this.y0-this.a*(he-i)*Math.cos(n),e):Math.abs(this.sin_p12+1)<=_e?(e.x=this.x0+this.a*(he+i)*Math.sin(n),e.y=this.y0+this.a*(he+i)*Math.cos(n),e):(I=this.sin_p12*r+this.cos_p12*s*Math.cos(n),$=Math.acos(I),M=$?$/Math.sin($):1,e.x=this.x0+this.a*M*s*Math.sin(n),e.y=this.y0+this.a*M*(this.cos_p12*r-this.sin_p12*s*Math.cos(n)),e):(o=a0(this.es),a=l0(this.es),l=c0(this.es),c=u0(this.es),Math.abs(this.sin_p12-1)<=_e?(f=this.a*Vr(o,a,l,c,he),d=this.a*Vr(o,a,l,c,i),e.x=this.x0+(f-d)*Math.sin(n),e.y=this.y0-(f-d)*Math.cos(n),e):Math.abs(this.sin_p12+1)<=_e?(f=this.a*Vr(o,a,l,c,he),d=this.a*Vr(o,a,l,c,i),e.x=this.x0+(f+d)*Math.sin(n),e.y=this.y0+(f+d)*Math.cos(n),e):(p=r/s,y=cf(this.a,this.e,this.sin_p12),v=cf(this.a,this.e,r),b=Math.atan((1-this.es)*p+this.es*y*this.sin_p12/(v*s)),S=Math.atan2(Math.sin(n),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(n)),S===0?N=Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(S)-Math.PI)<=_e?N=-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):N=Math.asin(Math.sin(n)*Math.cos(b)/Math.sin(S)),E=this.e*this.sin_p12/Math.sqrt(1-this.es),T=this.e*this.cos_p12*Math.cos(S)/Math.sqrt(1-this.es),w=E*T,_=T*T,P=N*N,F=P*N,z=F*N,U=z*N,$=y*N*(1-P*_*(1-_)/6+F/8*w*(1-2*_)+z/120*(_*(4-7*_)-3*E*E*(1-7*_))-U/48*w),e.x=this.x0+$*Math.sin(S),e.y=this.y0+$*Math.cos(S),e))}function wte(e){e.x-=this.x0,e.y-=this.y0;var t,i,r,s,n,o,a,l,c,f,d,p,y,v,b,S,E,T,w,_,$,M,I,N;return this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*he*this.a?void 0:(i=t/this.a,r=Math.sin(i),s=Math.cos(i),n=this.long0,Math.abs(t)<=_e?o=this.lat0:(o=Tl(s*this.sin_p12+e.y*r*this.cos_p12/t),a=Math.abs(this.lat0)-he,Math.abs(a)<=_e?this.lat0>=0?n=Ee(this.long0+Math.atan2(e.x,-e.y)):n=Ee(this.long0-Math.atan2(-e.x,e.y)):n=Ee(this.long0+Math.atan2(e.x*r,t*this.cos_p12*s-e.y*this.sin_p12*r))),e.x=n,e.y=o,e)):(l=a0(this.es),c=l0(this.es),f=c0(this.es),d=u0(this.es),Math.abs(this.sin_p12-1)<=_e?(p=this.a*Vr(l,c,f,d,he),t=Math.sqrt(e.x*e.x+e.y*e.y),y=p-t,o=vv(y/this.a,l,c,f,d),n=Ee(this.long0+Math.atan2(e.x,-1*e.y)),e.x=n,e.y=o,e):Math.abs(this.sin_p12+1)<=_e?(p=this.a*Vr(l,c,f,d,he),t=Math.sqrt(e.x*e.x+e.y*e.y),y=t-p,o=vv(y/this.a,l,c,f,d),n=Ee(this.long0+Math.atan2(e.x,e.y)),e.x=n,e.y=o,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),S=Math.atan2(e.x,e.y),v=cf(this.a,this.e,this.sin_p12),E=Math.cos(S),T=this.e*this.cos_p12*E,w=-T*T/(1-this.es),_=3*this.es*(1-w)*this.sin_p12*this.cos_p12*E/(1-this.es),$=t/v,M=$-w*(1+w)*Math.pow($,3)/6-_*(1+3*w)*Math.pow($,4)/24,I=1-w*M*M/2-$*M*M*M/6,b=Math.asin(this.sin_p12*Math.cos(M)+this.cos_p12*Math.sin(M)*E),n=Ee(this.long0+Math.asin(Math.sin(S)*Math.sin(M)/Math.cos(b))),N=Math.sin(b),o=Math.atan2((N-this.es*I*this.sin_p12)*Math.tan(b),N*(1-this.es)),e.x=n,e.y=o,e))}var xte=["Azimuthal_Equidistant","aeqd"];const Ete={init:bte,forward:_te,inverse:wte,names:xte};function Ste(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Ate(e){var t,i,r,s,n,o,a,l,c=e.x,f=e.y;return r=Ee(c-this.long0),t=Math.sin(f),i=Math.cos(f),s=Math.cos(r),o=this.sin_p14*t+this.cos_p14*i*s,n=1,(o>0||Math.abs(o)<=_e)&&(a=this.a*n*i*Math.sin(r),l=this.y0+this.a*n*(this.cos_p14*t-this.sin_p14*i*s)),e.x=a,e.y=l,e}function Tte(e){var t,i,r,s,n,o,a;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),i=Tl(t/this.a),r=Math.sin(i),s=Math.cos(i),o=this.long0,Math.abs(t)<=_e?(a=this.lat0,e.x=o,e.y=a,e):(a=Tl(s*this.sin_p14+e.y*r*this.cos_p14/t),n=Math.abs(this.lat0)-he,Math.abs(n)<=_e?(this.lat0>=0?o=Ee(this.long0+Math.atan2(e.x,-e.y)):o=Ee(this.long0-Math.atan2(-e.x,e.y)),e.x=o,e.y=a,e):(o=Ee(this.long0+Math.atan2(e.x*r,t*this.cos_p14*s-e.y*this.sin_p14*r)),e.x=o,e.y=a,e))}var $te=["ortho"];const Mte={init:Ste,forward:Ate,inverse:Tte,names:$te};var ni={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Et={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Ote(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=he-xt/2?this.face=ni.TOP:this.lat0<=-(he-xt/2)?this.face=ni.BOTTOM:Math.abs(this.long0)<=xt?this.face=ni.FRONT:Math.abs(this.long0)<=he+xt?this.face=this.long0>0?ni.RIGHT:ni.LEFT:this.face=ni.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Cte(e){var t={x:0,y:0},i,r,s,n,o,a,l={value:0};if(e.x-=this.long0,this.es!==0?i=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):i=e.y,r=e.x,this.face===ni.TOP)n=he-i,r>=xt&&r<=he+xt?(l.value=Et.AREA_0,s=r-he):r>he+xt||r<=-(he+xt)?(l.value=Et.AREA_1,s=r>0?r-_i:r+_i):r>-(he+xt)&&r<=-xt?(l.value=Et.AREA_2,s=r+he):(l.value=Et.AREA_3,s=r);else if(this.face===ni.BOTTOM)n=he+i,r>=xt&&r<=he+xt?(l.value=Et.AREA_0,s=-r+he):r<xt&&r>=-xt?(l.value=Et.AREA_1,s=-r):r<-xt&&r>=-(he+xt)?(l.value=Et.AREA_2,s=-r-he):(l.value=Et.AREA_3,s=r>0?-r+_i:-r-_i);else{var c,f,d,p,y,v,b;this.face===ni.RIGHT?r=jh(r,+he):this.face===ni.BACK?r=jh(r,+_i):this.face===ni.LEFT&&(r=jh(r,-he)),p=Math.sin(i),y=Math.cos(i),v=Math.sin(r),b=Math.cos(r),c=y*b,f=y*v,d=p,this.face===ni.FRONT?(n=Math.acos(c),s=iy(n,d,f,l)):this.face===ni.RIGHT?(n=Math.acos(f),s=iy(n,d,-c,l)):this.face===ni.BACK?(n=Math.acos(-c),s=iy(n,d,-f,l)):this.face===ni.LEFT?(n=Math.acos(-f),s=iy(n,d,c,l)):(n=s=0,l.value=Et.AREA_0)}return a=Math.atan(12/_i*(s+Math.acos(Math.sin(s)*Math.cos(xt))-he)),o=Math.sqrt((1-Math.cos(n))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(s))))),l.value===Et.AREA_1?a+=he:l.value===Et.AREA_2?a+=_i:l.value===Et.AREA_3&&(a+=1.5*_i),t.x=o*Math.cos(a),t.y=o*Math.sin(a),t.x=t.x*this.a+this.x0,t.y=t.y*this.a+this.y0,e.x=t.x,e.y=t.y,e}function Ite(e){var t={lam:0,phi:0},i,r,s,n,o,a,l,c,f,d={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,r=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),i=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?d.value=Et.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(d.value=Et.AREA_1,i-=he):e.x<0&&-e.x>=Math.abs(e.y)?(d.value=Et.AREA_2,i=i<0?i+_i:i-_i):(d.value=Et.AREA_3,i+=he),f=_i/12*Math.tan(i),o=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),a=Math.atan(o),s=Math.cos(i),n=Math.tan(r),l=1-s*s*n*n*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===ni.TOP)c=Math.acos(l),t.phi=he-c,d.value===Et.AREA_0?t.lam=a+he:d.value===Et.AREA_1?t.lam=a<0?a+_i:a-_i:d.value===Et.AREA_2?t.lam=a-he:t.lam=a;else if(this.face===ni.BOTTOM)c=Math.acos(l),t.phi=c-he,d.value===Et.AREA_0?t.lam=-a+he:d.value===Et.AREA_1?t.lam=-a:d.value===Et.AREA_2?t.lam=-a-he:t.lam=a<0?-a-_i:-a+_i;else{var p,y,v;p=l,f=p*p,f>=1?v=0:v=Math.sqrt(1-f)*Math.sin(a),f+=v*v,f>=1?y=0:y=Math.sqrt(1-f),d.value===Et.AREA_1?(f=y,y=-v,v=f):d.value===Et.AREA_2?(y=-y,v=-v):d.value===Et.AREA_3&&(f=y,y=v,v=-f),this.face===ni.RIGHT?(f=p,p=-y,y=f):this.face===ni.BACK?(p=-p,y=-y):this.face===ni.LEFT&&(f=p,p=y,y=-f),t.phi=Math.acos(-v)-he,t.lam=Math.atan2(y,p),this.face===ni.RIGHT?t.lam=jh(t.lam,-he):this.face===ni.BACK?t.lam=jh(t.lam,-_i):this.face===ni.LEFT&&(t.lam=jh(t.lam,+he))}if(this.es!==0){var b,S,E;b=t.phi<0?1:0,S=Math.tan(t.phi),E=this.b/Math.sqrt(S*S+this.one_minus_f_squared),t.phi=Math.atan(Math.sqrt(this.a*this.a-E*E)/(this.one_minus_f*E)),b&&(t.phi=-t.phi)}return t.lam+=this.long0,e.x=t.lam,e.y=t.phi,e}function iy(e,t,i,r){var s;return e<_e?(r.value=Et.AREA_0,s=0):(s=Math.atan2(t,i),Math.abs(s)<=xt?r.value=Et.AREA_0:s>xt&&s<=he+xt?(r.value=Et.AREA_1,s-=he):s>he+xt||s<=-(he+xt)?(r.value=Et.AREA_2,s=s>=0?s-_i:s+_i):(r.value=Et.AREA_3,s+=he)),s}function jh(e,t){var i=e+t;return i<-_i?i+=fm:i>+_i&&(i-=fm),i}var Pte=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const Nte={init:Ote,forward:Cte,inverse:Ite,names:Pte};var Rx=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],ip=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Nk=.8487,Lk=1.3523,kk=lo/5,Lte=1/kk,xh=18,bv=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},kte=function(e,t){return e[1]+t*(2*e[2]+t*3*e[3])};function Rte(e,t,i,r){for(var s=t;r;--r){var n=e(s);if(s-=n,Math.abs(n)<i)break}return s}function Dte(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Fte(e){var t=Ee(e.x-this.long0),i=Math.abs(e.y),r=Math.floor(i*kk);r<0?r=0:r>=xh&&(r=xh-1),i=lo*(i-Lte*r);var s={x:bv(Rx[r],i)*t,y:bv(ip[r],i)};return e.y<0&&(s.y=-s.y),s.x=s.x*this.a*Nk+this.x0,s.y=s.y*this.a*Lk+this.y0,s}function Ute(e){var t={x:(e.x-this.x0)/(this.a*Nk),y:Math.abs(e.y-this.y0)/(this.a*Lk)};if(t.y>=1)t.x/=Rx[xh][0],t.y=e.y<0?-he:he;else{var i=Math.floor(t.y*xh);for(i<0?i=0:i>=xh&&(i=xh-1);;)if(ip[i][0]>t.y)--i;else if(ip[i+1][0]<=t.y)++i;else break;var r=ip[i],s=5*(t.y-r[0])/(ip[i+1][0]-r[0]);s=Rte(function(n){return(bv(r,n)-t.y)/kte(r,n)},s,_e,100),t.x/=bv(Rx[i],s),t.y=(5*i+s)*or,e.y<0&&(t.y=-t.y)}return t.x=Ee(t.x+this.long0),t}var jte=["Robinson","robin"];const Vte={init:Dte,forward:Fte,inverse:Ute,names:jte};function Bte(){this.name="geocent"}function Gte(e){var t=xk(e,this.es,this.a);return t}function zte(e){var t=Ek(e,this.es,this.a,this.b);return t}var qte=["Geocentric","geocentric","geocent","Geocent"];const Hte={init:Bte,forward:Gte,inverse:zte,names:qte};var br={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},yd={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function Wte(){if(Object.keys(yd).forEach(function(i){if(typeof this[i]>"u")this[i]=yd[i].def;else{if(yd[i].num&&isNaN(this[i]))throw new Error("Invalid parameter value, must be numeric "+i+" = "+this[i]);yd[i].num&&(this[i]=parseFloat(this[i]))}yd[i].degrees&&(this[i]=this[i]*or)}.bind(this)),Math.abs(Math.abs(this.lat0)-he)<_e?this.mode=this.lat0<0?br.S_POLE:br.N_POLE:Math.abs(this.lat0)<_e?this.mode=br.EQUIT:(this.mode=br.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function Yte(e){e.x-=this.long0;var t=Math.sin(e.y),i=Math.cos(e.y),r=Math.cos(e.x),s,n;switch(this.mode){case br.OBLIQ:n=this.sinph0*t+this.cosph0*i*r;break;case br.EQUIT:n=i*r;break;case br.S_POLE:n=-t;break;case br.N_POLE:n=t;break}switch(n=this.pn1/(this.p-n),s=n*i*Math.sin(e.x),this.mode){case br.OBLIQ:n*=this.cosph0*t-this.sinph0*i*r;break;case br.EQUIT:n*=t;break;case br.N_POLE:n*=-(i*r);break;case br.S_POLE:n*=i*r;break}var o,a;return o=n*this.cg+s*this.sg,a=1/(o*this.sw*this.h1+this.cw),s=(s*this.cg-n*this.sg)*this.cw*a,n=o*a,e.x=s*this.a,e.y=n*this.a,e}function Jte(e){e.x/=this.a,e.y/=this.a;var t={x:e.x,y:e.y},i,r,s;s=1/(this.pn1-e.y*this.sw),i=this.pn1*e.x*s,r=this.pn1*e.y*this.cw*s,e.x=i*this.cg+r*this.sg,e.y=r*this.cg-i*this.sg;var n=is(e.x,e.y);if(Math.abs(n)<_e)t.x=0,t.y=e.y;else{var o,a;switch(a=1-n*n*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/n+n/this.pn1),o=Math.sqrt(1-a*a),this.mode){case br.OBLIQ:t.y=Math.asin(o*this.sinph0+e.y*a*this.cosph0/n),e.y=(o-this.sinph0*Math.sin(t.y))*n,e.x*=a*this.cosph0;break;case br.EQUIT:t.y=Math.asin(e.y*a/n),e.y=o*n,e.x*=a;break;case br.N_POLE:t.y=Math.asin(o),e.y=-e.y;break;case br.S_POLE:t.y=-Math.asin(o);break}t.x=Math.atan2(e.x,e.y)}return e.x=t.x+this.long0,e.y=t.y,e}var Zte=["Tilted_Perspective","tpers"];const Kte={init:Wte,forward:Yte,inverse:Jte,names:Zte};function Xte(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function Qte(e){var t=e.x,i=e.y,r,s,n,o;if(t=t-this.long0,this.shape==="ellipse"){i=Math.atan(this.radius_p2*Math.tan(i));var a=this.radius_p/is(this.radius_p*Math.cos(i),Math.sin(i));if(s=a*Math.cos(t)*Math.cos(i),n=a*Math.sin(t)*Math.cos(i),o=a*Math.sin(i),(this.radius_g-s)*s-n*n-o*o*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;r=this.radius_g-s,this.flip_axis?(e.x=this.radius_g_1*Math.atan(n/is(o,r)),e.y=this.radius_g_1*Math.atan(o/r)):(e.x=this.radius_g_1*Math.atan(n/r),e.y=this.radius_g_1*Math.atan(o/is(n,r)))}else this.shape==="sphere"&&(r=Math.cos(i),s=Math.cos(t)*r,n=Math.sin(t)*r,o=Math.sin(i),r=this.radius_g-s,this.flip_axis?(e.x=this.radius_g_1*Math.atan(n/is(o,r)),e.y=this.radius_g_1*Math.atan(o/r)):(e.x=this.radius_g_1*Math.atan(n/r),e.y=this.radius_g_1*Math.atan(o/is(n,r))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function eie(e){var t=-1,i=0,r=0,s,n,o,a;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(e.y/this.radius_g_1),i=Math.tan(e.x/this.radius_g_1)*is(1,r)):(i=Math.tan(e.x/this.radius_g_1),r=Math.tan(e.y/this.radius_g_1)*is(1,i));var l=r/this.radius_p;if(s=i*i+l*l+t*t,n=2*this.radius_g*t,o=n*n-4*s*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-n-Math.sqrt(o))/(2*s),t=this.radius_g+a*t,i*=a,r*=a,e.x=Math.atan2(i,t),e.y=Math.atan(r*Math.cos(e.x)/t),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(e.y/this.radius_g_1),i=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+r*r)):(i=Math.tan(e.x/this.radius_g_1),r=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+i*i)),s=i*i+r*r+t*t,n=2*this.radius_g*t,o=n*n-4*s*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-n-Math.sqrt(o))/(2*s),t=this.radius_g+a*t,i*=a,r*=a,e.x=Math.atan2(i,t),e.y=Math.atan(r*Math.cos(e.x)/t)}return e.x=e.x+this.long0,e}var tie=["Geostationary Satellite View","Geostationary_Satellite","geos"];const iie={init:Xte,forward:Qte,inverse:eie,names:tie};var bp=1.340264,_p=-.081106,wp=893e-6,xp=.003796,_v=Math.sqrt(3)/2;function rie(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function sie(e){var t=Ee(e.x-this.long0),i=e.y,r=Math.asin(_v*Math.sin(i)),s=r*r,n=s*s*s;return e.x=t*Math.cos(r)/(_v*(bp+3*_p*s+n*(7*wp+9*xp*s))),e.y=r*(bp+_p*s+n*(wp+xp*s)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function nie(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t=1e-9,i=12,r=e.y,s,n,o,a,l,c;for(c=0;c<i&&(s=r*r,n=s*s*s,o=r*(bp+_p*s+n*(wp+xp*s))-e.y,a=bp+3*_p*s+n*(7*wp+9*xp*s),r-=l=o/a,!(Math.abs(l)<t));++c);return s=r*r,n=s*s*s,e.x=_v*e.x*(bp+3*_p*s+n*(7*wp+9*xp*s))/Math.cos(r),e.y=Math.asin(Math.sin(r)/_v),e.x=Ee(e.x+this.long0),e}var oie=["eqearth","Equal Earth","Equal_Earth"];const aie={init:rie,forward:sie,inverse:nie,names:oie};var mm=1e-10;function lie(){var e;if(this.phi1=this.lat1,Math.abs(this.phi1)<mm)throw new Error;this.es?(this.en=y3(this.es),this.m1=Xf(this.phi1,this.am1=Math.sin(this.phi1),e=Math.cos(this.phi1),this.en),this.am1=e/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=uie,this.forward=cie):(Math.abs(this.phi1)+mm>=he?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=fie,this.forward=hie)}function cie(e){var t=Ee(e.x-(this.long0||0)),i=e.y,r,s,n;return r=this.am1+this.m1-Xf(i,s=Math.sin(i),n=Math.cos(i),this.en),s=n*t/(r*Math.sqrt(1-this.es*s*s)),e.x=r*Math.sin(s),e.y=this.am1-r*Math.cos(s),e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function uie(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,i,r,s;if(i=is(e.x,e.y=this.am1-e.y),s=g3(this.am1+this.m1-i,this.es,this.en),(t=Math.abs(s))<he)t=Math.sin(s),r=i*Math.atan2(e.x,e.y)*Math.sqrt(1-this.es*t*t)/Math.cos(s);else if(Math.abs(t-he)<=mm)r=0;else throw new Error;return e.x=Ee(r+(this.long0||0)),e.y=Ll(s),e}function hie(e){var t=Ee(e.x-(this.long0||0)),i=e.y,r,s;return s=this.cphi1+this.phi1-i,Math.abs(s)>mm?(e.x=s*Math.sin(r=t*Math.cos(i)/s),e.y=this.cphi1-s*Math.cos(r)):e.x=e.y=0,e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function fie(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,i,r=is(e.x,e.y=this.cphi1-e.y);if(i=this.cphi1+this.phi1-r,Math.abs(i)>he)throw new Error;return Math.abs(Math.abs(i)-he)<=mm?t=0:t=r*Math.atan2(e.x,e.y)/Math.cos(i),e.x=Ee(t+(this.long0||0)),e.y=Ll(i),e}var die=["bonne","Bonne (Werner lat_1=90)"];const pie={init:lie,names:die};function mie(e){e.Proj.projections.add(gg),e.Proj.projections.add(vg),e.Proj.projections.add(cQ),e.Proj.projections.add(bQ),e.Proj.projections.add(AQ),e.Proj.projections.add(CQ),e.Proj.projections.add(RQ),e.Proj.projections.add(VQ),e.Proj.projections.add(HQ),e.Proj.projections.add(KQ),e.Proj.projections.add(pee),e.Proj.projections.add(_ee),e.Proj.projections.add(Aee),e.Proj.projections.add(Iee),e.Proj.projections.add(Ree),e.Proj.projections.add(Vee),e.Proj.projections.add(Hee),e.Proj.projections.add(Kee),e.Proj.projections.add(rte),e.Proj.projections.add(lte),e.Proj.projections.add(dte),e.Proj.projections.add(vte),e.Proj.projections.add(Ete),e.Proj.projections.add(Mte),e.Proj.projections.add(Nte),e.Proj.projections.add(Vte),e.Proj.projections.add(Hte),e.Proj.projections.add(Kte),e.Proj.projections.add(iie),e.Proj.projections.add(aie),e.Proj.projections.add(pie)}Lt.defaultDatum="WGS84";Lt.Proj=mo;Lt.WGS84=new Lt.Proj("WGS84");Lt.Point=lf;Lt.toPoint=Sk;Lt.defs=kr;Lt.nadgrid=hX;Lt.transform=gv;Lt.mgrs=$X;Lt.version="__VERSION__";mie(Lt);const yie="EPSG:4326";class gie{espgWorker;constructor(){this.espgWorker=this.defaultEpsgLookup,Lt.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Lt.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Lt.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),Lt.defs("EPSG:102100",Lt.defs("EPSG:3857")),Lt.defs("EPSG:102187","+proj=tmerc +lat_0=0 +lon_0=-114 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Lt.defs("EPSG:102190","+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");let t=1;for(;t<=60;){const i=t<10?`0${t}`:t;Lt.defs(`EPSG:326${i}`,`+proj=utm +zone=${t} +ellps=WGS84 +datum=WGS84 +units=m +no_defs`),t++}}addProjection(t,i){t=typeof t=="number"?`EPSG:${t}`:t,Lt.defs(t,i)}defaultEpsgLookup(t){const i=/urn:ogc:def:crs:EPSG::(\d+)/,r=/EPSG:(\d+)/,s=String(t).match(i)||String(t).match(r)||[];if(s.length<2)throw new Error("Invalid code provided.");return new Promise((n,o)=>{const a=`https://epsg.io/${s[1]}.proj4`;Li(a,{responseType:"text"}).then(f=>{f.data?n(f.data):o()},f=>{o(f)})})}epsgLookup(t){return this.espgWorker(t)}setEpsgLookup(t){this.espgWorker=t}normalizeProj(t){if(typeof t=="object"){if(t.wkid)return"EPSG:"+t.wkid;if(t.wkt)return t.wkt}else{if(typeof t=="number")return"EPSG:"+t;if(typeof t=="string")return t}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}async checkProj(t){let i,r="";try{i=this.normalizeProj(t)}catch{return!1}if(!i.startsWith("EPSG:"))return!0;typeof t=="object"&&t.latestWkid&&(r=this.normalizeProj(t.latestWkid));const s=(l,c)=>{l!==c&&Lt.defs(c,Lt.defs(l))};if(Lt.defs(i))return!0;if(r&&Lt.defs(r))return s(r,i),!0;const n=async l=>{try{const c=await this.epsgLookup(l);return c===null||c===""?!1:(Lt.defs(l,c),!0)}catch{return!1}};return await(r?n(r):Promise.resolve(!1))?(s(r,i),!0):n(i)}async checkProjBomber(t){if(t.length>0){const i=t.pop();if(await this.checkProj(i))return this.checkProjBomber(t);throw console.error("Unable to parse or locate projection information for this item:",i),new Error("Could not find projection information, see console for details")}}async projectGeoJson(t,i,r){let s,n;if(i?s=this.normalizeProj(i):s=Ve.parseGeoJsonCrs(t.crs),r?n=this.normalizeProj(r):n=yie,n===s)return t;await this.checkProjBomber([s,n]);const o=Lt(s,n).forward;return AK(t,o)}async projectGeometry(t,i){if(i.type===Ze.EXTENT)return this.projectExtent(t,i);await this.checkProjBomber([t,i.sr]);const r=i.toGeoJSON(),s=await this.projectGeoJson(r,this.normalizeProj(i.sr),this.normalizeProj(t)),n=Yh.geom.geomGeoJsonToRamp(s,i.id);return n.sr=Ve.parseSR(t),n}async projectExtent(t,i){const r=(b,S,E)=>{if(E===0)return[b,S];const T=[(b[0]+S[0])/2,(b[1]+S[1])/2];if(E===1)return[b,T,S];if(E>1){const w=r(b,T,E-1),_=r(T,S,E-1);return w.concat(_.slice(1))}return[[]]},s=i.toPolygonArray().pop()||[];let n=[];[0,1,2,3].map(b=>r(s[b],s[b+1],3).slice(1)).forEach(b=>n=n.concat(b));const o=new _r("warpy",[n],i.sr,!0),a=await this.projectGeometry(t,o),l=a.toArray().pop()||[],c=l.map(b=>b[0]),f=l.map(b=>b[1]),d=Math.min.apply(null,c),p=Math.max.apply(null,c),y=Math.min.apply(null,f),v=Math.max.apply(null,f);return ei.fromParams(i.id+"_projected",d,y,p,v,a.sr)}}class vie{DEFAULT_MERCATOR="DEFAULT_ESRI_World_AuxMerc_3857";DEFAULT_LAMBERT="DEFAULT_NRCAN_Lambert_3978";proj;geom;sharedUtils;constructor(){this.proj=new gie,this.geom=new pK,this.sharedUtils=new vK}defaultTileSchemas(){return[this.DEFAULT_LAMBERT,this.DEFAULT_MERCATOR]}defaultLODs(t){const i=r=>r.map(s=>({level:s[0],resolution:s[1],scale:s[2]}));if(t===this.DEFAULT_LAMBERT)return i([[0,38364.660062653464,145e6],[1,22489.62831258996,85e6],[2,13229.193125052918,5e7],[3,7937.5158750317505,3e7],[4,4630.2175937685215,175e5],[5,2645.8386250105837,1e7],[6,1587.5031750063501,6e6],[7,926.0435187537042,35e5],[8,529.1677250021168,2e6],[9,317.50063500127004,12e5],[10,185.20870375074085,7e5],[11,111.12522225044451,42e4],[12,66.1459656252646,25e4],[13,38.36466006265346,145e3],[14,22.48962831258996,85e3],[15,13.229193125052918,5e4],[16,7.9375158750317505,3e4],[17,4.6302175937685215,17500]]);if(t===this.DEFAULT_MERCATOR)return i([[0,19567.87924099992,73957190948944e-6],[1,9783.93962049996,36978595474472e-6],[2,4891.96981024998,18489297737236e-6],[3,2445.98490512499,9244648868618e-6],[4,1222.992452562495,4622324434309e-6],[5,611.4962262813797,2311162217155e-6],[6,305.74811314055756,1155581108577e-6],[7,152.87405657041106,577790.554289],[8,76.43702828507324,288895.277144],[9,38.21851414253662,144447.638572],[10,19.10925707126831,72223.819286],[11,9.554628535634155,36111.909643],[12,4.77731426794937,18055.954822],[13,2.388657133974685,9027.977411],[14,1.1943285668550503,4513.988705],[15,.5971642835598172,2256.994353],[16,.29858214164761665,1128.497176],[17,.14929107082380833,564.248588],[18,.07464553541190416,282.124294],[19,.03732276770595208,141.062147],[20,.01866138385297604,70.5310735]]);throw new Error(`Unknown tile schema key passed to LOD defaulter ${t}`)}}class Mi{$iApi;get $vApp(){return this.$iApi.$vApp}get $element(){return this.$iApi.$element}constructor(t){this.$iApi=t}}function bie(e){return typeof e=="function"&&e.render&&typeof e.render=="function"}function _ie(e){const t=["data","props","propsData","computed","methods","watch","template","render","components","model"];return typeof e=="object"&&!e.functional&&t.some(i=>e[i]!==void 0)}function Rk(e){return typeof e=="object"&&Object.keys(e).every(t=>typeof t=="string")&&Object.values(e).every(t=>t instanceof HTMLElement)}function wie(e){return typeof e=="object"&&e.default!==void 0}var ry={exports:{}},_M;function xie(){if(_M)return ry.exports;_M=1;function e(){}return e.prototype={on:function(t,i,r){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:i,ctx:r}),this},once:function(t,i,r){var s=this;function n(){s.off(t,n),i.apply(r,arguments)}return n._=i,this.on(t,n,r)},emit:function(t){var i=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),s=0,n=r.length;for(s;s<n;s++)r[s].fn.apply(r[s].ctx,i);return this},off:function(t,i){var r=this.e||(this.e={}),s=r[t],n=[];if(s&&i)for(var o=0,a=s.length;o<a;o++)s[o].fn!==i&&s[o].fn._!==i&&n.push(s[o]);return n.length?r[t]=n:delete r[t],this}},ry.exports=e,ry.exports.TinyEmitter=e,ry.exports}var Eie=xie();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function $s(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return i=>i in t}const st={},Vh=[],cr=()=>{},rp=()=>!1,Tu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),w3=e=>e.startsWith("onUpdate:"),nt=Object.assign,x3=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},Sie=Object.prototype.hasOwnProperty,bt=(e,t)=>Sie.call(e,t),Se=Array.isArray,Bh=e=>Qf(e)==="[object Map]",$u=e=>Qf(e)==="[object Set]",wM=e=>Qf(e)==="[object Date]",Aie=e=>Qf(e)==="[object RegExp]",Fe=e=>typeof e=="function",Je=e=>typeof e=="string",fs=e=>typeof e=="symbol",Ot=e=>e!==null&&typeof e=="object",E3=e=>(Ot(e)||Fe(e))&&Fe(e.then)&&Fe(e.catch),Dk=Object.prototype.toString,Qf=e=>Dk.call(e),Tie=e=>Qf(e).slice(8,-1),eb=e=>Qf(e)==="[object Object]",S3=e=>Je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,vl=$s(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$ie=$s("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),tb=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},Mie=/-(\w)/g,Bt=tb(e=>e.replace(Mie,(t,i)=>i?i.toUpperCase():"")),Oie=/\B([A-Z])/g,rs=tb(e=>e.replace(Oie,"-$1").toLowerCase()),kl=tb(e=>e.charAt(0).toUpperCase()+e.slice(1)),jc=tb(e=>e?`on${kl(e)}`:""),Fr=(e,t)=>!Object.is(e,t),Gh=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},Fk=(e,t,i,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:i})},wv=e=>{const t=parseFloat(e);return isNaN(t)?e:t},xv=e=>{const t=Je(e)?Number(e):NaN;return isNaN(t)?e:t};let xM;const ib=()=>xM||(xM=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Cie(e,t){return e+JSON.stringify(t,(i,r)=>typeof r=="function"?r.toString():r)}const Iie="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",Pie=$s(Iie);function Rl(e){if(Se(e)){const t={};for(let i=0;i<e.length;i++){const r=e[i],s=Je(r)?Uk(r):Rl(r);if(s)for(const n in s)t[n]=s[n]}return t}else if(Je(e)||Ot(e))return e}const Nie=/;(?![^(]*\))/g,Lie=/:([^]+)/,kie=/\/\*[^]*?\*\//g;function Uk(e){const t={};return e.replace(kie,"").split(Nie).forEach(i=>{if(i){const r=i.split(Lie);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function mi(e){let t="";if(Je(e))t=e;else if(Se(e))for(let i=0;i<e.length;i++){const r=mi(e[i]);r&&(t+=r+" ")}else if(Ot(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}function jk(e){if(!e)return null;let{class:t,style:i}=e;return t&&!Je(t)&&(e.class=mi(t)),i&&(e.style=Rl(i)),e}const Rie="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Die="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Fie="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",Uie="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",jie=$s(Rie),Vie=$s(Die),Bie=$s(Fie),Gie=$s(Uie),zie="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qie=$s(zie);function Vk(e){return!!e||e===""}function Hie(e,t){if(e.length!==t.length)return!1;let i=!0;for(let r=0;i&&r<e.length;r++)i=$l(e[r],t[r]);return i}function $l(e,t){if(e===t)return!0;let i=wM(e),r=wM(t);if(i||r)return i&&r?e.getTime()===t.getTime():!1;if(i=fs(e),r=fs(t),i||r)return e===t;if(i=Se(e),r=Se(t),i||r)return i&&r?Hie(e,t):!1;if(i=Ot(e),r=Ot(t),i||r){if(!i||!r)return!1;const s=Object.keys(e).length,n=Object.keys(t).length;if(s!==n)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!$l(e[o],t[o]))return!1}}return String(e)===String(t)}function rb(e,t){return e.findIndex(i=>$l(i,t))}const Bk=e=>!!(e&&e.__v_isRef===!0),kt=e=>Je(e)?e:e==null?"":Se(e)||Ot(e)&&(e.toString===Dk||!Fe(e.toString))?Bk(e)?kt(e.value):JSON.stringify(e,Gk,2):String(e),Gk=(e,t)=>Bk(t)?Gk(e,t.value):Bh(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[r,s],n)=>(i[B_(r,n)+" =>"]=s,i),{})}:$u(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>B_(i))}:fs(t)?B_(t):Ot(t)&&!Se(t)&&!eb(t)?String(t):t,B_=(e,t="")=>{var i;return fs(e)?`Symbol(${(i=e.description)!=null?i:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rr;class sb{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Rr,!t&&Rr&&(this.index=(Rr.scopes||(Rr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].pause();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].resume();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].resume()}}run(t){if(this._active){const i=Rr;try{return Rr=this,t()}finally{Rr=i}}}on(){Rr=this}off(){Rr=this.parent}stop(t){if(this._active){this._active=!1;let i,r;for(i=0,r=this.effects.length;i<r;i++)this.effects[i].stop();for(this.effects.length=0,i=0,r=this.cleanups.length;i<r;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,r=this.scopes.length;i<r;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function h0(e){return new sb(e)}function nb(){return Rr}function A3(e,t=!1){Rr&&Rr.cleanups.push(e)}let Ut;const G_=new WeakSet;class uf{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Rr&&Rr.active&&Rr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,G_.has(this)&&(G_.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||qk(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,EM(this),Hk(this);const t=Ut,i=Sn;Ut=this,Sn=!0;try{return this.fn()}finally{Wk(this),Ut=t,Sn=i,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)M3(t);this.deps=this.depsTail=void 0,EM(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?G_.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Dx(this)&&this.run()}get dirty(){return Dx(this)}}let zk=0,Ep,Sp;function qk(e,t=!1){if(e.flags|=8,t){e.next=Sp,Sp=e;return}e.next=Ep,Ep=e}function T3(){zk++}function $3(){if(--zk>0)return;if(Sp){let t=Sp;for(Sp=void 0;t;){const i=t.next;t.next=void 0,t.flags&=-9,t=i}}let e;for(;Ep;){let t=Ep;for(Ep=void 0;t;){const i=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=i}}if(e)throw e}function Hk(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Wk(e){let t,i=e.depsTail,r=i;for(;r;){const s=r.prevDep;r.version===-1?(r===i&&(i=s),M3(r),Wie(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=i}function Dx(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Yk(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Yk(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ym))return;e.globalVersion=ym;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Dx(e)){e.flags&=-3;return}const i=Ut,r=Sn;Ut=e,Sn=!0;try{Hk(e);const s=e.fn(e._value);(t.version===0||Fr(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Ut=i,Sn=r,Wk(e),e.flags&=-3}}function M3(e,t=!1){const{dep:i,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),i.subs===e&&(i.subs=r,!r&&i.computed)){i.computed.flags&=-5;for(let n=i.computed.deps;n;n=n.nextDep)M3(n,!0)}!t&&!--i.sc&&i.map&&i.map.delete(i.key)}function Wie(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}function Jk(e,t){e.effect instanceof uf&&(e=e.effect.fn);const i=new uf(e);t&&nt(i,t);try{i.run()}catch(s){throw i.stop(),s}const r=i.run.bind(i);return r.effect=i,r}function Zk(e){e.effect.stop()}let Sn=!0;const Kk=[];function Dl(){Kk.push(Sn),Sn=!1}function Fl(){const e=Kk.pop();Sn=e===void 0?!0:e}function EM(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const i=Ut;Ut=void 0;try{t()}finally{Ut=i}}}let ym=0;class Yie{constructor(t,i){this.sub=t,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ob{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ut||!Sn||Ut===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==Ut)i=this.activeLink=new Yie(Ut,this),Ut.deps?(i.prevDep=Ut.depsTail,Ut.depsTail.nextDep=i,Ut.depsTail=i):Ut.deps=Ut.depsTail=i,Xk(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const r=i.nextDep;r.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=r),i.prevDep=Ut.depsTail,i.nextDep=void 0,Ut.depsTail.nextDep=i,Ut.depsTail=i,Ut.deps===i&&(Ut.deps=r)}return i}trigger(t){this.version++,ym++,this.notify(t)}notify(t){T3();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{$3()}}}function Xk(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Xk(r)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const Ev=new WeakMap,Vc=Symbol(""),Fx=Symbol(""),gm=Symbol("");function wr(e,t,i){if(Sn&&Ut){let r=Ev.get(e);r||Ev.set(e,r=new Map);let s=r.get(i);s||(r.set(i,s=new ob),s.map=r,s.key=i),s.track()}}function sa(e,t,i,r,s,n){const o=Ev.get(e);if(!o){ym++;return}const a=l=>{l&&l.trigger()};if(T3(),t==="clear")o.forEach(a);else{const l=Se(e),c=l&&S3(i);if(l&&i==="length"){const f=Number(r);o.forEach((d,p)=>{(p==="length"||p===gm||!fs(p)&&p>=f)&&a(d)})}else switch((i!==void 0||o.has(void 0))&&a(o.get(i)),c&&a(o.get(gm)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Vc)),Bh(e)&&a(o.get(Fx)));break;case"delete":l||(a(o.get(Vc)),Bh(e)&&a(o.get(Fx)));break;case"set":Bh(e)&&a(o.get(Vc));break}}$3()}function Jie(e,t){const i=Ev.get(e);return i&&i.get(t)}function qu(e){const t=Ge(e);return t===e?t:(wr(t,"iterate",gm),as(e)?t:t.map(xr))}function ab(e){return wr(e=Ge(e),"iterate",gm),e}const Zie={__proto__:null,[Symbol.iterator](){return z_(this,Symbol.iterator,xr)},concat(...e){return qu(this).concat(...e.map(t=>Se(t)?qu(t):t))},entries(){return z_(this,"entries",e=>(e[1]=xr(e[1]),e))},every(e,t){return Do(this,"every",e,t,void 0,arguments)},filter(e,t){return Do(this,"filter",e,t,i=>i.map(xr),arguments)},find(e,t){return Do(this,"find",e,t,xr,arguments)},findIndex(e,t){return Do(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Do(this,"findLast",e,t,xr,arguments)},findLastIndex(e,t){return Do(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Do(this,"forEach",e,t,void 0,arguments)},includes(...e){return q_(this,"includes",e)},indexOf(...e){return q_(this,"indexOf",e)},join(e){return qu(this).join(e)},lastIndexOf(...e){return q_(this,"lastIndexOf",e)},map(e,t){return Do(this,"map",e,t,void 0,arguments)},pop(){return gd(this,"pop")},push(...e){return gd(this,"push",e)},reduce(e,...t){return SM(this,"reduce",e,t)},reduceRight(e,...t){return SM(this,"reduceRight",e,t)},shift(){return gd(this,"shift")},some(e,t){return Do(this,"some",e,t,void 0,arguments)},splice(...e){return gd(this,"splice",e)},toReversed(){return qu(this).toReversed()},toSorted(e){return qu(this).toSorted(e)},toSpliced(...e){return qu(this).toSpliced(...e)},unshift(...e){return gd(this,"unshift",e)},values(){return z_(this,"values",xr)}};function z_(e,t,i){const r=ab(e),s=r[t]();return r!==e&&!as(e)&&(s._next=s.next,s.next=()=>{const n=s._next();return n.value&&(n.value=i(n.value)),n}),s}const Kie=Array.prototype;function Do(e,t,i,r,s,n){const o=ab(e),a=o!==e&&!as(e),l=o[t];if(l!==Kie[t]){const d=l.apply(e,n);return a?xr(d):d}let c=i;o!==e&&(a?c=function(d,p){return i.call(this,xr(d),p,e)}:i.length>2&&(c=function(d,p){return i.call(this,d,p,e)}));const f=l.call(o,c,r);return a&&s?s(f):f}function SM(e,t,i,r){const s=ab(e);let n=i;return s!==e&&(as(e)?i.length>3&&(n=function(o,a,l){return i.call(this,o,a,l,e)}):n=function(o,a,l){return i.call(this,o,xr(a),l,e)}),s[t](n,...r)}function q_(e,t,i){const r=Ge(e);wr(r,"iterate",gm);const s=r[t](...i);return(s===-1||s===!1)&&f0(i[0])?(i[0]=Ge(i[0]),r[t](...i)):s}function gd(e,t,i=[]){Dl(),T3();const r=Ge(e)[t].apply(e,i);return $3(),Fl(),r}const Xie=$s("__proto__,__v_isRef,__isVue"),Qk=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(fs));function Qie(e){fs(e)||(e=String(e));const t=Ge(this);return wr(t,"has",e),t.hasOwnProperty(e)}class eR{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,r){if(i==="__v_skip")return t.__v_skip;const s=this._isReadonly,n=this._isShallow;if(i==="__v_isReactive")return!s;if(i==="__v_isReadonly")return s;if(i==="__v_isShallow")return n;if(i==="__v_raw")return r===(s?n?oR:nR:n?sR:rR).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Se(t);if(!s){let l;if(o&&(l=Zie[i]))return l;if(i==="hasOwnProperty")return Qie}const a=Reflect.get(t,i,ht(t)?t:r);return(fs(i)?Qk.has(i):Xie(i))||(s||wr(t,"get",i),n)?a:ht(a)?o&&S3(i)?a:a.value:Ot(a)?s?cb(a):rr(a):a}}class tR extends eR{constructor(t=!1){super(!1,t)}set(t,i,r,s){let n=t[i];if(!this._isShallow){const l=ma(n);if(!as(r)&&!ma(r)&&(n=Ge(n),r=Ge(r)),!Se(t)&&ht(n)&&!ht(r))return l?!1:(n.value=r,!0)}const o=Se(t)&&S3(i)?Number(i)<t.length:bt(t,i),a=Reflect.set(t,i,r,ht(t)?t:s);return t===Ge(s)&&(o?Fr(r,n)&&sa(t,"set",i,r):sa(t,"add",i,r)),a}deleteProperty(t,i){const r=bt(t,i);t[i];const s=Reflect.deleteProperty(t,i);return s&&r&&sa(t,"delete",i,void 0),s}has(t,i){const r=Reflect.has(t,i);return(!fs(i)||!Qk.has(i))&&wr(t,"has",i),r}ownKeys(t){return wr(t,"iterate",Se(t)?"length":Vc),Reflect.ownKeys(t)}}class iR extends eR{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const ere=new tR,tre=new iR,ire=new tR(!0),rre=new iR(!0),Ux=e=>e,sy=e=>Reflect.getPrototypeOf(e);function sre(e,t,i){return function(...r){const s=this.__v_raw,n=Ge(s),o=Bh(n),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...r),f=i?Ux:t?jx:xr;return!t&&wr(n,"iterate",l?Fx:Vc),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:a?[f(d[0]),f(d[1])]:f(d),done:p}},[Symbol.iterator](){return this}}}}function ny(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function nre(e,t){const i={get(s){const n=this.__v_raw,o=Ge(n),a=Ge(s);e||(Fr(s,a)&&wr(o,"get",s),wr(o,"get",a));const{has:l}=sy(o),c=t?Ux:e?jx:xr;if(l.call(o,s))return c(n.get(s));if(l.call(o,a))return c(n.get(a));n!==o&&n.get(s)},get size(){const s=this.__v_raw;return!e&&wr(Ge(s),"iterate",Vc),Reflect.get(s,"size",s)},has(s){const n=this.__v_raw,o=Ge(n),a=Ge(s);return e||(Fr(s,a)&&wr(o,"has",s),wr(o,"has",a)),s===a?n.has(s):n.has(s)||n.has(a)},forEach(s,n){const o=this,a=o.__v_raw,l=Ge(a),c=t?Ux:e?jx:xr;return!e&&wr(l,"iterate",Vc),a.forEach((f,d)=>s.call(n,c(f),c(d),o))}};return nt(i,e?{add:ny("add"),set:ny("set"),delete:ny("delete"),clear:ny("clear")}:{add(s){!t&&!as(s)&&!ma(s)&&(s=Ge(s));const n=Ge(this);return sy(n).has.call(n,s)||(n.add(s),sa(n,"add",s,s)),this},set(s,n){!t&&!as(n)&&!ma(n)&&(n=Ge(n));const o=Ge(this),{has:a,get:l}=sy(o);let c=a.call(o,s);c||(s=Ge(s),c=a.call(o,s));const f=l.call(o,s);return o.set(s,n),c?Fr(n,f)&&sa(o,"set",s,n):sa(o,"add",s,n),this},delete(s){const n=Ge(this),{has:o,get:a}=sy(n);let l=o.call(n,s);l||(s=Ge(s),l=o.call(n,s)),a&&a.call(n,s);const c=n.delete(s);return l&&sa(n,"delete",s,void 0),c},clear(){const s=Ge(this),n=s.size!==0,o=s.clear();return n&&sa(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{i[s]=sre(s,e,t)}),i}function lb(e,t){const i=nre(e,t);return(r,s,n)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(bt(i,s)&&s in r?i:r,s,n)}const ore={get:lb(!1,!1)},are={get:lb(!1,!0)},lre={get:lb(!0,!1)},cre={get:lb(!0,!0)},rR=new WeakMap,sR=new WeakMap,nR=new WeakMap,oR=new WeakMap;function ure(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hre(e){return e.__v_skip||!Object.isExtensible(e)?0:ure(Tie(e))}function rr(e){return ma(e)?e:ub(e,!1,ere,ore,rR)}function O3(e){return ub(e,!1,ire,are,sR)}function cb(e){return ub(e,!0,tre,lre,nR)}function aR(e){return ub(e,!0,rre,cre,oR)}function ub(e,t,i,r,s){if(!Ot(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=s.get(e);if(n)return n;const o=hre(e);if(o===0)return e;const a=new Proxy(e,o===2?r:i);return s.set(e,a),a}function xs(e){return ma(e)?xs(e.__v_raw):!!(e&&e.__v_isReactive)}function ma(e){return!!(e&&e.__v_isReadonly)}function as(e){return!!(e&&e.__v_isShallow)}function f0(e){return e?!!e.__v_raw:!1}function Ge(e){const t=e&&e.__v_raw;return t?Ge(t):e}function pi(e){return!bt(e,"__v_skip")&&Object.isExtensible(e)&&Fk(e,"__v_skip",!0),e}const xr=e=>Ot(e)?rr(e):e,jx=e=>Ot(e)?cb(e):e;function ht(e){return e?e.__v_isRef===!0:!1}function X(e){return lR(e,!1)}function ed(e){return lR(e,!0)}function lR(e,t){return ht(e)?e:new fre(e,t)}class fre{constructor(t,i){this.dep=new ob,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?t:Ge(t),this._value=i?t:xr(t),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(t){const i=this._rawValue,r=this.__v_isShallow||as(t)||ma(t);t=r?t:Ge(t),Fr(t,i)&&(this._rawValue=t,this._value=r?t:xr(t),this.dep.trigger())}}function cR(e){e.dep&&e.dep.trigger()}function Me(e){return ht(e)?e.value:e}function uR(e){return Fe(e)?e():Me(e)}const dre={get:(e,t,i)=>t==="__v_raw"?e:Me(Reflect.get(e,t,i)),set:(e,t,i,r)=>{const s=e[t];return ht(s)&&!ht(i)?(s.value=i,!0):Reflect.set(e,t,i,r)}};function hb(e){return xs(e)?e:new Proxy(e,dre)}class pre{constructor(t){this.__v_isRef=!0,this._value=void 0;const i=this.dep=new ob,{get:r,set:s}=t(i.track.bind(i),i.trigger.bind(i));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function C3(e){return new pre(e)}function I3(e){const t=Se(e)?new Array(e.length):{};for(const i in e)t[i]=fR(e,i);return t}class mre{constructor(t,i,r){this._object=t,this._key=i,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Jie(Ge(this._object),this._key)}}class yre{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function hR(e,t,i){return ht(e)?e:Fe(e)?new yre(e):Ot(e)&&arguments.length>1?fR(e,t,i):X(e)}function fR(e,t,i){const r=e[t];return ht(r)?r:new mre(e,t,i)}class gre{constructor(t,i,r){this.fn=t,this.setter=i,this._value=void 0,this.dep=new ob(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ym-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ut!==this)return qk(this,!0),!0}get value(){const t=this.dep.track();return Yk(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function vre(e,t,i=!1){let r,s;return Fe(e)?r=e:(r=e.get,s=e.set),new gre(r,s,i)}const dR={GET:"get",HAS:"has",ITERATE:"iterate"},pR={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},oy={},Sv=new WeakMap;let Qa;function mR(){return Qa}function P3(e,t=!1,i=Qa){if(i){let r=Sv.get(i);r||Sv.set(i,r=[]),r.push(e)}}function bre(e,t,i=st){const{immediate:r,deep:s,once:n,scheduler:o,augmentJob:a,call:l}=i,c=_=>s?_:as(_)||s===!1||s===0?na(_,1):na(_);let f,d,p,y,v=!1,b=!1;if(ht(e)?(d=()=>e.value,v=as(e)):xs(e)?(d=()=>c(e),v=!0):Se(e)?(b=!0,v=e.some(_=>xs(_)||as(_)),d=()=>e.map(_=>{if(ht(_))return _.value;if(xs(_))return c(_);if(Fe(_))return l?l(_,2):_()})):Fe(e)?t?d=l?()=>l(e,2):e:d=()=>{if(p){Dl();try{p()}finally{Fl()}}const _=Qa;Qa=f;try{return l?l(e,3,[y]):e(y)}finally{Qa=_}}:d=cr,t&&s){const _=d,$=s===!0?1/0:s;d=()=>na(_(),$)}const S=nb(),E=()=>{f.stop(),S&&S.active&&x3(S.effects,f)};if(n&&t){const _=t;t=(...$)=>{_(...$),E()}}let T=b?new Array(e.length).fill(oy):oy;const w=_=>{if(!(!(f.flags&1)||!f.dirty&&!_))if(t){const $=f.run();if(s||v||(b?$.some((M,I)=>Fr(M,T[I])):Fr($,T))){p&&p();const M=Qa;Qa=f;try{const I=[$,T===oy?void 0:b&&T[0]===oy?[]:T,y];l?l(t,3,I):t(...I),T=$}finally{Qa=M}}}else f.run()};return a&&a(w),f=new uf(d),f.scheduler=o?()=>o(w,!1):w,y=_=>P3(_,!1,f),p=f.onStop=()=>{const _=Sv.get(f);if(_){if(l)l(_,4);else for(const $ of _)$();Sv.delete(f)}},t?r?w(!0):T=f.run():o?o(w.bind(null,!0),!0):f.run(),E.pause=f.pause.bind(f),E.resume=f.resume.bind(f),E.stop=E,E}function na(e,t=1/0,i){if(t<=0||!Ot(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),t--,ht(e))na(e.value,t,i);else if(Se(e))for(let r=0;r<e.length;r++)na(e[r],t,i);else if($u(e)||Bh(e))e.forEach(r=>{na(r,t,i)});else if(eb(e)){for(const r in e)na(e[r],t,i);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&na(e[r],t,i)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yR=[];function _re(e){yR.push(e)}function wre(){yR.pop()}function gR(e,t){}const vR={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},xre={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Mu(e,t,i,r){try{return r?e(...r):e()}catch(s){Ul(s,t,i)}}function Ss(e,t,i,r){if(Fe(e)){const s=Mu(e,t,i,r);return s&&E3(s)&&s.catch(n=>{Ul(n,t,i)}),s}if(Se(e)){const s=[];for(let n=0;n<e.length;n++)s.push(Ss(e[n],t,i,r));return s}}function Ul(e,t,i,r=!0){const s=t?t.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||st;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${i}`;for(;a;){const f=a.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,l,c)===!1)return}a=a.parent}if(n){Dl(),Mu(n,null,10,[e,l,c]),Fl();return}}Ere(e,i,s,r,o)}function Ere(e,t,i,r=!0,s=!1){if(s)throw e;console.error(e)}const Ur=[];let eo=-1;const zh=[];let el=null,ah=0;const bR=Promise.resolve();let Av=null;function Dn(e){const t=Av||bR;return e?t.then(this?e.bind(this):e):t}function Sre(e){let t=eo+1,i=Ur.length;for(;t<i;){const r=t+i>>>1,s=Ur[r],n=vm(s);n<e||n===e&&s.flags&2?t=r+1:i=r}return t}function N3(e){if(!(e.flags&1)){const t=vm(e),i=Ur[Ur.length-1];!i||!(e.flags&2)&&t>=vm(i)?Ur.push(e):Ur.splice(Sre(t),0,e),e.flags|=1,_R()}}function _R(){Av||(Av=bR.then(wR))}function hf(e){Se(e)?zh.push(...e):el&&e.id===-1?el.splice(ah+1,0,e):e.flags&1||(zh.push(e),e.flags|=1),_R()}function AM(e,t,i=eo+1){for(;i<Ur.length;i++){const r=Ur[i];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Ur.splice(i,1),i--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Tv(e){if(zh.length){const t=[...new Set(zh)].sort((i,r)=>vm(i)-vm(r));if(zh.length=0,el){el.push(...t);return}for(el=t,ah=0;ah<el.length;ah++){const i=el[ah];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}el=null,ah=0}}const vm=e=>e.id==null?e.flags&2?-1:1/0:e.id;function wR(e){try{for(eo=0;eo<Ur.length;eo++){const t=Ur[eo];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Mu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;eo<Ur.length;eo++){const t=Ur[eo];t&&(t.flags&=-2)}eo=-1,Ur.length=0,Tv(),Av=null,(Ur.length||zh.length)&&wR()}}let lh,ay=[];function xR(e,t){var i,r;lh=e,lh?(lh.enabled=!0,ay.forEach(({event:s,args:n})=>lh.emit(s,...n)),ay=[]):typeof window<"u"&&window.HTMLElement&&!((r=(i=window.navigator)==null?void 0:i.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(n=>{xR(n,t)}),setTimeout(()=>{lh||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ay=[])},3e3)):ay=[]}let Wi=null,fb=null;function bm(e){const t=Wi;return Wi=e,fb=e&&e.type.__scopeId||null,t}function ER(e){fb=e}function SR(){fb=null}const AR=e=>$i;function $i(e,t=Wi,i){if(!t||e._n)return e;const r=(...s)=>{r._d&&Iv(-1);const n=bm(t);let o;try{o=e(...s)}finally{bm(n),r._d&&Iv(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function At(e,t){if(Wi===null)return e;const i=y0(Wi),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[n,o,a,l=st]=t[s];n&&(Fe(n)&&(n={mounted:n,updated:n}),n.deep&&na(o),r.push({dir:n,instance:i,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function ro(e,t,i,r){const s=e.dirs,n=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];n&&(a.oldValue=n[o].value);let l=a.dir[r];l&&(Dl(),Ss(l,i,8,[e.el,a,e,t]),Fl())}}const TR=Symbol("_vte"),$R=e=>e.__isTeleport,Ap=e=>e&&(e.disabled||e.disabled===""),TM=e=>e&&(e.defer||e.defer===""),$M=e=>typeof SVGElement<"u"&&e instanceof SVGElement,MM=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Vx=(e,t)=>{const i=e&&e.to;return Je(i)?t?t(i):null:i},MR={name:"Teleport",__isTeleport:!0,process(e,t,i,r,s,n,o,a,l,c){const{mc:f,pc:d,pbc:p,o:{insert:y,querySelector:v,createText:b,createComment:S}}=c,E=Ap(t.props);let{shapeFlag:T,children:w,dynamicChildren:_}=t;if(e==null){const $=t.el=b(""),M=t.anchor=b("");y($,i,r),y(M,i,r);const I=(P,F)=>{T&16&&(s&&s.isCE&&(s.ce._teleportTarget=P),f(w,P,F,s,n,o,a,l))},N=()=>{const P=t.target=Vx(t.props,v),F=OR(P,t,b,y);P&&(o!=="svg"&&$M(P)?o="svg":o!=="mathml"&&MM(P)&&(o="mathml"),E||(I(P,F),bg(t,!1)))};E&&(I(i,M),bg(t,!0)),TM(t.props)?Vi(()=>{N(),t.el.__isMounted=!0},n):N()}else{if(TM(t.props)&&!e.el.__isMounted){Vi(()=>{MR.process(e,t,i,r,s,n,o,a,l,c),delete e.el.__isMounted},n);return}t.el=e.el,t.targetStart=e.targetStart;const $=t.anchor=e.anchor,M=t.target=e.target,I=t.targetAnchor=e.targetAnchor,N=Ap(e.props),P=N?i:M,F=N?$:I;if(o==="svg"||$M(M)?o="svg":(o==="mathml"||MM(M))&&(o="mathml"),_?(p(e.dynamicChildren,_,P,s,n,o,a),eA(e,t,!0)):l||d(e,t,P,F,s,n,o,a,!1),E)N?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ly(t,i,$,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const z=t.target=Vx(t.props,v);z&&ly(t,z,null,c,0)}else N&&ly(t,M,I,c,1);bg(t,E)}},remove(e,t,i,{um:r,o:{remove:s}},n){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:f,target:d,props:p}=e;if(d&&(s(c),s(f)),n&&s(l),o&16){const y=n||!Ap(p);for(let v=0;v<a.length;v++){const b=a[v];r(b,t,i,y,!!b.dynamicChildren)}}},move:ly,hydrate:Are};function ly(e,t,i,{o:{insert:r},m:s},n=2){n===0&&r(e.targetAnchor,t,i);const{el:o,anchor:a,shapeFlag:l,children:c,props:f}=e,d=n===2;if(d&&r(o,t,i),(!d||Ap(f))&&l&16)for(let p=0;p<c.length;p++)s(c[p],t,i,2);d&&r(a,t,i)}function Are(e,t,i,r,s,n,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:f}},d){const p=t.target=Vx(t.props,l);if(p){const y=Ap(t.props),v=p._lpa||p.firstChild;if(t.shapeFlag&16)if(y)t.anchor=d(o(e),t,a(e),i,r,s,n),t.targetStart=v,t.targetAnchor=v&&o(v);else{t.anchor=o(e);let b=v;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")t.targetStart=b;else if(b.data==="teleport anchor"){t.targetAnchor=b,p._lpa=t.targetAnchor&&o(t.targetAnchor);break}}b=o(b)}t.targetAnchor||OR(p,t,f,c),d(v&&o(v),t,p,i,r,s,n)}bg(t,y)}return t.anchor&&o(t.anchor)}const L3=MR;function bg(e,t){const i=e.ctx;if(i&&i.ut){let r,s;for(t?(r=e.el,s=e.anchor):(r=e.targetStart,s=e.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",i.uid),r=r.nextSibling;i.ut()}}function OR(e,t,i,r){const s=t.targetStart=i(""),n=t.targetAnchor=i("");return s[TR]=n,e&&(r(s,e),r(n,e)),n}const tl=Symbol("_leaveCb"),cy=Symbol("_enterCb");function db(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return hr(()=>{e.isMounted=!0}),Fn(()=>{e.isUnmounting=!0}),e}const Is=[Function,Array],pb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Is,onEnter:Is,onAfterEnter:Is,onEnterCancelled:Is,onBeforeLeave:Is,onLeave:Is,onAfterLeave:Is,onLeaveCancelled:Is,onBeforeAppear:Is,onAppear:Is,onAfterAppear:Is,onAppearCancelled:Is},CR=e=>{const t=e.subTree;return t.component?CR(t.component):t},Tre={name:"BaseTransition",props:pb,setup(e,{slots:t}){const i=Ri(),r=db();return()=>{const s=t.default&&d0(t.default(),!0);if(!s||!s.length)return;const n=IR(s),o=Ge(e),{mode:a}=o;if(r.isLeaving)return H_(n);const l=OM(n);if(!l)return H_(n);let c=uu(l,o,r,i,d=>c=d);l.type!==xi&&To(l,c);let f=i.subTree&&OM(i.subTree);if(f&&f.type!==xi&&!pn(l,f)&&CR(i).type!==xi){let d=uu(f,o,r,i);if(To(f,d),a==="out-in"&&l.type!==xi)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,i.job.flags&8||i.update(),delete d.afterLeave,f=void 0},H_(n);a==="in-out"&&l.type!==xi?d.delayLeave=(p,y,v)=>{const b=PR(r,f);b[String(f.key)]=f,p[tl]=()=>{y(),p[tl]=void 0,delete c.delayedLeave,f=void 0},c.delayedLeave=()=>{v(),delete c.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return n}}};function IR(e){let t=e[0];if(e.length>1){for(const i of e)if(i.type!==xi){t=i;break}}return t}const k3=Tre;function PR(e,t){const{leavingVNodes:i}=e;let r=i.get(t.type);return r||(r=Object.create(null),i.set(t.type,r)),r}function uu(e,t,i,r,s){const{appear:n,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:p,onLeave:y,onAfterLeave:v,onLeaveCancelled:b,onBeforeAppear:S,onAppear:E,onAfterAppear:T,onAppearCancelled:w}=t,_=String(e.key),$=PR(i,e),M=(P,F)=>{P&&Ss(P,r,9,F)},I=(P,F)=>{const z=F[1];M(P,F),Se(P)?P.every(U=>U.length<=1)&&z():P.length<=1&&z()},N={mode:o,persisted:a,beforeEnter(P){let F=l;if(!i.isMounted)if(n)F=S||l;else return;P[tl]&&P[tl](!0);const z=$[_];z&&pn(e,z)&&z.el[tl]&&z.el[tl](),M(F,[P])},enter(P){let F=c,z=f,U=d;if(!i.isMounted)if(n)F=E||c,z=T||f,U=w||d;else return;let V=!1;const Z=P[cy]=u=>{V||(V=!0,u?M(U,[P]):M(z,[P]),N.delayedLeave&&N.delayedLeave(),P[cy]=void 0)};F?I(F,[P,Z]):Z()},leave(P,F){const z=String(e.key);if(P[cy]&&P[cy](!0),i.isUnmounting)return F();M(p,[P]);let U=!1;const V=P[tl]=Z=>{U||(U=!0,F(),Z?M(b,[P]):M(v,[P]),P[tl]=void 0,$[z]===e&&delete $[z])};$[z]=e,y?I(y,[P,V]):V()},clone(P){const F=uu(P,t,i,r,s);return s&&s(F),F}};return N}function H_(e){if(p0(e))return e=Nn(e),e.children=null,e}function OM(e){if(!p0(e))return $R(e.type)&&e.children?IR(e.children):e;const{shapeFlag:t,children:i}=e;if(i){if(t&16)return i[0];if(t&32&&Fe(i.default))return i.default()}}function To(e,t){e.shapeFlag&6&&e.component?(e.transition=t,To(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function d0(e,t=!1,i){let r=[],s=0;for(let n=0;n<e.length;n++){let o=e[n];const a=i==null?o.key:String(i)+String(o.key!=null?o.key:n);o.type===It?(o.patchFlag&128&&s++,r=r.concat(d0(o.children,t,a))):(t||o.type!==xi)&&r.push(a!=null?Nn(o,{key:a}):o)}if(s>1)for(let n=0;n<r.length;n++)r[n].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function rt(e,t){return Fe(e)?nt({name:e.name},t,{setup:e}):e}function NR(){const e=Ri();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function R3(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function $v(e){const t=Ri(),i=ed(null);if(t){const s=t.refs===st?t.refs={}:t.refs;Object.defineProperty(s,e,{enumerable:!0,get:()=>i.value,set:n=>i.value=n})}return i}function _m(e,t,i,r,s=!1){if(Se(e)){e.forEach((v,b)=>_m(v,t&&(Se(t)?t[b]:t),i,r,s));return}if(bl(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&_m(e,t,i,r.component.subTree);return}const n=r.shapeFlag&4?y0(r.component):r.el,o=s?null:n,{i:a,r:l}=e,c=t&&t.r,f=a.refs===st?a.refs={}:a.refs,d=a.setupState,p=Ge(d),y=d===st?()=>!1:v=>bt(p,v);if(c!=null&&c!==l&&(Je(c)?(f[c]=null,y(c)&&(d[c]=null)):ht(c)&&(c.value=null)),Fe(l))Mu(l,a,12,[o,f]);else{const v=Je(l),b=ht(l);if(v||b){const S=()=>{if(e.f){const E=v?y(l)?d[l]:f[l]:l.value;s?Se(E)&&x3(E,n):Se(E)?E.includes(n)||E.push(n):v?(f[l]=[n],y(l)&&(d[l]=f[l])):(l.value=[n],e.k&&(f[e.k]=l.value))}else v?(f[l]=o,y(l)&&(d[l]=o)):b&&(l.value=o,e.k&&(f[e.k]=o))};o?(S.id=-1,Vi(S,i)):S()}}}let CM=!1;const Hu=()=>{CM||(console.error("Hydration completed but contains mismatches."),CM=!0)},$re=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",Mre=e=>e.namespaceURI.includes("MathML"),uy=e=>{if(e.nodeType===1){if($re(e))return"svg";if(Mre(e))return"mathml"}},Eh=e=>e.nodeType===8;function Ore(e){const{mt:t,p:i,o:{patchProp:r,createText:s,nextSibling:n,parentNode:o,remove:a,insert:l,createComment:c}}=e,f=(w,_)=>{if(!_.hasChildNodes()){i(null,w,_),Tv(),_._vnode=w;return}d(_.firstChild,w,null,null,null),Tv(),_._vnode=w},d=(w,_,$,M,I,N=!1)=>{N=N||!!_.dynamicChildren;const P=Eh(w)&&w.data==="[",F=()=>b(w,_,$,M,I,P),{type:z,ref:U,shapeFlag:V,patchFlag:Z}=_;let u=w.nodeType;_.el=w,Z===-2&&(N=!1,_.dynamicChildren=null);let m=null;switch(z){case yo:u!==3?_.children===""?(l(_.el=s(""),o(w),w),m=w):m=F():(w.data!==_.children&&(Hu(),w.data=_.children),m=n(w));break;case xi:T(w)?(m=n(w),E(_.el=w.content.firstChild,w,$)):u!==8||P?m=F():m=n(w);break;case _l:if(P&&(w=n(w),u=w.nodeType),u===1||u===3){m=w;const x=!_.children.length;for(let C=0;C<_.staticCount;C++)x&&(_.children+=m.nodeType===1?m.outerHTML:m.data),C===_.staticCount-1&&(_.anchor=m),m=n(m);return P?n(m):m}else F();break;case It:P?m=v(w,_,$,M,I,N):m=F();break;default:if(V&1)(u!==1||_.type.toLowerCase()!==w.tagName.toLowerCase())&&!T(w)?m=F():m=p(w,_,$,M,I,N);else if(V&6){_.slotScopeIds=I;const x=o(w);if(P?m=S(w):Eh(w)&&w.data==="teleport start"?m=S(w,w.data,"teleport end"):m=n(w),t(_,x,null,$,M,uy(x),N),bl(_)&&!_.type.__asyncResolved){let C;P?(C=Ke(It),C.anchor=m?m.previousSibling:x.lastChild):C=w.nodeType===3?go(""):Ke("div"),C.el=w,_.component.subTree=C}}else V&64?u!==8?m=F():m=_.type.hydrate(w,_,$,M,I,N,e,y):V&128&&(m=_.type.hydrate(w,_,$,M,uy(o(w)),I,N,e,d))}return U!=null&&_m(U,null,M,_),m},p=(w,_,$,M,I,N)=>{N=N||!!_.dynamicChildren;const{type:P,props:F,patchFlag:z,shapeFlag:U,dirs:V,transition:Z}=_,u=P==="input"||P==="option";if(u||z!==-1){V&&ro(_,null,$,"created");let m=!1;if(T(w)){m=m8(null,Z)&&$&&$.vnode.props&&$.vnode.props.appear;const C=w.content.firstChild;m&&Z.beforeEnter(C),E(C,w,$),_.el=w=C}if(U&16&&!(F&&(F.innerHTML||F.textContent))){let C=y(w.firstChild,_,w,$,M,I,N);for(;C;){hy(w,1)||Hu();const B=C;C=C.nextSibling,a(B)}}else if(U&8){let C=_.children;C[0]===`
`&&(w.tagName==="PRE"||w.tagName==="TEXTAREA")&&(C=C.slice(1)),w.textContent!==C&&(hy(w,0)||Hu(),w.textContent=_.children)}if(F){if(u||!N||z&48){const C=w.tagName.includes("-");for(const B in F)(u&&(B.endsWith("value")||B==="indeterminate")||Tu(B)&&!vl(B)||B[0]==="."||C)&&r(w,B,null,F[B],void 0,$)}else if(F.onClick)r(w,"onClick",null,F.onClick,void 0,$);else if(z&4&&xs(F.style))for(const C in F.style)F.style[C]}let x;(x=F&&F.onVnodeBeforeMount)&&Xr(x,$,_),V&&ro(_,null,$,"beforeMount"),((x=F&&F.onVnodeMounted)||V||m)&&A8(()=>{x&&Xr(x,$,_),m&&Z.enter(w),V&&ro(_,null,$,"mounted")},M)}return w.nextSibling},y=(w,_,$,M,I,N,P)=>{P=P||!!_.dynamicChildren;const F=_.children,z=F.length;for(let U=0;U<z;U++){const V=P?F[U]:F[U]=es(F[U]),Z=V.type===yo;w?(Z&&!P&&U+1<z&&es(F[U+1]).type===yo&&(l(s(w.data.slice(V.children.length)),$,n(w)),w.data=V.children),w=d(w,V,M,I,N,P)):Z&&!V.children?l(V.el=s(""),$):(hy($,1)||Hu(),i(null,V,$,null,M,I,uy($),N))}return w},v=(w,_,$,M,I,N)=>{const{slotScopeIds:P}=_;P&&(I=I?I.concat(P):P);const F=o(w),z=y(n(w),_,F,$,M,I,N);return z&&Eh(z)&&z.data==="]"?n(_.anchor=z):(Hu(),l(_.anchor=c("]"),F,z),z)},b=(w,_,$,M,I,N)=>{if(hy(w.parentElement,1)||Hu(),_.el=null,N){const z=S(w);for(;;){const U=n(w);if(U&&U!==z)a(U);else break}}const P=n(w),F=o(w);return a(w),i(null,_,F,P,$,M,uy(F),I),$&&($.vnode.el=_.el,bb($,_.el)),P},S=(w,_="[",$="]")=>{let M=0;for(;w;)if(w=n(w),w&&Eh(w)&&(w.data===_&&M++,w.data===$)){if(M===0)return n(w);M--}return w},E=(w,_,$)=>{const M=_.parentNode;M&&M.replaceChild(w,_);let I=$;for(;I;)I.vnode.el===_&&(I.vnode.el=I.subTree.el=w),I=I.parent},T=w=>w.nodeType===1&&w.tagName==="TEMPLATE";return[f,d]}const IM="data-allow-mismatch",Cre={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function hy(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(IM);)e=e.parentElement;const i=e&&e.getAttribute(IM);if(i==null)return!1;if(i==="")return!0;{const r=i.split(",");return t===0&&r.includes("children")?!0:i.split(",").includes(Cre[t])}}const Ire=ib().requestIdleCallback||(e=>setTimeout(e,1)),Pre=ib().cancelIdleCallback||(e=>clearTimeout(e)),LR=(e=1e4)=>t=>{const i=Ire(t,{timeout:e});return()=>Pre(i)};function Nre(e){const{top:t,left:i,bottom:r,right:s}=e.getBoundingClientRect(),{innerHeight:n,innerWidth:o}=window;return(t>0&&t<n||r>0&&r<n)&&(i>0&&i<o||s>0&&s<o)}const kR=e=>(t,i)=>{const r=new IntersectionObserver(s=>{for(const n of s)if(n.isIntersecting){r.disconnect(),t();break}},e);return i(s=>{if(s instanceof Element){if(Nre(s))return t(),r.disconnect(),!1;r.observe(s)}}),()=>r.disconnect()},RR=e=>t=>{if(e){const i=matchMedia(e);if(i.matches)t();else return i.addEventListener("change",t,{once:!0}),()=>i.removeEventListener("change",t)}},DR=(e=[])=>(t,i)=>{Je(e)&&(e=[e]);let r=!1;const s=o=>{r||(r=!0,n(),t(),o.target.dispatchEvent(new o.constructor(o.type,o)))},n=()=>{i(o=>{for(const a of e)o.removeEventListener(a,s)})};return i(o=>{for(const a of e)o.addEventListener(a,s,{once:!0})}),n};function Lre(e,t){if(Eh(e)&&e.data==="["){let i=1,r=e.nextSibling;for(;r;){if(r.nodeType===1){if(t(r)===!1)break}else if(Eh(r))if(r.data==="]"){if(--i===0)break}else r.data==="["&&i++;r=r.nextSibling}}else t(e)}const bl=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function D3(e){Fe(e)&&(e={loader:e});const{loader:t,loadingComponent:i,errorComponent:r,delay:s=200,hydrate:n,timeout:o,suspensible:a=!0,onError:l}=e;let c=null,f,d=0;const p=()=>(d++,c=null,y()),y=()=>{let v;return c||(v=c=t().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((S,E)=>{l(b,()=>S(p()),()=>E(b),d+1)});throw b}).then(b=>v!==c&&c?c:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),f=b,b)))};return rt({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(v,b,S){const E=n?()=>{const T=n(S,w=>Lre(v,w));T&&(b.bum||(b.bum=[])).push(T)}:S;f?E():y().then(()=>!b.isUnmounted&&E())},get __asyncResolved(){return f},setup(){const v=qi;if(R3(v),f)return()=>W_(f,v);const b=w=>{c=null,Ul(w,v,13,!r)};if(a&&v.suspense||ff)return y().then(w=>()=>W_(w,v)).catch(w=>(b(w),()=>r?Ke(r,{error:w}):null));const S=X(!1),E=X(),T=X(!!s);return s&&setTimeout(()=>{T.value=!1},s),o!=null&&setTimeout(()=>{if(!S.value&&!E.value){const w=new Error(`Async component timed out after ${o}ms.`);b(w),E.value=w}},o),y().then(()=>{S.value=!0,v.parent&&p0(v.parent.vnode)&&v.parent.update()}).catch(w=>{b(w),E.value=w}),()=>{if(S.value&&f)return W_(f,v);if(E.value&&r)return Ke(r,{error:E.value});if(i&&!T.value)return Ke(i)}}})}function W_(e,t){const{ref:i,props:r,children:s,ce:n}=t.vnode,o=Ke(e,r,s);return o.ref=i,o.ce=n,delete t.vnode.ce,o}const p0=e=>e.type.__isKeepAlive,kre={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const i=Ri(),r=i.ctx;if(!r.renderer)return()=>{const T=t.default&&t.default();return T&&T.length===1?T[0]:T};const s=new Map,n=new Set;let o=null;const a=i.suspense,{renderer:{p:l,m:c,um:f,o:{createElement:d}}}=r,p=d("div");r.activate=(T,w,_,$,M)=>{const I=T.component;c(T,w,_,0,a),l(I.vnode,T,w,_,I,a,$,T.slotScopeIds,M),Vi(()=>{I.isDeactivated=!1,I.a&&Gh(I.a);const N=T.props&&T.props.onVnodeMounted;N&&Xr(N,I.parent,T)},a)},r.deactivate=T=>{const w=T.component;Ov(w.m),Ov(w.a),c(T,p,null,1,a),Vi(()=>{w.da&&Gh(w.da);const _=T.props&&T.props.onVnodeUnmounted;_&&Xr(_,w.parent,T),w.isDeactivated=!0},a)};function y(T){Y_(T),f(T,i,a,!0)}function v(T){s.forEach((w,_)=>{const $=Xx(w.type);$&&!T($)&&b(_)})}function b(T){const w=s.get(T);w&&(!o||!pn(w,o))?y(w):o&&Y_(o),s.delete(T),n.delete(T)}Ji(()=>[e.include,e.exclude],([T,w])=>{T&&v(_=>sp(T,_)),w&&v(_=>!sp(w,_))},{flush:"post",deep:!0});let S=null;const E=()=>{S!=null&&(Cv(i.subTree.type)?Vi(()=>{s.set(S,fy(i.subTree))},i.subTree.suspense):s.set(S,fy(i.subTree)))};return hr(E),td(E),Fn(()=>{s.forEach(T=>{const{subTree:w,suspense:_}=i,$=fy(w);if(T.type===$.type&&T.key===$.key){Y_($);const M=$.component.da;M&&Vi(M,_);return}y(T)})}),()=>{if(S=null,!t.default)return o=null;const T=t.default(),w=T[0];if(T.length>1)return o=null,T;if(!Pn(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let _=fy(w);if(_.type===xi)return o=null,_;const $=_.type,M=Xx(bl(_)?_.type.__asyncResolved||{}:$),{include:I,exclude:N,max:P}=e;if(I&&(!M||!sp(I,M))||N&&M&&sp(N,M))return _.shapeFlag&=-257,o=_,w;const F=_.key==null?$:_.key,z=s.get(F);return _.el&&(_=Nn(_),w.shapeFlag&128&&(w.ssContent=_)),S=F,z?(_.el=z.el,_.component=z.component,_.transition&&To(_,_.transition),_.shapeFlag|=512,n.delete(F),n.add(F)):(n.add(F),P&&n.size>parseInt(P,10)&&b(n.values().next().value)),_.shapeFlag|=256,o=_,Cv(w.type)?w:_}}},FR=kre;function sp(e,t){return Se(e)?e.some(i=>sp(i,t)):Je(e)?e.split(",").includes(t):Aie(e)?(e.lastIndex=0,e.test(t)):!1}function F3(e,t){UR(e,"a",t)}function U3(e,t){UR(e,"da",t)}function UR(e,t,i=qi){const r=e.__wdc||(e.__wdc=()=>{let s=i;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(mb(t,r,i),i){let s=i.parent;for(;s&&s.parent;)p0(s.parent.vnode)&&Rre(r,t,i,s),s=s.parent}}function Rre(e,t,i,r){const s=mb(t,e,r,!0);Ou(()=>{x3(r[t],s)},i)}function Y_(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function fy(e){return e.shapeFlag&128?e.ssContent:e}function mb(e,t,i=qi,r=!1){if(i){const s=i[e]||(i[e]=[]),n=t.__weh||(t.__weh=(...o)=>{Dl();const a=fu(i),l=Ss(t,i,e,o);return a(),Fl(),l});return r?s.unshift(n):s.push(n),n}}const ba=e=>(t,i=qi)=>{(!ff||e==="sp")&&mb(e,(...r)=>t(...r),i)},yb=ba("bm"),hr=ba("m"),gb=ba("bu"),td=ba("u"),Fn=ba("bum"),Ou=ba("um"),j3=ba("sp"),V3=ba("rtg"),B3=ba("rtc");function G3(e,t=qi){mb("ec",e,t)}const z3="components",Dre="directives";function wi(e,t){return H3(z3,e,!0,t)||e}const jR=Symbol.for("v-ndc");function q3(e){return Je(e)?H3(z3,e,!1)||e:e||jR}function Tt(e){return H3(Dre,e)}function H3(e,t,i=!0,r=!1){const s=Wi||qi;if(s){const n=s.type;if(e===z3){const a=Xx(n,!1);if(a&&(a===t||a===Bt(t)||a===kl(Bt(t))))return n}const o=PM(s[e]||n[e],t)||PM(s.appContext[e],t);return!o&&r?n:o}}function PM(e,t){return e&&(e[t]||e[Bt(t)]||e[kl(Bt(t))])}function jl(e,t,i,r){let s;const n=i&&i[r],o=Se(e);if(o||Je(e)){const a=o&&xs(e);let l=!1;a&&(l=!as(e),e=ab(e)),s=new Array(e.length);for(let c=0,f=e.length;c<f;c++)s[c]=t(l?xr(e[c]):e[c],c,void 0,n&&n[c])}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,n&&n[a])}else if(Ot(e))if(e[Symbol.iterator])s=Array.from(e,(a,l)=>t(a,l,void 0,n&&n[l]));else{const a=Object.keys(e);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const f=a[l];s[l]=t(e[f],f,l,n&&n[l])}}else s=[];return i&&(i[r]=s),s}function VR(e,t){for(let i=0;i<t.length;i++){const r=t[i];if(Se(r))for(let s=0;s<r.length;s++)e[r[s].name]=r[s].fn;else r&&(e[r.name]=r.key?(...s)=>{const n=r.fn(...s);return n&&(n.key=r.key),n}:r.fn)}return e}function gn(e,t,i={},r,s){if(Wi.ce||Wi.parent&&bl(Wi.parent)&&Wi.parent.ce)return t!=="default"&&(i.name=t),fe(),Vt(It,null,[Ke("slot",i,r&&r())],64);let n=e[t];n&&n._c&&(n._d=!1),fe();const o=n&&W3(n(i)),a=i.key||o&&o.key,l=Vt(It,{key:(a&&!fs(a)?a:`_${t}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&e._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),n&&n._c&&(n._d=!0),l}function W3(e){return e.some(t=>Pn(t)?!(t.type===xi||t.type===It&&!W3(t.children)):!0)?e:null}function BR(e,t){const i={};for(const r in e)i[t&&/[A-Z]/.test(r)?`on:${r}`:jc(r)]=e[r];return i}const Bx=e=>e?P8(e)?y0(e):Bx(e.parent):null,Tp=nt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Bx(e.parent),$root:e=>Bx(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Y3(e),$forceUpdate:e=>e.f||(e.f=()=>{N3(e.update)}),$nextTick:e=>e.n||(e.n=Dn.bind(e.proxy)),$watch:e=>Qre.bind(e)}),J_=(e,t)=>e!==st&&!e.__isScriptSetup&&bt(e,t),Gx={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:r,data:s,props:n,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const y=o[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return s[t];case 4:return i[t];case 3:return n[t]}else{if(J_(r,t))return o[t]=1,r[t];if(s!==st&&bt(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&bt(c,t))return o[t]=3,n[t];if(i!==st&&bt(i,t))return o[t]=4,i[t];zx&&(o[t]=0)}}const f=Tp[t];let d,p;if(f)return t==="$attrs"&&wr(e.attrs,"get",""),f(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(i!==st&&bt(i,t))return o[t]=4,i[t];if(p=l.config.globalProperties,bt(p,t))return p[t]},set({_:e},t,i){const{data:r,setupState:s,ctx:n}=e;return J_(s,t)?(s[t]=i,!0):r!==st&&bt(r,t)?(r[t]=i,!0):bt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:r,appContext:s,propsOptions:n}},o){let a;return!!i[o]||e!==st&&bt(e,o)||J_(t,o)||(a=n[0])&&bt(a,o)||bt(r,o)||bt(Tp,o)||bt(s.config.globalProperties,o)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:bt(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}},Fre=nt({},Gx,{get(e,t){if(t!==Symbol.unscopables)return Gx.get(e,t,e)},has(e,t){return t[0]!=="_"&&!Pie(t)}});function GR(){return null}function zR(){return null}function qR(e){}function HR(e){}function WR(){return null}function YR(){}function JR(e,t){return null}function ZR(){return XR().slots}function KR(){return XR().attrs}function XR(){const e=Ri();return e.setupContext||(e.setupContext=R8(e))}function wm(e){return Se(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}function QR(e,t){const i=wm(e);for(const r in t){if(r.startsWith("__skip"))continue;let s=i[r];s?Se(s)||Fe(s)?s=i[r]={type:s,default:t[r]}:s.default=t[r]:s===null&&(s=i[r]={default:t[r]}),s&&t[`__skip_${r}`]&&(s.skipFactory=!0)}return i}function e8(e,t){return!e||!t?e||t:Se(e)&&Se(t)?e.concat(t):nt({},wm(e),wm(t))}function t8(e,t){const i={};for(const r in e)t.includes(r)||Object.defineProperty(i,r,{enumerable:!0,get:()=>e[r]});return i}function i8(e){const t=Ri();let i=e();return Jx(),E3(i)&&(i=i.catch(r=>{throw fu(t),r})),[i,()=>fu(t)]}let zx=!0;function Ure(e){const t=Y3(e),i=e.proxy,r=e.ctx;zx=!1,t.beforeCreate&&NM(t.beforeCreate,e,"bc");const{data:s,computed:n,methods:o,watch:a,provide:l,inject:c,created:f,beforeMount:d,mounted:p,beforeUpdate:y,updated:v,activated:b,deactivated:S,beforeDestroy:E,beforeUnmount:T,destroyed:w,unmounted:_,render:$,renderTracked:M,renderTriggered:I,errorCaptured:N,serverPrefetch:P,expose:F,inheritAttrs:z,components:U,directives:V,filters:Z}=t;if(c&&jre(c,r,null),o)for(const x in o){const C=o[x];Fe(C)&&(r[x]=C.bind(i))}if(s){const x=s.call(i,i);Ot(x)&&(e.data=rr(x))}if(zx=!0,n)for(const x in n){const C=n[x],B=Fe(C)?C.bind(i,i):Fe(C.get)?C.get.bind(i,i):cr,Y=!Fe(C)&&Fe(C.set)?C.set.bind(i):cr,de=tt({get:B,set:Y});Object.defineProperty(r,x,{enumerable:!0,configurable:!0,get:()=>de.value,set:oe=>de.value=oe})}if(a)for(const x in a)r8(a[x],r,i,x);if(l){const x=Fe(l)?l.call(i):l;Reflect.ownKeys(x).forEach(C=>{J3(C,x[C])})}f&&NM(f,e,"c");function m(x,C){Se(C)?C.forEach(B=>x(B.bind(i))):C&&x(C.bind(i))}if(m(yb,d),m(hr,p),m(gb,y),m(td,v),m(F3,b),m(U3,S),m(G3,N),m(B3,M),m(V3,I),m(Fn,T),m(Ou,_),m(j3,P),Se(F))if(F.length){const x=e.exposed||(e.exposed={});F.forEach(C=>{Object.defineProperty(x,C,{get:()=>i[C],set:B=>i[C]=B})})}else e.exposed||(e.exposed={});$&&e.render===cr&&(e.render=$),z!=null&&(e.inheritAttrs=z),U&&(e.components=U),V&&(e.directives=V),P&&R3(e)}function jre(e,t,i=cr){Se(e)&&(e=qx(e));for(const r in e){const s=e[r];let n;Ot(s)?"default"in s?n=ki(s.from||r,s.default,!0):n=ki(s.from||r):n=ki(s),ht(n)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>n.value,set:o=>n.value=o}):t[r]=n}}function NM(e,t,i){Ss(Se(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,i)}function r8(e,t,i,r){let s=r.includes(".")?b8(i,r):()=>i[r];if(Je(e)){const n=t[e];Fe(n)&&Ji(s,n)}else if(Fe(e))Ji(s,e.bind(i));else if(Ot(e))if(Se(e))e.forEach(n=>r8(n,t,i,r));else{const n=Fe(e.handler)?e.handler.bind(i):t[e.handler];Fe(n)&&Ji(s,n,e)}}function Y3(e){const t=e.type,{mixins:i,extends:r}=t,{mixins:s,optionsCache:n,config:{optionMergeStrategies:o}}=e.appContext,a=n.get(t);let l;return a?l=a:!s.length&&!i&&!r?l=t:(l={},s.length&&s.forEach(c=>Mv(l,c,o,!0)),Mv(l,t,o)),Ot(t)&&n.set(t,l),l}function Mv(e,t,i,r=!1){const{mixins:s,extends:n}=t;n&&Mv(e,n,i,!0),s&&s.forEach(o=>Mv(e,o,i,!0));for(const o in t)if(!(r&&o==="expose")){const a=Vre[o]||i&&i[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Vre={data:LM,props:kM,emits:kM,methods:np,computed:np,beforeCreate:Ir,created:Ir,beforeMount:Ir,mounted:Ir,beforeUpdate:Ir,updated:Ir,beforeDestroy:Ir,beforeUnmount:Ir,destroyed:Ir,unmounted:Ir,activated:Ir,deactivated:Ir,errorCaptured:Ir,serverPrefetch:Ir,components:np,directives:np,watch:Gre,provide:LM,inject:Bre};function LM(e,t){return t?e?function(){return nt(Fe(e)?e.call(this,this):e,Fe(t)?t.call(this,this):t)}:t:e}function Bre(e,t){return np(qx(e),qx(t))}function qx(e){if(Se(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function Ir(e,t){return e?[...new Set([].concat(e,t))]:t}function np(e,t){return e?nt(Object.create(null),e,t):t}function kM(e,t){return e?Se(e)&&Se(t)?[...new Set([...e,...t])]:nt(Object.create(null),wm(e),wm(t??{})):t}function Gre(e,t){if(!e)return t;if(!t)return e;const i=nt(Object.create(null),e);for(const r in t)i[r]=Ir(e[r],t[r]);return i}function s8(){return{app:null,config:{isNativeTag:rp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zre=0;function qre(e,t){return function(r,s=null){Fe(r)||(r=nt({},r)),s!=null&&!Ot(s)&&(s=null);const n=s8(),o=new WeakSet,a=[];let l=!1;const c=n.app={_uid:zre++,_component:r,_props:s,_container:null,_context:n,_instance:null,version:lA,get config(){return n.config},set config(f){},use(f,...d){return o.has(f)||(f&&Fe(f.install)?(o.add(f),f.install(c,...d)):Fe(f)&&(o.add(f),f(c,...d))),c},mixin(f){return n.mixins.includes(f)||n.mixins.push(f),c},component(f,d){return d?(n.components[f]=d,c):n.components[f]},directive(f,d){return d?(n.directives[f]=d,c):n.directives[f]},mount(f,d,p){if(!l){const y=c._ceVNode||Ke(r,s);return y.appContext=n,p===!0?p="svg":p===!1&&(p=void 0),d&&t?t(y,f):e(y,f,p),l=!0,c._container=f,f.__vue_app__=c,y0(y.component)}},onUnmount(f){a.push(f)},unmount(){l&&(Ss(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(f,d){return n.provides[f]=d,c},runWithContext(f){const d=Bc;Bc=c;try{return f()}finally{Bc=d}}};return c}}let Bc=null;function J3(e,t){if(qi){let i=qi.provides;const r=qi.parent&&qi.parent.provides;r===i&&(i=qi.provides=Object.create(r)),i[e]=t}}function ki(e,t,i=!1){const r=qi||Wi;if(r||Bc){const s=Bc?Bc._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return i&&Fe(t)?t.call(r&&r.proxy):t}}function Z3(){return!!(qi||Wi||Bc)}const n8={},o8=()=>Object.create(n8),a8=e=>Object.getPrototypeOf(e)===n8;function Hre(e,t,i,r=!1){const s={},n=o8();e.propsDefaults=Object.create(null),l8(e,t,s,n);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);i?e.props=r?s:O3(s):e.type.props?e.props=s:e.props=n,e.attrs=n}function Wre(e,t,i,r){const{props:s,attrs:n,vnode:{patchFlag:o}}=e,a=Ge(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let d=0;d<f.length;d++){let p=f[d];if(vb(e.emitsOptions,p))continue;const y=t[p];if(l)if(bt(n,p))y!==n[p]&&(n[p]=y,c=!0);else{const v=Bt(p);s[v]=Hx(l,a,v,y,e,!1)}else y!==n[p]&&(n[p]=y,c=!0)}}}else{l8(e,t,s,n)&&(c=!0);let f;for(const d in a)(!t||!bt(t,d)&&((f=rs(d))===d||!bt(t,f)))&&(l?i&&(i[d]!==void 0||i[f]!==void 0)&&(s[d]=Hx(l,a,d,void 0,e,!0)):delete s[d]);if(n!==a)for(const d in n)(!t||!bt(t,d))&&(delete n[d],c=!0)}c&&sa(e.attrs,"set","")}function l8(e,t,i,r){const[s,n]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(vl(l))continue;const c=t[l];let f;s&&bt(s,f=Bt(l))?!n||!n.includes(f)?i[f]=c:(a||(a={}))[f]=c:vb(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(n){const l=Ge(i),c=a||st;for(let f=0;f<n.length;f++){const d=n[f];i[d]=Hx(s,l,d,c[d],e,!bt(c,d))}}return o}function Hx(e,t,i,r,s,n){const o=e[i];if(o!=null){const a=bt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Fe(l)){const{propsDefaults:c}=s;if(i in c)r=c[i];else{const f=fu(s);r=c[i]=l.call(null,t),f()}}else r=l;s.ce&&s.ce._setProp(i,r)}o[0]&&(n&&!a?r=!1:o[1]&&(r===""||r===rs(i))&&(r=!0))}return r}const Yre=new WeakMap;function c8(e,t,i=!1){const r=i?Yre:t.propsCache,s=r.get(e);if(s)return s;const n=e.props,o={},a=[];let l=!1;if(!Fe(e)){const f=d=>{l=!0;const[p,y]=c8(d,t,!0);nt(o,p),y&&a.push(...y)};!i&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!n&&!l)return Ot(e)&&r.set(e,Vh),Vh;if(Se(n))for(let f=0;f<n.length;f++){const d=Bt(n[f]);RM(d)&&(o[d]=st)}else if(n)for(const f in n){const d=Bt(f);if(RM(d)){const p=n[f],y=o[d]=Se(p)||Fe(p)?{type:p}:nt({},p),v=y.type;let b=!1,S=!0;if(Se(v))for(let E=0;E<v.length;++E){const T=v[E],w=Fe(T)&&T.name;if(w==="Boolean"){b=!0;break}else w==="String"&&(S=!1)}else b=Fe(v)&&v.name==="Boolean";y[0]=b,y[1]=S,(b||bt(y,"default"))&&a.push(d)}}const c=[o,a];return Ot(e)&&r.set(e,c),c}function RM(e){return e[0]!=="$"&&!vl(e)}const u8=e=>e[0]==="_"||e==="$stable",K3=e=>Se(e)?e.map(es):[es(e)],Jre=(e,t,i)=>{if(t._n)return t;const r=$i((...s)=>K3(t(...s)),i);return r._c=!1,r},h8=(e,t,i)=>{const r=e._ctx;for(const s in e){if(u8(s))continue;const n=e[s];if(Fe(n))t[s]=Jre(s,n,r);else if(n!=null){const o=K3(n);t[s]=()=>o}}},f8=(e,t)=>{const i=K3(t);e.slots.default=()=>i},d8=(e,t,i)=>{for(const r in t)(i||r!=="_")&&(e[r]=t[r])},Zre=(e,t,i)=>{const r=e.slots=o8();if(e.vnode.shapeFlag&32){const s=t._;s?(d8(r,t,i),i&&Fk(r,"_",s,!0)):h8(t,r)}else t&&f8(e,t)},Kre=(e,t,i)=>{const{vnode:r,slots:s}=e;let n=!0,o=st;if(r.shapeFlag&32){const a=t._;a?i&&a===1?n=!1:d8(s,t,i):(n=!t.$stable,h8(t,s)),o=t}else t&&(f8(e,t),o={default:1});if(n)for(const a in s)!u8(a)&&o[a]==null&&delete s[a]},Vi=A8;function X3(e){return p8(e)}function Q3(e){return p8(e,Ore)}function p8(e,t){const i=ib();i.__VUE__=!0;const{insert:r,remove:s,patchProp:n,createElement:o,createText:a,createComment:l,setText:c,setElementText:f,parentNode:d,nextSibling:p,setScopeId:y=cr,insertStaticContent:v}=e,b=(j,D,W,ae=null,ee=null,ue=null,ye=void 0,L=null,k=!!D.dynamicChildren)=>{if(j===D)return;j&&!pn(j,D)&&(ae=Gt(j),oe(j,ee,ue,!0),j=null),D.patchFlag===-2&&(k=!1,D.dynamicChildren=null);const{type:G,ref:te,shapeFlag:se}=D;switch(G){case yo:S(j,D,W,ae);break;case xi:E(j,D,W,ae);break;case _l:j==null&&T(D,W,ae,ye);break;case It:U(j,D,W,ae,ee,ue,ye,L,k);break;default:se&1?$(j,D,W,ae,ee,ue,ye,L,k):se&6?V(j,D,W,ae,ee,ue,ye,L,k):(se&64||se&128)&&G.process(j,D,W,ae,ee,ue,ye,L,k,Dt)}te!=null&&ee&&_m(te,j&&j.ref,ue,D||j,!D)},S=(j,D,W,ae)=>{if(j==null)r(D.el=a(D.children),W,ae);else{const ee=D.el=j.el;D.children!==j.children&&c(ee,D.children)}},E=(j,D,W,ae)=>{j==null?r(D.el=l(D.children||""),W,ae):D.el=j.el},T=(j,D,W,ae)=>{[j.el,j.anchor]=v(j.children,D,W,ae,j.el,j.anchor)},w=({el:j,anchor:D},W,ae)=>{let ee;for(;j&&j!==D;)ee=p(j),r(j,W,ae),j=ee;r(D,W,ae)},_=({el:j,anchor:D})=>{let W;for(;j&&j!==D;)W=p(j),s(j),j=W;s(D)},$=(j,D,W,ae,ee,ue,ye,L,k)=>{D.type==="svg"?ye="svg":D.type==="math"&&(ye="mathml"),j==null?M(D,W,ae,ee,ue,ye,L,k):P(j,D,ee,ue,ye,L,k)},M=(j,D,W,ae,ee,ue,ye,L)=>{let k,G;const{props:te,shapeFlag:se,transition:ne,dirs:H}=j;if(k=j.el=o(j.type,ue,te&&te.is,te),se&8?f(k,j.children):se&16&&N(j.children,k,null,ae,ee,Z_(j,ue),ye,L),H&&ro(j,null,ae,"created"),I(k,j,j.scopeId,ye,ae),te){for(const Ae in te)Ae!=="value"&&!vl(Ae)&&n(k,Ae,null,te[Ae],ue,ae);"value"in te&&n(k,"value",null,te.value,ue),(G=te.onVnodeBeforeMount)&&Xr(G,ae,j)}H&&ro(j,null,ae,"beforeMount");const K=m8(ee,ne);K&&ne.beforeEnter(k),r(k,D,W),((G=te&&te.onVnodeMounted)||K||H)&&Vi(()=>{G&&Xr(G,ae,j),K&&ne.enter(k),H&&ro(j,null,ae,"mounted")},ee)},I=(j,D,W,ae,ee)=>{if(W&&y(j,W),ae)for(let ue=0;ue<ae.length;ue++)y(j,ae[ue]);if(ee){let ue=ee.subTree;if(D===ue||Cv(ue.type)&&(ue.ssContent===D||ue.ssFallback===D)){const ye=ee.vnode;I(j,ye,ye.scopeId,ye.slotScopeIds,ee.parent)}}},N=(j,D,W,ae,ee,ue,ye,L,k=0)=>{for(let G=k;G<j.length;G++){const te=j[G]=L?il(j[G]):es(j[G]);b(null,te,D,W,ae,ee,ue,ye,L)}},P=(j,D,W,ae,ee,ue,ye)=>{const L=D.el=j.el;let{patchFlag:k,dynamicChildren:G,dirs:te}=D;k|=j.patchFlag&16;const se=j.props||st,ne=D.props||st;let H;if(W&&ec(W,!1),(H=ne.onVnodeBeforeUpdate)&&Xr(H,W,D,j),te&&ro(D,j,W,"beforeUpdate"),W&&ec(W,!0),(se.innerHTML&&ne.innerHTML==null||se.textContent&&ne.textContent==null)&&f(L,""),G?F(j.dynamicChildren,G,L,W,ae,Z_(D,ee),ue):ye||C(j,D,L,null,W,ae,Z_(D,ee),ue,!1),k>0){if(k&16)z(L,se,ne,W,ee);else if(k&2&&se.class!==ne.class&&n(L,"class",null,ne.class,ee),k&4&&n(L,"style",se.style,ne.style,ee),k&8){const K=D.dynamicProps;for(let Ae=0;Ae<K.length;Ae++){const ke=K[Ae],Ft=se[ke],zt=ne[ke];(zt!==Ft||ke==="value")&&n(L,ke,Ft,zt,ee,W)}}k&1&&j.children!==D.children&&f(L,D.children)}else!ye&&G==null&&z(L,se,ne,W,ee);((H=ne.onVnodeUpdated)||te)&&Vi(()=>{H&&Xr(H,W,D,j),te&&ro(D,j,W,"updated")},ae)},F=(j,D,W,ae,ee,ue,ye)=>{for(let L=0;L<D.length;L++){const k=j[L],G=D[L],te=k.el&&(k.type===It||!pn(k,G)||k.shapeFlag&70)?d(k.el):W;b(k,G,te,null,ae,ee,ue,ye,!0)}},z=(j,D,W,ae,ee)=>{if(D!==W){if(D!==st)for(const ue in D)!vl(ue)&&!(ue in W)&&n(j,ue,D[ue],null,ee,ae);for(const ue in W){if(vl(ue))continue;const ye=W[ue],L=D[ue];ye!==L&&ue!=="value"&&n(j,ue,L,ye,ee,ae)}"value"in W&&n(j,"value",D.value,W.value,ee)}},U=(j,D,W,ae,ee,ue,ye,L,k)=>{const G=D.el=j?j.el:a(""),te=D.anchor=j?j.anchor:a("");let{patchFlag:se,dynamicChildren:ne,slotScopeIds:H}=D;H&&(L=L?L.concat(H):H),j==null?(r(G,W,ae),r(te,W,ae),N(D.children||[],W,te,ee,ue,ye,L,k)):se>0&&se&64&&ne&&j.dynamicChildren?(F(j.dynamicChildren,ne,W,ee,ue,ye,L),(D.key!=null||ee&&D===ee.subTree)&&eA(j,D,!0)):C(j,D,W,te,ee,ue,ye,L,k)},V=(j,D,W,ae,ee,ue,ye,L,k)=>{D.slotScopeIds=L,j==null?D.shapeFlag&512?ee.ctx.activate(D,W,ae,ye,k):Z(D,W,ae,ee,ue,ye,k):u(j,D,k)},Z=(j,D,W,ae,ee,ue,ye)=>{const L=j.component=I8(j,ae,ee);if(p0(j)&&(L.ctx.renderer=Dt),N8(L,!1,ye),L.asyncDep){if(ee&&ee.registerDep(L,m,ye),!j.el){const k=L.subTree=Ke(xi);E(null,k,D,W)}}else m(L,j,D,W,ee,ue,ye)},u=(j,D,W)=>{const ae=D.component=j.component;if(sse(j,D,W))if(ae.asyncDep&&!ae.asyncResolved){x(ae,D,W);return}else ae.next=D,ae.update();else D.el=j.el,ae.vnode=D},m=(j,D,W,ae,ee,ue,ye)=>{const L=()=>{if(j.isMounted){let{next:se,bu:ne,u:H,parent:K,vnode:Ae}=j;{const Di=y8(j);if(Di){se&&(se.el=Ae.el,x(j,se,ye)),Di.asyncDep.then(()=>{j.isUnmounted||L()});return}}let ke=se,Ft;ec(j,!1),se?(se.el=Ae.el,x(j,se,ye)):se=Ae,ne&&Gh(ne),(Ft=se.props&&se.props.onVnodeBeforeUpdate)&&Xr(Ft,K,se,Ae),ec(j,!0);const zt=_g(j),li=j.subTree;j.subTree=zt,b(li,zt,d(li.el),Gt(li),j,ee,ue),se.el=zt.el,ke===null&&bb(j,zt.el),H&&Vi(H,ee),(Ft=se.props&&se.props.onVnodeUpdated)&&Vi(()=>Xr(Ft,K,se,Ae),ee)}else{let se;const{el:ne,props:H}=D,{bm:K,m:Ae,parent:ke,root:Ft,type:zt}=j,li=bl(D);if(ec(j,!1),K&&Gh(K),!li&&(se=H&&H.onVnodeBeforeMount)&&Xr(se,ke,D),ec(j,!0),ne&&Xi){const Di=()=>{j.subTree=_g(j),Xi(ne,j.subTree,j,ee,null)};li&&zt.__asyncHydrate?zt.__asyncHydrate(ne,j,Di):Di()}else{Ft.ce&&Ft.ce._injectChildStyle(zt);const Di=j.subTree=_g(j);b(null,Di,W,ae,j,ee,ue),D.el=Di.el}if(Ae&&Vi(Ae,ee),!li&&(se=H&&H.onVnodeMounted)){const Di=D;Vi(()=>Xr(se,ke,Di),ee)}(D.shapeFlag&256||ke&&bl(ke.vnode)&&ke.vnode.shapeFlag&256)&&j.a&&Vi(j.a,ee),j.isMounted=!0,D=W=ae=null}};j.scope.on();const k=j.effect=new uf(L);j.scope.off();const G=j.update=k.run.bind(k),te=j.job=k.runIfDirty.bind(k);te.i=j,te.id=j.uid,k.scheduler=()=>N3(te),ec(j,!0),G()},x=(j,D,W)=>{D.component=j;const ae=j.vnode.props;j.vnode=D,j.next=null,Wre(j,D.props,ae,W),Kre(j,D.children,W),Dl(),AM(j),Fl()},C=(j,D,W,ae,ee,ue,ye,L,k=!1)=>{const G=j&&j.children,te=j?j.shapeFlag:0,se=D.children,{patchFlag:ne,shapeFlag:H}=D;if(ne>0){if(ne&128){Y(G,se,W,ae,ee,ue,ye,L,k);return}else if(ne&256){B(G,se,W,ae,ee,ue,ye,L,k);return}}H&8?(te&16&&at(G,ee,ue),se!==G&&f(W,se)):te&16?H&16?Y(G,se,W,ae,ee,ue,ye,L,k):at(G,ee,ue,!0):(te&8&&f(W,""),H&16&&N(se,W,ae,ee,ue,ye,L,k))},B=(j,D,W,ae,ee,ue,ye,L,k)=>{j=j||Vh,D=D||Vh;const G=j.length,te=D.length,se=Math.min(G,te);let ne;for(ne=0;ne<se;ne++){const H=D[ne]=k?il(D[ne]):es(D[ne]);b(j[ne],H,W,null,ee,ue,ye,L,k)}G>te?at(j,ee,ue,!0,!1,se):N(D,W,ae,ee,ue,ye,L,k,se)},Y=(j,D,W,ae,ee,ue,ye,L,k)=>{let G=0;const te=D.length;let se=j.length-1,ne=te-1;for(;G<=se&&G<=ne;){const H=j[G],K=D[G]=k?il(D[G]):es(D[G]);if(pn(H,K))b(H,K,W,null,ee,ue,ye,L,k);else break;G++}for(;G<=se&&G<=ne;){const H=j[se],K=D[ne]=k?il(D[ne]):es(D[ne]);if(pn(H,K))b(H,K,W,null,ee,ue,ye,L,k);else break;se--,ne--}if(G>se){if(G<=ne){const H=ne+1,K=H<te?D[H].el:ae;for(;G<=ne;)b(null,D[G]=k?il(D[G]):es(D[G]),W,K,ee,ue,ye,L,k),G++}}else if(G>ne)for(;G<=se;)oe(j[G],ee,ue,!0),G++;else{const H=G,K=G,Ae=new Map;for(G=K;G<=ne;G++){const Oe=D[G]=k?il(D[G]):es(D[G]);Oe.key!=null&&Ae.set(Oe.key,G)}let ke,Ft=0;const zt=ne-K+1;let li=!1,Di=0;const Q=new Array(zt);for(G=0;G<zt;G++)Q[G]=0;for(G=H;G<=se;G++){const Oe=j[G];if(Ft>=zt){oe(Oe,ee,ue,!0);continue}let We;if(Oe.key!=null)We=Ae.get(Oe.key);else for(ke=K;ke<=ne;ke++)if(Q[ke-K]===0&&pn(Oe,D[ke])){We=ke;break}We===void 0?oe(Oe,ee,ue,!0):(Q[We-K]=G+1,We>=Di?Di=We:li=!0,b(Oe,D[We],W,null,ee,ue,ye,L,k),Ft++)}const Te=li?Xre(Q):Vh;for(ke=Te.length-1,G=zt-1;G>=0;G--){const Oe=K+G,We=D[Oe],Qe=Oe+1<te?D[Oe+1].el:ae;Q[G]===0?b(null,We,W,Qe,ee,ue,ye,L,k):li&&(ke<0||G!==Te[ke]?de(We,W,Qe,2):ke--)}}},de=(j,D,W,ae,ee=null)=>{const{el:ue,type:ye,transition:L,children:k,shapeFlag:G}=j;if(G&6){de(j.component.subTree,D,W,ae);return}if(G&128){j.suspense.move(D,W,ae);return}if(G&64){ye.move(j,D,W,Dt);return}if(ye===It){r(ue,D,W);for(let se=0;se<k.length;se++)de(k[se],D,W,ae);r(j.anchor,D,W);return}if(ye===_l){w(j,D,W);return}if(ae!==2&&G&1&&L)if(ae===0)L.beforeEnter(ue),r(ue,D,W),Vi(()=>L.enter(ue),ee);else{const{leave:se,delayLeave:ne,afterLeave:H}=L,K=()=>r(ue,D,W),Ae=()=>{se(ue,()=>{K(),H&&H()})};ne?ne(ue,K,Ae):Ae()}else r(ue,D,W)},oe=(j,D,W,ae=!1,ee=!1)=>{const{type:ue,props:ye,ref:L,children:k,dynamicChildren:G,shapeFlag:te,patchFlag:se,dirs:ne,cacheIndex:H}=j;if(se===-2&&(ee=!1),L!=null&&_m(L,null,W,j,!0),H!=null&&(D.renderCache[H]=void 0),te&256){D.ctx.deactivate(j);return}const K=te&1&&ne,Ae=!bl(j);let ke;if(Ae&&(ke=ye&&ye.onVnodeBeforeUnmount)&&Xr(ke,D,j),te&6)ze(j.component,W,ae);else{if(te&128){j.suspense.unmount(W,ae);return}K&&ro(j,null,D,"beforeUnmount"),te&64?j.type.remove(j,D,W,Dt,ae):G&&!G.hasOnce&&(ue!==It||se>0&&se&64)?at(G,D,W,!1,!0):(ue===It&&se&384||!ee&&te&16)&&at(k,D,W),ae&&$e(j)}(Ae&&(ke=ye&&ye.onVnodeUnmounted)||K)&&Vi(()=>{ke&&Xr(ke,D,j),K&&ro(j,null,D,"unmounted")},W)},$e=j=>{const{type:D,el:W,anchor:ae,transition:ee}=j;if(D===It){je(W,ae);return}if(D===_l){_(j);return}const ue=()=>{s(W),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(j.shapeFlag&1&&ee&&!ee.persisted){const{leave:ye,delayLeave:L}=ee,k=()=>ye(W,ue);L?L(j.el,ue,k):k()}else ue()},je=(j,D)=>{let W;for(;j!==D;)W=p(j),s(j),j=W;s(D)},ze=(j,D,W)=>{const{bum:ae,scope:ee,job:ue,subTree:ye,um:L,m:k,a:G}=j;Ov(k),Ov(G),ae&&Gh(ae),ee.stop(),ue&&(ue.flags|=8,oe(ye,j,D,W)),L&&Vi(L,D),Vi(()=>{j.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},at=(j,D,W,ae=!1,ee=!1,ue=0)=>{for(let ye=ue;ye<j.length;ye++)oe(j[ye],D,W,ae,ee)},Gt=j=>{if(j.shapeFlag&6)return Gt(j.component.subTree);if(j.shapeFlag&128)return j.suspense.next();const D=p(j.anchor||j.el),W=D&&D[TR];return W?p(W):D};let $t=!1;const yi=(j,D,W)=>{j==null?D._vnode&&oe(D._vnode,null,null,!0):b(D._vnode||null,j,D,null,null,null,W),D._vnode=j,$t||($t=!0,AM(),Tv(),$t=!1)},Dt={p:b,um:oe,m:de,r:$e,mt:Z,mc:N,pc:C,pbc:F,n:Gt,o:e};let si,Xi;return t&&([si,Xi]=t(Dt)),{render:yi,hydrate:si,createApp:qre(yi,si)}}function Z_({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function ec({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function m8(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function eA(e,t,i=!1){const r=e.children,s=t.children;if(Se(r)&&Se(s))for(let n=0;n<r.length;n++){const o=r[n];let a=s[n];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[n]=il(s[n]),a.el=o.el),!i&&a.patchFlag!==-2&&eA(o,a)),a.type===yo&&(a.el=o.el)}}function Xre(e){const t=e.slice(),i=[0];let r,s,n,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=i[i.length-1],e[s]<c){t[r]=s,i.push(r);continue}for(n=0,o=i.length-1;n<o;)a=n+o>>1,e[i[a]]<c?n=a+1:o=a;c<e[i[n]]&&(n>0&&(t[r]=i[n-1]),i[n]=r)}}for(n=i.length,o=i[n-1];n-- >0;)i[n]=o,o=t[o];return i}function y8(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:y8(t)}function Ov(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const tA=Symbol.for("v-scx"),iA=()=>ki(tA);function g8(e,t){return m0(e,null,t)}function v8(e,t){return m0(e,null,{flush:"post"})}function rA(e,t){return m0(e,null,{flush:"sync"})}function Ji(e,t,i){return m0(e,t,i)}function m0(e,t,i=st){const{immediate:r,deep:s,flush:n,once:o}=i,a=nt({},i),l=t&&r||!t&&n!=="post";let c;if(ff){if(n==="sync"){const y=iA();c=y.__watcherHandles||(y.__watcherHandles=[])}else if(!l){const y=()=>{};return y.stop=cr,y.resume=cr,y.pause=cr,y}}const f=qi;a.call=(y,v,b)=>Ss(y,f,v,b);let d=!1;n==="post"?a.scheduler=y=>{Vi(y,f&&f.suspense)}:n!=="sync"&&(d=!0,a.scheduler=(y,v)=>{v?y():N3(y)}),a.augmentJob=y=>{t&&(y.flags|=4),d&&(y.flags|=2,f&&(y.id=f.uid,y.i=f))};const p=bre(e,t,a);return ff&&(c?c.push(p):l&&p()),p}function Qre(e,t,i){const r=this.proxy,s=Je(e)?e.includes(".")?b8(r,e):()=>r[e]:e.bind(r,r);let n;Fe(t)?n=t:(n=t.handler,i=t);const o=fu(this),a=m0(s,n.bind(r),i);return o(),a}function b8(e,t){const i=t.split(".");return()=>{let r=e;for(let s=0;s<i.length&&r;s++)r=r[i[s]];return r}}function _8(e,t,i=st){const r=Ri(),s=Bt(t),n=rs(t),o=w8(e,s),a=C3((l,c)=>{let f,d=st,p;return rA(()=>{const y=e[s];Fr(f,y)&&(f=y,c())}),{get(){return l(),i.get?i.get(f):f},set(y){const v=i.set?i.set(y):y;if(!Fr(v,f)&&!(d!==st&&Fr(y,d)))return;const b=r.vnode.props;b&&(t in b||s in b||n in b)&&(`onUpdate:${t}`in b||`onUpdate:${s}`in b||`onUpdate:${n}`in b)||(f=y,c()),r.emit(`update:${t}`,v),Fr(y,v)&&Fr(y,d)&&!Fr(v,p)&&c(),d=y,p=v}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||st:a,done:!1}:{done:!0}}}},a}const w8=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Bt(t)}Modifiers`]||e[`${rs(t)}Modifiers`];function ese(e,t,...i){if(e.isUnmounted)return;const r=e.vnode.props||st;let s=i;const n=t.startsWith("update:"),o=n&&w8(r,t.slice(7));o&&(o.trim&&(s=i.map(f=>Je(f)?f.trim():f)),o.number&&(s=i.map(wv)));let a,l=r[a=jc(t)]||r[a=jc(Bt(t))];!l&&n&&(l=r[a=jc(rs(t))]),l&&Ss(l,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ss(c,e,6,s)}}function x8(e,t,i=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const n=e.emits;let o={},a=!1;if(!Fe(e)){const l=c=>{const f=x8(c,t,!0);f&&(a=!0,nt(o,f))};!i&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!n&&!a?(Ot(e)&&r.set(e,null),null):(Se(n)?n.forEach(l=>o[l]=null):nt(o,n),Ot(e)&&r.set(e,o),o)}function vb(e,t){return!e||!Tu(t)?!1:(t=t.slice(2).replace(/Once$/,""),bt(e,t[0].toLowerCase()+t.slice(1))||bt(e,rs(t))||bt(e,t))}function _g(e){const{type:t,vnode:i,proxy:r,withProxy:s,propsOptions:[n],slots:o,attrs:a,emit:l,render:c,renderCache:f,props:d,data:p,setupState:y,ctx:v,inheritAttrs:b}=e,S=bm(e);let E,T;try{if(i.shapeFlag&4){const _=s||r,$=_;E=es(c.call($,_,f,d,y,p,v)),T=a}else{const _=t;E=es(_.length>1?_(d,{attrs:a,slots:o,emit:l}):_(d,null)),T=t.props?a:ise(a)}}catch(_){$p.length=0,Ul(_,e,1),E=Ke(xi)}let w=E;if(T&&b!==!1){const _=Object.keys(T),{shapeFlag:$}=w;_.length&&$&7&&(n&&_.some(w3)&&(T=rse(T,n)),w=Nn(w,T,!1,!0))}return i.dirs&&(w=Nn(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(i.dirs):i.dirs),i.transition&&To(w,i.transition),E=w,bm(S),E}function tse(e,t=!0){let i;for(let r=0;r<e.length;r++){const s=e[r];if(Pn(s)){if(s.type!==xi||s.children==="v-if"){if(i)return;i=s}}else return}return i}const ise=e=>{let t;for(const i in e)(i==="class"||i==="style"||Tu(i))&&((t||(t={}))[i]=e[i]);return t},rse=(e,t)=>{const i={};for(const r in e)(!w3(r)||!(r.slice(9)in t))&&(i[r]=e[r]);return i};function sse(e,t,i){const{props:r,children:s,component:n}=e,{props:o,children:a,patchFlag:l}=t,c=n.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return r?DM(r,o,c):!!o;if(l&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const p=f[d];if(o[p]!==r[p]&&!vb(c,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?DM(r,o,c):!0:!!o;return!1}function DM(e,t,i){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const n=r[s];if(t[n]!==e[n]&&!vb(i,n))return!0}return!1}function bb({vnode:e,parent:t},i){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=i,t=t.parent;else break}}const Cv=e=>e.__isSuspense;let Wx=0;const nse={name:"Suspense",__isSuspense:!0,process(e,t,i,r,s,n,o,a,l,c){if(e==null)ose(t,i,r,s,n,o,a,l,c);else{if(n&&n.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}ase(e,t,i,r,s,o,a,l,c)}},hydrate:lse,normalize:cse},E8=nse;function xm(e,t){const i=e.props&&e.props[t];Fe(i)&&i()}function ose(e,t,i,r,s,n,o,a,l){const{p:c,o:{createElement:f}}=l,d=f("div"),p=e.suspense=S8(e,s,r,t,d,i,n,o,a,l);c(null,p.pendingBranch=e.ssContent,d,null,r,p,n,o),p.deps>0?(xm(e,"onPending"),xm(e,"onFallback"),c(null,e.ssFallback,t,i,r,null,n,o),qh(p,e.ssFallback)):p.resolve(!1,!0)}function ase(e,t,i,r,s,n,o,a,{p:l,um:c,o:{createElement:f}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const p=t.ssContent,y=t.ssFallback,{activeBranch:v,pendingBranch:b,isInFallback:S,isHydrating:E}=d;if(b)d.pendingBranch=p,pn(p,b)?(l(b,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0?d.resolve():S&&(E||(l(v,y,i,r,s,null,n,o,a),qh(d,y)))):(d.pendingId=Wx++,E?(d.isHydrating=!1,d.activeBranch=b):c(b,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=f("div"),S?(l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0?d.resolve():(l(v,y,i,r,s,null,n,o,a),qh(d,y))):v&&pn(p,v)?(l(v,p,i,r,s,d,n,o,a),d.resolve(!0)):(l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0&&d.resolve()));else if(v&&pn(p,v))l(v,p,i,r,s,d,n,o,a),qh(d,p);else if(xm(t,"onPending"),d.pendingBranch=p,p.shapeFlag&512?d.pendingId=p.component.suspenseId:d.pendingId=Wx++,l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0)d.resolve();else{const{timeout:T,pendingId:w}=d;T>0?setTimeout(()=>{d.pendingId===w&&d.fallback(y)},T):T===0&&d.fallback(y)}}function S8(e,t,i,r,s,n,o,a,l,c,f=!1){const{p:d,m:p,um:y,n:v,o:{parentNode:b,remove:S}}=c;let E;const T=use(e);T&&t&&t.pendingBranch&&(E=t.pendingId,t.deps++);const w=e.props?xv(e.props.timeout):void 0,_=n,$={vnode:e,parent:t,parentComponent:i,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:Wx++,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!f,isHydrating:f,isUnmounted:!1,effects:[],resolve(M=!1,I=!1){const{vnode:N,activeBranch:P,pendingBranch:F,pendingId:z,effects:U,parentComponent:V,container:Z}=$;let u=!1;$.isHydrating?$.isHydrating=!1:M||(u=P&&F.transition&&F.transition.mode==="out-in",u&&(P.transition.afterLeave=()=>{z===$.pendingId&&(p(F,Z,n===_?v(P):n,0),hf(U))}),P&&(b(P.el)===Z&&(n=v(P)),y(P,V,$,!0)),u||p(F,Z,n,0)),qh($,F),$.pendingBranch=null,$.isInFallback=!1;let m=$.parent,x=!1;for(;m;){if(m.pendingBranch){m.effects.push(...U),x=!0;break}m=m.parent}!x&&!u&&hf(U),$.effects=[],T&&t&&t.pendingBranch&&E===t.pendingId&&(t.deps--,t.deps===0&&!I&&t.resolve()),xm(N,"onResolve")},fallback(M){if(!$.pendingBranch)return;const{vnode:I,activeBranch:N,parentComponent:P,container:F,namespace:z}=$;xm(I,"onFallback");const U=v(N),V=()=>{$.isInFallback&&(d(null,M,F,U,P,null,z,a,l),qh($,M))},Z=M.transition&&M.transition.mode==="out-in";Z&&(N.transition.afterLeave=V),$.isInFallback=!0,y(N,P,null,!0),Z||V()},move(M,I,N){$.activeBranch&&p($.activeBranch,M,I,N),$.container=M},next(){return $.activeBranch&&v($.activeBranch)},registerDep(M,I,N){const P=!!$.pendingBranch;P&&$.deps++;const F=M.vnode.el;M.asyncDep.catch(z=>{Ul(z,M,0)}).then(z=>{if(M.isUnmounted||$.isUnmounted||$.pendingId!==M.suspenseId)return;M.asyncResolved=!0;const{vnode:U}=M;Zx(M,z,!1),F&&(U.el=F);const V=!F&&M.subTree.el;I(M,U,b(F||M.subTree.el),F?null:v(M.subTree),$,o,N),V&&S(V),bb(M,U.el),P&&--$.deps===0&&$.resolve()})},unmount(M,I){$.isUnmounted=!0,$.activeBranch&&y($.activeBranch,i,M,I),$.pendingBranch&&y($.pendingBranch,i,M,I)}};return $}function lse(e,t,i,r,s,n,o,a,l){const c=t.suspense=S8(t,r,i,e.parentNode,document.createElement("div"),null,s,n,o,a,!0),f=l(e,c.pendingBranch=t.ssContent,i,c,n,o);return c.deps===0&&c.resolve(!1,!0),f}function cse(e){const{shapeFlag:t,children:i}=e,r=t&32;e.ssContent=FM(r?i.default:i),e.ssFallback=r?FM(i.fallback):Ke(xi)}function FM(e){let t;if(Fe(e)){const i=hu&&e._c;i&&(e._d=!1,fe()),e=e(),i&&(e._d=!0,t=Tr,T8())}return Se(e)&&(e=tse(e)),e=es(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(i=>i!==e)),e}function A8(e,t){t&&t.pendingBranch?Se(e)?t.effects.push(...e):t.effects.push(e):hf(e)}function qh(e,t){e.activeBranch=t;const{vnode:i,parentComponent:r}=e;let s=t.el;for(;!s&&t.component;)t=t.component.subTree,s=t.el;i.el=s,r&&r.subTree===i&&(r.vnode.el=s,bb(r,s))}function use(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const It=Symbol.for("v-fgt"),yo=Symbol.for("v-txt"),xi=Symbol.for("v-cmt"),_l=Symbol.for("v-stc"),$p=[];let Tr=null;function fe(e=!1){$p.push(Tr=e?null:[])}function T8(){$p.pop(),Tr=$p[$p.length-1]||null}let hu=1;function Iv(e,t=!1){hu+=e,e<0&&Tr&&t&&(Tr.hasOnce=!0)}function $8(e){return e.dynamicChildren=hu>0?Tr||Vh:null,T8(),hu>0&&Tr&&Tr.push(e),e}function xe(e,t,i,r,s,n){return $8(ce(e,t,i,r,s,n,!0))}function Vt(e,t,i,r,s){return $8(Ke(e,t,i,r,s,!0))}function Pn(e){return e?e.__v_isVNode===!0:!1}function pn(e,t){return e.type===t.type&&e.key===t.key}function M8(e){}const O8=({key:e})=>e??null,wg=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?Je(e)||ht(e)||Fe(e)?{i:Wi,r:e,k:t,f:!!i}:e:null);function ce(e,t=null,i=null,r=0,s=null,n=e===It?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&O8(t),ref:t&&wg(t),scopeId:fb,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Wi};return a?(nA(l,i),n&128&&e.normalize(l)):i&&(l.shapeFlag|=Je(i)?8:16),hu>0&&!o&&Tr&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&Tr.push(l),l}const Ke=hse;function hse(e,t=null,i=null,r=0,s=null,n=!1){if((!e||e===jR)&&(e=xi),Pn(e)){const a=Nn(e,t,!0);return i&&nA(a,i),hu>0&&!n&&Tr&&(a.shapeFlag&6?Tr[Tr.indexOf(e)]=a:Tr.push(a)),a.patchFlag=-2,a}if(yse(e)&&(e=e.__vccOpts),t){t=sA(t);let{class:a,style:l}=t;a&&!Je(a)&&(t.class=mi(a)),Ot(l)&&(f0(l)&&!Se(l)&&(l=nt({},l)),t.style=Rl(l))}const o=Je(e)?1:Cv(e)?128:$R(e)?64:Ot(e)?4:Fe(e)?2:0;return ce(e,t,i,r,s,o,n,!0)}function sA(e){return e?f0(e)||a8(e)?nt({},e):e:null}function Nn(e,t,i=!1,r=!1){const{props:s,ref:n,patchFlag:o,children:a,transition:l}=e,c=t?_b(s||{},t):s,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&O8(c),ref:t&&t.ref?i&&n?Se(n)?n.concat(wg(t)):[n,wg(t)]:wg(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==It?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Nn(e.ssContent),ssFallback:e.ssFallback&&Nn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&To(f,l.clone(f)),f}function go(e=" ",t=0){return Ke(yo,null,e,t)}function C8(e,t){const i=Ke(_l,null,e);return i.staticCount=t,i}function Ht(e="",t=!1){return t?(fe(),Vt(xi,null,e)):Ke(xi,null,e)}function es(e){return e==null||typeof e=="boolean"?Ke(xi):Se(e)?Ke(It,null,e.slice()):Pn(e)?il(e):Ke(yo,null,String(e))}function il(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Nn(e)}function nA(e,t){let i=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Se(t))i=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),nA(e,s()),s._c&&(s._d=!0));return}else{i=32;const s=t._;!s&&!a8(t)?t._ctx=Wi:s===3&&Wi&&(Wi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Fe(t)?(t={default:t,_ctx:Wi},i=32):(t=String(t),r&64?(i=16,t=[go(t)]):i=8);e.children=t,e.shapeFlag|=i}function _b(...e){const t={};for(let i=0;i<e.length;i++){const r=e[i];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=mi([t.class,r.class]));else if(s==="style")t.style=Rl([t.style,r.style]);else if(Tu(s)){const n=t[s],o=r[s];o&&n!==o&&!(Se(n)&&n.includes(o))&&(t[s]=n?[].concat(n,o):o)}else s!==""&&(t[s]=r[s])}return t}function Xr(e,t,i,r=null){Ss(e,t,7,[i,r])}const fse=s8();let dse=0;function I8(e,t,i){const r=e.type,s=(t?t.appContext:e.appContext)||fse,n={uid:dse++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new sb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:c8(r,s),emitsOptions:x8(r,s),emit:null,emitted:null,propsDefaults:st,inheritAttrs:r.inheritAttrs,ctx:st,data:st,props:st,attrs:st,slots:st,refs:st,setupState:st,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=ese.bind(null,n),e.ce&&e.ce(n),n}let qi=null;const Ri=()=>qi||Wi;let Pv,Yx;{const e=ib(),t=(i,r)=>{let s;return(s=e[i])||(s=e[i]=[]),s.push(r),n=>{s.length>1?s.forEach(o=>o(n)):s[0](n)}};Pv=t("__VUE_INSTANCE_SETTERS__",i=>qi=i),Yx=t("__VUE_SSR_SETTERS__",i=>ff=i)}const fu=e=>{const t=qi;return Pv(e),e.scope.on(),()=>{e.scope.off(),Pv(t)}},Jx=()=>{qi&&qi.scope.off(),Pv(null)};function P8(e){return e.vnode.shapeFlag&4}let ff=!1;function N8(e,t=!1,i=!1){t&&Yx(t);const{props:r,children:s}=e.vnode,n=P8(e);Hre(e,r,n,t),Zre(e,s,i);const o=n?pse(e,t):void 0;return t&&Yx(!1),o}function pse(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Gx);const{setup:r}=i;if(r){Dl();const s=e.setupContext=r.length>1?R8(e):null,n=fu(e),o=Mu(r,e,0,[e.props,s]),a=E3(o);if(Fl(),n(),(a||e.sp)&&!bl(e)&&R3(e),a){if(o.then(Jx,Jx),t)return o.then(l=>{Zx(e,l,t)}).catch(l=>{Ul(l,e,0)});e.asyncDep=o}else Zx(e,o,t)}else k8(e,t)}function Zx(e,t,i){Fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ot(t)&&(e.setupState=hb(t)),k8(e,i)}let Nv,Kx;function oA(e){Nv=e,Kx=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Fre))}}const L8=()=>!Nv;function k8(e,t,i){const r=e.type;if(!e.render){if(!t&&Nv&&!r.render){const s=r.template||Y3(e).template;if(s){const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=nt(nt({isCustomElement:n,delimiters:a},o),l);r.render=Nv(s,c)}}e.render=r.render||cr,Kx&&Kx(e)}{const s=fu(e);Dl();try{Ure(e)}finally{Fl(),s()}}}const mse={get(e,t){return wr(e,"get",""),e[t]}};function R8(e){const t=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,mse),slots:e.slots,emit:e.emit,expose:t}}function y0(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(hb(pi(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in Tp)return Tp[i](e)},has(t,i){return i in t||i in Tp}})):e.proxy}function Xx(e,t=!0){return Fe(e)?e.displayName||e.name:e.name||t&&e.__name}function yse(e){return Fe(e)&&"__vccOpts"in e}const tt=(e,t)=>vre(e,t,ff);function zs(e,t,i){const r=arguments.length;return r===2?Ot(t)&&!Se(t)?Pn(t)?Ke(e,null,[t]):Ke(e,t):Ke(e,null,t):(r>3?i=Array.prototype.slice.call(arguments,2):r===3&&Pn(i)&&(i=[i]),Ke(e,t,i))}function D8(){}function F8(e,t,i,r){const s=i[r];if(s&&aA(s,e))return s;const n=t();return n.memo=e.slice(),n.cacheIndex=r,i[r]=n}function aA(e,t){const i=e.memo;if(i.length!=t.length)return!1;for(let r=0;r<i.length;r++)if(Fr(i[r],t[r]))return!1;return hu>0&&Tr&&Tr.push(e),!0}const lA="3.5.13",U8=cr,j8=xre,V8=lh,B8=xR,gse={createComponentInstance:I8,setupComponent:N8,renderComponentRoot:_g,setCurrentRenderingInstance:bm,isVNode:Pn,normalizeVNode:es,getComponentPublicInstance:y0,ensureValidVNode:W3,pushWarningContext:_re,popWarningContext:wre},G8=gse,z8=null,q8=null,H8=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qx;const UM=typeof window<"u"&&window.trustedTypes;if(UM)try{Qx=UM.createPolicy("vue",{createHTML:e=>e})}catch{}const W8=Qx?e=>Qx.createHTML(e):e=>e,vse="http://www.w3.org/2000/svg",bse="http://www.w3.org/1998/Math/MathML",Ko=typeof document<"u"?document:null,jM=Ko&&Ko.createElement("template"),_se={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,r)=>{const s=t==="svg"?Ko.createElementNS(vse,e):t==="mathml"?Ko.createElementNS(bse,e):i?Ko.createElement(e,{is:i}):Ko.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Ko.createTextNode(e),createComment:e=>Ko.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ko.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,r,s,n){const o=i?i.previousSibling:t.lastChild;if(s&&(s===n||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),i),!(s===n||!(s=s.nextSibling)););else{jM.innerHTML=W8(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=jM.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,i)}return[o?o.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},Ca="transition",vd="animation",df=Symbol("_vtc"),Y8={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},J8=nt({},pb,Y8),wse=e=>(e.displayName="Transition",e.props=J8,e),wb=wse((e,{slots:t})=>zs(k3,Z8(e),t)),tc=(e,t=[])=>{Se(e)?e.forEach(i=>i(...t)):e&&e(...t)},VM=e=>e?Se(e)?e.some(t=>t.length>1):e.length>1:!1;function Z8(e){const t={};for(const U in e)U in Y8||(t[U]=e[U]);if(e.css===!1)return t;const{name:i="v",type:r,duration:s,enterFromClass:n=`${i}-enter-from`,enterActiveClass:o=`${i}-enter-active`,enterToClass:a=`${i}-enter-to`,appearFromClass:l=n,appearActiveClass:c=o,appearToClass:f=a,leaveFromClass:d=`${i}-leave-from`,leaveActiveClass:p=`${i}-leave-active`,leaveToClass:y=`${i}-leave-to`}=e,v=xse(s),b=v&&v[0],S=v&&v[1],{onBeforeEnter:E,onEnter:T,onEnterCancelled:w,onLeave:_,onLeaveCancelled:$,onBeforeAppear:M=E,onAppear:I=T,onAppearCancelled:N=w}=t,P=(U,V,Z,u)=>{U._enterCancelled=u,Ha(U,V?f:a),Ha(U,V?c:o),Z&&Z()},F=(U,V)=>{U._isLeaving=!1,Ha(U,d),Ha(U,y),Ha(U,p),V&&V()},z=U=>(V,Z)=>{const u=U?I:T,m=()=>P(V,U,Z);tc(u,[V,m]),BM(()=>{Ha(V,U?l:n),Xn(V,U?f:a),VM(u)||GM(V,r,b,m)})};return nt(t,{onBeforeEnter(U){tc(E,[U]),Xn(U,n),Xn(U,o)},onBeforeAppear(U){tc(M,[U]),Xn(U,l),Xn(U,c)},onEnter:z(!1),onAppear:z(!0),onLeave(U,V){U._isLeaving=!0;const Z=()=>F(U,V);Xn(U,d),U._enterCancelled?(Xn(U,p),eE()):(eE(),Xn(U,p)),BM(()=>{U._isLeaving&&(Ha(U,d),Xn(U,y),VM(_)||GM(U,r,S,Z))}),tc(_,[U,Z])},onEnterCancelled(U){P(U,!1,void 0,!0),tc(w,[U])},onAppearCancelled(U){P(U,!0,void 0,!0),tc(N,[U])},onLeaveCancelled(U){F(U),tc($,[U])}})}function xse(e){if(e==null)return null;if(Ot(e))return[K_(e.enter),K_(e.leave)];{const t=K_(e);return[t,t]}}function K_(e){return xv(e)}function Xn(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e[df]||(e[df]=new Set)).add(t)}function Ha(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const i=e[df];i&&(i.delete(t),i.size||(e[df]=void 0))}function BM(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Ese=0;function GM(e,t,i,r){const s=e._endId=++Ese,n=()=>{s===e._endId&&r()};if(i!=null)return setTimeout(n,i);const{type:o,timeout:a,propCount:l}=K8(e,t);if(!o)return r();const c=o+"end";let f=0;const d=()=>{e.removeEventListener(c,p),n()},p=y=>{y.target===e&&++f>=l&&d()};setTimeout(()=>{f<l&&d()},a+1),e.addEventListener(c,p)}function K8(e,t){const i=window.getComputedStyle(e),r=v=>(i[v]||"").split(", "),s=r(`${Ca}Delay`),n=r(`${Ca}Duration`),o=zM(s,n),a=r(`${vd}Delay`),l=r(`${vd}Duration`),c=zM(a,l);let f=null,d=0,p=0;t===Ca?o>0&&(f=Ca,d=o,p=n.length):t===vd?c>0&&(f=vd,d=c,p=l.length):(d=Math.max(o,c),f=d>0?o>c?Ca:vd:null,p=f?f===Ca?n.length:l.length:0);const y=f===Ca&&/\b(transform|all)(,|$)/.test(r(`${Ca}Property`).toString());return{type:f,timeout:d,propCount:p,hasTransform:y}}function zM(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,r)=>qM(i)+qM(e[r])))}function qM(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function eE(){return document.body.offsetHeight}function Sse(e,t,i){const r=e[df];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const Lv=Symbol("_vod"),X8=Symbol("_vsh"),xb={beforeMount(e,{value:t},{transition:i}){e[Lv]=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):bd(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:r}){!t!=!i&&(r?t?(r.beforeEnter(e),bd(e,!0),r.enter(e)):r.leave(e,()=>{bd(e,!1)}):bd(e,t))},beforeUnmount(e,{value:t}){bd(e,t)}};function bd(e,t){e.style.display=t?e[Lv]:"none",e[X8]=!t}function Ase(){xb.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Q8=Symbol("");function cA(e){const t=Ri();if(!t)return;const i=t.ut=(s=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(n=>kv(n,s))},r=()=>{const s=e(t.proxy);t.ce?kv(t.ce,s):tE(t.subTree,s),i(s)};gb(()=>{hf(r)}),hr(()=>{Ji(r,cr,{flush:"post"});const s=new MutationObserver(r);s.observe(t.subTree.el.parentNode,{childList:!0}),Ou(()=>s.disconnect())})}function tE(e,t){if(e.shapeFlag&128){const i=e.suspense;e=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push(()=>{tE(i.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)kv(e.el,t);else if(e.type===It)e.children.forEach(i=>tE(i,t));else if(e.type===_l){let{el:i,anchor:r}=e;for(;i&&(kv(i,t),i!==r);)i=i.nextSibling}}function kv(e,t){if(e.nodeType===1){const i=e.style;let r="";for(const s in t)i.setProperty(`--${s}`,t[s]),r+=`--${s}: ${t[s]};`;i[Q8]=r}}const Tse=/(^|;)\s*display\s*:/;function $se(e,t,i){const r=e.style,s=Je(i);let n=!1;if(i&&!s){if(t)if(Je(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();i[a]==null&&xg(r,a,"")}else for(const o in t)i[o]==null&&xg(r,o,"");for(const o in i)o==="display"&&(n=!0),xg(r,o,i[o])}else if(s){if(t!==i){const o=r[Q8];o&&(i+=";"+o),r.cssText=i,n=Tse.test(i)}}else t&&e.removeAttribute("style");Lv in e&&(e[Lv]=n?r.display:"",e[X8]&&(r.display="none"))}const HM=/\s*!important$/;function xg(e,t,i){if(Se(i))i.forEach(r=>xg(e,t,r));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const r=Mse(e,t);HM.test(i)?e.setProperty(rs(r),i.replace(HM,""),"important"):e[r]=i}}const WM=["Webkit","Moz","ms"],X_={};function Mse(e,t){const i=X_[t];if(i)return i;let r=Bt(t);if(r!=="filter"&&r in e)return X_[t]=r;r=kl(r);for(let s=0;s<WM.length;s++){const n=WM[s]+r;if(n in e)return X_[t]=n}return t}const YM="http://www.w3.org/1999/xlink";function JM(e,t,i,r,s,n=qie(t)){r&&t.startsWith("xlink:")?i==null?e.removeAttributeNS(YM,t.slice(6,t.length)):e.setAttributeNS(YM,t,i):i==null||n&&!Vk(i)?e.removeAttribute(t):e.setAttribute(t,n?"":fs(i)?String(i):i)}function ZM(e,t,i,r,s){if(t==="innerHTML"||t==="textContent"){i!=null&&(e[t]=t==="innerHTML"?W8(i):i);return}const n=e.tagName;if(t==="value"&&n!=="PROGRESS"&&!n.includes("-")){const a=n==="OPTION"?e.getAttribute("value")||"":e.value,l=i==null?e.type==="checkbox"?"on":"":String(i);(a!==l||!("_value"in e))&&(e.value=l),i==null&&e.removeAttribute(t),e._value=i;return}let o=!1;if(i===""||i==null){const a=typeof e[t];a==="boolean"?i=Vk(i):i==null&&a==="string"?(i="",o=!0):a==="number"&&(i=0,o=!0)}try{e[t]=i}catch{}o&&e.removeAttribute(s||t)}function oa(e,t,i,r){e.addEventListener(t,i,r)}function Ose(e,t,i,r){e.removeEventListener(t,i,r)}const KM=Symbol("_vei");function Cse(e,t,i,r,s=null){const n=e[KM]||(e[KM]={}),o=n[t];if(r&&o)o.value=r;else{const[a,l]=Ise(t);if(r){const c=n[t]=Lse(r,s);oa(e,a,c,l)}else o&&(Ose(e,a,o,l),n[t]=void 0)}}const XM=/(?:Once|Passive|Capture)$/;function Ise(e){let t;if(XM.test(e)){t={};let r;for(;r=e.match(XM);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):rs(e.slice(2)),t]}let Q_=0;const Pse=Promise.resolve(),Nse=()=>Q_||(Pse.then(()=>Q_=0),Q_=Date.now());function Lse(e,t){const i=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=i.attached)return;Ss(kse(r,i.value),t,5,[r])};return i.value=e,i.attached=Nse(),i}function kse(e,t){if(Se(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const QM=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Rse=(e,t,i,r,s,n)=>{const o=s==="svg";t==="class"?Sse(e,r,o):t==="style"?$se(e,i,r):Tu(t)?w3(t)||Cse(e,t,i,r,n):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Dse(e,t,r,o))?(ZM(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&JM(e,t,r,o,n,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Je(r))?ZM(e,Bt(t),r,n,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),JM(e,t,r,o))};function Dse(e,t,i,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&QM(t)&&Fe(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return QM(t)&&Je(i)?!1:t in e}const eO={};/*! #__NO_SIDE_EFFECTS__ */function uA(e,t,i){const r=rt(e,t);eb(r)&&nt(r,t);class s extends g0{constructor(o){super(r,o,i)}}return s.def=r,s}/*! #__NO_SIDE_EFFECTS__ */const e9=(e,t)=>uA(e,t,mA),Fse=typeof HTMLElement<"u"?HTMLElement:class{};class g0 extends Fse{constructor(t,i={},r=Ol){super(),this._def=t,this._props=i,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Ol?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof g0){this._parent=t;break}this._instance||(this._resolved?(this._setParent(),this._update()):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._instance.provides=t._instance.provides)}disconnectedCallback(){this._connected=!1,Dn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const s of r)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(r,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:n,styles:o}=r;let a;if(n&&!Se(n))for(const l in n){const c=n[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=xv(this._props[l])),(a||(a=Object.create(null)))[Bt(l)]=!0)}this._numberProps=a,s&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},i=this._def.__asyncLoader;i?this._pendingResolve=i().then(r=>t(this._def=r,!0)):t(this._def)}_mount(t){this._app=this._createApp(t),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const i=this._instance&&this._instance.exposed;if(i)for(const r in i)bt(this,r)||Object.defineProperty(this,r,{get:()=>Me(i[r])})}_resolveProps(t){const{props:i}=t,r=Se(i)?i:Object.keys(i||{});for(const s of Object.keys(this))s[0]!=="_"&&r.includes(s)&&this._setProp(s,this[s]);for(const s of r.map(Bt))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(n){this._setProp(s,n,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const i=this.hasAttribute(t);let r=i?this.getAttribute(t):eO;const s=Bt(t);i&&this._numberProps&&this._numberProps[s]&&(r=xv(r)),this._setProp(s,r,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,i,r=!0,s=!1){if(i!==this._props[t]&&(i===eO?delete this._props[t]:(this._props[t]=i,t==="key"&&this._app&&(this._app._ceVNode.key=i)),s&&this._instance&&this._update(),r)){const n=this._ob;n&&n.disconnect(),i===!0?this.setAttribute(rs(t),""):typeof i=="string"||typeof i=="number"?this.setAttribute(rs(t),i+""):i||this.removeAttribute(rs(t)),n&&n.observe(this,{attributes:!0})}}_update(){Hh(this._createVNode(),this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const i=Ke(this._def,nt(t,this._props));return this._instance||(i.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const s=(n,o)=>{this.dispatchEvent(new CustomEvent(n,eb(o[0])?nt({detail:o},o[0]):{detail:o}))};r.emit=(n,...o)=>{s(n,o),rs(n)!==n&&s(rs(n),o)},this._setParent()}),i}_applyStyles(t,i){if(!t)return;if(i){if(i===this._def||this._styleChildren.has(i))return;this._styleChildren.add(i)}const r=this._nonce;for(let s=t.length-1;s>=0;s--){const n=document.createElement("style");r&&n.setAttribute("nonce",r),n.textContent=t[s],this.shadowRoot.prepend(n)}}_parseSlots(){const t=this._slots={};let i;for(;i=this.firstChild;){const r=i.nodeType===1&&i.getAttribute("slot")||"default";(t[r]||(t[r]=[])).push(i),this.removeChild(i)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),i=this._instance.type.__scopeId;for(let r=0;r<t.length;r++){const s=t[r],n=s.getAttribute("name")||"default",o=this._slots[n],a=s.parentNode;if(o)for(const l of o){if(i&&l.nodeType===1){const c=i+"-s",f=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=f.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,s)}else for(;s.firstChild;)a.insertBefore(s.firstChild,s);a.removeChild(s)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function hA(e){const t=Ri(),i=t&&t.ce;return i||null}function t9(){const e=hA();return e&&e.shadowRoot}function i9(e="$style"){{const t=Ri();if(!t)return st;const i=t.type.__cssModules;if(!i)return st;const r=i[e];return r||st}}const r9=new WeakMap,s9=new WeakMap,Rv=Symbol("_moveCb"),tO=Symbol("_enterCb"),Use=e=>(delete e.props.mode,e),jse=Use({name:"TransitionGroup",props:nt({},J8,{tag:String,moveClass:String}),setup(e,{slots:t}){const i=Ri(),r=db();let s,n;return td(()=>{if(!s.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!zse(s[0].el,i.vnode.el,o))return;s.forEach(Vse),s.forEach(Bse);const a=s.filter(Gse);eE(),a.forEach(l=>{const c=l.el,f=c.style;Xn(c,o),f.transform=f.webkitTransform=f.transitionDuration="";const d=c[Rv]=p=>{p&&p.target!==c||(!p||/transform$/.test(p.propertyName))&&(c.removeEventListener("transitionend",d),c[Rv]=null,Ha(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=Ge(e),a=Z8(o);let l=o.tag||It;if(s=[],n)for(let c=0;c<n.length;c++){const f=n[c];f.el&&f.el instanceof Element&&(s.push(f),To(f,uu(f,a,r,i)),r9.set(f,f.el.getBoundingClientRect()))}n=t.default?d0(t.default()):[];for(let c=0;c<n.length;c++){const f=n[c];f.key!=null&&To(f,uu(f,a,r,i))}return Ke(l,null,n)}}}),Eb=jse;function Vse(e){const t=e.el;t[Rv]&&t[Rv](),t[tO]&&t[tO]()}function Bse(e){s9.set(e,e.el.getBoundingClientRect())}function Gse(e){const t=r9.get(e),i=s9.get(e),r=t.left-i.left,s=t.top-i.top;if(r||s){const n=e.el.style;return n.transform=n.webkitTransform=`translate(${r}px,${s}px)`,n.transitionDuration="0s",e}}function zse(e,t,i){const r=e.cloneNode(),s=e[df];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),i.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(r);const{hasTransform:o}=K8(r);return n.removeChild(r),o}const Ml=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Se(t)?i=>Gh(t,i):t};function qse(e){e.target.composing=!0}function iO(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Hs=Symbol("_assign"),Em={created(e,{modifiers:{lazy:t,trim:i,number:r}},s){e[Hs]=Ml(s);const n=r||s.props&&s.props.type==="number";oa(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;i&&(a=a.trim()),n&&(a=wv(a)),e[Hs](a)}),i&&oa(e,"change",()=>{e.value=e.value.trim()}),t||(oa(e,"compositionstart",qse),oa(e,"compositionend",iO),oa(e,"change",iO))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:i,modifiers:{lazy:r,trim:s,number:n}},o){if(e[Hs]=Ml(o),e.composing)return;const a=(n||e.type==="number")&&!/^0\d/.test(e.value)?wv(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===i||s&&e.value.trim()===l)||(e.value=l))}},Sb={deep:!0,created(e,t,i){e[Hs]=Ml(i),oa(e,"change",()=>{const r=e._modelValue,s=pf(e),n=e.checked,o=e[Hs];if(Se(r)){const a=rb(r,s),l=a!==-1;if(n&&!l)o(r.concat(s));else if(!n&&l){const c=[...r];c.splice(a,1),o(c)}}else if($u(r)){const a=new Set(r);n?a.add(s):a.delete(s),o(a)}else o(n9(e,n))})},mounted:rO,beforeUpdate(e,t,i){e[Hs]=Ml(i),rO(e,t,i)}};function rO(e,{value:t,oldValue:i},r){e._modelValue=t;let s;if(Se(t))s=rb(t,r.props.value)>-1;else if($u(t))s=t.has(r.props.value);else{if(t===i)return;s=$l(t,n9(e,!0))}e.checked!==s&&(e.checked=s)}const Ab={created(e,{value:t},i){e.checked=$l(t,i.props.value),e[Hs]=Ml(i),oa(e,"change",()=>{e[Hs](pf(e))})},beforeUpdate(e,{value:t,oldValue:i},r){e[Hs]=Ml(r),t!==i&&(e.checked=$l(t,r.props.value))}},fA={deep:!0,created(e,{value:t,modifiers:{number:i}},r){const s=$u(t);oa(e,"change",()=>{const n=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>i?wv(pf(o)):pf(o));e[Hs](e.multiple?s?new Set(n):n:n[0]),e._assigning=!0,Dn(()=>{e._assigning=!1})}),e[Hs]=Ml(r)},mounted(e,{value:t}){sO(e,t)},beforeUpdate(e,t,i){e[Hs]=Ml(i)},updated(e,{value:t}){e._assigning||sO(e,t)}};function sO(e,t){const i=e.multiple,r=Se(t);if(!(i&&!r&&!$u(t))){for(let s=0,n=e.options.length;s<n;s++){const o=e.options[s],a=pf(o);if(i)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=rb(t,a)>-1}else o.selected=t.has(a);else if($l(pf(o),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function pf(e){return"_value"in e?e._value:e.value}function n9(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const dA={created(e,t,i){dy(e,t,i,null,"created")},mounted(e,t,i){dy(e,t,i,null,"mounted")},beforeUpdate(e,t,i,r){dy(e,t,i,r,"beforeUpdate")},updated(e,t,i,r){dy(e,t,i,r,"updated")}};function o9(e,t){switch(e){case"SELECT":return fA;case"TEXTAREA":return Em;default:switch(t){case"checkbox":return Sb;case"radio":return Ab;default:return Em}}}function dy(e,t,i,r,s){const o=o9(e.tagName,i.props&&i.props.type)[s];o&&o(e,t,i,r)}function Hse(){Em.getSSRProps=({value:e})=>({value:e}),Ab.getSSRProps=({value:e},t)=>{if(t.props&&$l(t.props.value,e))return{checked:!0}},Sb.getSSRProps=({value:e},t)=>{if(Se(e)){if(t.props&&rb(e,t.props.value)>-1)return{checked:!0}}else if($u(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},dA.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const i=o9(t.type.toUpperCase(),t.props&&t.props.type);if(i.getSSRProps)return i.getSSRProps(e,t)}}const Wse=["ctrl","shift","alt","meta"],Yse={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Wse.some(i=>e[`${i}Key`]&&!t.includes(i))},v0=(e,t)=>{const i=e._withMods||(e._withMods={}),r=t.join(".");return i[r]||(i[r]=(s,...n)=>{for(let o=0;o<t.length;o++){const a=Yse[t[o]];if(a&&a(s,t))return}return e(s,...n)})},Jse={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},pA=(e,t)=>{const i=e._withKeys||(e._withKeys={}),r=t.join(".");return i[r]||(i[r]=s=>{if(!("key"in s))return;const n=rs(s.key);if(t.some(o=>o===n||Jse[o]===n))return e(s)})},a9=nt({patchProp:Rse},_se);let Mp,nO=!1;function l9(){return Mp||(Mp=X3(a9))}function c9(){return Mp=nO?Mp:Q3(a9),nO=!0,Mp}const Hh=(...e)=>{l9().render(...e)},u9=(...e)=>{c9().hydrate(...e)},Ol=(...e)=>{const t=l9().createApp(...e),{mount:i}=t;return t.mount=r=>{const s=f9(r);if(!s)return;const n=t._component;!Fe(n)&&!n.render&&!n.template&&(n.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=i(s,!1,h9(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t},mA=(...e)=>{const t=c9().createApp(...e),{mount:i}=t;return t.mount=r=>{const s=f9(r);if(s)return i(s,!0,h9(s))},t};function h9(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function f9(e){return Je(e)?document.querySelector(e):e}let oO=!1;const d9=()=>{oO||(oO=!0,Hse(),Ase())},Zse=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:k3,BaseTransitionPropsValidators:pb,Comment:xi,DeprecationTypes:H8,EffectScope:sb,ErrorCodes:vR,ErrorTypeStrings:j8,Fragment:It,KeepAlive:FR,ReactiveEffect:uf,Static:_l,Suspense:E8,Teleport:L3,Text:yo,TrackOpTypes:dR,Transition:wb,TransitionGroup:Eb,TriggerOpTypes:pR,VueElement:g0,assertNumber:gR,callWithAsyncErrorHandling:Ss,callWithErrorHandling:Mu,camelize:Bt,capitalize:kl,cloneVNode:Nn,compatUtils:q8,computed:tt,createApp:Ol,createBlock:Vt,createCommentVNode:Ht,createElementBlock:xe,createElementVNode:ce,createHydrationRenderer:Q3,createPropsRestProxy:t8,createRenderer:X3,createSSRApp:mA,createSlots:VR,createStaticVNode:C8,createTextVNode:go,createVNode:Ke,customRef:C3,defineAsyncComponent:D3,defineComponent:rt,defineCustomElement:uA,defineEmits:zR,defineExpose:qR,defineModel:YR,defineOptions:HR,defineProps:GR,defineSSRCustomElement:e9,defineSlots:WR,devtools:V8,effect:Jk,effectScope:h0,getCurrentInstance:Ri,getCurrentScope:nb,getCurrentWatcher:mR,getTransitionRawChildren:d0,guardReactiveProps:sA,h:zs,handleError:Ul,hasInjectionContext:Z3,hydrate:u9,hydrateOnIdle:LR,hydrateOnInteraction:DR,hydrateOnMediaQuery:RR,hydrateOnVisible:kR,initCustomFormatter:D8,initDirectivesForSSR:d9,inject:ki,isMemoSame:aA,isProxy:f0,isReactive:xs,isReadonly:ma,isRef:ht,isRuntimeOnly:L8,isShallow:as,isVNode:Pn,markRaw:pi,mergeDefaults:QR,mergeModels:e8,mergeProps:_b,nextTick:Dn,normalizeClass:mi,normalizeProps:jk,normalizeStyle:Rl,onActivated:F3,onBeforeMount:yb,onBeforeUnmount:Fn,onBeforeUpdate:gb,onDeactivated:U3,onErrorCaptured:G3,onMounted:hr,onRenderTracked:B3,onRenderTriggered:V3,onScopeDispose:A3,onServerPrefetch:j3,onUnmounted:Ou,onUpdated:td,onWatcherCleanup:P3,openBlock:fe,popScopeId:SR,provide:J3,proxyRefs:hb,pushScopeId:ER,queuePostFlushCb:hf,reactive:rr,readonly:cb,ref:X,registerRuntimeCompiler:oA,render:Hh,renderList:jl,renderSlot:gn,resolveComponent:wi,resolveDirective:Tt,resolveDynamicComponent:q3,resolveFilter:z8,resolveTransitionHooks:uu,setBlockTracking:Iv,setDevtoolsHook:B8,setTransitionHooks:To,shallowReactive:O3,shallowReadonly:aR,shallowRef:ed,ssrContextKey:tA,ssrUtils:G8,stop:Zk,toDisplayString:kt,toHandlerKey:jc,toHandlers:BR,toRaw:Ge,toRef:hR,toRefs:I3,toValue:uR,transformVNodeArgs:M8,triggerRef:cR,unref:Me,useAttrs:KR,useCssModule:i9,useCssVars:cA,useHost:hA,useId:NR,useModel:_8,useSSRContext:iA,useShadowRoot:t9,useSlots:ZR,useTemplateRef:$v,useTransitionState:db,vModelCheckbox:Sb,vModelDynamic:dA,vModelRadio:Ab,vModelSelect:fA,vModelText:Em,vShow:xb,version:lA,warn:U8,watch:Ji,watchEffect:g8,watchPostEffect:v8,watchSyncEffect:rA,withAsyncContext:i8,withCtx:$i,withDefaults:JR,withDirectives:At,withKeys:pA,withMemo:F8,withModifiers:v0,withScopeId:AR},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Sm=Symbol(""),Op=Symbol(""),yA=Symbol(""),Dv=Symbol(""),p9=Symbol(""),du=Symbol(""),m9=Symbol(""),y9=Symbol(""),gA=Symbol(""),vA=Symbol(""),b0=Symbol(""),bA=Symbol(""),g9=Symbol(""),_A=Symbol(""),wA=Symbol(""),xA=Symbol(""),EA=Symbol(""),SA=Symbol(""),AA=Symbol(""),v9=Symbol(""),b9=Symbol(""),Tb=Symbol(""),Fv=Symbol(""),TA=Symbol(""),$A=Symbol(""),Am=Symbol(""),_0=Symbol(""),MA=Symbol(""),iE=Symbol(""),Kse=Symbol(""),rE=Symbol(""),Uv=Symbol(""),Xse=Symbol(""),Qse=Symbol(""),OA=Symbol(""),ene=Symbol(""),tne=Symbol(""),CA=Symbol(""),_9=Symbol(""),mf={[Sm]:"Fragment",[Op]:"Teleport",[yA]:"Suspense",[Dv]:"KeepAlive",[p9]:"BaseTransition",[du]:"openBlock",[m9]:"createBlock",[y9]:"createElementBlock",[gA]:"createVNode",[vA]:"createElementVNode",[b0]:"createCommentVNode",[bA]:"createTextVNode",[g9]:"createStaticVNode",[_A]:"resolveComponent",[wA]:"resolveDynamicComponent",[xA]:"resolveDirective",[EA]:"resolveFilter",[SA]:"withDirectives",[AA]:"renderList",[v9]:"renderSlot",[b9]:"createSlots",[Tb]:"toDisplayString",[Fv]:"mergeProps",[TA]:"normalizeClass",[$A]:"normalizeStyle",[Am]:"normalizeProps",[_0]:"guardReactiveProps",[MA]:"toHandlers",[iE]:"camelize",[Kse]:"capitalize",[rE]:"toHandlerKey",[Uv]:"setBlockTracking",[Xse]:"pushScopeId",[Qse]:"popScopeId",[OA]:"withCtx",[ene]:"unref",[tne]:"isRef",[CA]:"withMemo",[_9]:"isMemoSame"};function ine(e){Object.getOwnPropertySymbols(e).forEach(t=>{mf[t]=e[t]})}const Ms={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function rne(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:Ms}}function Tm(e,t,i,r,s,n,o,a=!1,l=!1,c=!1,f=Ms){return e&&(a?(e.helper(du),e.helper(vf(e.inSSR,c))):e.helper(gf(e.inSSR,c)),o&&e.helper(SA)),{type:13,tag:t,props:i,children:r,patchFlag:s,dynamicProps:n,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:f}}function Gc(e,t=Ms){return{type:17,loc:t,elements:e}}function qs(e,t=Ms){return{type:15,loc:t,properties:e}}function Ai(e,t){return{type:16,loc:Ms,key:Je(e)?et(e,!0):e,value:t}}function et(e,t=!1,i=Ms,r=0){return{type:4,loc:i,content:e,isStatic:t,constType:t?3:r}}function An(e,t=Ms){return{type:8,loc:t,children:e}}function zi(e,t=[],i=Ms){return{type:14,loc:i,callee:e,arguments:t}}function yf(e,t=void 0,i=!1,r=!1,s=Ms){return{type:18,params:e,returns:t,newline:i,isSlot:r,loc:s}}function sE(e,t,i,r=!0){return{type:19,test:e,consequent:t,alternate:i,newline:r,loc:Ms}}function sne(e,t,i=!1,r=!1){return{type:20,index:e,value:t,needPauseTracking:i,inVOnce:r,needArraySpread:!1,loc:Ms}}function nne(e){return{type:21,body:e,loc:Ms}}function gf(e,t){return e||t?gA:vA}function vf(e,t){return e||t?m9:y9}function IA(e,{helper:t,removeHelper:i,inSSR:r}){e.isBlock||(e.isBlock=!0,i(gf(r,e.isComponent)),t(du),t(vf(r,e.isComponent)))}const aO=new Uint8Array([123,123]),lO=new Uint8Array([125,125]);function cO(e){return e>=97&&e<=122||e>=65&&e<=90}function ys(e){return e===32||e===10||e===9||e===12||e===13}function Ia(e){return e===47||e===62||ys(e)}function jv(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}const dr={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};let one=class{constructor(t,i){this.stack=t,this.cbs=i,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=aO,this.delimiterClose=lO,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=aO,this.delimiterClose=lO}getPos(t){let i=1,r=t+1;for(let s=this.newlines.length-1;s>=0;s--){const n=this.newlines[s];if(t>n){i=s+2,r=t-n;break}}return{column:r,line:i,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const i=this.index+1-this.delimiterOpen.length;i>this.sectionStart&&this.cbs.ontext(this.sectionStart,i),this.state=3,this.sectionStart=i}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const i=this.sequenceIndex===this.currentSequence.length;if(!(i?Ia(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!i){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||ys(t)){const i=this.index-this.currentSequence.length;if(this.sectionStart<i){const r=this.index;this.index=i,this.cbs.ontext(this.sectionStart,i),this.index=r}this.sectionStart=i+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===dr.TitleEnd||this.currentSequence===dr.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===dr.Cdata[this.sequenceIndex]?++this.sequenceIndex===dr.Cdata.length&&(this.state=28,this.currentSequence=dr.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const i=this.buffer.charCodeAt(this.index);if(i===10&&this.newlines.push(this.index),i===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===dr.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,i){this.enterRCDATA(t,i),this.state=31}enterRCDATA(t,i){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=i}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):cO(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){Ia(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(Ia(t)){const i=this.buffer.slice(this.sectionStart,this.index);i!=="template"&&this.enterRCDATA(jv("</"+i),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){ys(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=cO(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||ys(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):ys(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):ys(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||Ia(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||Ia(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||Ia(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||Ia(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||Ia(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):ys(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):ys(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,i){(t===i||this.fastForwardTo(i))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(i===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){ys(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=dr.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===dr.ScriptEnd[3]?this.startSpecial(dr.ScriptEnd,4):t===dr.StyleEnd[3]?this.startSpecial(dr.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===dr.TitleEnd[3]?this.startSpecial(dr.TitleEnd,4):t===dr.TextareaEnd[3]?this.startSpecial(dr.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const i=this.buffer.charCodeAt(this.index);switch(i===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(i);break}case 2:{this.stateInterpolationOpen(i);break}case 3:{this.stateInterpolation(i);break}case 4:{this.stateInterpolationClose(i);break}case 31:{this.stateSpecialStartSequence(i);break}case 32:{this.stateInRCDATA(i);break}case 26:{this.stateCDATASequence(i);break}case 19:{this.stateInAttrValueDoubleQuotes(i);break}case 12:{this.stateInAttrName(i);break}case 13:{this.stateInDirName(i);break}case 14:{this.stateInDirArg(i);break}case 15:{this.stateInDynamicDirArg(i);break}case 16:{this.stateInDirModifier(i);break}case 28:{this.stateInCommentLike(i);break}case 27:{this.stateInSpecialComment(i);break}case 11:{this.stateBeforeAttrName(i);break}case 6:{this.stateInTagName(i);break}case 34:{this.stateInSFCRootTagName(i);break}case 9:{this.stateInClosingTagName(i);break}case 5:{this.stateBeforeTagName(i);break}case 17:{this.stateAfterAttrName(i);break}case 20:{this.stateInAttrValueSingleQuotes(i);break}case 18:{this.stateBeforeAttrValue(i);break}case 8:{this.stateBeforeClosingTagName(i);break}case 10:{this.stateAfterClosingTagName(i);break}case 29:{this.stateBeforeSpecialS(i);break}case 30:{this.stateBeforeSpecialT(i);break}case 21:{this.stateInAttrValueNoQuotes(i);break}case 7:{this.stateInSelfClosingTag(i);break}case 23:{this.stateInDeclaration(i);break}case 22:{this.stateBeforeDeclaration(i);break}case 25:{this.stateBeforeComment(i);break}case 24:{this.stateInProcessingInstruction(i);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===dr.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,i){}};function uO(e,{compatConfig:t}){const i=t&&t[e];return e==="MODE"?i||3:i}function zc(e,t){const i=uO("MODE",t),r=uO(e,t);return i===3?r===!0:r!==!1}function $m(e,t,i,...r){return zc(e,t)}function PA(e){throw e}function w9(e){}function ti(e,t,i,r){const s=`https://vuejs.org/error-reference/#compiler-${e}`,n=new SyntaxError(String(s));return n.code=e,n.loc=t,n}const os=e=>e.type===4&&e.isStatic;function x9(e){switch(e){case"Teleport":case"teleport":return Op;case"Suspense":case"suspense":return yA;case"KeepAlive":case"keep-alive":return Dv;case"BaseTransition":case"base-transition":return p9}}const ane=/^\d|[^\$\w\xA0-\uFFFF]/,NA=e=>!ane.test(e),lne=/[A-Za-z_$\xA0-\uFFFF]/,cne=/[\.\?\w$\xA0-\uFFFF]/,une=/\s+[.[]\s*|\s*[.[]\s+/g,E9=e=>e.type===4?e.content:e.loc.source,hne=e=>{const t=E9(e).trim().replace(une,a=>a.trim());let i=0,r=[],s=0,n=0,o=null;for(let a=0;a<t.length;a++){const l=t.charAt(a);switch(i){case 0:if(l==="[")r.push(i),i=1,s++;else if(l==="(")r.push(i),i=2,n++;else if(!(a===0?lne:cne).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(r.push(i),i=3,o=l):l==="["?s++:l==="]"&&(--s||(i=r.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")r.push(i),i=3,o=l;else if(l==="(")n++;else if(l===")"){if(a===t.length-1)return!1;--n||(i=r.pop())}break;case 3:l===o&&(i=r.pop(),o=null);break}}return!s&&!n},S9=hne,fne=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,dne=e=>fne.test(E9(e)),pne=dne;function js(e,t,i=!1){for(let r=0;r<e.props.length;r++){const s=e.props[r];if(s.type===7&&(i||s.exp)&&(Je(t)?s.name===t:t.test(s.name)))return s}}function $b(e,t,i=!1,r=!1){for(let s=0;s<e.props.length;s++){const n=e.props[s];if(n.type===6){if(i)continue;if(n.name===t&&(n.value||r))return n}else if(n.name==="bind"&&(n.exp||r)&&kc(n.arg,t))return n}}function kc(e,t){return!!(e&&os(e)&&e.content===t)}function mne(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function e2(e){return e.type===5||e.type===2}function yne(e){return e.type===7&&e.name==="slot"}function Vv(e){return e.type===1&&e.tagType===3}function Bv(e){return e.type===1&&e.tagType===2}const gne=new Set([Am,_0]);function A9(e,t=[]){if(e&&!Je(e)&&e.type===14){const i=e.callee;if(!Je(i)&&gne.has(i))return A9(e.arguments[0],t.concat(e))}return[e,t]}function Gv(e,t,i){let r,s=e.type===13?e.props:e.arguments[2],n=[],o;if(s&&!Je(s)&&s.type===14){const a=A9(s);s=a[0],n=a[1],o=n[n.length-1]}if(s==null||Je(s))r=qs([t]);else if(s.type===14){const a=s.arguments[0];!Je(a)&&a.type===15?hO(t,a)||a.properties.unshift(t):s.callee===MA?r=zi(i.helper(Fv),[qs([t]),s]):s.arguments.unshift(qs([t])),!r&&(r=s)}else s.type===15?(hO(t,s)||s.properties.unshift(t),r=s):(r=zi(i.helper(Fv),[qs([t]),s]),o&&o.callee===_0&&(o=n[n.length-2]));e.type===13?o?o.arguments[0]=r:e.props=r:o?o.arguments[0]=r:e.arguments[2]=r}function hO(e,t){let i=!1;if(e.key.type===4){const r=e.key.content;i=t.properties.some(s=>s.key.type===4&&s.key.content===r)}return i}function Mm(e,t){return`_${t}_${e.replace(/[^\w]/g,(i,r)=>i==="-"?"_":e.charCodeAt(r).toString())}`}function vne(e){return e.type===14&&e.callee===CA?e.arguments[1].returns:e}const bne=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,T9={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:rp,isPreTag:rp,isIgnoreNewlineTag:rp,isCustomElement:rp,onError:PA,onWarn:w9,comments:!1,prefixIdentifiers:!1};let _t=T9,Om=null,ha="",gr=null,lt=null,Jr="",Yo=-1,Sc=-1,LA=0,rl=!1,nE=null;const Kt=[],di=new one(Kt,{onerr:Fo,ontext(e,t){py(nr(e,t),e,t)},ontextentity(e,t,i){py(e,t,i)},oninterpolation(e,t){if(rl)return py(nr(e,t),e,t);let i=e+di.delimiterOpen.length,r=t-di.delimiterClose.length;for(;ys(ha.charCodeAt(i));)i++;for(;ys(ha.charCodeAt(r-1));)r--;let s=nr(i,r);s.includes("&")&&(s=_t.decodeEntities(s,!1)),oE({type:5,content:Sg(s,!1,bi(i,r)),loc:bi(e,t)})},onopentagname(e,t){const i=nr(e,t);gr={type:1,tag:i,ns:_t.getNamespace(i,Kt[0],_t.ns),tagType:0,props:[],children:[],loc:bi(e-1,t),codegenNode:void 0}},onopentagend(e){dO(e)},onclosetag(e,t){const i=nr(e,t);if(!_t.isVoidTag(i)){let r=!1;for(let s=0;s<Kt.length;s++)if(Kt[s].tag.toLowerCase()===i.toLowerCase()){r=!0,s>0&&Fo(24,Kt[0].loc.start.offset);for(let o=0;o<=s;o++){const a=Kt.shift();Eg(a,t,o<s)}break}r||Fo(23,$9(e,60))}},onselfclosingtag(e){const t=gr.tag;gr.isSelfClosing=!0,dO(e),Kt[0]&&Kt[0].tag===t&&Eg(Kt.shift(),e)},onattribname(e,t){lt={type:6,name:nr(e,t),nameLoc:bi(e,t),value:void 0,loc:bi(e)}},ondirname(e,t){const i=nr(e,t),r=i==="."||i===":"?"bind":i==="@"?"on":i==="#"?"slot":i.slice(2);if(!rl&&r===""&&Fo(26,e),rl||r==="")lt={type:6,name:i,nameLoc:bi(e,t),value:void 0,loc:bi(e)};else if(lt={type:7,name:r,rawName:i,exp:void 0,arg:void 0,modifiers:i==="."?[et("prop")]:[],loc:bi(e)},r==="pre"){rl=di.inVPre=!0,nE=gr;const s=gr.props;for(let n=0;n<s.length;n++)s[n].type===7&&(s[n]=Cne(s[n]))}},ondirarg(e,t){if(e===t)return;const i=nr(e,t);if(rl)lt.name+=i,Rc(lt.nameLoc,t);else{const r=i[0]!=="[";lt.arg=Sg(r?i:i.slice(1,-1),r,bi(e,t),r?3:0)}},ondirmodifier(e,t){const i=nr(e,t);if(rl)lt.name+="."+i,Rc(lt.nameLoc,t);else if(lt.name==="slot"){const r=lt.arg;r&&(r.content+="."+i,Rc(r.loc,t))}else{const r=et(i,!0,bi(e,t));lt.modifiers.push(r)}},onattribdata(e,t){Jr+=nr(e,t),Yo<0&&(Yo=e),Sc=t},onattribentity(e,t,i){Jr+=e,Yo<0&&(Yo=t),Sc=i},onattribnameend(e){const t=lt.loc.start.offset,i=nr(t,e);lt.type===7&&(lt.rawName=i),gr.props.some(r=>(r.type===7?r.rawName:r.name)===i)&&Fo(2,t)},onattribend(e,t){if(gr&&lt){if(Rc(lt.loc,t),e!==0)if(Jr.includes("&")&&(Jr=_t.decodeEntities(Jr,!0)),lt.type===6)lt.name==="class"&&(Jr=O9(Jr).trim()),e===1&&!Jr&&Fo(13,t),lt.value={type:2,content:Jr,loc:e===1?bi(Yo,Sc):bi(Yo-1,Sc+1)},di.inSFCRoot&&gr.tag==="template"&&lt.name==="lang"&&Jr&&Jr!=="html"&&di.enterRCDATA(jv("</template"),0);else{let i=0;lt.exp=Sg(Jr,!1,bi(Yo,Sc),0,i),lt.name==="for"&&(lt.forParseResult=wne(lt.exp));let r=-1;lt.name==="bind"&&(r=lt.modifiers.findIndex(s=>s.content==="sync"))>-1&&$m("COMPILER_V_BIND_SYNC",_t,lt.loc,lt.rawName)&&(lt.name="model",lt.modifiers.splice(r,1))}(lt.type!==7||lt.name!=="pre")&&gr.props.push(lt)}Jr="",Yo=Sc=-1},oncomment(e,t){_t.comments&&oE({type:3,content:nr(e,t),loc:bi(e-4,t+3)})},onend(){const e=ha.length;for(let t=0;t<Kt.length;t++)Eg(Kt[t],e-1),Fo(24,Kt[t].loc.start.offset)},oncdata(e,t){Kt[0].ns!==0?py(nr(e,t),e,t):Fo(1,e-9)},onprocessinginstruction(e){(Kt[0]?Kt[0].ns:_t.ns)===0&&Fo(21,e-1)}}),fO=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,_ne=/^\(|\)$/g;function wne(e){const t=e.loc,i=e.content,r=i.match(bne);if(!r)return;const[,s,n]=r,o=(d,p,y=!1)=>{const v=t.start.offset+p,b=v+d.length;return Sg(d,!1,bi(v,b),0,y?1:0)},a={source:o(n.trim(),i.indexOf(n,s.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=s.trim().replace(_ne,"").trim();const c=s.indexOf(l),f=l.match(fO);if(f){l=l.replace(fO,"").trim();const d=f[1].trim();let p;if(d&&(p=i.indexOf(d,c+l.length),a.key=o(d,p,!0)),f[2]){const y=f[2].trim();y&&(a.index=o(y,i.indexOf(y,a.key?p+d.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function nr(e,t){return ha.slice(e,t)}function dO(e){di.inSFCRoot&&(gr.innerLoc=bi(e+1,e+1)),oE(gr);const{tag:t,ns:i}=gr;i===0&&_t.isPreTag(t)&&LA++,_t.isVoidTag(t)?Eg(gr,e):(Kt.unshift(gr),(i===1||i===2)&&(di.inXML=!0)),gr=null}function py(e,t,i){{const n=Kt[0]&&Kt[0].tag;n!=="script"&&n!=="style"&&e.includes("&")&&(e=_t.decodeEntities(e,!1))}const r=Kt[0]||Om,s=r.children[r.children.length-1];s&&s.type===2?(s.content+=e,Rc(s.loc,i)):r.children.push({type:2,content:e,loc:bi(t,i)})}function Eg(e,t,i=!1){i?Rc(e.loc,$9(t,60)):Rc(e.loc,xne(t,62)+1),di.inSFCRoot&&(e.children.length?e.innerLoc.end=nt({},e.children[e.children.length-1].loc.end):e.innerLoc.end=nt({},e.innerLoc.start),e.innerLoc.source=nr(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:r,ns:s,children:n}=e;if(rl||(r==="slot"?e.tagType=2:pO(e)?e.tagType=3:Sne(e)&&(e.tagType=1)),di.inRCDATA||(e.children=M9(n)),s===0&&_t.isIgnoreNewlineTag(r)){const o=n[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}s===0&&_t.isPreTag(r)&&LA--,nE===e&&(rl=di.inVPre=!1,nE=null),di.inXML&&(Kt[0]?Kt[0].ns:_t.ns)===0&&(di.inXML=!1);{const o=e.props;if(!di.inSFCRoot&&zc("COMPILER_NATIVE_TEMPLATE",_t)&&e.tag==="template"&&!pO(e)){const l=Kt[0]||Om,c=l.children.indexOf(e);l.children.splice(c,1,...e.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&$m("COMPILER_INLINE_TEMPLATE",_t,a.loc)&&e.children.length&&(a.value={type:2,content:nr(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:a.loc})}}function xne(e,t){let i=e;for(;ha.charCodeAt(i)!==t&&i<ha.length-1;)i++;return i}function $9(e,t){let i=e;for(;ha.charCodeAt(i)!==t&&i>=0;)i--;return i}const Ene=new Set(["if","else","else-if","for","slot"]);function pO({tag:e,props:t}){if(e==="template"){for(let i=0;i<t.length;i++)if(t[i].type===7&&Ene.has(t[i].name))return!0}return!1}function Sne({tag:e,props:t}){if(_t.isCustomElement(e))return!1;if(e==="component"||Ane(e.charCodeAt(0))||x9(e)||_t.isBuiltInComponent&&_t.isBuiltInComponent(e)||_t.isNativeTag&&!_t.isNativeTag(e))return!0;for(let i=0;i<t.length;i++){const r=t[i];if(r.type===6){if(r.name==="is"&&r.value){if(r.value.content.startsWith("vue:"))return!0;if($m("COMPILER_IS_ON_ELEMENT",_t,r.loc))return!0}}else if(r.name==="bind"&&kc(r.arg,"is")&&$m("COMPILER_IS_ON_ELEMENT",_t,r.loc))return!0}return!1}function Ane(e){return e>64&&e<91}const Tne=/\r\n/g;function M9(e,t){const i=_t.whitespace!=="preserve";let r=!1;for(let s=0;s<e.length;s++){const n=e[s];if(n.type===2)if(LA)n.content=n.content.replace(Tne,`
`);else if($ne(n.content)){const o=e[s-1]&&e[s-1].type,a=e[s+1]&&e[s+1].type;!o||!a||i&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&Mne(n.content)))?(r=!0,e[s]=null):n.content=" "}else i&&(n.content=O9(n.content))}return r?e.filter(Boolean):e}function $ne(e){for(let t=0;t<e.length;t++)if(!ys(e.charCodeAt(t)))return!1;return!0}function Mne(e){for(let t=0;t<e.length;t++){const i=e.charCodeAt(t);if(i===10||i===13)return!0}return!1}function O9(e){let t="",i=!1;for(let r=0;r<e.length;r++)ys(e.charCodeAt(r))?i||(t+=" ",i=!0):(t+=e[r],i=!1);return t}function oE(e){(Kt[0]||Om).children.push(e)}function bi(e,t){return{start:di.getPos(e),end:t==null?t:di.getPos(t),source:t==null?t:nr(e,t)}}function One(e){return bi(e.start.offset,e.end.offset)}function Rc(e,t){e.end=di.getPos(t),e.source=nr(e.start.offset,t)}function Cne(e){const t={type:6,name:e.rawName,nameLoc:bi(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const i=e.exp.loc;i.end.offset<e.loc.end.offset&&(i.start.offset--,i.start.column--,i.end.offset++,i.end.column++),t.value={type:2,content:e.exp.content,loc:i}}return t}function Sg(e,t=!1,i,r=0,s=0){return et(e,t,i,r)}function Fo(e,t,i){_t.onError(ti(e,bi(t,t)))}function Ine(){di.reset(),gr=null,lt=null,Jr="",Yo=-1,Sc=-1,Kt.length=0}function Pne(e,t){if(Ine(),ha=e,_t=nt({},T9),t){let s;for(s in t)t[s]!=null&&(_t[s]=t[s])}di.mode=_t.parseMode==="html"?1:_t.parseMode==="sfc"?2:0,di.inXML=_t.ns===1||_t.ns===2;const i=t&&t.delimiters;i&&(di.delimiterOpen=jv(i[0]),di.delimiterClose=jv(i[1]));const r=Om=rne([],e);return di.parse(ha),r.loc=bi(0,e.length),r.children=M9(r.children),Om=null,r}function Nne(e,t){Ag(e,void 0,t,C9(e,e.children[0]))}function C9(e,t){const{children:i}=e;return i.length===1&&t.type===1&&!Bv(t)}function Ag(e,t,i,r=!1,s=!1){const{children:n}=e,o=[];for(let f=0;f<n.length;f++){const d=n[f];if(d.type===1&&d.tagType===0){const p=r?0:bs(d,i);if(p>0){if(p>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const y=d.codegenNode;if(y.type===13){const v=y.patchFlag;if((v===void 0||v===512||v===1)&&P9(d,i)>=2){const b=N9(d);b&&(y.props=i.hoist(b))}y.dynamicProps&&(y.dynamicProps=i.hoist(y.dynamicProps))}}}else if(d.type===12&&(r?0:bs(d,i))>=2){o.push(d);continue}if(d.type===1){const p=d.tagType===1;p&&i.scopes.vSlot++,Ag(d,e,i,!1,s),p&&i.scopes.vSlot--}else if(d.type===11)Ag(d,e,i,d.children.length===1,!0);else if(d.type===9)for(let p=0;p<d.branches.length;p++)Ag(d.branches[p],e,i,d.branches[p].children.length===1,s)}let a=!1;if(o.length===n.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Se(e.codegenNode.children))e.codegenNode.children=l(Gc(e.codegenNode.children)),a=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Se(e.codegenNode.children)&&e.codegenNode.children.type===15){const f=c(e.codegenNode,"default");f&&(f.returns=l(Gc(f.returns)),a=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Se(t.codegenNode.children)&&t.codegenNode.children.type===15){const f=js(e,"slot",!0),d=f&&f.arg&&c(t.codegenNode,f.arg);d&&(d.returns=l(Gc(d.returns)),a=!0)}}if(!a)for(const f of o)f.codegenNode=i.cache(f.codegenNode);function l(f){const d=i.cache(f);return s&&i.hmr&&(d.needArraySpread=!0),d}function c(f,d){if(f.children&&!Se(f.children)&&f.children.type===15){const p=f.children.properties.find(y=>y.key===d||y.key.content===d);return p&&p.value}}o.length&&i.transformHoist&&i.transformHoist(n,i,e)}function bs(e,t){const{constantCache:i}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=i.get(e);if(r!==void 0)return r;const s=e.codegenNode;if(s.type!==13||s.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(s.patchFlag===void 0){let o=3;const a=P9(e,t);if(a===0)return i.set(e,0),0;a<o&&(o=a);for(let l=0;l<e.children.length;l++){const c=bs(e.children[l],t);if(c===0)return i.set(e,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<e.props.length;l++){const c=e.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const f=bs(c.exp,t);if(f===0)return i.set(e,0),0;f<o&&(o=f)}}if(s.isBlock){for(let l=0;l<e.props.length;l++)if(e.props[l].type===7)return i.set(e,0),0;t.removeHelper(du),t.removeHelper(vf(t.inSSR,s.isComponent)),s.isBlock=!1,t.helper(gf(t.inSSR,s.isComponent))}return i.set(e,o),o}else return i.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return bs(e.content,t);case 4:return e.constType;case 8:let n=3;for(let o=0;o<e.children.length;o++){const a=e.children[o];if(Je(a)||fs(a))continue;const l=bs(a,t);if(l===0)return 0;l<n&&(n=l)}return n;case 20:return 2;default:return 0}}const Lne=new Set([TA,$A,Am,_0]);function I9(e,t){if(e.type===14&&!Je(e.callee)&&Lne.has(e.callee)){const i=e.arguments[0];if(i.type===4)return bs(i,t);if(i.type===14)return I9(i,t)}return 0}function P9(e,t){let i=3;const r=N9(e);if(r&&r.type===15){const{properties:s}=r;for(let n=0;n<s.length;n++){const{key:o,value:a}=s[n],l=bs(o,t);if(l===0)return l;l<i&&(i=l);let c;if(a.type===4?c=bs(a,t):a.type===14?c=I9(a,t):c=0,c===0)return c;c<i&&(i=c)}}return i}function N9(e){const t=e.codegenNode;if(t.type===13)return t.props}function kne(e,{filename:t="",prefixIdentifiers:i=!1,hoistStatic:r=!1,hmr:s=!1,cacheHandlers:n=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=cr,isCustomElement:f=cr,expressionPlugins:d=[],scopeId:p=null,slotted:y=!0,ssr:v=!1,inSSR:b=!1,ssrCssVars:S="",bindingMetadata:E=st,inline:T=!1,isTS:w=!1,onError:_=PA,onWarn:$=w9,compatConfig:M}){const I=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),N={filename:t,selfName:I&&kl(Bt(I[1])),prefixIdentifiers:i,hoistStatic:r,hmr:s,cacheHandlers:n,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:f,expressionPlugins:d,scopeId:p,slotted:y,ssr:v,inSSR:b,ssrCssVars:S,bindingMetadata:E,inline:T,isTS:w,onError:_,onWarn:$,compatConfig:M,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(P){const F=N.helpers.get(P)||0;return N.helpers.set(P,F+1),P},removeHelper(P){const F=N.helpers.get(P);if(F){const z=F-1;z?N.helpers.set(P,z):N.helpers.delete(P)}},helperString(P){return`_${mf[N.helper(P)]}`},replaceNode(P){N.parent.children[N.childIndex]=N.currentNode=P},removeNode(P){const F=N.parent.children,z=P?F.indexOf(P):N.currentNode?N.childIndex:-1;!P||P===N.currentNode?(N.currentNode=null,N.onNodeRemoved()):N.childIndex>z&&(N.childIndex--,N.onNodeRemoved()),N.parent.children.splice(z,1)},onNodeRemoved:cr,addIdentifiers(P){},removeIdentifiers(P){},hoist(P){Je(P)&&(P=et(P)),N.hoists.push(P);const F=et(`_hoisted_${N.hoists.length}`,!1,P.loc,2);return F.hoisted=P,F},cache(P,F=!1,z=!1){const U=sne(N.cached.length,P,F,z);return N.cached.push(U),U}};return N.filters=new Set,N}function Rne(e,t){const i=kne(e,t);Mb(e,i),t.hoistStatic&&Nne(e,i),t.ssr||Dne(e,i),e.helpers=new Set([...i.helpers.keys()]),e.components=[...i.components],e.directives=[...i.directives],e.imports=i.imports,e.hoists=i.hoists,e.temps=i.temps,e.cached=i.cached,e.transformed=!0,e.filters=[...i.filters]}function Dne(e,t){const{helper:i}=t,{children:r}=e;if(r.length===1){const s=r[0];if(C9(e,s)&&s.codegenNode){const n=s.codegenNode;n.type===13&&IA(n,t),e.codegenNode=n}else e.codegenNode=s}else if(r.length>1){let s=64;e.codegenNode=Tm(t,i(Sm),void 0,e.children,s,void 0,void 0,!0,void 0,!1)}}function Fne(e,t){let i=0;const r=()=>{i--};for(;i<e.children.length;i++){const s=e.children[i];Je(s)||(t.grandParent=t.parent,t.parent=e,t.childIndex=i,t.onNodeRemoved=r,Mb(s,t))}}function Mb(e,t){t.currentNode=e;const{nodeTransforms:i}=t,r=[];for(let n=0;n<i.length;n++){const o=i[n](e,t);if(o&&(Se(o)?r.push(...o):r.push(o)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(b0);break;case 5:t.ssr||t.helper(Tb);break;case 9:for(let n=0;n<e.branches.length;n++)Mb(e.branches[n],t);break;case 10:case 11:case 1:case 0:Fne(e,t);break}t.currentNode=e;let s=r.length;for(;s--;)r[s]()}function L9(e,t){const i=Je(e)?r=>r===e:r=>e.test(r);return(r,s)=>{if(r.type===1){const{props:n}=r;if(r.tagType===3&&n.some(yne))return;const o=[];for(let a=0;a<n.length;a++){const l=n[a];if(l.type===7&&i(l.name)){n.splice(a,1),a--;const c=t(r,l,s);c&&o.push(c)}}return o}}}const Ob="/*@__PURE__*/",k9=e=>`${mf[e]}: _${mf[e]}`;function Une(e,{mode:t="function",prefixIdentifiers:i=t==="module",sourceMap:r=!1,filename:s="template.vue.html",scopeId:n=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:f=!1,isTS:d=!1,inSSR:p=!1}){const y={mode:t,prefixIdentifiers:i,sourceMap:r,filename:s,scopeId:n,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:f,isTS:d,inSSR:p,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(b){return`_${mf[b]}`},push(b,S=-2,E){y.code+=b},indent(){v(++y.indentLevel)},deindent(b=!1){b?--y.indentLevel:v(--y.indentLevel)},newline(){v(y.indentLevel)}};function v(b){y.push(`
`+"  ".repeat(b),0)}return y}function jne(e,t={}){const i=Une(e,t);t.onContextCreated&&t.onContextCreated(i);const{mode:r,push:s,prefixIdentifiers:n,indent:o,deindent:a,newline:l,scopeId:c,ssr:f}=i,d=Array.from(e.helpers),p=d.length>0,y=!n&&r!=="module";Vne(e,i);const b=f?"ssrRender":"render",E=(f?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(s(`function ${b}(${E}) {`),o(),y&&(s("with (_ctx) {"),o(),p&&(s(`const { ${d.map(k9).join(", ")} } = _Vue
`,-1),l())),e.components.length&&(t2(e.components,"component",i),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(t2(e.directives,"directive",i),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),t2(e.filters,"filter",i),l()),e.temps>0){s("let ");for(let T=0;T<e.temps;T++)s(`${T>0?", ":""}_temp${T}`)}return(e.components.length||e.directives.length||e.temps)&&(s(`
`,0),l()),f||s("return "),e.codegenNode?$r(e.codegenNode,i):s("null"),y&&(a(),s("}")),a(),s("}"),{ast:e,code:i.code,preamble:"",map:i.map?i.map.toJSON():void 0}}function Vne(e,t){const{ssr:i,prefixIdentifiers:r,push:s,newline:n,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a,f=Array.from(e.helpers);if(f.length>0&&(s(`const _Vue = ${c}
`,-1),e.hoists.length)){const d=[gA,vA,b0,bA,g9].filter(p=>f.includes(p)).map(k9).join(", ");s(`const { ${d} } = _Vue
`,-1)}Bne(e.hoists,t),n(),s("return ")}function t2(e,t,{helper:i,push:r,newline:s,isTS:n}){const o=i(t==="filter"?EA:t==="component"?_A:xA);for(let a=0;a<e.length;a++){let l=e[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),r(`const ${Mm(l,t)} = ${o}(${JSON.stringify(l)}${c?", true":""})${n?"!":""}`),a<e.length-1&&s()}}function Bne(e,t){if(!e.length)return;t.pure=!0;const{push:i,newline:r}=t;r();for(let s=0;s<e.length;s++){const n=e[s];n&&(i(`const _hoisted_${s+1} = `),$r(n,t),r())}t.pure=!1}function kA(e,t){const i=e.length>3||!1;t.push("["),i&&t.indent(),w0(e,t,i),i&&t.deindent(),t.push("]")}function w0(e,t,i=!1,r=!0){const{push:s,newline:n}=t;for(let o=0;o<e.length;o++){const a=e[o];Je(a)?s(a,-3):Se(a)?kA(a,t):$r(a,t),o<e.length-1&&(i?(r&&s(","),n()):r&&s(", "))}}function $r(e,t){if(Je(e)){t.push(e,-3);return}if(fs(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:$r(e.codegenNode,t);break;case 2:Gne(e,t);break;case 4:R9(e,t);break;case 5:zne(e,t);break;case 12:$r(e.codegenNode,t);break;case 8:D9(e,t);break;case 3:Hne(e,t);break;case 13:Wne(e,t);break;case 14:Jne(e,t);break;case 15:Zne(e,t);break;case 17:Kne(e,t);break;case 18:Xne(e,t);break;case 19:Qne(e,t);break;case 20:eoe(e,t);break;case 21:w0(e.body,t,!0,!1);break}}function Gne(e,t){t.push(JSON.stringify(e.content),-3,e)}function R9(e,t){const{content:i,isStatic:r}=e;t.push(r?JSON.stringify(i):i,-3,e)}function zne(e,t){const{push:i,helper:r,pure:s}=t;s&&i(Ob),i(`${r(Tb)}(`),$r(e.content,t),i(")")}function D9(e,t){for(let i=0;i<e.children.length;i++){const r=e.children[i];Je(r)?t.push(r,-3):$r(r,t)}}function qne(e,t){const{push:i}=t;if(e.type===8)i("["),D9(e,t),i("]");else if(e.isStatic){const r=NA(e.content)?e.content:JSON.stringify(e.content);i(r,-2,e)}else i(`[${e.content}]`,-3,e)}function Hne(e,t){const{push:i,helper:r,pure:s}=t;s&&i(Ob),i(`${r(b0)}(${JSON.stringify(e.content)})`,-3,e)}function Wne(e,t){const{push:i,helper:r,pure:s}=t,{tag:n,props:o,children:a,patchFlag:l,dynamicProps:c,directives:f,isBlock:d,disableTracking:p,isComponent:y}=e;let v;l&&(v=String(l)),f&&i(r(SA)+"("),d&&i(`(${r(du)}(${p?"true":""}), `),s&&i(Ob);const b=d?vf(t.inSSR,y):gf(t.inSSR,y);i(r(b)+"(",-2,e),w0(Yne([n,o,a,v,c]),t),i(")"),d&&i(")"),f&&(i(", "),$r(f,t),i(")"))}function Yne(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(i=>i||"null")}function Jne(e,t){const{push:i,helper:r,pure:s}=t,n=Je(e.callee)?e.callee:r(e.callee);s&&i(Ob),i(n+"(",-2,e),w0(e.arguments,t),i(")")}function Zne(e,t){const{push:i,indent:r,deindent:s,newline:n}=t,{properties:o}=e;if(!o.length){i("{}",-2,e);return}const a=o.length>1||!1;i(a?"{":"{ "),a&&r();for(let l=0;l<o.length;l++){const{key:c,value:f}=o[l];qne(c,t),i(": "),$r(f,t),l<o.length-1&&(i(","),n())}a&&s(),i(a?"}":" }")}function Kne(e,t){kA(e.elements,t)}function Xne(e,t){const{push:i,indent:r,deindent:s}=t,{params:n,returns:o,body:a,newline:l,isSlot:c}=e;c&&i(`_${mf[OA]}(`),i("(",-2,e),Se(n)?w0(n,t):n&&$r(n,t),i(") => "),(l||a)&&(i("{"),r()),o?(l&&i("return "),Se(o)?kA(o,t):$r(o,t)):a&&$r(a,t),(l||a)&&(s(),i("}")),c&&(e.isNonScopedSlot&&i(", undefined, true"),i(")"))}function Qne(e,t){const{test:i,consequent:r,alternate:s,newline:n}=e,{push:o,indent:a,deindent:l,newline:c}=t;if(i.type===4){const d=!NA(i.content);d&&o("("),R9(i,t),d&&o(")")}else o("("),$r(i,t),o(")");n&&a(),t.indentLevel++,n||o(" "),o("? "),$r(r,t),t.indentLevel--,n&&c(),n||o(" "),o(": ");const f=s.type===19;f||t.indentLevel++,$r(s,t),f||t.indentLevel--,n&&l(!0)}function eoe(e,t){const{push:i,helper:r,indent:s,deindent:n,newline:o}=t,{needPauseTracking:a,needArraySpread:l}=e;l&&i("[...("),i(`_cache[${e.index}] || (`),a&&(s(),i(`${r(Uv)}(-1`),e.inVOnce&&i(", true"),i("),"),o(),i("(")),i(`_cache[${e.index}] = `),$r(e.value,t),a&&(i(`).cacheIndex = ${e.index},`),o(),i(`${r(Uv)}(1),`),o(),i(`_cache[${e.index}]`),n()),i(")"),l&&i(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const toe=L9(/^(if|else|else-if)$/,(e,t,i)=>ioe(e,t,i,(r,s,n)=>{const o=i.parent.children;let a=o.indexOf(r),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(n)r.codegenNode=yO(s,l,i);else{const c=roe(r.codegenNode);c.alternate=yO(s,l+r.branches.length-1,i)}}}));function ioe(e,t,i,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const s=t.exp?t.exp.loc:e.loc;i.onError(ti(28,t.loc)),t.exp=et("true",!1,s)}if(t.name==="if"){const s=mO(e,t),n={type:9,loc:One(e.loc),branches:[s]};if(i.replaceNode(n),r)return r(n,s,!0)}else{const s=i.parent.children;let n=s.indexOf(e);for(;n-->=-1;){const o=s[n];if(o&&o.type===3){i.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){i.removeNode(o);continue}if(o&&o.type===9){t.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&i.onError(ti(30,e.loc)),i.removeNode();const a=mO(e,t);o.branches.push(a);const l=r&&r(o,a,!1);Mb(a,i),l&&l(),i.currentNode=null}else i.onError(ti(30,e.loc));break}}}function mO(e,t){const i=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:i&&!js(e,"for")?e.children:[e],userKey:$b(e,"key"),isTemplateIf:i}}function yO(e,t,i){return e.condition?sE(e.condition,gO(e,t,i),zi(i.helper(b0),['""',"true"])):gO(e,t,i)}function gO(e,t,i){const{helper:r}=i,s=Ai("key",et(`${t}`,!1,Ms,2)),{children:n}=e,o=n[0];if(n.length!==1||o.type!==1)if(n.length===1&&o.type===11){const l=o.codegenNode;return Gv(l,s,i),l}else return Tm(i,r(Sm),qs([s]),n,64,void 0,void 0,!0,!1,!1,e.loc);else{const l=o.codegenNode,c=vne(l);return c.type===13&&IA(c,i),Gv(c,s,i),l}}function roe(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const soe=(e,t,i)=>{const{modifiers:r,loc:s}=e,n=e.arg;let{exp:o}=e;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(n.type!==4||!n.isStatic)return i.onError(ti(52,n.loc)),{props:[Ai(n,et("",!0,s))]};F9(e),o=e.exp}return n.type!==4?(n.children.unshift("("),n.children.push(') || ""')):n.isStatic||(n.content=`${n.content} || ""`),r.some(a=>a.content==="camel")&&(n.type===4?n.isStatic?n.content=Bt(n.content):n.content=`${i.helperString(iE)}(${n.content})`:(n.children.unshift(`${i.helperString(iE)}(`),n.children.push(")"))),i.inSSR||(r.some(a=>a.content==="prop")&&vO(n,"."),r.some(a=>a.content==="attr")&&vO(n,"^")),{props:[Ai(n,o)]}},F9=(e,t)=>{const i=e.arg,r=Bt(i.content);e.exp=et(r,!1,i.loc)},vO=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},noe=L9("for",(e,t,i)=>{const{helper:r,removeHelper:s}=i;return ooe(e,t,i,n=>{const o=zi(r(AA),[n.source]),a=Vv(e),l=js(e,"memo"),c=$b(e,"key",!1,!0);c&&c.type===7&&!c.exp&&F9(c);let d=c&&(c.type===6?c.value?et(c.value.content,!0):void 0:c.exp);const p=c&&d?Ai("key",d):null,y=n.source.type===4&&n.source.constType>0,v=y?64:c?128:256;return n.codegenNode=Tm(i,r(Sm),void 0,o,v,void 0,void 0,!0,!y,!1,e.loc),()=>{let b;const{children:S}=n,E=S.length!==1||S[0].type!==1,T=Bv(e)?e:a&&e.children.length===1&&Bv(e.children[0])?e.children[0]:null;if(T?(b=T.codegenNode,a&&p&&Gv(b,p,i)):E?b=Tm(i,r(Sm),p?qs([p]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(b=S[0].codegenNode,a&&p&&Gv(b,p,i),b.isBlock!==!y&&(b.isBlock?(s(du),s(vf(i.inSSR,b.isComponent))):s(gf(i.inSSR,b.isComponent))),b.isBlock=!y,b.isBlock?(r(du),r(vf(i.inSSR,b.isComponent))):r(gf(i.inSSR,b.isComponent))),l){const w=yf(aE(n.parseResult,[et("_cached")]));w.body=nne([An(["const _memo = (",l.exp,")"]),An(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${i.helperString(_9)}(_cached, _memo)) return _cached`]),An(["const _item = ",b]),et("_item.memo = _memo"),et("return _item")]),o.arguments.push(w,et("_cache"),et(String(i.cached.length))),i.cached.push(null)}else o.arguments.push(yf(aE(n.parseResult),b,!0))}})});function ooe(e,t,i,r){if(!t.exp){i.onError(ti(31,t.loc));return}const s=t.forParseResult;if(!s){i.onError(ti(32,t.loc));return}U9(s);const{addIdentifiers:n,removeIdentifiers:o,scopes:a}=i,{source:l,value:c,key:f,index:d}=s,p={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:f,objectIndexAlias:d,parseResult:s,children:Vv(e)?e.children:[e]};i.replaceNode(p),a.vFor++;const y=r&&r(p);return()=>{a.vFor--,y&&y()}}function U9(e,t){e.finalized||(e.finalized=!0)}function aE({value:e,key:t,index:i},r=[]){return aoe([e,t,i,...r])}function aoe(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((i,r)=>i||et("_".repeat(r+1),!1))}const bO=et("undefined",!1),loe=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const i=js(e,"slot");if(i)return i.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},coe=(e,t,i,r)=>yf(e,i,!1,!0,i.length?i[0].loc:r);function uoe(e,t,i=coe){t.helper(OA);const{children:r,loc:s}=e,n=[],o=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const l=js(e,"slot",!0);if(l){const{arg:S,exp:E}=l;S&&!os(S)&&(a=!0),n.push(Ai(S||et("default",!0),i(E,void 0,r,s)))}let c=!1,f=!1;const d=[],p=new Set;let y=0;for(let S=0;S<r.length;S++){const E=r[S];let T;if(!Vv(E)||!(T=js(E,"slot",!0))){E.type!==3&&d.push(E);continue}if(l){t.onError(ti(37,T.loc));break}c=!0;const{children:w,loc:_}=E,{arg:$=et("default",!0),exp:M,loc:I}=T;let N;os($)?N=$?$.content:"default":a=!0;const P=js(E,"for"),F=i(M,P,w,_);let z,U;if(z=js(E,"if"))a=!0,o.push(sE(z.exp,my($,F,y++),bO));else if(U=js(E,/^else(-if)?$/,!0)){let V=S,Z;for(;V--&&(Z=r[V],Z.type===3););if(Z&&Vv(Z)&&js(Z,/^(else-)?if$/)){let u=o[o.length-1];for(;u.alternate.type===19;)u=u.alternate;u.alternate=U.exp?sE(U.exp,my($,F,y++),bO):my($,F,y++)}else t.onError(ti(30,U.loc))}else if(P){a=!0;const V=P.forParseResult;V?(U9(V),o.push(zi(t.helper(AA),[V.source,yf(aE(V),my($,F),!0)]))):t.onError(ti(32,P.loc))}else{if(N){if(p.has(N)){t.onError(ti(38,I));continue}p.add(N),N==="default"&&(f=!0)}n.push(Ai($,F))}}if(!l){const S=(E,T)=>{const w=i(E,void 0,T,s);return t.compatConfig&&(w.isNonScopedSlot=!0),Ai("default",w)};c?d.length&&d.some(E=>j9(E))&&(f?t.onError(ti(39,d[0].loc)):n.push(S(void 0,d))):n.push(S(void 0,r))}const v=a?2:Tg(e.children)?3:1;let b=qs(n.concat(Ai("_",et(v+"",!1))),s);return o.length&&(b=zi(t.helper(b9),[b,Gc(o)])),{slots:b,hasDynamicSlots:a}}function my(e,t,i){const r=[Ai("name",e),Ai("fn",t)];return i!=null&&r.push(Ai("key",et(String(i),!0))),qs(r)}function Tg(e){for(let t=0;t<e.length;t++){const i=e[t];switch(i.type){case 1:if(i.tagType===2||Tg(i.children))return!0;break;case 9:if(Tg(i.branches))return!0;break;case 10:case 11:if(Tg(i.children))return!0;break}}return!1}function j9(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():j9(e.content)}const V9=new WeakMap,hoe=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:s}=e,n=e.tagType===1;let o=n?foe(e,t):`"${r}"`;const a=Ot(o)&&o.callee===wA;let l,c,f=0,d,p,y,v=a||o===Op||o===yA||!n&&(r==="svg"||r==="foreignObject"||r==="math");if(s.length>0){const b=B9(e,t,void 0,n,a);l=b.props,f=b.patchFlag,p=b.dynamicPropNames;const S=b.directives;y=S&&S.length?Gc(S.map(E=>poe(E,t))):void 0,b.shouldUseBlock&&(v=!0)}if(e.children.length>0)if(o===Dv&&(v=!0,f|=1024),n&&o!==Op&&o!==Dv){const{slots:S,hasDynamicSlots:E}=uoe(e,t);c=S,E&&(f|=1024)}else if(e.children.length===1&&o!==Op){const S=e.children[0],E=S.type,T=E===5||E===8;T&&bs(S,t)===0&&(f|=1),T||E===2?c=S:c=e.children}else c=e.children;p&&p.length&&(d=moe(p)),e.codegenNode=Tm(t,o,l,c,f===0?void 0:f,d,y,!!v,!1,n,e.loc)};function foe(e,t,i=!1){let{tag:r}=e;const s=lE(r),n=$b(e,"is",!1,!0);if(n)if(s||zc("COMPILER_IS_ON_ELEMENT",t)){let a;if(n.type===6?a=n.value&&et(n.value.content,!0):(a=n.exp,a||(a=et("is",!1,n.arg.loc))),a)return zi(t.helper(wA),[a])}else n.type===6&&n.value.content.startsWith("vue:")&&(r=n.value.content.slice(4));const o=x9(r)||t.isBuiltInComponent(r);return o?(i||t.helper(o),o):(t.helper(_A),t.components.add(r),Mm(r,"component"))}function B9(e,t,i=e.props,r,s,n=!1){const{tag:o,loc:a,children:l}=e;let c=[];const f=[],d=[],p=l.length>0;let y=!1,v=0,b=!1,S=!1,E=!1,T=!1,w=!1,_=!1;const $=[],M=F=>{c.length&&(f.push(qs(_O(c),a)),c=[]),F&&f.push(F)},I=()=>{t.scopes.vFor>0&&c.push(Ai(et("ref_for",!0),et("true")))},N=({key:F,value:z})=>{if(os(F)){const U=F.content,V=Tu(U);if(V&&(!r||s)&&U.toLowerCase()!=="onclick"&&U!=="onUpdate:modelValue"&&!vl(U)&&(T=!0),V&&vl(U)&&(_=!0),V&&z.type===14&&(z=z.arguments[0]),z.type===20||(z.type===4||z.type===8)&&bs(z,t)>0)return;U==="ref"?b=!0:U==="class"?S=!0:U==="style"?E=!0:U!=="key"&&!$.includes(U)&&$.push(U),r&&(U==="class"||U==="style")&&!$.includes(U)&&$.push(U)}else w=!0};for(let F=0;F<i.length;F++){const z=i[F];if(z.type===6){const{loc:U,name:V,nameLoc:Z,value:u}=z;let m=!0;if(V==="ref"&&(b=!0,I()),V==="is"&&(lE(o)||u&&u.content.startsWith("vue:")||zc("COMPILER_IS_ON_ELEMENT",t)))continue;c.push(Ai(et(V,!0,Z),et(u?u.content:"",m,u?u.loc:U)))}else{const{name:U,arg:V,exp:Z,loc:u,modifiers:m}=z,x=U==="bind",C=U==="on";if(U==="slot"){r||t.onError(ti(40,u));continue}if(U==="once"||U==="memo"||U==="is"||x&&kc(V,"is")&&(lE(o)||zc("COMPILER_IS_ON_ELEMENT",t))||C&&n)continue;if((x&&kc(V,"key")||C&&p&&kc(V,"vue:before-update"))&&(y=!0),x&&kc(V,"ref")&&I(),!V&&(x||C)){if(w=!0,Z)if(x){if(I(),M(),zc("COMPILER_V_BIND_OBJECT_ORDER",t)){f.unshift(Z);continue}f.push(Z)}else M({type:14,loc:u,callee:t.helper(MA),arguments:r?[Z]:[Z,"true"]});else t.onError(ti(x?34:35,u));continue}x&&m.some(Y=>Y.content==="prop")&&(v|=32);const B=t.directiveTransforms[U];if(B){const{props:Y,needRuntime:de}=B(z,e,t);!n&&Y.forEach(N),C&&V&&!os(V)?M(qs(Y,a)):c.push(...Y),de&&(d.push(z),fs(de)&&V9.set(z,de))}else $ie(U)||(d.push(z),p&&(y=!0))}}let P;if(f.length?(M(),f.length>1?P=zi(t.helper(Fv),f,a):P=f[0]):c.length&&(P=qs(_O(c),a)),w?v|=16:(S&&!r&&(v|=2),E&&!r&&(v|=4),$.length&&(v|=8),T&&(v|=32)),!y&&(v===0||v===32)&&(b||_||d.length>0)&&(v|=512),!t.inSSR&&P)switch(P.type){case 15:let F=-1,z=-1,U=!1;for(let u=0;u<P.properties.length;u++){const m=P.properties[u].key;os(m)?m.content==="class"?F=u:m.content==="style"&&(z=u):m.isHandlerKey||(U=!0)}const V=P.properties[F],Z=P.properties[z];U?P=zi(t.helper(Am),[P]):(V&&!os(V.value)&&(V.value=zi(t.helper(TA),[V.value])),Z&&(E||Z.value.type===4&&Z.value.content.trim()[0]==="["||Z.value.type===17)&&(Z.value=zi(t.helper($A),[Z.value])));break;case 14:break;default:P=zi(t.helper(Am),[zi(t.helper(_0),[P])]);break}return{props:P,directives:d,patchFlag:v,dynamicPropNames:$,shouldUseBlock:y}}function _O(e){const t=new Map,i=[];for(let r=0;r<e.length;r++){const s=e[r];if(s.key.type===8||!s.key.isStatic){i.push(s);continue}const n=s.key.content,o=t.get(n);o?(n==="style"||n==="class"||Tu(n))&&doe(o,s):(t.set(n,s),i.push(s))}return i}function doe(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=Gc([e.value,t.value],e.loc)}function poe(e,t){const i=[],r=V9.get(e);r?i.push(t.helperString(r)):(t.helper(xA),t.directives.add(e.name),i.push(Mm(e.name,"directive")));const{loc:s}=e;if(e.exp&&i.push(e.exp),e.arg&&(e.exp||i.push("void 0"),i.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||i.push("void 0"),i.push("void 0"));const n=et("true",!1,s);i.push(qs(e.modifiers.map(o=>Ai(o,n)),s))}return Gc(i,e.loc)}function moe(e){let t="[";for(let i=0,r=e.length;i<r;i++)t+=JSON.stringify(e[i]),i<r-1&&(t+=", ");return t+"]"}function lE(e){return e==="component"||e==="Component"}const yoe=(e,t)=>{if(Bv(e)){const{children:i,loc:r}=e,{slotName:s,slotProps:n}=goe(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let a=2;n&&(o[2]=n,a=3),i.length&&(o[3]=yf([],i,!1,!1,r),a=4),t.scopeId&&!t.slotted&&(a=5),o.splice(a),e.codegenNode=zi(t.helper(v9),o,r)}};function goe(e,t){let i='"default"',r;const s=[];for(let n=0;n<e.props.length;n++){const o=e.props[n];if(o.type===6)o.value&&(o.name==="name"?i=JSON.stringify(o.value.content):(o.name=Bt(o.name),s.push(o)));else if(o.name==="bind"&&kc(o.arg,"name")){if(o.exp)i=o.exp;else if(o.arg&&o.arg.type===4){const a=Bt(o.arg.content);i=o.exp=et(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&os(o.arg)&&(o.arg.content=Bt(o.arg.content)),s.push(o)}if(s.length>0){const{props:n,directives:o}=B9(e,t,s,!1,!1);r=n,o.length&&t.onError(ti(36,o[0].loc))}return{slotName:i,slotProps:r}}const G9=(e,t,i,r)=>{const{loc:s,modifiers:n,arg:o}=e;!e.exp&&!n.length&&i.onError(ti(35,s));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const p=t.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?jc(Bt(d)):`on:${d}`;a=et(p,!0,o.loc)}else a=An([`${i.helperString(rE)}(`,o,")"]);else a=o,a.children.unshift(`${i.helperString(rE)}(`),a.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=i.cacheHandlers&&!l&&!i.inVOnce;if(l){const d=S9(l),p=!(d||pne(l)),y=l.content.includes(";");(p||c&&d)&&(l=An([`${p?"$event":"(...args)"} => ${y?"{":"("}`,l,y?"}":")"]))}let f={props:[Ai(a,l||et("() => {}",!1,s))]};return r&&(f=r(f)),c&&(f.props[0].value=i.cache(f.props[0].value)),f.props.forEach(d=>d.key.isHandlerKey=!0),f},voe=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const i=e.children;let r,s=!1;for(let n=0;n<i.length;n++){const o=i[n];if(e2(o)){s=!0;for(let a=n+1;a<i.length;a++){const l=i[a];if(e2(l))r||(r=i[n]=An([o],o.loc)),r.children.push(" + ",l),i.splice(a,1),a--;else{r=void 0;break}}}}if(!(!s||i.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(n=>n.type===7&&!t.directiveTransforms[n.name])&&e.tag!=="template")))for(let n=0;n<i.length;n++){const o=i[n];if(e2(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!t.ssr&&bs(o,t)===0&&a.push("1"),i[n]={type:12,content:o,loc:o.loc,codegenNode:zi(t.helper(bA),a)}}}}},wO=new WeakSet,boe=(e,t)=>{if(e.type===1&&js(e,"once",!0))return wO.has(e)||t.inVOnce||t.inSSR?void 0:(wO.add(e),t.inVOnce=!0,t.helper(Uv),()=>{t.inVOnce=!1;const i=t.currentNode;i.codegenNode&&(i.codegenNode=t.cache(i.codegenNode,!0,!0))})},z9=(e,t,i)=>{const{exp:r,arg:s}=e;if(!r)return i.onError(ti(41,e.loc)),yy();const n=r.loc.source.trim(),o=r.type===4?r.content:n,a=i.bindingMetadata[n];if(a==="props"||a==="props-aliased")return i.onError(ti(44,r.loc)),yy();if(!o.trim()||!S9(r)&&!!1)return i.onError(ti(42,r.loc)),yy();const c=s||et("modelValue",!0),f=s?os(s)?`onUpdate:${Bt(s.content)}`:An(['"onUpdate:" + ',s]):"onUpdate:modelValue";let d;const p=i.isTS?"($event: any)":"$event";d=An([`${p} => ((`,r,") = $event)"]);const y=[Ai(c,e.exp),Ai(f,d)];if(e.modifiers.length&&t.tagType===1){const v=e.modifiers.map(S=>S.content).map(S=>(NA(S)?S:JSON.stringify(S))+": true").join(", "),b=s?os(s)?`${s.content}Modifiers`:An([s,' + "Modifiers"']):"modelModifiers";y.push(Ai(b,et(`{ ${v} }`,!1,e.loc,2)))}return yy(y)};function yy(e=[]){return{props:e}}const _oe=/[\w).+\-_$\]]/,woe=(e,t)=>{zc("COMPILER_FILTERS",t)&&(e.type===5?zv(e.content,t):e.type===1&&e.props.forEach(i=>{i.type===7&&i.name!=="for"&&i.exp&&zv(i.exp,t)}))};function zv(e,t){if(e.type===4)xO(e,t);else for(let i=0;i<e.children.length;i++){const r=e.children[i];typeof r=="object"&&(r.type===4?xO(r,t):r.type===8?zv(e,t):r.type===5&&zv(r.content,t))}}function xO(e,t){const i=e.content;let r=!1,s=!1,n=!1,o=!1,a=0,l=0,c=0,f=0,d,p,y,v,b=[];for(y=0;y<i.length;y++)if(p=d,d=i.charCodeAt(y),r)d===39&&p!==92&&(r=!1);else if(s)d===34&&p!==92&&(s=!1);else if(n)d===96&&p!==92&&(n=!1);else if(o)d===47&&p!==92&&(o=!1);else if(d===124&&i.charCodeAt(y+1)!==124&&i.charCodeAt(y-1)!==124&&!a&&!l&&!c)v===void 0?(f=y+1,v=i.slice(0,y).trim()):S();else{switch(d){case 34:s=!0;break;case 39:r=!0;break;case 96:n=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let E=y-1,T;for(;E>=0&&(T=i.charAt(E),T===" ");E--);(!T||!_oe.test(T))&&(o=!0)}}v===void 0?v=i.slice(0,y).trim():f!==0&&S();function S(){b.push(i.slice(f,y).trim()),f=y+1}if(b.length){for(y=0;y<b.length;y++)v=xoe(v,b[y],t);e.content=v,e.ast=void 0}}function xoe(e,t,i){i.helper(EA);const r=t.indexOf("(");if(r<0)return i.filters.add(t),`${Mm(t,"filter")}(${e})`;{const s=t.slice(0,r),n=t.slice(r+1);return i.filters.add(s),`${Mm(s,"filter")}(${e}${n!==")"?","+n:n}`}}const EO=new WeakSet,Eoe=(e,t)=>{if(e.type===1){const i=js(e,"memo");return!i||EO.has(e)?void 0:(EO.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&IA(r,t),e.codegenNode=zi(t.helper(CA),[i.exp,yf(void 0,r),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function Soe(e){return[[boe,toe,Eoe,noe,woe,yoe,hoe,loe,voe],{on:G9,bind:soe,model:z9}]}function Aoe(e,t={}){const i=t.onError||PA,r=t.mode==="module";t.prefixIdentifiers===!0?i(ti(47)):r&&i(ti(48));const s=!1;t.cacheHandlers&&i(ti(49)),t.scopeId&&!r&&i(ti(50));const n=nt({},t,{prefixIdentifiers:s}),o=Je(e)?Pne(e,n):e,[a,l]=Soe();return Rne(o,nt({},n,{nodeTransforms:[...a,...t.nodeTransforms||[]],directiveTransforms:nt({},l,t.directiveTransforms||{})})),jne(o,n)}const Toe=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const q9=Symbol(""),H9=Symbol(""),W9=Symbol(""),Y9=Symbol(""),cE=Symbol(""),J9=Symbol(""),Z9=Symbol(""),K9=Symbol(""),X9=Symbol(""),Q9=Symbol("");ine({[q9]:"vModelRadio",[H9]:"vModelCheckbox",[W9]:"vModelText",[Y9]:"vModelSelect",[cE]:"vModelDynamic",[J9]:"withModifiers",[Z9]:"withKeys",[K9]:"vShow",[X9]:"Transition",[Q9]:"TransitionGroup"});let Wu;function $oe(e,t=!1){return Wu||(Wu=document.createElement("div")),t?(Wu.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Wu.children[0].getAttribute("foo")):(Wu.innerHTML=e,Wu.textContent)}const Moe={parseMode:"html",isVoidTag:Gie,isNativeTag:e=>jie(e)||Vie(e)||Bie(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:$oe,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return X9;if(e==="TransitionGroup"||e==="transition-group")return Q9},getNamespace(e,t,i){let r=t?t.ns:i;if(t&&r===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(s=>s.type===6&&s.name==="encoding"&&s.value!=null&&(s.value.content==="text/html"||s.value.content==="application/xhtml+xml"))&&(r=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(r=0);else t&&r===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(r=0);if(r===0){if(e==="svg")return 1;if(e==="math")return 2}return r}},Ooe=e=>{e.type===1&&e.props.forEach((t,i)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[i]={type:7,name:"bind",arg:et("style",!0,t.loc),exp:Coe(t.value.content,t.loc),modifiers:[],loc:t.loc})})},Coe=(e,t)=>{const i=Uk(e);return et(JSON.stringify(i),!1,t,3)};function wl(e,t){return ti(e,t)}const Ioe=(e,t,i)=>{const{exp:r,loc:s}=e;return r||i.onError(wl(53,s)),t.children.length&&(i.onError(wl(54,s)),t.children.length=0),{props:[Ai(et("innerHTML",!0,s),r||et("",!0))]}},Poe=(e,t,i)=>{const{exp:r,loc:s}=e;return r||i.onError(wl(55,s)),t.children.length&&(i.onError(wl(56,s)),t.children.length=0),{props:[Ai(et("textContent",!0),r?bs(r,i)>0?r:zi(i.helperString(Tb),[r],s):et("",!0))]}},Noe=(e,t,i)=>{const r=z9(e,t,i);if(!r.props.length||t.tagType===1)return r;e.arg&&i.onError(wl(58,e.arg.loc));const{tag:s}=t,n=i.isCustomElement(s);if(s==="input"||s==="textarea"||s==="select"||n){let o=W9,a=!1;if(s==="input"||n){const l=$b(t,"type");if(l){if(l.type===7)o=cE;else if(l.value)switch(l.value.content){case"radio":o=q9;break;case"checkbox":o=H9;break;case"file":a=!0,i.onError(wl(59,e.loc));break}}else mne(t)&&(o=cE)}else s==="select"&&(o=Y9);a||(r.needRuntime=i.helper(o))}else i.onError(wl(57,e.loc));return r.props=r.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),r},Loe=$s("passive,once,capture"),koe=$s("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Roe=$s("left,right"),e7=$s("onkeyup,onkeydown,onkeypress"),Doe=(e,t,i,r)=>{const s=[],n=[],o=[];for(let a=0;a<t.length;a++){const l=t[a].content;l==="native"&&$m("COMPILER_V_ON_NATIVE",i)||Loe(l)?o.push(l):Roe(l)?os(e)?e7(e.content.toLowerCase())?s.push(l):n.push(l):(s.push(l),n.push(l)):koe(l)?n.push(l):s.push(l)}return{keyModifiers:s,nonKeyModifiers:n,eventOptionModifiers:o}},SO=(e,t)=>os(e)&&e.content.toLowerCase()==="onclick"?et(t,!0):e.type!==4?An(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,Foe=(e,t,i)=>G9(e,t,i,r=>{const{modifiers:s}=e;if(!s.length)return r;let{key:n,value:o}=r.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=Doe(n,s,i,e.loc);if(l.includes("right")&&(n=SO(n,"onContextmenu")),l.includes("middle")&&(n=SO(n,"onMouseup")),l.length&&(o=zi(i.helper(J9),[o,JSON.stringify(l)])),a.length&&(!os(n)||e7(n.content.toLowerCase()))&&(o=zi(i.helper(Z9),[o,JSON.stringify(a)])),c.length){const f=c.map(kl).join("");n=os(n)?et(`${n.content}${f}`,!0):An(["(",n,`) + "${f}"`])}return{props:[Ai(n,o)]}}),Uoe=(e,t,i)=>{const{exp:r,loc:s}=e;return r||i.onError(wl(61,s)),{props:[],needRuntime:i.helper(K9)}},joe=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},Voe=[Ooe],Boe={cloak:Toe,html:Ioe,text:Poe,model:Noe,on:Foe,show:Uoe};function Goe(e,t={}){return Aoe(e,nt({},Moe,t,{nodeTransforms:[joe,...Voe,...t.nodeTransforms||[]],directiveTransforms:nt({},Boe,t.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const AO=Object.create(null);function t7(e,t){if(!Je(e))if(e.nodeType)e=e.innerHTML;else return cr;const i=Cie(e,t),r=AO[i];if(r)return r;if(e[0]==="#"){const a=document.querySelector(e);e=a?a.innerHTML:""}const s=nt({hoistStatic:!0,onError:void 0,onWarn:cr},t);!s.isCustomElement&&typeof customElements<"u"&&(s.isCustomElement=a=>!!customElements.get(a));const{code:n}=Goe(e,s),o=new Function("Vue",n)(Zse);return o._rc=!0,AO[i]=o}oA(t7);const sxe=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:k3,BaseTransitionPropsValidators:pb,Comment:xi,DeprecationTypes:H8,EffectScope:sb,ErrorCodes:vR,ErrorTypeStrings:j8,Fragment:It,KeepAlive:FR,ReactiveEffect:uf,Static:_l,Suspense:E8,Teleport:L3,Text:yo,TrackOpTypes:dR,Transition:wb,TransitionGroup:Eb,TriggerOpTypes:pR,VueElement:g0,assertNumber:gR,callWithAsyncErrorHandling:Ss,callWithErrorHandling:Mu,camelize:Bt,capitalize:kl,cloneVNode:Nn,compatUtils:q8,compile:t7,computed:tt,createApp:Ol,createBlock:Vt,createCommentVNode:Ht,createElementBlock:xe,createElementVNode:ce,createHydrationRenderer:Q3,createPropsRestProxy:t8,createRenderer:X3,createSSRApp:mA,createSlots:VR,createStaticVNode:C8,createTextVNode:go,createVNode:Ke,customRef:C3,defineAsyncComponent:D3,defineComponent:rt,defineCustomElement:uA,defineEmits:zR,defineExpose:qR,defineModel:YR,defineOptions:HR,defineProps:GR,defineSSRCustomElement:e9,defineSlots:WR,devtools:V8,effect:Jk,effectScope:h0,getCurrentInstance:Ri,getCurrentScope:nb,getCurrentWatcher:mR,getTransitionRawChildren:d0,guardReactiveProps:sA,h:zs,handleError:Ul,hasInjectionContext:Z3,hydrate:u9,hydrateOnIdle:LR,hydrateOnInteraction:DR,hydrateOnMediaQuery:RR,hydrateOnVisible:kR,initCustomFormatter:D8,initDirectivesForSSR:d9,inject:ki,isMemoSame:aA,isProxy:f0,isReactive:xs,isReadonly:ma,isRef:ht,isRuntimeOnly:L8,isShallow:as,isVNode:Pn,markRaw:pi,mergeDefaults:QR,mergeModels:e8,mergeProps:_b,nextTick:Dn,normalizeClass:mi,normalizeProps:jk,normalizeStyle:Rl,onActivated:F3,onBeforeMount:yb,onBeforeUnmount:Fn,onBeforeUpdate:gb,onDeactivated:U3,onErrorCaptured:G3,onMounted:hr,onRenderTracked:B3,onRenderTriggered:V3,onScopeDispose:A3,onServerPrefetch:j3,onUnmounted:Ou,onUpdated:td,onWatcherCleanup:P3,openBlock:fe,popScopeId:SR,provide:J3,proxyRefs:hb,pushScopeId:ER,queuePostFlushCb:hf,reactive:rr,readonly:cb,ref:X,registerRuntimeCompiler:oA,render:Hh,renderList:jl,renderSlot:gn,resolveComponent:wi,resolveDirective:Tt,resolveDynamicComponent:q3,resolveFilter:z8,resolveTransitionHooks:uu,setBlockTracking:Iv,setDevtoolsHook:B8,setTransitionHooks:To,shallowReactive:O3,shallowReadonly:aR,shallowRef:ed,ssrContextKey:tA,ssrUtils:G8,stop:Zk,toDisplayString:kt,toHandlerKey:jc,toHandlers:BR,toRaw:Ge,toRef:hR,toRefs:I3,toValue:uR,transformVNodeArgs:M8,triggerRef:cR,unref:Me,useAttrs:KR,useCssModule:i9,useCssVars:cA,useHost:hA,useId:NR,useModel:_8,useSSRContext:iA,useShadowRoot:t9,useSlots:ZR,useTemplateRef:$v,useTransitionState:db,vModelCheckbox:Sb,vModelDynamic:dA,vModelRadio:Ab,vModelSelect:fA,vModelText:Em,vShow:xb,version:lA,warn:U8,watch:Ji,watchEffect:g8,watchPostEffect:v8,watchSyncEffect:rA,withAsyncContext:i8,withCtx:$i,withDefaults:JR,withDirectives:At,withKeys:pA,withMemo:F8,withModifiers:v0,withScopeId:AR},Symbol.toStringTag,{value:"Module"}));var zoe=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let i7;const Cb=e=>i7=e,r7=Symbol();function uE(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Cp;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Cp||(Cp={}));function qoe(){const e=h0(!0),t=e.run(()=>X({}));let i=[],r=[];const s=pi({install(n){Cb(s),s._a=n,n.provide(r7,s),n.config.globalProperties.$pinia=s,r.forEach(o=>i.push(o)),r=[]},use(n){return!this._a&&!zoe?r.push(n):i.push(n),this},_p:i,_a:null,_e:e,_s:new Map,state:t});return s}const s7=()=>{};function TO(e,t,i,r=s7){e.push(t);const s=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r())};return!i&&nb()&&A3(s),s}function Yu(e,...t){e.slice().forEach(i=>{i(...t)})}const Hoe=e=>e();function hE(e,t){e instanceof Map&&t instanceof Map&&t.forEach((i,r)=>e.set(r,i)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const i in t){if(!t.hasOwnProperty(i))continue;const r=t[i],s=e[i];uE(s)&&uE(r)&&e.hasOwnProperty(i)&&!ht(r)&&!xs(r)?e[i]=hE(s,r):e[i]=r}return e}const Woe=Symbol();function Yoe(e){return!uE(e)||!e.hasOwnProperty(Woe)}const{assign:Wa}=Object;function Joe(e){return!!(ht(e)&&e.effect)}function Zoe(e,t,i,r){const{state:s,actions:n,getters:o}=t,a=i.state.value[e];let l;function c(){a||(i.state.value[e]=s?s():{});const f=I3(i.state.value[e]);return Wa(f,n,Object.keys(o||{}).reduce((d,p)=>(d[p]=pi(tt(()=>{Cb(i);const y=i._s.get(e);return o[p].call(y,y)})),d),{}))}return l=n7(e,c,t,i,r,!0),l}function n7(e,t,i={},r,s,n){let o;const a=Wa({actions:{}},i),l={deep:!0};let c,f,d=[],p=[],y;const v=r.state.value[e];!n&&!v&&(r.state.value[e]={}),X({});let b;function S(N){let P;c=f=!1,typeof N=="function"?(N(r.state.value[e]),P={type:Cp.patchFunction,storeId:e,events:y}):(hE(r.state.value[e],N),P={type:Cp.patchObject,payload:N,storeId:e,events:y});const F=b=Symbol();Dn().then(()=>{b===F&&(c=!0)}),f=!0,Yu(d,P,r.state.value[e])}const E=n?function(){const{state:P}=i,F=P?P():{};this.$patch(z=>{Wa(z,F)})}:s7;function T(){o.stop(),d=[],p=[],r._s.delete(e)}function w(N,P){return function(){Cb(r);const F=Array.from(arguments),z=[],U=[];function V(m){z.push(m)}function Z(m){U.push(m)}Yu(p,{args:F,name:N,store:$,after:V,onError:Z});let u;try{u=P.apply(this&&this.$id===e?this:$,F)}catch(m){throw Yu(U,m),m}return u instanceof Promise?u.then(m=>(Yu(z,m),m)).catch(m=>(Yu(U,m),Promise.reject(m))):(Yu(z,u),u)}}const _={_p:r,$id:e,$onAction:TO.bind(null,p),$patch:S,$reset:E,$subscribe(N,P={}){const F=TO(d,N,P.detached,()=>z()),z=o.run(()=>Ji(()=>r.state.value[e],U=>{(P.flush==="sync"?f:c)&&N({storeId:e,type:Cp.direct,events:y},U)},Wa({},l,P)));return F},$dispose:T},$=rr(_);r._s.set(e,$);const I=(r._a&&r._a.runWithContext||Hoe)(()=>r._e.run(()=>(o=h0()).run(t)));for(const N in I){const P=I[N];if(ht(P)&&!Joe(P)||xs(P))n||(v&&Yoe(P)&&(ht(P)?P.value=v[N]:hE(P,v[N])),r.state.value[e][N]=P);else if(typeof P=="function"){const F=w(N,P);I[N]=F,a.actions[N]=P}}return Wa($,I),Wa(Ge($),I),Object.defineProperty($,"$state",{get:()=>r.state.value[e],set:N=>{S(P=>{Wa(P,N)})}}),r._p.forEach(N=>{Wa($,o.run(()=>N({store:$,app:r._a,pinia:r,options:a})))}),v&&n&&i.hydrate&&i.hydrate($.$state,v),c=!0,f=!0,$}function ai(e,t,i){let r,s;const n=typeof t=="function";typeof e=="string"?(r=e,s=n?i:t):(s=e,r=e.id);function o(a,l){const c=Z3();return a=a||(c?ki(r7,null):null),a&&Cb(a),a=i7,a._s.has(r)||(n?n7(r,t,s,a):Zoe(r,s,a)),a._s.get(r)}return o.$id=r,o}const qv=ai("appbar",()=>{const e=X({}),t=X([]),i=X([]),r=tt(()=>t.value.map(o=>o.map(a=>e.value[a]).filter(a=>{if(typeof a=="string"||a.componentId)return!0})).filter(o=>o.length>0));function s(o){i.value.includes(o)||i.value.push(o)}function n(o){const a=i.value.indexOf(o);a!==-1&&i.value.splice(a,1),o in e.value&&delete e.value[o],t.value.forEach(l=>{const c=l.indexOf(o);c!==-1&&l.splice(c,1)})}return{items:e,order:t,temporary:i,visible:r,addTempButton:s,removeButton:n}}),fE=ai("grid",()=>{const e=X({}),t=X(),i=X();function r(a){e.value={...e.value,[a.id]:a}}function s(a){e.value[a]!==void 0&&delete e.value[a]}function n(a){return Object.keys(e.value).find(l=>e.value[l].layerIds.includes(a))}function o(a,l){e.value[a].layerIds=e.value[a].layerIds.filter(c=>c!==l)}return{grids:e,panel:t,currentId:i,addGrid:r,removeGrid:s,getGridId:n,removeLayer:o}});function al(e,t,i,r){var s,n=!1,o=0;function a(){s&&clearTimeout(s)}function l(){a(),n=!0}typeof t!="boolean"&&(r=i,i=t,t=void 0);function c(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];var y=this,v=Date.now()-o;if(n)return;function b(){o=Date.now(),i.apply(y,d)}function S(){s=void 0}r&&!s&&b(),a(),r===void 0&&v>e?b():t!==!0&&(s=setTimeout(r?S:b,r===void 0?e-v:e))}return c.cancel=l,c}function Hv(e,t,i){return i===void 0?al(e,t,!1):al(e,i,t!==!1)}const dl=ai("map-caption",()=>{const e=X({text:{},logo:{}}),t=X({}),i=X({}),r=X({});function s(o){o!==void 0?t.value.isImperialScale=o:t.value.isImperialScale=!t.value.isImperialScale}function n(o){e.value.text.value=o.text.value,e.value.text.disabled=o.text.disabled,e.value.logo.altText=o.logo.altText,e.value.logo.link=o.logo.link,e.value.logo.value=o.logo.value,e.value.logo.disabled=o.logo.disabled}return{attribution:e,scale:t,coords:i,langtoggle:r,toggleScale:s,setAttribution:n}}),i2=(e,t)=>{const i=[...e];for(;i.length>0;){const r=i.shift();if(t(r))return r;r&&i.push(...r.sublayers)}},co=ai("layer",()=>{const e=X([]),t=X([]),i=X([]);function r(d){return i2(e.value,p=>p?.uid===d)}function s(d){return i2(e.value,p=>p?.id===d)}function n(d){return i2(e.value,p=>p!==void 0&&(p.id===d||p.uid===d))}function o(d){t.value=[...t.value,d]}function a(d,p=void 0){e.value=[...e.value,d],d.mapLayer&&((p===void 0||p<0)&&(console.error("Map layer added to store with invalid index!"),p=i.value.length),i.value.splice(p,0,d.id),i.value=[...i.value])}function l(d,p){if(!d.mapLayer){console.error("Data layer passed to layer store reorder");return}if(p<0){console.error("Negative index passed to layer store reorder");return}p>=i.value.length&&(p=i.value.length-1);const y=i.value.findIndex(v=>v===d.id);y!==-1&&y!==p&&(i.value.splice(y,1),i.value.splice(p,0,d.id),i.value=[...i.value])}function c(d){const p=e.value.filter(y=>y.id!==d.id||y.uid!==d.uid);if(e.value=p,d.mapLayer){const y=i.value.filter(v=>v!==d.id);i.value=y}}function f(d){const p=t.value.filter(y=>y.id!==d);t.value=p}return{layers:e,mapOrder:i,layerConfigs:t,getLayerByUid:r,getLayerById:s,getLayerByAny:n,addLayerConfig:o,addLayer:a,reorderLayer:l,removeLayer:c,removeLayerConfig:f}}),ss=ai("config",()=>{const e=X({map:{lodSets:[],extentSets:[],tileSchemas:[],basemaps:[],initialBasemapId:""},fixtures:{},layers:[]}),t=X([]),i=X(),r=X({}),s=X({});function n(c){if(r.value[s.value[c]]===void 0)throw new Error("Unsupported language or no registered config exists for requested language");return r.value[s.value[c]]}function o(c){const f={...e.value,...c};if(e.value=f,Array.isArray(e.value.layers)){const d=co();d.layerConfigs=[...d.layerConfigs,e.value.layers]}}function a(c,f){r.value[f]=c,s.value[f]=f}function l(c,f){const d=c.configs,p=Object.keys(d);if(p.length){const y=p[0];f.forEach(v=>{const b=p.includes(v)?v:y;r.value[v]=d[b],s.value[v]=b})}else console.error("Nothingburger config set was registered",c)}return{activeBasemapConfig:i,config:e,registeredConfigs:r,registeredLangs:s,startingFixtures:t,getActiveConfig:n,newConfig:o,registerAllConfigs:l,registerConfig:a}}),o7=ai("details",()=>{const e=X([]),t=X({}),i=X({}),r=X(),s=X(0),n=X(0),o=X(!0),a=X();function l(f){const d=e.value.findIndex(p=>p.uid===f.uid);d!==-1&&e.value.splice(d,1)}function c(f){t.value={...t.value,[f.id]:f}}return{payload:e,properties:t,defaultTemplates:i,currentFeatureId:r,activeGreedy:s,lastHilight:n,hilightToggle:o,origin:a,removeLayer:l,addConfigProperty:c}}),Fs=ai("fixture",()=>{const e=X({}),t=X({});function i(o){return o.map(a=>t.value[a].getPromise())}function r(o){if(e.value={...e.value,[o.id]:pi(o)},o.id in t.value)t.value[o.id].resolveMe(pi(o));else{const a=new Si;a.resolveMe(pi(o)),t.value={...t.value,[o.id]:a}}typeof o.added=="function"&&o.added()}function s(o){delete e.value[o.id],e.value={...e.value},delete t.value[o.id],t.value={...t.value},typeof o.removed=="function"&&o.removed()}function n(o){t.value={...t.value,[o]:new Si}}return{items:e,loadPromises:t,getLoadPromises:i,addFixture:r,removeFixture:s,addLoadPromise:n}});var Ce=(e=>(e.APPBAR_BUTTON_CLICK="appbar/click",e.COMPONENT="ramp/component",e.CONFIG_CHANGE="config/configchanged",e.DETAILS_TOGGLE="details/toggle",e.FILTER_CHANGE="filter/change",e.FIXTURE_ADDED="fixture/added",e.FIXTURE_REMOVED="fixture/removed",e.GRID_TOGGLE="grid/toggle",e.HELP_TOGGLE="help/toggle",e.LANG_CHANGE="lang/change",e.LAYER_DRAWSTATECHANGE="layer/drawstatechange",e.LAYER_INITIATIONSTATECHANGE="layer/initiationStatechange",e.LAYER_LAYERSTATECHANGE="layer/layerstatechange",e.LAYER_OPACITYCHANGE="layer/opacitychange",e.LAYER_REGISTERED="layer/registered",e.LAYER_RELOAD_END="layer/reloadend",e.LAYER_RELOAD_START="layer/reloadstart",e.LAYER_REMOVE="layer/remove",e.LAYER_VISIBILITYCHANGE="layer/visibilitychange",e.MAP_BASEMAPCHANGE="map/basemapchanged",e.MAP_BLUR="map/blur",e.MAP_CLICK="map/click",e.MAP_CREATED="map/created",e.MAP_DESTROYED="map/destroyed",e.MAP_DOUBLECLICK="map/doubleclick",e.MAP_EXTENTCHANGE="map/extentchanged",e.MAP_FOCUS="map/focus",e.MAP_GRAPHICHIT="map/graphichit",e.MAP_IDENTIFY="map/identify",e.MAP_KEYDOWN="map/keydown",e.MAP_KEYUP="map/keyup",e.MAP_MOUSEDOWN="map/mousedown",e.MAP_MOUSELEAVE="map/mouseleave",e.MAP_MOUSEMOVE="map/mousemove",e.MAP_MOUSEMOVE_END="map/mousemoveend",e.MAP_MOUSEMOVE_START="map/mousemovestart",e.MAP_REFRESH_END="map/refreshend",e.MAP_REFRESH_START="map/refreshstart",e.MAP_REORDER="map/reorder",e.MAP_RESIZED="map/resized",e.MAP_SCALECHANGE="map/scalechanged",e.MAP_START="map/start",e.METADATA_TOGGLE="metadata/toggle",e.PANEL_CLOSED="panel/closed",e.PANEL_MINIMIZED="panel/minimized",e.PANEL_OPENED="panel/opened",e.RAMP_MOBILEVIEW_CHANGE="ramp/mobileviewchange",e.RAMP_RELOAD="ramp/reload",e.REORDER_TOGGLE="reorder/toggle",e.SETTINGS_TOGGLE="settings/toggle",e.USER_LAYER_ADDED="user/layeradded",e.WIZARD_TOGGLE="wizard/toggle",e))(Ce||{}),dE=(e=>(e.LAYER_ERROR_UPDATES_LEGEND="ramp_layer_error_updates_legend",e.LAYER_REGISTER_BINDS_LEGEND="ramp_layer_register_binds_legend",e.LAYER_RELOAD_END_BINDS_LEGEND="ramp_layer_reload_end_binds_legend",e.LAYER_RELOAD_START_UPDATES_LEGEND="ramp_layer_reload_start_updates_legend",e.LAYER_REMOVE_UPDATES_DETAILS="ramp_layer_remove_updates_details",e.LAYER_REMOVE_CHECKS_GRID="ramp_layer_remove_checks_grid",e.LAYER_REMOVE_UPDATES_LEGEND="ramp_layer_remove_updates_legend",e.LAYER_USERADD_UPDATES_LEGEND="ramp_layer_useradd_updates_legend",e.MAP_BASEMAP_CHECKS_TILE_PROJ="ramp_map_basemap_checks_tile_proj",e.MAP_BASEMAP_UPDATES_MAP_ATTRIBS="ramp_map_basemap_updates_map_attribs",e.MAP_BLUR_UPDATES_KEY_HANDLER="ramp_map_blur_updates_key_handler",e.MAP_CLICK_RUNS_IDENTIFY="ramp_map_click_runs_identify",e.MAP_CREATED_INITIALIZES_FIXTURES="ramp_map_created_initializes_fixtures",e.MAP_CREATED_UPDATES_MAP_ATTRIBS="ramp_map_created_updates_map_attribs",e.MAP_EXTENT_UPDATES_MAPTIP="ramp_map_extent_updates_maptip",e.MAP_GRAPHICHIT_CREATES_MAPTIP="ramp_map_graphichit_creates_maptip",e.MAP_IDENTIFY_OPENS_IDENTIFY_RESULTS="ramp_map_identify_opens_identify_results",e.MAP_KEYDOWN_UPDATES_COORDS="ramp_map_keydown_updates_coords",e.MAP_KEYDOWN_UPDATES_KEY_HANDLER="ramp_map_keydown_updates_key_handler",e.MAP_KEYUP_UPDATES_KEY_HANDLER="ramp_map_keyup_updates_key_handler",e.MAP_MOUSE_UPDATES_COORDS="ramp_map_mouse_updates_coords",e.MAP_MOUSE_UPDATES_MAPTIP="ramp_map_mouse_updates_maptip",e.MAP_MOUSEDOWN_UPDATES_MAPTIP="ramp_map_mousedown_updates_maptip",e.MAP_MOUSELEAVE_REMOVES_MAPTIP="ramp_map_mouseleave_removes_maptip",e.MAP_RESIZE_UPDATES_SCALEBAR="ramp_map_resize_updates_scalebar",e.MAP_SCALE_UPDATES_SCALEBAR="ramp_map_scale_updates_scalebar",e.PANEL_CLOSE_UPDATES_APPBAR="ramp_panel_close_updates_appbar",e.PANEL_OPEN_UPDATES_APPBAR="ramp_panel_open_updates_appbar",e.TOGGLE_DETAILS="ramp_toggle_details",e.TOGGLE_GRID="ramp_toggle_grid",e.TOGGLE_HELP="ramp_toggle_help",e.TOGGLE_METADATA="ramp_toggle_metadata",e.TOGGLE_REORDER="ramp_toggle_reorder",e.TOGGLE_SETTINGS="ramp_toggle_settings",e.TOGGLE_WIZARD="ramp_toggle_wizard",e))(dE||{});class Koe{eventName;handlerName;handlerFunc;constructor(t,i,r){this.eventName=t,this.handlerName=i,this.handlerFunc=r}}class Xoe extends Mi{_eventBus;_eventRegister;_nameRegister;_funCounter;constructor(t){super(t),this._eventBus=new Eie.TinyEmitter,this._eventRegister=[],this._funCounter=1,this._nameRegister=Object.values(Ce).filter(i=>typeof i=="string"&&i.indexOf("/")>-1)}findHandler(t){return this._eventRegister.find(i=>i.handlerName===t)}handlerNamer(t){return this._funCounter++,t.replace(/\//g,"_")+this._funCounter.toString()}registerEventName(t){(Array.isArray(t)?t:[t]).forEach(r=>{this._nameRegister.indexOf(r)===-1&&this._nameRegister.push(r)})}eventNames(){return this._nameRegister.slice()}on(t,i,r=""){if(this.findHandler(r))throw new Error("Duplicate handler name registration: "+r);r||(r=this.handlerNamer(t));const s=new Koe(t,r,i);return this._eventRegister.push(s),this._eventBus.on(t,i),r}off(t){const i=this.findHandler(t);i&&(this._eventRegister.splice(this._eventRegister.indexOf(i),1),this._eventBus.off(i.eventName,i.handlerFunc))}offAll(t=""){this.activeHandlers(t).forEach(r=>this.off(r))}removeDefaultEvents(){Object.values(dE).forEach(t=>{this.off(t)})}emit(t,...i){this._eventBus.emit(t,...i)}once(t,i,r=""){r||(r=this.handlerNamer(t));const s=(...n)=>{i(...n),this.off(r)};return this.on(t,s,r)}activeHandlers(t=""){return t===""?this._eventRegister.map(i=>i.handlerName):this._eventRegister.filter(i=>i.eventName===t).map(i=>i.handlerName)}addDefaultEvents(t){return(!Array.isArray(t)||t.length===0)&&(t=Object.values(dE)),t.map(i=>this.defaultHandlerFactory(i))}defaultHandlerFactory(t){let i;switch(t){case"ramp_layer_error_updates_legend":i=r=>{if(r.layer.layerState===fi.ERROR){const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(r.layer)}},this.$iApi.event.on("layer/layerstatechange",i,t);break;case"ramp_layer_register_binds_legend":i=r=>{const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(r)},this.$iApi.event.on("layer/registered",i,t);break;case"ramp_layer_reload_end_binds_legend":i=r=>{const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(r)},this.$iApi.event.on("layer/reloadend",i,t);break;case"ramp_layer_reload_start_updates_legend":i=r=>{if(!r.isSublayer){const s=this.$iApi.fixture.get("legend");s&&s.reloadLayerItem(r.uid)}},this.$iApi.event.on("layer/reloadstart",i,t);break;case"ramp_layer_remove_checks_grid":i=r=>{if(this.$iApi.fixture.get("grid")){const s=fE(this.$vApp.$pinia),n=s.getGridId(r.id);if(n===void 0)return;if(s.removeLayer(n,r.id),s.grids[n].layerIds.length===0){s.removeGrid(n);const o=s.currentId;if(n===o){const a=this.$iApi.panel.get("grid");this.$iApi.panel.close(a),s.currentId=void 0}}}},this.$iApi.event.on("layer/remove",i,t);break;case"ramp_layer_remove_updates_details":i=r=>{const s=o7(this.$vApp.$pinia);this.$iApi.fixture.get("details")&&s.removeLayer(r)},this.$iApi.event.on("layer/remove",i,t);break;case"ramp_layer_remove_updates_legend":i=r=>{const s=this.$iApi.fixture.get("legend");s&&(s.removeLayerItem(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("legend.alert.layerRemoved",{name:r.name})))},this.$iApi.event.on("layer/remove",i,t);break;case"ramp_layer_useradd_updates_legend":i=r=>{const s=this.$iApi.fixture.get("legend");s&&s.addLayerItem(r)},this.$iApi.event.on("user/layeradded",i,t);break;case"ramp_map_basemap_checks_tile_proj":i=r=>{r.schemaChanged&&this.$iApi.geo.layer.allLayers().filter(s=>s.layerType===Pe.TILE).forEach(s=>{s.checkProj()})},this.$iApi.event.on("map/basemapchanged",i,t);break;case"ramp_map_basemap_updates_map_attribs":i=()=>{this.$iApi.geo.map.caption.updateAttribution(ss(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.event.on("map/basemapchanged",i,t);break;case"ramp_map_blur_updates_key_handler":i=()=>{this.$iApi.geo.map.stopKeyPan()},this.$iApi.event.on("map/blur",i,t);break;case"ramp_map_click_runs_identify":i=r=>{r.button===0&&this.$iApi.geo.map.runIdentify(r)},this.on("map/click",i,t);break;case"ramp_map_created_initializes_fixtures":i=()=>{const r=Fs(this.$vApp.$pinia).items;Object.keys(r).forEach(s=>{r[s].initialized?.()})},this.$iApi.geo.map.created&&i(),this.$iApi.event.on("map/created",i,t);break;case"ramp_map_created_updates_map_attribs":i=()=>{this.$iApi.geo.map.caption.updateAttribution(ss(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.geo.map.created&&i(),this.$iApi.event.on("map/created",i,t);break;case"ramp_map_extent_updates_maptip":i=()=>{if(this.$iApi.geo.map.keysActive){const r=this.$iApi.geo.map.mapPointToScreenPoint(this.$iApi.geo.map.getExtent().center());this.$iApi.geo.map.maptip.checkAtCoord(r)}else this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/extentchanged",al(50,!0,()=>i()),t);break;case"ramp_map_graphichit_creates_maptip":i=r=>{this.$iApi.geo.map.maptip.generateDefaultMaptip(r)},this.$iApi.event.on("map/graphichit",i,t);break;case"ramp_map_identify_opens_identify_results":i=r=>{const s=this.$iApi.fixture.get("details");s&&s.openDetails(r.results)},this.on("map/identify",i,t);break;case"ramp_map_keydown_updates_coords":this.$iApi.event.on("map/keydown",al(50,()=>{const r=dl(this.$vApp.$pinia);r.coords?.disabled||!this.$iApi.geo.map.keysActive||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.getExtent().center()).then(n=>{r.coords={formattedString:n}})}),t);break;case"ramp_map_keydown_updates_key_handler":i=r=>{this.$iApi.geo.map.mapKeyDown(r)},this.$iApi.event.on("map/keydown",i,t);break;case"ramp_map_keyup_updates_key_handler":i=r=>{this.$iApi.geo.map.mapKeyUp(r)},this.$iApi.event.on("map/keyup",i,t);break;case"ramp_map_mouse_updates_coords":this.$iApi.event.on("map/mousemove",al(50,r=>{const s=dl(this.$vApp.$pinia);s.coords?.disabled||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.screenPointToMapPoint(r)).then(o=>{s.coords={formattedString:o}})}),t);break;case"ramp_map_mouse_updates_maptip":i=r=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:r.screenX,screenY:r.screenY})},this.$iApi.event.on("map/mousemove",al(50,r=>i(r)),t);break;case"ramp_map_mousedown_updates_maptip":i=r=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:r.screenX,screenY:r.screenY})},this.$iApi.event.on("map/mousedown",al(50,r=>{const s={screenX:r.offsetX,screenY:r.offsetY,button:r.button,moveTime:0};i(s)}),t);break;case"ramp_map_mouseleave_removes_maptip":i=()=>{this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/mouseleave",i);break;case"ramp_map_resize_updates_scalebar":this.$iApi.event.on("map/resized",Hv(100,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_map_scale_updates_scalebar":this.$iApi.event.on("map/scalechanged",Hv(300,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_panel_close_updates_appbar":i=r=>{const s=qv(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&!s.order.flat().find(n=>n===r.id)&&s.removeButton(r.id)},this.on("panel/closed",i,t);break;case"ramp_panel_open_updates_appbar":i=r=>{const s=qv(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&(!r.teleport||r.teleport?.showAppbarButton)&&!s.order.flat().find(n=>n===r.id)&&s.addTempButton(r.id)},this.on("panel/opened",i,t);break;case"ramp_toggle_details":i=(r,s)=>{const n=this.$iApi.fixture.get("details");n&&n.toggleFeature(r,s)},this.$iApi.event.on("details/toggle",i,t);break;case"ramp_toggle_grid":i=(r,s)=>{const n=this.$iApi.fixture.get("grid");n&&n.toggleGrid(r.id,s)},this.$iApi.event.on("grid/toggle",i,t);break;case"ramp_toggle_help":i=r=>{const s=this.$iApi.fixture.get("help");s&&s.toggleHelp(r)},this.$iApi.event.on("help/toggle",i,t);break;case"ramp_toggle_metadata":i=(r,s)=>{const n=this.$iApi.fixture.get("metadata");n&&n.toggleMetadata(r,s)},this.$iApi.event.on("metadata/toggle",i,t);break;case"ramp_toggle_reorder":i=r=>{const s=this.$iApi.fixture.get("layer-reorder");s&&s.toggleLayerReorder(r)},this.$iApi.event.on("reorder/toggle",i,t);break;case"ramp_toggle_settings":i=(r,s)=>{const n=this.$iApi.fixture.get("settings");n&&n.toggleSettings(r,s)},this.$iApi.event.on("settings/toggle",i,t);break;case"ramp_toggle_wizard":i=r=>{const s=this.$iApi.fixture.get("wizard");s&&s.toggleWizard(r)},this.$iApi.event.on("wizard/toggle",i,t);break;default:return console.error(`Unrecognized default event handler name encountered: ${t}`),`ERROR_NOT_REGISTERED__${t}`}return t}}/*!
  * shared v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Wv=typeof window<"u",Vl=(e,t=!1)=>t?Symbol.for(e):Symbol(e),Qoe=(e,t,i)=>eae({l:e,k:t,s:i}),eae=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Ei=e=>typeof e=="number"&&isFinite(e),tae=e=>l7(e)==="[object Date]",Cl=e=>l7(e)==="[object RegExp]",Ib=e=>qe(e)&&Object.keys(e).length===0,ur=Object.assign,iae=Object.create,Pt=(e=null)=>iae(e);let $O;const aa=()=>$O||($O=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Pt());function MO(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const rae=Object.prototype.hasOwnProperty;function vn(e,t){return rae.call(e,t)}const Zt=Array.isArray,jt=e=>typeof e=="function",we=e=>typeof e=="string",it=e=>typeof e=="boolean",yt=e=>e!==null&&typeof e=="object",sae=e=>yt(e)&&jt(e.then)&&jt(e.catch),a7=Object.prototype.toString,l7=e=>a7.call(e),qe=e=>{if(!yt(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},nae=e=>e==null?"":Zt(e)||qe(e)&&e.toString===a7?JSON.stringify(e,null,2):String(e);function oae(e,t=""){return e.reduce((i,r,s)=>s===0?i+r:i+t+r,"")}function Pb(e){let t=e;return()=>++t}function aae(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const gy=e=>!yt(e)||Zt(e);function $g(e,t){if(gy(e)||gy(t))throw new Error("Invalid value");const i=[{src:e,des:t}];for(;i.length;){const{src:r,des:s}=i.pop();Object.keys(r).forEach(n=>{n!=="__proto__"&&(yt(r[n])&&!yt(s[n])&&(s[n]=Array.isArray(r[n])?[]:Pt()),gy(s[n])||gy(r[n])?s[n]=r[n]:i.push({src:r[n],des:s[n]}))})}}/*!
  * message-compiler v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function lae(e,t,i){return{line:e,column:t,offset:i}}function Yv(e,t,i){return{start:e,end:t}}const cae=/\{([0-9a-zA-Z]+)\}/g;function c7(e,...t){return t.length===1&&uae(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(cae,(i,r)=>t.hasOwnProperty(r)?t[r]:"")}const u7=Object.assign,OO=e=>typeof e=="string",uae=e=>e!==null&&typeof e=="object";function h7(e,t=""){return e.reduce((i,r,s)=>s===0?i+r:i+t+r,"")}const RA={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},hae={[RA.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function fae(e,t,...i){const r=c7(hae[e],...i||[]),s={message:String(r),code:e};return t&&(s.location=t),s}const Ue={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},dae={[Ue.EXPECTED_TOKEN]:"Expected token: '{0}'",[Ue.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Ue.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Ue.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Ue.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Ue.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Ue.EMPTY_PLACEHOLDER]:"Empty placeholder",[Ue.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Ue.INVALID_LINKED_FORMAT]:"Invalid linked format",[Ue.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Ue.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Ue.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Ue.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Ue.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function id(e,t,i={}){const{domain:r,messages:s,args:n}=i,o=c7((s||dae)[e]||"",...n||[]),a=new SyntaxError(String(o));return a.code=e,t&&(a.location=t),a.domain=r,a}function pae(e){throw e}const Uo=" ",mae="\r",Nr=`
`,yae="\u2028",gae="\u2029";function vae(e){const t=e;let i=0,r=1,s=1,n=0;const o=I=>t[I]===mae&&t[I+1]===Nr,a=I=>t[I]===Nr,l=I=>t[I]===gae,c=I=>t[I]===yae,f=I=>o(I)||a(I)||l(I)||c(I),d=()=>i,p=()=>r,y=()=>s,v=()=>n,b=I=>o(I)||l(I)||c(I)?Nr:t[I],S=()=>b(i),E=()=>b(i+n);function T(){return n=0,f(i)&&(r++,s=0),o(i)&&i++,i++,s++,t[i]}function w(){return o(i+n)&&n++,n++,t[i+n]}function _(){i=0,r=1,s=1,n=0}function $(I=0){n=I}function M(){const I=i+n;for(;I!==i;)T();n=0}return{index:d,line:p,column:y,peekOffset:v,charAt:b,currentChar:S,currentPeek:E,next:T,peek:w,reset:_,resetPeek:$,skipToPeek:M}}const Pa=void 0,bae=".",CO="'",_ae="tokenizer";function wae(e,t={}){const i=t.location!==!1,r=vae(e),s=()=>r.index(),n=()=>lae(r.line(),r.column(),r.index()),o=n(),a=s(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:f}=t;function d(L,k,G,...te){const se=c();if(k.column+=G,k.offset+=G,f){const ne=i?Yv(se.startLoc,k):null,H=id(L,ne,{domain:_ae,args:te});f(H)}}function p(L,k,G){L.endLoc=n(),L.currentType=k;const te={type:k};return i&&(te.loc=Yv(L.startLoc,L.endLoc)),G!=null&&(te.value=G),te}const y=L=>p(L,14);function v(L,k){return L.currentChar()===k?(L.next(),k):(d(Ue.EXPECTED_TOKEN,n(),0,k),"")}function b(L){let k="";for(;L.currentPeek()===Uo||L.currentPeek()===Nr;)k+=L.currentPeek(),L.peek();return k}function S(L){const k=b(L);return L.skipToPeek(),k}function E(L){if(L===Pa)return!1;const k=L.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k===95}function T(L){if(L===Pa)return!1;const k=L.charCodeAt(0);return k>=48&&k<=57}function w(L,k){const{currentType:G}=k;if(G!==2)return!1;b(L);const te=E(L.currentPeek());return L.resetPeek(),te}function _(L,k){const{currentType:G}=k;if(G!==2)return!1;b(L);const te=L.currentPeek()==="-"?L.peek():L.currentPeek(),se=T(te);return L.resetPeek(),se}function $(L,k){const{currentType:G}=k;if(G!==2)return!1;b(L);const te=L.currentPeek()===CO;return L.resetPeek(),te}function M(L,k){const{currentType:G}=k;if(G!==8)return!1;b(L);const te=L.currentPeek()===".";return L.resetPeek(),te}function I(L,k){const{currentType:G}=k;if(G!==9)return!1;b(L);const te=E(L.currentPeek());return L.resetPeek(),te}function N(L,k){const{currentType:G}=k;if(!(G===8||G===12))return!1;b(L);const te=L.currentPeek()===":";return L.resetPeek(),te}function P(L,k){const{currentType:G}=k;if(G!==10)return!1;const te=()=>{const ne=L.currentPeek();return ne==="{"?E(L.peek()):ne==="@"||ne==="%"||ne==="|"||ne===":"||ne==="."||ne===Uo||!ne?!1:ne===Nr?(L.peek(),te()):U(L,!1)},se=te();return L.resetPeek(),se}function F(L){b(L);const k=L.currentPeek()==="|";return L.resetPeek(),k}function z(L){const k=b(L),G=L.currentPeek()==="%"&&L.peek()==="{";return L.resetPeek(),{isModulo:G,hasSpace:k.length>0}}function U(L,k=!0){const G=(se=!1,ne="",H=!1)=>{const K=L.currentPeek();return K==="{"?ne==="%"?!1:se:K==="@"||!K?ne==="%"?!0:se:K==="%"?(L.peek(),G(se,"%",!0)):K==="|"?ne==="%"||H?!0:!(ne===Uo||ne===Nr):K===Uo?(L.peek(),G(!0,Uo,H)):K===Nr?(L.peek(),G(!0,Nr,H)):!0},te=G();return k&&L.resetPeek(),te}function V(L,k){const G=L.currentChar();return G===Pa?Pa:k(G)?(L.next(),G):null}function Z(L){const k=L.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===95||k===36}function u(L){return V(L,Z)}function m(L){const k=L.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===95||k===36||k===45}function x(L){return V(L,m)}function C(L){const k=L.charCodeAt(0);return k>=48&&k<=57}function B(L){return V(L,C)}function Y(L){const k=L.charCodeAt(0);return k>=48&&k<=57||k>=65&&k<=70||k>=97&&k<=102}function de(L){return V(L,Y)}function oe(L){let k="",G="";for(;k=B(L);)G+=k;return G}function $e(L){S(L);const k=L.currentChar();return k!=="%"&&d(Ue.EXPECTED_TOKEN,n(),0,k),L.next(),"%"}function je(L){let k="";for(;;){const G=L.currentChar();if(G==="{"||G==="}"||G==="@"||G==="|"||!G)break;if(G==="%")if(U(L))k+=G,L.next();else break;else if(G===Uo||G===Nr)if(U(L))k+=G,L.next();else{if(F(L))break;k+=G,L.next()}else k+=G,L.next()}return k}function ze(L){S(L);let k="",G="";for(;k=x(L);)G+=k;return L.currentChar()===Pa&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),G}function at(L){S(L);let k="";return L.currentChar()==="-"?(L.next(),k+=`-${oe(L)}`):k+=oe(L),L.currentChar()===Pa&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),k}function Gt(L){return L!==CO&&L!==Nr}function $t(L){S(L),v(L,"'");let k="",G="";for(;k=V(L,Gt);)k==="\\"?G+=yi(L):G+=k;const te=L.currentChar();return te===Nr||te===Pa?(d(Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,n(),0),te===Nr&&(L.next(),v(L,"'")),G):(v(L,"'"),G)}function yi(L){const k=L.currentChar();switch(k){case"\\":case"'":return L.next(),`\\${k}`;case"u":return Dt(L,k,4);case"U":return Dt(L,k,6);default:return d(Ue.UNKNOWN_ESCAPE_SEQUENCE,n(),0,k),""}}function Dt(L,k,G){v(L,k);let te="";for(let se=0;se<G;se++){const ne=de(L);if(!ne){d(Ue.INVALID_UNICODE_ESCAPE_SEQUENCE,n(),0,`\\${k}${te}${L.currentChar()}`);break}te+=ne}return`\\${k}${te}`}function si(L){return L!=="{"&&L!=="}"&&L!==Uo&&L!==Nr}function Xi(L){S(L);let k="",G="";for(;k=V(L,si);)G+=k;return G}function j(L){let k="",G="";for(;k=u(L);)G+=k;return G}function D(L){const k=G=>{const te=L.currentChar();return te==="{"||te==="%"||te==="@"||te==="|"||te==="("||te===")"||!te||te===Uo?G:(G+=te,L.next(),k(G))};return k("")}function W(L){S(L);const k=v(L,"|");return S(L),k}function ae(L,k){let G=null;switch(L.currentChar()){case"{":return k.braceNest>=1&&d(Ue.NOT_ALLOW_NEST_PLACEHOLDER,n(),0),L.next(),G=p(k,2,"{"),S(L),k.braceNest++,G;case"}":return k.braceNest>0&&k.currentType===2&&d(Ue.EMPTY_PLACEHOLDER,n(),0),L.next(),G=p(k,3,"}"),k.braceNest--,k.braceNest>0&&S(L),k.inLinked&&k.braceNest===0&&(k.inLinked=!1),G;case"@":return k.braceNest>0&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),G=ee(L,k)||y(k),k.braceNest=0,G;default:{let se=!0,ne=!0,H=!0;if(F(L))return k.braceNest>0&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),G=p(k,1,W(L)),k.braceNest=0,k.inLinked=!1,G;if(k.braceNest>0&&(k.currentType===5||k.currentType===6||k.currentType===7))return d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),k.braceNest=0,ue(L,k);if(se=w(L,k))return G=p(k,5,ze(L)),S(L),G;if(ne=_(L,k))return G=p(k,6,at(L)),S(L),G;if(H=$(L,k))return G=p(k,7,$t(L)),S(L),G;if(!se&&!ne&&!H)return G=p(k,13,Xi(L)),d(Ue.INVALID_TOKEN_IN_PLACEHOLDER,n(),0,G.value),S(L),G;break}}return G}function ee(L,k){const{currentType:G}=k;let te=null;const se=L.currentChar();switch((G===8||G===9||G===12||G===10)&&(se===Nr||se===Uo)&&d(Ue.INVALID_LINKED_FORMAT,n(),0),se){case"@":return L.next(),te=p(k,8,"@"),k.inLinked=!0,te;case".":return S(L),L.next(),p(k,9,".");case":":return S(L),L.next(),p(k,10,":");default:return F(L)?(te=p(k,1,W(L)),k.braceNest=0,k.inLinked=!1,te):M(L,k)||N(L,k)?(S(L),ee(L,k)):I(L,k)?(S(L),p(k,12,j(L))):P(L,k)?(S(L),se==="{"?ae(L,k)||te:p(k,11,D(L))):(G===8&&d(Ue.INVALID_LINKED_FORMAT,n(),0),k.braceNest=0,k.inLinked=!1,ue(L,k))}}function ue(L,k){let G={type:14};if(k.braceNest>0)return ae(L,k)||y(k);if(k.inLinked)return ee(L,k)||y(k);switch(L.currentChar()){case"{":return ae(L,k)||y(k);case"}":return d(Ue.UNBALANCED_CLOSING_BRACE,n(),0),L.next(),p(k,3,"}");case"@":return ee(L,k)||y(k);default:{if(F(L))return G=p(k,1,W(L)),k.braceNest=0,k.inLinked=!1,G;const{isModulo:se,hasSpace:ne}=z(L);if(se)return ne?p(k,0,je(L)):p(k,4,$e(L));if(U(L))return p(k,0,je(L));break}}return G}function ye(){const{currentType:L,offset:k,startLoc:G,endLoc:te}=l;return l.lastType=L,l.lastOffset=k,l.lastStartLoc=G,l.lastEndLoc=te,l.offset=s(),l.startLoc=n(),r.currentChar()===Pa?p(l,14):ue(r,l)}return{nextToken:ye,currentOffset:s,currentPosition:n,context:c}}const xae="parser",Eae=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Sae(e,t,i){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||i,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function Aae(e={}){const t=e.location!==!1,{onError:i,onWarn:r}=e;function s(w,_,$,M,...I){const N=w.currentPosition();if(N.offset+=M,N.column+=M,i){const P=t?Yv($,N):null,F=id(_,P,{domain:xae,args:I});i(F)}}function n(w,_,$,M,...I){const N=w.currentPosition();if(N.offset+=M,N.column+=M,r){const P=t?Yv($,N):null;r(fae(_,P,I))}}function o(w,_,$){const M={type:w};return t&&(M.start=_,M.end=_,M.loc={start:$,end:$}),M}function a(w,_,$,M){t&&(w.end=_,w.loc&&(w.loc.end=$))}function l(w,_){const $=w.context(),M=o(3,$.offset,$.startLoc);return M.value=_,a(M,w.currentOffset(),w.currentPosition()),M}function c(w,_){const $=w.context(),{lastOffset:M,lastStartLoc:I}=$,N=o(5,M,I);return N.index=parseInt(_,10),w.nextToken(),a(N,w.currentOffset(),w.currentPosition()),N}function f(w,_,$){const M=w.context(),{lastOffset:I,lastStartLoc:N}=M,P=o(4,I,N);return P.key=_,$===!0&&(P.modulo=!0),w.nextToken(),a(P,w.currentOffset(),w.currentPosition()),P}function d(w,_){const $=w.context(),{lastOffset:M,lastStartLoc:I}=$,N=o(9,M,I);return N.value=_.replace(Eae,Sae),w.nextToken(),a(N,w.currentOffset(),w.currentPosition()),N}function p(w){const _=w.nextToken(),$=w.context(),{lastOffset:M,lastStartLoc:I}=$,N=o(8,M,I);return _.type!==12?(s(w,Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER,$.lastStartLoc,0),N.value="",a(N,M,I),{nextConsumeToken:_,node:N}):(_.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,nn(_)),N.value=_.value||"",a(N,w.currentOffset(),w.currentPosition()),{node:N})}function y(w,_){const $=w.context(),M=o(7,$.offset,$.startLoc);return M.value=_,a(M,w.currentOffset(),w.currentPosition()),M}function v(w){const _=w.context(),$=o(6,_.offset,_.startLoc);let M=w.nextToken();if(M.type===9){const I=p(w);$.modifier=I.node,M=I.nextConsumeToken||w.nextToken()}switch(M.type!==10&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn(M)),M=w.nextToken(),M.type===2&&(M=w.nextToken()),M.type){case 11:M.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn(M)),$.key=y(w,M.value||"");break;case 5:M.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn(M)),$.key=f(w,M.value||"");break;case 6:M.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn(M)),$.key=c(w,M.value||"");break;case 7:M.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn(M)),$.key=d(w,M.value||"");break;default:{s(w,Ue.UNEXPECTED_EMPTY_LINKED_KEY,_.lastStartLoc,0);const I=w.context(),N=o(7,I.offset,I.startLoc);return N.value="",a(N,I.offset,I.startLoc),$.key=N,a($,I.offset,I.startLoc),{nextConsumeToken:M,node:$}}}return a($,w.currentOffset(),w.currentPosition()),{node:$}}function b(w){const _=w.context(),$=_.currentType===1?w.currentOffset():_.offset,M=_.currentType===1?_.endLoc:_.startLoc,I=o(2,$,M);I.items=[];let N=null,P=null;do{const U=N||w.nextToken();switch(N=null,U.type){case 0:U.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn(U)),I.items.push(l(w,U.value||""));break;case 6:U.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn(U)),I.items.push(c(w,U.value||""));break;case 4:P=!0;break;case 5:U.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn(U)),I.items.push(f(w,U.value||"",!!P)),P&&(n(w,RA.USE_MODULO_SYNTAX,_.lastStartLoc,0,nn(U)),P=null);break;case 7:U.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn(U)),I.items.push(d(w,U.value||""));break;case 8:{const V=v(w);I.items.push(V.node),N=V.nextConsumeToken||null;break}}}while(_.currentType!==14&&_.currentType!==1);const F=_.currentType===1?_.lastOffset:w.currentOffset(),z=_.currentType===1?_.lastEndLoc:w.currentPosition();return a(I,F,z),I}function S(w,_,$,M){const I=w.context();let N=M.items.length===0;const P=o(1,_,$);P.cases=[],P.cases.push(M);do{const F=b(w);N||(N=F.items.length===0),P.cases.push(F)}while(I.currentType!==14);return N&&s(w,Ue.MUST_HAVE_MESSAGES_IN_PLURAL,$,0),a(P,w.currentOffset(),w.currentPosition()),P}function E(w){const _=w.context(),{offset:$,startLoc:M}=_,I=b(w);return _.currentType===14?I:S(w,$,M,I)}function T(w){const _=wae(w,u7({},e)),$=_.context(),M=o(0,$.offset,$.startLoc);return t&&M.loc&&(M.loc.source=w),M.body=E(_),e.onCacheKey&&(M.cacheKey=e.onCacheKey(w)),$.currentType!==14&&s(_,Ue.UNEXPECTED_LEXICAL_ANALYSIS,$.lastStartLoc,0,w[$.offset]||""),a(M,_.currentOffset(),_.currentPosition()),M}return{parse:T}}function nn(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function Tae(e,t={}){const i={ast:e,helpers:new Set};return{context:()=>i,helper:n=>(i.helpers.add(n),n)}}function IO(e,t){for(let i=0;i<e.length;i++)DA(e[i],t)}function DA(e,t){switch(e.type){case 1:IO(e.cases,t),t.helper("plural");break;case 2:IO(e.items,t);break;case 6:{DA(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function $ae(e,t={}){const i=Tae(e);i.helper("normalize"),e.body&&DA(e.body,i);const r=i.context();e.helpers=Array.from(r.helpers)}function Mae(e){const t=e.body;return t.type===2?PO(t):t.cases.forEach(i=>PO(i)),e}function PO(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let i=0;i<e.items.length;i++){const r=e.items[i];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=h7(t);for(let i=0;i<e.items.length;i++){const r=e.items[i];(r.type===3||r.type===9)&&delete r.value}}}}const Oae="minifier";function ch(e){switch(e.t=e.type,e.type){case 0:{const t=e;ch(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,i=t.cases;for(let r=0;r<i.length;r++)ch(i[r]);t.c=i,delete t.cases;break}case 2:{const t=e,i=t.items;for(let r=0;r<i.length;r++)ch(i[r]);t.i=i,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;ch(t.key),t.k=t.key,delete t.key,t.modifier&&(ch(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw id(Ue.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:Oae,args:[e.type]})}delete e.type}const Cae="parser";function Iae(e,t){const{sourceMap:i,filename:r,breakLineCode:s,needIndent:n}=t,o=t.location!==!1,a={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:n,indentLevel:0};o&&e.loc&&(a.source=e.loc.source);const l=()=>a;function c(S,E){a.code+=S}function f(S,E=!0){const T=E?s:"";c(n?T+"  ".repeat(S):T)}function d(S=!0){const E=++a.indentLevel;S&&f(E)}function p(S=!0){const E=--a.indentLevel;S&&f(E)}function y(){f(a.indentLevel)}return{context:l,push:c,indent:d,deindent:p,newline:y,helper:S=>`_${S}`,needIndent:()=>a.needIndent}}function Pae(e,t){const{helper:i}=e;e.push(`${i("linked")}(`),bf(e,t.key),t.modifier?(e.push(", "),bf(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function Nae(e,t){const{helper:i,needIndent:r}=e;e.push(`${i("normalize")}([`),e.indent(r());const s=t.items.length;for(let n=0;n<s&&(bf(e,t.items[n]),n!==s-1);n++)e.push(", ");e.deindent(r()),e.push("])")}function Lae(e,t){const{helper:i,needIndent:r}=e;if(t.cases.length>1){e.push(`${i("plural")}([`),e.indent(r());const s=t.cases.length;for(let n=0;n<s&&(bf(e,t.cases[n]),n!==s-1);n++)e.push(", ");e.deindent(r()),e.push("])")}}function kae(e,t){t.body?bf(e,t.body):e.push("null")}function bf(e,t){const{helper:i}=e;switch(t.type){case 0:kae(e,t);break;case 1:Lae(e,t);break;case 2:Nae(e,t);break;case 6:Pae(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${i("interpolate")}(${i("list")}(${t.index}))`,t);break;case 4:e.push(`${i("interpolate")}(${i("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw id(Ue.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:Cae,args:[t.type]})}}const Rae=(e,t={})=>{const i=OO(t.mode)?t.mode:"normal",r=OO(t.filename)?t.filename:"message.intl",s=!!t.sourceMap,n=t.breakLineCode!=null?t.breakLineCode:i==="arrow"?";":`
`,o=t.needIndent?t.needIndent:i!=="arrow",a=e.helpers||[],l=Iae(e,{mode:i,filename:r,sourceMap:s,breakLineCode:n,needIndent:o});l.push(i==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),a.length>0&&(l.push(`const { ${h7(a.map(d=>`${d}: _${d}`),", ")} } = ctx`),l.newline()),l.push("return "),bf(l,e),l.deindent(o),l.push("}"),delete e.helpers;const{code:c,map:f}=l.context();return{ast:e,code:c,map:f?f.toJSON():void 0}};function Dae(e,t={}){const i=u7({},t),r=!!i.jit,s=!!i.minify,n=i.optimize==null?!0:i.optimize,a=Aae(i).parse(e);return r?(n&&Mae(a),s&&ch(a),{ast:a,code:""}):($ae(a,i),Rae(a,i))}/*!
  * core-base v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Fae(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(aa().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(aa().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(aa().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Bl=[];Bl[0]={w:[0],i:[3,0],"[":[4],o:[7]};Bl[1]={w:[1],".":[2],"[":[4],o:[7]};Bl[2]={w:[2],i:[3,0],0:[3,0]};Bl[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Bl[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Bl[5]={"'":[4,0],o:8,l:[5,0]};Bl[6]={'"':[4,0],o:8,l:[6,0]};const Uae=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function jae(e){return Uae.test(e)}function Vae(e){const t=e.charCodeAt(0),i=e.charCodeAt(e.length-1);return t===i&&(t===34||t===39)?e.slice(1,-1):e}function Bae(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Gae(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:jae(t)?Vae(t):"*"+t}function zae(e){const t=[];let i=-1,r=0,s=0,n,o,a,l,c,f,d;const p=[];p[0]=()=>{o===void 0?o=a:o+=a},p[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},p[2]=()=>{p[0](),s++},p[3]=()=>{if(s>0)s--,r=4,p[0]();else{if(s=0,o===void 0||(o=Gae(o),o===!1))return!1;p[1]()}};function y(){const v=e[i+1];if(r===5&&v==="'"||r===6&&v==='"')return i++,a="\\"+v,p[0](),!0}for(;r!==null;)if(i++,n=e[i],!(n==="\\"&&y())){if(l=Bae(n),d=Bl[r],c=d[l]||d.l||8,c===8||(r=c[0],c[1]!==void 0&&(f=p[c[1]],f&&(a=n,f()===!1))))return;if(r===7)return t}}const NO=new Map;function qae(e,t){return yt(e)?e[t]:null}function Hae(e,t){if(!yt(e))return null;let i=NO.get(t);if(i||(i=zae(t),i&&NO.set(t,i)),!i)return null;const r=i.length;let s=e,n=0;for(;n<r;){const o=s[i[n]];if(o===void 0||jt(s))return null;s=o,n++}return s}const Wae=e=>e,Yae=e=>"",Jae="text",Zae=e=>e.length===0?"":oae(e),Kae=nae;function LO(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Xae(e){const t=Ei(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Ei(e.named.count)||Ei(e.named.n))?Ei(e.named.count)?e.named.count:Ei(e.named.n)?e.named.n:t:t}function Qae(e,t){t.count||(t.count=e),t.n||(t.n=e)}function ele(e={}){const t=e.locale,i=Xae(e),r=yt(e.pluralRules)&&we(t)&&jt(e.pluralRules[t])?e.pluralRules[t]:LO,s=yt(e.pluralRules)&&we(t)&&jt(e.pluralRules[t])?LO:void 0,n=E=>E[r(i,E.length,s)],o=e.list||[],a=E=>o[E],l=e.named||Pt();Ei(e.pluralIndex)&&Qae(i,l);const c=E=>l[E];function f(E){const T=jt(e.messages)?e.messages(E):yt(e.messages)?e.messages[E]:!1;return T||(e.parent?e.parent.message(E):Yae)}const d=E=>e.modifiers?e.modifiers[E]:Wae,p=qe(e.processor)&&jt(e.processor.normalize)?e.processor.normalize:Zae,y=qe(e.processor)&&jt(e.processor.interpolate)?e.processor.interpolate:Kae,v=qe(e.processor)&&we(e.processor.type)?e.processor.type:Jae,S={list:a,named:c,plural:n,linked:(E,...T)=>{const[w,_]=T;let $="text",M="";T.length===1?yt(w)?(M=w.modifier||M,$=w.type||$):we(w)&&(M=w||M):T.length===2&&(we(w)&&(M=w||M),we(_)&&($=_||$));const I=f(E)(S),N=$==="vnode"&&Zt(I)&&M?I[0]:I;return M?d(M)(N,$):N},message:f,type:v,interpolate:y,normalize:p,values:ur(Pt(),o,l)};return S}let Cm=null;function tle(e){Cm=e}function ile(e,t,i){Cm&&Cm.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:i})}const rle=sle("function:translate");function sle(e){return t=>Cm&&Cm.emit(e,t)}const f7=RA.__EXTEND_POINT__,ic=Pb(f7),nle={NOT_FOUND_KEY:f7,FALLBACK_TO_TRANSLATE:ic(),CANNOT_FORMAT_NUMBER:ic(),FALLBACK_TO_NUMBER_FORMAT:ic(),CANNOT_FORMAT_DATE:ic(),FALLBACK_TO_DATE_FORMAT:ic(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:ic(),__EXTEND_POINT__:ic()},d7=Ue.__EXTEND_POINT__,rc=Pb(d7),bn={INVALID_ARGUMENT:d7,INVALID_DATE_ARGUMENT:rc(),INVALID_ISO_DATE_ARGUMENT:rc(),NOT_SUPPORT_NON_STRING_MESSAGE:rc(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:rc(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:rc(),NOT_SUPPORT_LOCALE_TYPE:rc(),__EXTEND_POINT__:rc()};function uo(e){return id(e,null,void 0)}function FA(e,t){return t.locale!=null?kO(t.locale):kO(e.locale)}let r2;function kO(e){if(we(e))return e;if(jt(e)){if(e.resolvedOnce&&r2!=null)return r2;if(e.constructor.name==="Function"){const t=e();if(sae(t))throw uo(bn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return r2=t}else throw uo(bn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw uo(bn.NOT_SUPPORT_LOCALE_TYPE)}function ole(e,t,i){return[...new Set([i,...Zt(t)?t:yt(t)?Object.keys(t):we(t)?[t]:[i]])]}function p7(e,t,i){const r=we(i)?i:_f,s=e;s.__localeChainCache||(s.__localeChainCache=new Map);let n=s.__localeChainCache.get(r);if(!n){n=[];let o=[i];for(;Zt(o);)o=RO(n,o,t);const a=Zt(t)||!qe(t)?t:t.default?t.default:null;o=we(a)?[a]:a,Zt(o)&&RO(n,o,!1),s.__localeChainCache.set(r,n)}return n}function RO(e,t,i){let r=!0;for(let s=0;s<t.length&&it(r);s++){const n=t[s];we(n)&&(r=ale(e,t[s],i))}return r}function ale(e,t,i){let r;const s=t.split("-");do{const n=s.join("-");r=lle(e,n,i),s.splice(-1,1)}while(s.length&&r===!0);return r}function lle(e,t,i){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const s=t.replace(/!/g,"");e.push(s),(Zt(i)||qe(i))&&i[s]&&(r=i[s])}return r}const cle="9.14.3",Nb=-1,_f="en-US",DO="",FO=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function ule(){return{upper:(e,t)=>t==="text"&&we(e)?e.toUpperCase():t==="vnode"&&yt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&we(e)?e.toLowerCase():t==="vnode"&&yt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&we(e)?FO(e):t==="vnode"&&yt(e)&&"__v_isVNode"in e?FO(e.children):e}}let m7;function UO(e){m7=e}let y7;function hle(e){y7=e}let g7;function fle(e){g7=e}let v7=null;const dle=e=>{v7=e},ple=()=>v7;let b7=null;const jO=e=>{b7=e},mle=()=>b7;let VO=0;function yle(e={}){const t=jt(e.onWarn)?e.onWarn:aae,i=we(e.version)?e.version:cle,r=we(e.locale)||jt(e.locale)?e.locale:_f,s=jt(r)?_f:r,n=Zt(e.fallbackLocale)||qe(e.fallbackLocale)||we(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s,o=qe(e.messages)?e.messages:s2(s),a=qe(e.datetimeFormats)?e.datetimeFormats:s2(s),l=qe(e.numberFormats)?e.numberFormats:s2(s),c=ur(Pt(),e.modifiers,ule()),f=e.pluralRules||Pt(),d=jt(e.missing)?e.missing:null,p=it(e.missingWarn)||Cl(e.missingWarn)?e.missingWarn:!0,y=it(e.fallbackWarn)||Cl(e.fallbackWarn)?e.fallbackWarn:!0,v=!!e.fallbackFormat,b=!!e.unresolving,S=jt(e.postTranslation)?e.postTranslation:null,E=qe(e.processor)?e.processor:null,T=it(e.warnHtmlMessage)?e.warnHtmlMessage:!0,w=!!e.escapeParameter,_=jt(e.messageCompiler)?e.messageCompiler:m7,$=jt(e.messageResolver)?e.messageResolver:y7||qae,M=jt(e.localeFallbacker)?e.localeFallbacker:g7||ole,I=yt(e.fallbackContext)?e.fallbackContext:void 0,N=e,P=yt(N.__datetimeFormatters)?N.__datetimeFormatters:new Map,F=yt(N.__numberFormatters)?N.__numberFormatters:new Map,z=yt(N.__meta)?N.__meta:{};VO++;const U={version:i,cid:VO,locale:r,fallbackLocale:n,messages:o,modifiers:c,pluralRules:f,missing:d,missingWarn:p,fallbackWarn:y,fallbackFormat:v,unresolving:b,postTranslation:S,processor:E,warnHtmlMessage:T,escapeParameter:w,messageCompiler:_,messageResolver:$,localeFallbacker:M,fallbackContext:I,onWarn:t,__meta:z};return U.datetimeFormats=a,U.numberFormats=l,U.__datetimeFormatters=P,U.__numberFormatters=F,__INTLIFY_PROD_DEVTOOLS__&&ile(U,i,z),U}const s2=e=>({[e]:Pt()});function UA(e,t,i,r,s){const{missing:n,onWarn:o}=e;if(n!==null){const a=n(e,i,t,s);return we(a)?a:t}else return t}function _d(e,t,i){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,i,t)}function gle(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function vle(e,t){const i=t.indexOf(e);if(i===-1)return!1;for(let r=i+1;r<t.length;r++)if(gle(e,t[r]))return!0;return!1}function n2(e){return i=>ble(i,e)}function ble(e,t){const i=wle(t);if(i==null)throw Im(0);if(jA(i)===1){const n=Ele(i);return e.plural(n.reduce((o,a)=>[...o,BO(e,a)],[]))}else return BO(e,i)}const _le=["b","body"];function wle(e){return Gl(e,_le)}const xle=["c","cases"];function Ele(e){return Gl(e,xle,[])}function BO(e,t){const i=Ale(t);if(i!=null)return e.type==="text"?i:e.normalize([i]);{const r=$le(t).reduce((s,n)=>[...s,pE(e,n)],[]);return e.normalize(r)}}const Sle=["s","static"];function Ale(e){return Gl(e,Sle)}const Tle=["i","items"];function $le(e){return Gl(e,Tle,[])}function pE(e,t){const i=jA(t);switch(i){case 3:return vy(t,i);case 9:return vy(t,i);case 4:{const r=t;if(vn(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(vn(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw Im(i)}case 5:{const r=t;if(vn(r,"i")&&Ei(r.i))return e.interpolate(e.list(r.i));if(vn(r,"index")&&Ei(r.index))return e.interpolate(e.list(r.index));throw Im(i)}case 6:{const r=t,s=Ile(r),n=Nle(r);return e.linked(pE(e,n),s?pE(e,s):void 0,e.type)}case 7:return vy(t,i);case 8:return vy(t,i);default:throw new Error(`unhandled node on format message part: ${i}`)}}const Mle=["t","type"];function jA(e){return Gl(e,Mle)}const Ole=["v","value"];function vy(e,t){const i=Gl(e,Ole);if(i)return i;throw Im(t)}const Cle=["m","modifier"];function Ile(e){return Gl(e,Cle)}const Ple=["k","key"];function Nle(e){const t=Gl(e,Ple);if(t)return t;throw Im(6)}function Gl(e,t,i){for(let r=0;r<t.length;r++){const s=t[r];if(vn(e,s)&&e[s]!=null)return e[s]}return i}function Im(e){return new Error(`unhandled node type: ${e}`)}const _7=e=>e;let Sh=Pt();function wf(e){return yt(e)&&jA(e)===0&&(vn(e,"b")||vn(e,"body"))}function w7(e,t={}){let i=!1;const r=t.onError||pae;return t.onError=s=>{i=!0,r(s)},{...Dae(e,t),detectError:i}}const Lle=(e,t)=>{if(!we(e))throw uo(bn.NOT_SUPPORT_NON_STRING_MESSAGE);{it(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||_7)(e),s=Sh[r];if(s)return s;const{code:n,detectError:o}=w7(e,t),a=new Function(`return ${n}`)();return o?a:Sh[r]=a}};function kle(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&we(e)){it(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||_7)(e),s=Sh[r];if(s)return s;const{ast:n,detectError:o}=w7(e,{...t,location:!1,jit:!0}),a=n2(n);return o?a:Sh[r]=a}else{const i=e.cacheKey;if(i){const r=Sh[i];return r||(Sh[i]=n2(e))}else return n2(e)}}const GO=()=>"",Vs=e=>jt(e);function zO(e,...t){const{fallbackFormat:i,postTranslation:r,unresolving:s,messageCompiler:n,fallbackLocale:o,messages:a}=e,[l,c]=mE(...t),f=it(c.missingWarn)?c.missingWarn:e.missingWarn,d=it(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,p=it(c.escapeParameter)?c.escapeParameter:e.escapeParameter,y=!!c.resolvedMessage,v=we(c.default)||it(c.default)?it(c.default)?n?l:()=>l:c.default:i?n?l:()=>l:"",b=i||v!=="",S=FA(e,c);p&&Rle(c);let[E,T,w]=y?[l,S,a[S]||Pt()]:x7(e,l,S,o,d,f),_=E,$=l;if(!y&&!(we(_)||wf(_)||Vs(_))&&b&&(_=v,$=_),!y&&(!(we(_)||wf(_)||Vs(_))||!we(T)))return s?Nb:l;let M=!1;const I=()=>{M=!0},N=Vs(_)?_:E7(e,l,T,_,$,I);if(M)return _;const P=Ule(e,T,w,c),F=ele(P),z=Dle(e,N,F),U=r?r(z,l):z;if(__INTLIFY_PROD_DEVTOOLS__){const V={timestamp:Date.now(),key:we(l)?l:Vs(_)?_.key:"",locale:T||(Vs(_)?_.locale:""),format:we(_)?_:Vs(_)?_.source:"",message:U};V.meta=ur({},e.__meta,ple()||{}),rle(V)}return U}function Rle(e){Zt(e.list)?e.list=e.list.map(t=>we(t)?MO(t):t):yt(e.named)&&Object.keys(e.named).forEach(t=>{we(e.named[t])&&(e.named[t]=MO(e.named[t]))})}function x7(e,t,i,r,s,n){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=e,f=c(e,r,i);let d=Pt(),p,y=null;const v="translate";for(let b=0;b<f.length&&(p=f[b],d=o[p]||Pt(),(y=l(d,t))===null&&(y=d[t]),!(we(y)||wf(y)||Vs(y)));b++)if(!vle(p,f)){const S=UA(e,t,p,n,v);S!==t&&(y=S)}return[y,p,d]}function E7(e,t,i,r,s,n){const{messageCompiler:o,warnHtmlMessage:a}=e;if(Vs(r)){const c=r;return c.locale=c.locale||i,c.key=c.key||t,c}if(o==null){const c=()=>r;return c.locale=i,c.key=t,c}const l=o(r,Fle(e,i,s,r,a,n));return l.locale=i,l.key=t,l.source=r,l}function Dle(e,t,i){return t(i)}function mE(...e){const[t,i,r]=e,s=Pt();if(!we(t)&&!Ei(t)&&!Vs(t)&&!wf(t))throw uo(bn.INVALID_ARGUMENT);const n=Ei(t)?String(t):(Vs(t),t);return Ei(i)?s.plural=i:we(i)?s.default=i:qe(i)&&!Ib(i)?s.named=i:Zt(i)&&(s.list=i),Ei(r)?s.plural=r:we(r)?s.default=r:qe(r)&&ur(s,r),[n,s]}function Fle(e,t,i,r,s,n){return{locale:t,key:i,warnHtmlMessage:s,onError:o=>{throw n&&n(o),o},onCacheKey:o=>Qoe(t,i,o)}}function Ule(e,t,i,r){const{modifiers:s,pluralRules:n,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:f}=e,p={locale:t,modifiers:s,pluralRules:n,messages:y=>{let v=o(i,y);if(v==null&&f){const[,,b]=x7(f,y,t,a,l,c);v=o(b,y)}if(we(v)||wf(v)){let b=!1;const E=E7(e,y,t,v,y,()=>{b=!0});return b?GO:E}else return Vs(v)?v:GO}};return e.processor&&(p.processor=e.processor),r.list&&(p.list=r.list),r.named&&(p.named=r.named),Ei(r.plural)&&(p.pluralIndex=r.plural),p}function qO(e,...t){const{datetimeFormats:i,unresolving:r,fallbackLocale:s,onWarn:n,localeFallbacker:o}=e,{__datetimeFormatters:a}=e,[l,c,f,d]=yE(...t),p=it(f.missingWarn)?f.missingWarn:e.missingWarn;it(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn;const y=!!f.part,v=FA(e,f),b=o(e,s,v);if(!we(l)||l==="")return new Intl.DateTimeFormat(v,d).format(c);let S={},E,T=null;const w="datetime format";for(let M=0;M<b.length&&(E=b[M],S=i[E]||{},T=S[l],!qe(T));M++)UA(e,l,E,p,w);if(!qe(T)||!we(E))return r?Nb:l;let _=`${E}__${l}`;Ib(d)||(_=`${_}__${JSON.stringify(d)}`);let $=a.get(_);return $||($=new Intl.DateTimeFormat(E,ur({},T,d)),a.set(_,$)),y?$.formatToParts(c):$.format(c)}const S7=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function yE(...e){const[t,i,r,s]=e,n=Pt();let o=Pt(),a;if(we(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw uo(bn.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw uo(bn.INVALID_ISO_DATE_ARGUMENT)}}else if(tae(t)){if(isNaN(t.getTime()))throw uo(bn.INVALID_DATE_ARGUMENT);a=t}else if(Ei(t))a=t;else throw uo(bn.INVALID_ARGUMENT);return we(i)?n.key=i:qe(i)&&Object.keys(i).forEach(l=>{S7.includes(l)?o[l]=i[l]:n[l]=i[l]}),we(r)?n.locale=r:qe(r)&&(o=r),qe(s)&&(o=s),[n.key||"",a,n,o]}function HO(e,t,i){const r=e;for(const s in i){const n=`${t}__${s}`;r.__datetimeFormatters.has(n)&&r.__datetimeFormatters.delete(n)}}function WO(e,...t){const{numberFormats:i,unresolving:r,fallbackLocale:s,onWarn:n,localeFallbacker:o}=e,{__numberFormatters:a}=e,[l,c,f,d]=gE(...t),p=it(f.missingWarn)?f.missingWarn:e.missingWarn;it(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn;const y=!!f.part,v=FA(e,f),b=o(e,s,v);if(!we(l)||l==="")return new Intl.NumberFormat(v,d).format(c);let S={},E,T=null;const w="number format";for(let M=0;M<b.length&&(E=b[M],S=i[E]||{},T=S[l],!qe(T));M++)UA(e,l,E,p,w);if(!qe(T)||!we(E))return r?Nb:l;let _=`${E}__${l}`;Ib(d)||(_=`${_}__${JSON.stringify(d)}`);let $=a.get(_);return $||($=new Intl.NumberFormat(E,ur({},T,d)),a.set(_,$)),y?$.formatToParts(c):$.format(c)}const A7=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function gE(...e){const[t,i,r,s]=e,n=Pt();let o=Pt();if(!Ei(t))throw uo(bn.INVALID_ARGUMENT);const a=t;return we(i)?n.key=i:qe(i)&&Object.keys(i).forEach(l=>{A7.includes(l)?o[l]=i[l]:n[l]=i[l]}),we(r)?n.locale=r:qe(r)&&(o=r),qe(s)&&(o=s),[n.key||"",a,n,o]}function YO(e,t,i){const r=e;for(const s in i){const n=`${t}__${s}`;r.__numberFormatters.has(n)&&r.__numberFormatters.delete(n)}}Fae();/*!
  * vue-i18n v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const jle="9.14.3";function Vle(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(aa().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(aa().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(aa().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(aa().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(aa().__INTLIFY_PROD_DEVTOOLS__=!1)}const T7=nle.__EXTEND_POINT__,jo=Pb(T7);jo(),jo(),jo(),jo(),jo(),jo(),jo(),jo(),jo();const $7=bn.__EXTEND_POINT__,qr=Pb($7),Zi={UNEXPECTED_RETURN_TYPE:$7,INVALID_ARGUMENT:qr(),MUST_BE_CALL_SETUP_TOP:qr(),NOT_INSTALLED:qr(),NOT_AVAILABLE_IN_LEGACY_MODE:qr(),REQUIRED_VALUE:qr(),INVALID_VALUE:qr(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:qr(),NOT_INSTALLED_WITH_PROVIDE:qr(),UNEXPECTED_ERROR:qr(),NOT_COMPATIBLE_LEGACY_VUE_I18N:qr(),BRIDGE_SUPPORT_VUE_2_ONLY:qr(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:qr(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:qr(),__EXTEND_POINT__:qr()};function ir(e,...t){return id(e,null,void 0)}const vE=Vl("__translateVNode"),bE=Vl("__datetimeParts"),_E=Vl("__numberParts"),M7=Vl("__setPluralRules"),O7=Vl("__injectWithOption"),wE=Vl("__dispose");function Pm(e){if(!yt(e))return e;for(const t in e)if(vn(e,t))if(!t.includes("."))yt(e[t])&&Pm(e[t]);else{const i=t.split("."),r=i.length-1;let s=e,n=!1;for(let o=0;o<r;o++){if(i[o]==="__proto__")throw new Error(`unsafe key: ${i[o]}`);if(i[o]in s||(s[i[o]]=Pt()),!yt(s[i[o]])){n=!0;break}s=s[i[o]]}n||(s[i[r]]=e[t],delete e[t]),yt(s[i[r]])&&Pm(s[i[r]])}return e}function Lb(e,t){const{messages:i,__i18n:r,messageResolver:s,flatJson:n}=t,o=qe(i)?i:Zt(r)?Pt():{[e]:Pt()};if(Zt(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||Pt(),$g(c,o[l])):$g(c,o)}else we(a)&&$g(JSON.parse(a),o)}),s==null&&n)for(const a in o)vn(o,a)&&Pm(o[a]);return o}function C7(e){return e.type}function I7(e,t,i){let r=yt(t.messages)?t.messages:Pt();"__i18nGlobal"in i&&(r=Lb(e.locale.value,{messages:r,__i18n:i.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(n=>{e.mergeLocaleMessage(n,r[n])});{if(yt(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(yt(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function JO(e){return Ke(yo,null,e,0)}const ZO="__INTLIFY_META__",KO=()=>[],Ble=()=>!1;let XO=0;function QO(e){return(t,i,r,s)=>e(i,r,Ri()||void 0,s)}const Gle=()=>{const e=Ri();let t=null;return e&&(t=C7(e)[ZO])?{[ZO]:t}:null};function VA(e={},t){const{__root:i,__injectWithOption:r}=e,s=i===void 0,n=e.flatJson,o=Wv?X:ed,a=!!e.translateExistCompatible;let l=it(e.inheritLocale)?e.inheritLocale:!0;const c=o(i&&l?i.locale.value:we(e.locale)?e.locale:_f),f=o(i&&l?i.fallbackLocale.value:we(e.fallbackLocale)||Zt(e.fallbackLocale)||qe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:c.value),d=o(Lb(c.value,e)),p=o(qe(e.datetimeFormats)?e.datetimeFormats:{[c.value]:{}}),y=o(qe(e.numberFormats)?e.numberFormats:{[c.value]:{}});let v=i?i.missingWarn:it(e.missingWarn)||Cl(e.missingWarn)?e.missingWarn:!0,b=i?i.fallbackWarn:it(e.fallbackWarn)||Cl(e.fallbackWarn)?e.fallbackWarn:!0,S=i?i.fallbackRoot:it(e.fallbackRoot)?e.fallbackRoot:!0,E=!!e.fallbackFormat,T=jt(e.missing)?e.missing:null,w=jt(e.missing)?QO(e.missing):null,_=jt(e.postTranslation)?e.postTranslation:null,$=i?i.warnHtmlMessage:it(e.warnHtmlMessage)?e.warnHtmlMessage:!0,M=!!e.escapeParameter;const I=i?i.modifiers:qe(e.modifiers)?e.modifiers:{};let N=e.pluralRules||i&&i.pluralRules,P;P=(()=>{s&&jO(null);const H={version:jle,locale:c.value,fallbackLocale:f.value,messages:d.value,modifiers:I,pluralRules:N,missing:w===null?void 0:w,missingWarn:v,fallbackWarn:b,fallbackFormat:E,unresolving:!0,postTranslation:_===null?void 0:_,warnHtmlMessage:$,escapeParameter:M,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};H.datetimeFormats=p.value,H.numberFormats=y.value,H.__datetimeFormatters=qe(P)?P.__datetimeFormatters:void 0,H.__numberFormatters=qe(P)?P.__numberFormatters:void 0;const K=yle(H);return s&&jO(K),K})(),_d(P,c.value,f.value);function z(){return[c.value,f.value,d.value,p.value,y.value]}const U=tt({get:()=>c.value,set:H=>{c.value=H,P.locale=c.value}}),V=tt({get:()=>f.value,set:H=>{f.value=H,P.fallbackLocale=f.value,_d(P,c.value,H)}}),Z=tt(()=>d.value),u=tt(()=>p.value),m=tt(()=>y.value);function x(){return jt(_)?_:null}function C(H){_=H,P.postTranslation=H}function B(){return T}function Y(H){H!==null&&(w=QO(H)),T=H,P.missing=w}const de=(H,K,Ae,ke,Ft,zt)=>{z();let li;try{__INTLIFY_PROD_DEVTOOLS__,s||(P.fallbackContext=i?mle():void 0),li=H(P)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(P.fallbackContext=void 0)}if(Ae!=="translate exists"&&Ei(li)&&li===Nb||Ae==="translate exists"&&!li){const[Di,Q]=K();return i&&S?ke(i):Ft(Di)}else{if(zt(li))return li;throw ir(Zi.UNEXPECTED_RETURN_TYPE)}};function oe(...H){return de(K=>Reflect.apply(zO,null,[K,...H]),()=>mE(...H),"translate",K=>Reflect.apply(K.t,K,[...H]),K=>K,K=>we(K))}function $e(...H){const[K,Ae,ke]=H;if(ke&&!yt(ke))throw ir(Zi.INVALID_ARGUMENT);return oe(K,Ae,ur({resolvedMessage:!0},ke||{}))}function je(...H){return de(K=>Reflect.apply(qO,null,[K,...H]),()=>yE(...H),"datetime format",K=>Reflect.apply(K.d,K,[...H]),()=>DO,K=>we(K))}function ze(...H){return de(K=>Reflect.apply(WO,null,[K,...H]),()=>gE(...H),"number format",K=>Reflect.apply(K.n,K,[...H]),()=>DO,K=>we(K))}function at(H){return H.map(K=>we(K)||Ei(K)||it(K)?JO(String(K)):K)}const $t={normalize:at,interpolate:H=>H,type:"vnode"};function yi(...H){return de(K=>{let Ae;const ke=K;try{ke.processor=$t,Ae=Reflect.apply(zO,null,[ke,...H])}finally{ke.processor=null}return Ae},()=>mE(...H),"translate",K=>K[vE](...H),K=>[JO(K)],K=>Zt(K))}function Dt(...H){return de(K=>Reflect.apply(WO,null,[K,...H]),()=>gE(...H),"number format",K=>K[_E](...H),KO,K=>we(K)||Zt(K))}function si(...H){return de(K=>Reflect.apply(qO,null,[K,...H]),()=>yE(...H),"datetime format",K=>K[bE](...H),KO,K=>we(K)||Zt(K))}function Xi(H){N=H,P.pluralRules=N}function j(H,K){return de(()=>{if(!H)return!1;const Ae=we(K)?K:c.value,ke=ae(Ae),Ft=P.messageResolver(ke,H);return a?Ft!=null:wf(Ft)||Vs(Ft)||we(Ft)},()=>[H],"translate exists",Ae=>Reflect.apply(Ae.te,Ae,[H,K]),Ble,Ae=>it(Ae))}function D(H){let K=null;const Ae=p7(P,f.value,c.value);for(let ke=0;ke<Ae.length;ke++){const Ft=d.value[Ae[ke]]||{},zt=P.messageResolver(Ft,H);if(zt!=null){K=zt;break}}return K}function W(H){const K=D(H);return K??(i?i.tm(H)||{}:{})}function ae(H){return d.value[H]||{}}function ee(H,K){if(n){const Ae={[H]:K};for(const ke in Ae)vn(Ae,ke)&&Pm(Ae[ke]);K=Ae[H]}d.value[H]=K,P.messages=d.value}function ue(H,K){d.value[H]=d.value[H]||{};const Ae={[H]:K};if(n)for(const ke in Ae)vn(Ae,ke)&&Pm(Ae[ke]);K=Ae[H],$g(K,d.value[H]),P.messages=d.value}function ye(H){return p.value[H]||{}}function L(H,K){p.value[H]=K,P.datetimeFormats=p.value,HO(P,H,K)}function k(H,K){p.value[H]=ur(p.value[H]||{},K),P.datetimeFormats=p.value,HO(P,H,K)}function G(H){return y.value[H]||{}}function te(H,K){y.value[H]=K,P.numberFormats=y.value,YO(P,H,K)}function se(H,K){y.value[H]=ur(y.value[H]||{},K),P.numberFormats=y.value,YO(P,H,K)}XO++,i&&Wv&&(Ji(i.locale,H=>{l&&(c.value=H,P.locale=H,_d(P,c.value,f.value))}),Ji(i.fallbackLocale,H=>{l&&(f.value=H,P.fallbackLocale=H,_d(P,c.value,f.value))}));const ne={id:XO,locale:U,fallbackLocale:V,get inheritLocale(){return l},set inheritLocale(H){l=H,H&&i&&(c.value=i.locale.value,f.value=i.fallbackLocale.value,_d(P,c.value,f.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:Z,get modifiers(){return I},get pluralRules(){return N||{}},get isGlobal(){return s},get missingWarn(){return v},set missingWarn(H){v=H,P.missingWarn=v},get fallbackWarn(){return b},set fallbackWarn(H){b=H,P.fallbackWarn=b},get fallbackRoot(){return S},set fallbackRoot(H){S=H},get fallbackFormat(){return E},set fallbackFormat(H){E=H,P.fallbackFormat=E},get warnHtmlMessage(){return $},set warnHtmlMessage(H){$=H,P.warnHtmlMessage=H},get escapeParameter(){return M},set escapeParameter(H){M=H,P.escapeParameter=H},t:oe,getLocaleMessage:ae,setLocaleMessage:ee,mergeLocaleMessage:ue,getPostTranslationHandler:x,setPostTranslationHandler:C,getMissingHandler:B,setMissingHandler:Y,[M7]:Xi};return ne.datetimeFormats=u,ne.numberFormats=m,ne.rt=$e,ne.te=j,ne.tm=W,ne.d=je,ne.n=ze,ne.getDateTimeFormat=ye,ne.setDateTimeFormat=L,ne.mergeDateTimeFormat=k,ne.getNumberFormat=G,ne.setNumberFormat=te,ne.mergeNumberFormat=se,ne[O7]=r,ne[vE]=yi,ne[bE]=si,ne[_E]=Dt,ne}function zle(e){const t=we(e.locale)?e.locale:_f,i=we(e.fallbackLocale)||Zt(e.fallbackLocale)||qe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=jt(e.missing)?e.missing:void 0,s=it(e.silentTranslationWarn)||Cl(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,n=it(e.silentFallbackWarn)||Cl(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,o=it(e.fallbackRoot)?e.fallbackRoot:!0,a=!!e.formatFallbackMessages,l=qe(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,f=jt(e.postTranslation)?e.postTranslation:void 0,d=we(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,p=!!e.escapeParameterHtml,y=it(e.sync)?e.sync:!0;let v=e.messages;if(qe(e.sharedMessages)){const M=e.sharedMessages;v=Object.keys(M).reduce((N,P)=>{const F=N[P]||(N[P]={});return ur(F,M[P]),N},v||{})}const{__i18n:b,__root:S,__injectWithOption:E}=e,T=e.datetimeFormats,w=e.numberFormats,_=e.flatJson,$=e.translateExistCompatible;return{locale:t,fallbackLocale:i,messages:v,flatJson:_,datetimeFormats:T,numberFormats:w,missing:r,missingWarn:s,fallbackWarn:n,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:f,warnHtmlMessage:d,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:y,translateExistCompatible:$,__i18n:b,__root:S,__injectWithOption:E}}function xE(e={},t){{const i=VA(zle(e)),{__extender:r}=e,s={id:i.id,get locale(){return i.locale.value},set locale(n){i.locale.value=n},get fallbackLocale(){return i.fallbackLocale.value},set fallbackLocale(n){i.fallbackLocale.value=n},get messages(){return i.messages.value},get datetimeFormats(){return i.datetimeFormats.value},get numberFormats(){return i.numberFormats.value},get availableLocales(){return i.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(n){},get missing(){return i.getMissingHandler()},set missing(n){i.setMissingHandler(n)},get silentTranslationWarn(){return it(i.missingWarn)?!i.missingWarn:i.missingWarn},set silentTranslationWarn(n){i.missingWarn=it(n)?!n:n},get silentFallbackWarn(){return it(i.fallbackWarn)?!i.fallbackWarn:i.fallbackWarn},set silentFallbackWarn(n){i.fallbackWarn=it(n)?!n:n},get modifiers(){return i.modifiers},get formatFallbackMessages(){return i.fallbackFormat},set formatFallbackMessages(n){i.fallbackFormat=n},get postTranslation(){return i.getPostTranslationHandler()},set postTranslation(n){i.setPostTranslationHandler(n)},get sync(){return i.inheritLocale},set sync(n){i.inheritLocale=n},get warnHtmlInMessage(){return i.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(n){i.warnHtmlMessage=n!=="off"},get escapeParameterHtml(){return i.escapeParameter},set escapeParameterHtml(n){i.escapeParameter=n},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(n){},get pluralizationRules(){return i.pluralRules||{}},__composer:i,t(...n){const[o,a,l]=n,c={};let f=null,d=null;if(!we(o))throw ir(Zi.INVALID_ARGUMENT);const p=o;return we(a)?c.locale=a:Zt(a)?f=a:qe(a)&&(d=a),Zt(l)?f=l:qe(l)&&(d=l),Reflect.apply(i.t,i,[p,f||d||{},c])},rt(...n){return Reflect.apply(i.rt,i,[...n])},tc(...n){const[o,a,l]=n,c={plural:1};let f=null,d=null;if(!we(o))throw ir(Zi.INVALID_ARGUMENT);const p=o;return we(a)?c.locale=a:Ei(a)?c.plural=a:Zt(a)?f=a:qe(a)&&(d=a),we(l)?c.locale=l:Zt(l)?f=l:qe(l)&&(d=l),Reflect.apply(i.t,i,[p,f||d||{},c])},te(n,o){return i.te(n,o)},tm(n){return i.tm(n)},getLocaleMessage(n){return i.getLocaleMessage(n)},setLocaleMessage(n,o){i.setLocaleMessage(n,o)},mergeLocaleMessage(n,o){i.mergeLocaleMessage(n,o)},d(...n){return Reflect.apply(i.d,i,[...n])},getDateTimeFormat(n){return i.getDateTimeFormat(n)},setDateTimeFormat(n,o){i.setDateTimeFormat(n,o)},mergeDateTimeFormat(n,o){i.mergeDateTimeFormat(n,o)},n(...n){return Reflect.apply(i.n,i,[...n])},getNumberFormat(n){return i.getNumberFormat(n)},setNumberFormat(n,o){i.setNumberFormat(n,o)},mergeNumberFormat(n,o){i.mergeNumberFormat(n,o)},getChoiceIndex(n,o){return-1}};return s.__extender=r,s}}const BA={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function qle({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,s)=>[...r,...s.type===It?s.children:[s]],[]):t.reduce((i,r)=>{const s=e[r];return s&&(i[r]=s()),i},Pt())}function P7(e){return It}const Hle=rt({name:"i18n-t",props:ur({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Ei(e)||!isNaN(e)}},BA),setup(e,t){const{slots:i,attrs:r}=t,s=e.i18n||ri({useScope:e.scope,__useComponent:!0});return()=>{const n=Object.keys(i).filter(d=>d!=="_"),o=Pt();e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=we(e.plural)?+e.plural:e.plural);const a=qle(t,n),l=s[vE](e.keypath,a,o),c=ur(Pt(),r),f=we(e.tag)||yt(e.tag)?e.tag:P7();return zs(f,c,l)}}}),eC=Hle;function Wle(e){return Zt(e)&&!we(e[0])}function N7(e,t,i,r){const{slots:s,attrs:n}=t;return()=>{const o={part:!0};let a=Pt();e.locale&&(o.locale=e.locale),we(e.format)?o.key=e.format:yt(e.format)&&(we(e.format.key)&&(o.key=e.format.key),a=Object.keys(e.format).reduce((p,y)=>i.includes(y)?ur(Pt(),p,{[y]:e.format[y]}):p,Pt()));const l=r(e.value,o,a);let c=[o.key];Zt(l)?c=l.map((p,y)=>{const v=s[p.type],b=v?v({[p.type]:p.value,index:y,parts:l}):[p.value];return Wle(b)&&(b[0].key=`${p.type}-${y}`),b}):we(l)&&(c=[l]);const f=ur(Pt(),n),d=we(e.tag)||yt(e.tag)?e.tag:P7();return zs(d,f,c)}}const Yle=rt({name:"i18n-n",props:ur({value:{type:Number,required:!0},format:{type:[String,Object]}},BA),setup(e,t){const i=e.i18n||ri({useScope:e.scope,__useComponent:!0});return N7(e,t,A7,(...r)=>i[_E](...r))}}),tC=Yle,Jle=rt({name:"i18n-d",props:ur({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},BA),setup(e,t){const i=e.i18n||ri({useScope:e.scope,__useComponent:!0});return N7(e,t,S7,(...r)=>i[bE](...r))}}),iC=Jle;function Zle(e,t){const i=e;if(e.mode==="composition")return i.__getInstance(t)||e.global;{const r=i.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function Kle(e){const t=o=>{const{instance:a,modifiers:l,value:c}=o;if(!a||!a.$)throw ir(Zi.UNEXPECTED_ERROR);const f=Zle(e,a.$),d=rC(c);return[Reflect.apply(f.t,f,[...sC(d)]),f]};return{created:(o,a)=>{const[l,c]=t(a);Wv&&e.global===c&&(o.__i18nWatcher=Ji(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{Wv&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=rC(a);o.textContent=Reflect.apply(l.t,l,[...sC(c)])}},getSSRProps:o=>{const[a]=t(o);return{textContent:a}}}}function rC(e){if(we(e))return{path:e};if(qe(e)){if(!("path"in e))throw ir(Zi.REQUIRED_VALUE,"path");return e}else throw ir(Zi.INVALID_VALUE)}function sC(e){const{path:t,locale:i,args:r,choice:s,plural:n}=e,o={},a=r||{};return we(i)&&(o.locale=i),Ei(s)&&(o.plural=s),Ei(n)&&(o.plural=n),[t,a,o]}function Xle(e,t,...i){const r=qe(i[0])?i[0]:{},s=!!r.useI18nComponentName;(it(r.globalInstall)?r.globalInstall:!0)&&([s?"i18n":eC.name,"I18nT"].forEach(o=>e.component(o,eC)),[tC.name,"I18nN"].forEach(o=>e.component(o,tC)),[iC.name,"I18nD"].forEach(o=>e.component(o,iC))),e.directive("t",Kle(t))}function Qle(e,t,i){return{beforeCreate(){const r=Ri();if(!r)throw ir(Zi.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const n=s.i18n;if(s.__i18n&&(n.__i18n=s.__i18n),n.__root=t,this===this.$root)this.$i18n=nC(e,n);else{n.__injectWithOption=!0,n.__extender=i.__vueI18nExtend,this.$i18n=xE(n);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=nC(e,s);else{this.$i18n=xE({__i18n:s.__i18n,__injectWithOption:!0,__extender:i.__vueI18nExtend,__root:t});const n=this.$i18n;n.__extender&&(n.__disposer=n.__extender(this.$i18n))}else this.$i18n=e;s.__i18nGlobal&&I7(t,s,s),this.$t=(...n)=>this.$i18n.t(...n),this.$rt=(...n)=>this.$i18n.rt(...n),this.$tc=(...n)=>this.$i18n.tc(...n),this.$te=(n,o)=>this.$i18n.te(n,o),this.$d=(...n)=>this.$i18n.d(...n),this.$n=(...n)=>this.$i18n.n(...n),this.$tm=n=>this.$i18n.tm(n),i.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Ri();if(!r)throw ir(Zi.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),i.__deleteInstance(r),delete this.$i18n}}}function nC(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[M7](t.pluralizationRules||e.pluralizationRules);const i=Lb(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(i).forEach(r=>e.mergeLocaleMessage(r,i[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const ece=Vl("global-vue-i18n");function tce(e={},t){const i=__VUE_I18N_LEGACY_API__&&it(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=it(e.globalInjection)?e.globalInjection:!0,s=__VUE_I18N_LEGACY_API__&&i?!!e.allowComposition:!0,n=new Map,[o,a]=ice(e,i),l=Vl("");function c(p){return n.get(p)||null}function f(p,y){n.set(p,y)}function d(p){n.delete(p)}{const p={get mode(){return __VUE_I18N_LEGACY_API__&&i?"legacy":"composition"},get allowComposition(){return s},async install(y,...v){if(y.__VUE_I18N_SYMBOL__=l,y.provide(y.__VUE_I18N_SYMBOL__,p),qe(v[0])){const E=v[0];p.__composerExtend=E.__composerExtend,p.__vueI18nExtend=E.__vueI18nExtend}let b=null;!i&&r&&(b=hce(y,p.global)),__VUE_I18N_FULL_INSTALL__&&Xle(y,p,...v),__VUE_I18N_LEGACY_API__&&i&&y.mixin(Qle(a,a.__composer,p));const S=y.unmount;y.unmount=()=>{b&&b(),p.dispose(),S()}},get global(){return a},dispose(){o.stop()},__instances:n,__getInstance:c,__setInstance:f,__deleteInstance:d};return p}}function ri(e={}){const t=Ri();if(t==null)throw ir(Zi.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw ir(Zi.NOT_INSTALLED);const i=rce(t),r=nce(i),s=C7(t),n=sce(e,s);if(__VUE_I18N_LEGACY_API__&&i.mode==="legacy"&&!e.__useComponent){if(!i.allowComposition)throw ir(Zi.NOT_AVAILABLE_IN_LEGACY_MODE);return cce(t,n,r,e)}if(n==="global")return I7(r,e,s),r;if(n==="parent"){let l=oce(i,t,e.__useComponent);return l==null&&(l=r),l}const o=i;let a=o.__getInstance(t);if(a==null){const l=ur({},e);"__i18n"in s&&(l.__i18n=s.__i18n),r&&(l.__root=r),a=VA(l),o.__composerExtend&&(a[wE]=o.__composerExtend(a)),lce(o,t,a),o.__setInstance(t,a)}return a}function ice(e,t,i){const r=h0();{const s=__VUE_I18N_LEGACY_API__&&t?r.run(()=>xE(e)):r.run(()=>VA(e));if(s==null)throw ir(Zi.UNEXPECTED_ERROR);return[r,s]}}function rce(e){{const t=ki(e.isCE?ece:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw ir(e.isCE?Zi.NOT_INSTALLED_WITH_PROVIDE:Zi.UNEXPECTED_ERROR);return t}}function sce(e,t){return Ib(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function nce(e){return e.mode==="composition"?e.global:e.global.__composer}function oce(e,t,i=!1){let r=null;const s=t.root;let n=ace(t,i);for(;n!=null;){const o=e;if(e.mode==="composition")r=o.__getInstance(n);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(n);a!=null&&(r=a.__composer,i&&r&&!r[O7]&&(r=null))}if(r!=null||s===n)break;n=n.parent}return r}function ace(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function lce(e,t,i){hr(()=>{},t),Ou(()=>{const r=i;e.__deleteInstance(t);const s=r[wE];s&&(s(),delete r[wE])},t)}function cce(e,t,i,r={}){const s=t==="local",n=ed(null);if(s&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw ir(Zi.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=it(r.inheritLocale)?r.inheritLocale:!we(r.locale),a=X(!s||o?i.locale.value:we(r.locale)?r.locale:_f),l=X(!s||o?i.fallbackLocale.value:we(r.fallbackLocale)||Zt(r.fallbackLocale)||qe(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:a.value),c=X(Lb(a.value,r)),f=X(qe(r.datetimeFormats)?r.datetimeFormats:{[a.value]:{}}),d=X(qe(r.numberFormats)?r.numberFormats:{[a.value]:{}}),p=s?i.missingWarn:it(r.missingWarn)||Cl(r.missingWarn)?r.missingWarn:!0,y=s?i.fallbackWarn:it(r.fallbackWarn)||Cl(r.fallbackWarn)?r.fallbackWarn:!0,v=s?i.fallbackRoot:it(r.fallbackRoot)?r.fallbackRoot:!0,b=!!r.fallbackFormat,S=jt(r.missing)?r.missing:null,E=jt(r.postTranslation)?r.postTranslation:null,T=s?i.warnHtmlMessage:it(r.warnHtmlMessage)?r.warnHtmlMessage:!0,w=!!r.escapeParameter,_=s?i.modifiers:qe(r.modifiers)?r.modifiers:{},$=r.pluralRules||s&&i.pluralRules;function M(){return[a.value,l.value,c.value,f.value,d.value]}const I=tt({get:()=>n.value?n.value.locale.value:a.value,set:D=>{n.value&&(n.value.locale.value=D),a.value=D}}),N=tt({get:()=>n.value?n.value.fallbackLocale.value:l.value,set:D=>{n.value&&(n.value.fallbackLocale.value=D),l.value=D}}),P=tt(()=>n.value?n.value.messages.value:c.value),F=tt(()=>f.value),z=tt(()=>d.value);function U(){return n.value?n.value.getPostTranslationHandler():E}function V(D){n.value&&n.value.setPostTranslationHandler(D)}function Z(){return n.value?n.value.getMissingHandler():S}function u(D){n.value&&n.value.setMissingHandler(D)}function m(D){return M(),D()}function x(...D){return n.value?m(()=>Reflect.apply(n.value.t,null,[...D])):m(()=>"")}function C(...D){return n.value?Reflect.apply(n.value.rt,null,[...D]):""}function B(...D){return n.value?m(()=>Reflect.apply(n.value.d,null,[...D])):m(()=>"")}function Y(...D){return n.value?m(()=>Reflect.apply(n.value.n,null,[...D])):m(()=>"")}function de(D){return n.value?n.value.tm(D):{}}function oe(D,W){return n.value?n.value.te(D,W):!1}function $e(D){return n.value?n.value.getLocaleMessage(D):{}}function je(D,W){n.value&&(n.value.setLocaleMessage(D,W),c.value[D]=W)}function ze(D,W){n.value&&n.value.mergeLocaleMessage(D,W)}function at(D){return n.value?n.value.getDateTimeFormat(D):{}}function Gt(D,W){n.value&&(n.value.setDateTimeFormat(D,W),f.value[D]=W)}function $t(D,W){n.value&&n.value.mergeDateTimeFormat(D,W)}function yi(D){return n.value?n.value.getNumberFormat(D):{}}function Dt(D,W){n.value&&(n.value.setNumberFormat(D,W),d.value[D]=W)}function si(D,W){n.value&&n.value.mergeNumberFormat(D,W)}const Xi={get id(){return n.value?n.value.id:-1},locale:I,fallbackLocale:N,messages:P,datetimeFormats:F,numberFormats:z,get inheritLocale(){return n.value?n.value.inheritLocale:o},set inheritLocale(D){n.value&&(n.value.inheritLocale=D)},get availableLocales(){return n.value?n.value.availableLocales:Object.keys(c.value)},get modifiers(){return n.value?n.value.modifiers:_},get pluralRules(){return n.value?n.value.pluralRules:$},get isGlobal(){return n.value?n.value.isGlobal:!1},get missingWarn(){return n.value?n.value.missingWarn:p},set missingWarn(D){n.value&&(n.value.missingWarn=D)},get fallbackWarn(){return n.value?n.value.fallbackWarn:y},set fallbackWarn(D){n.value&&(n.value.missingWarn=D)},get fallbackRoot(){return n.value?n.value.fallbackRoot:v},set fallbackRoot(D){n.value&&(n.value.fallbackRoot=D)},get fallbackFormat(){return n.value?n.value.fallbackFormat:b},set fallbackFormat(D){n.value&&(n.value.fallbackFormat=D)},get warnHtmlMessage(){return n.value?n.value.warnHtmlMessage:T},set warnHtmlMessage(D){n.value&&(n.value.warnHtmlMessage=D)},get escapeParameter(){return n.value?n.value.escapeParameter:w},set escapeParameter(D){n.value&&(n.value.escapeParameter=D)},t:x,getPostTranslationHandler:U,setPostTranslationHandler:V,getMissingHandler:Z,setMissingHandler:u,rt:C,d:B,n:Y,tm:de,te:oe,getLocaleMessage:$e,setLocaleMessage:je,mergeLocaleMessage:ze,getDateTimeFormat:at,setDateTimeFormat:Gt,mergeDateTimeFormat:$t,getNumberFormat:yi,setNumberFormat:Dt,mergeNumberFormat:si};function j(D){D.locale.value=a.value,D.fallbackLocale.value=l.value,Object.keys(c.value).forEach(W=>{D.mergeLocaleMessage(W,c.value[W])}),Object.keys(f.value).forEach(W=>{D.mergeDateTimeFormat(W,f.value[W])}),Object.keys(d.value).forEach(W=>{D.mergeNumberFormat(W,d.value[W])}),D.escapeParameter=w,D.fallbackFormat=b,D.fallbackRoot=v,D.fallbackWarn=y,D.missingWarn=p,D.warnHtmlMessage=T}return yb(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw ir(Zi.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const D=n.value=e.proxy.$i18n.__composer;t==="global"?(a.value=D.locale.value,l.value=D.fallbackLocale.value,c.value=D.messages.value,f.value=D.datetimeFormats.value,d.value=D.numberFormats.value):s&&j(D)}),Xi}const uce=["locale","fallbackLocale","availableLocales"],oC=["t","rt","d","n","tm","te"];function hce(e,t){const i=Object.create(null);return uce.forEach(s=>{const n=Object.getOwnPropertyDescriptor(t,s);if(!n)throw ir(Zi.UNEXPECTED_ERROR);const o=ht(n.value)?{get(){return n.value.value},set(a){n.value.value=a}}:{get(){return n.get&&n.get()}};Object.defineProperty(i,s,o)}),e.config.globalProperties.$i18n=i,oC.forEach(s=>{const n=Object.getOwnPropertyDescriptor(t,s);if(!n||!n.value)throw ir(Zi.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${s}`,n)}),()=>{delete e.config.globalProperties.$i18n,oC.forEach(s=>{delete e.config.globalProperties[`$${s}`]})}}Vle();__INTLIFY_JIT_COMPILATION__?UO(kle):UO(Lle);hle(Hae);fle(p7);if(__INTLIFY_PROD_DEVTOOLS__){const e=aa();e.__INTLIFY__=!0,tle(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const fce={en:{"lang-code":"en","lang-dir":"ltr","lang-en":"English","lang-fr":"anglais","lang-native":"English","ramp.about.open":"Open About RAMP","ramp.about":"About RAMP","ramp.reload":"Reload RAMP","keyboardInstructions.title":"Keyboard Instructions","keyboardInstructions.open":"Open keyboard instructions","keyboardInstructions.app":"Use 'Tab' to navigate between sections of the application.","keyboardInstructions.lists":"Use the arrow keys to move between items in lists. With a list item selected you can press 'Space' or 'Enter' to click the item. You can also navigate within the list item using 'Tab'.","keyboardInstructions.map":"When the map is selected, use the arrow keys to move around and 'Enter' to select a point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Switch to metric map scale","map.toggleScaleToImperial":"Switch to imperial map scale","map.coordinates.east":"E","map.coordinates.west":"W","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Change Language","map.language.short":"EN-CA","map.language.en":"English","map.language.fr":"Français","map.language.curr":"current","map.export":"export map","map.layerSwipe.drag":"Drag and slide to move","map.layerSwipe.label":"Layer swipe","notifications.open":"Open Notifications Panel","notifications.title":"Notifications","notifications.empty":"No new notifications.","notifications.controls.dismiss":"Dismiss","notifications.controls.expand":"Expand","notifications.controls.collapse":"Collapse","notifications.controls.clearAll":"Clear All","panels.access":"Press enter or space to access the panel","panels.controls.close":"Close","panels.controls.pin":"Pin","panels.controls.unpin":"Unpin","panels.controls.back":"Back","panels.controls.optionsMenu":"More","panels.controls.minimize":"Minimize","panels.controls.expand":"Expand","panels.controls.collapse":"Collapse","panels.controls.moveRight":"Move Right","panels.controls.moveLeft":"Move Left","panels.controls.items":"Use the arrow keys to navigate the items","panels.alert.open":"{name} panel opened","panels.alert.close":"{name} panel closed","panels.alert.minimize":"{name} panel minimized","layer.error":"{id} failed to load","layer.longload":"{id} is taking longer than expected to load","layer.longdraw":"{id} is taking longer than expected to draw","layer.mismatch":"{name} cannot be displayed in the current projection","layer.filtersdisabled":"Filters have been disabled for {name}","layer.filterwarning":"You are attempting to use a grid that contains unmodifiable layers. Filtering will be partially disabled.","layer.noexportmap":"{name} was attempted to be added as a Map Image Layer but Map Export is not enabled for the service","caption.attributionDefaultText":"Powered by ESRI","caption.attributionLogoAltText":"ESRI logo","caption.attributionLink":"https://www.esri.com/"},fr:{"lang-code":"fr","lang-dir":"ltr","lang-en":"French","lang-fr":"français","lang-native":"Français","ramp.about.open":"Ouvrir À propos de PCAR","ramp.about":"À propos de PCAR","ramp.reload":"Recharger PCAR","keyboardInstructions.title":"Instructions clavier","keyboardInstructions.open":"Instructions clavier ouvert","keyboardInstructions.app":"Utilisez la touche Tab pour vous déplacer entre les sections de l'application.","keyboardInstructions.lists":"Lorsqu'un élément de la liste est sélectionné, vous pouvez appuyer sur « Espace » ou « Entrée » pour cliquer sur l'élément. Vous pouvez également vous déplacer au sein de l'élément de la liste au moyen de la touche « Tab ».","keyboardInstructions.map":"Lorsque la carte est sélectionnée, utilisez le pavé curseur pour vous déplacer et appuyez sur « Entrée »  pour sélectionner un point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Passer à l'échelle métrique","map.toggleScaleToImperial":"Passer à l'échelle impériale","map.coordinates.east":"E","map.coordinates.west":"O","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Changer de langue","map.language.short":"FR-CA","map.language.en":"English","map.language.fr":"Français","map.language.curr":"actuel","map.export":"exporter la carte","map.layerSwipe.drag":"Faites glisser et glissez pour déplacer","map.layerSwipe.label":"Glissement de calque","notifications.open":"Ouvrir la fenêtre des notifications","notifications.title":"Notifications","notifications.empty":"Aucune nouvelle notification.","notifications.controls.dismiss":"Rejeter","notifications.controls.expand":"Développer","notifications.controls.collapse":"Réduire","notifications.controls.clearAll":"Effacer tout","panels.access":"Appuyez sur Entrée ou sur la barre d'espacement pour accéder au panneau","panels.controls.close":"Fermer","panels.controls.pin":"Épingler","panels.controls.unpin":"Désépingler","panels.controls.back":"Retour","panels.controls.optionsMenu":"Plus","panels.controls.minimize":"Réduire","panels.controls.expand":"Développer","panels.controls.collapse":"Réduire","panels.controls.moveRight":"Aller à droite","panels.controls.moveLeft":"Aller à gauche","panels.controls.items":"Utilisez les touches fléchées pour naviguer entre les éléments","panels.alert.open":"Fenêtre {name} ouverte","panels.alert.close":"Fenêtre {name} fermée","panels.alert.minimize":"Fenêtre {name} réduite","layer.error":"Échec du chargement de {id}","layer.longload":"Le chargement de {id} met plus de temps que prévu","layer.longdraw":"{id} prend plus de temps que prévu à extraire","layer.mismatch":"{id} ne peut pas s'afficher dans la projection actuelle","layer.filtersdisabled":"Les filtres ont été désactivés pour {name}","layer.filterwarning":"Vous essayez d'utiliser une grille qui contient des couches non modifiables. Le filtrage sera partiellement désactivé.","layer.noexportmap":"La tentative d’ajouter {name} comme couche d’imagerie cartographique a échouée car elle n’a pu être activé pour ce service","caption.attributionDefaultText":"Propulsé par ESRI","caption.attributionLogoAltText":"Logo ESRI","caption.attributionLink":"https://www.esri.com/fr-fr/home"}},aC="en",dce={en:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}},fr:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}}};function pce(){return tce({legacy:!1,locale:document.documentElement.getAttribute("lang")||aC,fallbackLocale:aC,globalInjection:!0,messages:fce,numberFormats:dce})}var o2={exports:{}};/*!
* screenfull
* v5.0.2 - 2020-02-13
* (c) Sindre Sorhus; MIT License
*/var lC;function mce(){return lC||(lC=1,function(e){(function(){var t=typeof window<"u"&&typeof window.document<"u"?window.document:{},i=e.exports,r=function(){for(var o,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,c=a.length,f={};l<c;l++)if(o=a[l],o&&o[1]in t){for(l=0;l<o.length;l++)f[a[0][l]]=o[l];return f}return!1}(),s={change:r.fullscreenchange,error:r.fullscreenerror},n={request:function(o){return new Promise(function(a,l){var c=function(){this.off("change",c),a()}.bind(this);this.on("change",c),o=o||t.documentElement;var f=o[r.requestFullscreen]();f instanceof Promise&&f.then(c).catch(l)}.bind(this))},exit:function(){return new Promise(function(o,a){if(!this.isFullscreen){o();return}var l=function(){this.off("change",l),o()}.bind(this);this.on("change",l);var c=t[r.exitFullscreen]();c instanceof Promise&&c.then(l).catch(a)}.bind(this))},toggle:function(o){return this.isFullscreen?this.exit():this.request(o)},onchange:function(o){this.on("change",o)},onerror:function(o){this.on("error",o)},on:function(o,a){var l=s[o];l&&t.addEventListener(l,a,!1)},off:function(o,a){var l=s[o];l&&t.removeEventListener(l,a,!1)},raw:r};if(!r){i?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(n,{isFullscreen:{get:function(){return!!t[r.fullscreenElement]}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!t[r.fullscreenEnabled]}}}),i?e.exports=n:window.screenfull=n})()}(o2)),o2.exports}var yce=mce();const zn=X1(yce);var op={exports:{}};op.exports;var cC;function gce(){return cC||(cC=1,function(e,t){var i=200,r="__lodash_hash_undefined__",s=9007199254740991,n="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",y="[object Number]",v="[object Object]",b="[object Promise]",S="[object RegExp]",E="[object Set]",T="[object String]",w="[object Symbol]",_="[object WeakMap]",$="[object ArrayBuffer]",M="[object DataView]",I="[object Float32Array]",N="[object Float64Array]",P="[object Int8Array]",F="[object Int16Array]",z="[object Int32Array]",U="[object Uint8Array]",V="[object Uint8ClampedArray]",Z="[object Uint16Array]",u="[object Uint32Array]",m=/[\\^$.*+?()[\]{}|]/g,x=/\w*$/,C=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,Y={};Y[n]=Y[o]=Y[$]=Y[M]=Y[a]=Y[l]=Y[I]=Y[N]=Y[P]=Y[F]=Y[z]=Y[p]=Y[y]=Y[v]=Y[S]=Y[E]=Y[T]=Y[w]=Y[U]=Y[V]=Y[Z]=Y[u]=!0,Y[c]=Y[f]=Y[_]=!1;var de=typeof ey=="object"&&ey&&ey.Object===Object&&ey,oe=typeof self=="object"&&self&&self.Object===Object&&self,$e=de||oe||Function("return this")(),je=t&&!t.nodeType&&t,ze=je&&!0&&e&&!e.nodeType&&e,at=ze&&ze.exports===je;function Gt(R,J){return R.set(J[0],J[1]),R}function $t(R,J){return R.add(J),R}function yi(R,J){for(var le=-1,Ne=R?R.length:0;++le<Ne&&J(R[le],le,R)!==!1;);return R}function Dt(R,J){for(var le=-1,Ne=J.length,sr=R.length;++le<Ne;)R[sr+le]=J[le];return R}function si(R,J,le,Ne){for(var sr=-1,Gr=R?R.length:0;++sr<Gr;)le=J(le,R[sr],sr,R);return le}function Xi(R,J){for(var le=-1,Ne=Array(R);++le<R;)Ne[le]=J(le);return Ne}function j(R,J){return R?.[J]}function D(R){var J=!1;if(R!=null&&typeof R.toString!="function")try{J=!!(R+"")}catch{}return J}function W(R){var J=-1,le=Array(R.size);return R.forEach(function(Ne,sr){le[++J]=[sr,Ne]}),le}function ae(R,J){return function(le){return R(J(le))}}function ee(R){var J=-1,le=Array(R.size);return R.forEach(function(Ne){le[++J]=Ne}),le}var ue=Array.prototype,ye=Function.prototype,L=Object.prototype,k=$e["__core-js_shared__"],G=function(){var R=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""}(),te=ye.toString,se=L.hasOwnProperty,ne=L.toString,H=RegExp("^"+te.call(se).replace(m,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=at?$e.Buffer:void 0,Ae=$e.Symbol,ke=$e.Uint8Array,Ft=ae(Object.getPrototypeOf,Object),zt=Object.create,li=L.propertyIsEnumerable,Di=ue.splice,Q=Object.getOwnPropertySymbols,Te=K?K.isBuffer:void 0,Oe=ae(Object.keys,Object),We=Ru($e,"DataView"),Qe=Ru($e,"Map"),Fi=Ru($e,"Promise"),fr=Ru($e,"Set"),jn=Ru($e,"WeakMap"),wa=Ru(Object,"create"),No=Jl(We),rd=Jl(Qe),Pu=Jl(Fi),xa=Jl(fr),Hb=Jl(jn),Nu=Ae?Ae.prototype:void 0,Hl=Nu?Nu.valueOf:void 0;function Wl(R){var J=-1,le=R?R.length:0;for(this.clear();++J<le;){var Ne=R[J];this.set(Ne[0],Ne[1])}}function QD(){this.__data__=wa?wa(null):{}}function eF(R){return this.has(R)&&delete this.__data__[R]}function tF(R){var J=this.__data__;if(wa){var le=J[R];return le===r?void 0:le}return se.call(J,R)?J[R]:void 0}function iF(R){var J=this.__data__;return wa?J[R]!==void 0:se.call(J,R)}function rF(R,J){var le=this.__data__;return le[R]=wa&&J===void 0?r:J,this}Wl.prototype.clear=QD,Wl.prototype.delete=eF,Wl.prototype.get=tF,Wl.prototype.has=iF,Wl.prototype.set=rF;function Lo(R){var J=-1,le=R?R.length:0;for(this.clear();++J<le;){var Ne=R[J];this.set(Ne[0],Ne[1])}}function sF(){this.__data__=[]}function nF(R){var J=this.__data__,le=$0(J,R);if(le<0)return!1;var Ne=J.length-1;return le==Ne?J.pop():Di.call(J,le,1),!0}function oF(R){var J=this.__data__,le=$0(J,R);return le<0?void 0:J[le][1]}function aF(R){return $0(this.__data__,R)>-1}function lF(R,J){var le=this.__data__,Ne=$0(le,R);return Ne<0?le.push([R,J]):le[Ne][1]=J,this}Lo.prototype.clear=sF,Lo.prototype.delete=nF,Lo.prototype.get=oF,Lo.prototype.has=aF,Lo.prototype.set=lF;function Lu(R){var J=-1,le=R?R.length:0;for(this.clear();++J<le;){var Ne=R[J];this.set(Ne[0],Ne[1])}}function cF(){this.__data__={hash:new Wl,map:new(Qe||Lo),string:new Wl}}function uF(R){return M0(this,R).delete(R)}function hF(R){return M0(this,R).get(R)}function fF(R){return M0(this,R).has(R)}function dF(R,J){return M0(this,R).set(R,J),this}Lu.prototype.clear=cF,Lu.prototype.delete=uF,Lu.prototype.get=hF,Lu.prototype.has=fF,Lu.prototype.set=dF;function ku(R){this.__data__=new Lo(R)}function pF(){this.__data__=new Lo}function mF(R){return this.__data__.delete(R)}function yF(R){return this.__data__.get(R)}function gF(R){return this.__data__.has(R)}function vF(R,J){var le=this.__data__;if(le instanceof Lo){var Ne=le.__data__;if(!Qe||Ne.length<i-1)return Ne.push([R,J]),this;le=this.__data__=new Lu(Ne)}return le.set(R,J),this}ku.prototype.clear=pF,ku.prototype.delete=mF,ku.prototype.get=yF,ku.prototype.has=gF,ku.prototype.set=vF;function bF(R,J){var le=Jb(R)||GF(R)?Xi(R.length,String):[],Ne=le.length,sr=!!Ne;for(var Gr in R)se.call(R,Gr)&&!(sr&&(Gr=="length"||UF(Gr,Ne)))&&le.push(Gr);return le}function NT(R,J,le){var Ne=R[J];(!(se.call(R,J)&&DT(Ne,le))||le===void 0&&!(J in R))&&(R[J]=le)}function $0(R,J){for(var le=R.length;le--;)if(DT(R[le][0],J))return le;return-1}function _F(R,J){return R&&LT(J,Zb(J),R)}function Wb(R,J,le,Ne,sr,Gr,ko){var zr;if(Ne&&(zr=Gr?Ne(R,sr,Gr,ko):Ne(R)),zr!==void 0)return zr;if(!O0(R))return R;var jT=Jb(R);if(jT){if(zr=RF(R),!J)return NF(R,zr)}else{var Du=Yl(R),VT=Du==f||Du==d;if(qF(R))return TF(R,J);if(Du==v||Du==n||VT&&!Gr){if(D(R))return Gr?R:{};if(zr=DF(VT?{}:R),!J)return LF(R,_F(zr,R))}else{if(!Y[Du])return Gr?R:{};zr=FF(R,Du,Wb,J)}}ko||(ko=new ku);var BT=ko.get(R);if(BT)return BT;if(ko.set(R,zr),!jT)var GT=le?kF(R):Zb(R);return yi(GT||R,function(Kb,C0){GT&&(C0=Kb,Kb=R[C0]),NT(zr,C0,Wb(Kb,J,le,Ne,C0,R,ko))}),zr}function wF(R){return O0(R)?zt(R):{}}function xF(R,J,le){var Ne=J(R);return Jb(R)?Ne:Dt(Ne,le(R))}function EF(R){return ne.call(R)}function SF(R){if(!O0(R)||VF(R))return!1;var J=UT(R)||D(R)?H:C;return J.test(Jl(R))}function AF(R){if(!RT(R))return Oe(R);var J=[];for(var le in Object(R))se.call(R,le)&&le!="constructor"&&J.push(le);return J}function TF(R,J){if(J)return R.slice();var le=new R.constructor(R.length);return R.copy(le),le}function Yb(R){var J=new R.constructor(R.byteLength);return new ke(J).set(new ke(R)),J}function $F(R,J){var le=J?Yb(R.buffer):R.buffer;return new R.constructor(le,R.byteOffset,R.byteLength)}function MF(R,J,le){var Ne=J?le(W(R),!0):W(R);return si(Ne,Gt,new R.constructor)}function OF(R){var J=new R.constructor(R.source,x.exec(R));return J.lastIndex=R.lastIndex,J}function CF(R,J,le){var Ne=J?le(ee(R),!0):ee(R);return si(Ne,$t,new R.constructor)}function IF(R){return Hl?Object(Hl.call(R)):{}}function PF(R,J){var le=J?Yb(R.buffer):R.buffer;return new R.constructor(le,R.byteOffset,R.length)}function NF(R,J){var le=-1,Ne=R.length;for(J||(J=Array(Ne));++le<Ne;)J[le]=R[le];return J}function LT(R,J,le,Ne){le||(le={});for(var sr=-1,Gr=J.length;++sr<Gr;){var ko=J[sr],zr=void 0;NT(le,ko,zr===void 0?R[ko]:zr)}return le}function LF(R,J){return LT(R,kT(R),J)}function kF(R){return xF(R,Zb,kT)}function M0(R,J){var le=R.__data__;return jF(J)?le[typeof J=="string"?"string":"hash"]:le.map}function Ru(R,J){var le=j(R,J);return SF(le)?le:void 0}var kT=Q?ae(Q,Object):YF,Yl=EF;(We&&Yl(new We(new ArrayBuffer(1)))!=M||Qe&&Yl(new Qe)!=p||Fi&&Yl(Fi.resolve())!=b||fr&&Yl(new fr)!=E||jn&&Yl(new jn)!=_)&&(Yl=function(R){var J=ne.call(R),le=J==v?R.constructor:void 0,Ne=le?Jl(le):void 0;if(Ne)switch(Ne){case No:return M;case rd:return p;case Pu:return b;case xa:return E;case Hb:return _}return J});function RF(R){var J=R.length,le=R.constructor(J);return J&&typeof R[0]=="string"&&se.call(R,"index")&&(le.index=R.index,le.input=R.input),le}function DF(R){return typeof R.constructor=="function"&&!RT(R)?wF(Ft(R)):{}}function FF(R,J,le,Ne){var sr=R.constructor;switch(J){case $:return Yb(R);case a:case l:return new sr(+R);case M:return $F(R,Ne);case I:case N:case P:case F:case z:case U:case V:case Z:case u:return PF(R,Ne);case p:return MF(R,Ne,le);case y:case T:return new sr(R);case S:return OF(R);case E:return CF(R,Ne,le);case w:return IF(R)}}function UF(R,J){return J=J??s,!!J&&(typeof R=="number"||B.test(R))&&R>-1&&R%1==0&&R<J}function jF(R){var J=typeof R;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?R!=="__proto__":R===null}function VF(R){return!!G&&G in R}function RT(R){var J=R&&R.constructor,le=typeof J=="function"&&J.prototype||L;return R===le}function Jl(R){if(R!=null){try{return te.call(R)}catch{}try{return R+""}catch{}}return""}function BF(R){return Wb(R,!0,!0)}function DT(R,J){return R===J||R!==R&&J!==J}function GF(R){return zF(R)&&se.call(R,"callee")&&(!li.call(R,"callee")||ne.call(R)==n)}var Jb=Array.isArray;function FT(R){return R!=null&&HF(R.length)&&!UT(R)}function zF(R){return WF(R)&&FT(R)}var qF=Te||JF;function UT(R){var J=O0(R)?ne.call(R):"";return J==f||J==d}function HF(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=s}function O0(R){var J=typeof R;return!!R&&(J=="object"||J=="function")}function WF(R){return!!R&&typeof R=="object"}function Zb(R){return FT(R)?bF(R):AF(R)}function YF(){return[]}function JF(){return!1}e.exports=BF}(op,op.exports)),op.exports}var vce=gce();const uC=X1(vce),Jv=ai("maptip",()=>{const e=X(void 0),t=X(void 0),i=X("");function r(o){e.value=o}function s(o){t.value=o}function n(o){i.value=o}return{maptipInstance:e,maptipPoint:t,content:i,setMaptipInstance:r,setMaptipPoint:s,setMaptipContent:n}}),bce=rt({__name:"esri-map",setup(e){const t=Jv(),i=ki("iApi"),r=tt(()=>t.maptipPoint),s=tt(()=>t.maptipInstance),n=tt(()=>t.content),o=rr([]),a=X(!1);o.push(Ji(r,()=>{if(r.value){const c=i.geo.map.getPixelWidth()/2,f=0,d=i.geo.map.mapPointToScreenPoint(r.value),p=d.screenX-c,y=f-d.screenY;s.value.setProps({offset:a.value?[p,y+25]:[p,y]}),n.value&&n.value!==""&&s.value.show()}else s.value.hide()})),o.push(Ji(n,c=>{c&&c!==""&&r?(s.value.setContent(c),s.value.show()):s.value.hide()})),Fn(()=>{o.forEach(c=>c())});const l=()=>{i.geo.map.setMouseFocus()};return(c,f)=>{const d=Tt("tippy");return At((fe(),xe("div",{name:"esriMap",id:"esriMap",class:"h-full overflow-hidden",onMousedown:l,onTouchstart:f[0]||(f[0]=p=>a.value=!0),onTouchend:f[1]||(f[1]=p=>a.value=!1),onKeydown:f[2]||(f[2]=pA(v0(()=>{},["prevent"]),["up","down","left","right"]))},null,544)),[[d,{allowHTML:!0,zIndex:150,theme:"ramp4",trigger:"manual",appendTo:"parent",arrow:!1,delay:200,duration:[200,200]}]])}}});var L7={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},GA={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},_ce=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Zv={CSS:{},springs:{}};function ho(e,t,i){return Math.min(Math.max(e,t),i)}function Ip(e,t){return e.indexOf(t)>-1}function a2(e,t){return e.apply(null,t)}var De={arr:function(e){return Array.isArray(e)},obj:function(e){return Ip(Object.prototype.toString.call(e),"Object")},pth:function(e){return De.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||De.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return De.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return De.hex(e)||De.rgb(e)||De.hsl(e)},key:function(e){return!L7.hasOwnProperty(e)&&!GA.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function k7(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(i){return parseFloat(i)}):[]}function R7(e,t){var i=k7(e),r=ho(De.und(i[0])?1:i[0],.1,100),s=ho(De.und(i[1])?100:i[1],.1,100),n=ho(De.und(i[2])?10:i[2],.1,100),o=ho(De.und(i[3])?0:i[3],.1,100),a=Math.sqrt(s/r),l=n/(2*Math.sqrt(s*r)),c=l<1?a*Math.sqrt(1-l*l):0,f=1,d=l<1?(l*a+-o)/c:-o+a;function p(v){var b=t?t*v/1e3:v;return l<1?b=Math.exp(-b*l*a)*(f*Math.cos(c*b)+d*Math.sin(c*b)):b=(f+d*b)*Math.exp(-b*a),v===0||v===1?v:1-b}function y(){var v=Zv.springs[e];if(v)return v;for(var b=1/6,S=0,E=0;;)if(S+=b,p(S)===1){if(E++,E>=16)break}else E=0;var T=S*b*1e3;return Zv.springs[e]=T,T}return t?p:y}function wce(e){return e===void 0&&(e=10),function(t){return Math.ceil(ho(t,1e-6,1)*e)*(1/e)}}var xce=function(){var e=11,t=1/(e-1);function i(f,d){return 1-3*d+3*f}function r(f,d){return 3*d-6*f}function s(f){return 3*f}function n(f,d,p){return((i(d,p)*f+r(d,p))*f+s(d))*f}function o(f,d,p){return 3*i(d,p)*f*f+2*r(d,p)*f+s(d)}function a(f,d,p,y,v){var b,S,E=0;do S=d+(p-d)/2,b=n(S,y,v)-f,b>0?p=S:d=S;while(Math.abs(b)>1e-7&&++E<10);return S}function l(f,d,p,y){for(var v=0;v<4;++v){var b=o(d,p,y);if(b===0)return d;var S=n(d,p,y)-f;d-=S/b}return d}function c(f,d,p,y){if(!(0<=f&&f<=1&&0<=p&&p<=1))return;var v=new Float32Array(e);if(f!==d||p!==y)for(var b=0;b<e;++b)v[b]=n(b*t,f,p);function S(E){for(var T=0,w=1,_=e-1;w!==_&&v[w]<=E;++w)T+=t;--w;var $=(E-v[w])/(v[w+1]-v[w]),M=T+$*t,I=o(M,f,p);return I>=.001?l(E,M,f,p):I===0?M:a(E,T,T+t,f,p)}return function(E){return f===d&&p===y||E===0||E===1?E:n(S(E),d,y)}}return c}(),D7=function(){var e={linear:function(){return function(r){return r}}},t={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var s,n=4;r<((s=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((s*3-2)/22-r,2)}},Elastic:function(r,s){r===void 0&&(r=1),s===void 0&&(s=.5);var n=ho(r,1,10),o=ho(s,.1,2);return function(a){return a===0||a===1?a:-n*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(Math.PI*2)*Math.asin(1/n))*(Math.PI*2)/o)}}},i=["Quad","Cubic","Quart","Quint","Expo"];return i.forEach(function(r,s){t[r]=function(){return function(n){return Math.pow(n,s+2)}}}),Object.keys(t).forEach(function(r){var s=t[r];e["easeIn"+r]=s,e["easeOut"+r]=function(n,o){return function(a){return 1-s(n,o)(1-a)}},e["easeInOut"+r]=function(n,o){return function(a){return a<.5?s(n,o)(a*2)/2:1-s(n,o)(a*-2+2)/2}},e["easeOutIn"+r]=function(n,o){return function(a){return a<.5?(1-s(n,o)(1-a*2))/2:(s(n,o)(a*2-1)+1)/2}}}),e}();function zA(e,t){if(De.fnc(e))return e;var i=e.split("(")[0],r=D7[i],s=k7(e);switch(i){case"spring":return R7(e,t);case"cubicBezier":return a2(xce,s);case"steps":return a2(wce,s);default:return a2(r,s)}}function F7(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function kb(e,t){for(var i=e.length,r=arguments.length>=2?arguments[1]:void 0,s=[],n=0;n<i;n++)if(n in e){var o=e[n];t.call(r,o,n,e)&&s.push(o)}return s}function Rb(e){return e.reduce(function(t,i){return t.concat(De.arr(i)?Rb(i):i)},[])}function hC(e){return De.arr(e)?e:(De.str(e)&&(e=F7(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function qA(e,t){return e.some(function(i){return i===t})}function HA(e){var t={};for(var i in e)t[i]=e[i];return t}function EE(e,t){var i=HA(e);for(var r in e)i[r]=t.hasOwnProperty(r)?t[r]:e[r];return i}function Db(e,t){var i=HA(e);for(var r in t)i[r]=De.und(e[r])?t[r]:e[r];return i}function Ece(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function Sce(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=e.replace(t,function(a,l,c,f){return l+l+c+c+f+f}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i),s=parseInt(r[1],16),n=parseInt(r[2],16),o=parseInt(r[3],16);return"rgba("+s+","+n+","+o+",1)"}function Ace(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(t[1],10)/360,r=parseInt(t[2],10)/100,s=parseInt(t[3],10)/100,n=t[4]||1;function o(p,y,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?p+(y-p)*6*v:v<1/2?y:v<2/3?p+(y-p)*(2/3-v)*6:p}var a,l,c;if(r==0)a=l=c=s;else{var f=s<.5?s*(1+r):s+r-s*r,d=2*s-f;a=o(d,f,i+1/3),l=o(d,f,i),c=o(d,f,i-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+n+")"}function Tce(e){if(De.rgb(e))return Ece(e);if(De.hex(e))return Sce(e);if(De.hsl(e))return Ace(e)}function fa(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function $ce(e){if(Ip(e,"translate")||e==="perspective")return"px";if(Ip(e,"rotate")||Ip(e,"skew"))return"deg"}function SE(e,t){return De.fnc(e)?e(t.target,t.id,t.total):e}function fo(e,t){return e.getAttribute(t)}function WA(e,t,i){var r=fa(t);if(qA([i,"deg","rad","turn"],r))return t;var s=Zv.CSS[t+i];if(!De.und(s))return s;var n=100,o=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=n+i;var l=n/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(t);return Zv.CSS[t+i]=c,c}function U7(e,t,i){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return i?WA(e,s,i):s}}function YA(e,t){if(De.dom(e)&&!De.inp(e)&&(!De.nil(fo(e,t))||De.svg(e)&&e[t]))return"attribute";if(De.dom(e)&&qA(_ce,t))return"transform";if(De.dom(e)&&t!=="transform"&&U7(e,t))return"css";if(e[t]!=null)return"object"}function j7(e){if(De.dom(e)){for(var t=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map,s;s=i.exec(t);)r.set(s[1],s[2]);return r}}function Mce(e,t,i,r){var s=Ip(t,"scale")?1:0+$ce(t),n=j7(e).get(t)||s;return i&&(i.transforms.list.set(t,n),i.transforms.last=t),r?WA(e,n,r):n}function JA(e,t,i,r){switch(YA(e,t)){case"transform":return Mce(e,t,r,i);case"css":return U7(e,t,i);case"attribute":return fo(e,t);default:return e[t]||0}}function ZA(e,t){var i=/^(\*=|\+=|-=)/.exec(e);if(!i)return e;var r=fa(e)||0,s=parseFloat(t),n=parseFloat(e.replace(i[0],""));switch(i[0][0]){case"+":return s+n+r;case"-":return s-n+r;case"*":return s*n+r}}function V7(e,t){if(De.col(e))return Tce(e);if(/\s/g.test(e))return e;var i=fa(e),r=i?e.substr(0,e.length-i.length):e;return t?r+t:r}function KA(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Oce(e){return Math.PI*2*fo(e,"r")}function Cce(e){return fo(e,"width")*2+fo(e,"height")*2}function Ice(e){return KA({x:fo(e,"x1"),y:fo(e,"y1")},{x:fo(e,"x2"),y:fo(e,"y2")})}function B7(e){for(var t=e.points,i=0,r,s=0;s<t.numberOfItems;s++){var n=t.getItem(s);s>0&&(i+=KA(r,n)),r=n}return i}function Pce(e){var t=e.points;return B7(e)+KA(t.getItem(t.numberOfItems-1),t.getItem(0))}function G7(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return Oce(e);case"rect":return Cce(e);case"line":return Ice(e);case"polyline":return B7(e);case"polygon":return Pce(e)}}function Nce(e){var t=G7(e);return e.setAttribute("stroke-dasharray",t),t}function Lce(e){for(var t=e.parentNode;De.svg(t)&&De.svg(t.parentNode);)t=t.parentNode;return t}function z7(e,t){var i=t||{},r=i.el||Lce(e),s=r.getBoundingClientRect(),n=fo(r,"viewBox"),o=s.width,a=s.height,l=i.viewBox||(n?n.split(" "):[0,0,o,a]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function kce(e,t){var i=De.str(e)?F7(e)[0]:e,r=t||100;return function(s){return{property:s,el:i,svg:z7(i),totalLength:G7(i)*(r/100)}}}function Rce(e,t,i){function r(f){f===void 0&&(f=0);var d=t+f>=1?t+f:0;return e.el.getPointAtLength(d)}var s=z7(e.el,e.svg),n=r(),o=r(-1),a=r(1),l=i?1:s.w/s.vW,c=i?1:s.h/s.vH;switch(e.property){case"x":return(n.x-s.x)*l;case"y":return(n.y-s.y)*c;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function fC(e,t){var i=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=V7(De.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(i)?r.match(i).map(Number):[0],strings:De.str(e)||t?r.split(i):[]}}function XA(e){var t=e?Rb(De.arr(e)?e.map(hC):hC(e)):[];return kb(t,function(i,r,s){return s.indexOf(i)===r})}function q7(e){var t=XA(e);return t.map(function(i,r){return{target:i,id:r,total:t.length,transforms:{list:j7(i)}}})}function Dce(e,t){var i=HA(t);if(/^spring/.test(i.easing)&&(i.duration=R7(i.easing)),De.arr(e)){var r=e.length,s=r===2&&!De.obj(e[0]);s?e={value:e}:De.fnc(t.duration)||(i.duration=t.duration/r)}var n=De.arr(e)?e:[e];return n.map(function(o,a){var l=De.obj(o)&&!De.pth(o)?o:{value:o};return De.und(l.delay)&&(l.delay=a?0:t.delay),De.und(l.endDelay)&&(l.endDelay=a===n.length-1?t.endDelay:0),l}).map(function(o){return Db(o,i)})}function Fce(e){for(var t=kb(Rb(e.map(function(n){return Object.keys(n)})),function(n){return De.key(n)}).reduce(function(n,o){return n.indexOf(o)<0&&n.push(o),n},[]),i={},r=function(n){var o=t[n];i[o]=e.map(function(a){var l={};for(var c in a)De.key(c)?c==o&&(l.value=a[c]):l[c]=a[c];return l})},s=0;s<t.length;s++)r(s);return i}function Uce(e,t){var i=[],r=t.keyframes;r&&(t=Db(Fce(r),t));for(var s in t)De.key(s)&&i.push({name:s,tweens:Dce(t[s],e)});return i}function jce(e,t){var i={};for(var r in e){var s=SE(e[r],t);De.arr(s)&&(s=s.map(function(n){return SE(n,t)}),s.length===1&&(s=s[0])),i[r]=s}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}function Vce(e,t){var i;return e.tweens.map(function(r){var s=jce(r,t),n=s.value,o=De.arr(n)?n[1]:n,a=fa(o),l=JA(t.target,e.name,a,t),c=i?i.to.original:l,f=De.arr(n)?n[0]:c,d=fa(f)||fa(l),p=a||d;return De.und(o)&&(o=c),s.from=fC(f,p),s.to=fC(ZA(o,f),p),s.start=i?i.end:0,s.end=s.start+s.delay+s.duration+s.endDelay,s.easing=zA(s.easing,s.duration),s.isPath=De.pth(n),s.isPathTargetInsideSVG=s.isPath&&De.svg(t.target),s.isColor=De.col(s.from.original),s.isColor&&(s.round=1),i=s,s})}var H7={css:function(e,t,i){return e.style[t]=i},attribute:function(e,t,i){return e.setAttribute(t,i)},object:function(e,t,i){return e[t]=i},transform:function(e,t,i,r,s){if(r.list.set(t,i),t===r.last||s){var n="";r.list.forEach(function(o,a){n+=a+"("+o+") "}),e.style.transform=n}}};function W7(e,t){var i=q7(e);i.forEach(function(r){for(var s in t){var n=SE(t[s],r),o=r.target,a=fa(n),l=JA(o,s,a,r),c=a||fa(l),f=ZA(V7(n,c),l),d=YA(o,s);H7[d](o,s,f,r.transforms,!0)}})}function Bce(e,t){var i=YA(e.target,t.name);if(i){var r=Vce(t,e),s=r[r.length-1];return{type:i,property:t.name,animatable:e,tweens:r,duration:s.end,delay:r[0].delay,endDelay:s.endDelay}}}function Gce(e,t){return kb(Rb(e.map(function(i){return t.map(function(r){return Bce(i,r)})})),function(i){return!De.und(i)})}function Y7(e,t){var i=e.length,r=function(n){return n.timelineOffset?n.timelineOffset:0},s={};return s.duration=i?Math.max.apply(Math,e.map(function(n){return r(n)+n.duration})):t.duration,s.delay=i?Math.min.apply(Math,e.map(function(n){return r(n)+n.delay})):t.delay,s.endDelay=i?s.duration-Math.max.apply(Math,e.map(function(n){return r(n)+n.duration-n.endDelay})):t.endDelay,s}var dC=0;function zce(e){var t=EE(L7,e),i=EE(GA,e),r=Uce(i,e),s=q7(e.targets),n=Gce(s,r),o=Y7(n,i),a=dC;return dC++,Db(t,{id:a,children:[],animatables:s,animations:n,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var mn=[],J7=function(){var e;function t(){!e&&(!pC()||!oi.suspendWhenDocumentHidden)&&mn.length>0&&(e=requestAnimationFrame(i))}function i(s){for(var n=mn.length,o=0;o<n;){var a=mn[o];a.paused?(mn.splice(o,1),n--):(a.tick(s),o++)}e=o>0?requestAnimationFrame(i):void 0}function r(){oi.suspendWhenDocumentHidden&&(pC()?e=cancelAnimationFrame(e):(mn.forEach(function(s){return s._onDocumentVisibility()}),J7()))}return typeof document<"u"&&document.addEventListener("visibilitychange",r),t}();function pC(){return!!document&&document.hidden}function oi(e){e===void 0&&(e={});var t=0,i=0,r=0,s,n=0,o=null;function a(T){var w=window.Promise&&new Promise(function(_){return o=_});return T.finished=w,w}var l=zce(e);a(l);function c(){var T=l.direction;T!=="alternate"&&(l.direction=T!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,s.forEach(function(w){return w.reversed=l.reversed})}function f(T){return l.reversed?l.duration-T:T}function d(){t=0,i=f(l.currentTime)*(1/oi.speed)}function p(T,w){w&&w.seek(T-w.timelineOffset)}function y(T){if(l.reversePlayback)for(var _=n;_--;)p(T,s[_]);else for(var w=0;w<n;w++)p(T,s[w])}function v(T){for(var w=0,_=l.animations,$=_.length;w<$;){var M=_[w],I=M.animatable,N=M.tweens,P=N.length-1,F=N[P];P&&(F=kb(N,function(at){return T<at.end})[0]||F);for(var z=ho(T-F.start-F.delay,0,F.duration)/F.duration,U=isNaN(z)?1:F.easing(z),V=F.to.strings,Z=F.round,u=[],m=F.to.numbers.length,x=void 0,C=0;C<m;C++){var B=void 0,Y=F.to.numbers[C],de=F.from.numbers[C]||0;F.isPath?B=Rce(F.value,U*Y,F.isPathTargetInsideSVG):B=de+U*(Y-de),Z&&(F.isColor&&C>2||(B=Math.round(B*Z)/Z)),u.push(B)}var oe=V.length;if(!oe)x=u[0];else{x=V[0];for(var $e=0;$e<oe;$e++){V[$e];var je=V[$e+1],ze=u[$e];isNaN(ze)||(je?x+=ze+je:x+=ze+" ")}}H7[M.type](I.target,M.property,x,I.transforms),M.currentValue=x,w++}}function b(T){l[T]&&!l.passThrough&&l[T](l)}function S(){l.remaining&&l.remaining!==!0&&l.remaining--}function E(T){var w=l.duration,_=l.delay,$=w-l.endDelay,M=f(T);l.progress=ho(M/w*100,0,100),l.reversePlayback=M<l.currentTime,s&&y(M),!l.began&&l.currentTime>0&&(l.began=!0,b("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,b("loopBegin")),M<=_&&l.currentTime!==0&&v(0),(M>=$&&l.currentTime!==w||!w)&&v(w),M>_&&M<$?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,b("changeBegin")),b("change"),v(M)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,b("changeComplete")),l.currentTime=ho(M,0,w),l.began&&b("update"),T>=w&&(i=0,S(),l.remaining?(t=r,b("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&c()):(l.paused=!0,l.completed||(l.completed=!0,b("loopComplete"),b("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return l.reset=function(){var T=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=T==="reverse",l.remaining=l.loop,s=l.children,n=s.length;for(var w=n;w--;)l.children[w].reset();(l.reversed&&l.loop!==!0||T==="alternate"&&l.loop===1)&&l.remaining++,v(l.reversed?l.duration:0)},l._onDocumentVisibility=d,l.set=function(T,w){return W7(T,w),l},l.tick=function(T){r=T,t||(t=r),E((r+(i-t))*oi.speed)},l.seek=function(T){E(f(T))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,mn.push(l),d(),J7())},l.reverse=function(){c(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.remove=function(T){var w=XA(T);Z7(w,l)},l.reset(),l.autoplay&&l.play(),l}function mC(e,t){for(var i=t.length;i--;)qA(e,t[i].animatable.target)&&t.splice(i,1)}function Z7(e,t){var i=t.animations,r=t.children;mC(e,i);for(var s=r.length;s--;){var n=r[s],o=n.animations;mC(e,o),!o.length&&!n.children.length&&r.splice(s,1)}!i.length&&!r.length&&t.pause()}function qce(e){for(var t=XA(e),i=mn.length;i--;){var r=mn[i];Z7(t,r)}}function Hce(e,t){t===void 0&&(t={});var i=t.direction||"normal",r=t.easing?zA(t.easing):null,s=t.grid,n=t.axis,o=t.from||0,a=o==="first",l=o==="center",c=o==="last",f=De.arr(e),d=parseFloat(f?e[0]:e),p=f?parseFloat(e[1]):0,y=fa(f?e[1]:e)||0,v=t.start||0+(f?d:0),b=[],S=0;return function(E,T,w){if(a&&(o=0),l&&(o=(w-1)/2),c&&(o=w-1),!b.length){for(var _=0;_<w;_++){if(!s)b.push(Math.abs(o-_));else{var $=l?(s[0]-1)/2:o%s[0],M=l?(s[1]-1)/2:Math.floor(o/s[0]),I=_%s[0],N=Math.floor(_/s[0]),P=$-I,F=M-N,z=Math.sqrt(P*P+F*F);n==="x"&&(z=-P),n==="y"&&(z=-F),b.push(z)}S=Math.max.apply(Math,b)}r&&(b=b.map(function(V){return r(V/S)*S})),i==="reverse"&&(b=b.map(function(V){return n?V<0?V*-1:-V:Math.abs(S-V)}))}var U=f?(p-d)/S:d;return v+U*(Math.round(b[T]*100)/100)+y}}function Wce(e){e===void 0&&(e={});var t=oi(e);return t.duration=0,t.add=function(i,r){var s=mn.indexOf(t),n=t.children;s>-1&&mn.splice(s,1);function o(p){p.passThrough=!0}for(var a=0;a<n.length;a++)o(n[a]);var l=Db(i,EE(GA,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=De.und(r)?c:ZA(r,c),o(t),t.seek(l.timelineOffset);var f=oi(l);o(f),n.push(f);var d=Y7(n,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}oi.version="3.2.1";oi.speed=1;oi.suspendWhenDocumentHidden=!0;oi.running=mn;oi.remove=qce;oi.get=JA;oi.set=W7;oi.convertPx=WA;oi.path=kce;oi.setDashoffset=Nce;oi.stagger=Hce;oi.timeline=Wce;oi.easing=zA;oi.penner=D7;oi.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const Yce={xs:200,sm:576,md:768,lg:960};class K7{resizeObserver;constructor(t){this.resizeObserver=new ResizeObserver(i=>{i.length&&window.requestAnimationFrame(()=>{i.forEach(r=>{const s=r.target.dataset.breakpoints,n=s?JSON.parse(s):t??Yce;Object.keys(n).forEach(o=>{const a=n[o];r.contentRect.width>=a?r.target.classList.add(o):r.target.classList.remove(o)})})})})}observe(t){this.resizeObserver?.observe(t)}}const Jce=["data-cy"],X7=rt({__name:"panel-container",props:{panel:{type:Object,required:!0}},setup(e){const t=X(null),i=e,r=X(!1);hr(()=>{i.panel.teleport&&new K7({xs:0,sm:461,...i.panel.teleport.breakpoints}).observe(t.value)});const s=(l,c,f)=>{if(r.value)return c();oi({targets:l,opacity:{value:f,duration:400,easing:"cubicBezier(.5, .05, .1, .3)"},complete:c})},n=(l,c)=>{s(l,c,[0,1])},o=l=>{l.classList.contains("screen-spinner")||(r.value=i.panel.isScreenLoaded(i.panel.route.screen),t.value.querySelectorAll("[focus-item").forEach(c=>c.classList.remove("default-focus-style")))},a=(l,c)=>{s(l,c,[0,1])};return(l,c)=>{const f=Tt("focus-container");return fe(),xe("div",{class:mi(["shadow-tm bg-white h-full xs:mr-0 sm:mr-12 last:mr-0 pointer-events-auto min-w-0 shrink-0",e.panel.expanded?"flex-grow max-w-full":""]),style:Rl(e.panel.style),"data-cy":e.panel.id,ref_key:"componentEl",ref:t},[Ke(wb,{onBeforeLeave:o,onLeave:a,onEnter:n},{default:$i(()=>[At((fe(),Vt(q3(e.panel.route.screen),_b({class:"h-full"},e.panel.route.props,{panel:e.panel}),null,16,["panel"])),[[f]])]),_:1})],14,Jce)}}}),pu=ai("panel",()=>{const e=X(void 0),t=X(void 0),i=X(0),r=X(0),s=X(!1),n=X(!0),o=X({}),a=X({}),l=X([]),c=X([]),f=X([]),d=X(1),p=tt(()=>r.value);function y(V){return V==="xs"&&f.value.length>0?[f.value.slice().pop()]:f.value}function v(V){const Z=[];return V.forEach(u=>{u in a.value&&Z.push(a.value[u].getPromise())}),Z}function b(V){N(V),M(),t.value=void 0}function S(V){P(V),M()}function E(V,Z){F(V,Z),M()}function T(V){z(V),M()}function w(V){d.value=V}function _(V){i.value=V,M()}function $(V){s.value=V}function M(){let V=i.value;const Z=[],u=350,m=12,x=600;for(let C=l.value.length-1;C>=0;C--){const B=l.value[C];let Y=B.width||u;if(s.value?Y=V:Y+=m,B.id==="grid"&&(Y=Math.max(Math.min(Y,V),x)),(V>=Y&&!s.value||Z.length===0)&&(V-=Y,Z.unshift(B)),B.id==="grid"&&V<x)break}if(e.value&&!Z.includes(e.value)&&!s.value){let C;for(let oe=0;oe<Z.length-1&&V<(e.value.width||u)+m;oe++)C=Z.shift(),V+=C.width||u;V>=(e.value.width||u)?Z.unshift(e.value):t.value||(C=Z.shift(),Z.unshift(e.value));const B=l.value.indexOf(e.value),Y=l.value.indexOf(C),de=l.value.slice();Y>-1&&(de.splice(B,1),de.splice(Y,0,e.value)),l.value=de}r.value=V,f.value=Z}function I(V){if(o.value={...o.value,[V.id]:V},V.id in a.value)a.value[V.id].resolveMe(V);else{const Z=new Si;Z.resolveMe(V),a.value={...a.value,[V.id]:Z}}}function N(V){V.teleport?c.value=[...c.value,V]:(l.value=[...l.value,V],t.value=V)}function P(V){if(V.teleport){const Z=c.value.indexOf(V);Z!==-1&&(c.value=[...c.value.slice(0,Z),...c.value.slice(Z+1)])}else{const Z=l.value.indexOf(V);Z!==-1&&(l.value=[...l.value.slice(0,Z),...l.value.slice(Z+1)])}}function F(V,Z){const u=l.value.indexOf(V),m=Z==="right"?1:-1;f.value.includes(l.value[u+m])&&([l.value[u],l.value[u+m]]=[l.value[u+m],l.value[u]])}function z(V){o.value[V.id]!==void 0&&delete o.value[V.id],a.value[V.id]!==void 0&&delete a.value[V.id];const Z=f.value.indexOf(V);Z!==-1&&(f.value=[...f.value.slice(0,Z),...f.value.slice(Z+1)]),e.value&&e.value.id==V.id&&(e.value=void 0)}function U(V){a.value={...a.value,[V]:new Si}}return{items:o,regPromises:a,orderedItems:l,pinned:e,priority:t,visible:f,opacity:d,stackWidth:i,remWidth:r,mobileView:s,reorderable:n,teleported:c,getRemainingWidth:p,getVisible:y,getRegPromises:v,openPanel:b,closePanel:S,movePanel:E,removePanel:T,setOpacity:w,setStackWidth:_,setMobileView:$,updateVisible:M,registerPanel:I,addRegPromise:U}}),Zce=rt({__name:"panel-stack",setup(e){cA(f=>({"1fa2f422":s.value}));const t=pu(),i=ki("iApi"),r=X(),s=tt(()=>t.opacity),n=tt(()=>t.mobileView);hr(()=>{new ResizeObserver(d=>{const p=!(i.$vApp.$root?.$refs["app-size"]).classList.contains("sm");n.value!==p&&(t.mobileView=p,i.event.emit(Ce.RAMP_MOBILEVIEW_CHANGE,p)),t.setStackWidth(d[0].contentRect.width)}).observe(r.value?.$el)});const o=f=>t.getVisible(f),a=(f,d)=>{c(f,d,[[6,0],[0,1]])},l=(f,d)=>{const[p,y]=[f.children[0].getBoundingClientRect(),f.parentElement.getBoundingClientRect()];f.style.width=`${p.width}px`,f.style.height=`${p.height}px`,f.style.left=`${p.left-y.left}px`,f.style.position="absolute",c(f,d,[[0,-6],[1,0]])},c=(f,d,p)=>{oi({targets:f,duration:300,translateY:{value:p[0],easing:"cubicBezier(.5, .05, .1, .3)"},opacity:{value:p[1],duration:250,easing:"cubicBezier(.5, .05, .1, .3)"},complete:d})};return(f,d)=>(fe(),Vt(Eb,{onEnter:a,onLeave:l,name:"panel-container",tag:"div",ref_key:"el",ref:r,class:"panel-container"},{default:$i(()=>[(fe(!0),xe(It,null,jl(o(Me(i).screenSize),p=>(fe(),Vt(X7,{key:`${p.id}`,panel:p},null,8,["panel"]))),128))]),_:1},512))}}),_a=(e,t)=>{const i=e.__vccOpts||e;for(const[r,s]of t)i[r]=s;return i},Kce=_a(Zce,[["__scopeId","data-v-ca958595"]]);var ls="top",Zs="bottom",Ks="right",cs="left",QA="auto",x0=[ls,Zs,Ks,cs],xf="start",Nm="end",Xce="clippingParents",Q7="viewport",wd="popper",Qce="reference",yC=x0.reduce(function(e,t){return e.concat([t+"-"+xf,t+"-"+Nm])},[]),eD=[].concat(x0,[QA]).reduce(function(e,t){return e.concat([t,t+"-"+xf,t+"-"+Nm])},[]),eue="beforeRead",tue="read",iue="afterRead",rue="beforeMain",sue="main",nue="afterMain",oue="beforeWrite",aue="write",lue="afterWrite",cue=[eue,tue,iue,rue,sue,nue,oue,aue,lue];function $o(e){return e?(e.nodeName||"").toLowerCase():null}function As(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function mu(e){var t=As(e).Element;return e instanceof t||e instanceof Element}function Ws(e){var t=As(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function eT(e){if(typeof ShadowRoot>"u")return!1;var t=As(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function uue(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var r=t.styles[i]||{},s=t.attributes[i]||{},n=t.elements[i];!Ws(n)||!$o(n)||(Object.assign(n.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?n.removeAttribute(o):n.setAttribute(o,a===!0?"":a)}))})}function hue(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],n=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:i[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Ws(s)||!$o(s)||(Object.assign(s.style,a),Object.keys(n).forEach(function(l){s.removeAttribute(l)}))})}}const fue={name:"applyStyles",enabled:!0,phase:"write",fn:uue,effect:hue,requires:["computeStyles"]};function vo(e){return e.split("-")[0]}var qc=Math.max,Kv=Math.min,Ef=Math.round;function AE(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function tD(){return!/^((?!chrome|android).)*safari/i.test(AE())}function Sf(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var r=e.getBoundingClientRect(),s=1,n=1;t&&Ws(e)&&(s=e.offsetWidth>0&&Ef(r.width)/e.offsetWidth||1,n=e.offsetHeight>0&&Ef(r.height)/e.offsetHeight||1);var o=mu(e)?As(e):window,a=o.visualViewport,l=!tD()&&i,c=(r.left+(l&&a?a.offsetLeft:0))/s,f=(r.top+(l&&a?a.offsetTop:0))/n,d=r.width/s,p=r.height/n;return{width:d,height:p,top:f,right:c+d,bottom:f+p,left:c,x:c,y:f}}function tT(e){var t=Sf(e),i=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:r}}function iD(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&eT(i)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ya(e){return As(e).getComputedStyle(e)}function due(e){return["table","td","th"].indexOf($o(e))>=0}function zl(e){return((mu(e)?e.ownerDocument:e.document)||window.document).documentElement}function Fb(e){return $o(e)==="html"?e:e.assignedSlot||e.parentNode||(eT(e)?e.host:null)||zl(e)}function gC(e){return!Ws(e)||ya(e).position==="fixed"?null:e.offsetParent}function pue(e){var t=/firefox/i.test(AE()),i=/Trident/i.test(AE());if(i&&Ws(e)){var r=ya(e);if(r.position==="fixed")return null}var s=Fb(e);for(eT(s)&&(s=s.host);Ws(s)&&["html","body"].indexOf($o(s))<0;){var n=ya(s);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||t&&n.willChange==="filter"||t&&n.filter&&n.filter!=="none")return s;s=s.parentNode}return null}function E0(e){for(var t=As(e),i=gC(e);i&&due(i)&&ya(i).position==="static";)i=gC(i);return i&&($o(i)==="html"||$o(i)==="body"&&ya(i).position==="static")?t:i||pue(e)||t}function iT(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Pp(e,t,i){return qc(e,Kv(t,i))}function mue(e,t,i){var r=Pp(e,t,i);return r>i?i:r}function rD(){return{top:0,right:0,bottom:0,left:0}}function sD(e){return Object.assign({},rD(),e)}function nD(e,t){return t.reduce(function(i,r){return i[r]=e,i},{})}var yue=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,sD(typeof t!="number"?t:nD(t,x0))};function gue(e){var t,i=e.state,r=e.name,s=e.options,n=i.elements.arrow,o=i.modifiersData.popperOffsets,a=vo(i.placement),l=iT(a),c=[cs,Ks].indexOf(a)>=0,f=c?"height":"width";if(!(!n||!o)){var d=yue(s.padding,i),p=tT(n),y=l==="y"?ls:cs,v=l==="y"?Zs:Ks,b=i.rects.reference[f]+i.rects.reference[l]-o[l]-i.rects.popper[f],S=o[l]-i.rects.reference[l],E=E0(n),T=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,w=b/2-S/2,_=d[y],$=T-p[f]-d[v],M=T/2-p[f]/2+w,I=Pp(_,M,$),N=l;i.modifiersData[r]=(t={},t[N]=I,t.centerOffset=I-M,t)}}function vue(e){var t=e.state,i=e.options,r=i.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||iD(t.elements.popper,s)&&(t.elements.arrow=s))}const bue={name:"arrow",enabled:!0,phase:"main",fn:gue,effect:vue,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Af(e){return e.split("-")[1]}var _ue={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wue(e,t){var i=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:Ef(i*s)/s||0,y:Ef(r*s)/s||0}}function vC(e){var t,i=e.popper,r=e.popperRect,s=e.placement,n=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,d=e.isFixed,p=o.x,y=p===void 0?0:p,v=o.y,b=v===void 0?0:v,S=typeof f=="function"?f({x:y,y:b}):{x:y,y:b};y=S.x,b=S.y;var E=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),w=cs,_=ls,$=window;if(c){var M=E0(i),I="clientHeight",N="clientWidth";if(M===As(i)&&(M=zl(i),ya(M).position!=="static"&&a==="absolute"&&(I="scrollHeight",N="scrollWidth")),M=M,s===ls||(s===cs||s===Ks)&&n===Nm){_=Zs;var P=d&&M===$&&$.visualViewport?$.visualViewport.height:M[I];b-=P-r.height,b*=l?1:-1}if(s===cs||(s===ls||s===Zs)&&n===Nm){w=Ks;var F=d&&M===$&&$.visualViewport?$.visualViewport.width:M[N];y-=F-r.width,y*=l?1:-1}}var z=Object.assign({position:a},c&&_ue),U=f===!0?wue({x:y,y:b},As(i)):{x:y,y:b};if(y=U.x,b=U.y,l){var V;return Object.assign({},z,(V={},V[_]=T?"0":"",V[w]=E?"0":"",V.transform=($.devicePixelRatio||1)<=1?"translate("+y+"px, "+b+"px)":"translate3d("+y+"px, "+b+"px, 0)",V))}return Object.assign({},z,(t={},t[_]=T?b+"px":"",t[w]=E?y+"px":"",t.transform="",t))}function xue(e){var t=e.state,i=e.options,r=i.gpuAcceleration,s=r===void 0?!0:r,n=i.adaptive,o=n===void 0?!0:n,a=i.roundOffsets,l=a===void 0?!0:a,c={placement:vo(t.placement),variation:Af(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,vC(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,vC(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Eue={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:xue,data:{}};var by={passive:!0};function Sue(e){var t=e.state,i=e.instance,r=e.options,s=r.scroll,n=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=As(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&c.forEach(function(f){f.addEventListener("scroll",i.update,by)}),a&&l.addEventListener("resize",i.update,by),function(){n&&c.forEach(function(f){f.removeEventListener("scroll",i.update,by)}),a&&l.removeEventListener("resize",i.update,by)}}const Aue={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Sue,data:{}};var Tue={left:"right",right:"left",bottom:"top",top:"bottom"};function Mg(e){return e.replace(/left|right|bottom|top/g,function(t){return Tue[t]})}var $ue={start:"end",end:"start"};function bC(e){return e.replace(/start|end/g,function(t){return $ue[t]})}function rT(e){var t=As(e),i=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:i,scrollTop:r}}function sT(e){return Sf(zl(e)).left+rT(e).scrollLeft}function Mue(e,t){var i=As(e),r=zl(e),s=i.visualViewport,n=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){n=s.width,o=s.height;var c=tD();(c||!c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:n,height:o,x:a+sT(e),y:l}}function Oue(e){var t,i=zl(e),r=rT(e),s=(t=e.ownerDocument)==null?void 0:t.body,n=qc(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=qc(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+sT(e),l=-r.scrollTop;return ya(s||i).direction==="rtl"&&(a+=qc(i.clientWidth,s?s.clientWidth:0)-n),{width:n,height:o,x:a,y:l}}function nT(e){var t=ya(e),i=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+r)}function oD(e){return["html","body","#document"].indexOf($o(e))>=0?e.ownerDocument.body:Ws(e)&&nT(e)?e:oD(Fb(e))}function Np(e,t){var i;t===void 0&&(t=[]);var r=oD(e),s=r===((i=e.ownerDocument)==null?void 0:i.body),n=As(r),o=s?[n].concat(n.visualViewport||[],nT(r)?r:[]):r,a=t.concat(o);return s?a:a.concat(Np(Fb(o)))}function TE(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Cue(e,t){var i=Sf(e,!1,t==="fixed");return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}function _C(e,t,i){return t===Q7?TE(Mue(e,i)):mu(t)?Cue(t,i):TE(Oue(zl(e)))}function Iue(e){var t=Np(Fb(e)),i=["absolute","fixed"].indexOf(ya(e).position)>=0,r=i&&Ws(e)?E0(e):e;return mu(r)?t.filter(function(s){return mu(s)&&iD(s,r)&&$o(s)!=="body"}):[]}function Pue(e,t,i,r){var s=t==="clippingParents"?Iue(e):[].concat(t),n=[].concat(s,[i]),o=n[0],a=n.reduce(function(l,c){var f=_C(e,c,r);return l.top=qc(f.top,l.top),l.right=Kv(f.right,l.right),l.bottom=Kv(f.bottom,l.bottom),l.left=qc(f.left,l.left),l},_C(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function aD(e){var t=e.reference,i=e.element,r=e.placement,s=r?vo(r):null,n=r?Af(r):null,o=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,l;switch(s){case ls:l={x:o,y:t.y-i.height};break;case Zs:l={x:o,y:t.y+t.height};break;case Ks:l={x:t.x+t.width,y:a};break;case cs:l={x:t.x-i.width,y:a};break;default:l={x:t.x,y:t.y}}var c=s?iT(s):null;if(c!=null){var f=c==="y"?"height":"width";switch(n){case xf:l[c]=l[c]-(t[f]/2-i[f]/2);break;case Nm:l[c]=l[c]+(t[f]/2-i[f]/2);break}}return l}function Tf(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=r===void 0?e.placement:r,n=i.strategy,o=n===void 0?e.strategy:n,a=i.boundary,l=a===void 0?Xce:a,c=i.rootBoundary,f=c===void 0?Q7:c,d=i.elementContext,p=d===void 0?wd:d,y=i.altBoundary,v=y===void 0?!1:y,b=i.padding,S=b===void 0?0:b,E=sD(typeof S!="number"?S:nD(S,x0)),T=p===wd?Qce:wd,w=e.rects.popper,_=e.elements[v?T:p],$=Pue(mu(_)?_:_.contextElement||zl(e.elements.popper),l,f,o),M=Sf(e.elements.reference),I=aD({reference:M,element:w,strategy:"absolute",placement:s}),N=TE(Object.assign({},w,I)),P=p===wd?N:M,F={top:$.top-P.top+E.top,bottom:P.bottom-$.bottom+E.bottom,left:$.left-P.left+E.left,right:P.right-$.right+E.right},z=e.modifiersData.offset;if(p===wd&&z){var U=z[s];Object.keys(F).forEach(function(V){var Z=[Ks,Zs].indexOf(V)>=0?1:-1,u=[ls,Zs].indexOf(V)>=0?"y":"x";F[V]+=U[u]*Z})}return F}function Nue(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=i.boundary,n=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=l===void 0?eD:l,f=Af(r),d=f?a?yC:yC.filter(function(v){return Af(v)===f}):x0,p=d.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=d);var y=p.reduce(function(v,b){return v[b]=Tf(e,{placement:b,boundary:s,rootBoundary:n,padding:o})[vo(b)],v},{});return Object.keys(y).sort(function(v,b){return y[v]-y[b]})}function Lue(e){if(vo(e)===QA)return[];var t=Mg(e);return[bC(e),t,bC(t)]}function kue(e){var t=e.state,i=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!0:o,l=i.fallbackPlacements,c=i.padding,f=i.boundary,d=i.rootBoundary,p=i.altBoundary,y=i.flipVariations,v=y===void 0?!0:y,b=i.allowedAutoPlacements,S=t.options.placement,E=vo(S),T=E===S,w=l||(T||!v?[Mg(S)]:Lue(S)),_=[S].concat(w).reduce(function(je,ze){return je.concat(vo(ze)===QA?Nue(t,{placement:ze,boundary:f,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:b}):ze)},[]),$=t.rects.reference,M=t.rects.popper,I=new Map,N=!0,P=_[0],F=0;F<_.length;F++){var z=_[F],U=vo(z),V=Af(z)===xf,Z=[ls,Zs].indexOf(U)>=0,u=Z?"width":"height",m=Tf(t,{placement:z,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),x=Z?V?Ks:cs:V?Zs:ls;$[u]>M[u]&&(x=Mg(x));var C=Mg(x),B=[];if(n&&B.push(m[U]<=0),a&&B.push(m[x]<=0,m[C]<=0),B.every(function(je){return je})){P=z,N=!1;break}I.set(z,B)}if(N)for(var Y=v?3:1,de=function(ze){var at=_.find(function(Gt){var $t=I.get(Gt);if($t)return $t.slice(0,ze).every(function(yi){return yi})});if(at)return P=at,"break"},oe=Y;oe>0;oe--){var $e=de(oe);if($e==="break")break}t.placement!==P&&(t.modifiersData[r]._skip=!0,t.placement=P,t.reset=!0)}}const Rue={name:"flip",enabled:!0,phase:"main",fn:kue,requiresIfExists:["offset"],data:{_skip:!1}};function wC(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function xC(e){return[ls,Ks,Zs,cs].some(function(t){return e[t]>=0})}function Due(e){var t=e.state,i=e.name,r=t.rects.reference,s=t.rects.popper,n=t.modifiersData.preventOverflow,o=Tf(t,{elementContext:"reference"}),a=Tf(t,{altBoundary:!0}),l=wC(o,r),c=wC(a,s,n),f=xC(l),d=xC(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}const Fue={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Due};function Uue(e,t,i){var r=vo(e),s=[cs,ls].indexOf(r)>=0?-1:1,n=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,o=n[0],a=n[1];return o=o||0,a=(a||0)*s,[cs,Ks].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function jue(e){var t=e.state,i=e.options,r=e.name,s=i.offset,n=s===void 0?[0,0]:s,o=eD.reduce(function(f,d){return f[d]=Uue(d,t.rects,n),f},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}const Vue={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jue};function Bue(e){var t=e.state,i=e.name;t.modifiersData[i]=aD({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Gue={name:"popperOffsets",enabled:!0,phase:"read",fn:Bue,data:{}};function zue(e){return e==="x"?"y":"x"}function que(e){var t=e.state,i=e.options,r=e.name,s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!1:o,l=i.boundary,c=i.rootBoundary,f=i.altBoundary,d=i.padding,p=i.tether,y=p===void 0?!0:p,v=i.tetherOffset,b=v===void 0?0:v,S=Tf(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),E=vo(t.placement),T=Af(t.placement),w=!T,_=iT(E),$=zue(_),M=t.modifiersData.popperOffsets,I=t.rects.reference,N=t.rects.popper,P=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,F=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),z=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(M){if(n){var V,Z=_==="y"?ls:cs,u=_==="y"?Zs:Ks,m=_==="y"?"height":"width",x=M[_],C=x+S[Z],B=x-S[u],Y=y?-N[m]/2:0,de=T===xf?I[m]:N[m],oe=T===xf?-N[m]:-I[m],$e=t.elements.arrow,je=y&&$e?tT($e):{width:0,height:0},ze=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:rD(),at=ze[Z],Gt=ze[u],$t=Pp(0,I[m],je[m]),yi=w?I[m]/2-Y-$t-at-F.mainAxis:de-$t-at-F.mainAxis,Dt=w?-I[m]/2+Y+$t+Gt+F.mainAxis:oe+$t+Gt+F.mainAxis,si=t.elements.arrow&&E0(t.elements.arrow),Xi=si?_==="y"?si.clientTop||0:si.clientLeft||0:0,j=(V=z?.[_])!=null?V:0,D=x+yi-j-Xi,W=x+Dt-j,ae=Pp(y?Kv(C,D):C,x,y?qc(B,W):B);M[_]=ae,U[_]=ae-x}if(a){var ee,ue=_==="x"?ls:cs,ye=_==="x"?Zs:Ks,L=M[$],k=$==="y"?"height":"width",G=L+S[ue],te=L-S[ye],se=[ls,cs].indexOf(E)!==-1,ne=(ee=z?.[$])!=null?ee:0,H=se?G:L-I[k]-N[k]-ne+F.altAxis,K=se?L+I[k]+N[k]-ne-F.altAxis:te,Ae=y&&se?mue(H,L,K):Pp(y?H:G,L,y?K:te);M[$]=Ae,U[$]=Ae-L}t.modifiersData[r]=U}}const Hue={name:"preventOverflow",enabled:!0,phase:"main",fn:que,requiresIfExists:["offset"]};function Wue(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Yue(e){return e===As(e)||!Ws(e)?rT(e):Wue(e)}function Jue(e){var t=e.getBoundingClientRect(),i=Ef(t.width)/e.offsetWidth||1,r=Ef(t.height)/e.offsetHeight||1;return i!==1||r!==1}function Zue(e,t,i){i===void 0&&(i=!1);var r=Ws(t),s=Ws(t)&&Jue(t),n=zl(t),o=Sf(e,s,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!i)&&(($o(t)!=="body"||nT(n))&&(a=Yue(t)),Ws(t)?(l=Sf(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):n&&(l.x=sT(n))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Kue(e){var t=new Map,i=new Set,r=[];e.forEach(function(n){t.set(n.name,n)});function s(n){i.add(n.name);var o=[].concat(n.requires||[],n.requiresIfExists||[]);o.forEach(function(a){if(!i.has(a)){var l=t.get(a);l&&s(l)}}),r.push(n)}return e.forEach(function(n){i.has(n.name)||s(n)}),r}function Xue(e){var t=Kue(e);return cue.reduce(function(i,r){return i.concat(t.filter(function(s){return s.phase===r}))},[])}function Que(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function ehe(e){var t=e.reduce(function(i,r){var s=i[r.name];return i[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,i},{});return Object.keys(t).map(function(i){return t[i]})}var EC={placement:"bottom",modifiers:[],strategy:"absolute"};function SC(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function the(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,r=i===void 0?[]:i,s=t.defaultOptions,n=s===void 0?EC:s;return function(a,l,c){c===void 0&&(c=n);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},EC,n),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(E){var T=typeof E=="function"?E(f.options):E;b(),f.options=Object.assign({},n,f.options,T),f.scrollParents={reference:mu(a)?Np(a):a.contextElement?Np(a.contextElement):[],popper:Np(l)};var w=Xue(ehe([].concat(r,f.options.modifiers)));return f.orderedModifiers=w.filter(function(_){return _.enabled}),v(),y.update()},forceUpdate:function(){if(!p){var E=f.elements,T=E.reference,w=E.popper;if(SC(T,w)){f.rects={reference:Zue(T,E0(w),f.options.strategy==="fixed"),popper:tT(w)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(F){return f.modifiersData[F.name]=Object.assign({},F.data)});for(var _=0;_<f.orderedModifiers.length;_++){if(f.reset===!0){f.reset=!1,_=-1;continue}var $=f.orderedModifiers[_],M=$.fn,I=$.options,N=I===void 0?{}:I,P=$.name;typeof M=="function"&&(f=M({state:f,options:N,name:P,instance:y})||f)}}}},update:Que(function(){return new Promise(function(S){y.forceUpdate(),S(f)})}),destroy:function(){b(),p=!0}};if(!SC(a,l))return y;y.setOptions(c).then(function(S){!p&&c.onFirstUpdate&&c.onFirstUpdate(S)});function v(){f.orderedModifiers.forEach(function(S){var E=S.name,T=S.options,w=T===void 0?{}:T,_=S.effect;if(typeof _=="function"){var $=_({state:f,name:E,instance:y,options:w}),M=function(){};d.push($||M)}})}function b(){d.forEach(function(S){return S()}),d=[]}return y}}var ihe=[Aue,Gue,Eue,fue,Vue,Rue,Hue,bue,Fue],rhe=the({defaultModifiers:ihe});const she=["content","aria-label"],oT=rt({__name:"dropdown-menu",props:{position:{type:String,default:"bottom"},popperOptions:{type:Object,default(){return{}}},tooltip:{type:String},tooltipPlacement:{type:String,default:"bottom"},tooltipPlacementAlt:{type:String,default:"top"},tooltipTheme:{type:String,default:"ramp4"},tooltipAnimation:{type:String,default:"scale"},centered:{type:Boolean,default:!0},ariaLabel:{type:String}},setup(e){const t=X(!1),i=X(null),r=rr([]),s=X(),n=X(),o=X(),a=e;r.push(Ji(t,()=>{i.value.update()}));const l=()=>{t.value=!t.value,o.value._tippy.hide()},c=()=>{o.value._tippy.setProps({placement:t.value?a.tooltipPlacementAlt:a.tooltipPlacement}),o.value._tippy.show()},f=()=>{o.value._tippy.hide()};return hr(()=>{window.addEventListener("click",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)},{capture:!0}),window.addEventListener("blur",()=>{t.value=!1}),window.addEventListener("focusin",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)}),o.value.addEventListener("focus",c),o.value.addEventListener("blur",f),o.value.addEventListener("mouseover",c),o.value.addEventListener("mouseleave",f),Dn(()=>{const d={name:"overflowScroll",enabled:!0,phase:"main",fn({state:p}){const{bottom:y}=Tf(p);y>0?(p.styles.popper.overflowY=y>100?"auto":void 0,p.styles.popper.overflowX="hidden",p.styles.popper.height=`${p.rects.popper.height-y-8}px`):p.styles.popper.height="auto"}};o.value&&n.value&&(i.value=rhe(o.value,n.value,{placement:a.position||"bottom",modifiers:[d,{name:"offset",options:{offset:[0,5]}}],...a.popperOptions}))})}),Fn(()=>{r.forEach(d=>d()),window.removeEventListener("click",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)},{capture:!0}),window.removeEventListener("blur",()=>{t.value=!1}),window.removeEventListener("focusin",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)}),o.value.removeEventListener("focus",c),o.value.removeEventListener("blur",f),o.value.removeEventListener("mouseover",c),o.value.removeEventListener("mouseleave",f),t.value=!1}),(d,p)=>{const y=Tt("tippy");return fe(),xe("div",{ref_key:"el",ref:s},[At((fe(),xe("button",{type:"button",class:"text-gray-500 hover:text-black dropdown-button",onClick:l,content:e.tooltip,"aria-label":e.ariaLabel?String(e.ariaLabel):String(e.tooltip),ref_key:"dropdownTrigger",ref:o},[gn(d.$slots,"header")],8,she)),[[y,{placement:e.tooltipPlacement,theme:e.tooltipTheme,animation:e.tooltipAnimation,trigger:"manual"}]]),At(ce("div",{onClick:p[0]||(p[0]=v=>i.value.update()),class:mi(["rv-dropdown shadow-md border border-gray:200 py-8 bg-white rounded z-10",{"text-center":e.centered}]),ref_key:"dropdown",ref:n},[gn(d.$slots,"default",{close:()=>t.value=!t.value})],2),[[xb,t.value]])],512)}}}),bo=ai("notification",()=>{const e=X([]),t=X({}),i=tt(()=>e.value.length>=99?99:e.value.length);function r(c){e.value=[c,...e.value]}function s(c){if(e.value.includes(c)){const f=e.value.indexOf(c);c instanceof lD&&l(c),f>-1&&e.value.splice(f,1)}}function n(c){t.value[c.id]=c}function o(c,f){t.value[c]&&(t.value[c].messageList.push(f),e.value.includes(t.value[c])||(e.value=[t.value[c],...e.value]))}function a(){Object.values(t.value).forEach(c=>l(c)),e.value=[]}function l(c){const f=e.value.indexOf(c);f>-1&&e.value.splice(f,1),c.messageList=[]}return{notificationStack:e,groups:t,notificationNumber:i,showNotification:r,removeNotification:s,registerGroup:n,addToGroup:o,clearAll:a}}),nhe={class:"h-full flex flex-col"},ohe={class:"w-full flex mb-6"},ahe=["content","aria-label"],lhe=rt({__name:"screen",props:{panel:{type:Object,required:!0}},setup(e){const t=bo(),{t:i}=ri(),r=tt(()=>t.notificationNumber),s=()=>t.clearAll();return(n,o)=>{const a=wi("panel-screen"),l=Tt("tippy");return fe(),Vt(a,{panel:e.panel},{header:$i(()=>[go(kt(Me(i)("notifications.title")),1)]),content:$i(()=>[ce("div",nhe,[ce("div",ohe,[At((fe(),xe("button",{type:"button",onClick:s,class:mi(["p-4 ml-auto",[r.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:Me(i)("notifications.controls.clearAll"),"aria-label":Me(i)("notifications.controls.clearAll")},o[0]||(o[0]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ce("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ce("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ce("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ce("path",{d:"M22 22l-5 -5"}),ce("path",{d:"M17 22l5 -5"})],-1)]),10,ahe)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale"}]])]),Ke(cD,{class:"overflow-y-auto"})])]),_:1},8,["panel"])}}});var Es=(e=>(e.ERROR="error",e.INFO="info",e.WARNING="warning",e))(Es||{});class che extends Mi{notificationStore;constructor(t){super(t),this.$iApi.panel.register({id:"notifications",config:{screens:{"notifications-screen":pi(lhe)},alertName:"notifications.title"}}),this.notificationStore=bo(this.$vApp.$pinia)}show(t,i){this.notificationStore.showNotification({type:t,message:i})}addGroup(t,i,r){if(this.getGroup(t))throw new Error("Duplicate notification group id registration: "+t);const s=new lD(this.$iApi,t,i,r);return this.notificationStore.registerGroup(s),s}getGroup(t){return this.notificationStore.groups[t]}}class lD extends Mi{notificationStore=bo(this.$vApp.$pinia);id;message;type;messageList=[];constructor(t,i,r,s){super(t),this.id=i,this.type=r,this.message=s}show(t){this.notificationStore.addToGroup(this.id,t)}}const uhe=["content"],hhe={class:"flex items-center text-left"},fhe={class:"select-text cursor-text"},dhe=["content"],phe={key:0,class:"text-left"},mhe=rt({__name:"notification-item",props:{notification:{type:Object,required:!0}},setup(e){const t=bo(),{t:i}=ri(),r=e,s=X(!1),n=rr({[Es.WARNING]:"⚠",[Es.INFO]:"ℹ️",[Es.ERROR]:"❌"}),o=l=>{t.removeNotification(l)},a=()=>{if(!r.notification.messageList)return!1};return(l,c)=>{const f=Tt("tippy");return At((fe(),xe("li",{class:mi(["flex-col default-focus-style p-4",e.notification.messageList?"cursor-pointer":""]),content:Me(i)(s.value?"notifications.controls.collapse":"notifications.controls.expand"),onClick:c[1]||(c[1]=d=>s.value=!s.value)},[ce("div",hhe,[ce("span",null,[go(kt(n[e.notification.type])+" ",1),ce("span",fhe,kt(e.notification.message),1)]),c[4]||(c[4]=ce("span",{class:"flex-grow"},null,-1)),e.notification.messageList?(fe(),xe("div",{key:0,class:mi(["dropdown-icon p-4 pointer-events-none",{"transform -rotate-180":s.value}])},c[2]||(c[2]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[ce("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2)):Ht("",!0),At((fe(),xe("button",{type:"button",onClick:c[0]||(c[0]=v0(d=>o(e.notification),["stop"])),class:"mx-4 p-4 text-gray-500 hover:text-black",content:Me(i)("notifications.controls.dismiss")},c[3]||(c[3]=[ce("svg",{class:"fill-current",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105.16 122.88","fill-rule":"evenodd"},[ce("path",{d:"M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z"})],-1)]),8,dhe)),[[f,{theme:"ramp4",animation:"scale"}]])]),e.notification.messageList&&s.value?(fe(),xe("div",phe,[(fe(!0),xe(It,null,jl(e.notification.messageList,(d,p)=>(fe(),xe("p",{key:e.notification.id+d+p},kt(d),1))),128))])):Ht("",!0)],10,uhe)),[[f,{onShow:a,theme:"ramp4",animation:"scale"}]])}}}),yhe=["content"],ghe={key:0,class:"w-full border-b border-black"},vhe={key:1,class:"flex flex-col items-center h-full"},cD=rt({__name:"notification-list",setup(e){const t=bo(),{t:i}=ri(),r=X(),s=()=>{r.value._tippy.hide()},n=a=>{a.key==="Tab"&&r.value?.matches(":focus")&&r.value._tippy.show()};hr(()=>{r.value?.addEventListener("blur",s),r.value?.addEventListener("keyup",n)}),Fn(()=>{r.value?.removeEventListener("blur",s),r.value?.removeEventListener("keyup",n)});const o=tt(()=>t.notificationStack);return(a,l)=>{const c=Tt("focus-item"),f=Tt("focus-list"),d=Tt("tippy");return fe(),xe("div",null,[o.value.length>0?At((fe(),xe("ul",{key:0,content:Me(i)("panels.controls.items"),ref_key:"el",ref:r,class:"h-full overflow-y-auto"},[(fe(!0),xe(It,null,jl(o.value,(p,y)=>(fe(),xe(It,{key:p.message+y},[y>0?(fe(),xe("div",ghe)):Ht("",!0),At(Ke(mhe,{class:mi([p.type]),notification:p},null,8,["class","notification"]),[[c]])],64))),128))],8,yhe)),[[f],[d,{trigger:"manual",placement:"top-start",touch:!1}]]):(fe(),xe("div",vhe,[l[0]||(l[0]=ce("span",{class:"flex-grow"},null,-1)),l[1]||(l[1]=ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-48 w-48 fill-current"},[ce("path",{d:"M0 0h24v24H0z",fill:"none"}),ce("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})],-1)),ce("span",null,kt(Me(i)("notifications.empty")),1),l[2]||(l[2]=ce("span",{style:{"flex-grow":"6"}},null,-1))]))])}}}),bhe={class:"flex items-center hover:text-white"},_he=["aria-label"],whe={key:0,class:"number rounded-full w-18 text-white"},xhe={class:"notification-dropdown pointer-events-auto bg-white rounded text-center text-black w-500 h-256 flex flex-col p-0"},Ehe={class:"pb-8 border-b border-gray-600"},She={class:"absolute flex right-3 top-3"},Ahe=["content","aria-label"],The=rt({__name:"caption-button",setup(e){const t=bo(),{t:i}=ri(),r=tt(()=>t.notificationNumber),s=()=>t.clearAll();return(n,o)=>{const a=wi("close"),l=Tt("tippy");return fe(),Vt(oT,{position:"top-start",tooltip:Me(i)("notifications.title"),tooltipPlacement:"top",class:"pointer-events-auto sm:flex ml-4 mr-8"},{header:$i(()=>[ce("div",bhe,[(fe(),xe("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-label":Me(i)("notifications.open")},o[0]||(o[0]=[ce("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},null,-1)]),8,_he)),r.value&&r.value>0?(fe(),xe("span",whe,kt(r.value),1)):Ht("",!0)])]),default:$i(c=>[ce("div",xhe,[ce("div",null,[ce("h4",Ehe,kt(Me(i)("notifications.title")),1),ce("div",She,[At((fe(),xe("button",{type:"button",onClick:s,class:mi(["p-4 mr-6",[r.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:Me(i)("notifications.controls.clearAll"),"aria-label":Me(i)("notifications.controls.clearAll")},o[1]||(o[1]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ce("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ce("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ce("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ce("path",{d:"M22 22l-5 -5"}),ce("path",{d:"M17 22l5 -5"})],-1)]),10,Ahe)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale",appendTo:"parent"}]]),Ke(a,{onClick:c.close},null,8,["onClick"])])]),Ke(cD,{class:"overflow-y-auto h-230"})])]),_:1},8,["tooltip"])}}}),$he=_a(The,[["__scopeId","data-v-77b1750c"]]),Mhe={class:"flex hover:text-white"},Ohe=["aria-label"],Che={class:"about-ramp-dropdown pointer-events-auto bg-white rounded w-256 h-50"},Ihe=["aria-label","content"],Phe={class:"pb-8 border-b border-gray-600 mb-10"},Nhe={class:"absolute right-5 top-5"},Lhe={class:"select-text"},khe={class:"font-bold cursor-text"},Rhe={class:"text-sm cursor-text"},Dhe={class:"font-bold cursor-text"},Fhe={class:"ml-5 cursor-text"},Uhe=rt({__name:"about-ramp-dropdown",props:{position:{type:String,default:"top-start"}},setup(e){const{t}=ri(),i=ki("iApi"),r=()=>{i.reload()},s=tt(()=>`${Ed.major}.${Ed.minor}.${Ed.patch}`),n=tt(()=>Ed.hash.slice(0,9)),o=tt(()=>{const a=new Date(Ed.timestamp);if(isNaN(a.getTime()))return["dev mode","no date"];{const l=c=>c<10?"0"+c.toString():c.toString();return[`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`,`${a.getHours()}:${l(a.getMinutes())}:${l(a.getSeconds())}`]}});return(a,l)=>{const c=wi("close"),f=wi("dropdown-menu"),d=Tt("tippy"),p=Tt("focus-item");return At((fe(),Vt(f,{class:"pointer-events-auto sm:flex",position:e.position,tooltip:Me(t)("ramp.about"),tooltipPlacement:e.position},{header:$i(()=>[ce("div",Mhe,[(fe(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20","aria-label":Me(t)("ramp.about.open")},l[0]||(l[0]=[ce("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]),8,Ohe))])]),default:$i(y=>[ce("div",Che,[ce("div",null,[At((fe(),xe("button",{class:"absolute left-5 top-5 text-gray-500 hover:text-black focus:text-black p-8",onClick:r,"aria-label":Me(t)("ramp.reload"),content:Me(t)("ramp.reload")},l[1]||(l[1]=[ce("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ce("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)]),8,Ihe)),[[d,{placement:"bottom-start",theme:"ramp4",animation:"scale"}]]),ce("h4",Phe,kt(Me(t)("ramp.about")),1),ce("div",Nhe,[Ke(c,{onClick:y.close},null,8,["onClick"])]),ce("div",Lhe,[ce("div",null,[ce("span",khe,kt(s.value),1),ce("span",Rhe," ["+kt(n.value)+"] ",1)]),ce("div",null,[ce("span",Dhe,kt(o.value[0]),1),ce("span",Fhe,kt(o.value[1]),1)]),l[2]||(l[2]=ce("div",{class:"mt-5"},[ce("a",{class:"text-sm underline text-blue-600",href:"https://github.com/ramp4-pcar4/ramp4-pcar4",target:"_blank"},[ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"inline-block fill-black w-16 h-16"},[ce("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]),go(" ramp4-pcar4 ")])],-1))])])])]),_:1},8,["position","tooltip","tooltipPlacement"])),[[p]])}}}),jhe=_a(Uhe,[["__scopeId","data-v-bfefdf86"]]),Vhe={class:"map-caption absolute bottom-0 h-29 sm:h-38 flex justify-end pointer-events-auto cursor-default select-none text-gray-200 bg-black-75 left-0 right-0 py-2 sm:py-6"},Bhe={key:0,class:"relative top-2 sm:top-1 ml-4 sm:ml-0 shrink-0"},Ghe=["href","aria-label"],zhe=["src","alt"],qhe={key:1,class:"relative ml-10 top-2 text-sm sm:text-base"},Hhe={class:"flex min-w-fit justify-end"},Whe={key:0,class:"pl-8 px-14 sm:block display-none relative top-2"},Yhe=["aria-pressed","aria-label","content"],Jhe={class:"relative top-1 text-sm sm:text-base"},Zhe={class:"text-gray-200 hover:text-white text-sm sm:text-base pb-5"},Khe=["onClick"],Xhe={key:0,class:"sr-only"},Qhe=rt({__name:"map-caption",setup(e){const t=dl(),i=ss(),{t:r}=ri(),s=ki("iApi"),n=tt(()=>t.scale),o=tt(()=>t.attribution),a=tt(()=>t.coords),l=tt(()=>t.langtoggle),c=tt(()=>i.config.map),f=X([]),d=rr([]);d.push(Ji(c,S=>{S&&s.geo.map.caption.createCaption(c.value?.caption)})),Fn(()=>{d.forEach(S=>S())}),td(()=>{Dn(()=>{s.$i18n.locale.value&&f.value.length==0&&(f.value=s.$i18n.availableLocales)})});const p=()=>o.value?.logo?.link&&o.value?.logo?.value&&!o.value?.logo?.disabled,y=S=>{s.$i18n.locale.value!=S&&s.setLanguage(S)},v=()=>{t.toggleScale(),s.geo.map.caption.updateScale()},b=(S=!1)=>r(S?"map.toggleScaleToMetric":"map.toggleScaleToImperial");return(S,E)=>{const T=wi("dropdown-menu"),w=Tt("truncate"),_=Tt("tippy");return fe(),xe("div",Vhe,[Ke(jhe,{class:"sm:block display-none ml-8 mr-4",position:"top-end"}),Ke($he,{class:"sm:block display-none"}),p()?(fe(),xe("span",Bhe,[ce("a",{class:"pointer-events-auto cursor-pointer",href:o.value?.logo.link,target:"_blank","aria-label":o.value?.logo.altText},[ce("img",{class:"object-contain h-18 sm:h-26",src:o.value?.logo.value,alt:o.value?.logo.altText},null,8,zhe)],8,Ghe)])):Ht("",!0),o.value?.text.disabled?Ht("",!0):At((fe(),xe("span",qhe,[go(kt(o.value?.text.value),1)])),[[w,{options:{placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),E[0]||(E[0]=ce("span",{class:"flex-grow w-15"},null,-1)),ce("div",Hhe,[a.value?.disabled?Ht("",!0):At((fe(),xe("div",Whe,[go(kt(a.value?.formattedString),1)])),[[w,{options:{hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),n.value?.disabled?Ht("",!0):At((fe(),xe("button",{key:1,type:"button",class:"flex-shrink-0 mx-2 sm:mx-10 px-4 pointer-events-auto cursor-pointer border-none",onClick:v,"aria-pressed":n.value?.isImperialScale,"aria-label":`
                    ${n.value?.label} - ${b(n.value?.isImperialScale)}
                `,content:b(n.value?.isImperialScale)},[ce("span",{class:"border-solid border-2 border-white border-t-0 h-5 mr-4 inline-block",style:Rl({width:n.value?.width})},null,4),ce("span",Jhe,kt(n.value?.label),1)],8,Yhe)),[[_,{delay:[300,0],placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale",touch:["hold",200]}]]),l.value?.disabled?Ht("",!0):(fe(),Vt(T,{key:2,class:"flex-shrink-0 pointer-events-auto focus:outline-none px-4 mr-4 relative top-2",position:"top-end",tooltip:Me(r)("map.changeLanguage"),ariaLabel:`${Me(r)("map.language.short")} - ${Me(r)("map.changeLanguage")}`,tooltipPlacement:"top-start",tooltipPlacementAlt:"left-end"},{header:$i(()=>[ce("span",Zhe,kt(Me(r)("map.language.short")),1)]),default:$i(()=>[(fe(!0),xe(It,null,jl(f.value,($,M)=>(fe(),xe("a",{key:`${$}-${M}`,class:mi(["flex-auto items-center text-sm sm:text-base cursor-pointer",{"font-bold":$===Me(s).$i18n.locale.value}]),href:"javascript:;",onClick:I=>y($)},[go(kt(Me(r)("map.language."+$))+" ",1),$===Me(s).$i18n.locale.value?(fe(),xe("span",Xhe,kt(Me(r)("map.language.curr")),1)):Ht("",!0)],10,Khe))),128))]),_:1},8,["tooltip","ariaLabel"]))])])}}}),efe=["content","aria-label"],tfe={key:0,class:"number absolute -top-2 -right-2 text-white w-18 rounded-full"},ife=rt({__name:"floating-button",setup(e){const t=bo(),i=ki("iApi"),{t:r}=ri(),s=tt(()=>t.notificationNumber);return(n,o)=>{const a=Tt("tippy");return At((fe(),xe("button",{type:"button",onClick:o[0]||(o[0]=l=>Me(i).panel.get("notifications").open()),class:"pointer-events-auto items-center absolute left-8 bottom-36 p-6 block sm:display-none bg-black-75 rounded-full text-gray-400 hover:text-white",content:Me(r)("notifications.title"),"aria-label":Me(r)("notifications.title")},[o[1]||(o[1]=ce("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ce("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})],-1)),s.value&&s.value>0?(fe(),xe("span",tfe,kt(s.value),1)):Ht("",!0)],8,efe)),[[a]])}}}),rfe=_a(ife,[["__scopeId","data-v-db7ed22c"]]),sfe={class:"flex items-center mb-20"},nfe={class:"text-xl"},ofe=rt({__name:"keyboard-instructions",setup(e){const t=ki("iApi"),{t:i}=ri(),r=X(!1),s=X(["app","lists","map"]),n=X([]),o=X(null),a=X(null);hr(()=>{n.value.push(t.event.on("openKeyboardInstructions",()=>{r.value=!0,Dn(()=>{o.value.focus()})}))}),Fn(()=>{n.value.forEach(c=>t.event.off(c))});const l=c=>{c.key==="Tab"?c.shiftKey&&c.target===o.value?(c.preventDefault(),a.value.focus()):!c.shiftKey&&c.target===a.value&&(c.preventDefault(),o.value.focus()):c.key==="Escape"&&(c.preventDefault(),r.value=!1)};return(c,f)=>{const d=wi("close");return r.value?(fe(),xe("div",{key:0,class:"absolute inset-0 flex justify-center items-center bg-opacity-30 bg-black z-50 pointer-events-auto",onClick:f[3]||(f[3]=p=>r.value=!1),onKeydown:l},[ce("div",{class:"bg-white w-500 pointer-events-auto shadow-2xl p-20 flex flex-col",onClick:f[2]||(f[2]=v0(()=>{},["stop","prevent"])),tabindex:"0",ref_key:"firstEl",ref:o},[ce("div",sfe,[ce("h2",nfe,kt(Me(i)("keyboardInstructions.title")),1),Ke(d,{class:"ml-auto",onClick:f[0]||(f[0]=p=>r.value=!1)})]),(fe(!0),xe(It,null,jl(s.value,p=>(fe(),xe("p",{class:"whitespace-pre-line pb-10",key:p},kt(Me(i)(`keyboardInstructions.${p}`)),1))),128)),ce("button",{type:"button",class:"mt-auto self-end mr-10 mb-10 px-20 py-10",onClick:f[1]||(f[1]=p=>r.value=!1),ref_key:"lastEl",ref:a},kt(Me(i)("keyboardInstructions.OK")),513)],512)],32)):Ht("",!0)}}}),uh=ai("instance",()=>({started:X(!1)})),afe={class:"h-full relative"},lfe={class:"inner-shell absolute top-0 left-0 h-full w-full pointer-events-none"},cfe={class:"absolute top-8 w-full flex justify-center"},ufe={key:1,class:"w-full h-full"},hfe=rt({__name:"shell",setup(e){const t=ki("iApi"),i=uh(),r=Fs(),s=pu(),{t:n}=ri(),o=tt(()=>r.items.appbar),a=()=>{t.event.emit("openKeyboardInstructions")},l=()=>s.teleported;return(c,f)=>(fe(),xe("div",afe,[ce("div",lfe,[f[0]||(f[0]=ce("div",{class:"sr-only screen-reader-alert"},null,-1)),ce("div",cfe,[ce("button",{type:"button",class:"bg-white hidden-until-focus z-50 shadow-md px-10",onClick:a},kt(Me(n)("keyboardInstructions.open")),1)]),Ke(ofe),Ke(Kce,{class:"panel-stack sm:flex absolute inset-0 overflow-hidden sm:p-12 z-10 sm:pl-80 xs:pl-40 sm:pb-48 xs:pb-28 xs:pr-0 sm:pr-40"}),o.value?Ht("",!0):(fe(),Vt(rfe,{key:0})),Ke(Qhe,{class:"z-30"})]),Me(i).started?(fe(),Vt(bce,{key:0})):(fe(),xe("div",ufe,f[1]||(f[1]=[ce("div",{class:"spinner relative inset-x-1/2 inset-y-9/20"},null,-1)]))),(fe(!0),xe(It,null,jl(l(),d=>(fe(),Vt(L3,{to:d.teleport?.target,key:d.id},[(fe(),Vt(X7,{key:`${d.id}`,panel:d},null,8,["panel"]))],8,["to"]))),128))]))}}),ffe=_a(hfe,[["__scopeId","data-v-ac36c3dd"]]);/*!
  * vue-tippy v6.4.4
  * (c) 2024 
  * @license MIT
  */var us="top",Xs="bottom",Qs="right",hs="left",aT="auto",S0=[us,Xs,Qs,hs],$f="start",Lm="end",dfe="clippingParents",uD="viewport",xd="popper",pfe="reference",AC=S0.reduce(function(e,t){return e.concat([t+"-"+$f,t+"-"+Lm])},[]),hD=[].concat(S0,[aT]).reduce(function(e,t){return e.concat([t,t+"-"+$f,t+"-"+Lm])},[]),mfe="beforeRead",yfe="read",gfe="afterRead",vfe="beforeMain",bfe="main",_fe="afterMain",wfe="beforeWrite",xfe="write",Efe="afterWrite",Sfe=[mfe,yfe,gfe,vfe,bfe,_fe,wfe,xfe,Efe];function Mo(e){return e?(e.nodeName||"").toLowerCase():null}function Un(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Mf(e){var t=Un(e).Element;return e instanceof t||e instanceof Element}function Ys(e){var t=Un(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function fD(e){if(typeof ShadowRoot>"u")return!1;var t=Un(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Afe(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var r=t.styles[i]||{},s=t.attributes[i]||{},n=t.elements[i];!Ys(n)||!Mo(n)||(Object.assign(n.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?n.removeAttribute(o):n.setAttribute(o,a===!0?"":a)}))})}function Tfe(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],n=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:i[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Ys(s)||!Mo(s)||(Object.assign(s.style,a),Object.keys(n).forEach(function(l){s.removeAttribute(l)}))})}}var dD={name:"applyStyles",enabled:!0,phase:"write",fn:Afe,effect:Tfe,requires:["computeStyles"]};function _o(e){return e.split("-")[0]}var Hc=Math.max,Xv=Math.min,Of=Math.round;function Cf(e,t){t===void 0&&(t=!1);var i=e.getBoundingClientRect(),r=1,s=1;if(Ys(e)&&t){var n=e.offsetHeight,o=e.offsetWidth;o>0&&(r=Of(i.width)/o||1),n>0&&(s=Of(i.height)/n||1)}return{width:i.width/r,height:i.height/s,top:i.top/s,right:i.right/r,bottom:i.bottom/s,left:i.left/r,x:i.left/r,y:i.top/s}}function lT(e){var t=Cf(e),i=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:r}}function pD(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&fD(i)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Oo(e){return Un(e).getComputedStyle(e)}function $fe(e){return["table","td","th"].indexOf(Mo(e))>=0}function ql(e){return((Mf(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ub(e){return Mo(e)==="html"?e:e.assignedSlot||e.parentNode||(fD(e)?e.host:null)||ql(e)}function TC(e){return!Ys(e)||Oo(e).position==="fixed"?null:e.offsetParent}function Mfe(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&Ys(e)){var r=Oo(e);if(r.position==="fixed")return null}for(var s=Ub(e);Ys(s)&&["html","body"].indexOf(Mo(s))<0;){var n=Oo(s);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||t&&n.willChange==="filter"||t&&n.filter&&n.filter!=="none")return s;s=s.parentNode}return null}function A0(e){for(var t=Un(e),i=TC(e);i&&$fe(i)&&Oo(i).position==="static";)i=TC(i);return i&&(Mo(i)==="html"||Mo(i)==="body"&&Oo(i).position==="static")?t:i||Mfe(e)||t}function cT(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Lp(e,t,i){return Hc(e,Xv(t,i))}function Ofe(e,t,i){var r=Lp(e,t,i);return r>i?i:r}function mD(){return{top:0,right:0,bottom:0,left:0}}function yD(e){return Object.assign({},mD(),e)}function gD(e,t){return t.reduce(function(i,r){return i[r]=e,i},{})}var Cfe=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,yD(typeof t!="number"?t:gD(t,S0))};function Ife(e){var t,i=e.state,r=e.name,s=e.options,n=i.elements.arrow,o=i.modifiersData.popperOffsets,a=_o(i.placement),l=cT(a),c=[hs,Qs].indexOf(a)>=0,f=c?"height":"width";if(!(!n||!o)){var d=Cfe(s.padding,i),p=lT(n),y=l==="y"?us:hs,v=l==="y"?Xs:Qs,b=i.rects.reference[f]+i.rects.reference[l]-o[l]-i.rects.popper[f],S=o[l]-i.rects.reference[l],E=A0(n),T=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,w=b/2-S/2,_=d[y],$=T-p[f]-d[v],M=T/2-p[f]/2+w,I=Lp(_,M,$),N=l;i.modifiersData[r]=(t={},t[N]=I,t.centerOffset=I-M,t)}}function Pfe(e){var t=e.state,i=e.options,r=i.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||pD(t.elements.popper,s)&&(t.elements.arrow=s))}var Nfe={name:"arrow",enabled:!0,phase:"main",fn:Ife,effect:Pfe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function If(e){return e.split("-")[1]}var Lfe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kfe(e){var t=e.x,i=e.y,r=window,s=r.devicePixelRatio||1;return{x:Of(t*s)/s||0,y:Of(i*s)/s||0}}function $C(e){var t,i=e.popper,r=e.popperRect,s=e.placement,n=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,d=e.isFixed,p=f===!0?kfe(o):typeof f=="function"?f(o):o,y=p.x,v=y===void 0?0:y,b=p.y,S=b===void 0?0:b,E=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),w=hs,_=us,$=window;if(c){var M=A0(i),I="clientHeight",N="clientWidth";if(M===Un(i)&&(M=ql(i),Oo(M).position!=="static"&&a==="absolute"&&(I="scrollHeight",N="scrollWidth")),M=M,s===us||(s===hs||s===Qs)&&n===Lm){_=Xs;var P=d&&$.visualViewport?$.visualViewport.height:M[I];S-=P-r.height,S*=l?1:-1}if(s===hs||(s===us||s===Xs)&&n===Lm){w=Qs;var F=d&&$.visualViewport?$.visualViewport.width:M[N];v-=F-r.width,v*=l?1:-1}}var z=Object.assign({position:a},c&&Lfe);if(l){var U;return Object.assign({},z,(U={},U[_]=T?"0":"",U[w]=E?"0":"",U.transform=($.devicePixelRatio||1)<=1?"translate("+v+"px, "+S+"px)":"translate3d("+v+"px, "+S+"px, 0)",U))}return Object.assign({},z,(t={},t[_]=T?S+"px":"",t[w]=E?v+"px":"",t.transform="",t))}function Rfe(e){var t=e.state,i=e.options,r=i.gpuAcceleration,s=r===void 0?!0:r,n=i.adaptive,o=n===void 0?!0:n,a=i.roundOffsets,l=a===void 0?!0:a,c={placement:_o(t.placement),variation:If(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,$C(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,$C(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Dfe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Rfe,data:{}},_y={passive:!0};function Ffe(e){var t=e.state,i=e.instance,r=e.options,s=r.scroll,n=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=Un(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&c.forEach(function(f){f.addEventListener("scroll",i.update,_y)}),a&&l.addEventListener("resize",i.update,_y),function(){n&&c.forEach(function(f){f.removeEventListener("scroll",i.update,_y)}),a&&l.removeEventListener("resize",i.update,_y)}}var Ufe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ffe,data:{}},jfe={left:"right",right:"left",bottom:"top",top:"bottom"};function Og(e){return e.replace(/left|right|bottom|top/g,function(t){return jfe[t]})}var Vfe={start:"end",end:"start"};function MC(e){return e.replace(/start|end/g,function(t){return Vfe[t]})}function uT(e){var t=Un(e),i=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:i,scrollTop:r}}function hT(e){return Cf(ql(e)).left+uT(e).scrollLeft}function Bfe(e){var t=Un(e),i=ql(e),r=t.visualViewport,s=i.clientWidth,n=i.clientHeight,o=0,a=0;return r&&(s=r.width,n=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,a=r.offsetTop)),{width:s,height:n,x:o+hT(e),y:a}}function Gfe(e){var t,i=ql(e),r=uT(e),s=(t=e.ownerDocument)==null?void 0:t.body,n=Hc(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Hc(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+hT(e),l=-r.scrollTop;return Oo(s||i).direction==="rtl"&&(a+=Hc(i.clientWidth,s?s.clientWidth:0)-n),{width:n,height:o,x:a,y:l}}function fT(e){var t=Oo(e),i=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+r)}function vD(e){return["html","body","#document"].indexOf(Mo(e))>=0?e.ownerDocument.body:Ys(e)&&fT(e)?e:vD(Ub(e))}function kp(e,t){var i;t===void 0&&(t=[]);var r=vD(e),s=r===((i=e.ownerDocument)==null?void 0:i.body),n=Un(r),o=s?[n].concat(n.visualViewport||[],fT(r)?r:[]):r,a=t.concat(o);return s?a:a.concat(kp(Ub(o)))}function $E(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function zfe(e){var t=Cf(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function OC(e,t){return t===uD?$E(Bfe(e)):Mf(t)?zfe(t):$E(Gfe(ql(e)))}function qfe(e){var t=kp(Ub(e)),i=["absolute","fixed"].indexOf(Oo(e).position)>=0,r=i&&Ys(e)?A0(e):e;return Mf(r)?t.filter(function(s){return Mf(s)&&pD(s,r)&&Mo(s)!=="body"&&(i?Oo(s).position!=="static":!0)}):[]}function Hfe(e,t,i){var r=t==="clippingParents"?qfe(e):[].concat(t),s=[].concat(r,[i]),n=s[0],o=s.reduce(function(a,l){var c=OC(e,l);return a.top=Hc(c.top,a.top),a.right=Xv(c.right,a.right),a.bottom=Xv(c.bottom,a.bottom),a.left=Hc(c.left,a.left),a},OC(e,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function bD(e){var t=e.reference,i=e.element,r=e.placement,s=r?_o(r):null,n=r?If(r):null,o=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,l;switch(s){case us:l={x:o,y:t.y-i.height};break;case Xs:l={x:o,y:t.y+t.height};break;case Qs:l={x:t.x+t.width,y:a};break;case hs:l={x:t.x-i.width,y:a};break;default:l={x:t.x,y:t.y}}var c=s?cT(s):null;if(c!=null){var f=c==="y"?"height":"width";switch(n){case $f:l[c]=l[c]-(t[f]/2-i[f]/2);break;case Lm:l[c]=l[c]+(t[f]/2-i[f]/2);break}}return l}function km(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=r===void 0?e.placement:r,n=i.boundary,o=n===void 0?dfe:n,a=i.rootBoundary,l=a===void 0?uD:a,c=i.elementContext,f=c===void 0?xd:c,d=i.altBoundary,p=d===void 0?!1:d,y=i.padding,v=y===void 0?0:y,b=yD(typeof v!="number"?v:gD(v,S0)),S=f===xd?pfe:xd,E=e.rects.popper,T=e.elements[p?S:f],w=Hfe(Mf(T)?T:T.contextElement||ql(e.elements.popper),o,l),_=Cf(e.elements.reference),$=bD({reference:_,element:E,strategy:"absolute",placement:s}),M=$E(Object.assign({},E,$)),I=f===xd?M:_,N={top:w.top-I.top+b.top,bottom:I.bottom-w.bottom+b.bottom,left:w.left-I.left+b.left,right:I.right-w.right+b.right},P=e.modifiersData.offset;if(f===xd&&P){var F=P[s];Object.keys(N).forEach(function(z){var U=[Qs,Xs].indexOf(z)>=0?1:-1,V=[us,Xs].indexOf(z)>=0?"y":"x";N[z]+=F[V]*U})}return N}function Wfe(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=i.boundary,n=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=l===void 0?hD:l,f=If(r),d=f?a?AC:AC.filter(function(v){return If(v)===f}):S0,p=d.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=d);var y=p.reduce(function(v,b){return v[b]=km(e,{placement:b,boundary:s,rootBoundary:n,padding:o})[_o(b)],v},{});return Object.keys(y).sort(function(v,b){return y[v]-y[b]})}function Yfe(e){if(_o(e)===aT)return[];var t=Og(e);return[MC(e),t,MC(t)]}function Jfe(e){var t=e.state,i=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!0:o,l=i.fallbackPlacements,c=i.padding,f=i.boundary,d=i.rootBoundary,p=i.altBoundary,y=i.flipVariations,v=y===void 0?!0:y,b=i.allowedAutoPlacements,S=t.options.placement,E=_o(S),T=E===S,w=l||(T||!v?[Og(S)]:Yfe(S)),_=[S].concat(w).reduce(function(je,ze){return je.concat(_o(ze)===aT?Wfe(t,{placement:ze,boundary:f,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:b}):ze)},[]),$=t.rects.reference,M=t.rects.popper,I=new Map,N=!0,P=_[0],F=0;F<_.length;F++){var z=_[F],U=_o(z),V=If(z)===$f,Z=[us,Xs].indexOf(U)>=0,u=Z?"width":"height",m=km(t,{placement:z,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),x=Z?V?Qs:hs:V?Xs:us;$[u]>M[u]&&(x=Og(x));var C=Og(x),B=[];if(n&&B.push(m[U]<=0),a&&B.push(m[x]<=0,m[C]<=0),B.every(function(je){return je})){P=z,N=!1;break}I.set(z,B)}if(N)for(var Y=v?3:1,de=function(ze){var at=_.find(function(Gt){var $t=I.get(Gt);if($t)return $t.slice(0,ze).every(function(yi){return yi})});if(at)return P=at,"break"},oe=Y;oe>0;oe--){var $e=de(oe);if($e==="break")break}t.placement!==P&&(t.modifiersData[r]._skip=!0,t.placement=P,t.reset=!0)}}var Zfe={name:"flip",enabled:!0,phase:"main",fn:Jfe,requiresIfExists:["offset"],data:{_skip:!1}};function CC(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function IC(e){return[us,Qs,Xs,hs].some(function(t){return e[t]>=0})}function Kfe(e){var t=e.state,i=e.name,r=t.rects.reference,s=t.rects.popper,n=t.modifiersData.preventOverflow,o=km(t,{elementContext:"reference"}),a=km(t,{altBoundary:!0}),l=CC(o,r),c=CC(a,s,n),f=IC(l),d=IC(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}var Xfe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Kfe};function Qfe(e,t,i){var r=_o(e),s=[hs,us].indexOf(r)>=0?-1:1,n=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,o=n[0],a=n[1];return o=o||0,a=(a||0)*s,[hs,Qs].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function ede(e){var t=e.state,i=e.options,r=e.name,s=i.offset,n=s===void 0?[0,0]:s,o=hD.reduce(function(f,d){return f[d]=Qfe(d,t.rects,n),f},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}var tde={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ede};function ide(e){var t=e.state,i=e.name;t.modifiersData[i]=bD({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var rde={name:"popperOffsets",enabled:!0,phase:"read",fn:ide,data:{}};function sde(e){return e==="x"?"y":"x"}function nde(e){var t=e.state,i=e.options,r=e.name,s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!1:o,l=i.boundary,c=i.rootBoundary,f=i.altBoundary,d=i.padding,p=i.tether,y=p===void 0?!0:p,v=i.tetherOffset,b=v===void 0?0:v,S=km(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),E=_o(t.placement),T=If(t.placement),w=!T,_=cT(E),$=sde(_),M=t.modifiersData.popperOffsets,I=t.rects.reference,N=t.rects.popper,P=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,F=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),z=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(M){if(n){var V,Z=_==="y"?us:hs,u=_==="y"?Xs:Qs,m=_==="y"?"height":"width",x=M[_],C=x+S[Z],B=x-S[u],Y=y?-N[m]/2:0,de=T===$f?I[m]:N[m],oe=T===$f?-N[m]:-I[m],$e=t.elements.arrow,je=y&&$e?lT($e):{width:0,height:0},ze=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:mD(),at=ze[Z],Gt=ze[u],$t=Lp(0,I[m],je[m]),yi=w?I[m]/2-Y-$t-at-F.mainAxis:de-$t-at-F.mainAxis,Dt=w?-I[m]/2+Y+$t+Gt+F.mainAxis:oe+$t+Gt+F.mainAxis,si=t.elements.arrow&&A0(t.elements.arrow),Xi=si?_==="y"?si.clientTop||0:si.clientLeft||0:0,j=(V=z?.[_])!=null?V:0,D=x+yi-j-Xi,W=x+Dt-j,ae=Lp(y?Xv(C,D):C,x,y?Hc(B,W):B);M[_]=ae,U[_]=ae-x}if(a){var ee,ue=_==="x"?us:hs,ye=_==="x"?Xs:Qs,L=M[$],k=$==="y"?"height":"width",G=L+S[ue],te=L-S[ye],se=[us,hs].indexOf(E)!==-1,ne=(ee=z?.[$])!=null?ee:0,H=se?G:L-I[k]-N[k]-ne+F.altAxis,K=se?L+I[k]+N[k]-ne-F.altAxis:te,Ae=y&&se?Ofe(H,L,K):Lp(y?H:G,L,y?K:te);M[$]=Ae,U[$]=Ae-L}t.modifiersData[r]=U}}var ode={name:"preventOverflow",enabled:!0,phase:"main",fn:nde,requiresIfExists:["offset"]};function ade(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function lde(e){return e===Un(e)||!Ys(e)?uT(e):ade(e)}function cde(e){var t=e.getBoundingClientRect(),i=Of(t.width)/e.offsetWidth||1,r=Of(t.height)/e.offsetHeight||1;return i!==1||r!==1}function ude(e,t,i){i===void 0&&(i=!1);var r=Ys(t),s=Ys(t)&&cde(t),n=ql(t),o=Cf(e,s),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!i)&&((Mo(t)!=="body"||fT(n))&&(a=lde(t)),Ys(t)?(l=Cf(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):n&&(l.x=hT(n))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function hde(e){var t=new Map,i=new Set,r=[];e.forEach(function(n){t.set(n.name,n)});function s(n){i.add(n.name);var o=[].concat(n.requires||[],n.requiresIfExists||[]);o.forEach(function(a){if(!i.has(a)){var l=t.get(a);l&&s(l)}}),r.push(n)}return e.forEach(function(n){i.has(n.name)||s(n)}),r}function fde(e){var t=hde(e);return Sfe.reduce(function(i,r){return i.concat(t.filter(function(s){return s.phase===r}))},[])}function dde(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function pde(e){var t=e.reduce(function(i,r){var s=i[r.name];return i[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,i},{});return Object.keys(t).map(function(i){return t[i]})}var PC={placement:"bottom",modifiers:[],strategy:"absolute"};function NC(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function mde(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,r=i===void 0?[]:i,s=t.defaultOptions,n=s===void 0?PC:s;return function(a,l,c){c===void 0&&(c=n);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},PC,n),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(E){var T=typeof E=="function"?E(f.options):E;b(),f.options=Object.assign({},n,f.options,T),f.scrollParents={reference:Mf(a)?kp(a):a.contextElement?kp(a.contextElement):[],popper:kp(l)};var w=fde(pde([].concat(r,f.options.modifiers)));return f.orderedModifiers=w.filter(function(_){return _.enabled}),v(),y.update()},forceUpdate:function(){if(!p){var E=f.elements,T=E.reference,w=E.popper;if(NC(T,w)){f.rects={reference:ude(T,A0(w),f.options.strategy==="fixed"),popper:lT(w)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(F){return f.modifiersData[F.name]=Object.assign({},F.data)});for(var _=0;_<f.orderedModifiers.length;_++){if(f.reset===!0){f.reset=!1,_=-1;continue}var $=f.orderedModifiers[_],M=$.fn,I=$.options,N=I===void 0?{}:I,P=$.name;typeof M=="function"&&(f=M({state:f,options:N,name:P,instance:y})||f)}}}},update:dde(function(){return new Promise(function(S){y.forceUpdate(),S(f)})}),destroy:function(){b(),p=!0}};if(!NC(a,l))return y;y.setOptions(c).then(function(S){!p&&c.onFirstUpdate&&c.onFirstUpdate(S)});function v(){f.orderedModifiers.forEach(function(S){var E=S.name,T=S.options,w=T===void 0?{}:T,_=S.effect;if(typeof _=="function"){var $=_({state:f,name:E,instance:y,options:w}),M=function(){};d.push($||M)}})}function b(){d.forEach(function(S){return S()}),d=[]}return y}}var yde=[Ufe,rde,Dfe,dD,tde,Zfe,ode,Nfe,Xfe],gde=mde({defaultModifiers:yde}),vde="tippy-box",_D="tippy-content",wD="tippy-backdrop",xD="tippy-arrow",ED="tippy-svg-arrow",Ac={passive:!0,capture:!0},SD=function(){return document.body};function l2(e,t,i){if(Array.isArray(e)){var r=e[t];return r??(Array.isArray(i)?i[t]:i)}return e}function dT(e,t){var i={}.toString.call(e);return i.indexOf("[object")===0&&i.indexOf(t+"]")>-1}function AD(e,t){return typeof e=="function"?e.apply(void 0,t):e}function LC(e,t){if(t===0)return e;var i;return function(r){clearTimeout(i),i=setTimeout(function(){e(r)},t)}}function bde(e,t){var i=Object.assign({},e);return t.forEach(function(r){delete i[r]}),i}function _de(e){return e.split(/\s+/).filter(Boolean)}function Oc(e){return[].concat(e)}function kC(e,t){e.indexOf(t)===-1&&e.push(t)}function wde(e){return e.filter(function(t,i){return e.indexOf(t)===i})}function TD(e){return e.split("-")[0]}function Pf(e){return[].slice.call(e)}function RC(e){return Object.keys(e).reduce(function(t,i){return e[i]!==void 0&&(t[i]=e[i]),t},{})}function Wc(){return document.createElement("div")}function jb(e){return["Element","Fragment"].some(function(t){return dT(e,t)})}function xde(e){return dT(e,"NodeList")}function pT(e){return dT(e,"MouseEvent")}function Ede(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function Sde(e){return jb(e)?[e]:xde(e)?Pf(e):Array.isArray(e)?e:Pf(document.querySelectorAll(e))}function c2(e,t){e.forEach(function(i){i&&(i.style.transitionDuration=t+"ms")})}function Rm(e,t){e.forEach(function(i){i&&i.setAttribute("data-state",t)})}function $D(e){var t,i=Oc(e),r=i[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function Ade(e,t){var i=t.clientX,r=t.clientY;return e.every(function(s){var n=s.popperRect,o=s.popperState,a=s.props,l=a.interactiveBorder,c=TD(o.placement),f=o.modifiersData.offset;if(!f)return!0;var d=c==="bottom"?f.top.y:0,p=c==="top"?f.bottom.y:0,y=c==="right"?f.left.x:0,v=c==="left"?f.right.x:0,b=n.top-r+d>l,S=r-n.bottom-p>l,E=n.left-i+y>l,T=i-n.right-v>l;return b||S||E||T})}function u2(e,t,i){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(s){e[r](s,i)})}function DC(e,t){for(var i=t;i;){var r;if(e.contains(i))return!0;i=i.getRootNode==null||(r=i.getRootNode())==null?void 0:r.host}return!1}var no={isTouch:!1},FC=0;function Tde(){no.isTouch||(no.isTouch=!0,window.performance&&document.addEventListener("mousemove",MD))}function MD(){var e=performance.now();e-FC<20&&(no.isTouch=!1,document.removeEventListener("mousemove",MD)),FC=e}function $de(){var e=document.activeElement;if(Ede(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function Mde(){document.addEventListener("touchstart",Tde,Ac),window.addEventListener("blur",$de)}var Ode=typeof window<"u"&&typeof document<"u",Cde=Ode?!!window.msCrypto:!1,Ide={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Pde={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},_n=Object.assign({appendTo:SD,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ide,Pde),Nde=Object.keys(_n),Lde=function(t){var i=Object.keys(t);i.forEach(function(r){_n[r]=t[r]})};function OD(e){var t=e.plugins||[],i=t.reduce(function(r,s){var n=s.name,o=s.defaultValue;if(n){var a;r[n]=e[n]!==void 0?e[n]:(a=_n[n])!=null?a:o}return r},{});return Object.assign({},e,i)}function kde(e,t){var i=t?Object.keys(OD(Object.assign({},_n,{plugins:t}))):Nde,r=i.reduce(function(s,n){var o=(e.getAttribute("data-tippy-"+n)||"").trim();if(!o)return s;if(n==="content")s[n]=o;else try{s[n]=JSON.parse(o)}catch{s[n]=o}return s},{});return r}function UC(e,t){var i=Object.assign({},t,{content:AD(t.content,[e])},t.ignoreAttributes?{}:kde(e,t.plugins));return i.aria=Object.assign({},_n.aria,i.aria),i.aria={expanded:i.aria.expanded==="auto"?t.interactive:i.aria.expanded,content:i.aria.content==="auto"?t.interactive?null:"describedby":i.aria.content},i}var Rde=function(){return"innerHTML"};function ME(e,t){e[Rde()]=t}function jC(e){var t=Wc();return e===!0?t.className=xD:(t.className=ED,jb(e)?t.appendChild(e):ME(t,e)),t}function VC(e,t){jb(t.content)?(ME(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?ME(e,t.content):e.textContent=t.content)}function Qv(e){var t=e.firstElementChild,i=Pf(t.children);return{box:t,content:i.find(function(r){return r.classList.contains(_D)}),arrow:i.find(function(r){return r.classList.contains(xD)||r.classList.contains(ED)}),backdrop:i.find(function(r){return r.classList.contains(wD)})}}function CD(e){var t=Wc(),i=Wc();i.className=vde,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var r=Wc();r.className=_D,r.setAttribute("data-state","hidden"),VC(r,e.props),t.appendChild(i),i.appendChild(r),s(e.props,e.props);function s(n,o){var a=Qv(t),l=a.box,c=a.content,f=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(n.content!==o.content||n.allowHTML!==o.allowHTML)&&VC(c,e.props),o.arrow?f?n.arrow!==o.arrow&&(l.removeChild(f),l.appendChild(jC(o.arrow))):l.appendChild(jC(o.arrow)):f&&l.removeChild(f)}return{popper:t,onUpdate:s}}CD.$$tippy=!0;var Dde=1,wy=[],h2=[];function Fde(e,t){var i=UC(e,Object.assign({},_n,OD(RC(t)))),r,s,n,o=!1,a=!1,l=!1,c=!1,f,d,p,y=[],v=LC(D,i.interactiveDebounce),b,S=Dde++,E=null,T=wde(i.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},_={id:S,reference:e,popper:Wc(),popperInstance:E,props:i,state:w,plugins:T,clearDelayTimeouts:H,setProps:K,setContent:Ae,show:ke,hide:Ft,hideWithInteractivity:zt,enable:se,disable:ne,unmount:li,destroy:Di};if(!i.render)return _;var $=i.render(_),M=$.popper,I=$.onUpdate;M.setAttribute("data-tippy-root",""),M.id="tippy-"+_.id,_.popper=M,e._tippy=_,M._tippy=_;var N=T.map(function(Q){return Q.fn(_)}),P=e.hasAttribute("aria-expanded");return si(),Y(),x(),C("onCreate",[_]),i.showOnCreate&&G(),M.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),M.addEventListener("mouseleave",function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&Z().addEventListener("mousemove",v)}),_;function F(){var Q=_.props.touch;return Array.isArray(Q)?Q:[Q,0]}function z(){return F()[0]==="hold"}function U(){var Q;return!!((Q=_.props.render)!=null&&Q.$$tippy)}function V(){return b||e}function Z(){var Q=V().parentNode;return Q?$D(Q):document}function u(){return Qv(M)}function m(Q){return _.state.isMounted&&!_.state.isVisible||no.isTouch||f&&f.type==="focus"?0:l2(_.props.delay,Q?0:1,_n.delay)}function x(Q){Q===void 0&&(Q=!1),M.style.pointerEvents=_.props.interactive&&!Q?"":"none",M.style.zIndex=""+_.props.zIndex}function C(Q,Te,Oe){if(Oe===void 0&&(Oe=!0),N.forEach(function(Qe){Qe[Q]&&Qe[Q].apply(Qe,Te)}),Oe){var We;(We=_.props)[Q].apply(We,Te)}}function B(){var Q=_.props.aria;if(Q.content){var Te="aria-"+Q.content,Oe=M.id,We=Oc(_.props.triggerTarget||e);We.forEach(function(Qe){var Fi=Qe.getAttribute(Te);if(_.state.isVisible)Qe.setAttribute(Te,Fi?Fi+" "+Oe:Oe);else{var fr=Fi&&Fi.replace(Oe,"").trim();fr?Qe.setAttribute(Te,fr):Qe.removeAttribute(Te)}})}}function Y(){if(!(P||!_.props.aria.expanded)){var Q=Oc(_.props.triggerTarget||e);Q.forEach(function(Te){_.props.interactive?Te.setAttribute("aria-expanded",_.state.isVisible&&Te===V()?"true":"false"):Te.removeAttribute("aria-expanded")})}}function de(){Z().removeEventListener("mousemove",v),wy=wy.filter(function(Q){return Q!==v})}function oe(Q){if(!(no.isTouch&&(l||Q.type==="mousedown"))){var Te=Q.composedPath&&Q.composedPath()[0]||Q.target;if(!(_.props.interactive&&DC(M,Te))){if(Oc(_.props.triggerTarget||e).some(function(Oe){return DC(Oe,Te)})){if(no.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else C("onClickOutside",[_,Q]);_.props.hideOnClick===!0&&(_.clearDelayTimeouts(),_.hide(),a=!0,setTimeout(function(){a=!1}),_.state.isMounted||at())}}}function $e(){l=!0}function je(){l=!1}function ze(){var Q=Z();Q.addEventListener("mousedown",oe,!0),Q.addEventListener("touchend",oe,Ac),Q.addEventListener("touchstart",je,Ac),Q.addEventListener("touchmove",$e,Ac)}function at(){var Q=Z();Q.removeEventListener("mousedown",oe,!0),Q.removeEventListener("touchend",oe,Ac),Q.removeEventListener("touchstart",je,Ac),Q.removeEventListener("touchmove",$e,Ac)}function Gt(Q,Te){yi(Q,function(){!_.state.isVisible&&M.parentNode&&M.parentNode.contains(M)&&Te()})}function $t(Q,Te){yi(Q,Te)}function yi(Q,Te){var Oe=u().box;function We(Qe){Qe.target===Oe&&(u2(Oe,"remove",We),Te())}if(Q===0)return Te();u2(Oe,"remove",d),u2(Oe,"add",We),d=We}function Dt(Q,Te,Oe){Oe===void 0&&(Oe=!1);var We=Oc(_.props.triggerTarget||e);We.forEach(function(Qe){Qe.addEventListener(Q,Te,Oe),y.push({node:Qe,eventType:Q,handler:Te,options:Oe})})}function si(){z()&&(Dt("touchstart",j,{passive:!0}),Dt("touchend",W,{passive:!0})),_de(_.props.trigger).forEach(function(Q){if(Q!=="manual")switch(Dt(Q,j),Q){case"mouseenter":Dt("mouseleave",W);break;case"focus":Dt(Cde?"focusout":"blur",ae);break;case"focusin":Dt("focusout",ae);break}})}function Xi(){y.forEach(function(Q){var Te=Q.node,Oe=Q.eventType,We=Q.handler,Qe=Q.options;Te.removeEventListener(Oe,We,Qe)}),y=[]}function j(Q){var Te,Oe=!1;if(!(!_.state.isEnabled||ee(Q)||a)){var We=((Te=f)==null?void 0:Te.type)==="focus";f=Q,b=Q.currentTarget,Y(),!_.state.isVisible&&pT(Q)&&wy.forEach(function(Qe){return Qe(Q)}),Q.type==="click"&&(_.props.trigger.indexOf("mouseenter")<0||o)&&_.props.hideOnClick!==!1&&_.state.isVisible?Oe=!0:G(Q),Q.type==="click"&&(o=!Oe),Oe&&!We&&te(Q)}}function D(Q){var Te=Q.target,Oe=V().contains(Te)||M.contains(Te);if(!(Q.type==="mousemove"&&Oe)){var We=k().concat(M).map(function(Qe){var Fi,fr=Qe._tippy,jn=(Fi=fr.popperInstance)==null?void 0:Fi.state;return jn?{popperRect:Qe.getBoundingClientRect(),popperState:jn,props:i}:null}).filter(Boolean);Ade(We,Q)&&(de(),te(Q))}}function W(Q){var Te=ee(Q)||_.props.trigger.indexOf("click")>=0&&o;if(!Te){if(_.props.interactive){_.hideWithInteractivity(Q);return}te(Q)}}function ae(Q){_.props.trigger.indexOf("focusin")<0&&Q.target!==V()||_.props.interactive&&Q.relatedTarget&&M.contains(Q.relatedTarget)||te(Q)}function ee(Q){return no.isTouch?z()!==Q.type.indexOf("touch")>=0:!1}function ue(){ye();var Q=_.props,Te=Q.popperOptions,Oe=Q.placement,We=Q.offset,Qe=Q.getReferenceClientRect,Fi=Q.moveTransition,fr=U()?Qv(M).arrow:null,jn=Qe?{getBoundingClientRect:Qe,contextElement:Qe.contextElement||V()}:e,wa={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Pu){var xa=Pu.state;if(U()){var Hb=u(),Nu=Hb.box;["placement","reference-hidden","escaped"].forEach(function(Hl){Hl==="placement"?Nu.setAttribute("data-placement",xa.placement):xa.attributes.popper["data-popper-"+Hl]?Nu.setAttribute("data-"+Hl,""):Nu.removeAttribute("data-"+Hl)}),xa.attributes.popper={}}}},No=[{name:"offset",options:{offset:We}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Fi}},wa];U()&&fr&&No.push({name:"arrow",options:{element:fr,padding:3}}),No.push.apply(No,Te?.modifiers||[]),_.popperInstance=gde(jn,M,Object.assign({},Te,{placement:Oe,onFirstUpdate:p,modifiers:No}))}function ye(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function L(){var Q=_.props.appendTo,Te,Oe=V();_.props.interactive&&Q===SD||Q==="parent"?Te=Oe.parentNode:Te=AD(Q,[Oe]),Te.contains(M)||Te.appendChild(M),_.state.isMounted=!0,ue()}function k(){return Pf(M.querySelectorAll("[data-tippy-root]"))}function G(Q){_.clearDelayTimeouts(),Q&&C("onTrigger",[_,Q]),ze();var Te=m(!0),Oe=F(),We=Oe[0],Qe=Oe[1];no.isTouch&&We==="hold"&&Qe&&(Te=Qe),Te?r=setTimeout(function(){_.show()},Te):_.show()}function te(Q){if(_.clearDelayTimeouts(),C("onUntrigger",[_,Q]),!_.state.isVisible){at();return}if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Q.type)>=0&&o)){var Te=m(!1);Te?s=setTimeout(function(){_.state.isVisible&&_.hide()},Te):n=requestAnimationFrame(function(){_.hide()})}}function se(){_.state.isEnabled=!0}function ne(){_.hide(),_.state.isEnabled=!1}function H(){clearTimeout(r),clearTimeout(s),cancelAnimationFrame(n)}function K(Q){if(!_.state.isDestroyed){C("onBeforeUpdate",[_,Q]),Xi();var Te=_.props,Oe=UC(e,Object.assign({},Te,RC(Q),{ignoreAttributes:!0}));_.props=Oe,si(),Te.interactiveDebounce!==Oe.interactiveDebounce&&(de(),v=LC(D,Oe.interactiveDebounce)),Te.triggerTarget&&!Oe.triggerTarget?Oc(Te.triggerTarget).forEach(function(We){We.removeAttribute("aria-expanded")}):Oe.triggerTarget&&e.removeAttribute("aria-expanded"),Y(),x(),I&&I(Te,Oe),_.popperInstance&&(ue(),k().forEach(function(We){requestAnimationFrame(We._tippy.popperInstance.forceUpdate)})),C("onAfterUpdate",[_,Q])}}function Ae(Q){_.setProps({content:Q})}function ke(){var Q=_.state.isVisible,Te=_.state.isDestroyed,Oe=!_.state.isEnabled,We=no.isTouch&&!_.props.touch,Qe=l2(_.props.duration,0,_n.duration);if(!(Q||Te||Oe||We)&&!V().hasAttribute("disabled")&&(C("onShow",[_],!1),_.props.onShow(_)!==!1)){if(_.state.isVisible=!0,U()&&(M.style.visibility="visible"),x(),ze(),_.state.isMounted||(M.style.transition="none"),U()){var Fi=u(),fr=Fi.box,jn=Fi.content;c2([fr,jn],0)}p=function(){var No;if(!(!_.state.isVisible||c)){if(c=!0,M.offsetHeight,M.style.transition=_.props.moveTransition,U()&&_.props.animation){var rd=u(),Pu=rd.box,xa=rd.content;c2([Pu,xa],Qe),Rm([Pu,xa],"visible")}B(),Y(),kC(h2,_),(No=_.popperInstance)==null||No.forceUpdate(),C("onMount",[_]),_.props.animation&&U()&&$t(Qe,function(){_.state.isShown=!0,C("onShown",[_])})}},L()}}function Ft(){var Q=!_.state.isVisible,Te=_.state.isDestroyed,Oe=!_.state.isEnabled,We=l2(_.props.duration,1,_n.duration);if(!(Q||Te||Oe)&&(C("onHide",[_],!1),_.props.onHide(_)!==!1)){if(_.state.isVisible=!1,_.state.isShown=!1,c=!1,o=!1,U()&&(M.style.visibility="hidden"),de(),at(),x(!0),U()){var Qe=u(),Fi=Qe.box,fr=Qe.content;_.props.animation&&(c2([Fi,fr],We),Rm([Fi,fr],"hidden"))}B(),Y(),_.props.animation?U()&&Gt(We,_.unmount):_.unmount()}}function zt(Q){Z().addEventListener("mousemove",v),kC(wy,v),v(Q)}function li(){_.state.isVisible&&_.hide(),_.state.isMounted&&(ye(),k().forEach(function(Q){Q._tippy.unmount()}),M.parentNode&&M.parentNode.removeChild(M),h2=h2.filter(function(Q){return Q!==_}),_.state.isMounted=!1,C("onHidden",[_]))}function Di(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),Xi(),delete e._tippy,_.state.isDestroyed=!0,C("onDestroy",[_]))}}function Le(e,t){t===void 0&&(t={});var i=_n.plugins.concat(t.plugins||[]);Mde();var r=Object.assign({},t,{plugins:i}),s=Sde(e),n=s.reduce(function(o,a){var l=a&&Fde(a,r);return l&&o.push(l),o},[]);return jb(e)?n[0]:n}Le.defaultProps=_n;Le.setDefaultProps=Lde;Le.currentInput=no;var Ude=Object.assign({},dD,{effect:function(t){var i=t.state,r={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(i.elements.popper.style,r.popper),i.styles=r,i.elements.arrow&&Object.assign(i.elements.arrow.style,r.arrow)}}),jde=function(t,i){var r;i===void 0&&(i={});var s=t,n=[],o=[],a,l=i.overrides,c=[],f=!1;function d(){o=s.map(function(_){return Oc(_.props.triggerTarget||_.reference)}).reduce(function(_,$){return _.concat($)},[])}function p(){n=s.map(function(_){return _.reference})}function y(_){s.forEach(function($){_?$.enable():$.disable()})}function v(_){return s.map(function($){var M=$.setProps;return $.setProps=function(I){M(I),$.reference===a&&_.setProps(I)},function(){$.setProps=M}})}function b(_,$){var M=o.indexOf($);if($!==a){a=$;var I=(l||[]).concat("content").reduce(function(N,P){return N[P]=s[M].props[P],N},{});_.setProps(Object.assign({},I,{getReferenceClientRect:typeof I.getReferenceClientRect=="function"?I.getReferenceClientRect:function(){var N;return(N=n[M])==null?void 0:N.getBoundingClientRect()}}))}}y(!1),p(),d();var S={fn:function(){return{onDestroy:function(){y(!0)},onHidden:function(){a=null},onClickOutside:function(M){M.props.showOnCreate&&!f&&(f=!0,a=null)},onShow:function(M){M.props.showOnCreate&&!f&&(f=!0,b(M,n[0]))},onTrigger:function(M,I){b(M,I.currentTarget)}}}},E=Le(Wc(),Object.assign({},bde(i,["overrides"]),{plugins:[S].concat(i.plugins||[]),triggerTarget:o,popperOptions:Object.assign({},i.popperOptions,{modifiers:[].concat(((r=i.popperOptions)==null?void 0:r.modifiers)||[],[Ude])})})),T=E.show;E.show=function(_){if(T(),!a&&_==null)return b(E,n[0]);if(!(a&&_==null)){if(typeof _=="number")return n[_]&&b(E,n[_]);if(s.indexOf(_)>=0){var $=_.reference;return b(E,$)}if(n.indexOf(_)>=0)return b(E,_)}},E.showNext=function(){var _=n[0];if(!a)return E.show(0);var $=n.indexOf(a);E.show(n[$+1]||_)},E.showPrevious=function(){var _=n[n.length-1];if(!a)return E.show(_);var $=n.indexOf(a),M=n[$-1]||_;E.show(M)};var w=E.setProps;return E.setProps=function(_){l=_.overrides||l,w(_)},E.setInstances=function(_){y(!0),c.forEach(function($){return $()}),s=_,y(!1),p(),d(),c=v(E),E.setProps({triggerTarget:o})},c=v(E),E},Vde={name:"animateFill",defaultValue:!1,fn:function(t){var i;if(!((i=t.props.render)!=null&&i.$$tippy))return{};var r=Qv(t.popper),s=r.box,n=r.content,o=t.props.animateFill?Bde():null;return{onCreate:function(){o&&(s.insertBefore(o,s.firstElementChild),s.setAttribute("data-animatefill",""),s.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var l=s.style.transitionDuration,c=Number(l.replace("ms",""));n.style.transitionDelay=Math.round(c/10)+"ms",o.style.transitionDuration=l,Rm([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&Rm([o],"hidden")}}}};function Bde(){var e=Wc();return e.className=wD,Rm([e],"hidden"),e}var OE={clientX:0,clientY:0},xy=[];function ID(e){var t=e.clientX,i=e.clientY;OE={clientX:t,clientY:i}}function Gde(e){e.addEventListener("mousemove",ID)}function zde(e){e.removeEventListener("mousemove",ID)}var qde={name:"followCursor",defaultValue:!1,fn:function(t){var i=t.reference,r=$D(t.props.triggerTarget||i),s=!1,n=!1,o=!0,a=t.props;function l(){return t.props.followCursor==="initial"&&t.state.isVisible}function c(){r.addEventListener("mousemove",p)}function f(){r.removeEventListener("mousemove",p)}function d(){s=!0,t.setProps({getReferenceClientRect:null}),s=!1}function p(b){var S=b.target?i.contains(b.target):!0,E=t.props.followCursor,T=b.clientX,w=b.clientY,_=i.getBoundingClientRect(),$=T-_.left,M=w-_.top;(S||!t.props.interactive)&&t.setProps({getReferenceClientRect:function(){var N=i.getBoundingClientRect(),P=T,F=w;E==="initial"&&(P=N.left+$,F=N.top+M);var z=E==="horizontal"?N.top:F,U=E==="vertical"?N.right:P,V=E==="horizontal"?N.bottom:F,Z=E==="vertical"?N.left:P;return{width:U-Z,height:V-z,top:z,right:U,bottom:V,left:Z}}})}function y(){t.props.followCursor&&(xy.push({instance:t,doc:r}),Gde(r))}function v(){xy=xy.filter(function(b){return b.instance!==t}),xy.filter(function(b){return b.doc===r}).length===0&&zde(r)}return{onCreate:y,onDestroy:v,onBeforeUpdate:function(){a=t.props},onAfterUpdate:function(S,E){var T=E.followCursor;s||T!==void 0&&a.followCursor!==T&&(v(),T?(y(),t.state.isMounted&&!n&&!l()&&c()):(f(),d()))},onMount:function(){t.props.followCursor&&!n&&(o&&(p(OE),o=!1),l()||c())},onTrigger:function(S,E){pT(E)&&(OE={clientX:E.clientX,clientY:E.clientY}),n=E.type==="focus"},onHidden:function(){t.props.followCursor&&(d(),f(),o=!0)}}}};function Hde(e,t){var i;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat((((i=e.popperOptions)==null?void 0:i.modifiers)||[]).filter(function(r){var s=r.name;return s!==t.name}),[t])})}}var Wde={name:"inlinePositioning",defaultValue:!1,fn:function(t){var i=t.reference;function r(){return!!t.props.inlinePositioning}var s,n=-1,o=!1,a=[],l={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(y){var v=y.state;r()&&(a.indexOf(v.placement)!==-1&&(a=[]),s!==v.placement&&a.indexOf(v.placement)===-1&&(a.push(v.placement),t.setProps({getReferenceClientRect:function(){return c(v.placement)}})),s=v.placement)}};function c(p){return Yde(TD(p),i.getBoundingClientRect(),Pf(i.getClientRects()),n)}function f(p){o=!0,t.setProps(p),o=!1}function d(){o||f(Hde(t.props,l))}return{onCreate:d,onAfterUpdate:d,onTrigger:function(y,v){if(pT(v)){var b=Pf(t.reference.getClientRects()),S=b.find(function(T){return T.left-2<=v.clientX&&T.right+2>=v.clientX&&T.top-2<=v.clientY&&T.bottom+2>=v.clientY}),E=b.indexOf(S);n=E>-1?E:n}},onHidden:function(){n=-1}}}};function Yde(e,t,i,r){if(i.length<2||e===null)return t;if(i.length===2&&r>=0&&i[0].left>i[1].right)return i[r]||t;switch(e){case"top":case"bottom":{var s=i[0],n=i[i.length-1],o=e==="top",a=s.top,l=n.bottom,c=o?s.left:n.left,f=o?s.right:n.right,d=f-c,p=l-a;return{top:a,bottom:l,left:c,right:f,width:d,height:p}}case"left":case"right":{var y=Math.min.apply(Math,i.map(function(M){return M.left})),v=Math.max.apply(Math,i.map(function(M){return M.right})),b=i.filter(function(M){return e==="left"?M.left===y:M.right===v}),S=b[0].top,E=b[b.length-1].bottom,T=y,w=v,_=w-T,$=E-S;return{top:S,bottom:E,left:T,right:w,width:_,height:$}}default:return t}}var Jde={name:"sticky",defaultValue:!1,fn:function(t){var i=t.reference,r=t.popper;function s(){return t.popperInstance?t.popperInstance.state.elements.reference:i}function n(c){return t.props.sticky===!0||t.props.sticky===c}var o=null,a=null;function l(){var c=n("reference")?s().getBoundingClientRect():null,f=n("popper")?r.getBoundingClientRect():null;(c&&BC(o,c)||f&&BC(a,f))&&t.popperInstance&&t.popperInstance.update(),o=c,a=f,t.state.isMounted&&requestAnimationFrame(l)}return{onMount:function(){t.props.sticky&&l()}}}};function BC(e,t){return e&&t?e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left:!0}Le.setDefaultProps({render:CD});Le.setDefaultProps({onShow:e=>{if(!e.props.content)return!1}});function mT(e,t={},i={mount:!0,appName:"Tippy"}){i=Object.assign({mount:!0,appName:"Tippy"},i);const r=Ri(),s=X(),n=X({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=ed();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),c=I=>{let N,P=ht(I)?I.value:I;return Pn(P)?(o.value||(o.value=Ol({name:i.appName,setup:()=>()=>ht(I)?I.value:I}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),N=()=>l()):typeof P=="object"?(o.value||(o.value=Ol({name:i.appName,setup:()=>()=>zs(ht(I)?I.value:I)}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),N=()=>l()):N=P,N},f=I=>{let N={};return ht(I)?N=I.value||{}:xs(I)?N={...I}:N={...I},N.content&&(N.content=c(N.content)),N.triggerTarget&&(N.triggerTarget=ht(N.triggerTarget)?N.triggerTarget.value:N.triggerTarget),(!N.plugins||!Array.isArray(N.plugins))&&(N.plugins=[]),N.plugins=N.plugins.filter(P=>P.name!=="vueTippyReactiveState"),N.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){n.value.isEnabled=!0},onMount(){n.value.isMounted=!0},onShow(){n.value.isMounted=!0,n.value.isVisible=!0},onShown(){n.value.isShown=!0},onHide(){n.value.isMounted=!1,n.value.isVisible=!1},onHidden(){n.value.isShown=!1},onUnmounted(){n.value.isMounted=!1},onDestroy(){n.value.isDestroyed=!0}})}),N},d=()=>{s.value&&s.value.setProps(f(t))},p=()=>{!s.value||!t.content||s.value.setContent(c(t.content))},y=I=>{var N;(N=s.value)===null||N===void 0||N.setContent(c(I))},v=I=>{var N;(N=s.value)===null||N===void 0||N.setProps(f(I))},b=()=>{var I;s.value&&(s.value.destroy(),s.value=void 0),a=null,(I=o.value)===null||I===void 0||I.unmount(),o.value=void 0},S=()=>{var I;(I=s.value)===null||I===void 0||I.show()},E=()=>{var I;(I=s.value)===null||I===void 0||I.hide()},T=()=>{var I;(I=s.value)===null||I===void 0||I.disable(),n.value.isEnabled=!1},w=()=>{var I;(I=s.value)===null||I===void 0||I.enable(),n.value.isEnabled=!0},_=()=>{var I;(I=s.value)===null||I===void 0||I.unmount()},$=()=>{if(!e)return;let I=ht(e)?e.value:e;typeof I=="function"&&(I=I()),I&&(s.value=Le(I,f(t)),I.$tippy=M)},M={tippy:s,refresh:d,refreshContent:p,setContent:y,setProps:v,destroy:b,hide:E,show:S,disable:T,enable:w,unmount:_,mount:$,state:n};return i.mount&&(r?r.isMounted?$():hr($):$()),r&&Ou(()=>{b()}),ht(t)||xs(t)?Ji(t,d,{immediate:!1}):ht(t.content)&&Ji(t.content,p,{immediate:!1}),M}function Zde(e,t){const i=X();return hr(()=>{const s=(Array.isArray(e)?e.map(n=>n.value):typeof e=="function"?e():e.value).map(n=>n instanceof Element?n._tippy:n).filter(Boolean);i.value=jde(s,t?{allowHTML:!0,...t}:{allowHTML:!0})}),{singleton:i}}function Kde(e){return typeof e=="function"?e():Me(e)}function Xde(e){var t,i;const r=Kde(e);return(i=(t=r)===null||t===void 0?void 0:t.$el)!==null&&i!==void 0?i:r}const Qde=rt({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>Le.defaultProps.appendTo},aria:{default:()=>Le.defaultProps.aria},delay:{default:()=>Le.defaultProps.delay},duration:{default:()=>Le.defaultProps.duration},getReferenceClientRect:{default:()=>Le.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>Le.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>Le.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>Le.defaultProps.interactive},interactiveBorder:{default:()=>Le.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>Le.defaultProps.interactiveDebounce},moveTransition:{default:()=>Le.defaultProps.moveTransition},offset:{default:()=>Le.defaultProps.offset},onAfterUpdate:{default:()=>Le.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>Le.defaultProps.onBeforeUpdate},onCreate:{default:()=>Le.defaultProps.onCreate},onDestroy:{default:()=>Le.defaultProps.onDestroy},onHidden:{default:()=>Le.defaultProps.onHidden},onHide:{default:()=>Le.defaultProps.onHide},onMount:{default:()=>Le.defaultProps.onMount},onShow:{default:()=>Le.defaultProps.onShow},onShown:{default:()=>Le.defaultProps.onShown},onTrigger:{default:()=>Le.defaultProps.onTrigger},onUntrigger:{default:()=>Le.defaultProps.onUntrigger},onClickOutside:{default:()=>Le.defaultProps.onClickOutside},placement:{default:()=>Le.defaultProps.placement},plugins:{default:()=>Le.defaultProps.plugins},popperOptions:{default:()=>Le.defaultProps.popperOptions},render:{default:()=>Le.defaultProps.render},showOnCreate:{type:Boolean,default:()=>Le.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>Le.defaultProps.touch},trigger:{default:()=>Le.defaultProps.trigger},triggerTarget:{default:()=>Le.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>Le.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>Le.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>Le.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>Le.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>Le.defaultProps.allowHTML},animation:{default:()=>Le.defaultProps.animation},arrow:{default:()=>Le.defaultProps.arrow},content:{default:()=>Le.defaultProps.content},inertia:{default:()=>Le.defaultProps.inertia},maxWidth:{default:()=>Le.defaultProps.maxWidth},role:{default:()=>Le.defaultProps.role},theme:{default:()=>Le.defaultProps.theme},zIndex:{default:()=>Le.defaultProps.zIndex}},emits:["state"],setup(e,{slots:t,emit:i,expose:r}){const s=X(),n=X(),o=X(),a=X(!1),l=()=>{let y={...e};for(const v of["to","tag","contentTag","contentClass"])y.hasOwnProperty(v)&&delete y[v];return y};let c=()=>Xde(s);e.to&&(typeof Element<"u"&&e.to instanceof Element?c=()=>e.to:e.to==="parent"?c=()=>{let y=s.value;return y||(y=s.value=n.value.parentElement),y}:(typeof e.to=="string"||e.to instanceof String)&&(c=()=>document.querySelector(e.to)));const f=mT(c,l());let d=t.content;!d&&e.to==="parent"&&(d=t.default),hr(()=>{a.value=!0,Dn(()=>{d&&f.setContent(()=>o.value)})}),Ji(f.state,()=>{i("state",Me(f.state))},{immediate:!0,deep:!0}),Ji(()=>e,()=>{f.setProps(l()),d&&f.setContent(()=>o.value)},{deep:!0});let p=rr({elem:s,contentElem:o,mounted:a,...f});return r(p),()=>{const y=(typeof e.contentTag=="string",e.contentTag),v=d?zs(y,{ref:o,style:{display:a.value?"inherit":"none"},class:e.contentClass},d(p)):null;if(e.to==="parent"){const E=[];if(!s.value){const T=zs("span",{ref:n,"data-v-tippy":"",style:{display:"none"}});E.push(T)}return v&&E.push(v),E}const b=t.default?t.default(p):[];if(!e.tag){const E=zs(b[0],{ref:s,"data-v-tippy":""});return v?[E,v]:E}const S=(typeof e.tag=="string",e.tag);return zs(S,{ref:s,"data-v-tippy":""},v?[b,v]:b)}}}),epe=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let CE={};Object.keys(Le.defaultProps).forEach(e=>{epe.includes(e)?CE[e]={type:Boolean,default:function(){return Le.defaultProps[e]}}:CE[e]={default:function(){return Le.defaultProps[e]}}});const tpe=rt({props:CE,setup(e){const t=X([]),{singleton:i}=Zde(t,e);return{instances:t,singleton:i}},mounted(){var e;const i=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(i).map(r=>r._tippy).filter(Boolean),(e=this.singleton)===null||e===void 0||e.setInstances(this.instances)},render(){let e=this.$slots.default?this.$slots.default():[];return zs(()=>e)}}),ipe={mounted(e,t,i){const r=typeof t.value=="string"?{content:t.value}:t.value||{},s=Object.keys(t.modifiers||{}),n=s.find(a=>a!=="arrow"),o=s.findIndex(a=>a==="arrow")!==-1;n&&(r.placement=r.placement||n),o&&(r.arrow=r.arrow!==void 0?r.arrow:!0),i.props&&i.props.onTippyShow&&(r.onShow=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),i.props&&i.props.onTippyShown&&(r.onShown=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),i.props&&i.props.onTippyHidden&&(r.onHidden=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),i.props&&i.props.onTippyHide&&(r.onHide=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),i.props&&i.props.onTippyMount&&(r.onMount=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),e.getAttribute("title")&&!r.content&&(r.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!r.content&&(r.content=e.getAttribute("content")),mT(e,r)},unmounted(e){e.$tippy?e.$tippy.destroy():e._tippy&&e._tippy.destroy()},updated(e,t){const i=typeof t.value=="string"?{content:t.value}:t.value||{};e.getAttribute("title")&&!i.content&&(i.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!i.content&&(i.content=e.getAttribute("content")),e.$tippy?e.$tippy.setProps(i||{}):e._tippy&&e._tippy.setProps(i||{})}},rpe={install(e,t={}){Le.setDefaultProps(t.defaultProps||{}),e.directive(t.directive||"tippy",ipe),e.component(t.component||"tippy",Qde),e.component(t.componentSingleton||"tippy-singleton",tpe)}},PD=Le.setDefaultProps;PD({ignoreAttributes:!0,plugins:[Jde,Wde,qde,Vde]});const spe=rt({name:"App",components:{Shell:ffe},setup(){const e=Ri();hr(()=>{new K7().observe(e?.proxy?.$refs["app-size"]),PD({aria:{content:"labelledby"},theme:"ramp4",animation:"scale",inertia:!0,trigger:"mouseenter manual focus",touch:["hold",200],delay:[300,0],appendTo:()=>document.fullscreenElement||document.body})})}}),npe=["lang"],ope={class:"h-full",ref:"app-size"};function ape(e,t,i,r,s,n){const o=wi("shell");return fe(),xe("div",{class:"ramp-app ramp-styles animation-enabled",lang:e.$i18n.locale},[ce("div",ope,[Ke(o)],512)],8,npe)}const lpe=_a(spe,[["render",ape]]),oo="focus-list",sc="focus-item",cpe="focus-icon",upe="focus-container",Wh=`[${oo}],[${upe}]`,Ey="truncate-text",Sy="show-truncate",Ah="focused",IE=`button,input,select,a,textarea,[contenteditable],[${oo}],[${cpe}],[tabIndex]`,hpe={mounted(e,t){+e.getAttribute("tabindex")<=0&&e.setAttribute("tabindex","0"),e.toggleAttribute(oo,!0),new fpe(e,t.value)},updated(e){ND(e)}};function ND(e){e.querySelectorAll(IE).forEach(i=>{if(i.closest(Wh)===e||i.closest(Wh)===i&&i.parentElement.closest(Wh)===e)if(i.closest(`[${oo}],.${Ah}`).classList.contains(Ah))i.setAttribute("tabindex","0");else{i.setAttribute("tabindex","-1");return}})}class fpe{element;highlightedItem;isHorizontal;isClicked;isTapped;constructor(t,i){this.element=t,this.highlightedItem=this.element,this.isHorizontal=i==="horizontal",this.isClicked=!1,this.isTapped=!1,this.setTabIndex(-1),this.element.setAttribute("role","group");const r=this;t.addEventListener("keydown",function(s){r.onKeydown(s)}),t.addEventListener("focus",function(){r.onFocus()}),t.addEventListener("blur",function(){r.onBlur()}),t.addEventListener("mousedown",function(){r.onMousedown()}),t.addEventListener("touchstart",function(){r.onTouchstart()}),t.addEventListener("refocusLegendItem",s=>{const o=s.detail.focusItem;r.element.focus(),r.focusItem(o),this.highlightedItem=o}),document.addEventListener("click",function(s){s.target&&t.contains(s.target)?r.onClick(s):r.defocusItem(r.highlightedItem)})}setTabIndex(t,i=this.element){i.querySelectorAll(IE).forEach(s=>{(t===-1||s.closest(Wh)===this.element||s.closest(Wh)===s&&s.parentElement.closest(Wh)===this.element||s.closest(`[${oo}],.${Ah}`).classList.contains(Ah))&&s.setAttribute("tabindex",t.toString())})}defocusItem(t){t.classList.remove(Ah),this.setTabIndex(-1,t),t._tippy&&t._tippy.hide(),t.getAttribute(sc)===Sy&&t.querySelector(`[${Ey}]`)?._tippy?.hide()}focusItem(t){t.classList.add(Ah),this.setAriaActiveDescendant(t),this.setTabIndex(0,t),t.scrollIntoView({block:"nearest"}),t._tippy&&!this.isTapped&&t._tippy.show(),t.getAttribute(sc)===Sy&&t.querySelector(`[${Ey}]`)?._tippy?.show(),this.isTapped=!1}setAriaActiveDescendant(t){this.element.setAttribute("aria-activedescendant",t.getAttribute("id"))}shiftHighlight(t,i=!1){if(this.defocusItem(this.highlightedItem),i)if(this.highlightedItem===this.element)this.highlightedItem=t[t.length-1];else{const r=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[r-1]||t[t.length-1]}else if(this.highlightedItem===this.element)this.highlightedItem=t[0];else{const r=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[r+1]||t[0]}this.element.focus(),this.focusItem(this.highlightedItem)}onKeydown(t){const i=this,r=Array.prototype.filter.call(this.element.querySelectorAll(`[${sc}]`),s=>s.closest(`[${oo}]`)===i.element&&!!s.offsetParent);if(r.length!==0)switch(t.key){case"Up":case"ArrowUp":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r,!0);break;case"Down":case"ArrowDown":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r);break;case"Left":case"ArrowLeft":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r,!0);break;case"Right":case"ArrowRight":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r);break;case"Esc":case"Escape":this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus());break;case"Enter":case" ":t.target===this.element&&this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.highlightedItem.click());break;case"Tab":const s=this.highlightedItem.querySelectorAll(IE).length===0,n=this.element.isEqualNode(t.target);this.highlightedItem!==this.element&&n&&(s&&this.defocusItem(this.highlightedItem),t.shiftKey&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus()))}}onClick(t){this.defocusItem(this.highlightedItem);let i=t.target;if(!i.hasAttribute(oo))for(;i.parentElement.closest(`[${oo}]`)!==this.element;)i=i.parentElement.closest(`[${oo}]`);this.highlightedItem=i.closest(`[${sc}]`)||i.closest(`[${oo}]`)||this.highlightedItem,i.hasAttribute(`${sc}`)&&this.element.focus(),this.highlightedItem!==this.element?this.focusItem(this.highlightedItem):this.element.removeAttribute("aria-activedescendant")}onFocus(){this.highlightedItem&&!this.isClicked&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.show(),this.highlightedItem.getAttribute(sc)===Sy&&this.highlightedItem.querySelector(`[${Ey}]`)?._tippy?.show()),this.isClicked=!1,this.element.hasAttribute("aria-activedescendant")||this.highlightedItem===this.element?this.highlightedItem!==this.element&&this.focusItem(this.highlightedItem):this.setAriaActiveDescendant(this.highlightedItem),ND(this.element),this.highlightedItem&&this.highlightedItem!==this.element&&this.highlightedItem.setAttribute("tabindex","-1")}onBlur(){this.highlightedItem&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.hide(),this.highlightedItem.getAttribute(sc)===Sy&&this.highlightedItem.querySelector(`[${Ey}]`)?._tippy?.hide())}onMousedown(){this.isClicked=!0}onTouchstart(){this.isTapped=!0}}const GC="focus-item",dpe={beforeMount(e,t){e.hasAttribute("id")||e.setAttribute("id",ppe()),t.value?e.setAttribute(GC,t.value):e.toggleAttribute(GC,!0)}};function ppe(){let e;do e="focus-item-"+Math.random().toString(36).substring(2,9);while(document.getElementById(e)!==null);return e}const yT="focus-container",LD="focus-list",mpe="focus-icon",f2=`[${LD}],[${yT}]`,zC=`button,input,select,a,textarea,[contenteditable],.ag-tab-guard,[${LD}],[${yT}],[${mpe}],[tabIndex]`;let d2=[];const ype={mounted(e){[...document.querySelectorAll(".inner-shell")].some(i=>i.contains(e))&&d2.push(new gpe(e))},beforeUnmount(e){d2=d2.filter(t=>t.element===e?(t.removeEventListeners(),!1):!0)}};class gpe{element;constructor(t){this.element=t,this.element.toggleAttribute(yT,!0),this.element.tabIndex=0,setTimeout(()=>this.disableTabbing(),600);const i=this;this.element.addEventListener("keypress",function(r){i.onKeypress(r)}),this.element.addEventListener("click",function(){i.onClick()}),this.element.addEventListener("focusout",function(r){i.onFocusOut(r)}),this.element.addEventListener("focus",function(){i.onFocus()})}removeEventListeners(){const t=this;this.element.removeEventListener("keypress",function(i){t.onKeypress(i)}),this.element.removeEventListener("click",function(){t.onClick()}),this.element.removeEventListener("focusout",function(i){t.onFocusOut(i)}),this.element.removeEventListener("focus",function(){t.onFocus()})}onKeypress(t){t.target===this.element&&(t.key==="Enter"||t.key===" ")&&this.enableTabbing().focus()}onClick(){this.enableTabbing()}onFocusOut(t){this.element.contains(t.relatedTarget)||this.disableTabbing()}onFocus(){this.disableTabbing()}disableTabbing(){Array.prototype.filter.call(this.element.querySelectorAll(zC),()=>!0).forEach(i=>{i.tabIndex=-1})}enableTabbing(){let t;return Array.prototype.map.call(this.element.querySelectorAll(zC),i=>{(i.closest(f2)===this.element||i.closest(f2)===i&&i.parentElement.closest(f2)===this.element)&&i.offsetParent&&(i.tabIndex=0,t===void 0&&(t=i))}),t}}const vpe="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5mögensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",bpe="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत_म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里_大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Nf=(e,t)=>{for(const i in t)e[i]=t[i];return e},PE="numeric",NE="ascii",LE="alpha",Cg="asciinumeric",Ay="alphanumeric",kE="domain",kD="emoji",_pe="scheme",wpe="slashscheme",qC="whitespace";function xpe(e,t){return e in t||(t[e]=[]),t[e]}function Dc(e,t,i){t[PE]&&(t[Cg]=!0,t[Ay]=!0),t[NE]&&(t[Cg]=!0,t[LE]=!0),t[Cg]&&(t[Ay]=!0),t[LE]&&(t[Ay]=!0),t[Ay]&&(t[kE]=!0),t[kD]&&(t[kE]=!0);for(const r in t){const s=xpe(r,i);s.indexOf(e)<0&&s.push(e)}}function Epe(e,t){const i={};for(const r in t)t[r].indexOf(e)>=0&&(i[r]=!0);return i}function gs(e){e===void 0&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}gs.groups={};gs.prototype={accepts(){return!!this.t},go(e){const t=this,i=t.j[e];if(i)return i;for(let r=0;r<t.jr.length;r++){const s=t.jr[r][0],n=t.jr[r][1];if(n&&s.test(e))return n}return t.jd},has(e,t){return t===void 0&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,i,r){for(let s=0;s<e.length;s++)this.tt(e[s],t,i,r)},tr(e,t,i,r){r=r||gs.groups;let s;return t&&t.j?s=t:(s=new gs(t),i&&r&&Dc(t,i,r)),this.jr.push([e,s]),s},ts(e,t,i,r){let s=this;const n=e.length;if(!n)return s;for(let o=0;o<n-1;o++)s=s.tt(e[o]);return s.tt(e[n-1],t,i,r)},tt(e,t,i,r){r=r||gs.groups;const s=this;if(t&&t.j)return s.j[e]=t,t;const n=t;let o,a=s.go(e);if(a?(o=new gs,Nf(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new gs,n){if(r)if(o.t&&typeof o.t=="string"){const l=Nf(Epe(o.t,r),i);Dc(n,l,r)}else i&&Dc(n,i,r);o.t=n}return s.j[e]=o,o}};const Re=(e,t,i,r,s)=>e.ta(t,i,r,s),Ps=(e,t,i,r,s)=>e.tr(t,i,r,s),HC=(e,t,i,r,s)=>e.ts(t,i,r,s),me=(e,t,i,r,s)=>e.tt(t,i,r,s),Jo="WORD",RE="UWORD",Dm="LOCALHOST",DE="TLD",FE="UTLD",Ig="SCHEME",hh="SLASH_SCHEME",e1="NUM",RD="WS",gT="NL",Th="OPENBRACE",Rp="OPENBRACKET",Dp="OPENANGLEBRACKET",Fp="OPENPAREN",Cc="CLOSEBRACE",$h="CLOSEBRACKET",Mh="CLOSEANGLEBRACKET",Ic="CLOSEPAREN",t1="AMPERSAND",i1="APOSTROPHE",r1="ASTERISK",sl="AT",s1="BACKSLASH",n1="BACKTICK",o1="CARET",ll="COLON",vT="COMMA",a1="DOLLAR",to="DOT",l1="EQUALS",bT="EXCLAMATION",io="HYPHEN",c1="PERCENT",u1="PIPE",h1="PLUS",f1="POUND",d1="QUERY",_T="QUOTE",wT="SEMI",Xo="SLASH",Up="TILDE",p1="UNDERSCORE",DD="EMOJI",m1="SYM";var FD=Object.freeze({__proto__:null,WORD:Jo,UWORD:RE,LOCALHOST:Dm,TLD:DE,UTLD:FE,SCHEME:Ig,SLASH_SCHEME:hh,NUM:e1,WS:RD,NL:gT,OPENBRACE:Th,OPENBRACKET:Rp,OPENANGLEBRACKET:Dp,OPENPAREN:Fp,CLOSEBRACE:Cc,CLOSEBRACKET:$h,CLOSEANGLEBRACKET:Mh,CLOSEPAREN:Ic,AMPERSAND:t1,APOSTROPHE:i1,ASTERISK:r1,AT:sl,BACKSLASH:s1,BACKTICK:n1,CARET:o1,COLON:ll,COMMA:vT,DOLLAR:a1,DOT:to,EQUALS:l1,EXCLAMATION:bT,HYPHEN:io,PERCENT:c1,PIPE:u1,PLUS:h1,POUND:f1,QUERY:d1,QUOTE:_T,SEMI:wT,SLASH:Xo,TILDE:Up,UNDERSCORE:p1,EMOJI:DD,SYM:m1});const Ju=/[a-z]/,p2=/\p{L}/u,m2=/\p{Emoji}/u,y2=/\d/,WC=/\s/,YC=`
`,Spe="️",Ape="‍";let Ty=null,$y=null;function Tpe(e){e===void 0&&(e=[]);const t={};gs.groups=t;const i=new gs;Ty==null&&(Ty=JC(vpe)),$y==null&&($y=JC(bpe)),me(i,"'",i1),me(i,"{",Th),me(i,"[",Rp),me(i,"<",Dp),me(i,"(",Fp),me(i,"}",Cc),me(i,"]",$h),me(i,">",Mh),me(i,")",Ic),me(i,"&",t1),me(i,"*",r1),me(i,"@",sl),me(i,"`",n1),me(i,"^",o1),me(i,":",ll),me(i,",",vT),me(i,"$",a1),me(i,".",to),me(i,"=",l1),me(i,"!",bT),me(i,"-",io),me(i,"%",c1),me(i,"|",u1),me(i,"+",h1),me(i,"#",f1),me(i,"?",d1),me(i,'"',_T),me(i,"/",Xo),me(i,";",wT),me(i,"~",Up),me(i,"_",p1),me(i,"\\",s1);const r=Ps(i,y2,e1,{[PE]:!0});Ps(r,y2,r);const s=Ps(i,Ju,Jo,{[NE]:!0});Ps(s,Ju,s);const n=Ps(i,p2,RE,{[LE]:!0});Ps(n,Ju),Ps(n,p2,n);const o=Ps(i,WC,RD,{[qC]:!0});me(i,YC,gT,{[qC]:!0}),me(o,YC),Ps(o,WC,o);const a=Ps(i,m2,DD,{[kD]:!0});Ps(a,m2,a),me(a,Spe,a);const l=me(a,Ape);Ps(l,m2,a);const c=[[Ju,s]],f=[[Ju,null],[p2,n]];for(let d=0;d<Ty.length;d++)Na(i,Ty[d],DE,Jo,c);for(let d=0;d<$y.length;d++)Na(i,$y[d],FE,RE,f);Dc(DE,{tld:!0,ascii:!0},t),Dc(FE,{utld:!0,alpha:!0},t),Na(i,"file",Ig,Jo,c),Na(i,"mailto",Ig,Jo,c),Na(i,"http",hh,Jo,c),Na(i,"https",hh,Jo,c),Na(i,"ftp",hh,Jo,c),Na(i,"ftps",hh,Jo,c),Dc(Ig,{scheme:!0,ascii:!0},t),Dc(hh,{slashscheme:!0,ascii:!0},t),e=e.sort((d,p)=>d[0]>p[0]?1:-1);for(let d=0;d<e.length;d++){const p=e[d][0],v=e[d][1]?{[_pe]:!0}:{[wpe]:!0};p.indexOf("-")>=0?v[kE]=!0:Ju.test(p)?y2.test(p)?v[Cg]=!0:v[NE]=!0:v[PE]=!0,HC(i,p,p,v)}return HC(i,"localhost",Dm,{ascii:!0}),i.jd=new gs(m1),{start:i,tokens:Nf({groups:t},FD)}}function $pe(e,t){const i=Mpe(t.replace(/[A-Z]/g,a=>a.toLowerCase())),r=i.length,s=[];let n=0,o=0;for(;o<r;){let a=e,l=null,c=0,f=null,d=-1,p=-1;for(;o<r&&(l=a.go(i[o]));)a=l,a.accepts()?(d=0,p=0,f=a):d>=0&&(d+=i[o].length,p++),c+=i[o].length,n+=i[o].length,o++;n-=d,o-=p,c-=d,s.push({t:f.t,v:t.slice(n-c,n),s:n-c,e:n})}return s}function Mpe(e){const t=[],i=e.length;let r=0;for(;r<i;){let s=e.charCodeAt(r),n,o=s<55296||s>56319||r+1===i||(n=e.charCodeAt(r+1))<56320||n>57343?e[r]:e.slice(r,r+2);t.push(o),r+=o.length}return t}function Na(e,t,i,r,s){let n;const o=t.length;for(let a=0;a<o-1;a++){const l=t[a];e.j[l]?n=e.j[l]:(n=new gs(r),n.jr=s.slice(),e.j[l]=n),e=n}return n=new gs(i),n.jr=s.slice(),e.j[t[o-1]]=n,n}function JC(e){const t=[],i=[];let r=0,s="0123456789";for(;r<e.length;){let n=0;for(;s.indexOf(e[r+n])>=0;)n++;if(n>0){t.push(i.join(""));let o=parseInt(e.substring(r,r+n),10);for(;o>0;o--)i.pop();r+=n}else e[r]==="_"?(t.push(i.join("")),r++):(i.push(e[r]),r++)}return t}const Fm={defaultProtocol:"http",events:null,format:ZC,formatHref:ZC,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function xT(e,t){t===void 0&&(t=null);let i=Nf({},Fm);e&&(i=Nf(i,e instanceof xT?e.o:e));const r=i.ignoreTags,s=[];for(let n=0;n<r.length;n++)s.push(r[n].toUpperCase());this.o=i,t&&(this.defaultRender=t),this.ignoreTags=s}xT.prototype={o:Fm,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,i){const r=t!=null;let s=this.o[e];return s&&(typeof s=="object"?(s=i.t in s?s[i.t]:Fm[e],typeof s=="function"&&r&&(s=s(t,i))):typeof s=="function"&&r&&(s=s(t,i.t,i)),s)},getObj(e,t,i){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,i.t,i)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function ZC(e){return e}function UD(e,t){this.t="token",this.v=e,this.tk=t}UD.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),i=e.get("truncate",t,this),r=e.get("format",t,this);return i&&r.length>i?r.substring(0,i)+"…":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return e===void 0&&(e=Fm.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,i=this.toFormattedHref(e),r=e.get("tagName",i,t),s=this.toFormattedString(e),n={},o=e.get("className",i,t),a=e.get("target",i,t),l=e.get("rel",i,t),c=e.getObj("attributes",i,t),f=e.getObj("events",i,t);return n.href=i,o&&(n.class=o),a&&(n.target=a),l&&(n.rel=l),c&&Nf(n,c),{tagName:r,attributes:n,content:s,eventListeners:f}}};function Vb(e,t){class i extends UD{constructor(s,n){super(s,n),this.t=e}}for(const r in t)i.prototype[r]=t[r];return i.t=e,i}const KC=Vb("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),XC=Vb("text"),Ope=Vb("nl"),nc=Vb("url",{isLink:!0,toHref(e){return e===void 0&&(e=Fm.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Dm&&e[1].t===ll}}),er=e=>new gs(e);function Cpe(e){let{groups:t}=e;const i=t.domain.concat([t1,r1,sl,s1,n1,o1,a1,l1,io,e1,c1,u1,h1,f1,Xo,m1,Up,p1]),r=[i1,Mh,Cc,$h,Ic,ll,vT,to,bT,Dp,Th,Rp,Fp,d1,_T,wT],s=[t1,i1,r1,s1,n1,o1,Cc,a1,l1,io,e1,Th,c1,u1,h1,f1,d1,Xo,m1,Up,p1],n=er(),o=me(n,Up);Re(o,s,o),Re(o,t.domain,o);const a=er(),l=er(),c=er();Re(n,t.domain,a),Re(n,t.scheme,l),Re(n,t.slashscheme,c),Re(a,s,o),Re(a,t.domain,a);const f=me(a,sl);me(o,sl,f),me(l,sl,f),me(c,sl,f);const d=me(o,to);Re(d,s,o),Re(d,t.domain,o);const p=er();Re(f,t.domain,p),Re(p,t.domain,p);const y=me(p,to);Re(y,t.domain,p);const v=er(KC);Re(y,t.tld,v),Re(y,t.utld,v),me(f,Dm,v);const b=me(p,io);Re(b,t.domain,p),Re(v,t.domain,p),me(v,to,y),me(v,io,b);const S=me(v,ll);Re(S,t.numeric,KC);const E=me(a,io),T=me(a,to);Re(E,t.domain,a),Re(T,s,o),Re(T,t.domain,a);const w=er(nc);Re(T,t.tld,w),Re(T,t.utld,w),Re(w,t.domain,a),Re(w,s,o),me(w,to,T),me(w,io,E),me(w,sl,f);const _=me(w,ll),$=er(nc);Re(_,t.numeric,$);const M=er(nc),I=er();Re(M,i,M),Re(M,r,I),Re(I,i,M),Re(I,r,I),me(w,Xo,M),me($,Xo,M);const N=me(l,ll),P=me(c,ll),F=me(P,Xo);me(F,Xo,N),Re(l,t.domain,a),me(l,to,T),me(l,io,E),Re(c,t.domain,a),me(c,to,T),me(c,io,E),Re(N,t.domain,M),me(N,Xo,M);const z=me(M,Th),U=me(M,Rp),V=me(M,Dp),Z=me(M,Fp);me(I,Th,z),me(I,Rp,U),me(I,Dp,V),me(I,Fp,Z),me(z,Cc,M),me(U,$h,M),me(V,Mh,M),me(Z,Ic,M),me(z,Cc,M);const u=er(nc),m=er(nc),x=er(nc),C=er(nc);Re(z,i,u),Re(U,i,m),Re(V,i,x),Re(Z,i,C);const B=er(),Y=er(),de=er(),oe=er();return Re(z,r),Re(U,r),Re(V,r),Re(Z,r),Re(u,i,u),Re(m,i,m),Re(x,i,x),Re(C,i,C),Re(u,r,u),Re(m,r,m),Re(x,r,x),Re(C,r,C),Re(B,i,B),Re(Y,i,m),Re(de,i,x),Re(oe,i,C),Re(B,r,B),Re(Y,r,Y),Re(de,r,de),Re(oe,r,oe),me(m,$h,M),me(x,Mh,M),me(C,Ic,M),me(u,Cc,M),me(Y,$h,M),me(de,Mh,M),me(oe,Ic,M),me(B,Ic,M),me(n,Dm,w),me(n,gT,Ope),{start:n,tokens:FD}}function Ipe(e,t,i){let r=i.length,s=0,n=[],o=[];for(;s<r;){let a=e,l=null,c=null,f=0,d=null,p=-1;for(;s<r&&!(l=a.go(i[s].t));)o.push(i[s++]);for(;s<r&&(c=l||a.go(i[s].t));)l=null,a=c,a.accepts()?(p=0,d=a):p>=0&&p++,s++,f++;if(p<0)s-=f,s<r&&(o.push(i[s]),s++);else{o.length>0&&(n.push(g2(XC,t,o)),o=[]),s-=p,f-=p;const y=d.t,v=i.slice(s-f,s);n.push(g2(y,t,v))}}return o.length>0&&n.push(g2(XC,t,o)),n}function g2(e,t,i){const r=i[0].s,s=i[i.length-1].e,n=t.slice(r,s);return new e(n,i)}const Lr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Ppe(){Lr.scanner=Tpe(Lr.customSchemes);for(let e=0;e<Lr.tokenQueue.length;e++)Lr.tokenQueue[e][1]({scanner:Lr.scanner});Lr.parser=Cpe(Lr.scanner.tokens);for(let e=0;e<Lr.pluginQueue.length;e++)Lr.pluginQueue[e][1]({scanner:Lr.scanner,parser:Lr.parser});Lr.initialized=!0}function Npe(e){return Lr.initialized||Ppe(),Ipe(Lr.parser.start,e,$pe(Lr.scanner.start,e))}var Lpe={amp:"&",gt:">",lt:"<",nbsp:" ",quot:'"'},kpe=/^#[xX]([A-Fa-f0-9]+)$/,Rpe=/^#([0-9]+)$/,Dpe=/^([A-Za-z0-9]+)$/,Fpe=function(){function e(t){this.named=t}return e.prototype.parse=function(t){if(t){var i=t.match(kpe);if(i)return String.fromCharCode(parseInt(i[1],16));if(i=t.match(Rpe),i)return String.fromCharCode(parseInt(i[1],10));if(i=t.match(Dpe),i)return this.named[i[1]]||"&"+i[1]+";"}},e}(),Upe=/[\t\n\f ]/,jpe=/[A-Za-z]/,Vpe=/\r\n?/g;function pr(e){return Upe.test(e)}function QC(e){return jpe.test(e)}function Bpe(e){return e.replace(Vpe,`
`)}var Gpe=function(){function e(t,i,r){r===void 0&&(r="precompile"),this.delegate=t,this.entityParser=i,this.mode=r,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var s=this.peek();if(s==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&s===`
`){var n=this.tagNameBuffer.toLowerCase();(n==="pre"||n==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var s=this.peek(),n=this.tagNameBuffer;s==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):s==="&"&&n!=="script"&&n!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(s))},tagOpen:function(){var s=this.consume();s==="!"?this.transitionTo("markupDeclarationOpen"):s==="/"?this.transitionTo("endTagOpen"):(s==="@"||s===":"||QC(s))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(s))},markupDeclarationOpen:function(){var s=this.consume();if(s==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var n=s.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();n==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var s=this.consume();pr(s)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var s=this.consume();pr(s)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase()))},doctypeName:function(){var s=this.consume();pr(s)?this.transitionTo("afterDoctypeName"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase())},afterDoctypeName:function(){var s=this.consume();if(!pr(s))if(s===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var n=s.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=n.toUpperCase()==="PUBLIC",a=n.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var s=this.peek();pr(s)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):s==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):s==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):s===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},doctypePublicIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},afterDoctypePublicIdentifier:function(){var s=this.consume();pr(s)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var s=this.consume();pr(s)||(s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},doctypeSystemIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},afterDoctypeSystemIdentifier:function(){var s=this.consume();pr(s)||s===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var s=this.consume();s==="-"?this.transitionTo("commentStartDash"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(s),this.transitionTo("comment"))},commentStartDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var s=this.consume();s==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(s)},commentEndDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+s),this.transitionTo("comment"))},commentEnd:function(){var s=this.consume();s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+s),this.transitionTo("comment"))},tagName:function(){var s=this.consume();pr(s)?this.transitionTo("beforeAttributeName"):s==="/"?this.transitionTo("selfClosingStartTag"):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(s)},endTagName:function(){var s=this.consume();pr(s)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):s==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(s)},beforeAttributeName:function(){var s=this.peek();if(pr(s)){this.consume();return}else s==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var s=this.peek();pr(s)?(this.transitionTo("afterAttributeName"),this.consume()):s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==='"'||s==="'"||s==="<"?(this.delegate.reportSyntaxError(s+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(s)):(this.consume(),this.delegate.appendToAttributeName(s))},afterAttributeName:function(){var s=this.peek();if(pr(s)){this.consume();return}else s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s))},beforeAttributeValue:function(){var s=this.peek();pr(s)?this.consume():s==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(s))},attributeValueDoubleQuoted:function(){var s=this.consume();s==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueSingleQuoted:function(){var s=this.consume();s==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueUnquoted:function(){var s=this.peek();pr(s)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):s===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(s))},afterAttributeValueQuoted:function(){var s=this.peek();pr(s)?(this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var s=this.peek();s===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var s=this.consume();(s==="@"||s===":"||QC(s))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(s))}},this.reset()}return e.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},e.prototype.transitionTo=function(t){this.state=t},e.prototype.tokenize=function(t){this.reset(),this.tokenizePart(t),this.tokenizeEOF()},e.prototype.tokenizePart=function(t){for(this.input+=Bpe(t);this.index<this.input.length;){var i=this.states[this.state];if(i!==void 0)i.call(this);else throw new Error("unhandled state "+this.state)}},e.prototype.tokenizeEOF=function(){this.flushData()},e.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},e.prototype.peek=function(){return this.input.charAt(this.index)},e.prototype.consume=function(){var t=this.peek();return this.index++,t===`
`?(this.line++,this.column=0):this.column++,t},e.prototype.consumeCharRef=function(){var t=this.input.indexOf(";",this.index);if(t!==-1){var i=this.input.slice(this.index,t),r=this.entityParser.parse(i);if(r){for(var s=i.length;s;)this.consume(),s--;return this.consume(),r}}},e.prototype.markTagStart=function(){this.delegate.tagOpen()},e.prototype.appendToTagName=function(t){this.tagNameBuffer+=t,this.delegate.appendToTagName(t)},e.prototype.isIgnoredEndTag=function(){var t=this.tagNameBuffer;return t==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||t==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||t==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},e}(),zpe=function(){function e(t,i){i===void 0&&(i={}),this.options=i,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new Gpe(this,t,i.mode),this._currentAttribute=void 0}return e.prototype.tokenize=function(t){return this.tokens=[],this.tokenizer.tokenize(t),this.tokens},e.prototype.tokenizePart=function(t){return this.tokens=[],this.tokenizer.tokenizePart(t),this.tokens},e.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},e.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},e.prototype.current=function(){var t=this.token;if(t===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return t;for(var i=0;i<arguments.length;i++)if(t.type===arguments[i])return t;throw new Error("token type was unexpectedly "+t.type)},e.prototype.push=function(t){this.token=t,this.tokens.push(t)},e.prototype.currentAttribute=function(){return this._currentAttribute},e.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},e.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},e.prototype.appendToDoctypeName=function(t){this.current("Doctype").name+=t},e.prototype.appendToDoctypePublicIdentifier=function(t){var i=this.current("Doctype");i.publicIdentifier===void 0?i.publicIdentifier=t:i.publicIdentifier+=t},e.prototype.appendToDoctypeSystemIdentifier=function(t){var i=this.current("Doctype");i.systemIdentifier===void 0?i.systemIdentifier=t:i.systemIdentifier+=t},e.prototype.endDoctype=function(){this.addLocInfo()},e.prototype.beginData=function(){this.push({type:"Chars",chars:""})},e.prototype.appendToData=function(t){this.current("Chars").chars+=t},e.prototype.finishData=function(){this.addLocInfo()},e.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},e.prototype.appendToCommentData=function(t){this.current("Comment").chars+=t},e.prototype.finishComment=function(){this.addLocInfo()},e.prototype.tagOpen=function(){},e.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},e.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},e.prototype.finishTag=function(){this.addLocInfo()},e.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},e.prototype.appendToTagName=function(t){this.current("StartTag","EndTag").tagName+=t},e.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},e.prototype.appendToAttributeName=function(t){this.currentAttribute()[0]+=t},e.prototype.beginAttributeValue=function(t){this.currentAttribute()[2]=t},e.prototype.appendToAttributeValue=function(t){this.currentAttribute()[1]+=t},e.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},e.prototype.reportSyntaxError=function(t){this.current().syntaxError=t},e}();function qpe(e,t){var i=new zpe(new Fpe(Lpe),t);return i.tokenize(e)}const jD="LinkifyResult",y1="StartTag",VD="EndTag",UE="Chars",Hpe="Comment",Wpe="Doctype";function Ype(e,t){t===void 0&&(t={});const i=qpe(e),r=[],s=[],n=new xT(t,Kpe);for(let o=0;o<i.length;o++){const a=i[o];if(a.type===y1){r.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||n.ignoreTags.indexOf(l)>=0))continue;let f=r.length;Zpe(l,i,++o,r),o+=r.length-f-1}else if(a.type!==UE)r.push(a);else{const l=Jpe(a.chars,n);r.push.apply(r,l)}}for(let o=0;o<r.length;o++){const a=r[o];switch(a.type){case jD:s.push(a.rendered);break;case y1:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+Qpe(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",s.push(l);break}case VD:s.push(`</${a.tagName}>`);break;case UE:s.push(jE(a.chars));break;case Hpe:s.push(`<!--${jE(a.chars)}-->`);break;case Wpe:{let l=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(l+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(l+=` "${a.systemIdentifier}"`),l+=">",s.push(l);break}}}return s.join("")}function Jpe(e,t){const i=Npe(e),r=[];for(let s=0;s<i.length;s++){const n=i[s];n.t==="nl"&&t.get("nl2br")?r.push({type:y1,tagName:"br",attributes:[],selfClosing:!0}):!n.isLink||!t.check(n)?r.push({type:UE,chars:n.toString()}):r.push({type:jD,rendered:t.render(n)})}return r}function Zpe(e,t,i,r){let s=1;for(;i<t.length&&s>0;){let n=t[i];n.type===y1&&n.tagName.toUpperCase()===e?s++:n.type===VD&&n.tagName.toUpperCase()===e&&s--,r.push(n),i++}return r}function Kpe(e){let{tagName:t,attributes:i,content:r}=e;return`<${t} ${Xpe(i)}>${jE(r)}</${t}>`}function jE(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function BD(e){return e.replace(/"/g,"&quot;")}function Xpe(e){const t=[];for(const i in e){const r=e[i]+"";t.push(`${i}="${BD(r)}"`)}return t.join(" ")}function Qpe(e){const t=[];for(let i=0;i<e.length;i++){const r=e[i][0],s=e[i][1]+"";t.push(`${r}="${BD(s)}"`)}return t}const eme="truncate-text",tme="truncate-trigger",ime={beforeMount(e,t){!e.classList.contains("truncate")&&!t.value?.noTruncateClass&&e.classList.add("truncate"),e.toggleAttribute(eme,!0)},mounted(e,t){let i;t.value&&t.value.externalTrigger&&(i=e.closest(`[${tme}]`)),mT(e,{content:eI(e.textContent),onShow:rme,allowHTML:!0,placement:"bottom-start",maxWidth:320,triggerTarget:i,...t.value?.options||{}})},updated(e,t){e._tippy&&(e._tippy.setContent(eI(e.textContent)),t.value&&t.value.options&&e._tippy.setProps(t.value.options))},unmounted(e){e._tippy&&e._tippy.destroy()}};function rme(e){if(!(e.reference.clientWidth<e.reference.scrollWidth||e.reference.clientHeight<e.reference.scrollHeight))return!1}function eI(e){if(e===null)return"";let t=Ype(e,{target:"_blank",validate:{url:i=>/^https?:\/\//.test(i)}});return t=`<div style='word-break: break-word;'>${t}</div>`,t}const sme=["content"],nme={key:0,class:"flex flex-shrink-0 items-center border-b border-solid border-gray-600 px-8 h-48 overflow-hidden"},ome={class:"flex-grow text-lg py-16 pl-8 min-w-0",tabIndex:"0"},ame={key:1},lme={key:0,class:"flex"},cme=["innerHTML"],ume={key:2,class:"px-8 py-16 border-t border-gray-400 default-focus-style"},hme=rt({__name:"panel-screen",props:{header:{type:Boolean,default:!0},content:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},panel:{type:Object,required:!0},screenId:{type:String,required:!1}},setup(e,{expose:t}){const{t:i}=ri(),r=pu(),s=qv(),n=ki("iApi"),o=$v("el"),a=$v("contentEl"),l=X();t({el:o});const c=e,f=tt(()=>n.fixture.get("appbar")?s.temporary:[]),d=tt(()=>r.mobileView),p=tt(()=>r.reorderable),y=E=>E.scrollHeight>E.clientHeight,v=()=>!d.value&&!c.panel.teleport,b=E=>{c.panel.move(E),E==="left"&&Dn(()=>{(o.value?.querySelector(".move-left")).focus()})},S=tt(()=>c.screenId?c.panel.screens[c.screenId][n.$i18n.locale.value??"en"]:null);return hr(()=>{o.value?.addEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.addEventListener("keyup",E=>{E.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value=new ResizeObserver(()=>{y(a.value)?a.value?.setAttribute("tabIndex","0"):a.value?.removeAttribute("tabIndex")}),l.value.observe(a.value)}),Fn(()=>{o.value?.removeEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.removeEventListener("keyup",E=>{E.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value.disconnect()}),(E,T)=>{const w=wi("back"),_=wi("panel-options-menu"),$=wi("left"),M=wi("right"),I=wi("pin"),N=wi("expand"),P=wi("minimize"),F=wi("close"),z=Tt("truncate"),U=Tt("focus-item"),V=Tt("tippy");return At((fe(),xe("div",{class:"h-full flex flex-col items-stretch",content:`<div style='word-break: break-word;'>${Me(i)(e.panel.alertName)+". "+Me(i)("panels.access")}</div>`,ref_key:"el",ref:o},[e.header?(fe(),xe("header",nme,[Ke(w,{class:mi(e.panel.teleport?"display-none":"block sm:display-none"),onClick:T[0]||(T[0]=Z=>e.panel.close())},null,8,["class"]),At((fe(),xe("h2",ome,[E.$slots.header?gn(E.$slots,"header",{key:0}):(fe(),xe("div",ame,kt(Me(i)(e.panel.alertName)),1))])),[[z]]),E.$slots.controls?(fe(),Vt(_,{key:0},{default:$i(()=>[gn(E.$slots,"controls")]),_:3})):Ht("",!0),ce("div",{class:mi(e.panel.teleport?"flex":"display-none sm:flex")},[e.panel.teleport?Ht("",!0):(fe(),xe("div",lme,[p.value?(fe(),Vt($,{key:0,onClick:T[1]||(T[1]=Z=>b("left")),active:!e.panel.isLeftMostPanel},null,8,["active"])):Ht("",!0),p.value?(fe(),Vt(M,{key:1,onClick:T[2]||(T[2]=Z=>b("right")),active:!e.panel.isRightMostPanel},null,8,["active"])):Ht("",!0),Ke(I,{onClick:T[3]||(T[3]=Z=>e.panel.pin()),active:e.panel.isPinned},null,8,["active"]),e.panel.controls&&e.panel.controls.expand?(fe(),Vt(N,{key:2,onClick:T[4]||(T[4]=Z=>e.panel.expand()),active:e.panel.expanded},null,8,["active"])):Ht("",!0)])),e.panel.button&&f.value?.includes(e.panel.id)?(fe(),Vt(P,{key:1,onClick:T[5]||(T[5]=Z=>e.panel.minimize())})):Ht("",!0),Ke(F,{onClick:T[6]||(T[6]=Z=>e.panel.close())})],2)])):Ht("",!0),e.content?(fe(),xe("div",{key:1,class:"p-8 flex-grow overflow-y-auto",ref_key:"contentEl",ref:a},[E.$slots.content?gn(E.$slots,"content",{key:0}):S.value?(fe(),xe("div",{key:1,innerHTML:S.value.innerHTML},null,8,cme)):Ht("",!0)],512)):Ht("",!0),e.footer?At((fe(),xe("div",ume,[gn(E.$slots,"footer")])),[[U]]):Ht("",!0)],8,sme)),[[V,{trigger:"manual",touch:!1,onShow:v,allowHTML:!0,maxWidth:e.panel.style["flex-basis"]??350,popperOptions:{placement:"top",modifiers:[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["top"]}}]}}]])}}}),fme={class:"relative"},dme=["content","aria-label"],pme=["transform"],mme=rt({__name:"pin",props:{active:Boolean},setup(e){const{t}=ri();return(i,r)=>{const s=Tt("tippy");return fe(),xe("div",fme,[At((fe(),xe("button",{type:"button",class:mi(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Me(t)(e.active?"panels.controls.unpin":"panels.controls.pin"),"aria-label":Me(t)(e.active?"panels.controls.unpin":"panels.controls.pin")},[(fe(),xe("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",transform:`rotate(${e.active?30:0})`},r[0]||(r[0]=[ce("path",{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},null,-1)]),8,pme))],10,dme)),[[s,{placement:"bottom",hideOnClick:!1}]])])}}}),yme={class:"relative"},gme=["content","aria-label"],vme=rt({__name:"close",props:{active:Boolean},setup(e){const{t}=ri();return(i,r)=>{const s=Tt("tippy");return fe(),xe("div",yme,[At((fe(),xe("button",{type:"button",class:mi(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Me(t)("panels.controls.close"),"aria-label":Me(t)("panels.controls.close")},r[0]||(r[0]=[ce("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},[ce("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})],-1)]),10,gme)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),bme={class:"relative"},_me=["content","aria-label"],wme=rt({__name:"back",props:{active:Boolean},setup(e){const{t}=ri();return(i,r)=>{const s=Tt("tippy");return fe(),xe("div",bme,[At((fe(),xe("button",{type:"button",class:mi(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Me(t)("panels.controls.back"),"aria-label":Me(t)("panels.controls.back")},r[0]||(r[0]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current w-16 h-16",viewBox:"0 0 16 16"},[ce("path",{d:"M20.485784919653916,7.578491965389372h-14.170000000000005l3.5800000000000054,-3.589999999999997l-1.409999999999993,-1.4099999999999984l-6.000000000000008,6.0000000000000275l6.000000000000008,6l1.409999999999993,-1.4100000000000001l-3.58,-3.59h14.170000000000007Z",transform:"matrix(0.865803 0 0 0.865803 -1.99071 0.638058)"})],-1)]),10,_me)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),xme={class:"w-32 h-32"},Eme=["content","aria-label"],Sme={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},Ame={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},Tme=rt({__name:"expand",props:{active:Boolean},setup(e){const{t}=ri();return(i,r)=>{const s=Tt("tippy");return fe(),xe("div",xme,[At((fe(),xe("button",{type:"button",class:"text-gray-500 hover:text-black focus:text-black w-full h-full flex justify-center items-center",content:Me(t)(`panels.controls.${e.active?"collapse":"expand"}`),"aria-label":Me(t)(`panels.controls.${e.active?"collapse":"expand"}`)},[e.active?(fe(),xe("svg",Ame,r[1]||(r[1]=[ce("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ce("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ce("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4z"},null,-1),ce("path",{d:"M4 12h16v2H4z"},null,-1)]))):(fe(),xe("svg",Sme,r[0]||(r[0]=[ce("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ce("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ce("path",{d:"M4 20h16v2H4zM4 2h16v2H4zm9 7h3l-4-4-4 4h3v6H8l4 4 4-4h-3z"},null,-1)])))],8,Eme)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale",hideOnClick:!1}]])])}}}),$me={class:"relative"},Mme=["content","aria-label"],Ome=rt({__name:"minimize",props:{active:Boolean},setup(e){const{t}=ri();return(i,r)=>{const s=Tt("tippy");return fe(),xe("div",$me,[At((fe(),xe("button",{type:"button",class:mi(["text-gray-500 hover:text-black focus:text-black p-6",{"text-gray-700":e.active}]),content:Me(t)("panels.controls.minimize"),"aria-label":Me(t)("panels.controls.minimize")},r[0]||(r[0]=[ce("svg",{class:"fill-current w-20 h-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ce("path",{d:"M0 0h24v24H0V0z",fill:"none"}),ce("path",{d:"M6 19h12v2H6z"})],-1)]),10,Mme)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Cme={class:"relative"},Ime=["content","aria-label"],Pme=rt({__name:"right",props:{active:Boolean},setup(e){const{t}=ri();return(i,r)=>{const s=Tt("tippy");return fe(),xe("div",Cme,[At((fe(),xe("button",{type:"button",class:mi(["p-8",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:Me(t)("panels.controls.moveRight"),"aria-label":Me(t)("panels.controls.moveRight")},r[0]||(r[0]=[ce("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ce("path",{d:"M 8.59 16.34 L 13.17 11.75 L 8.59 7.16 L 10 5.75 L 16 11.75 L 10 17.75 Z"})],-1)]),10,Ime)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Nme={class:"relative"},Lme=["content","aria-label"],kme=rt({__name:"left",props:{active:Boolean},setup(e){const{t}=ri();return(i,r)=>{const s=Tt("tippy");return fe(),xe("div",Nme,[At((fe(),xe("button",{type:"button",class:mi(["p-8 move-left",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:Me(t)("panels.controls.moveLeft"),"aria-label":Me(t)("panels.controls.moveLeft")},r[0]||(r[0]=[ce("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ce("path",{d:"M 15.41 16.09 L 10.83 11.5 L 15.41 6.91 L 14 5.5 L 8 11.5 L 14 17.5 Z"})],-1)]),10,Lme)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Rme=rt({__name:"panel-options-menu",setup(e){const{t}=ri();return(i,r)=>(fe(),Vt(oT,{class:"flex",tooltip:Me(t)("panels.controls.optionsMenu"),popperOptions:{strategy:"fixed"},position:"bottom-end"},{header:$i(()=>r[0]||(r[0]=[ce("div",{class:"p-6"},[ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20"},[ce("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)])),default:$i(()=>[gn(i.$slots,"default",{},void 0,!0)]),_:3},8,["tooltip"]))}}),Dme=_a(Rme,[["__scopeId","data-v-5a275ac2"]]),Fme={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},Ume={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},jme=rt({__name:"fullscreen-nav",setup(e){const{t}=ri(),i=ki("iApi"),r=()=>{i.toggleFullscreen()};return(s,n)=>{const o=wi("mapnav-button");return fe(),Vt(o,{onClickFunction:r,tooltip:Me(t)("mapnav.fullscreen")},{default:$i(()=>[Me(i).isFullscreen?(fe(),xe("svg",Fme,n[0]||(n[0]=[ce("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ce("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},null,-1)]))):(fe(),xe("svg",Ume,n[1]||(n[1]=[ce("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ce("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},null,-1)])))]),_:1},8,["tooltip"])}}}),Vme=rt({__name:"geolocator-nav",setup(e){const{t}=ri(),i=ki("iApi");let r=rr([]);const s=async()=>{if(r.length)n(r);else{const a=await o({maximumAge:1/0,timeout:5e3}).catch(l=>{l.code===GeolocationPositionError.PERMISSION_DENIED?i.notify.show(Es.ERROR,t("mapnav.geolocator.error.permission")):i.notify.show(Es.ERROR,t("mapnav.geolocator.error.internal"))});a&&(r=[a.coords.longitude,a.coords.latitude],n(r))}},n=a=>{const l=new jr("geolocation",a,Ve.latLongSR(),!0);i.geo.map.zoomMapTo(l)},o=a=>new Promise((l,c)=>navigator.geolocation.getCurrentPosition(l,c,a));return(a,l)=>{const c=wi("mapnav-button");return fe(),Vt(c,{onClickFunction:s,tooltip:Me(t)("mapnav.geolocator")},{default:$i(()=>l[0]||(l[0]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ce("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})],-1)])),_:1},8,["tooltip"])}}}),Bme=rt({__name:"home-nav",setup(e){const{t}=ri(),i=ki("iApi"),r=()=>{const s=i.geo.map.getExtentSet();i.geo.map.zoomMapTo(s.fullExtent)};return(s,n)=>{const o=wi("mapnav-button");return fe(),Vt(o,{onClickFunction:r,tooltip:Me(t)("mapnav.home")},{default:$i(()=>n[0]||(n[0]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ce("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),ce("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)])),_:1},8,["tooltip"])}}}),Gme={class:"relative w-32 h-32 text-gray-600 hover:text-black",tabindex:"-1"},zme=["content","aria-label"],qme=rt({__name:"button",props:{onClickFunction:{type:Function,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){return(t,i)=>{const r=Tt("focus-item"),s=Tt("tippy");return fe(),xe("div",Gme,[At((fe(),xe("button",{type:"button",class:"w-full h-full default-focus-style focus:outline-none",onClick:i[0]||(i[0]=n=>e.onClickFunction()),content:e.tooltip,"aria-label":typeof e.tooltip=="string"?e.tooltip:""},[gn(t.$slots,"default")],8,zme)),[[r],[s,{placement:"left"}]])])}}}),Hme={class:"relative",tabindex:"-1"},Wme=["aria-label","content"],Yme=rt({__name:"button",props:{onClickFunction:{type:Function,required:!0},buttonId:{type:String,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){const t=ki("iApi"),i=e,r=()=>t.event.emit(Ce.APPBAR_BUTTON_CLICK,i.buttonId);return(s,n)=>{const o=Tt("focus-item"),a=Tt("tippy");return fe(),xe("div",Hme,[At((fe(),xe("button",{type:"button",class:"py-6 w-full h-full",onClick:n[0]||(n[0]=()=>{e.onClickFunction(),r()}),"aria-label":String(e.tooltip),content:`<div style='word-break: break-word;'>${e.tooltip}</div>`},[gn(s.$slots,"default",{},void 0,!0)],8,Wme)),[[o],[a,{allowHTML:!0,placement:"right"}]])])}}}),Jme=_a(Yme,[["__scopeId","data-v-397fda05"]]),Zme=ai("areas-of-interest",()=>({areas:X([])})),Kme=ai("export",()=>{const e=X({title:!0,map:!0,mapElements:!0,legend:!0,footnote:!0,timestamp:!0}),t=X("");function i(r){if(e.value[r.name]!==void 0){const s=e.value[r.name];e.value[r.name]=r.selected!==void 0?r.selected:!s}}return{componentSelectedState:e,fileName:t,toggleSelected:i}}),Xme=ai("extentguard",()=>{const e=X(!1);function t(l){e.value=l}const i=X(!1);function r(l){i.value=l}const s=X(!1);function n(l){s.value=l}const o=X([]);function a(l){o.value=l}return{active:e,setActive:t,enforcing:i,setEnforcing:r,alwaysOn:s,setAlwaysOn:n,extentSetIds:o,setExtentSetIds:a}}),T0=function e(t){function i(s,n,o){var a,l={};if(Array.isArray(s))return s.concat(n);for(a in s)l[o?a.toLowerCase():a]=s[a];for(a in n){var c=o?a.toLowerCase():a,f=n[a];l[c]=c in l&&typeof f=="object"?i(l[c],f,c=="headers"):f}return l}function r(s,n,o,a,l){var c=typeof s!="string"?(n=s).url:s,f={config:n},d=i(t,n),p={};a=a||d.data,(d.transformRequest||[]).map(function(y){a=y(a,d.headers)||a}),d.auth&&(p.authorization=d.auth),a&&typeof a=="object"&&typeof a.append!="function"&&typeof a.text!="function"&&(a=JSON.stringify(a),p["content-type"]="application/json");try{p[d.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+d.xsrfCookieName+"=([^;]*)"))[2])}catch{}return d.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,d.baseURL+"/")),d.params&&(c+=(~c.indexOf("?")?"&":"?")+(d.paramsSerializer?d.paramsSerializer(d.params):new URLSearchParams(d.params))),(d.fetch||fetch)(c,{method:(o||d.method||"get").toUpperCase(),body:a,headers:i(d.headers,p,!0),credentials:d.withCredentials?"include":l}).then(function(y){for(var v in y)typeof y[v]!="function"&&(f[v]=y[v]);return d.responseType=="stream"?(f.data=y.body,f):y[d.responseType||"text"]().then(function(b){f.data=b,f.data=JSON.parse(b)}).catch(Object).then(function(){return(d.validateStatus?d.validateStatus(y.status):y.ok)?f:Promise.reject(f)})})}return t=t||{},r.request=r,r.get=function(s,n){return r(s,n,"get")},r.delete=function(s,n){return r(s,n,"delete")},r.head=function(s,n){return r(s,n,"head")},r.options=function(s,n){return r(s,n,"options")},r.post=function(s,n,o){return r(s,o,"post",n)},r.put=function(s,n,o){return r(s,o,"put",n)},r.patch=function(s,n,o){return r(s,o,"patch",n)},r.all=Promise.all.bind(Promise),r.spread=function(s){return s.apply.bind(s,s)},r.CancelToken=typeof AbortController=="function"?AbortController:Object,r.defaults=t,r.create=e,r}(),Qme={A:10,B:12,C:11,E:13,G:24,H:24,J:24,K:35,L:35,M:35,N:35,P:35,R:46,S:47,T:48,V:59,Y:60},e0e={10:"NL",11:"PE",12:"NS",13:"NB",24:"QC",35:"ON",46:"MB",47:"SK",48:"AB",59:"BC",60:"YU",61:"NT",62:"NU",72:"UF",73:"IW"};class t0e{provinceList=[];listFetched=!1;constructor(t){T0.get(t).then(i=>{this.provinceList=i.data.definitions.map(s=>{const n=parseInt(s.code);return{code:n,abbr:e0e[n],name:s.description}});const r={code:-1,abbr:"...",name:"..."};this.provinceList.push(r),this.provinceList.sort((s,n)=>s.name>n.name?1:-1),this.listFetched=!0})}codeToProvince(t){return this.provinceList.find(i=>i.code===t)}nameToProvince(t){return this.provinceList.find(i=>i.name===t)}fsaToProvince(t){let i;const r=t.toUpperCase(),s=r.substring(0,1);return s==="X"?r==="X0A"||r==="X0B"||r==="X0C"?i=62:i=61:i=Qme[s],this.codeToProvince(i)}}function i0e(e){return new t0e(e)}const My={en:{ADDRESS:"Street Address",FSA:"Forward Sortation Area",NTS:"National Topographic System",COORD:"Latitude/Longitude",SCALE:"Scale"},fr:{ADDRESS:"Adresse Municipale",FSA:"Région De Tri D'Acheminement",NTS:"Système National De Référence Cartographique",COORD:"Latitude/Longitude",SCALE:"Échelle"}};class r0e{allTypes={};validTypes={};filterComplete=!1;typesFetched=!1;constructor(t,i){T0.get(i).then(r=>{r.data.definitions.forEach(s=>{My[t][s.code]=s.term.split(`${s.code}-`)[1]}),Object.keys(My[t]).forEach(s=>{this.allTypes[s]=My[t][s],this.validTypes[s]=My[t][s]}),this.typesFetched=!0})}filterValidTypes(t){if(this.filterComplete)return this.validTypes;if(t=typeof t=="string"?[t]:t,t&&t.length>0)for(const i of t)delete this.validTypes[i];return this.filterComplete=!0,this.validTypes}}function s0e(e,t){return new r0e(e,t)}function Ln(e,t){return e.then(function(i){return[null,i]}).catch(function(i){return[i,void 0]})}class Oy{config;query;failedServs=[];results=[];constructor(t,i=""){this.query=i,this.config=t}addResult(t){Array.isArray(t)?this.results=this.results.concat(t):this.results.push(t)}}async function n0e(e,t){let i,r;const s=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)(\s*[,|;\s]\s*)[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)[*]$/,n=/^\d{2,3}[A-P]/,o=/^[ABCEGHJKLMNPRSTVXY]\d[A-Z]/;return s.test(t)&&!e.disabledSearchTypes.includes("LAT/LNG")?(r=t.slice(0,-1),i=new Oy(e,r),await l0e(i)):o.test(t)&&!e.disabledSearchTypes.includes("FSA")?(r=t.substring(0,3).toUpperCase(),i=new Oy(e,r),await c0e(i)):n.test(t)&&!e.disabledSearchTypes.includes("NTS")?(r=t.substring(0,6).toUpperCase(),i=new Oy(e,r),await u0e(i)):(r=encodeURIComponent(t.trim()),i=new Oy(e,r),await h0e(i)),i}const ET=async e=>{const[t,i]=await Ln(T0.get(e));return t?(console.error("Request error from "+e),console.error(t),Promise.reject("Could not load results from remote service.")):i.data},Bb=(e,t,i)=>[e+i,t-i,e-i,t+i],ST=(e,t,i,r)=>{let s="";const n=e.config;return t?s=n.geoLocateUrl+"?q="+e.query:(i&&r?s=`${n.geoNameUrl}?lat=${i}&lon=${r}&num=${n.maxResults}`:s=`${n.geoNameUrl}?q=${e.query}&num=${n.maxResults}`,n.categories.length>0&&(s+=`&concise=${n.categories.join(",")}`),n.officialOnly&&(s+="&category=O")),s},GD=(e,t)=>t.filter(i=>e.types.validTypes[i.concise.code]).map(i=>({name:i.name,flav:"nme",bbox:i.bbox,type:e.types.allTypes[i.concise.code],position:[i.longitude,i.latitude],location:{city:i.location,province:e.provinces.codeToProvince(parseInt(i.province.code))},order:e.sortOrder.indexOf(i.concise.code)>=0?e.sortOrder.indexOf(i.concise.code):e.sortOrder.length})),AT=async e=>{const[t,i]=await Ln(ET(ST(e,!0)));return t?(console.error("Geolocation service failed"),e.failedServs.push("geolocation"),[]):i},o0e=async e=>{const[t,i]=await Ln(ET(ST(e,!1)));let r;t?(console.error("GeoName service targeting Name failed"),e.failedServs.push("geoname"),r=[]):r=i.items,e.addResult(GD(e.config,r))},a0e=async(e,t,i)=>{const[r,s]=await Ln(ET(ST(e,!1,t,i)));let n;r?(console.error("GeoName service targeting Lat Lon failed"),e.failedServs.push("geoname"),n=[]):n=s.items,e.addResult(GD(e.config,n))},l0e=async e=>{const t=e.query.split(/[\s|,|;|]/).filter(n=>!isNaN(n)&&n!=="").map(n=>parseFloat(n)),i=t[0],r=t[1],s={name:`${i},${r}`,flav:"llg",location:{},type:"Latitude/Longitude",position:[r,i],bbox:Bb(r,i,.015),order:-1};await a0e(e,i,r),e.addResult(s)},c0e=async e=>{const t=e.config,i=await AT(e);if(i.length){const s=i[0].geometry.coordinates,n=s[1],o=s[0],a={name:e.query,flav:"fsa",bbox:Bb(o,n,.03),type:t.types.allTypes.FSA,position:[o,n],location:{province:t.provinces.fsaToProvince(e.query)},order:-1};e.addResult(a)}},u0e=async e=>{const t=e.config,i=await AT(e);if(i.length){const r=i[0],s=r.title.split(" "),n=s.shift()||"",o=s.join(" "),a=r.geometry.coordinates,l=a[1],c=a[0],f={name:n,flav:"nts",bbox:r.bbox??Bb(c,l,.03),type:t.types.allTypes.NTS,position:[c,l],location:{city:o},order:-1};e.addResult(f)}},h0e=async e=>{const t=e.config;if(await o0e(e),t.categories.length===0||t.categories.includes("ADDR")){const i=await AT(e),r=t.sortOrder.indexOf("ADDR"),s=r>=0?r:t.sortOrder.length,n=i.filter(o=>o.type?.includes("Street")).map(o=>{const[a,l,c]=o.title.split(", "),f=o.geometry.coordinates,d=f[1],p=f[0];return{name:a,flav:"add",bbox:Bb(p,d,.002),type:t.types.allTypes.ADDRESS,position:[p,d],location:{city:l.split(" Of ").pop(),province:t.provinces.nameToProvince(c)},order:s}});e.addResult(n)}},f0e="~FSA~",tI="https://geogratis.gc.ca/services/geolocation/@{language}/locate",iI="https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",rI="https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",sI="https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json";class nI{config;constructor(t,i){let r,s,n,o;const a=i?.serviceUrls;a?(r=a.geoLocation?a.geoLocation:tI,s=a.geoNames?a.geoNames:iI,n=a.geoProvince?a.geoProvince:rI,o=a.geoTypes?a.geoTypes:sI):(r=tI,s=iI,n=rI,o=sI),r=r.replace("@{language}",t),s=s.replace("@{language}",t),n=n.replace("@{language}",t),o=o.replace("@{language}",t);let l="";const c=i?.fsaBoundaries;if(c&&c.serviceUrl){const S=c.keyField||"CFSAUID";l=`${c.serviceUrl}/query/?where=${S}%3D'${f0e}'&outFields=${S}&returnGeometry=true&f=json`}const f=i?.settings;let d,p,y,v,b;f?(d=f.categories?f.categories:[],p=f.sortOrder?f.sortOrder:[],y=f.disabledSearchTypes?f.disabledSearchTypes:[],v=f.maxResults>0?f.maxResults:100,b=!!f.officialOnly):(d=[],p=[],y=[],v=100,b=!1),this.config={language:t,geoNameUrl:s,geoLocateUrl:r,fsaUrl:l,types:s0e(t,o),provinces:i0e(n),categories:d,sortOrder:p,disabledSearchTypes:y,maxResults:v,officialOnly:b},this.config.types.filterValidTypes(i?.excludeTypes),this._typeList=[],this._excludedTypes=i?.excludeTypes||[]}get typeList(){return this._typeList}set typeList(t){this._typeList=t}levenshteinDistance(t,i){i=i.toLowerCase().trim(),t=decodeURI(t.toLowerCase().replace("*",""));const r=[];for(let s=0;s<=i.length;s++){r[s]=[s];for(let n=1;n<=t.length;n++)r[s][n]=s===0?n:Math.min(r[s][n-1]+1,r[s-1][n]+.2,r[s-1][n-1]+(t[n-1]===i[s-1]?0:1))}return r[i.length][t.length]}async query(t){const i=await n0e(this.config,t.toUpperCase()),r=this.config.sortOrder.length,s=i.results.filter(l=>l.order<r),n=i.results.filter(l=>l.order>=r);s.sort((l,c)=>l.order-c.order);const o=this.config.maxResults;let a;return s.length>=o?a=s.slice(0,o):(n.forEach(l=>l.order=this.levenshteinDistance(i.query,l.name)),n.sort((l,c)=>l.order-c.order),a=s.concat(n.slice(0,o-s.length))),{results:a,failedServs:i.failedServs}}fetchProvinces(){return new Promise(t=>{const i=setInterval(()=>{this.config.provinces.listFetched&&(clearInterval(i),t(this.config.provinces.provinceList))},100)})}fetchTypes(){return new Promise(t=>{const i=setInterval(()=>{if(this.config.types.typesFetched){clearInterval(i);const r=[],s={code:-1,name:"..."};r.push(s);const n=this.config.types.allTypes;for(const o in n)this._excludedTypes.includes(o)||r.push({code:o,name:n[o]});this.typeList=r,t(this.typeList)}},100)})}}function oI(e,t,i){return e&&t.extent&&(i=i.filter(r=>r.bbox[0]<=t.extent.xmax&&r.bbox[1]<=t.extent.ymax&&r.bbox[2]>=t.extent.xmin&&r.bbox[3]>=t.extent.ymin)),t.province&&t.province!=="..."&&(i=i.filter(r=>r.location.province?.name&&r.location.province.name===t.province)),t.type&&t.type!=="..."&&(i=i.filter(r=>r.type===t.type)),i}const d0e=ai("geosearch",()=>{const e=X(new nI("en",void 0)),t=X({type:"",province:"",extent:void 0}),i=X(!1),r=X(""),s=X(""),n=X(""),o=X([]),a=X([]),l=X(!1),c=X([]),f=tt(()=>e.value.fetchProvinces()),d=tt(()=>new Promise(w=>{e.value.fetchTypes().then(_=>{_.sort(($,M)=>$.name>M.name?1:-1),w(_)})}));function p(w,_){e.value=new nI(w,_)}function y(w){l.value=!0;const _=r.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim();if(!_)o.value=[],a.value=[],l.value=!1;else if(_&&_!==n.value||w){const $=setInterval(()=>{e.value.config.provinces.listFetched&&e.value.config.types.typesFetched&&(clearInterval($),e.value.query(`${_}*`).then(M=>{c.value=M.failedServs,n.value=_,a.value=M.results;const I=oI(i.value,t.value,a.value);o.value=I||[],l.value=!1}))},250)}else{const $=oI(i.value,t.value,a.value);o.value=$||[],l.value=!1}}function v(w){t.value.province=typeof w.province>"u"?"":w.province,y(w.forceReRun)}function b(w){t.value.type=typeof w.type>"u"?"":w.type,y(w.forceReRun)}function S(w){n.value=r.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim(),r.value=w,y()}function E(w){const _={a:"àáâãäåāăąǎȁȃȧạảấầẩẫậắằẳẵặ",b:"ḃɓḅḇ",c:"çćĉċč",d:"ďḋḍḏḑḓ",e:"èéêëēĕėęěȅȇẹẻẽếềểễệ",f:"ƒḟ",g:"ĝğġģǧǵḡ",h:"ĥȟḣḥḧḩḫẖ",i:"ìíîïĩīĭįıȉȋịỉĩ",j:"ĵǰɉ",k:"ķĸƙḳḵ",l:"ĺļľŀłḷḹḻḽ",m:"ḿṁṃ",n:"ñńņňŉŋǹṅṇṉṋ",o:"òóôõöōŏőơǒǫǭȍȏȯọỏốồổỗộớờởỡợ",p:"ṕṗ",r:"ŕŗřȑȓṛṝṟ",s:"śŝşšșṡṣṥṧṩ",t:"ţťŧțṫṭṯṱẗ",u:"ùúûüũūŭůűųưǔǖǘǚǜȕȗụủứừửữự",v:"ṽṿ",w:"ẁẃŵẅẇẉẋ",x:"ẋẍ",y:"ỳýŷÿỹȳẏẙỵỷỹ",z:"źżžẑẓẕ"};w=w.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),s.value=Array.from(w).map($=>Object.keys(_).includes($)?"["+$+_[$]+"]":$.replace(/["$!*+?^{}()|[\]\\]/g,"").replace(/[.\\]/g,"\\$&").trim()).join("")}function T(w){if(w.visible!==void 0&&(i.value=w.visible),w.extent.sr.wkid!==4326)throw new Error("an extent that was not projected to wkid 4326 was passed to the geosearch store");t.value.extent=w.extent,y()}return{GSservice:e,queryParams:t,resultsVisible:i,searchVal:r,searchRegex:s,lastSearchVal:n,searchResults:o,savedResults:a,loadingResults:l,failedServices:c,getProvinces:f,getTypes:d,initService:p,runQuery:y,setProvince:v,setType:b,setSearchTerm:S,setSearchRegex:E,setMapExtent:T}}),p0e=ai("help",()=>({location:X("./help/")}));var zD=(e=>(e.Visibility="visibilityButton",e.Expand="expandButton",e))(zD||{}),VE=(e=>(e.Item="item",e.Placeholder="placeholder",e.Error="error",e))(VE||{});class qD extends Mi{_uid;_name;_type;_children=[];_parent=void 0;_loadPromise;_hidden;_expanded;_visibility;_exclusive;_controls;_disabledControls;_lastVisible;_visibleChildren;constructor(t,i,r){super(t),this._uid=Yh.sharedUtils.generateUUID(),this._name=i.name,this._type=i.type??"placeholder",this._parent=r,this._children=[],this._loadPromise=new Si,this._hidden=i.hidden??!1,this._expanded=i.expanded??!0,this._visibility=!0,this._exclusive=i.exclusive??!1,this._controls=i.controls?.slice()??["visibilityButton","expandButton"],this._disabledControls=i.disabledControls?.slice(),this._visibleChildren=[]}get uid(){return this._uid}get name(){return this._name}set name(t){this._name=t}get type(){return this._type}get children(){return this._children}set children(t){this._children=t}get parent(){return this._parent}set parent(t){this._parent=t}get loadPromise(){return this._loadPromise.getPromise()}get hidden(){return this._hidden}get expanded(){return this._expanded}get visibility(){return this._visibility}get exclusive(){return this._exclusive}controlAvailable(t){return this._disabledControls?.includes(t)?!1:this._controls?.includes(t)}setControl(t,i){i&&this._disabledControls?.includes(t)?(this._disabledControls=this._disabledControls.filter(r=>r!==t),this._controls?.push(t)):!i&&this._controls?.includes(t)&&(this._controls=this._controls.filter(r=>r!==t),this._disabledControls?.push(t))}toggleHidden(t){this._hidden=t??!this.hidden}toggleExpanded(t){this._expanded=t??!this.expanded}toggleVisibility(t,i=!0){if(this.visibility!==t){if(this._visibility=t??!this.visibility,!this.exclusive)this.visibility?this._visibleChildren.length>0?this._visibleChildren.forEach(r=>r.toggleVisibility(!0,!1)):this.children.forEach(r=>r.toggleVisibility(!0,!1)):this.children.forEach(r=>r.toggleVisibility(!1,!1));else if(this.visibility)if(this._lastVisible&&(!(this._lastVisible instanceof Ya)||this._lastVisible.layerControlAvailable(vi.Visibility)))this._lastVisible.toggleVisibility(!0);else{const r=this.children.find(s=>!(s instanceof Ya)||s.layerControlAvailable(vi.Visibility));r&&r.toggleVisibility(!0)}else this._lastVisible=this.children.find(r=>r.visibility),this._lastVisible?.toggleVisibility(!1);this.parent&&i&&this.parent.checkVisibility(this)}}checkVisibilityRules(){this.parent&&!this.parent.visibility?this.toggleVisibility(!1,!1):this.parent?.exclusive&&this.parent.children.some(i=>i.visibility&&i!==this&&i.type==="item")&&this.toggleVisibility(!1,!1)}checkVisibility(t){this instanceof Ya&&!this.layerControlAvailable(vi.Visibility)||(this.exclusive?t.visibility?(this.children.forEach(i=>{i.uid!==t.uid&&i.toggleVisibility(!1,!1)}),this._lastVisible=t,this._visibility=!0,this instanceof Ya&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this instanceof Ya&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1),this._lastVisible=t):this.children.some(i=>i.visibility)?(this._visibility=!0,this._visibleChildren=this.children.filter(i=>i.visibility),this instanceof Ya&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this._visibleChildren=[],this instanceof Ya&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1)),this.parent&&this.parent.checkVisibility(this))}getConfig(){const t={name:this._name,hidden:this._hidden,expanded:this._expanded,exclusive:this._exclusive,controls:this._controls,disabledControls:this._disabledControls},i=[];return this.children.forEach(r=>{i.push(r.getConfig())}),this.exclusive?t.exclusiveVisibility=i:t.children=i,t}onAdded(){}onRemoved(){this.toggleVisibility(!1)}load(){this._type="item",this._loadPromise.resolveMe(),this.checkVisibilityRules()}reload(){this._type="placeholder",this._loadPromise=new Si}error(){this._type!=="error"&&(this._type="error",this._loadPromise.getPromise().catch(()=>{}),this._loadPromise.rejectMe(),this.checkVisibilityRules())}}class Ya extends qD{_layerId;_layerIdx;_layerUid="";_isSublayer=!1;_layer;_layerInitVis;_layerRedrawing=!1;_layerOffscale=!1;_treeGrown=!1;_customSymbology=!1;_coverIcon;_description;_symbologyExpanded;_origLayerControls;_origLayerDisabledControls;_layerControls;_layerDisabledControls;_maxLines;_symbologyRenderStyle;_symbologyStack;handlers=[];constructor(t,i,r){if(super(t,i,r),this._type=VE.Placeholder,this._layerId=i.layerId,this._layerIdx=i.sublayerIndex,this._isSublayer=i.sublayerIndex!==void 0,this._layerControls=i.layerControls??[],this._origLayerControls=i.layerControls,this._layerDisabledControls=i.disabledLayerControls??[],this._origLayerDisabledControls=i.disabledLayerControls,this._layerRedrawing=!1,this._symbologyExpanded=i.symbologyExpanded||!1,i.coverIcon&&(this._coverIcon=i.coverIcon),i.description&&(this._description=i.description),this._symbologyRenderStyle=i.symbologyRenderStyle??"icons",this._customSymbology=!!i.symbologyStack,this._symbologyStack=i.symbologyStack?.map(s=>({uid:this.$iApi.geo.shared.generateUUID(),label:s.text,definitionClause:s.sqlQuery,imgUrl:s.image??"",drawPromise:Promise.resolve(),visibility:!0,lastVisibility:!0})),this._maxLines=i.maxLines&&[1,2,3,4,5,6].includes(i.maxLines)?i.maxLines:void 0,!this._name){const s=this.$iApi.getConfig()?.layers;if(s&&Array.isArray(s)){const n=s.find(o=>o.id===this._layerId);if(n)if(this._isSublayer){if(n.sublayers&&Array.isArray(n.sublayers)){const o=n.sublayers.find(a=>a.index===this._layerIdx);o&&o.name&&(this._name=o.name)}}else n.name&&(this._name=n.name)}}}get parentLayerId(){return this._isSublayer?this._layerId.slice(0,this._layerId.length-`-${this._layerIdx}`.length):void 0}get layerId(){return this._layerId}get layerIdx(){return this._layerIdx}get isSublayer(){return this._isSublayer}get layerUid(){return this._layerUid}get layer(){return this._layer}set layer(t){this._layer=t,this._layerId=t.id,this._layerIdx=t.isSublayer?t.layerIdx:void 0,this._layerUid=t.uid,this._name=this._name||t.name,this._symbologyStack=this._customSymbology?this._symbologyStack:t.legend,this.updateLayerControls()}get layerOffscale(){return this._layerOffscale}set layerOffscale(t){this._layerOffscale=t}get layerRedrawing(){return this._layerRedrawing}set layerRedrawing(t){this._layerRedrawing=t}get coverIcon(){return this._coverIcon}set coverIcon(t){this._coverIcon=t}get description(){return this._description}set description(t){this._description=t}get symbologyExpanded(){return this._symbologyExpanded}get treeGrown(){return this._treeGrown}set treeGrown(t){this._treeGrown=t}get origLayerControls(){return this._origLayerControls}get origDisabledLayerControls(){return this._origLayerDisabledControls}set symbologyRenderStyle(t){this._symbologyRenderStyle=t}get symbologyRenderStyle(){return this._symbologyRenderStyle}set symbologyStack(t){this._symbologyStack=t}get symbologyStack(){return this._symbologyStack}get maxLines(){return this._maxLines}getConfig(){const t={layerId:this._layerId,sublayerIndex:this._layerIdx,layerControls:this._layerControls,disabledLayerControls:this._layerDisabledControls,symbologyExpanded:this._symbologyExpanded,coverIcon:this._coverIcon,description:this._description,maxLines:this._maxLines};return{...super.getConfig(),...t}}toggleVisibility(t,i=!0,r=!1){if(!(!this.layerControlAvailable(vi.Visibility)&&!r)&&(super.toggleVisibility(t,i),this.layer&&this.layer.layerExists)){this.layer.visibility=this.visibility;const s=this._symbologyStack.some(n=>n.lastVisbility);this._symbologyStack.forEach(n=>{s||(n.lastVisbility=!0),n.visibility=this.visibility?n.lastVisbility:!1})}}toggleSymbology(t){return this._symbologyExpanded=t??!this._symbologyExpanded,this._symbologyExpanded}setSymbologyVisibility(t,i){this._symbologyStack.some(r=>((t===void 0||r.uid===t)&&(r.visibility=i,r.lastVisbility=i),t!==void 0&&r.uid===t))}load(t){const i=t instanceof MT?t:this.$iApi.geo.layer.getLayer(this._layerId??this._layerUid);i&&(this.layer=i,this._layerRedrawing=i.mapLayer&&i.drawState!==ts.UP_TO_DATE,i.loadPromise().then(()=>{this._layerInitVis=typeof this._layerInitVis<"u"?this._visibility:i.visibility,super.load(),this.toggleVisibility(this._layerInitVis,!0,!0),i.visibility||this.setSymbologyVisibility(void 0,!1),this.handlers.push(this.$iApi.event.on(Ce.LAYER_VISIBILITYCHANGE,r=>{r.layer.uid===this.layer.uid&&this._type===VE.Item&&this.toggleVisibility(r.visibility,!0,!0)})),this.handlers.push(this.$iApi.event.on(Ce.LAYER_DRAWSTATECHANGE,r=>{this.layer.uid===r.layer.uid&&(r.layer.drawState===ts.REFRESH?this.layerRedrawing=!0:setTimeout(()=>{this.layerRedrawing=r.layer.drawState===ts.REFRESH},500))})),this._layerOffscale=this.$iApi.geo.map.created?i.isOffscale():!1,this.handlers.push(this.$iApi.event.on(Ce.MAP_SCALECHANGE,()=>{this.$iApi.geo.map.created&&(this._layerOffscale=this.layer?.isOffscale())}))}).catch(()=>{this.error()}))}error(){this.updateLayerControls(),super.error()}layerControlAvailable(t){return this._layerDisabledControls?.includes(t)?!1:!!this._layerControls?.includes(t)}updateLayerControls(){const t=this.$iApi.geo.layer.getLayerControls(this.layerId)??this.$iApi.geo.layer.getLayerControls(this.parentLayerId??"");this._origLayerControls||(this._layerControls=t?.controls??[]),this._origLayerDisabledControls||(this._layerDisabledControls=t?.disabledControls??[])}}var m0e=(e=>(e.Title="title",e.Text="text",e.Image="image",e.Markdown="markdown",e.Template="template",e))(m0e||{});class aI extends qD{_infoType;_content;constructor(t,i,r){super(t,i,r),this._infoType=i.infoType??"title",this._content=i.content??"",i.infoType==="template"&&this.$element.component(`${this._uid}-info-section`,{template:this._content}),(i.infoType||i.content)&&(this._controls=i.controls?.slice()??[zD.Expand]),super.load()}get infoType(){return this._infoType}get content(){return this._content}set content(t){this._content=t}getConfig(){const t={infoType:this._infoType,content:this._content};return{...super.getConfig(),...t}}}const y0e=ai("legend",()=>{const e=X(),t=X([]),i=X([]),r=X(!0),s=X(3);function n(l){if(l.parent===void 0)t.value.push(l.item);else{if(!(l.item instanceof aI)&&!(l.item instanceof Ya)){console.error("attempted to add an unsupported legend item type");return}l.parent.children.push(l.item)}}function o(l){const c=f=>(f=f.filter(d=>(d===l&&!d.children.length&&d.onRemoved(),d!==l)),f.forEach(d=>{d.children=c(d.children)}),f=f.filter(d=>!(d instanceof aI&&!d.children.length&&d.content==="")),f);t.value=c(t.value)}function a(l){if(l.oldItem.parent===void 0){const c=t.value,f=c.indexOf(l.oldItem);f>-1&&(t.value[f]=l.newItem),t.value=c}else{const c=l.oldItem.parent.children,f=c.indexOf(l.oldItem);f>-1&&(c[f]=l.newItem),l.oldItem.parent.children=c}}return{legendConfig:e,multilineItems:r,maxLines:s,children:t,headerControls:i,addItem:n,removeItem:o,replaceItem:a}}),g0e=ai("mapnav",()=>{const e=X({}),t=X([]);function i(r){r in e.value&&delete e.value[r];const s=t.value.indexOf(r);s!==-1&&t.value.splice(s,1)}return{items:e,order:t,removeItem:i}}),v0e=ai("metadata",()=>{const e=X(""),t=X({type:"LineString",coordinates:[]});return{status:e,response:t}}),b0e=ai("northarrow",()=>{const e=X(""),t=X("");return{arrowIcon:e,poleIcon:t}}),_0e=ai("overviewmap",()=>{const e=X({lodSets:[],extentSets:[],basemaps:[],tileSchemas:[],initialBasemapId:""}),t=X({}),i=X(!0),r=X(1.5),s=X("#FF0000"),n=X(1),o=X("#000000"),a=X(.25);function l(c){e.value.initialBasemapId=c}return{mapConfig:e,basemaps:t,startMinimized:i,expandFactor:r,borderColour:s,borderWidth:n,areaColour:o,areaOpacity:a,updateInitialBasemap:l}}),w0e=ai("scrollguard",()=>{const e=X(!1);function t(i){e.value=i}return{enabled:e,setEnabled:t}});var yr=(e=>(e[e.UPLOAD=0]="UPLOAD",e[e.FORMAT=1]="FORMAT",e[e.CONFIGURE=2]="CONFIGURE",e))(yr||{});const x0e=ai("wizard",()=>{const e={id:"Placeholder",layerType:Pe.UNKNOWN,url:""},t=X(),i=X(""),r=X(""),s=X(!0),n=X(null),o=X({config:e,configOptions:[]}),a=X(yr.UPLOAD);function l(c){switch(a.value){case yr.UPLOAD:c===yr.UPLOAD?i.value="":c===yr.FORMAT&&(a.value=yr.FORMAT);break;case yr.FORMAT:c===yr.UPLOAD?(n.value&&(i.value="",n.value=null),r.value="",a.value=yr.UPLOAD):c===yr.CONFIGURE&&(a.value=yr.CONFIGURE);break;case yr.CONFIGURE:c===yr.UPLOAD?(i.value="",r.value="",n.value=null,s.value=!0,o.value={config:e,configOptions:[]},a.value=yr.UPLOAD):c===yr.FORMAT&&(o.value={config:e,configOptions:[]},s.value=!0,a.value=yr.FORMAT);break}}return{layerSource:t,url:i,typeSelection:r,nested:s,fileData:n,layerInfo:o,currStep:a,goToStep:l}});class E0e{fixture;panel;event;geo;notify;dev;ui;startRequired=!1;_eventsOn=!1;$vApp;$element;$i18n;$rootEl;_isFullscreen;constructor(t,i,r){this.event=new Xoe(this);const s=S0e(t,this);this.$vApp=s.app,this.$element=s.element,this.$i18n=s.i18n,this.$rootEl=s.app.$root?.$el,this.fixture=new Uye(this),this.panel=new jye(this),this.geo=new Dye(this),this.dev=new Hye(this),this.ui={maptip:this.geo.map.maptip,exposeOids:!1,exposeMeasurements:!0,getZoomIcon:()=>"",formatNumber:()=>"",scrollToInstance:!1,suppressNumberLocalization:!1,escapeHtml:()=>"",isPlainText:()=>!0},this.notify=new che(this),this._isFullscreen=zn.isEnabled&&!!this.$vApp.$root&&zn.isFullscreen&&zn.element===this.$vApp.$root.$el,zn.isEnabled&&zn.onchange(()=>{this._isFullscreen=zn.isEnabled&&!!this.$vApp.$root&&zn.isFullscreen&&zn.element===this.$vApp.$root.$el}),this.initialize(!0,i,r)}initialize(t,i,r){const s=ss(this.$vApp.$pinia),n=pu(this.$vApp.$pinia),o=Jv(this.$vApp.$pinia);if(i?.configs!==void 0){const l=Object.keys(this.$i18n.messages.value);s.registerAllConfigs(i,l);const c=s.registeredConfigs[s.registeredLangs[this.$i18n.locale.value]];s.newConfig(c),s.activeBasemapConfig=c.map.basemaps.find(v=>v.id===c.map.initialBasemapId);const f=setInterval(()=>{const v=this.$vApp.$el.querySelector("#esriMap");v&&(clearInterval(f),this.geo.map.createMap(c.map,v).then(()=>{if(v._tippy.hide(0),o.setMaptipInstance(v._tippy),c.layers&&c.layers.length>0){let b=0;c.layers.forEach(S=>{const E=this.geo.layer.createLayer(S);this.geo.map.addLayer(E,b).catch(()=>{}),E.mapLayer&&b++})}}))},100);if(c.panels){if(c.panels.open&&c.panels.open.length>0){const v=c.panels.open.map(b=>b.id);this.panel.isRegistered(v).then(()=>{c.panels?.open?.forEach(b=>{this.panel.open({id:b.id,screen:b.screen}),b.pin&&this.panel.pin(b.id)})})}n.reorderable=c.panels.reorderable??!0}!c.system?.animate&&this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.remove("animation-enabled"),c.system?.proxyUrl&&(this.geo.proxy=c.system.proxyUrl),c.system?.exposeOid&&(this.ui.exposeOids=c.system.exposeOid),c.system?.exposeMeasurements!=null&&(this.ui.exposeMeasurements=c.system.exposeMeasurements),c.system?.scrollToInstance&&(this.ui.scrollToInstance=c.system?.scrollToInstance),c.system?.suppressNumberLocalization&&(this.ui.suppressNumberLocalization=c.system?.suppressNumberLocalization);const d={magnify:'<svg class="m-auto" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></svg>',globe:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16" xml:space="preserve"><g transform="matrix(0.67 0 0 0.67 8 8)"><path style=" stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: #979797; fill-rule: nonzero; opacity: 1;" transform=" translate(-12, -12)" d="M 12 2 C 6.48 2 2 6.48 2 12 C 2 17.52 6.48 22 12 22 C 17.52 22 22 17.52 22 12 C 22 6.48 17.52 2 12 2 z M 11 19.93 C 7.05 19.44 4 16.08 4 12 C 4 11.38 4.08 10.79 4.21 10.21 L 9 15 L 9 16 C 9 17.1 9.9 18 11 18 L 11 19.93 z M 17.9 17.39 C 17.639999999999997 16.580000000000002 16.9 16 15.999999999999998 16 L 14.999999999999998 16 L 14.999999999999998 13 C 14.999999999999998 12.45 14.549999999999999 12 13.999999999999998 12 L 8 12 L 8 10 L 10 10 C 10.55 10 11 9.55 11 9 L 11 7 L 13 7 C 14.1 7 15 6.1 15 5 L 15 4.59 C 17.93 5.779999999999999 20 8.649999999999999 20 12 C 20 14.08 19.2 15.97 17.9 17.39 z" stroke-linecap="round" /></g></svg>'},p=c.system?.zoomIcon||"globe",y=d[p]||p;this.ui.getZoomIcon=()=>y,this.ui.formatNumber=v=>this.ui.suppressNumberLocalization?v.toString():this.$i18n.n(v,"number"),this.ui.escapeHtml=v=>{const b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return v.replace(/[<>"']/g,S=>b[S])},this.ui.isPlainText=v=>typeof v=="string"?!this.containsValidHtml(v)&&!this.representsObject(v):!1}r||(r={});const a=uh(this.$vApp.$pinia);r?.startRequired?(this.startRequired=!0,a.started=!1):(this.startRequired=!1,a.started=!0,this.event.emit(Ce.MAP_START)),t&&(r.loadDefaultFixtures!==!1||i?.startingFixtures!==void 0)?this.fixture.addDefaultFixtures(i?.startingFixtures):t||this.fixture.restore(),r.loadDefaultEvents!==!1&&!this._eventsOn&&(this.event.addDefaultEvents(),this._eventsOn=!0)}reloadWorker(t,i){const r=uh(this.$vApp.$pinia),s=bo(this.$vApp.$pinia),n=ss(this.$vApp.$pinia),o=Fs(this.$vApp.$pinia),a=co(this.$vApp.$pinia),l=fE(this.$vApp.$pinia),c=!!t;c?Object.keys(o.items).forEach(p=>{this.fixture.exists(p)&&this.fixture.remove(p)}):this.fixture.flush(),Object.keys(l.grids).forEach(d=>{l.removeGrid(d)}),r.started=!1,this.geo.map.destroyMap(),a.$reset(),i?.loadDefaultEvents===!1&&(this.event.removeDefaultEvents(),this._eventsOn=!1),c||(t=JSON.parse(JSON.stringify({startingFixtures:n.startingFixtures,configs:n.registeredConfigs}))),s.clearAll(),this.geo.map.maptip.clear(),this.initialize(c,t,i),c&&this.event.emit(Ce.CONFIG_CHANGE,this.getConfig())}reload(t,i){this.reloadWorker(t,i),this.event.emit(Ce.RAMP_RELOAD)}component(t,i){if(i){const r=this.$element.component(t,i);return this.event.emit(Ce.COMPONENT,t),r}return this.$element.component(t)}get screenSize(){if(!this.$vApp?.$root||!this.$vApp.$root.$refs["app-size"])return null;const t=this.$vApp.$root.$refs["app-size"].classList;return t.contains("lg")?"lg":t.contains("md")?"md":t.contains("sm")?"sm":"xs"}getConfig(){const t=ss(this.$vApp.$pinia);return JSON.parse(JSON.stringify(t.getActiveConfig(this.language)))}useStore(t){if(!(["appbar","areas-of-interest","details","export","extentguard","geosearch","grid","help","legend","mapnav","metadata","northarrow","overviewmap","scrollguard","wizard"].includes(t)&&!this.fixture.exists(t)))switch(t){case"appbar":return qv(this.$vApp.$pinia);case"areas-of-interest":return Zme(this.$vApp.$pinia);case"details":return o7(this.$vApp.$pinia);case"export":return Kme(this.$vApp.$pinia);case"extentguard":return Xme(this.$vApp.$pinia);case"geosearch":return d0e(this.$vApp.$pinia);case"grid":return fE(this.$vApp.$pinia);case"help":return p0e(this.$vApp.$pinia);case"legend":return y0e(this.$vApp.$pinia);case"mapnav":return g0e(this.$vApp.$pinia);case"metadata":return v0e(this.$vApp.$pinia);case"northarrow":return b0e(this.$vApp.$pinia);case"overviewmap":return _0e(this.$vApp.$pinia);case"scrollguard":return w0e(this.$vApp.$pinia);case"wizard":return x0e(this.$vApp.$pinia);case"config":return ss(this.$vApp.$pinia);case"fixture":return Fs(this.$vApp.$pinia);case"instance":return uh(this.$vApp.$pinia);case"layer":return co(this.$vApp.$pinia);case"map-caption":return dl(this.$vApp.$pinia);case"maptip":return Jv(this.$vApp.$pinia);case"notification":return bo(this.$vApp.$pinia);case"panel":return pu(this.$vApp.$pinia);default:console.error(`The store ${t} does not exist.`);return}}setLanguage(t){if(this.$i18n.locale.value===t)return;const i=ss(this.$vApp.$pinia),r=bo(this.$vApp.$pinia),s=i.registeredLangs;Object.keys(i.registeredConfigs).length===1&&r.clearAll();const n=this.$i18n.locale.value;this.$i18n.locale.value=t;const o=this.getConfig();s[n]!==s[t]&&(this.reloadWorker(),this.event.emit(Ce.CONFIG_CHANGE,o)),this.event.emit(Ce.LANG_CHANGE,{oldLang:n,newLang:t})}get language(){return this.$vApp.$i18n.locale}get animate(){return!!(this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.contains("animation-enabled"))}toggleFullscreen(){zn.isEnabled&&zn.toggle(this.$element._container||void 0)}get isFullscreen(){return this._isFullscreen}get started(){return uh(this.$vApp.$pinia).started}updateAlert(t){const i=this.$vApp.$el.querySelector(".screen-reader-alert");i.childNodes.length>0&&(i.innerHTML="");const r=document.createElement("span");r.setAttribute("role","alert");const s=document.createTextNode(t);r.appendChild(s),i.insertBefore(r,null)}scrollToInstance(){this.ui.scrollToInstance&&this.$element._container?.scrollIntoView({behavior:"smooth"})}start(){const t=uh(this.$vApp.$pinia);!t.started&&this.startRequired?(this.event.emit(Ce.MAP_START),t.started=!0):t.started&&console.warn("start has already been called")}containsValidHtml(t){return/<(\w+)([^>]*)>(.*?)<\/\1>/.test(t)}representsObject(t){return/^(?:\[\s*(?:[\s\S]*?)\s*\]|\{\s*(?:[\s\S]*?)\s*\})$/.test(t)}}function S0e(e,t){const i=qoe();i.use(({store:o})=>{const a=uC(o.$state);o.$reset=()=>o.$patch(uC(a))});const r=pce(),s=Ol(lpe).use(r).use(rpe,{directive:"tippy",component:"tippy"}).use(i);s.directive("focus-container",ype),s.directive("focus-list",hpe),s.directive("focus-item",dpe),s.directive("truncate",ime),s.component("panel-screen",hme),s.component("pin",mme),s.component("close",vme),s.component("back",wme),s.component("expand",Tme),s.component("panel-options-menu",Dme),s.component("dropdown-menu",oT),s.component("minimize",Ome),s.component("right",Pme),s.component("left",kme),s.component("fullscreen-nav-button",jme),s.component("geolocator-nav-button",Vme),s.component("home-nav-button",Bme),s.component("mapnav-button",qme),s.component("appbar-button",Jme),s.component("transition",wb),s.component("transition-group",Eb),s.config.globalProperties.$iApi=t,s.config.globalProperties.$pinia=i,s.config.idPrefix=`ramp-${e.id||t.geo.shared.generateUUID()}`,s.provide("iApi",t);const n=s.mount(e);return{element:s,app:n,i18n:r.global}}class TT{esriBasemap;config;createErr=!1;constructor(t){this.config=t}static async create(t){const i=new TT(t),r=t.layers.map(o=>{if(o.layerType===Pe.TILE)return Mt.TileLayer({url:o.url,opacity:o.opacity});if(o.layerType===Pe.MAPIMAGE)return Mt.MapImageLayer({url:o.url,opacity:o.opacity});if(o.layerType===Pe.OSM)return Mt.OpenStreetMapLayer({opacity:o.opacity});throw new Error(`Unsupported layer type provided to basemap config: ${o.layerType}`)}),n=(await Promise.allSettled(r)).filter(o=>o.status==="rejected"?(console.error(o.reason),i.createErr=!0,!1):!0).map(o=>{if(o.status==="fulfilled")return o.value;throw new Error("TS is fun")});return i.esriBasemap=await Mt.Basemap({baseLayers:n,title:t.name||"",id:t.id}),i}get tileSchemaId(){return this.config.tileSchemaId}get id(){return this.config.id}get name(){return this.config.name}set name(t){this.config.name=t||""}get description(){return this.config.description}set description(t){this.config.description=t||""}get altText(){return this.config.altText}set altText(t){this.config.altText=t||""}get attribution(){return this.config.attribution}set attribution(t){this.config.attribution=t}get backgroundColour(){return this.config.backgroundColour??"#FFFFFF"}}class A0e extends Mi{esriMap;_basemapStore;created=!1;name;trackFirstBasemap=!1;esriView;_viewPromise;get viewPromise(){return this._viewPromise.getPromise()}_rampSR;_rampExtentSet;_targetDiv;handlers;pointZoomScale;constructor(t,i=""){super(t),this.esriMap=void 0,this._basemapStore=[],this._viewPromise=new Si,this.handlers=[],this.pointZoomScale=5e4,this.name=i}noMapErr(){console.error(`Attempted to manipulate the ${this.name} map before calling createMap()`),console.trace()}abstractError(){throw new Error("Attempted to call an abstract method in the parent CommonMapAPI")}labelsDefault={visible:void 0};async createMap(t,i){const r=l=>{this.$iApi.notify.show(Es.ERROR,this.$iApi.$i18n.t("layer.error",{id:l.name}))},s=t.basemaps.map(l=>TT.create(l)),o=(await Promise.all(s)).filter(l=>(l.createErr&&r(l),l.esriBasemap.baseLayers.length>0));o.forEach(l=>{l.esriBasemap.baseLayers.forEach(c=>{ar(()=>c.loadStatus,()=>{c.loadStatus==="loaded"?this.trackFirstBasemap=!1:c.loadStatus==="failed"&&(r(l),this.trackFirstBasemap&&this.recoverBasemap(l.tileSchemaId))})})}),this._basemapStore=o,t.labelsDefault&&(this.labelsDefault.visible=t.labelsDefault.visible);const a={};this.esriMap=pi(await Mt.Map(a)),this.pointZoomScale=t.pointZoomScale&&t.pointZoomScale>0?t.pointZoomScale:5e4,this._targetDiv=i,this.createMapView(t.initialBasemapId)}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMapView(),this.esriMap.destroy(),delete this.esriMap,this._basemapStore.forEach(t=>t.esriBasemap.destroy()),this._basemapStore=[]}async reloadMap(t,i){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMap(),await this.createMap(t,i)}async createMapView(t){this.abstractError()}destroyMapView(){if(!this.esriView){this.noMapErr();return}this._viewPromise=new Si,this.created=!1,this.handlers.forEach(t=>t.handler.remove()),this.handlers=[],this.esriView.map=null,this.esriView.container=null,this.esriView.spatialReference=null,this.esriView.extent=null,this.esriView.navigation=null,this.esriView.destroy(),delete this.esriView}async findBasemap(t){const i=this._basemapStore.find(r=>r.id===t);if(i)return i;throw new Error(`Invalid basemap id requested: ${t}`)}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const i=typeof t=="string"?await this.findBasemap(t):t;this.esriMap.basemap=Ge(i.esriBasemap)}async setBasemap(t){return this.abstractError(),!1}async recoverBasemap(t){}getCurrentBasemapId(){if(this.esriMap)return this.esriMap.basemap?.id??void 0;this.noMapErr()}geomToMapSR(t){if(!this._rampSR)throw new Error("call to map.geomToMapSR before the map spatial ref was created");return this._rampSR.isEqual(t.sr)?Promise.resolve(t):this.$iApi.geo.proj.projectGeometry(this._rampSR,t)}async zoomMapTo(t,i,r=!0,s=200,n="ease"){if(this.esriView){if(t.invalid())throw new Error("attempt to zoom to invalid geometry");const o=await this.geomToMapSR(t),a={target:this.$iApi.geo.geom.geomRampToEsri(o)};o.type===Ze.POINT&&(a.scale=i||this.pointZoomScale);const l={animate:r,duration:s,easing:n};return this.viewPromise.then(()=>this.esriView.goTo(a,l))}else this.noMapErr()}getZoomLevel(){return this.esriView?this.esriView.zoom:(this.noMapErr(),1)}getScale(){return this.esriView?this.esriView.scale:(this.noMapErr(),1)}getResolution(){return this.esriView?this.esriView.resolution:(this.noMapErr(),1)}getExtent(){return this.esriView?ei.fromESRI(this.esriView.extent):(this.noMapErr(),ei.fromParams("i_am_error",0,1,0,1))}getExtentSet(){return this._rampExtentSet?this._rampExtentSet:(this.noMapErr(),hm.fromConfig({id:"i_am_error_extent_set",default:{xmin:0,xmax:1,ymin:0,ymax:1,spatialReference:{wkid:4326}}}))}getSR(){return this._rampSR?this._rampSR.clone():(this.noMapErr(),Ve.latLongSR())}getPixelHeight(){return this.esriView?this.esriView.height:(this.noMapErr(),1)}getPixelWidth(){return this.esriView?this.esriView.width:(this.noMapErr(),1)}setPointZoomScale(t){return t>0?(this.pointZoomScale=t,!0):(console.error(`Cannot set pointZoomScale to non-positive number: ${t}.`),!1)}}class T0e extends Mi{maptipStore;constructor(t){super(t),this.maptipStore=Jv(this.$vApp.$pinia)}#e=void 0;#t=void 0;async checkAtCoord(t){this.#t=t;const i=await this.$iApi.geo.map.getGraphicAtCoord(t);if(this.#t!==t)return;if(!i){this.clear(),this.maptipStore.maptipInstance.disable();return}const r=this.$iApi.geo.layer.getLayer(i.layerId);if(r?.geomType!=Ze.POLYGON&&this.#e&&this.#e.layerId===i.layerId&&this.#e.oid===i.oid&&this.#e.layerIdx===i.layerIdx)return;if(this.clear(),this.#e=i,!r){console.error(`graphic hit test returned non-existent layer id: ${i.layerId}`);return}if(!r.hovertips)return;const s=await r.getIcon(i.oid),n=await r.getGraphic(i.oid,{getAttribs:!0});this.maptipStore.maptipInstance.enable(),this.setPoint(this.$iApi.geo.map.screenPointToMapPoint(t)),this.$iApi.event.emit(Ce.MAP_GRAPHICHIT,{layer:r,graphicHit:i,attributes:n.attributes,icon:s,screenPoint:t})}generateDefaultMaptip(t){this.setContent(`<div class="flex items-center space-x-5"><span>${t.icon}</span><span class="line-clamp-3">${t.layer.tooltipValue(t.attributes)}</span></div>`)}clear(){this.#e=void 0,this.maptipStore.setMaptipPoint(void 0),this.maptipStore.setMaptipContent("")}getInstance(){return this.maptipStore.maptipInstance}getPoint(){return this.maptipStore.maptipPoint}setPoint(t){this.maptipStore.setMaptipPoint(t)}setContent(t){this.maptipStore.setMaptipContent(t)}}class $0e extends Mi{DEFAULT_POINT_FORMATTERS={LAT_LONG_DMS:this.formatLatLongDMS,LAT_LONG_DD:this.formatLatLongDD,LAT_LONG_DDM:this.formatLatLongDDM,WEB_MERCATOR:this.formatMercator,CANADA_ATLAS_LAMBERT:this.formatLambert,UTM:this.formatUTM,BASEMAP:this.formatBasemap};pointFormatter;constructor(t){super(t),this.pointFormatter=this.DEFAULT_POINT_FORMATTERS.LAT_LONG_DMS}createCaption(t){if(!t)return;const i=dl(this.$vApp.$pinia);if(i.coords.disabled=!1,i.scale.disabled=!1,i.scale.isImperialScale=!1,t.mapCoords)if(t.mapCoords.disabled)i.coords.disabled=!0;else{const r=t.mapCoords.formatter;r!==void 0&&this.setPointFormatter(r)}if(t.scaleBar)if(t.scaleBar.disabled)i.scale.disabled=!0;else{const r=t.scaleBar.imperialScale;r!==void 0&&(i.toggleScale(r),this.$iApi.geo.map.viewPromise.then(()=>{this.updateScale()}))}i.langtoggle={disabled:t?.langToggle?.disabled??!1}}updateAttribution(t){const i={disabled:!1,value:this.$iApi.$i18n.t("caption.attributionDefaultText")},r={disabled:!1,altText:this.$iApi.$i18n.t("caption.attributionLogoAltText"),link:this.$iApi.$i18n.t("caption.attributionLink"),value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC"},s={text:{value:"",disabled:!1},logo:{disabled:!1,altText:"",link:"",value:""}};if(t?(t.logo?t.logo.disabled?s.logo.disabled=!0:(s.logo.altText=t.logo.altText||r.altText,s.logo.link=t.logo.link||r.link,s.logo.value=t.logo.value||r.value):(s.logo.altText=r.altText,s.logo.link=r.link,s.logo.value=r.value),t.text?t.text.disabled?s.text.disabled=!0:s.text.value=t.text.value||i.value:s.text.value=i.value,dl(this.$vApp.$pinia).setAttribution(s)):(s.logo.altText=r.altText,s.logo.link=r.link,s.logo.value=r.value,s.text.value=i.value),!t||t.text?.disabled||!t.text){if(!this.$iApi.geo.map.esriMap){console.warn("Attempted to fetch map attribution with undefined map");return}let n="";const o=5e3,a=20,l=this.$iApi.geo.map.esriMap.basemap;if(l){const c=l.baseLayers.map(f=>new Promise(d=>{let p=0;const y=o/a,v=setInterval(function(){f.loaded&&!f.loadError?(clearInterval(v),d(f)):p>y&&(clearInterval(v),d(null)),p++},a)})).toArray();Promise.all(c).then(f=>{n=f.filter(p=>p?.copyright).map(p=>p.copyright).join(" | "),s.text.value=n||s.text.value||i.value,dl(this.$vApp.$pinia).setAttribution(s)})}}}updateScale(){const t=dl(this.$vApp.$pinia),i=t.scale;if(i?.disabled)return;const r=i?.isImperialScale||!1,s=this.scaleHelper().find(n=>n.isImperialScale===r)??{isImperialScale:!1,units:"error",pixels:1,distance:1};t.scale={width:`${s.pixels}px`,label:`${this.$iApi.$i18n.n(s.distance,"number")}${s.units}`,isImperialScale:r}}async formatPoint(t){return t?await this.pointFormatter(t):""}setPointFormatter(t){if(typeof t=="string"){if(!(t in this.DEFAULT_POINT_FORMATTERS)){console.warn(`Could not find point formatter with id: ${t}`);return}this.pointFormatter=this.DEFAULT_POINT_FORMATTERS[t]}else this.pointFormatter=t}scaleHelper(){const t=window.innerWidth>600?70:35,i=this.$iApi.geo.map.getResolution(),r=[],s=i*t,n=1609.34,o=3.28084,a=s>1e3?["km","mi"]:["m","ft"];for(let l=0;l<2;l++){const c=l===1;if(r.push({isImperialScale:c,units:a[l],pixels:0,distance:0}),s>1e3){const f=i*t/(c?n:1e3),d=Math.round(f).toString().length,p=Math.pow(10,d-1);r[l].distance=Math.ceil(f/p)*p,r[l].pixels=r[l].distance*(c?n:1e3)/i}else r[l].distance=Math.ceil(c?s*o:s),r[l].pixels=s/i}return r}wrapValue(t,i,r){return((t-i)%(r-i)+(r-i))%(r-i)+i}async formatLatLongDMS(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),s=this.wrapValue(i.x,-180,180),n="°",o=Math.floor(Math.abs(r))*(r<0?-1:1),a=Math.floor(Math.abs((r-o)*60)),l=Math.floor((Math.abs(r)-Math.abs(o)-a/60)*3600),c=Math.floor(Math.abs(s))*(s<0?-1:1),f=Math.floor(Math.abs((s-c)*60)),d=Math.floor((Math.abs(s)-Math.abs(c)-f/60)*3600);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${n} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(l,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(c),"number")}${n} ${this.$iApi.$i18n.n(f,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(d,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatLatLongDDM(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),s=this.wrapValue(i.x,-180,180),n="°",o=Math.floor(Math.abs(r))*(r<0?-1:1),a=Math.abs((r-o)*60),l=Math.floor(Math.abs(s))*(s<0?-1:1),c=Math.abs((s-l)*60);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${n} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(l),"number")}${n} ${this.$iApi.$i18n.n(c,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatLatLongDD(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),s=this.wrapValue(i.x,-180,180),n="°",o=Math.abs(r),a=Math.abs(s);return`${this.$iApi.$i18n.n(o,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${n} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${n} ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatMercator(t){const i=await this.$iApi.geo.proj.projectGeometry(102100,t);return`${this.$iApi.$i18n.n(Math.floor(i.x),"number")} m | ${this.$iApi.$i18n.n(Math.floor(i.y),"number")} m`}async formatLambert(t){const i=await this.$iApi.geo.proj.projectGeometry(3978,t);return`${this.$iApi.$i18n.n(Math.abs(Math.floor(i.x)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(0>i.x?"west":"east"))} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(i.y)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(i.y>0?"north":"south"))}`}async formatUTM(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),s=this.wrapValue(i.x,-180,180),n=Math.ceil((s+180)/6),o=await this.$iApi.geo.proj.projectGeometry(parseInt("326"+n),t);return`${this.$iApi.$i18n.n(n,"number",{minimumIntegerDigits:2})} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} ${this.$iApi.$i18n.n(Math.floor(o.x),"number")} m${this.$iApi.$i18n.t("map.coordinates.east")} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(o.y)),"number")} m${this.$iApi.$i18n.t("map.coordinates.north")}`}async formatBasemap(t){const i=await this.$iApi.geo.proj.projectGeometry(this.$iApi.geo.map.getSR(),t);return`${this.$iApi.$i18n.n(i.x,"number")} | ${this.$iApi.$i18n.n(i.y,"number")}`}}class M0e extends A0e{maptip;caption;mapMouseThrottle;layerDefaultTimes={draw:1e4,load:1e4,fail:9e4};constructor(t){super(t,"main"),this.maptip=new T0e(t),this.caption=new $0e(t),this.mapMouseThrottle=0}async createMap(t,i){this.setMapMouseThrottle(t.mapMouseThrottle??0),this.trackFirstBasemap=!0,this.layerDefaultTimes.draw=t.layerTimeDefault?.expectedDrawTime??1e4,this.layerDefaultTimes.load=t.layerTimeDefault?.expectedLoadTime??1e4,this.layerDefaultTimes.fail=t.layerTimeDefault?.maxLoadTime||9e4,await super.createMap(t,i),this.viewPromise.then(()=>{this.$iApi.event.emit(Ce.MAP_CREATED)})}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.$iApi.geo.layer.allLayersOnMap(!1).map(t=>t.uid).forEach(t=>this.removeLayer(t)),super.destroyMap(),this.$iApi.event.emit(Ce.MAP_DESTROYED)}async createMapView(t){const r=ss(this.$vApp.$pinia).config.map;if(!r)throw new Error("Attempted to create map view without a map config");const s=(typeof t=="string"?await this.findBasemap(t):t)||await this.findBasemap(r.initialBasemapId),n=r.tileSchemas.find(l=>l.id===s.tileSchemaId);if(!n)throw new Error(`Could not find tile schema for the given basemap id: ${s.id}`);const o=r.extentSets.find(l=>l.id===n.extentSetId);if(!o)throw new Error(`Could not find extent set with the given id: ${n.extentSetId}`);this._rampExtentSet=hm.fromConfig(o),this._rampSR=this._rampExtentSet.sr.clone();const a=r.lodSets.find(l=>l.id===n.lodSetId);if(!a)throw new Error(`Could not find lod set with the given id: ${n.lodSetId}`);this.esriView=pi(await Mt.MapView({map:this.esriMap,container:this._targetDiv,constraints:{lods:a.lods,rotationEnabled:!1},spatialReference:this._rampSR.toESRI(),extent:this._rampExtentSet.defaultExtent.toESRI(),navigation:{browserTouchPanEnabled:!1},background:{color:s.backgroundColour}})),this.esriView.ui.components=[],this.handlers.push({type:"extent",handler:ar(()=>this.esriView.extent,l=>{if(l){const c=this.$iApi.geo.geom.geomEsriToRamp(l,"map_extent_event");this.$iApi.event.emit(Ce.MAP_EXTENTCHANGE,c),this.$iApi.event.emit(Ce.FILTER_CHANGE,{extent:c,filterKey:Dr.EXTENT})}})}),this.handlers.push({type:"scale",handler:ar(()=>this.esriView.scale,l=>{this.$iApi.event.emit(Ce.MAP_SCALECHANGE,l)})}),this.handlers.push({type:"resize",handler:this.esriView.on("resize",l=>{this.$iApi.event.emit(Ce.MAP_RESIZED,{height:l.height,width:l.width})})}),this.handlers.push({type:"click",handler:this.esriView.on("click",l=>{this.$iApi.event.emit(Ce.MAP_CLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_click_point"))})}),this.handlers.push({type:"double-click",handler:this.esriView.on("double-click",l=>{this.$iApi.event.emit(Ce.MAP_DOUBLECLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_doubleclick_point"))})}),this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),this.handlers.push({type:"pointer-move-start",handler:this.esriView.on("pointer-move",Hv(100,!0,l=>{this.$iApi.event.emit(Ce.MAP_MOUSEMOVE_START,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-move-end",handler:this.esriView.on("pointer-move",Hv(100,l=>{this.$iApi.event.emit(Ce.MAP_MOUSEMOVE_END,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-leave",handler:this.esriView.on("pointer-leave",l=>{setTimeout(()=>{this.$iApi.event.emit(Ce.MAP_MOUSELEAVE,l.native)},Math.max(this.mapMouseThrottle,100)+1)})}),this.handlers.push({type:"pointer-down",handler:this.esriView.on("pointer-down",l=>{this.$iApi.event.emit(Ce.MAP_MOUSEDOWN,l.native)})}),this.handlers.push({type:"key-down",handler:this.esriView.on("key-down",l=>{this.$iApi.event.emit(Ce.MAP_KEYDOWN,l.native),l.stopPropagation()})}),this.handlers.push({type:"key-up",handler:this.esriView.on("key-up",l=>{this.$iApi.event.emit(Ce.MAP_KEYUP,l.native),l.stopPropagation()})}),this.handlers.push({type:"focus",handler:this.esriView.on("focus",l=>{this.$iApi.event.emit(Ce.MAP_FOCUS,l.native)})}),this.handlers.push({type:"blur",handler:this.esriView.on("blur",l=>{this.$iApi.event.emit(Ce.MAP_BLUR,l.native)})}),this.esriView.container?this.esriView.container.addEventListener("touchmove",l=>{l.preventDefault()}):console.error("ESRI Map View is missing its container"),ar(()=>this.esriView.fatalError,()=>{const l=new IntersectionObserver(c=>{c.forEach(f=>{f.isIntersecting&&(this.esriView?.tryFatalErrorRecovery(),l.disconnect())})});l.observe(this.esriView.container)}),this.esriView.when(()=>{if(this._viewPromise.resolveMe(),this.created=!0,this.applyBasemap(s),n.recoveryBasemap?.basemapId){const l=n.recoveryBasemap.timeout??8e3;l>0&&setTimeout(()=>{this.trackFirstBasemap&&this.recoverBasemap(n.id)},l)}})}destroyMapView(){this.esriView?.container?.removeEventListener("touchmove",t=>{t.preventDefault()}),super.destroyMapView()}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const i=typeof t=="string"?await this.findBasemap(t):t;this.esriMap.basemap=Ge(i.esriBasemap);const r=ss(this.$vApp.$pinia);r.activeBasemapConfig=i.config}async setBasemap(t){if(!this.esriView||!this.esriMap)return this.noMapErr(),!1;const i=ss(this.$vApp.$pinia),r=await this.findBasemap(t),n=i.activeBasemapConfig.tileSchemaId!==r.tileSchemaId;if(n){const o=this.getExtent().center(),a=this.getScale();this._viewPromise=new Si,this.created=!1,this.$iApi.event.emit(Ce.MAP_REFRESH_START),this.destroyMapView(),this.createMapView(r),await this.viewPromise.then(()=>{this.$iApi.event.emit(Ce.MAP_REFRESH_END),this.$iApi.event.emit(Ce.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:n});const l=this.findClosestScale(a);this.$iApi.geo.proj.projectGeometry(this._rampSR,o).then(c=>this.zoomMapTo(c,l,!1))})}else{await this.applyBasemap(r);const o=await Mt.ColorBackground({color:new pa(r.backgroundColour).toESRI()});this.esriView.background=o,this.$iApi.event.emit(Ce.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:n})}return n}async recoverBasemap(t){this.esriMap||this.noMapErr(),this.trackFirstBasemap=!1;const r=ss(this.$vApp.$pinia).config.map;if(r){const s=r.tileSchemas.find(n=>n.id===t);if(s?.recoveryBasemap?.basemapId){const n=await this.findBasemap(s.recoveryBasemap.basemapId);await this.applyBasemap(n)}}}addLayer(t,i=void 0){return new Promise((r,s)=>{if(this.esriMap||(this.noMapErr(),s()),t.initiationState!==Qt.INITIATING&&t.initiationState!==Qt.INITIATED&&t.layerState!==fi.ERROR&&t.initiate(),t.mapLayer&&i===void 0){const c=this.$iApi.geo.layer.layerOrderIds();if(t.isCosmetic)i=c.length;else{const f=this.$iApi.geo.layer.allLayers();let d=!0;for(let p=c.length-1;p>=0&&d;p--){const y=f.find(v=>v.id===c[p]);y&&!y.isCosmetic&&(i=p+1,d=!1)}d&&(i=0)}}co(this.$vApp.$pinia).addLayer(t,i),this.$iApi.event.emit(Ce.LAYER_REGISTERED,t);const o=Date.now();let a=0;const l=setInterval(()=>{a+=250,a>=t.expectedTime.fail||t.layerState===fi.ERROR?(clearInterval(l),t.lastCancel<o&&console.error(`Failed to add layer: ${t.id}.`),s()):t.initiationState===Qt.INITIATED&&(t.esriLayer||!t.mapLayer)&&(clearInterval(l),t.mapLayer?this.insertToEsriMap(t):t.onLoad(),r())},250)})}insertToEsriMap(t){let i=0;const r=this.$iApi.geo.layer.getLayerPosition(t.id)??-1;if(r>0){const s=this.$iApi.geo.layer.layerOrderIds(),n=this.$iApi.geo.layer.allLayers();for(let o=r-1;o>-1;o--){const a=s[o],l=n.find(c=>c.id===a);if(l&&l.esriLayer){const c=this.esriMap.layers.indexOf(l.esriLayer);if(c>-1){i=c+1;break}}else l||console.error("ESRI Layer insert encountered bad state. Layer likely inserted at bottom of map.")}}r>-1&&this.esriMap?.add(t.esriLayer,i)}reorder(t,i,r=!1){if(i<0){console.error("Negative index passed to map reorder");return}if(!this.esriMap){this.noMapErr();return}if(t.isSublayer&&(t=t.parentLayer),!t.mapLayer){console.error("Attempted to reorder a data layer");return}const s=this.$iApi.geo.layer.allLayers();let n=this.$iApi.geo.layer.layerOrderIds();if(r){if(t.isCosmetic)return;if(i>0){const l=n.filter(c=>{const f=s.find(d=>d.id===c);return f?!f.isCosmetic:(console.error("Layer reorder had critical error"),!1)});i>=l.length&&(console.error("non-cosmetic reorder index was too high"),i=l.length-1),i=n.indexOf(l[i])}}else i>=n.length&&(console.error("reorder index was too high"),i=n.length-1);const o=n.indexOf(t.id);if(o===i)return;if(co(this.$vApp.$pinia).reorderLayer(t,i),t.esriLayer&&this.esriMap.layers.indexOf(t.esriLayer)>-1){let l=0;if(i>0){n=this.$iApi.geo.layer.layerOrderIds();for(let c=i-1;c>-1;c--){const f=n[c],d=s.find(p=>p.id===f);if(d&&d.esriLayer){const p=this.esriMap.layers.indexOf(d.esriLayer);if(p>-1){const y=i<o?1:0;l=p+y;break}}else d||console.error("Layer reorder had critical error")}}this.esriMap.reorder(t.esriLayer,l)}this.$iApi.event.emit(Ce.MAP_REORDER,{layer:t,newIndex:i})}removeSublayer(t){let i,r;if(typeof t=="string")i=t,r=this.$iApi.geo.layer.getLayer(i);else{if(!t.isSublayer)throw new Error(`Attempted to call removeSublayer on a non-sublayer object: ${t}`);i=t.uid,r=t}if(!r)throw new Error("Sublayer could not be found for removal.");r.visibility=!1,r.isRemoved=!0,this.$iApi.event.emit(Ce.LAYER_REMOVE,t),r.parentLayer?.sublayers.every(s=>s.isRemoved)&&this.removeLayer(r.parentLayer)}removeLayer(t){if(!this.esriMap){this.noMapErr();return}let i;if(t instanceof MT?i=t:i=this.$iApi.geo.layer.getLayer(t),!i)throw new Error("Layer could not be found for removal.");if(i.isSublayer){this.removeSublayer(i);return}i.supportsSublayers&&i.sublayers.forEach(s=>{s.isRemoved||this.removeSublayer(s)});const r=co(this.$vApp.$pinia);r.removeLayer(i),r.removeLayerConfig(i.id),i.removeEsriLayer(),i.initiationState===Qt.INITIATED&&i.terminate(),i.isRemoved=!0,this.$iApi.event.emit(Ce.LAYER_REMOVE,i)}setMapMouseThrottle(t){if(t<0)return console.error("Cannot set map mouse throttle to value that is less than 0."),!1;this.mapMouseThrottle=t;const i=this.handlers.findIndex(r=>r.type==="pointer-move");if(i!==-1){const r=this.handlers[i];this.handlers.splice(i,1),r.handler.remove()}return i!==-1&&this.esriView&&this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),!0}createMouseMoveHandler(){if(!this.esriView){this.noMapErr();return}return al(this.mapMouseThrottle,t=>{this.$iApi.event.emit(Ce.MAP_MOUSEMOVE,this.$iApi.geo.geom.esriMapMouseToRamp(t))})}async zoomToLevel(t){if(this.esriView)return this.esriView.goTo({zoom:t});this.noMapErr()}async zoomIn(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom+1);this.noMapErr()}async zoomOut(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom-1);this.noMapErr()}async zoomToVisibleScale(t){if(!this.esriView){this.noMapErr();return}const i=t.isOffScale(this.getScale());if(!i.offScale)return;const r=this.esriView.constraints.lods;if(!r)return this.zoomMapTo(this.getExtent().center(),(i.zoomIn,t.minScale));const s=i.zoomIn?r:[...r].reverse(),n=s.find(o=>i.zoomIn?o.scale<t.minScale:o.scale>t.maxScale)||s[s.length-1];return this.zoomToLevel(n.level)}findClosestScale(t){const i=this.esriView?.constraints.lods;if(!i)return t;const r=i.map(n=>Math.abs(n.scale-t)),s=r.indexOf(Math.min(...r));return i[s].scale}async takeScreenshot(t){if(this.esriView)return t.quality||(t.quality=1),t.format||(t.format="png"),this.esriView.takeScreenshot(t);throw new Error("Export attempted without a map view available")}screenPointToMapPoint(t){return this.esriView?jr.fromESRI(this.esriView.toMap({x:t.screenX,y:t.screenY}),"mappoint"):(this.noMapErr(),new jr("i_am_error",[0,0],void 0,!0))}mapPointToScreenPoint(t){if(this.esriView){const i=this.esriView.toScreen(t.toESRI());return{screenX:i.x,screenY:i.y}}else return this.noMapErr(),{screenX:1,screenY:1}}async symbolIdentify(t,i){await this.viewPromise;const s=(await this.esriView.hitTest({x:t,y:i})).results.filter(o=>o.type==="graphic").map(async o=>{const a=o.layer;if(o.graphic.isAggregate===!0){const l=await this.esriView.whenLayerView(a),c=l.createQuery();return c.aggregateIds=[o.graphic.getObjectId()],(await l.queryFeatures(c)).features.map(d=>({layerId:a.id,layerIdx:0,oid:d.getObjectId()}))}else return{layerId:a.id,layerIdx:0,oid:o.graphic.getObjectId()}});return(await Promise.all(s)).flat()}runIdentify(t){const i=this.$iApi.geo.layer.allLayersOnMap(!1).filter(f=>f.canIdentify());let r;if(t instanceof jr){const f=this.mapPointToScreenPoint(t);r={mapPoint:t,screenX:f.screenX,screenY:f.screenY,button:0,input:"mouse",clickTime:Date.now()}}else r=t;const s=this.$iApi.fixture.get("draw");if(s&&this.esriView&&(s.store.activeTool||s.store.selectedGraphicId!==null))return{click:r,results:[]};if(i===void 0)return{click:r,results:[]};let n=Promise.resolve([]);i.some(f=>f.identifyMode===Bi.HYBRID||f.identifyMode===Bi.SYMBOLIC)&&(n=this.symbolIdentify(r.screenX,r.screenY));const o={geometry:r.mapPoint,hitTest:n},a=i.filter(f=>f.supportsIdentify).map(f=>(o.tolerance=r.input=="touch"?f.touchTolerance:f.mouseTolerance,f.runIdentify(o))).flat(),l=Date.now();a.forEach(f=>{f.requestTime=l});const c={results:a,click:r};return this.$iApi.event.emit(Ce.MAP_IDENTIFY,c),c}async getGraphicAtCoord(t){if(!this.esriView){this.noMapErr();return}const i=this.$iApi.geo.layer.allLayersOnMap(!1).filter(l=>l.supportsFeatures||l.layerType===Pe.GRAPHIC);if(i.length===0)return;const r=await this.esriView.hitTest({x:t.screenX,y:t.screenY});if(r.results.length===0)return;const s=r.results.filter(l=>l.type==="graphic");let n,o;const a=new Set;if(s.some(l=>{if(!l.layer||a.has(l.layer.id))return!1;const c=i.find(f=>f.id===l.layer.id);return c?(c.isCosmetic||c.layerType===Pe.GRAPHIC||l.graphic.isAggregate||(n=c,o=l.graphic),!0):(a.add(l.layer.id),!1)}),n&&o)return{oid:o.getObjectId(),layerId:n.id,layerIdx:n.layerIdx}}_activeKeys=[];_panInterval;_mouseFocus=!1;mapKeyDown(t){const i=["=","-"];["Shift","Control","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this._activeKeys.some(s=>i.includes(s))||this.keyPan()):i.includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this.keyZoom(t)):t.key==="Enter"?this.runIdentify(this.getExtent().center()):t.key==="Tab"&&this._activeKeys.push(t.key)}mapKeyUp(t){const i=["=","-"];this._activeKeys.includes(t.key)&&!i.includes(t.key)&&(this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this._activeKeys.some(r=>i.includes(r))||this.keyPan())}setMouseFocus(){this._mouseFocus=!0}stopKeyPan(){this._activeKeys.includes("Tab")&&(this._mouseFocus=!1),this._activeKeys=[],clearInterval(this._panInterval)}get keysActive(){return this._activeKeys.filter(t=>!["Control","Shift"].includes(t)).length!==0}get mouseFocus(){return this._mouseFocus}async keyZoom(t){clearInterval(this._panInterval),t.key==="="?await this.zoomIn():t.key==="-"&&await this.zoomOut(),this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this.keyPan()}keyPan(){if(clearInterval(this._panInterval),!this.keysActive)return;const t=this.getExtent().center(),i=this.mapPointToScreenPoint(t),r=this.screenPointToMapPoint({screenX:i.screenX+5,screenY:i.screenY+5}),s=Math.abs(r.x-t.x),n=Math.abs(r.y-t.y);let o=0,a=0,l=1;for(let f=0;f<this._activeKeys.length;++f)switch(this._activeKeys[f]){case"ArrowLeft":o-=s;break;case"ArrowRight":o+=s;break;case"ArrowUp":a+=n;break;case"ArrowDown":a-=n;break;case"Shift":l=2;break;case"Control":l=.25;break}const c=this.getScale();this._panInterval=setInterval(()=>{t.x+=l*o,t.y+=l*a,this.zoomMapTo(t,c,!1)},25)}}const O0e={geometryType:"point",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7,outline:{color:[0,0,0,255],width:1}}}},C0e={geometryType:"polyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},I0e={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},P0e={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}},N0e={circlePoint:O0e,solidLine:C0e,outlinedPoly:I0e,boundingBoxPoly:P0e};/* @preserve
* @terraformer/arcgis - v2.1.1 - MIT
* Copyright (c) 2012-2022 Environmental Systems Research Institute, Inc.
* Tue Aug 02 2022 14:23:48 GMT-0700 (Pacific Daylight Time)
*/var L0e=function(t,i){for(var r=0;r<t.length;r++)if(t[r]!==i[r])return!1;return!0},lI=function(t){return L0e(t[0],t[t.length-1])||t.push(t[0]),t},cI=function(t){var i=0,r=0,s=t.length,n=t[r],o;for(r;r<s-1;r++)o=t[r+1],i+=(o[0]-n[0])*(o[1]+n[1]),n=o;return i>=0},k0e=function(t){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return i},HD=function(t){var i=[],r=t.slice(0),s=lI(r.shift().slice(0));if(s.length>=4){cI(s)||s.reverse(),i.push(s);for(var n=0;n<r.length;n++){var o=lI(r[n].slice(0));o.length>=4&&(cI(o)&&o.reverse(),i.push(o))}}return i},R0e=function(t){for(var i=[],r=0;r<t.length;r++)for(var s=HD(t[r]),n=s.length-1;n>=0;n--){var o=s[n].slice(0);i.push(o)}return i},D0e=function e(t,i){i=i||"OBJECTID";var r={wkid:4326},s={},n;switch(t.type){case"Point":s.x=t.coordinates[0],s.y=t.coordinates[1],t.coordinates[2]!=null&&(s.z=t.coordinates[2]),s.spatialReference=r;break;case"MultiPoint":s.points=t.coordinates.slice(0),t.coordinates[0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"LineString":s.paths=[t.coordinates.slice(0)],t.coordinates[0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"MultiLineString":s.paths=t.coordinates.slice(0),t.coordinates[0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"Polygon":s.rings=HD(t.coordinates.slice(0)),t.coordinates[0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"MultiPolygon":s.rings=R0e(t.coordinates.slice(0)),t.coordinates[0][0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"Feature":t.geometry&&(s.geometry=e(t.geometry,i)),s.attributes=t.properties?k0e(t.properties):{},t.id&&(s.attributes[i]=t.id);break;case"FeatureCollection":for(s=[],n=0;n<t.features.length;n++)s.push(e(t.features[n],i));break;case"GeometryCollection":for(s=[],n=0;n<t.geometries.length;n++)s.push(e(t.geometries[n],i));break}return s};function WD(e){return new Function("d","return {"+e.map(function(t,i){return JSON.stringify(t)+": d["+i+"]"}).join(",")+"}")}function F0e(e,t){var i=WD(e);return function(r,s){return t(i(r),s,e)}}function U0e(e){var t=Object.create(null),i=[];return e.forEach(function(r){for(var s in r)s in t||i.push(t[s]=s)}),i}function $T(e){var t=new RegExp('["'+e+`
]`),i=e.charCodeAt(0);function r(c,f){var d,p,y=s(c,function(v,b){if(d)return d(v,b-1);p=v,d=f?F0e(v,f):WD(v)});return y.columns=p,y}function s(c,f){var d={},p={},y=[],v=c.length,b=0,S=0,E,T;function w(){if(b>=v)return p;if(T)return T=!1,d;var $=b,M;if(c.charCodeAt($)===34){for(var I=$;I++<v;)if(c.charCodeAt(I)===34){if(c.charCodeAt(I+1)!==34)break;++I}return b=I+2,M=c.charCodeAt(I+1),M===13?(T=!0,c.charCodeAt(I+2)===10&&++b):M===10&&(T=!0),c.slice($+1,I).replace(/""/g,'"')}for(;b<v;){var N=1;if(M=c.charCodeAt(b++),M===10)T=!0;else if(M===13)T=!0,c.charCodeAt(b)===10&&(++b,++N);else if(M!==i)continue;return c.slice($,b-N)}return c.slice($)}for(;(E=w())!==p;){for(var _=[];E!==d&&E!==p;)_.push(E),E=w();f&&(_=f(_,S++))==null||y.push(_)}return y}function n(c,f){return f==null&&(f=U0e(c)),[f.map(l).join(e)].concat(c.map(function(d){return f.map(function(p){return l(d[p])}).join(e)})).join(`
`)}function o(c){return c.map(a).join(`
`)}function a(c){return c.map(l).join(e)}function l(c){return c==null?"":t.test(c+="")?'"'+c.replace(/\"/g,'""')+'"':c}return{parse:r,parseRows:s,format:n,formatRows:o}}var Gb=$T(","),j0e=Gb.parse,V0e=Gb.parseRows,B0e=Gb.format,G0e=Gb.formatRows,zb=$T("	"),z0e=zb.parse,q0e=zb.parseRows,H0e=zb.format,W0e=zb.formatRows;const Y0e=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:B0e,csvFormatRows:G0e,csvParse:j0e,csvParseRows:V0e,dsvFormat:$T,tsvFormat:H0e,tsvFormatRows:W0e,tsvParse:z0e,tsvParseRows:q0e},Symbol.toStringTag,{value:"Module"})),J0e=mK(Y0e);var oc={exports:{}},uI;function Z0e(){if(uI)return oc.exports;uI=1,oc.exports=e,oc.exports.pair=n,oc.exports.format=i,oc.exports.formatPair=t,oc.exports.coordToDMS=r;function e(a,l){var c=s(a,l);return c===null?null:c.val}function t(a){return i(a.lat,"lat")+" "+i(a.lon,"lon")}function i(a,l){var c=r(a,l);return c.whole+"° "+(c.minutes?c.minutes+"' ":"")+(c.seconds?c.seconds+'" ':"")+c.dir}function r(a,l){var c={lat:["N","S"],lon:["E","W"]}[l]||"",f=c[a>=0?0:1],d=Math.abs(a),p=Math.floor(d),y=d-p,v=y*60,b=Math.floor(v),S=Math.floor((v-b)*60);return{whole:p,minutes:b,seconds:S,dir:f}}function s(a,l){if(l||(l="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var c=/^[\s\,]*([NSEW])?\s*([\-|\—|\―]?[0-9.]+)[°º˚]?\s*(?:([0-9.]+)['’′‘]\s*)?(?:([0-9.]+)(?:''|"|”|″)\s*)?([NSEW])?/,f=a.match(c);if(!f)return null;var d=f[0],p;if(f[1]&&f[5]?(p=f[1],d=d.slice(0,-1)):p=f[1]||f[5],p&&l.indexOf(p)===-1)return null;var y=f[2]?parseFloat(f[2]):0,v=f[3]?parseFloat(f[3])/60:0,b=f[4]?parseFloat(f[4])/3600:0,S=y<0?-1:1;return(p==="S"||p==="W")&&(S*=-1),{val:(Math.abs(y)+v+b)*S,dim:p,matched:d,remain:a.slice(d.length)}}function n(a,l){a=a.trim();var c=s(a,l);if(!c)return null;a=c.remain.trim();var f=s(a,l);return!f||f.remain?null:c.dim?o(c.val,f.val,c.dim):[c.val,f.val]}function o(a,l,c){if(c==="N"||c==="S")return[a,l];if(c==="W"||c==="E")return[l,a]}return oc.exports}var v2,hI;function K0e(){if(hI)return v2;hI=1;var e=J0e,t=Z0e(),i=/(Lat)(itude)?/gi,r=/(L)(on|ng)(gitude)?/i;function s(S,E){var T,w,_;for(var $ in S)w=$.match(E),w&&(!T||w[0].length/$.length>_)&&(_=w[0].length/$.length,T=$);return T}function n(S){return s(S,i)}function o(S){return s(S,r)}function a(S){return!!S.match(i)}function l(S){return!!S.match(r)}function c(S){return typeof S=="object"?Object.keys(S).length:0}function f(S){var E=[",",";","	","|"],T=[];return E.forEach(function(w){var _=e.dsvFormat(w).parse(S);if(_.length>=1){for(var $=c(_[0]),M=0;M<_.length;M++)if(c(_[M])!==$)return;T.push({delimiter:w,arity:Object.keys(_[0]).length})}}),T.length?T.sort(function(w,_){return _.arity-w.arity})[0].delimiter:null}function d(S){return delete S.columns,S}function p(S){var E=f(S);return E?d(e.dsvFormat(E).parse(S)):null}function y(S,E,T){T||(T=E,E={}),E.delimiter=E.delimiter||",";var w=E.latfield||"",_=E.lonfield||"",$=E.crs||"",M=[],I={type:"FeatureCollection",features:M};if($!==""&&(I.crs={type:"name",properties:{name:$}}),E.delimiter==="auto"&&typeof S=="string"&&(E.delimiter=f(S),!E.delimiter)){T({type:"Error",message:"Could not autodetect delimiter"});return}var N=E.numericFields?E.numericFields.split(","):null,P=typeof S=="string"?e.dsvFormat(E.delimiter).parse(S,function(C){if(N)for(var B in C)N.includes(B)&&(C[B]=+C[B]);return C}):S;if(!P.length){T(null,I);return}var F=[],z;w||(w=n(P[0])),_||(_=o(P[0]));var U=!w||!_;if(U){for(z=0;z<P.length;z++)M.push({type:"Feature",properties:P[z],geometry:null});T(F.length?F:null,I);return}for(z=0;z<P.length;z++)if(P[z][_]!==void 0&&P[z][w]!==void 0){var V=P[z][_],Z=P[z][w],u,m,x;x=t(V,"EW"),x&&(V=x),x=t(Z,"NS"),x&&(Z=x),u=parseFloat(V),m=parseFloat(Z),isNaN(u)||isNaN(m)?F.push({message:"A row contained an invalid value for latitude or longitude",row:P[z],index:z}):(E.includeLatLon||(delete P[z][_],delete P[z][w]),M.push({type:"Feature",properties:P[z],geometry:{type:"Point",coordinates:[parseFloat(u),parseFloat(m)]}}))}T(F.length?F:null,I)}function v(S){for(var E=S.features,T={type:"Feature",geometry:{type:"LineString",coordinates:[]}},w=0;w<E.length;w++)T.geometry.coordinates.push(E[w].geometry.coordinates);return T.properties=E.reduce(function(_,$){for(var M in $.properties)_[M]||(_[M]=[]),_[M].push($.properties[M]);return _},{}),{type:"FeatureCollection",features:[T]}}function b(S){for(var E=S.features,T={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},w=0;w<E.length;w++)T.geometry.coordinates[0].push(E[w].geometry.coordinates);return T.properties=E.reduce(function(_,$){for(var M in $.properties)_[M]||(_[M]=[]),_[M].push($.properties[M]);return _},{}),{type:"FeatureCollection",features:[T]}}return v2={isLon:l,isLat:a,guessLatHeader:n,guessLonHeader:o,csv:e.csvParse,tsv:e.tsvParse,dsv:e,auto:p,csv2geojson:y,toLine:v,toPolygon:b},v2}var b2=K0e();const X0e={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"};function Q0e(e){if(e.type!=="FeatureCollection")throw new Error("GeoJSON is not in FeatureCollection format");let t=!0,i=!0;for(let r=0;r<e.features.length;r++){const s=e.features[r];Object.assign(s.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in s&&typeof s.id<"u"&&(s.properties.ID_FILE=s.id,t=!1),"OBJECTID"in s.properties&&(s.properties.OBJECTID_FILE=s.properties.OBJECTID,delete s.properties.OBJECTID,i=!1),s.id=r+1}if(t)for(let r=0;r<e.features.length;r++)delete e.features[r].properties.ID_FILE;if(i)for(let r=0;r<e.features.length;r++)delete e.features[r].properties.OBJECTID_FILE}function eye(e,t){const i=r=>r.indexOf(" ")>-1;t.fields?.forEach(r=>{if(r.name&&i(r.name)){const s=r.name;let n,o="_",a;do n=s.replace(/ /g,o),a=t.fields?.find(l=>l.name===n),a&&(o+="_");while(a);r.alias=s,r.name=n;for(let l=0;l<e.features.length;l++){const c=e.features[l];c.properties[n]=c.properties[s],delete c.properties[s]}}})}function tye(e,t){const i=e.features[t].geometry.geometries;if(i.length===1)e.features[t].geometry={type:i[0].type,coordinates:i[0].coordinates};else{const r=i.map(s=>s.coordinates);e.features[t].geometry={type:`Multi${i[0].type}`,coordinates:r}}}function iye(e){return e==="MultiLineString"?"LineString":e==="MultiPolygon"?"Polygon":e}class rye extends Mi{async fetchFileData(t,i){const r=await T0.get(t,{responseType:"arrayBuffer"});switch(i){case Pe.GEOJSON:case Pe.DATAJSON:return JSON.parse(this.arbToStr(r.data));case Pe.SHAPEFILE:case Pe.GEOJSONZIPPED:case Pe.FLATGEOBUF:case Pe.FLATGEOBUFZIPPED:return r.data;case Pe.CSV:case Pe.DATACSV:return this.arbToStr(r.data);default:console.error(`Unsupported file type passed to fetchFileData- '${i}'`)}}extractGeoJsonFields(t){if(t.features.length<1)throw new Error("GeoJSON field extraction requires at least one feature");let i="";for(let o=0;o<t.features.length;o++){const a=t.features[o];if(a.geometry.type==="GeometryCollection"){const f=a.geometry.geometries;if(f===void 0||f.length===0)throw new Error("GeoJSON file has geometry collection with missing/incomplete geometries");const d=f[0].type;for(let p=0;p<f.length;p++)if(f[p].type!==d)throw new Error("GeoJSON file has geometry collection containing multiple geometry types");tye(t,o)}const c=iye(a.geometry.type);if(i==="")i=c;else if(i!==c)throw new Error("GeoJSON file contains multiple geometry types")}const r=Object.keys(t.features[0].properties).map(o=>({name:o,type:"string"}));let s=0;const n=Object.keys(t.features[0].properties);for(;s<t.features.length;){const o=t.features[s];if(o.properties&&Object.keys(o.properties).filter(a=>n.includes(a)).forEach(a=>{const l=o.properties[a];if(l!=null){const c=r.findIndex(f=>f.name===a);r[c]={name:a,type:this.inferType(l)},n.splice(n.indexOf(a),1)}}),n.length===0)break;s++}return r}extractCsvFields(t,i=","){return b2.dsv.dsvFormat(i).parseRows(t)[0].map(s=>({name:s,type:Qo.STRING}))}filterCsvLatLonFields(t,i=","){const r=b2.dsv.dsvFormat(i).parseRows(t),s=r[0],n={lat:JSON.parse(JSON.stringify(s)),lon:JSON.parse(JSON.stringify(s))};for(let o=0;o<s.length;o++)for(let a=1;a<r.length;a++){const l=Number(r[a][o]),c=n.lat.indexOf(s[o]),f=n.lon.indexOf(s[o]);if((isNaN(l)||l<-90||l>90)&&c!==-1&&n.lat.splice(c,1),(isNaN(l)||l<-180||l>180)&&f!==-1&&n.lon.splice(f,1),c===-1&&f===-1)break}return n}async geoJsonToEsriJson(t,i){let r,s="",n;const o={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:Qo.OID}]};Q0e(t);const a=t.features[0].geometry.type,l=X0e[a],c=JSON.parse(JSON.stringify(N0e[l]));if(i){if(i.sourceProjection&&(s=this.$iApi.geo.proj.normalizeProj(i.sourceProjection)),i.targetSR)r=i.targetSR;else throw new Error("geoJsonToEsriJson - missing opts.targetSR arguement");i.layerId?n=i.layerId:n=this.$iApi.geo.shared.generateUUID(),i.colour&&(c.renderer.symbol.color=new pa(i.colour).toArcServer())}else throw new Error("geoJsonToEsriJson - missing opts arguement");s||(s=Ve.parseGeoJsonCrs(t.crs)),o.renderer=await Mt.RendererFromJson(c.renderer),o.fields=(o.fields||[]).concat(i.fieldMetadata?.exclusiveFields?this.extractGeoJsonFields(t).filter(b=>i.fieldMetadata?.fieldInfo?.find(S=>S.name===b.name)):this.extractGeoJsonFields(t)),i.fieldMetadata?.enforceOrder&&i.fieldMetadata?.fieldInfo&&i.fieldMetadata?.fieldInfo.length>0&&(o.fields=this.$iApi.geo.attributes.orderFields(o.fields,i.fieldMetadata?.fieldInfo)),eye(t,o);const f=this.$iApi.geo.proj.normalizeProj(r);if(i){if(i.latField){const b=o.fields.find(S=>S.name===i.latField||S.alias===i.latField);b&&(b.type=Qo.DOUBLE)}if(i.lonField){const b=o.fields.find(S=>S.name===i.lonField||S.alias===i.lonField);b&&(b.type=Qo.DOUBLE)}}await this.$iApi.geo.proj.checkProjBomber([s,r]);const d=Ve.parseSR(r).toESRI();await this.$iApi.geo.proj.projectGeoJson(t,s,f);const p=D0e(t,{sr:8888});o.geometryType=this.$iApi.geo.geom.geoJsonGeomTypeToEsriGeomType(a);const y=o.fields.map(b=>b.name);for(let b=0;b<p.length;b++){const S=p[b];S.geometry.spatialReference=d,S.geometry.type=o.geometryType,Object.keys(S.attributes).forEach(E=>{y.includes(E)?(Array.isArray(S.attributes[E])||typeof S.attributes[E]=="object")&&S.attributes[E]!=null&&(S.attributes[E]=JSON.stringify(S.attributes[E])):delete S.attributes[E]})}return(i.fieldMetadata?.fieldInfo&&i.fieldMetadata?.fieldInfo.length>0?i.fieldMetadata.fieldInfo.filter(b=>b.trim&&y.includes(b.name)).map(b=>b.name):[]).forEach(b=>{for(let S=0;S<p.length;S++){const E=p[S].attributes;typeof E[b]=="string"&&(E[b]=E[b].trim())}}),o.source=p,o.spatialReference=d,o.id=n,o}async csvToGeoJson(t,i){const r={latfield:"Lat",lonfield:"Long",delimiter:","};return i&&(i.latfield&&(r.latfield=i.latfield),i.lonfield&&(r.lonfield=i.lonfield),i.delimiter&&(r.delimiter=i.delimiter)),new Promise((s,n)=>{b2.csv2geojson(t,r,(o,a)=>{o?(console.error("csv conversion error"),console.error(o),n(o)):(a.features.map(l=>{l.properties[r.lonfield]=l.geometry.coordinates[0],l.properties[r.latfield]=l.geometry.coordinates[1]}),s(a))})})}async shapefileToGeoJson(t){return(await ve(()=>import("./shp.min-CrxOebhu.js").then(r=>r.s),__vite__mapDeps([177,178]),import.meta.url)).default(t)}fgbToGeoJson(t,i){return ve(async()=>{const{geojson:s}=await import("./flatgeobuf-Xmj1HQyn.js");return{geojson:s}},[],import.meta.url).then(({geojson:s})=>new Promise(n=>{let o=!1,a=null;const l=s.deserialize(new Uint8Array(t),void 0,d=>{a=d.crs,o=!0});let c=0;const f=setInterval(()=>{if(l&&o){clearInterval(f);let d;a&&(a.code&&a.code!==4326&&a.org==="EPSG"?d=new Ve(a.code):a.wkt?d=new Ve(a.wkt):console.error("Encountered FlatGeobuf with non-EPSG org: ",a)),d&&(l.crs=d.toGeoJSON()),n(l)}else c+=60,c>i&&(clearInterval(f),n({}))},60)}))}inferType(t){return typeof t=="number"?Qo.DOUBLE:Qo.STRING}rawDataJsonParser(t,i=!1){let r;return typeof t=="string"?r=JSON.parse(t):i?r=structuredClone(t):r=t,r}async unzipSingleFile(t){const i=await ve(()=>import("./jszip.min-ByPhG62r.js").then(o=>o.j),__vite__mapDeps([179,178]),import.meta.url),s=await new i.default().loadAsync(t),n=Object.keys(s.files)[0];if(n&&s.file(n))return await s.file(n).async("arraybuffer");throw new Error("Could not find file in zipfile data.")}async binaryInitHelper(t){if(t.rawData&&t.rawData instanceof ArrayBuffer)return t.rawData;if(t.url)return this.$iApi.geo.layer.files.fetchFileData(t.url,t.layerType);throw new Error(`${t.layerType} config contains no url or invalid/missing raw data`)}arbToStr(t){return new TextDecoder("utf-8").decode(new Uint8Array(t))}}const sye=JSON.parse("[4326,4269,4258,31467,31468,31469,2166,2167,2168,2036,2044,2045,2065,2081,2082,2083,2085,2086,2091,2092,2093,2096,2097,2098,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2193,2199,2200,2206,2207,2208,2209,2210,2211,2212,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2935,2936,2937,2938,2939,2940,2941,2953,2963,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3034,3035,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3058,3059,3068,3114,3115,3116,3117,3118,3120,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3146,3147,3150,3151,3152,3300,3301,3328,3329,3330,3331,3332,3333,3334,3335,3346,3350,3351,3352,3366,3386,3387,3388,3389,3390,3396,3397,3398,3399,3407,3414,3416,3764,3788,3789,3790,3791,3793,3795,3796,3819,3821,3823,3824,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3854,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3888,3889,3906,3907,3908,3909,3910,3911,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4040,4041,4042,4043,4044,4045,4046,4047,4052,4053,4054,4055,4074,4075,4080,4081,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4178,4179,4180,4181,4182,4183,4184,4185,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4322,4324,4327,4329,4339,4341,4343,4345,4347,4349,4351,4353,4355,4357,4359,4361,4363,4365,4367,4369,4371,4373,4375,4377,4379,4381,4383,4386,4388,4417,4434,4463,4466,4469,4470,4472,4475,4480,4482,4483,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4557,4558,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4839,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4883,4885,4887,4889,4891,4893,4895,4898,4900,4901,4902,4903,4904,4907,4909,4921,4923,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4969,4971,4973,4975,4977,4979,4981,4983,4985,4987,4989,4991,4993,4995,4997,4999,5012,5013,5017,5048,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5132,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5224,5228,5229,5233,5245,5246,5251,5252,5253,5254,5255,5256,5257,5258,5259,5263,5264,5269,5270,5271,5272,5273,5274,5275,5801,5802,5803,5804,5808,5809,5810,5811,5812,5813,5814,5815,5816,20004,20005,20006,20007,20008,20009,20010,20011,20012,20013,20014,20015,20016,20017,20018,20019,20020,20021,20022,20023,20024,20025,20026,20027,20028,20029,20030,20031,20032,20064,20065,20066,20067,20068,20069,20070,20071,20072,20073,20074,20075,20076,20077,20078,20079,20080,20081,20082,20083,20084,20085,20086,20087,20088,20089,20090,20091,20092,21413,21414,21415,21416,21417,21418,21419,21420,21421,21422,21423,21453,21454,21455,21456,21457,21458,21459,21460,21461,21462,21463,21473,21474,21475,21476,21477,21478,21479,21480,21481,21482,21483,21896,21897,21898,21899,22171,22172,22173,22174,22175,22176,22177,22181,22182,22183,22184,22185,22186,22187,22191,22192,22193,22194,22195,22196,22197,25884,27205,27206,27207,27208,27209,27210,27211,27212,27213,27214,27215,27216,27217,27218,27219,27220,27221,27222,27223,27224,27225,27226,27227,27228,27229,27230,27231,27232,27391,27392,27393,27394,27395,27396,27397,27398,27492,28402,28403,28404,28405,28406,28407,28408,28409,28410,28411,28412,28413,28414,28415,28416,28417,28418,28419,28420,28421,28422,28423,28424,28425,28426,28427,28428,28429,28430,28431,28432,28462,28463,28464,28465,28466,28467,28468,28469,28470,28471,28472,28473,28474,28475,28476,28477,28478,28479,28480,28481,28482,28483,28484,28485,28486,28487,28488,28489,28490,28491,28492,29701,29702,30161,30162,30163,30164,30165,30166,30167,30168,30169,30170,30171,30172,30173,30174,30175,30176,30177,30178,30179,30800,31251,31252,31253,31254,31255,31256,31257,31258,31259,31275,31276,31277,31278,31279,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31466,31700]");class nye extends Mi{async loadWfsData(t,i=-1,r=0,s=1e3,n={type:"FeatureCollection",features:[]},o=!1){let a={offset:r.toString(),limit:s.toString()};i===-1&&(a={resulttype:"hits"});const c=new pv(t).updateQuery(a),[f,d]=await Ln(T0.get(c));if(!d)return console.error(`WFS data failed to load for ${t}`,f),Promise.reject(f);const p=d.data;if(i===-1)return i=d.data.numberMatched,this.loadWfsData(t,i,r,s,n,o);if(n.features=n.features.concat(p.features),p.features.length<i-r){const y=Math.min(s,i-r-p.features.length);return this.loadWfsData(c,i,p.features.length+r,y,n,o)}else return o&&n.features.length>0&&n.features[0].geometry.type===ui.POINT&&n.features.forEach(y=>{const v=y.geometry.coordinates;y.properties.rvInternalCoordX=v[0],y.properties.rvInternalCoordY=v[1]}),n}reversedAxisWKIDs(){return sye}parseCapabilities(t){const i=()=>{let o=t;if(t.indexOf("?")===-1)o+="?service=WMS&request=GetCapabilities";else{const a=new pv(t.toUpperCase());"SERVICE"in a.queryMap||(o+="&service=WMS"),"REQUEST"in a.queryMap||(o+="&request=GetCapabilities")}return Li(o,{responseType:"xml"}).then(a=>a.data)},r=new Promise(o=>{i().then(a=>o(a)).catch(()=>{console.error("Get capabilities failed; trying the second time;"),o(i())})}),s=o=>{let a=o.Layer;return a?(Array.isArray(a)||(a=[a]),a.map(l=>{const c=l.Name,f=l.Title;let d=l.Style;const p=[],y={};return d&&(Array.isArray(d)||(d=[d]),d.forEach(v=>{const b=v.Name;if(p.push(b),v.LegendURL){const E=v.LegendURL.OnlineResource["@_xlink:href"];y[b]=E.replaceAll("&amp;","&")}})),{name:c?.toString()??null,title:f,queryable:l["@_queryable"]==="1",layers:s(l),allStyles:p,styleToURL:y,currentStyle:p[0]}})):[]},n=o=>{let a=o.Format;return Array.isArray(a)||(a=[a]),a};return ve(async()=>{const{XMLParser:o}=await import("./fxp-rjvO85py.js").then(a=>a.f);return{XMLParser:o}},[],import.meta.url).then(({XMLParser:o})=>r.then(a=>{if(!a)return[];const l=new XMLSerializer().serializeToString(a),c={ignoreAttributes:!1},f=new o(c).parse(l);if("ServiceExceptionReport"in f)return console.error(f.ServiceExceptionReport.ServiceException),[];const d=f.WMS_Capabilities.Capability;return{layers:s(d),queryTypes:n(d.Request.GetFeatureInfo)}}))}}class Um{static makeRawItem(t,i){const r=Promise.resolve();return rr({format:t,data:i,started:!0,loaded:!0,loading:r,load(){return r}})}static makeOidItem(t,i){const r=new Si,s={format:Oh.ESRI,data:void 0,started:!1,loaded:!1,loading:r.getPromise(),async load(){if(!this.started){this.started=!0;const n=await i.getGraphic(t,{getAttribs:!0});this.data=n.attributes,this.loaded=!0,r.resolveMe()}return r.getPromise()}};return rr(s)}}class oye extends Mi{files;ogc;constructor(t){super(t),this.files=new rye(t),this.ogc=new nye(t)}createLayer(t){let i;switch(t.layerType){case Pe.FEATURE:i=mye;break;case Pe.MAPIMAGE:i=yye;break;case Pe.GRAPHIC:i=lye;break;case Pe.TILE:i=_ye;break;case Pe.WFS:i=xye;break;case Pe.DATATABLE:i=Sye;break;case Pe.WMS:i=wye;break;case Pe.GEOJSON:i=cye;break;case Pe.GEOJSONZIPPED:i=fye;break;case Pe.FLATGEOBUFZIPPED:i=pye;break;case Pe.CSV:i=hye;break;case Pe.DATAJSON:i=Eye;break;case Pe.IMAGERY:i=bye;break;case Pe.SHAPEFILE:i=uye;break;case Pe.FLATGEOBUF:i=dye;break;case Pe.OSM:i=vye;break;default:throw new Error("Unsupported Layer Type "+t.layerType)}return new i(t,this.$iApi)}sublayerId(t,i){return`${t}-${i}`}getLayer(t){return co(this.$vApp.$pinia).getLayerByAny(t)}getSublayer(t,i){const r=co(this.$vApp.$pinia).getLayerById(t);if(r&&r.supportsSublayers&&i<r.sublayers.length)return r.sublayers[i]}async awaitLayer(t,i=!1){let r=this.getLayer(t);if(!r){const s=new Si;let n=0;const o=300,a=setInterval(()=>{n+=o;const l=this.getLayer(t);if(l)clearInterval(a),s.resolveMe(l);else if(n>8e3){clearInterval(a);const c=setInterval(()=>{const f=this.getLayer(t);f&&(clearInterval(c),s.resolveMe(f))},1500)}},o);r=await s.getPromise()}return i&&await r.viewPromise(),r}async awaitSublayer(t,i){return this.awaitLayer(this.sublayerId(t,i))}getLayerPosition(t){const i=this.getLayer(t);if(i&&i.mapLayer){const r=i.isSublayer?i.parentLayer.id:i.id,s=this.layerOrderIds().findIndex(n=>n===r);return s===-1?void 0:s}else return}layerOrderIds(){return co(this.$vApp.$pinia).mapOrder.slice(0)||[]}allLayers(){return co(this.$vApp.$pinia).layers||[]}allActiveLayers(){return this.allLayers().filter(t=>t.layerState!==fi.ERROR&&t.initiationState===Qt.INITIATED)}allLayersOnMap(t=!0){const i=this.allLayers().filter(r=>r.mapLayer&&r.initiationState===Qt.INITIATED);if(t){const r=this.layerOrderIds(),s=new Map(r.map((n,o)=>[n,o]));i.sort((n,o)=>s.get(n.id)-s.get(o.id))}return i}allDataLayers(){return this.allLayers().filter(t=>!t.mapLayer&&t.initiationState===Qt.INITIATED)}allErrorLayers(){return this.allLayers().filter(t=>t.layerState===fi.ERROR)}allInitiatingLayers(){return this.allLayers().filter(t=>t.initiationState===Qt.INITIATING)}getLayerControls(t){const i=this.getLayer(t);if(!i)return;const r=i.config.controls?.slice()??[vi.BoundaryZoom,vi.Datatable,vi.Identify,vi.Metadata,vi.Opacity,vi.Refresh,vi.Reload,vi.Remove,vi.Settings,vi.Symbology,vi.Visibility],s=[];return i.supportsFeatures||s.push(vi.Datatable),i.extent===void 0&&s.push(vi.BoundaryZoom),(i.config?.metadata||(i.isSublayer?i.parentLayer?.config?.metadata:{})||{}).url||s.push(vi.Metadata),!i.mapLayer&&!i.config.controls?.includes(vi.Settings)&&s.push(vi.Settings),s.forEach(o=>{const a=r?.indexOf(o)??-1;a!==-1&&r?.splice(a,1)}),{controls:r,disabledControls:i.config.disabledControls??[]}}async loadLayerMetadata(t){if(!t.trim())throw new Error("url missing on layer server metadata request.");const[i,r]=await Ln(Li(t,{query:{f:"json"}}));if(!r)throw console.error(`Service metadata load error: ${t}`,i),new Error(`Service metadata load error: ${t}`);if(!r.data)throw console.error(`Service metadata load error: ${t}`),new Error(`Service metadata load error: ${t}`);const s=r.data,n={geometryType:Ze.NONE,minScale:0,maxScale:0,canModifyLayer:!0,extent:void 0,defaultVisibility:!0,fields:[],displayField:"",objectIdField:"",renderer:void 0,currentVersion:0,name:"",dataFormat:lr.UNKNOWN,mapLayer:!0};if(n.name=s.name||"",n.currentVersion=s.currentVersion||-1,n.minScale=s.effectiveMinScale||s.minScale||0,n.maxScale=s.effectiveMaxScale||s.maxScale||0,n.extent=s.extent?ei.fromArcServer(s.extent,"layer_extent"):void 0,n.defaultVisibility=s.defaultVisibility??!0,n.canModifyLayer=s.canModifyLayer??!0,s.type==="Feature Layer"||s.type==="Table"){if(n.dataFormat=lr.ESRI_FEATURE,n.displayField=s.displayField||"",Array.isArray(s.fields)){const o=await Promise.all(s.fields.map(l=>Mt.FieldFromJson(l)));n.fields=o.map(l=>({name:l.name,alias:l.alias,type:l.type,length:l.length})),o.every(l=>l.type==="oid"?(n.objectIdField=l.name,!1):!0)&&(n.objectIdField=s.objectIdField||(console.error(`Encountered service with no OID defined: ${t}`),"")),s.type==="Feature Layer"?(n.geometryType=this.$iApi.geo.geom.serverGeomTypeToRampGeomType(s.geometryType),s.drawingInfo?.renderer&&(n.renderer=await Mt.RendererFromJson(s.drawingInfo.renderer)),s.sourceSpatialReference&&(n.sourceSR=Ve.fromConfig(s.sourceSpatialReference))):n.mapLayer=!1}}else n.dataFormat=lr.ESRI_RASTER;return n}async loadFeatureCount(t,i=""){if(!t)return console.error("A layer without a url attempted to run the server based feature count routine."),0;const r={query:{f:"json",where:i||"1=1",returnCountOnly:!0,returnGeometry:!1}},[s,n]=await Ln(Li(`${t}/query`,r));return n?n.data?Number.isInteger(n.data.count)?n.data.count:(console.error(`Funny result (${n.data.count}) during feature count: ${t}`),0):(console.error(`Unable to load feature count: ${t}`),0):(console.error(`Feature count request unsuccessful: ${t}`,s),0)}}class MT extends Mi{config={};id;uid;name;layerState;initiationState;drawState;layerIdx;layerType;layerFormat;dataFormat;supportsIdentify;supportsFeatures;mapLayer;featureCount;fields;fieldList;nameField;get nameArcade(){return""}async setNameArcade(t){}tooltipField;get tooltipArcade(){return""}async setTooltipArcade(t){}oidField;expectedTime;lastCancel;supportsSublayers;isSublayer;isRemoved;isFile;isCosmetic;isSystem;userAdded;identify;identifyMode;hovertips;geomType;legend;esriLayer;esriSubLayer;esriView;extent;sourceSR;canModifyLayer;canReload;url;_parentLayer;_sublayers;constructor(t,i){super(i),this.config=t,this.id="",this.uid="",this.name="error",this.layerState=fi.NEW,this.drawState=ts.NOT_LOADED,this.initiationState=Qt.NEW,this.layerIdx=-1,this.layerFormat=Ts.UNKNOWN,this.layerType=Pe.UNKNOWN,this.dataFormat=lr.UNKNOWN,this.supportsIdentify=!1,this.identifyMode=Bi.NONE,this.supportsFeatures=!1,this.mapLayer=!0,this.featureCount=0,this.fields=[],this.fieldList="",this.nameField="",this.tooltipField="",this.oidField="",this.supportsSublayers=!1,this.isSublayer=!1,this.isRemoved=!1,this.isFile=!1,this.isCosmetic=!1,this.isSystem=!1,this.userAdded=!1,this.identify=!1,this.hovertips=!1,this.geomType=Ze.UNKNOWN,this.legend=[],this._sublayers=[],this.expectedTime={draw:0,load:0,fail:0},this.lastCancel=0,this.canModifyLayer=!0,this.canReload=!0,this.url=""}async initiate(){return Promise.resolve()}async terminate(){return Promise.resolve()}async reload(){return Promise.resolve()}cancelLoad(){}removeEsriLayer(){}loadPromise(){return Promise.resolve()}viewPromise(){return Promise.resolve()}get isLoaded(){return!1}get layerExists(){return!1}getFieldsToTrim(){return[]}getLayerTree(){return new dv(0,"Fake tree","getLayerTree() was not implemented in layer")}getSR(){return Ve.latLongSR()}get visibility(){return!1}set visibility(t){}get opacity(){return 0}set opacity(t){}get scaleSet(){return new fk}set scaleSet(t){}isOffscale(t=void 0){return!1}zoomToVisibleScale(){return Promise.resolve()}zoomToLayerBoundary(){return Promise.resolve()}get mouseTolerance(){return 0}set mouseTolerance(t){}get touchTolerance(){return 0}set touchTolerance(t){}get drawOrder(){return[]}canIdentify(){return!1}nameValue(t){return""}tooltipValue(t){return""}runIdentify(t){return[]}getAttributes(){return Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){}clearFeatureCache(){}downloadedAttributes(){return 0}attribLoadAborted(){return!1}getTabularAttributes(){return Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,i){return Promise.resolve(new Tn(new Nl))}getIcon(t){return Promise.resolve("")}getSqlFilter(t){return""}setSqlFilter(t,i){}applySqlFilter(t=[]){}getFilterOIDs(t=[],i=void 0){return Promise.resolve(void 0)}getGraphicExtent(t){return Promise.resolve(ei.fromParams("fake",0,0,0,0))}get parentLayer(){if(this.isSublayer)return this._parentLayer;throw new Error("Attempted to get parent layer of a non-sublayer object")}set parentLayer(t){if(!this.isSublayer&&t)throw new Error("Attempted to set parent layer for a non-sublayer object");this._parentLayer=t}get sublayers(){return this._sublayers}onLoad(){}onError(t=!0){}updateLayerState(t,i=!1){}updateDrawState(t){}updateInitiationState(t){}uidToIdx(t){if(t===this.uid)return-1;{const i=this._sublayers.findIndex(r=>r?.uid===t);if(i===-1)throw new Error(`Attempt to access non-existing unique id [layerid ${this.id}, uid ${t}]`);return i}}getSublayer(t){if(!this.supportsSublayers){console.warn(`Attempted to call getSublayer on a layer (layer id: ${this.id}) that does not support FCs`);return}let i;if(typeof t=="string"?i=this.uidToIdx(t):i=t,this._sublayers[i]===void 0)throw new Error(`Attempt to access non-existing layer index [layerid ${this.id}, lookup value ${t}]`);return this._sublayers[i]}controlAvailable(t){const i=this.$iApi.geo.layer.getLayerControls(this.id);return this.$iApi.geo.shared.controlAvailable(t,i)}}class YD extends MT{timers;origRampConfig;loadDefProm;loadPromDone;layerTree;nameArcadeFormula;nameArcadeExecutor;tooltipArcadeFormula;tooltipArcadeExecutor;constructor(t,i){super(t,i),this.name=t.name||"",this.geomType=Ze.NONE,this.dataFormat=lr.UNKNOWN,this.layerType=Pe.UNKNOWN,this.layerFormat=Ts.UNKNOWN;const r=i.geo.map.layerDefaultTimes;this.expectedTime.draw=t.expectedDrawTime??r.draw,this.expectedTime.load=t.expectedLoadTime??r.load,this.expectedTime.fail=t.maxLoadTime||r.fail,this.lastCancel=0,this.timers={draw:void 0,load:void 0},this.origRampConfig=t,this.id=t.id||"",this.uid=this.$iApi.geo.shared.generateUUID(),this.isCosmetic=!1,this.isSystem=t.system||!1,this.isRemoved=!1,this.isSublayer=!1,this.supportsIdentify=!1,this.mapLayer=!0,this.identifyMode=Bi.NONE,this.supportsFeatures=!1,this.hovertips=!1,this.supportsSublayers=!1,this.isFile=!1,this.layerState=fi.NEW,this.initiationState=Qt.NEW,this.drawState=ts.NOT_LOADED,this.loadDefProm=new Si,this.url=this.origRampConfig.url,this.canReload=!!(this.url||this.origRampConfig.caching),this.loadPromDone=!1,this.nameArcadeFormula="",this.tooltipArcadeFormula="",this.layerTree=new dv(0,this.uid,this.name,!0)}updateInitiationState(t){this.initiationState=t,this.$iApi.event.emit(Ce.LAYER_INITIATIONSTATECHANGE,{state:t,layer:this})}updateLayerState(t,i=!1){this.layerState=t,this.$iApi.event.emit(Ce.LAYER_LAYERSTATECHANGE,{state:t,layer:this,userCancel:i})}updateDrawState(t){this.drawState=t,t===ts.REFRESH?this.startTimer("draw"):t===ts.UP_TO_DATE&&this.stopTimer("draw"),this.$iApi.event.emit(Ce.LAYER_DRAWSTATECHANGE,{state:t,layer:this})}async initiate(){this.updateInitiationState(Qt.INITIATING),this.startTimer("load");const t=n=>{this.layerState!==fi.ERROR&&(console.error(n),this.onError())},i=Date.now(),r=setTimeout(()=>{i>this.lastCancel&&(this.lastCancel=Date.now(),t("Layer timed out during initialize. Id: "+this.id))},this.expectedTime.fail),[s]=await Ln(this.onInitiate());clearTimeout(r),i>this.lastCancel&&(this.drawState!==ts.UP_TO_DATE&&this.startTimer("draw"),s?t(`Init error on layer id: ${this.id} . ${s.message}`):this.updateInitiationState(Qt.INITIATED))}async onInitiate(){if(this.isSublayer)return console.warn("Attempted to initiate a sublayer as a CommonLayer"),Promise.resolve();this.initiationState===Qt.INITIATED&&console.error(`Encountered layer initialize while already initiated, layer id ${this.id}`)}async terminate(){this.updateInitiationState(Qt.TERMINATING),await Promise.all(this.sublayers.map(t=>t.terminate())),this.loadDefProm=new Si,this.loadPromDone=!1,this.updateLayerState(fi.NEW),this.updateDrawState(ts.NOT_LOADED),this.updateInitiationState(Qt.TERMINATED)}onLoad(){const t=Date.now();let i=!1;const r=setTimeout(()=>{i=!0,this.onError()},this.expectedTime.fail);try{const s=this.onLoadActions();Promise.all(s).then(()=>{clearTimeout(r),i?this.visibility=!1:(this.stopTimer("load"),t>this.lastCancel&&(this.loadPromDone&&(this.loadDefProm=new Si),this.loadDefProm.resolveMe(),this.loadPromDone=!0,this.sublayers.forEach(n=>n.onLoad()),this.updateLayerState(fi.LOADED)))}).catch(()=>{clearTimeout(r),this.onError()})}catch(s){console.error("Encountered error on layer load: ",s),clearTimeout(r),this.onError()}}onError(t=!0){this.layerState!==fi.ERROR&&(this.initiationState===Qt.INITIATING&&this.updateInitiationState(Qt.NEW),this.loadPromDone&&(this.loadDefProm=new Si),this.loadDefProm.rejectMe(),this.loadPromDone=!0,this.sublayers.forEach(i=>i.onError(t)),t&&this.$iApi.notify.show(Es.ERROR,this.$iApi.$i18n.t("layer.error",{id:this.id})),this.stopTimer("draw"),this.stopTimer("load"),this.updateLayerState(fi.ERROR,!t))}onLoadActions(){return[]}cancelLoad(){this.isLoaded||this.initiationState===Qt.NEW||this.initiationState===Qt.TERMINATING||this.initiationState===Qt.TERMINATED||(this.lastCancel=Date.now(),this.esriLayer&&this.esriLayer.loadStatus==="loading"&&this.esriLayer.cancelLoad(),this.removeEsriLayer(),this.onError(!1))}loadPromise(){return this.loadDefProm.getPromise()}get isLoaded(){return this.layerState===fi.LOADED}canIdentify(){return this.supportsIdentify&&this.isLoaded&&this.visibility&&this.identify&&!this.scaleSet.isOffScale(this.$iApi.geo.map.getScale()).offScale}getLayerTree(){return this.layerTree}stubError(){throw new Error(`Attempted to use a method not valid for ${this.layerType}`)}getAttributes(){return this.stubError(),Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){this.stubError()}clearFeatureCache(){this.stubError()}getTabularAttributes(){return this.stubError(),Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,i){return this.stubError(),Promise.resolve(new Tn(new Nl))}getIcon(t){return this.stubError(),Promise.resolve("")}getSqlFilter(t){return this.stubError(),""}setSqlFilter(t,i){this.stubError()}getFilterOIDs(t=[],i=void 0){return this.stubError(),Promise.resolve(void 0)}getGraphicExtent(t){return this.stubError(),Promise.resolve(ei.fromParams("fake",0,0,0,0))}applySqlFilter(t=[]){this.stubError()}setCustomParameter(t,i,r=!0){this.stubError()}startTimer(t){this.stopTimer(t),this.expectedTime[t]>0&&(this.timers[t]=window.setTimeout(()=>this.$iApi.notify.show(Es.WARNING,this.$iApi.$i18n.t(`layer.long${t}`,{id:this.name||this.id})),this.expectedTime[t]))}stopTimer(t){this.timers[t]&&(clearTimeout(this.timers[t]),this.timers[t]=void 0)}async arcadeGenerator(t){const i={variables:[{name:"$attr",type:"dictionary",properties:this.fields.map(r=>{const s=this.$iApi.geo.attributes.fieldTypeToArcade(r.type);return s?{name:r.name,type:s}:(console.error(`Encountered field type with no arcade support: ${r.type} [${r.name}]`),s)}).filter(r=>!!r)}]};return Mt.ArcadeExecutor(t,i)}get nameArcade(){return this.nameArcadeFormula}async setNameArcade(t){this.supportsFeatures?t.trim()===""?(this.nameArcadeFormula="",this.nameArcadeExecutor=void 0):(this.nameArcadeFormula=t,this.nameArcadeExecutor=await this.arcadeGenerator(t)):console.error("Attempted to set a name arcade function on a layer that doesn't support it.")}async nameInitializer(t,i=""){if(this.supportsFeatures){const r=(t?.nameArcade||"").trim();r&&await this.setNameArcade(r),this.nameField=(t?.nameField||"").trim()||i||this.oidField}else console.error("Attempted to init a name field on an unsupported layer.")}nameValue(t){if(t)if(this.nameArcade){const i={$attr:t};return this.nameArcadeExecutor?.execute(i)??"Arcade Error"}else return this.nameField?t[this.nameField]??"Name Field Error":"";else return""}get tooltipArcade(){return this.tooltipArcadeFormula}async setTooltipArcade(t){this.supportsFeatures?t.trim()===""?(this.tooltipArcadeFormula="",this.tooltipArcadeExecutor=void 0):(this.tooltipArcadeFormula=t,this.tooltipArcadeExecutor=await this.arcadeGenerator(t)):console.error("Attempted to set a tooltip arcade function on a layer that doesn't support it.")}async tooltipInitializer(t){if(this.supportsFeatures){const i=(t?.tooltipArcade||"").trim();i&&await this.setTooltipArcade(i),this.tooltipField=(t?.tooltipField||"").trim()}else console.error("Attempted to init a tooltip field on an unsupported layer.")}tooltipValue(t){if(t)if(this.tooltipArcade){const i={$attr:t};return this.tooltipArcadeExecutor?.execute(i)??"Arcade Error"}else return this.tooltipField?t[this.tooltipField]??this.nameValue(t):this.nameValue(t);else return""}}class Cu extends YD{_serverVisibility;_scaleSet;_mouseTolerance;_touchTolerance;_drawOrder;_lastFilterUpdate="";viewDefProm;esriWatches;constructor(t,i){super(t,i),this._scaleSet=new fk,this._mouseTolerance=t.mouseTolerance!=null?t.mouseTolerance:5,this._touchTolerance=t.touchTolerance!=null?t.touchTolerance:15,this._drawOrder=[],this._serverVisibility=void 0,this.isCosmetic=t.cosmetic||!1,this.extent=t.extent?ei.fromConfig(`${this.id}_extent`,t.extent):void 0,this.viewDefProm=new Si,this.esriWatches=[]}noLayerErr(){console.error("Attempted to manipulate the layer but no layer found. Likely .initiate() was not finished or failed. Layer id "+this.id),console.trace()}notLoadedErr(){console.error("Attempted to manipulate the layer before it was loaded. Layer id "+this.id),console.trace()}async onInitiate(){if(await super.onInitiate(),!this.esriLayer){this.noLayerErr();return}this.esriWatches.push(ar(()=>this.esriLayer.visible,t=>{this.$iApi.event.emit(Ce.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this})})),this.esriWatches.push(ar(()=>this.esriLayer.opacity,t=>{this.$iApi.event.emit(Ce.LAYER_OPACITYCHANGE,{opacity:t,layer:this})})),this.esriWatches.push(ar(()=>this.esriLayer.loadStatus,t=>{const i={"not-loaded":fi.LOADING,loading:fi.LOADING,loaded:fi.LOADED,failed:fi.ERROR};t==="loaded"?this.onLoad():t==="failed"?this.onError():this.updateLayerState(i[t])})),this.esriLayer.on("layerview-create",t=>{this.esriView=pi(t.layerView),this.esriWatches.push(ar(()=>t.layerView.updating,i=>{this.updateDrawState(i?ts.REFRESH:ts.UP_TO_DATE)})),this.viewDefProm.resolveMe()}),this.sublayers.forEach(t=>t.initiate())}async terminate(){this.esriLayer=void 0,await super.terminate(),this.viewDefProm=new Si,this.esriWatches.forEach(t=>t.remove()),this.esriWatches=[]}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.removeEsriLayer();const t=Date.now();if(this.$iApi.event.emit(Ce.LAYER_RELOAD_START,this),this.sublayers.forEach(i=>this.$iApi.event.emit(Ce.LAYER_RELOAD_START,i)),await this.terminate(),await this.initiate(),!(this.lastCancel>t)){if(!this.esriLayer){console.error("ESRI layer failed to re-create during reload.");return}this.$iApi.geo.map.insertToEsriMap(this),this.$iApi.event.emit(Ce.LAYER_RELOAD_END,this),this.sublayers.forEach(i=>this.$iApi.event.emit(Ce.LAYER_RELOAD_END,i))}}makeEsriLayerConfig(t){return{id:t.id,url:t.url,opacity:t?.state?.opacity??1,visible:t?.state?.visibility??!0}}removeEsriLayer(){this.esriLayer&&this.$iApi.geo.map.esriMap&&this.$iApi.geo.map.esriMap.layers.findIndex(i=>i.id===this.id)>-1&&this.$iApi.geo.map.esriMap.layers.remove(this.esriLayer)}onLoadActions(){const t=super.onLoadActions();if(this.name||(this.name=this.esriLayer?.title||this.id),this.isCosmetic||(this.identify=this.config.state?.identify??this.supportsIdentify),this.layerType!==Pe.WMS){const i=this.$iApi.geo.proj.checkProj(this.getSR()).then(r=>r?Promise.resolve():Promise.reject());t.push(i)}return t}viewPromise(){return this.viewDefProm.getPromise()}mapCheck(){return this.$iApi.geo.map.created?!0:(console.error("Attempting to use map-dependent logic before the layer has been added to the map"),console.trace(),!1)}get scaleSet(){return this._scaleSet}set scaleSet(t){this._scaleSet=t}isOffscale(t=void 0){let i;if(typeof t>"u")if(this.mapCheck())i=this.$iApi.geo.map.getScale();else return!1;else i=t;return this.scaleSet.isOffScale(i).offScale}zoomToVisibleScale(){return this.mapCheck()?this.$iApi.geo.map.zoomToVisibleScale(this.scaleSet):Promise.resolve()}zoomToLayerBoundary(){return this.extent?this.mapCheck()?this.$iApi.geo.map.zoomMapTo(this.extent):Promise.resolve():(console.error(`Attempted to zoom to boundary of a layer with no extent (Layer Id: ${this.id})`),Promise.resolve())}get mouseTolerance(){return this._mouseTolerance}set mouseTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set click tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative click tolerance");return}this._mouseTolerance=t}get touchTolerance(){return this._touchTolerance}set touchTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set touch tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative touch tolerance");return}this._touchTolerance=t}get layerExists(){return this.initiationState===Qt.INITIATED&&!!this.esriLayer}get drawOrder(){return this._drawOrder}get visibility(){return this.layerExists?this.esriLayer.visible:!1}set visibility(t){this.layerExists?this.esriLayer.visible=t:this.noLayerErr()}checkVisibility(){this.supportsSublayers&&this.layerExists&&(this.visibility=this.sublayers.some(t=>t.visibility))}get opacity(){return this.layerExists?this.esriLayer.opacity:0}set opacity(t){this.layerExists?this.esriLayer.opacity=t:this.noLayerErr()}getSR(){return this.esriLayer?Ve.fromESRI(this.esriLayer.spatialReference):(this.noLayerErr(),Ve.latLongSR())}}class OT extends Cu{attribs;renderer;serviceUrl;canModifyLayer;filter;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.geomType=Ze.UNKNOWN,this.serviceUrl="",this.fieldList="",this.canModifyLayer=!0,this.filter=new dk(t.permanentFilteredQuery||"",t.initialFilteredQuery||""),this.hovertips=t.state?.hovertips??!0,this.attribs=new ZD}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}async loadLayerMetadata(t={}){if(!this.serviceUrl)return;const i=Date.now(),r=await this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl);if(!(i<this.lastCancel))if(this.geomType=r.geometryType,this.attribs.quickCache=new XD(this.geomType),this.scaleSet.minScale=r.minScale,this.scaleSet.maxScale=r.maxScale,this.dataFormat=r.dataFormat,this.extent=this.extent??r.extent,this._serverVisibility=r.defaultVisibility,this.origRampConfig.name||(this.name=r.name??this.id),this.dataFormat===lr.ESRI_FEATURE){this.supportsFeatures=!0,this.canModifyLayer=this.layerType===Pe.SUBLAYER?r.canModifyLayer:!0,this.fields=r.fields,this.nameField=r.displayField,this.oidField=r.objectIdField,this.sourceSR=r.sourceSR,this.drawOrder.forEach(o=>{o.field&&this.fields.findIndex(a=>a.name===o.field)===-1&&console.error(`Draw order for layer ${this.id} references invalid field ${o.field}`)});const s=t&&t.customRenderer&&t.customRenderer.type?t.customRenderer:r.renderer;this.renderer=this.$iApi.geo.symbology.makeRenderer(s,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const n={supportsLimit:(r.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:"*",permanentFilter:this.getSqlFilter(Dr.PERMANENT)};this.attribs.attLoader=new KD(this.$iApi,n)}else this.supportsFeatures=!1,this.supportsIdentify=!1}getAttributes(){return this.attribs.attLoader.getAttribs()}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}getFieldsToTrim(){return this.fields.filter(t=>t.trim).map(t=>t.name)}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,i){let r={},s=new Nl;const n=this.$iApi.geo.map;let o=!1,a=!1,l=0;if(i.getAttribs||i.getStyle){const f=this.attribs.quickCache.getAttribs(t);if(f)r=f;else if(this.attribs.attLoader.isLoaded()||this.isFile){const d=await this.attribs.attLoader.getAttribs();r=d.features[d.oidIndex[t]]}else o=!0}if(i.getGeom){l=n.getScale();const f=this.attribs.quickCache.getGeom(t,l);if(f)s=f;else if(this.layerType===Pe.FEATURE){await this.viewPromise(),this.esriView.updating&&await new Promise(y=>{const v=ar(()=>this.esriView.updating,b=>{b||(v.remove(),y())})});const d=await Mt.Query();d.objectIds=[t],d.returnGeometry=!0;const p=await this.esriView.queryFeatures(d);if(p.features.length){const y=p.features[0],v=this.$iApi.geo.geom.geomEsriToRamp(y.geometry);this.attribs.quickCache.setGeom(t,v,l),s=v}else a=!0}else a=!0}if(o||a){const f={oid:t,serviceUrl:this.serviceUrl,includeGeometry:a,attribs:this.fieldList,fieldsToTrim:this.getFieldsToTrim()};a&&(f.mapSR=n.getSR().wkid?.toString(),this.attribs.quickCache.isPoint||(f.maxOffset=n.esriView?.resolution));const d=await this.$iApi.geo.attributes.loadSingleFeature(f);a&&(this.attribs.quickCache.setGeom(t,d.geometry,l),s=d.geometry),(o||typeof this.attribs.quickCache.getAttribs(t)>"u")&&(this.attribs.quickCache.setAttribs(t,d.attributes),o&&(r=d.attributes))}const c=new Tn(s,"",i.getAttribs?r:void 0);if(i.getStyle){const f=Ge(this.renderer.getGraphicSymbol(r));c.style=this.$iApi.geo.geom.styleEsriToRamp(f)}return c}async getIcon(t){if(!this.renderer)throw new Error("getIcon called before renderer is defined");const i=await this.getGraphic(t,{getAttribs:!0});return this.$iApi.geo.symbology.getGraphicIcon(i.attributes||{},this.renderer)}setSqlFilter(t,i){const r=this.filter.getSql(t);if(i===r)return;this.filter.setSql(t,i),this.$iApi.event.emit(Ce.FILTER_CHANGE,{uid:this.uid,filterKey:t});const s=`${this.uid}-${t}-${i}`;this._lastFilterUpdate=s,setTimeout(()=>{this._lastFilterUpdate===s&&this.applySqlFilter()},100)}applySqlFilter(t=[]){throw new Error(`attempted to apply sql filter ${t} to a layer not equipped for it. likely a new subclass of AttribLayer did not override applySqlFilter`)}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[],i=void 0){const r=this.filter.getCombinedSql(t),s=!!i;if(!(r||s))return;i&&this.filter.setExtent(i);const n=this.filter.sqlActiveFilters(t);let o=this.filter.getCache(n,s);if(!o){const a={filterGeometry:i,filterSql:r,includeGeometry:!1,sourceSR:this.sourceSR};o=this.queryOIDs(a),this.filter.setCache(o,n,s)}return o}queryOIDs(t){this.isFile&&(console.error("a file layer called a server based query function"),console.trace());const i={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(i)}async queryFeaturesDiscrete(t){const i=await this.queryOIDs(t),r={getGeom:!!t.includeGeometry,getAttribs:!0};return i.map(s=>({oid:s,graphic:this.getGraphic(s,r)}))}async queryFeatures(t){const i=await this.queryFeaturesDiscrete(t);return Promise.all(i.map(r=>r.graphic))}configDrawOrder(t,i){Array.isArray(t.drawOrder)&&t.drawOrder.length>0&&(i.orderBy=t.drawOrder.map(r=>{const s=r.ascending??!0?"ascending":"descending";return r.field?{field:r.field,order:s}:{valueExpression:r.arcade,order:s}}),this._drawOrder=t.drawOrder.slice())}}class aye extends Cu{constructor(t,i){super(t,i),this.dataFormat=lr.ESRI_FEATURE,this.layerFormat=Ts.GRAPHIC,this.hovertips=!1}_graphics=[];makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}getGraphicCount(){return this._graphics.length}getLocalGraphic(t){return this._graphics.find(i=>i.id===t)}getEsriGraphic(t){return this.esriLayer?.graphics.find(i=>i.id===t)}get graphics(){return this._graphics.slice()}async addGraphic(t){if(!this.layerExists){this.noLayerErr();return}let i;t instanceof Array?i=t:i=[t];const r=i.filter(l=>this._graphics.findIndex(f=>f.id===l.id)===-1?(this._graphics.push(l),!0):(console.error(`Attempting to add graphic with id '${l.id}' that has already been added.`),!1)),s=this.$iApi.geo.map.getSR(),n=r.map(l=>this.$iApi.geo.proj.projectGeometry(s,l.geometry)),o=await Promise.all(n),a=r.map((l,c)=>{const f=new Tn(o[c],l.id,l.attributes);return f.style=l.style,this.$iApi.geo.geom.graphicRampToEsri(f)});this.esriLayer.addMany(a)}removeGraphic(t){if(!this.layerExists){this.noLayerErr();return}if(typeof t>"u"){this.esriLayer.removeAll(),this._graphics=[];return}let i;Array.isArray(t)?i=t:i=[t],i.map(s=>typeof s=="string"?s:s.id).forEach(s=>{const n=this.esriLayer.graphics.findIndex(a=>a.id===s);n>-1&&this.esriLayer.graphics.removeAt(n);const o=this._graphics.findIndex(a=>a.id===s);o>-1&&this._graphics.splice(o,1)})}}class lye extends aye{constructor(t,i){super(t,i),this.layerType=Pe.GRAPHIC}async onInitiate(){this.esriLayer=pi(await Mt.GraphicsLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();return this.layerTree.name=this.name,this.updateDrawState(ts.UP_TO_DATE),t}}class Iu extends OT{esriJson;sourceGeoJson;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.isFile=!0,this.dataFormat=lr.ESRI_FEATURE,this.layerFormat=Ts.FEATURE,this.layerIdx=0,t.identifyMode&&t.identifyMode!==Bi.NONE?this.identifyMode=t.identifyMode:this.identifyMode=Bi.HYBRID}async reload(){if(this.origRampConfig.caching!==!0&&!this.origRampConfig.url){console.error("Attempted to reload file layer from non server source without caching enabled.");return}await super.reload()}async onInitiate(){if(!this.sourceGeoJson)throw new Error("File Layer is missing source data.");const t={layerId:this.origRampConfig.id||"",targetSR:this.$iApi.geo.map.getSR(),colour:this.origRampConfig.colour,fieldMetadata:this.origRampConfig.fieldMetadata,latField:this.origRampConfig.latField||"",lonField:this.origRampConfig.longField||""};this.esriJson=await this.$iApi.geo.layer.files.geoJsonToEsriJson(this.sourceGeoJson,t),this.esriLayer=pi(await Mt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),this.esriJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData,delete this.sourceGeoJson,await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t),r="OBJECTID";return["source","objectIdField","id","fields","renderer","spatialReference","geometryType"].forEach(n=>{i[n]=this.esriJson[n]}),this.origRampConfig.nameField?i.displayField=this.$iApi.geo.attributes.fieldValidator(i.fields,this.origRampConfig.nameField)||r:i.displayField=r,i.outFields=["*"],delete i.url,this.configDrawOrder(t,i),t.geomClustering&&(i.featureReduction=t.geomClustering),i}onLoadActions(){const t=super.onLoadActions(),i=async()=>{this.esriLayer&&this.origRampConfig.customRenderer?.type&&(this.esriLayer.renderer=await Mt.RendererFromJson(this.config.customRenderer)),this.layerTree.name=this.name,this.extractLayerMetadata(),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),await this.nameInitializer({nameArcade:this.origRampConfig.nameArcade},this.nameField);const r=this.origRampConfig.tooltipField?this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.tooltipField):"";await this.tooltipInitializer({tooltipArcade:this.origRampConfig.tooltipArcade,tooltipField:r}),this.featureCount=this.esriLayer?.source.length||0};return t.push(i()),t.push(this.viewDefProm.getPromise()),this.filter.getCombinedSql()&&Promise.all(t).then(()=>{this.applySqlFilter()}),t}runIdentify(t){if(!this.canIdentify())return[];const i=new Si,r=rr({items:[],loading:i.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let s=Promise.resolve(),n=Promise.resolve(),o=[],a=[];if(this.identifyMode===Bi.HYBRID||this.identifyMode===Bi.GEOMETRIC){const l={includeGeometry:!1};this.geomType!==Ze.POLYGON&&t.geometry.type===Ze.POINT?l.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):l.filterGeometry=t.geometry,l.filterSql=this.getCombinedSqlFilter(),n=this.queryFeatures(l).then(c=>{o=c})}return t.hitTest&&(this.identifyMode===Bi.HYBRID||this.identifyMode===Bi.SYMBOLIC)&&(s=n.then(async()=>{const l=await t.hitTest;a=await Promise.all(l.filter(c=>c.layerId===this.id&&o.findIndex(f=>c.oid===f.attributes[this.oidField])===-1).map(c=>c.oid))})),Promise.all([s,n]).then(()=>{o.forEach(l=>{r.items.push(Um.makeRawItem(Oh.ESRI,l.attributes))}),a.forEach(l=>{r.items.push(Um.makeOidItem(l,this))}),r.loaded=!0,i.resolveMe()}).catch(()=>{r.errored=!0,i.resolveMe()}),[r]}extractLayerMetadata(){const t=this.esriLayer;if(!t)throw new Error("file layer attempted to extract data from esri layer, esri layer did not exist");this.supportsFeatures=!0,this.geomType=this.$iApi.geo.geom.clientGeomTypeToRampGeomType(t.geometryType),this.scaleSet.minScale=t.minScale||0,this.scaleSet.maxScale=t.maxScale||0,this.extent=this.extent??ei.fromESRI(t.fullExtent,this.id+"_extent");const i=pi(t.fields.slice());this.fields=i.map(s=>({name:s.name,alias:s.alias,type:s.type,length:s.length})),this.nameField=t.displayField,this.oidField=t.objectIdField,this.renderer=this.$iApi.geo.symbology.makeRenderer(t.renderer,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const r={sourceGraphics:t.source,oidField:this.oidField,attribs:"*",batchSize:-1,fieldsToTrim:[]};this.attribs.attLoader=new $ye(this.$iApi,r)}async getGraphic(t,i){let r;if(!i.getGeom&&this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();r=new Tn(new Nl,"",s.features[s.oidIndex[t]])}else{const s={filterOIDs:[t],includeGeometry:!!i.getGeom},n=await this.queryFeatures(s);if(n.length===0)throw new Error(`Could not find object id ${t}`);n.length!==1&&console.warn("did not get a single result on a query for a specific object id"),r=n[0]}if(i.getStyle){const s=Ge(this.renderer.getGraphicSymbol(r.attributes));r.style=this.$iApi.geo.geom.styleEsriToRamp(s)}return r}async queryFeatures(t){const i={layer:this,...t};return this.$iApi.geo.query.geoJsonQuery(i)}async queryOIDs(t){const i={layer:this,...t};return(await this.$iApi.geo.query.geoJsonQuery(i)).map(s=>s.attributes?s.attributes[this.oidField]:-1)}applySqlFilter(t=[]){if(!this.esriView){this.noLayerErr();return}const i=this.filter.getCombinedSql(t);Mt.FeatureFilter({where:i}).then(r=>{Ge(this.esriView).filter=r})}}class cye extends Iu{constructor(t,i){super(t,i),this.layerType=Pe.GEOJSON}async onInitiate(){let t;const i=Date.now();if(this.origRampConfig.rawData)t=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("GeoJson layer config contains no raw data or url");i>this.lastCancel&&(this.sourceGeoJson=t,await super.onInitiate())}}class uye extends Iu{constructor(t,i){super(t,i),this.layerType=Pe.SHAPEFILE}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.shapefileToGeoJson(i);t>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class hye extends Iu{constructor(t,i){super(t,i),this.layerType=Pe.CSV}async onInitiate(){if(!this.origRampConfig.latField||!this.origRampConfig.longField)throw new Error("csv file config missing lat or long field names");let t;const i=Date.now();if(this.origRampConfig.rawData&&typeof this.origRampConfig.rawData=="string")t=this.origRampConfig.rawData;else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Csv file config contains no raw data or url");if(i>this.lastCancel){const r=await this.$iApi.geo.layer.files.csvToGeoJson(t,{latfield:this.origRampConfig.latField,lonfield:this.origRampConfig.longField});i>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class fye extends Iu{constructor(t,i){super(t,i),this.layerType=Pe.GEOJSONZIPPED}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.unzipSingleFile(i);t>this.lastCancel&&(this.sourceGeoJson=JSON.parse(this.$iApi.geo.layer.files.arbToStr(r)),await super.onInitiate())}}}class dye extends Iu{constructor(t,i){super(t,i),this.layerType=Pe.FLATGEOBUF}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.fgbToGeoJson(i,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class pye extends Iu{constructor(t,i){super(t,i),this.layerType=Pe.FLATGEOBUFZIPPED}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.unzipSingleFile(i);if(t>this.lastCancel){const s=await this.$iApi.geo.layer.files.fgbToGeoJson(r,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=s,await super.onInitiate())}}}}class mye extends OT{constructor(t,i){super(t,i),this.dataFormat=lr.ESRI_FEATURE,this.supportsIdentify=!0,this.layerType=Pe.FEATURE,this.layerFormat=Ts.FEATURE,t.identifyMode&&t.identifyMode!==Bi.NONE?this.identifyMode=t.identifyMode:this.identifyMode=Bi.HYBRID}async onInitiate(){pi(this.esriLayer=await Mt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t);return(t.initialFilteredQuery||t.permanentFilteredQuery)&&(i.definitionExpression=this.filter.getCombinedSql()),this.configDrawOrder(t,i),t.geomClustering&&(i.featureReduction=t.geomClustering),i}onLoadActions(){const t=Date.now(),i=super.onLoadActions(),r=this.esriLayer.parsedUrl.path,n=this.$iApi.geo.shared.parseUrlIndex(r).index||0;this.layerIdx=n,this.serviceUrl=r;const o=async()=>{let l;if(this.esriLayer&&this.origRampConfig.customRenderer?.type){const c=await Mt.RendererFromJson(this.origRampConfig.customRenderer);this.esriLayer.renderer=c,l={customRenderer:c}}else l={};await this.loadLayerMetadata(l),t>this.lastCancel&&(this.layerTree.name=this.name,this.visibility=this.origRampConfig?.state?.visibility??this._serverVisibility??!0,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim()),await this.nameInitializer(this.origRampConfig,this.nameField),await this.tooltipInitializer(this.origRampConfig))},a=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Dr.PERMANENT)).then(l=>{t>this.lastCancel&&(this.featureCount=l)});return this.layerTree.layerIdx=n,i.push(a,o()),i}runIdentify(t){if(!this.canIdentify())return[];const i=new Si,r=rr({items:[],loading:i.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let s=Promise.resolve(),n=Promise.resolve(),o=[];if(this.identifyMode===Bi.HYBRID||this.identifyMode===Bi.GEOMETRIC){const a={includeGeometry:!1,sourceSR:this.sourceSR};this.geomType!==Ze.POLYGON&&t.geometry.type===Ze.POINT?a.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):a.filterGeometry=t.geometry,a.filterSql=this.getCombinedSqlFilter(),n=this.queryOIDs(a).then(l=>{o=l})}return t.hitTest&&(this.identifyMode===Bi.HYBRID||this.identifyMode===Bi.SYMBOLIC)&&(s=n.then(async()=>{(await t.hitTest).filter(l=>l.layerId===this.id&&o.findIndex(c=>l.oid===c)===-1).forEach(l=>{o.push(l.oid)})})),Promise.all([s,n]).then(()=>{o.forEach(a=>{r.items.push(Um.makeOidItem(a,this))}),r.loaded=!0,i.resolveMe()}).catch(()=>{r.errored=!0,i.resolveMe()}),[r]}applySqlFilter(t=[]){if(this.layerExists){const i=this.filter.getCombinedSql(t);this.esriLayer.definitionExpression=i}else this.noLayerErr()}getGraphicExtent(t){return new Promise((i,r)=>{if(!this.layerExists)this.noLayerErr(),r();else if(!["multipoint","polyline","polygon"].includes(this.esriLayer.geometryType))console.error(`Attempted to query extent for invalid geometry type ${this.esriLayer.geometryType}.`),r();else{const s=this.attribs.quickCache.getExtent(t);s?i(s):this.esriLayer.queryExtent({objectIds:[t],outSpatialReference:this.$iApi.geo.map.getSR().toESRI()}).then(n=>{const o=ei.fromESRI(n.extent);this.attribs.quickCache.setExtent(t,o),i(o)}).catch(()=>{console.error(`Extent querying failed for ${t}.`),r()})}})}}class yye extends Cu{isDynamic;origState;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.supportsSublayers=!0,this.layerType=Pe.MAPIMAGE,this.layerFormat=Ts.MAPIMAGE,this.isDynamic=!1,this.hovertips=!1,this.layerTree.layerIdx=-1,this.identifyMode=Bi.GEOMETRIC}async onInitiate(){this.esriLayer=pi(await Mt.MapImageLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t);return this.origState={visibility:i.visible,opacity:i.opacity},i.visible=!1,t.imageFormat&&(i.imageFormat=t.imageFormat),i}onLoadActions(){const t=super.onLoadActions();if(!this.layerExists)return this.noLayerErr(),t;const i=Date.now();if(this.layerTree.name=this.name,!this.esriLayer.capabilities.exportMap)throw this.$iApi.notify.show(Es.WARNING,this.$iApi.$i18n.t("layer.noexportmap",{name:this.name||this.id})),new Error("Service does not support Map Image Layer, Map Export is not enabled");this.isDynamic=this.esriLayer.capabilities.exportMap.supportsDynamicLayers,this.extent=this.extent??ei.fromESRI(this.esriLayer.fullExtent,this.id+"_extent");const r=l=>{const c=this.esriLayer?.allSublayers.find(f=>f.id===l);if(!c)throw new Error("attempt to find map image sublayer failed");return c},s={};this.origRampConfig.sublayers.forEach(l=>{s[l.index||0]=l});const n=[],o=(l,c)=>{const f=l.id,d=s[f];if(l.sublayers&&l.sublayers.length>0){const p=(d?d.name:"")||l.title||"",y=new dv(f,"",p,!1);c.findChildByIdx(f)||c.children.push(y),l.sublayers.reverse().forEach(v=>{o(v,y)})}else{this._sublayers[f]||(this._sublayers[f]=new gye({id:this.$iApi.geo.layer.sublayerId(this.id,f),index:f,layerType:Pe.SUBLAYER,name:d?.name,state:d?.state??{opacity:this.opacity,visibility:this.visibility,hovertips:this.hovertips,identify:this.identify},extent:d?.extent,controls:d?.controls,disabledControls:d?.disabledControls,initialFilteredQuery:d?.initialFilteredQuery,permanentFilteredQuery:d?.permanentFilteredQuery,labels:d?.labels},this.$iApi,this));const p=this._sublayers[f];if(p.isRemoved)return;if(p.name=d?.name||l.title||"",n.push(p),!c.children.map(y=>y.layerIdx).includes(f)){const y=new dv(f,p.uid,p.name,!1);c.children.push(y)}p.esriWatches.push(ar(()=>l.visible,()=>{this.$iApi.event.emit(Ce.LAYER_VISIBILITYCHANGE,{visibility:p.visibility,layer:p}),p.parentLayer?.checkVisibility()}),ar(()=>l.opacity,y=>{this.$iApi.event.emit(Ce.LAYER_OPACITYCHANGE,{opacity:y,layer:p})}))}};this.origRampConfig.sublayers.forEach(l=>{if(!l.cosmetic){const c=r(l.index||0);o(c,this.layerTree)}});const a=n.map(async l=>{const c=r(l.layerIdx),f=s[l.layerIdx];if(l.serviceUrl=c.url,l.fetchEsriSublayer(this),await l.initiate(),i<this.lastCancel)return;const d={};if(l.esriSubLayer&&f?.customRenderer?.type){const y=await Mt.RendererFromJson(f.customRenderer);l.esriSubLayer.renderer=y,d.customRenderer=y}if(await l.loadLayerMetadata(d),i<this.lastCancel)return;const p=s[l.layerIdx];if(p?(l.visibility=l.isRemoved?!1:p.state?.visibility??(this.origState.visibility?l._serverVisibility??this.origState.visibility:this.origState.visibility??l._serverVisibility)??!0,l.opacity=p.state?.opacity??this.origState.opacity??1,this.$iApi.geo.attributes.applyFieldMetadata(l,p.fieldMetadata),l.canModifyLayer||this.$iApi.notify.show(Es.WARNING,this.$iApi.$i18n.t("layer.filtersdisabled",{name:l.name||l.id}))):this.$iApi.geo.attributes.applyFieldMetadata(l),l.supportsFeatures){l.updateFieldList(),l.updateFieldsToTrim(),await l.nameInitializer(p,l.nameField);const y=await this.$iApi.geo.layer.loadFeatureCount(l.serviceUrl,l.getSqlFilter(Dr.PERMANENT));i>this.lastCancel&&(l.featureCount=y)}});return t.push(...a),this.esriLayer.allSublayers.forEach(l=>{!l.sublayers&&!n.find(c=>c.layerIdx===l.id)?(l.visible=!1,l.opacity=0):l.sublayers&&(l.visible=!0)}),this.visibility=this.origState.visibility??!0,t}updateLayerState(t,i=!1){super.updateLayerState(t,i),this.sublayers.forEach(r=>r.updateLayerState(t,i))}updateDrawState(t){super.updateDrawState(t),this.sublayers.forEach(i=>i.updateDrawState(t))}runIdentify(t){if(!this.canIdentify())return[];t.sublayerIds&&(t.sublayerIds=t.sublayerIds.map(s=>typeof s=="number"?this.layerTree?.findChildByIdx(s)?.uid:s));const i=t.sublayerIds?this._sublayers.filter(s=>t.sublayerIds?.includes(s.uid)):this._sublayers.filter(s=>s.canIdentify());if(i.length===0)return[];let r;return t.geometry.type===Ze.POINT&&(r=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance)),i.map(s=>{const n=new Si,o={},a=rr({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:s.uid,layerId:s.id,requestTime:Date.now()});return s.geomType!==Ze.POLYGON&&r?o.filterGeometry=r:o.filterGeometry=t.geometry,o.filterSql=s.getCombinedSqlFilter(),o.sourceSR=s.sourceSR,s.queryOIDs(o).then(l=>{l.forEach(c=>{a.items.push(Um.makeOidItem(c,s))}),a.loaded=!0,n.resolveMe()}).catch(()=>{a.errored=!0,n.resolveMe()}),a})}}class gye extends OT{constructor(t,i,r){if(super(t,i),this.layerType=Pe.SUBLAYER,this.layerFormat=Ts.MAPIMAGE,this.isSublayer=!0,this.layerIdx=t.index,this.parentLayer=r,this.isSystem=r.isSystem,this.dataFormat=lr.ESRI_FEATURE,this.supportsFeatures=!0,this.hovertips=!1,this.url=this.parentLayer?.url,this.canReload=!!(this.url||this.origRampConfig.caching),!r.esriLayer)throw new Error("Map Image Layer with no internal esri layer encountered in sublayer creation");this.fetchEsriSublayer(r),(t.initialFilteredQuery||t.permanentFilteredQuery)&&this.applySqlFilter()}fetchEsriSublayer(t){if(!t.esriLayer){console.error("Attempted to fetch the ESRI sublayer when parent has no ESRI layer");return}this.esriSubLayer=pi(t.esriLayer.allSublayers.find(i=>i.id===this.layerIdx))}onLoadActions(){return this.layerTree=this.parentLayer.getLayerTree().findChildByUid(this.uid),this.layerTree.name=this.name,this.layerTree.layerIdx=this.layerIdx,this.identify=this.config.state.identify!=null?this.config.state.identify:this.supportsIdentify,[]}async onInitiate(){this.initiationState=Qt.INITIATED;const t=this.labelVizOverride();t!==void 0&&(this.labelVisibility=t)}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.parentLayer?.reload()}cancelLoad(){this.parentLayer?.cancelLoad()}get layerExists(){return!!(this.parentLayer?.layerExists&&this.esriSubLayer&&this.initiationState===Qt.INITIATED)}get visibility(){return this.layerExists?this.esriSubLayer.visible:!1}set visibility(t){this.layerExists?this.esriSubLayer.visible=t:this.noLayerErr()}get opacity(){return this.layerExists?this.esriSubLayer.opacity:0}set opacity(t){if(!this.layerExists){this.noLayerErr();return}this.parentLayer.isDynamic||console.warn(`Opacity of a Map Image Sublayer was set. The service does not support sublayer opacity. LayerId ${this.id}`),this.esriSubLayer.opacity=t}get mouseTolerance(){return this.layerExists?this.parentLayer.mouseTolerance:0}set mouseTolerance(t){this.layerExists?this.parentLayer.mouseTolerance=t:this.noLayerErr()}get touchTolerance(){return this.layerExists?this.parentLayer.touchTolerance:0}set touchTolerance(t){this.layerExists?this.parentLayer.touchTolerance=t:this.noLayerErr()}applySqlFilter(t=[]){if(this.parentLayer?.layerExists&&this.esriSubLayer)if(this.supportsFeatures){const i=this.filter.getCombinedSql(t);this.esriSubLayer.definitionExpression=i}else console.error("Attempted to apply an SQL filter to a sublayer that does not support it (likely Raster datatype)");else this.noLayerErr()}getSR(){if(this.parentLayer?.esriLayer){const t=this._parentLayer?.esriLayer?.spatialReference;return t?Ve.fromESRI(t):Ve.latLongSR()}else return this.noLayerErr(),Ve.latLongSR()}updateFieldList(){this.attribs.attLoader.updateFieldList(this.fieldList)}updateFieldsToTrim(){this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim())}get labelVisibility(){return this.layerExists?this.esriSubLayer.labelsVisible:!1}set labelVisibility(t){this.layerExists?this.esriSubLayer.labelsVisible=t:this.noLayerErr()}labelVizOverride(){let t=this.origRampConfig.labels?.visible;if(t!==void 0||(t=this.$iApi.geo.map.labelsDefault?.visible,t!==void 0))return t}}class vye extends Cu{constructor(t,i){super(t,i),this.supportsIdentify=!1,this.layerType=Pe.OSM,this.layerFormat=Ts.OSM,this.dataFormat=lr.OSM_TILE,this.supportsFeatures=!1}async onInitiate(){this.esriLayer=pi(await Mt.OpenStreetMapLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const i=this.$iApi.geo.symbology.generatePlaceholderSymbology("O","#03fc4e"),r={uid:this.$iApi.geo.shared.generateUUID(),label:"OpenStreetMap",svgcode:i.svgcode,esriStandard:!0,drawPromise:Promise.resolve()};return this.legend.push(r),t}}class bye extends Cu{constructor(t,i){super(t,i),this.supportsIdentify=!1,this.layerType=Pe.IMAGERY,this.layerFormat=Ts.IMAGERY,this.dataFormat=lr.ESRI_RASTER}async onInitiate(){this.esriLayer=pi(await Mt.ImageryLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const i=Date.now(),r=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(s=>{i>this.lastCancel&&(this.legend=s)});return t.push(r),t}}class _ye extends Cu{constructor(t,i){super(t,i),this.supportsIdentify=!1,this.layerType=Pe.TILE,this.layerFormat=Ts.TILE,this.dataFormat=lr.ESRI_TILE}async onInitiate(){this.esriLayer=pi(await Mt.TileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions(),i=Date.now();this.layerTree.name=this.name;const r=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(s=>{i>this.lastCancel&&(this.legend=s)});return t.push(r),t.push(this.checkProj()),t}checkProj(){const t=this.getSR(),r=this.$iApi.geo.map.getSR().isEqual(t);if(this.layerState===fi.LOADED&&!r)this.$iApi.notify.show(Es.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),this.onError();else if(this.layerState===fi.ERROR&&r)this.reload();else if(this.layerState!==fi.ERROR&&!r)return this.$iApi.notify.show(Es.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),Promise.reject();return Promise.resolve()}}class wye extends Cu{sublayerNames;mimeType;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.layerType=Pe.WMS,this.layerFormat=Ts.WMS,this.mimeType=t.featureInfoMimeType||"",this.sublayerNames=[],this.dataFormat=lr.OGC_RASTER,this.identifyMode=Bi.GEOMETRIC}async onInitiate(){this.esriLayer=pi(await Mt.WMSLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t),r=t.sublayers;this.sublayerNames=r.map(n=>n.id||"error_no_wms_id");const s=r.map(n=>n.currentStyle).join();return i.customParameters={styles:s},t.url.indexOf("/geomet")!==-1&&(i.customParameters.layers=r[0].id),i}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const i=r=>{let s=!1;return r.forEach(n=>{this.sublayerNames.indexOf(n.name)>-1||n.sublayers&&n.sublayers.length>0&&i(n.sublayers)?s=!0:n.visible=!1}),s};return this.layerExists?i(this.esriLayer.sublayers):this.noLayerErr(),this.loadSymbology(),t}canIdentify(){return super.canIdentify()}runIdentify(t){if(t.geometry.type!==Ze.POINT)throw new Error("a point must be used for WMS Identify");if(!this.canIdentify())return[];const i=new Si,r=rr({items:[],loading:i.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});return this.getFeatureInfo(this.sublayerNames,t.geometry,this.mimeType).then(s=>{if(s){let n=!0,o;typeof s!="string"?o=Oh.JSON:s.indexOf("Search returned no results")===-1&&s!==""?o=Oh.TEXT:(n=!1,o=Oh.UNKNOWN),n&&r.items.push(Um.makeRawItem(o,s))}r.loaded=!0,i.resolveMe()}).catch(()=>{r.errored=!0,i.resolveMe()}),[r]}setCustomParameter(t,i,r=!0){this.layerExists?(this.esriLayer.customLayerParameters||(this.esriLayer.customLayerParameters={}),this.esriLayer.customLayerParameters[t]=i,r&&this.esriLayer.refresh()):this.noLayerErr()}getFeatureInfo(t,i,r){const s=this.$iApi.geo.map,n=this.esriLayer;if(!s.esriView)throw new Error("WMS get feature, no map view exists. Cannot derive click coords");if(!n)throw this.noLayerErr(),new Error("wms get feature failed, no layer");let o,a;const l=s.getExtent(),c=n.spatialReferences,f=t.join(","),d=s.esriView.toScreen(i.toESRI()),p=Math.floor(d.x),y=Math.floor(d.y),b={"application/json":"json","text/html":"text","text/plain":"text"}[r]||"text",S=s.getSR();S.wkid?o=S.wkid:(o=4326,console.error("Map is likely in a WKT projection. WMS Identify request will likely fail.")),c&&c.length>1?c.indexOf(o)===-1&&(S.latestWkid&&c.indexOf(S.latestWkid)>-1?o=S.latestWkid:console.error("WMS service does not support the maps projection. Identify request will likely fail.")):console.error("No supported wkid/epsg code found for WMS service. Identify request will likely fail."),n.version==="1.3"||n.version==="1.3.0"?(a={CRS:"EPSG:"+o,I:p,J:y,STYLES:"",FORMAT:n.imageFormat},this.$iApi.geo.layer.ogc.reversedAxisWKIDs().indexOf(o)>-1&&(a.BBOX=`${l.ymin},${l.xmin},${l.ymax},${l.xmax}`)):a={SRS:"EPSG:"+o,X:p,Y:y},Object.prototype.hasOwnProperty.call(a,"BBOX")||(a.BBOX=`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`);const E={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:n.version,WIDTH:s.getPixelWidth(),HEIGHT:s.getPixelHeight(),QUERY_LAYERS:f,LAYERS:f,INFO_FORMAT:r},T=n.customLayerParameters;return T&&Object.keys(T).forEach(w=>{w.toLowerCase()!=="styles"&&(E[w]=T[w])}),Object.keys(E).forEach(w=>a[w]=E[w]),Li(n.url.split("?")[0],{query:a,responseType:b})}getLegendUrls(t){if(!this.layerExists)return this.noLayerErr(),[];const i=new Map;this.esriLayer.allSublayers.forEach(s=>{s.visible&&(s.legendUrl&&this.origRampConfig.sublayers?.forEach(n=>{if(n.id&&n.currentStyle&&n.id===s.name){const o=new pv(s.legendUrl);"STYLE"in o.queryMap&&o.queryMap.STYLE!==n.currentStyle&&(s.legendUrl=o.updateQuery({STYLE:n.currentStyle}))}}),i.set(s.name,s.legendUrl))});const r=t.map(s=>s.styleLegends&&s.currentStyle?s.styleLegends.find(n=>n.name===s.currentStyle).url:void 0);return r.forEach((s,n)=>{s||(r[n]=i.get(t[n].id))}),r}getWMSLayerTitle(t){if(!this.esriLayer)return"";let i;return this.esriLayer.allSublayers.some(r=>r.name===t?(i=r.title,!0):!1),i||""}loadSymbology(){const t=Date.now(),i=this.config.sublayers,r=this.getLegendUrls(i.map(s=>({id:s.id,styleLegends:s.styleLegends,currentStyle:s.currentStyle}))).map((s,n)=>{const o=i[n].name||this.getWMSLayerTitle(i[n].id)||i[n].id,a={uid:this.$iApi.geo.shared.generateUUID(),label:o,svgcode:"",esriStandard:!1,drawPromise:this.$iApi.geo.symbology.generateWMSSymbology(s).then(l=>{t>this.lastCancel&&(a.svgcode=l.svgcode,a.imgHeight=l.imgHeight,a.imgWidth=l.imgWidth)})};return a});this.legend=r}}class xye extends Iu{constructor(t,i){super(t,i),this.layerType=Pe.WFS}async onInitiate(){const t=Date.now(),i=new pv(this.config.url),{offset:r,limit:s}=i.queryMap,n=await this.$iApi.geo.layer.ogc.loadWfsData(this.config.url,-1,parseInt(r)||0,parseInt(s)||1e3,void 0,this.config.xyInAttribs);t>this.lastCancel&&(this.sourceGeoJson=n,await super.onInitiate())}}class JD extends YD{sourceJson;attribs;_visibility;constructor(t,i){super(t,i),this.dataFormat=lr.ESRI_FEATURE,this.layerFormat=Ts.NOLAYER,this.drawState=ts.NOT_VISUAL,this.attribs=new ZD,this.supportsFeatures=!0,this.mapLayer=!1,this.isFile=!1,this._visibility=t.state?.visibility??!0,this.expectedTime.draw=0}async onInitiate(){if(this.sourceJson){const t=this.sourceJson;if(t.data.length===0||t.fields.length===0)throw new Error("Data layer with no columns or now rows.");const i=t.fields.slice(),r=t.data[0].slice(),s=/ /gi;this.fields=i.map((c,f)=>{let d="",p=c;c.indexOf(" ")>-1&&(d=c,p=c.trim().replace(s,"-"),t.fields[f]=p);const y=this.$iApi.geo.layer.files.inferType(r[f]);return{name:p,alias:d,type:y,length:y===Qo.STRING?256:void 0}}),this.oidField="rampOID",this.fields.push({name:this.oidField,type:Qo.OID}),t.fields.push(this.oidField),t.data.forEach((c,f)=>c.push(f+1)),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.fieldList="*";const n={batchSize:-1,sourceDataJson:t,oidField:this.oidField,attribs:"*",fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new Mye(this.$iApi,n),await this.attribs.attLoader.getAttribs(),this.featureCount=t.data.length;const o=this.origRampConfig.nameField,l={nameField:o?this.$iApi.geo.attributes.fieldValidator(this.fields,o):"",nameArcade:this.origRampConfig.nameArcade};await this.nameInitializer(l,""),this.sourceJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData}else throw new Error("Attempted to initiate file based data layer, sourceJson is missing")}async terminate(){await super.terminate()}async reload(){this.$iApi.event.emit(Ce.LAYER_RELOAD_START,this),await this.terminate(),await this.initiate(),this.layerState!==fi.ERROR&&this.onLoad(),setTimeout(()=>{this.$iApi.event.emit(Ce.LAYER_RELOAD_END,this)},300)}onLoadActions(){const t=super.onLoadActions();return this.legend=[{uid:this.$iApi.geo.shared.generateUUID(),label:"",svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.getIcon(0).then(i=>{this.legend[0].svgcode=i})}],t}getAttributes(){return this.attribs.attLoader.getAttribs()}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,i){let r={};if(this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();r=s.features[s.oidIndex[t]]}else throw new Error("Non ESRI data layer did not have attributes populated.");return new Tn(new Nl,"",r)}async getIcon(t){return'<svg id="SvgjsSvg1012" width="32" height="32" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 32 32">                      <defs id="SvgjsDefs1013"></defs>                      <rect id="SvgjsRect1014" width="28"  height="28" x="2" y="2" fill="#2e8b57"></rect>                      <text id="SvgjsText1015" font-family="Roboto" font-size="23" fill="#ffffff" font-weight="bold" x="7.6875" y="-6.40000057220459" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}">                          <tspan id="SvgjsTspan1016" class="grid-icons" dy="29.900000000000002" x="7.6875" svgjs:data="{&quot;newLined&quot;:true}">D</tspan>                      </text>                </svg>'}async getFilterOIDs(t=[],i=void 0){}abortAttributeLoad(){}attribLoadAborted(){return!1}clearFeatureCache(){}downloadedAttributes(){return this.featureCount}get layerExists(){return this.isLoaded}get visibility(){return this._visibility}set visibility(t){this._visibility!==t&&(this._visibility=t,this.$iApi.event.emit(Ce.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this}))}}class Eye extends JD{constructor(t,i){super(t,i),this.layerType=Pe.DATAJSON}async onInitiate(){const t=Date.now();let i;if(this.origRampConfig.rawData)i=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)i=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Json Data layer config contains no raw data or url");t>this.lastCancel&&(this.sourceJson=i,await super.onInitiate())}}class Sye extends JD{filter;serviceUrl;constructor(t,i){super(t,i),this.layerType=Pe.DATATABLE,this.serviceUrl=t.url,this.filter=new dk(t.permanentFilteredQuery||"",t.initialFilteredQuery||"")}async onInitiate(){}onLoadActions(){const t=super.onLoadActions(),i=Date.now(),s=this.$iApi.geo.shared.parseUrlIndex(this.serviceUrl).index||0,n=this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl).then(a=>{if(i<this.lastCancel)return;this.name||(this.name=a.name),this.layerTree.name=this.name,this.oidField=a.objectIdField,this.fields=a.fields,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.nameInitializer(this.origRampConfig,a.displayField);const l={supportsLimit:(a.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:this.fieldList,permanentFilter:this.getSqlFilter(Dr.PERMANENT),fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new KD(this.$iApi,l),this.attribs.quickCache=new XD(this.geomType)}),o=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Dr.PERMANENT)).then(a=>{i>this.lastCancel&&(this.featureCount=a)});return this.layerTree.layerIdx=s,t.push(n,o),t}async getGraphic(t){let i={};const r=this.attribs.quickCache.getAttribs(t);if(r)i=r;else if(this.attribs.attLoader.isLoaded()){const n=await this.attribs.attLoader.getAttribs();i=n.features[n.oidIndex[t]]}else{const n={oid:t,serviceUrl:this.serviceUrl,includeGeometry:!1,attribs:this.fieldList},o=await this.$iApi.geo.attributes.loadSingleFeature(n);this.attribs.quickCache.setAttribs(t,o.attributes),i=o.attributes}return new Tn(new Nl,"",i)}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}setSqlFilter(t,i){const r=this.filter.getSql(t);i!==r&&(this.filter.setSql(t,i),this.$iApi.event.emit(Ce.FILTER_CHANGE,{uid:this.uid,filterKey:t}))}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[]){const i=this.filter.getCombinedSql(t);if(!i)return;const r=this.filter.sqlActiveFilters(t);let s=this.filter.getCache(r,!1);if(!s){const n={filterSql:i,includeGeometry:!1};s=this.queryOIDs(n),this.filter.setCache(s,r,!1)}return s}queryOIDs(t){const i={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(i)}async queryFeaturesDiscrete(t){return(await this.queryOIDs(t)).map(r=>({oid:r,graphic:this.getGraphic(r)}))}async queryFeatures(t){const i=await this.queryFeaturesDiscrete(t);return Promise.all(i.map(r=>r.graphic))}}const Aye=new Map([["integer","number"],["small-integer","number"],["big-integer","number"],["single","number"],["double","number"],["long","number"],["oid","number"],["string","text"],["geometry","geometry"],["date","date"]]);class Tye extends Mi{oidIndexer(t,i){t.features.forEach((r,s)=>{t.oidIndex[r[i]]=s})}async arcGisBatchLoad(t,i){if(i.loadAbortFlag)return[];const r=t.permanentFilter?` AND ${t.permanentFilter}`:"",s={query:{where:`${t.oidField}>${t.maxId}${r}`,outFields:t.attribs,orderByFields:t.oidField,returnGeometry:"false",f:"json"}},[n,o]=await Ln(Li(t.serviceUrl+"/query",s));if(!o)return console.error(`ArcGIS batch load error: ${t.serviceUrl}`,n),Promise.reject(new Error(`ArcGIS batch load error: ${t.serviceUrl}`));if(!o.data||!o.data.features)return console.error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`),Promise.reject(new Error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`));let a=o.data.features;const l=a.length;if(l>0){i.loadedCount+=l;let c;if(t.supportsLimit?c=o.data.exceededTransferLimit:(t.batchSize===-1&&(t.batchSize=l),c=l>=t.batchSize),a=this.trimFeatureSetAttributes(a,t.fieldsToTrim??[]),c){t.maxId=a[l-1].attributes[t.oidField];const f=await this.arcGisBatchLoad(t,i);return i.loadAbortFlag?[]:a.concat(f)}else return i.loadAbortFlag?[]:a}else return[]}async loadArcGisServerAttributes(t,i){t.maxId=-1,t.batchSize=-1;const s={features:(await this.arcGisBatchLoad(t,i)).map(n=>n.attributes),oidIndex:{}};return this.oidIndexer(s,t.oidField),i.loadIsDone=!0,s}async loadGraphicsAttributes(t,i){if(!t.sourceGraphics)throw new Error("No .sourceGraphics provided to file layer attribute loader");const s={features:t.sourceGraphics.map(n=>Ge(n).attributes).toArray(),oidIndex:{}};return this.oidIndexer(s,t.oidField),i.loadIsDone=!0,i.loadedCount=s.features.length,s}async loadCompactJsonAttributes(t,i){if(!t.sourceDataJson)throw new Error("No .sourceDataJson provided to file data-layer attribute loader");const r=t.sourceDataJson.fields,s=t.fieldsToTrim??[],o={features:t.sourceDataJson.data.map(a=>{const l={};return a.forEach((c,f)=>{l[r[f]]=typeof c=="string"&&s.includes(r[f])?c.trim():c}),l}),oidIndex:{}};return this.oidIndexer(o,t.oidField),i.loadIsDone=!0,i.loadedCount=o.features.length,t.sourceDataJson=void 0,o}async loadSingleFeature(t){const i={query:{f:"json",objectIds:t.oid,returnGeometry:t.includeGeometry,outFields:t.attribs}};typeof t.maxOffset<"u"&&(i.query.maxAllowableOffset=t.maxOffset),typeof t.mapSR<"u"&&(i.query.outSR=t.mapSR),typeof t.geometryPrecision<"u"&&t.geometryPrecision>=0&&(i.query.geometryPrecision=t.geometryPrecision);const[r,s]=await Ln(Li(t.serviceUrl+"/query",i));if(!s)return console.error(`ArcGIS single feature load error: ${t.serviceUrl}`,r),Promise.reject(new Error(`ArcGIS single feature load error: ${t.serviceUrl}`));if(!s.data||!s.data.features)return console.error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`),Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`));const n=s.data.features;if(n.length>0){let o;const a=this.trimFeatureSetAttributes([n[0]],t.fieldsToTrim??[])[0];if(t.includeGeometry){a.geometry.spatialReference=s.data.spatialReference;const l=TS(a.geometry);o=this.$iApi.geo.geom.geomEsriToRamp(l)}else o=new Nl;return new Tn(o,"",a.attributes)}return Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`))}trimFeatureSetAttributes(t,i){return i.forEach(r=>{t.forEach(s=>{typeof s.attributes[r]=="string"&&(s.attributes[r]=s.attributes[r].trim())})}),t}orderFields(t,i){const r=(n,o)=>n.findIndex(a=>a.name===o),s=(n,o)=>{const a=r(i,n.name),l=r(i,o.name);return a===-1&&l===-1?r(t,n.name)-r(t,o.name):a===-1?1:l===-1?-1:a-l};return t.slice().sort(s)}applyFieldMetadata(t,i=void 0){if(!i||!i.fieldInfo){t.fieldList="*";return}const r=i.fieldInfo.filter(s=>s.trim).map(s=>s.name);if(t.fields.forEach(s=>{r.includes(s.name)&&(s.trim=!0)}),i?.enforceOrder&&i?.fieldInfo&&i?.fieldInfo.length>0&&(t.fields=this.orderFields(t.fields,i.fieldInfo),t.fieldList=i.fieldInfo.map(s=>s.name).join(",")),i.exclusiveFields){i.fieldInfo.find(n=>n.name===t.oidField)||i.fieldInfo.push({name:t.oidField}),t.fieldList=i.fieldInfo.map(n=>n.name).join(",");const s=i.fieldInfo;t.fields=t.fields.filter(n=>s.find(o=>o.name===n.name))}else t.fieldList="*";i.fieldInfo.forEach(s=>{if(s.alias){const n=t.fields.find(o=>o.name===s.name);n&&(n.alias=s.alias)}})}fieldValidator(t,i){if(t.findIndex(r=>r.name===i)===-1){const r=t.find(s=>s.alias===i);return r?r.name:(console.warn(`Cannot find name field in layer field list: ${i}`),"")}else return i}async generateTabularAttributes(t,i){return i.attLoader.tabularAttributesCache||(i.attLoader.tabularAttributesCache=this.$iApi.geo.attributes.generateTabularAttributesWorker(t,i)),i.attLoader.tabularAttributesCache}async generateTabularAttributesWorker(t,i){if(t.dataFormat===lr.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");const r=await i.attLoader.getAttribs();if(!r.features||r.features.length===0)return{columns:[],rows:[],fields:[],oidField:""};const s=t.fields.filter(o=>Object.prototype.hasOwnProperty.call(r.features[0],Ge(o).name)).map(o=>({data:Ge(o).name,title:Ge(o).alias||Ge(o).name})),n=r.features.map(o=>{const a=pk({},o);return a.rvInteractive="",a.rvSymbol=t.getIcon(o[t.oidField]),a.rvUid=t.uid,a});return s.forEach(o=>{if(o.data.slice(-2)==="()"){const a=function(){return this[o.data]},l=o.data.slice(0,-2);n.forEach(c=>{c[l]=a})}}),{columns:s,rows:n,fields:t.fields,oidField:t.oidField}}fieldTypeToArcade(t){return Aye.get(t)}}class ZD{_attribLoader;_quickCache;get attLoader(){if(this._attribLoader)return this._attribLoader;throw console.trace(),new Error("Attempted to load attributes prior to layer being loaded.")}set attLoader(t){this._attribLoader=t}get quickCache(){if(this._quickCache)return this._quickCache;throw console.trace(),new Error("Attempted to access attribute cache prior to layer being loaded.")}set quickCache(t){this._quickCache=t}clearAll(){this._attribLoader&&this._attribLoader.destroyAttribs(),this._quickCache&&this._quickCache.clearAll()}}class fI{loadedCount;loadAbortFlag;loadIsDone;constructor(){this.loadedCount=0,this.loadAbortFlag=!1,this.loadIsDone=!1}}class CT extends Mi{aac;loadPromise;details;tabularAttributesCache;constructor(t,i){super(t),this.aac=new fI,this.details=i}updateFieldList(t){this.details.attribs=t}updateFieldsToTrim(t){this.details.fieldsToTrim=t}getAttribs(){return this.loadPromise||(this.aac=new fI,this.loadPromise=this.loadPromiseGenerator()),this.loadPromise}abortAttribLoad(){this.aac.loadAbortFlag=!0}destroyAttribs(){this.loadPromise=void 0,this.tabularAttributesCache=void 0,this.aac.loadIsDone=!1,this.aac.loadedCount=0}loadCount(){return this.aac.loadedCount}isLoaded(){return this.aac.loadIsDone}isLoadAborted(){return this.aac.loadAbortFlag}loadPromiseGenerator(){return Promise.reject(new Error("Subclass of AttributeLoaderBase did not implement loadPromiseGenerator"))}}class KD extends CT{constructor(t,i){super(t,i)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadArcGisServerAttributes(this.details,this.aac)}}class $ye extends CT{constructor(t,i){super(t,i)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadGraphicsAttributes(this.details,this.aac)}}class Mye extends CT{constructor(t,i){super(t,i)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadCompactJsonAttributes(this.details,this.aac)}}class XD{attribs;geoms;extents;isPoint;constructor(t){this.attribs={},this.geoms={},this.extents={},this.isPoint=t===Ze.POINT||t===Ze.MULTIPOINT}getScaleStore(t){return this.geoms[t]||(this.geoms[t]={}),this.geoms[t]}getGeomStore(t=void 0){if(this.isPoint)return this.geoms;if(typeof t>"u")throw new Error("Attempted to access geometry store for non-point layer without providing a map scale");return this.getScaleStore(t)}getAttribs(t){return this.attribs[t]}setAttribs(t,i){this.attribs[t]=i}getGeom(t,i=void 0){return this.getGeomStore(i)[t]}setGeom(t,i,r=void 0){const s=this.getGeomStore(r);s[t]=i}getExtent(t){return this.extents[t]}setExtent(t,i){this.extents[t]=i}clearAll(){this.attribs={},this.geoms={},this.extents={}}}class IT{innerRenderer;symbolUnits;defaultUnit;type;falseRenderer;constructor(t,i,r=!1){this.innerRenderer=t,this.symbolUnits=[],this.falseRenderer=r,this.type=g1.Unknown}makeSearchParams(t){return t}searchRenderer(t){const i=this.makeSearchParams(t),r=this.symbolUnits.find(n=>n.match(i));if(r)return r;if(this.defaultUnit)return this.defaultUnit;console.error(`renderer search could not find match for ${i}`);const s=new qb(this);return s.svgCode="",s}getGraphicIcon(t){return this.searchRenderer(t).svgCode}getGraphicSymbol(t){return this.searchRenderer(t).symbol}getFieldDelimiter(t,i){let r="'";if(!i||i.length===0)return r;const s=i.find(n=>n.name===t);return s&&s.type&&s.type!=="string"&&(r=""),r}cleanFieldName(t,i){if(!t)return t;let r=i.find(s=>s.name===t);if(r)return t;{const s=t.toLowerCase();return r=i.find(n=>n.name.toLowerCase()===s),r?r.name:t}}makeElseClause(){return this.falseRenderer?"":`(NOT (${this.symbolUnits.map(i=>i.definitionClause).join(" OR ")}))`}}class qb{isDefault=!1;svgCode="";symbol;definitionClause="";label="";parent;constructor(t){this.parent=t,this.symbol=new So}match(t){return!!t}}class Oye extends IT{constructor(t,i){super(t,i),this.type=g1.Simple;const r=new qb(this);r.label=t.label||"",r.symbol=t.symbol,r.definitionClause="",this.symbolUnits.push(r)}}class Cye extends IT{delim;keyFields;constructor(t,i,r=!1){super(t,i,r),this.type=g1.Unique,this.delim=t.fieldDelimiter||", ";const s=o=>o.replace(/'/g,"''");this.keyFields=[t.field,t.field2,t.field3].filter(o=>o).map(o=>this.cleanFieldName(o,i));const n=this.keyFields.map(o=>this.getFieldDelimiter(o,i));if(t.uniqueValueInfos.forEach(o=>{const a=new dI(this,o.value);if(a.label=o.label||"",a.symbol=o.symbol,!this.falseRenderer){const l=a.matchValue.split(this.delim),c=this.keyFields.map((f,d)=>l[d]==="<Null>"?`${f} IS NULL`:`${f} = ${n[d]}${s(l[d])}${n[d]}`).join(" AND ");a.definitionClause=`(${c})`,a.matchValue=a.matchValue.replace(/<Null>/g,"")}this.symbolUnits.push(a)}),t.defaultSymbol){const o=new dI(this,"");o.isDefault=!0,o.label=t.defaultLabel||"",o.symbol=t.defaultSymbol,o.definitionClause=this.makeElseClause(),this.defaultUnit=o}}makeSearchParams(t){return this.keyFields.map(i=>{let r=t[i]===null?"":t[i];return typeof r!="string"&&(r=r.toString()),r}).join(this.delim)}}class dI extends qb{matchValue;constructor(t,i){super(t),typeof i=="number"?this.matchValue=i.toString():this.matchValue=i}match(t){return this.matchValue===t}}class Iye extends IT{valField;constructor(t,i,r=!1){if(super(t,i,r),this.valField=this.cleanFieldName(t.field,i),t.classBreakInfos.forEach((s,n)=>{const o=n===0,a=new pI(this,s.minValue,s.maxValue,o);a.label=s.label||"",a.symbol=s.symbol,this.falseRenderer||(a.definitionClause=`(${this.valField} >${o?"=":""}  ${s.minValue} AND ${this.valField} <= ${s.maxValue})`),this.symbolUnits.push(a)}),t.defaultSymbol){const s=new pI(this,0,0,!1);s.isDefault=!0,s.label=t.defaultLabel||"",s.symbol=t.defaultSymbol,s.definitionClause=this.makeElseClause(),this.defaultUnit=s}}makeSearchParams(t){return parseFloat(t[this.valField])}}class pI extends qb{minValue;maxValue;firstBreak;constructor(t,i,r,s){super(t),this.minValue=i,this.maxValue=r,this.firstBreak=s}match(t){return this.minValue===this.maxValue?this.maxValue===t:this.firstBreak?this.minValue<=t&&this.maxValue>=t:this.minValue<t&&this.maxValue>=t}}var Pg={exports:{}};/*!
* svg.js - A lightweight library for manipulating and animating SVG.
* @version 2.7.1
* https://svgdotjs.github.io/
*
* @copyright Wout Fierens <wout@mick-wout.com>
* @license MIT
*
* BUILT: Fri Nov 30 2018 10:01:55 GMT+0100 (GMT+01:00)
*/var Pye=Pg.exports,mI;function Nye(){return mI||(mI=1,function(e,t){(function(i,r){e.exports=i.document?r(i,i.document):function(s){return r(s,s.document)}})(typeof window<"u"?window:Pye,function(i,r){var s=typeof this<"u"?this:i,n=s.SVG=function(u){if(n.supported)return u=new n.Doc(u),n.parser.draw||n.prepare(),u};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.com/svgjs",n.supported=function(){return!!r.createElementNS&&!!r.createElementNS(n.ns,"svg").createSVGRect}(),!n.supported)return!1;n.did=1e3,n.eid=function(u){return"Svgjs"+S(u)+n.did++},n.create=function(u){var m=r.createElementNS(this.ns,u);return m.setAttribute("id",this.eid(u)),m},n.extend=function(){var u,m,x,C;for(u=[].slice.call(arguments),m=u.pop(),C=u.length-1;C>=0;C--)if(u[C])for(x in m)u[C].prototype[x]=m[x];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(u){var m=typeof u.create=="function"?u.create:function(){this.constructor.call(this,n.create(u.create))};return u.inherit&&(m.prototype=new u.inherit),u.extend&&n.extend(m,u.extend),u.construct&&n.extend(u.parent||n.Container,u.construct),m},n.adopt=function(u){if(!u)return null;if(u.instance)return u.instance;var m;return u.nodeName=="svg"?m=u.parentNode instanceof i.SVGElement?new n.Nested:new n.Doc:u.nodeName=="linearGradient"?m=new n.Gradient("linear"):u.nodeName=="radialGradient"?m=new n.Gradient("radial"):n[S(u.nodeName)]?m=new n[S(u.nodeName)]:m=new n.Element(u),m.type=u.nodeName,m.node=u,u.instance=m,m instanceof n.Doc&&m.namespace().defs(),m.setData(JSON.parse(u.getAttribute("svgjs:data"))||{}),m},n.prepare=function(){var u=r.getElementsByTagName("body")[0],m=(u?new n.Doc(u):n.adopt(r.documentElement).nested()).size(2,0);n.parser={body:u||r.documentElement,draw:m.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:m.polyline().node,path:m.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},r.addEventListener("DOMContentLoaded",function(){n.parser.draw||n.prepare()},!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(u,m){var x,C=u.length,B=[];for(x=0;x<C;x++)B.push(m(u[x]));return B},filter:function(u,m){var x,C=u.length,B=[];for(x=0;x<C;x++)m(u[x])&&B.push(u[x]);return B},radians:function(u){return u%360*Math.PI/180},degrees:function(u){return u*180/Math.PI%360},filterSVGElements:function(u){return this.filter(u,function(m){return m instanceof i.SVGElement})}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(u){var m;this.r=0,this.g=0,this.b=0,u&&(typeof u=="string"?n.regex.isRgb.test(u)?(m=n.regex.rgb.exec(u.replace(n.regex.whitespace,"")),this.r=parseInt(m[1]),this.g=parseInt(m[2]),this.b=parseInt(m[3])):n.regex.isHex.test(u)&&(m=n.regex.hex.exec(E(u)),this.r=parseInt(m[1],16),this.g=parseInt(m[2],16),this.b=parseInt(m[3],16)):typeof u=="object"&&(this.r=u.r,this.g=u.g,this.b=u.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+T(this.r)+T(this.g)+T(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(u){return this.destination=new n.Color(u),this},at:function(u){return this.destination?(u=u<0?0:u>1?1:u,new n.Color({r:~~(this.r+(this.destination.r-this.r)*u),g:~~(this.g+(this.destination.g-this.g)*u),b:~~(this.b+(this.destination.b-this.b)*u)})):this}}),n.Color.test=function(u){return u+="",n.regex.isHex.test(u)||n.regex.isRgb.test(u)},n.Color.isRgb=function(u){return u&&typeof u.r=="number"&&typeof u.g=="number"&&typeof u.b=="number"},n.Color.isColor=function(u){return n.Color.isRgb(u)||n.Color.test(u)},n.Array=function(u,m){u=(u||[]).valueOf(),u.length==0&&m&&(u=m.valueOf()),this.value=this.parse(u)},n.extend(n.Array,{morph:function(u){if(this.destination=this.parse(u),this.value.length!=this.destination.length){for(var m=this.value[this.value.length-1],x=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(x);for(;this.value.length<this.destination.length;)this.value.push(m)}return this},settle:function(){for(var u=0,m=this.value.length,x=[];u<m;u++)x.indexOf(this.value[u])==-1&&x.push(this.value[u]);return this.value=x},at:function(u){if(!this.destination)return this;for(var m=0,x=this.value.length,C=[];m<x;m++)C.push(this.value[m]+(this.destination[m]-this.value[m])*u);return new n.Array(C)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(u){return u=u.valueOf(),Array.isArray(u)?u:this.split(u)},split:function(u){return u.trim().split(n.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var u=new this.constructor;return u.value=p(this.value),u}}),n.PointArray=function(u,m){n.Array.call(this,u,m||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray,n.extend(n.PointArray,{toString:function(){for(var u=0,m=this.value.length,x=[];u<m;u++)x.push(this.value[u].join(","));return x.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(u){if(!this.destination)return this;for(var m=0,x=this.value.length,C=[];m<x;m++)C.push([this.value[m][0]+(this.destination[m][0]-this.value[m][0])*u,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*u]);return new n.PointArray(C)},parse:function(u){var m=[];if(u=u.valueOf(),Array.isArray(u)){if(Array.isArray(u[0]))return u.map(function(B){return B.slice()});if(u[0].x!=null)return u.map(function(B){return[B.x,B.y]})}else u=u.trim().split(n.regex.delimiter).map(parseFloat);u.length%2!==0&&u.pop();for(var x=0,C=u.length;x<C;x=x+2)m.push([u[x],u[x+1]]);return m},move:function(u,m){var x=this.bbox();if(u-=x.x,m-=x.y,!isNaN(u)&&!isNaN(m))for(var C=this.value.length-1;C>=0;C--)this.value[C]=[this.value[C][0]+u,this.value[C][1]+m];return this},size:function(u,m){var x,C=this.bbox();for(x=this.value.length-1;x>=0;x--)C.width&&(this.value[x][0]=(this.value[x][0]-C.x)*u/C.width+C.x),C.height&&(this.value[x][1]=(this.value[x][1]-C.y)*m/C.height+C.y);return this},bbox:function(){return n.parser.poly.setAttribute("points",this.toString()),n.parser.poly.getBBox()}});for(var o={M:function(u,m,x){return m.x=x.x=u[0],m.y=x.y=u[1],["M",m.x,m.y]},L:function(u,m){return m.x=u[0],m.y=u[1],["L",u[0],u[1]]},H:function(u,m){return m.x=u[0],["H",u[0]]},V:function(u,m){return m.y=u[0],["V",u[0]]},C:function(u,m){return m.x=u[4],m.y=u[5],["C",u[0],u[1],u[2],u[3],u[4],u[5]]},S:function(u,m){return m.x=u[2],m.y=u[3],["S",u[0],u[1],u[2],u[3]]},Q:function(u,m){return m.x=u[2],m.y=u[3],["Q",u[0],u[1],u[2],u[3]]},T:function(u,m){return m.x=u[0],m.y=u[1],["T",u[0],u[1]]},Z:function(u,m,x){return m.x=x.x,m.y=x.y,["Z"]},A:function(u,m){return m.x=u[5],m.y=u[6],["A",u[0],u[1],u[2],u[3],u[4],u[5],u[6]]}},a="mlhvqtcsaz".split(""),l=0,c=a.length;l<c;++l)o[a[l]]=function(u){return function(m,x,C){if(u=="H")m[0]=m[0]+x.x;else if(u=="V")m[0]=m[0]+x.y;else if(u=="A")m[5]=m[5]+x.x,m[6]=m[6]+x.y;else for(var B=0,Y=m.length;B<Y;++B)m[B]=m[B]+(B%2?x.y:x.x);return o[u](m,x,C)}}(a[l].toUpperCase());n.PathArray=function(u,m){n.Array.call(this,u,m||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return N(this.value)},move:function(u,m){var x=this.bbox();if(u-=x.x,m-=x.y,!isNaN(u)&&!isNaN(m))for(var C,B=this.value.length-1;B>=0;B--)C=this.value[B][0],C=="M"||C=="L"||C=="T"?(this.value[B][1]+=u,this.value[B][2]+=m):C=="H"?this.value[B][1]+=u:C=="V"?this.value[B][1]+=m:C=="C"||C=="S"||C=="Q"?(this.value[B][1]+=u,this.value[B][2]+=m,this.value[B][3]+=u,this.value[B][4]+=m,C=="C"&&(this.value[B][5]+=u,this.value[B][6]+=m)):C=="A"&&(this.value[B][6]+=u,this.value[B][7]+=m);return this},size:function(u,m){var x,C,B=this.bbox();for(x=this.value.length-1;x>=0;x--)C=this.value[x][0],C=="M"||C=="L"||C=="T"?(this.value[x][1]=(this.value[x][1]-B.x)*u/B.width+B.x,this.value[x][2]=(this.value[x][2]-B.y)*m/B.height+B.y):C=="H"?this.value[x][1]=(this.value[x][1]-B.x)*u/B.width+B.x:C=="V"?this.value[x][1]=(this.value[x][1]-B.y)*m/B.height+B.y:C=="C"||C=="S"||C=="Q"?(this.value[x][1]=(this.value[x][1]-B.x)*u/B.width+B.x,this.value[x][2]=(this.value[x][2]-B.y)*m/B.height+B.y,this.value[x][3]=(this.value[x][3]-B.x)*u/B.width+B.x,this.value[x][4]=(this.value[x][4]-B.y)*m/B.height+B.y,C=="C"&&(this.value[x][5]=(this.value[x][5]-B.x)*u/B.width+B.x,this.value[x][6]=(this.value[x][6]-B.y)*m/B.height+B.y)):C=="A"&&(this.value[x][1]=this.value[x][1]*u/B.width,this.value[x][2]=this.value[x][2]*m/B.height,this.value[x][6]=(this.value[x][6]-B.x)*u/B.width+B.x,this.value[x][7]=(this.value[x][7]-B.y)*m/B.height+B.y);return this},equalCommands:function(u){var m,x,C;for(u=new n.PathArray(u),C=this.value.length===u.value.length,m=0,x=this.value.length;C&&m<x;m++)C=this.value[m][0]===u.value[m][0];return C},morph:function(u){return u=new n.PathArray(u),this.equalCommands(u)?this.destination=u:this.destination=null,this},at:function(u){if(!this.destination)return this;var m=this.value,x=this.destination.value,C=[],B=new n.PathArray,Y,de,oe,$e;for(Y=0,de=m.length;Y<de;Y++){for(C[Y]=[m[Y][0]],oe=1,$e=m[Y].length;oe<$e;oe++)C[Y][oe]=m[Y][oe]+(x[Y][oe]-m[Y][oe])*u;C[Y][0]==="A"&&(C[Y][4]=+(C[Y][4]!=0),C[Y][5]=+(C[Y][5]!=0))}return B.value=C,B},parse:function(u){if(u instanceof n.PathArray)return u.valueOf();var m,C,x={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};typeof u=="string"?u=u.replace(n.regex.numbersWithDots,d).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):u=u.reduce(function($e,je){return[].concat.call($e,je)},[]);var C=[],B=new n.Point,Y=new n.Point,de=0,oe=u.length;do n.regex.isPathLetter.test(u[de])?(m=u[de],++de):m=="M"?m="L":m=="m"&&(m="l"),C.push(o[m].call(null,u.slice(de,de=de+x[m.toUpperCase()]).map(parseFloat),B,Y));while(oe>de);return C},bbox:function(){return n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(u,m){this.value=0,this.unit=m||"",typeof u=="number"?this.value=isNaN(u)?0:isFinite(u)?u:u<0?-34e37:34e37:typeof u=="string"?(m=u.match(n.regex.numberAndUnit),m&&(this.value=parseFloat(m[1]),m[5]=="%"?this.value/=100:m[5]=="s"&&(this.value*=1e3),this.unit=m[5])):u instanceof n.Number&&(this.value=u.valueOf(),this.unit=u.unit)},extend:{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(u){return u=new n.Number(u),new n.Number(this+u,this.unit||u.unit)},minus:function(u){return u=new n.Number(u),new n.Number(this-u,this.unit||u.unit)},times:function(u){return u=new n.Number(u),new n.Number(this*u,this.unit||u.unit)},divide:function(u){return u=new n.Number(u),new n.Number(this/u,this.unit||u.unit)},to:function(u){var m=new n.Number(this);return typeof u=="string"&&(m.unit=u),m},morph:function(u){return this.destination=new n.Number(u),u.relative&&(this.destination.value+=this.value),this},at:function(u){return this.destination?new n.Number(this.destination).minus(this).times(u).plus(this):this}}}),n.Element=n.invent({create:function(u){this._stroke=n.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=u)&&(this.type=u.nodeName,this.node.instance=this,this._events=u._events||{},this._stroke=u.getAttribute("stroke")||this._stroke)},extend:{x:function(u){return this.attr("x",u)},y:function(u){return this.attr("y",u)},cx:function(u){return u==null?this.x()+this.width()/2:this.x(u-this.width()/2)},cy:function(u){return u==null?this.y()+this.height()/2:this.y(u-this.height()/2)},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},width:function(u){return this.attr("width",u)},height:function(u){return this.attr("height",u)},size:function(u,m){var x=w(this,u,m);return this.width(new n.Number(x.width)).height(new n.Number(x.height))},clone:function(u){this.writeDataToDom();var m=P(this.node.cloneNode(!0));return u?u.add(m):this.after(m),m},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(u){return this.after(u).remove(),u},addTo:function(u){return u.put(this)},putIn:function(u){return u.add(this)},id:function(u){return this.attr("id",u)},inside:function(u,m){var x=this.bbox();return u>x.x&&m>x.y&&u<x.x+x.width&&m<x.y+x.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var u=this.attr("class");return u==null?[]:u.trim().split(n.regex.delimiter)},hasClass:function(u){return this.classes().indexOf(u)!=-1},addClass:function(u){if(!this.hasClass(u)){var m=this.classes();m.push(u),this.attr("class",m.join(" "))}return this},removeClass:function(u){return this.hasClass(u)&&this.attr("class",this.classes().filter(function(m){return m!=u}).join(" ")),this},toggleClass:function(u){return this.hasClass(u)?this.removeClass(u):this.addClass(u)},reference:function(u){return n.get(this.attr(u))},parent:function(u){var m=this;if(!m.node.parentNode)return null;if(m=n.adopt(m.node.parentNode),!u)return m;for(;m&&m.node instanceof i.SVGElement;){if(typeof u=="string"?m.matches(u):m instanceof u)return m;if(!m.node.parentNode||m.node.parentNode.nodeName=="#document"||m.node.parentNode.nodeName=="#document-fragment")return null;m=n.adopt(m.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(u){var m=[],x=this;do{if(x=x.parent(u),!x||!x.node)break;m.push(x)}while(x.parent);return m},matches:function(u){return v(this.node,u)},native:function(){return this.node},svg:function(u){var m=r.createElement("svg");if(u&&this instanceof n.Parent){m.innerHTML="<svg>"+u.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var x=0,C=m.firstChild.childNodes.length;x<C;x++)this.node.appendChild(m.firstChild.firstChild)}else return m.appendChild(u=r.createElement("svg")),this.writeDataToDom(),u.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this},writeDataToDom:function(){if(this.each||this.lines){var u=this.each?this:this.lines();u.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(u){return this.dom=u,this},is:function(u){return y(this,u)}}}),n.easing={"-":function(u){return u},"<>":function(u){return-Math.cos(u*Math.PI)/2+.5},">":function(u){return Math.sin(u*Math.PI/2)},"<":function(u){return-Math.cos(u*Math.PI/2)+1}},n.morph=function(u){return function(m,x){return new n.MorphObj(m,x).at(u)}},n.Situation=n.invent({create:function(u){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(u.duration).valueOf(),this.delay=new n.Number(u.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=u.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(u){this._target=u,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(u,m,x){typeof u=="object"&&(m=u.ease,x=u.delay,u=u.duration);var C=new n.Situation({duration:u||1e3,delay:x||0,ease:n.easing[m||"-"]||m});return this.queue(C),this},delay:function(u){var m=new n.Situation({duration:u,delay:0,ease:n.easing["-"]});return this.queue(m)},target:function(u){return u&&u instanceof n.Element?(this._target=u,this):this._target},timeToAbsPos:function(u){return(u-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(u){return this.situation.duration/this._speed*u+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=i.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){i.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(u){return(typeof u=="function"||u instanceof n.Situation)&&this.situations.push(u),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var u,m,x,C=this.situation;if(C.init)return this;for(u in C.animations)for(x=this.target()[u](),Array.isArray(x)||(x=[x]),Array.isArray(C.animations[u])||(C.animations[u]=[C.animations[u]]),m=x.length;m--;)C.animations[u][m]instanceof n.Number&&(x[m]=new n.Number(x[m])),C.animations[u][m]=x[m].morph(C.animations[u][m]);for(u in C.attrs)C.attrs[u]=new n.MorphObj(this.target().attr(u),C.attrs[u]);for(u in C.styles)C.styles[u]=new n.MorphObj(this.target().style(u),C.styles[u]);return C.initialTransformation=this.target().matrixify(),C.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(u,m){var x=this.active;return this.active=!1,m&&this.clearQueue(),u&&this.situation&&(!x&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var u=this.situation;this.stop(),this.situation=u,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),typeof this.situation.loops=="number"?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(u,m){var x=this.situation.duration/this._speed;return this.absPos=u,m||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*x,this.situation.finish=this.situation.start+x,this.step(!0)},speed:function(u){return u===0?this.pause():u?(this._speed=u,this.at(this.absPos,!0)):this._speed},loop:function(u,m){var x=this.last();return x.loops=u??!0,x.loop=0,m&&(x.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(u){var m=this.last();return typeof u>"u"?m.reversed=!m.reversed:m.reversed=u,this},progress:function(u){return u?this.situation.ease(this.pos):this.pos},after:function(u){var m=this.last(),x=function C(B){B.detail.situation==m&&(u.call(this,m),this.off("finished.fx",C))};return this.target().on("finished.fx",x),this._callStart()},during:function(u){var m=this.last(),x=function(C){C.detail.situation==m&&u.call(this,C.detail.pos,n.morph(C.detail.pos),C.detail.eased,m)};return this.target().off("during.fx",x).on("during.fx",x),this.after(function(){this.off("during.fx",x)}),this._callStart()},afterAll:function(u){var m=function x(C){u.call(this),this.off("allfinished.fx",x)};return this.target().off("allfinished.fx",m).on("allfinished.fx",m),this._callStart()},duringAll:function(u){var m=function(x){u.call(this,x.detail.pos,n.morph(x.detail.pos),x.detail.eased,x.detail.situation)};return this.target().off("during.fx",m).on("during.fx",m),this.afterAll(function(){this.off("during.fx",m)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(u,m,x){return this.last()[x||"animations"][u]=m,this._callStart()},step:function(u){if(u||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var m,x,C;m=Math.max(this.absPos,0),x=Math.floor(m),this.situation.loops===!0||x<this.situation.loops?(this.pos=m-x,C=this.situation.loop,this.situation.loop=x):(this.absPos=this.situation.loops,this.pos=1,C=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-C)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var B=this.situation.ease(this.pos);for(var Y in this.situation.once)Y>this.lastPos&&Y<=B&&(this.situation.once[Y].call(this.target(),this.pos,B),delete this.situation.once[Y]);return this.active&&this.target().fire("during",{pos:this.pos,eased:B,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=B,this):this},eachAt:function(){var u,m,x,C=this,B=this.target(),Y=this.situation;for(u in Y.animations)x=[].concat(Y.animations[u]).map(function(oe){return typeof oe!="string"&&oe.at?oe.at(Y.ease(C.pos),C.pos):oe}),B[u].apply(B,x);for(u in Y.attrs)x=[u].concat(Y.attrs[u]).map(function(oe){return typeof oe!="string"&&oe.at?oe.at(Y.ease(C.pos),C.pos):oe}),B.attr.apply(B,x);for(u in Y.styles)x=[u].concat(Y.styles[u]).map(function(oe){return typeof oe!="string"&&oe.at?oe.at(Y.ease(C.pos),C.pos):oe}),B.style.apply(B,x);if(Y.transforms.length){for(x=Y.initialTransformation,u=0,m=Y.transforms.length;u<m;u++){var de=Y.transforms[u];if(de instanceof n.Matrix){de.relative?x=x.multiply(new n.Matrix().morph(de).at(Y.ease(this.pos))):x=x.morph(de).at(Y.ease(this.pos));continue}de.relative||de.undo(x.extract()),x=x.multiply(de.at(Y.ease(this.pos)))}B.matrix(x)}return this},once:function(u,m,x){var C=this.last();return x||(u=C.ease(u)),C.once[u]=m,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:n.Element,construct:{animate:function(u,m,x){return(this.fx||(this.fx=new n.FX(this))).animate(u,m,x)},delay:function(u){return(this.fx||(this.fx=new n.FX(this))).delay(u)},stop:function(u,m){return this.fx&&this.fx.stop(u,m),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(u){if(this.fx){if(u==null)return this.fx.speed();this.fx.speed(u)}return this}}}),n.MorphObj=n.invent({create:function(u,m){if(n.Color.isColor(m))return new n.Color(u).morph(m);if(n.regex.delimiter.test(u))return n.regex.pathLetters.test(u)?new n.PathArray(u).morph(m):new n.Array(u).morph(m);if(n.regex.numberAndUnit.test(m))return new n.Number(u).morph(m);this.value=u,this.destination=m},extend:{at:function(u,m){return m<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(u,m,x){if(typeof u=="object")for(var C in u)this.attr(C,u[C]);else this.add(u,m,"attrs");return this},style:function(u,m){if(typeof u=="object")for(var x in u)this.style(x,u[x]);else this.add(u,m,"styles");return this},x:function(u,m){if(this.target()instanceof n.G)return this.transform({x:u},m),this;var x=new n.Number(u);return x.relative=m,this.add("x",x)},y:function(u,m){if(this.target()instanceof n.G)return this.transform({y:u},m),this;var x=new n.Number(u);return x.relative=m,this.add("y",x)},cx:function(u){return this.add("cx",new n.Number(u))},cy:function(u){return this.add("cy",new n.Number(u))},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},size:function(u,m){if(this.target()instanceof n.Text)this.attr("font-size",u);else{var x;(!u||!m)&&(x=this.target().bbox()),u||(u=x.width/x.height*m),m||(m=x.height/x.width*u),this.add("width",new n.Number(u)).add("height",new n.Number(m))}return this},width:function(u){return this.add("width",new n.Number(u))},height:function(u){return this.add("height",new n.Number(u))},plot:function(u,m,x,C){return arguments.length==4?this.plot([u,m,x,C]):this.add("plot",new(this.target()).morphArray(u))},leading:function(u){return this.target().leading?this.add("leading",new n.Number(u)):this},viewbox:function(u,m,x,C){return this.target()instanceof n.Container&&this.add("viewbox",new n.ViewBox(u,m,x,C)),this},update:function(u){if(this.target()instanceof n.Stop){if(typeof u=="number"||u instanceof n.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",u.offset)}return this}}),n.Box=n.invent({create:function(u,m,x,C){if(typeof u=="object"&&!(u instanceof n.Element))return n.Box.call(this,u.left!=null?u.left:u.x,u.top!=null?u.top:u.y,u.width,u.height);arguments.length==4&&(this.x=u,this.y=m,this.width=x,this.height=C),F(this)},extend:{merge:function(u){var m=new this.constructor;return m.x=Math.min(this.x,u.x),m.y=Math.min(this.y,u.y),m.width=Math.max(this.x+this.width,u.x+u.width)-m.x,m.height=Math.max(this.y+this.height,u.y+u.height)-m.y,F(m)},transform:function(u){var m=1/0,x=-1/0,C=1/0,B=-1/0,Y,de=[new n.Point(this.x,this.y),new n.Point(this.x2,this.y),new n.Point(this.x,this.y2),new n.Point(this.x2,this.y2)];return de.forEach(function(oe){oe=oe.transform(u),m=Math.min(m,oe.x),x=Math.max(x,oe.x),C=Math.min(C,oe.y),B=Math.max(B,oe.y)}),Y=new this.constructor,Y.x=m,Y.width=x-m,Y.y=C,Y.height=B-C,F(Y),Y}}}),n.BBox=n.invent({create:function(u){if(n.Box.apply(this,[].slice.call(arguments)),u instanceof n.Element){var m;try{if(r.documentElement.contains){if(!r.documentElement.contains(u.node))throw new Exception("Element not in the dom")}else{for(var x=u.node;x.parentNode;)x=x.parentNode;if(x!=r)throw new Exception("Element not in the dom")}m=u.node.getBBox()}catch{if(u instanceof n.Shape){var C=u.clone(n.parser.draw.instance).show();m=C.node.getBBox(),C.remove()}else m={x:u.node.clientLeft,y:u.node.clientTop,width:u.node.clientWidth,height:u.node.clientHeight}}n.Box.call(this,m)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.extend(n.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),n.RBox=n.invent({create:function(u){n.Box.apply(this,[].slice.call(arguments)),u instanceof n.Element&&n.Box.call(this,u.node.getBoundingClientRect())},inherit:n.Box,parent:n.Element,extend:{addOffset:function(){return this.x+=i.pageXOffset,this.y+=i.pageYOffset,this}},construct:{rbox:function(u){return u?new n.RBox(this).transform(u.screenCTM().inverse()):new n.RBox(this).addOffset()}}}),n.RBox.prototype.constructor=n.RBox,n.Matrix=n.invent({create:function(u){var m,x=$([1,0,0,1,0,0]);for(u=u instanceof n.Element?u.matrixify():typeof u=="string"?$(u.split(n.regex.delimiter).map(parseFloat)):arguments.length==6?$([].slice.call(arguments)):Array.isArray(u)?$(u):typeof u=="object"?u:x,m=V.length-1;m>=0;--m)this[V[m]]=u[V[m]]!=null?u[V[m]]:x[V[m]]},extend:{extract:function(){var u=_(this,0,1),m=_(this,1,0),x=180/Math.PI*Math.atan2(u.y,u.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(x*Math.PI/180)+this.f*Math.sin(x*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(x*Math.PI/180)+this.e*Math.sin(-x*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-x,skewY:180/Math.PI*Math.atan2(m.y,m.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:x,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(u){return this.destination=new n.Matrix(u),this},at:function(u){if(!this.destination)return this;var m=new n.Matrix({a:this.a+(this.destination.a-this.a)*u,b:this.b+(this.destination.b-this.b)*u,c:this.c+(this.destination.c-this.c)*u,d:this.d+(this.destination.d-this.d)*u,e:this.e+(this.destination.e-this.e)*u,f:this.f+(this.destination.f-this.f)*u});return m},multiply:function(u){return new n.Matrix(this.native().multiply(M(u).native()))},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(u,m){return new n.Matrix(this.native().translate(u||0,m||0))},scale:function(u,m,x,C){return arguments.length==1?m=u:arguments.length==3&&(C=x,x=m,m=u),this.around(x,C,new n.Matrix(u,0,0,m,0,0))},rotate:function(u,m,x){return u=n.utils.radians(u),this.around(m,x,new n.Matrix(Math.cos(u),Math.sin(u),-Math.sin(u),Math.cos(u),0,0))},flip:function(u,m){return u=="x"?this.scale(-1,1,m,0):u=="y"?this.scale(1,-1,0,m):this.scale(-1,-1,u,m??u)},skew:function(u,m,x,C){return arguments.length==1?m=u:arguments.length==3&&(C=x,x=m,m=u),u=n.utils.radians(u),m=n.utils.radians(m),this.around(x,C,new n.Matrix(1,Math.tan(m),Math.tan(u),1,0,0))},skewX:function(u,m,x){return this.skew(u,0,m,x)},skewY:function(u,m,x){return this.skew(0,u,m,x)},around:function(u,m,x){return this.multiply(new n.Matrix(1,0,0,1,u||0,m||0)).multiply(x).multiply(new n.Matrix(1,0,0,1,-u||0,-m||0))},native:function(){for(var u=n.parser.native.createSVGMatrix(),m=V.length-1;m>=0;m--)u[V[m]]=this[V[m]];return u},toString:function(){return"matrix("+U(this.a)+","+U(this.b)+","+U(this.c)+","+U(this.d)+","+U(this.e)+","+U(this.f)+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var u=this.rect(1,1),m=u.node.getScreenCTM();return u.remove(),new n.Matrix(m)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(u,m){var x,C={x:0,y:0};x=Array.isArray(u)?{x:u[0],y:u[1]}:typeof u=="object"?{x:u.x,y:u.y}:u!=null?{x:u,y:m??u}:C,this.x=x.x,this.y=x.y},extend:{clone:function(){return new n.Point(this)},morph:function(u,m){return this.destination=new n.Point(u,m),this},at:function(u){if(!this.destination)return this;var m=new n.Point({x:this.x+(this.destination.x-this.x)*u,y:this.y+(this.destination.y-this.y)*u});return m},native:function(){var u=n.parser.native.createSVGPoint();return u.x=this.x,u.y=this.y,u},transform:function(u){return new n.Point(this.native().matrixTransform(u.native()))}}}),n.extend(n.Element,{point:function(u,m){return new n.Point(u,m).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(u,m,x){if(u==null){for(u={},m=this.node.attributes,x=m.length-1;x>=0;x--)u[m[x].nodeName]=n.regex.isNumber.test(m[x].nodeValue)?parseFloat(m[x].nodeValue):m[x].nodeValue;return u}else if(typeof u=="object")for(m in u)this.attr(m,u[m]);else if(m===null)this.node.removeAttribute(u);else{if(m==null)return m=this.node.getAttribute(u),m==null?n.defaults.attrs[u]:n.regex.isNumber.test(m)?parseFloat(m):m;u=="stroke-width"?this.attr("stroke",parseFloat(m)>0?this._stroke:null):u=="stroke"&&(this._stroke=m),(u=="fill"||u=="stroke")&&(n.regex.isImage.test(m)&&(m=this.doc().defs().image(m,0,0)),m instanceof n.Image&&(m=this.doc().defs().pattern(0,0,function(){this.add(m)}))),typeof m=="number"?m=new n.Number(m):n.Color.isColor(m)?m=new n.Color(m):Array.isArray(m)&&(m=new n.Array(m)),u=="leading"?this.leading&&this.leading(m):typeof x=="string"?this.node.setAttributeNS(x,u,m.toString()):this.node.setAttribute(u,m.toString()),this.rebuild&&(u=="font-size"||u=="x")&&this.rebuild(u,m)}return this}}),n.extend(n.Element,{transform:function(u,m){var x=this,C,B;if(typeof u!="object")return C=new n.Matrix(x).extract(),typeof u=="string"?C[u]:C;if(C=new n.Matrix(x),m=!!m||!!u.relative,u.a!=null)C=m?C.multiply(new n.Matrix(u)):new n.Matrix(u);else if(u.rotation!=null)I(u,x),C=m?C.rotate(u.rotation,u.cx,u.cy):C.rotate(u.rotation-C.extract().rotation,u.cx,u.cy);else if(u.scale!=null||u.scaleX!=null||u.scaleY!=null){if(I(u,x),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,!m){var Y=C.extract();u.scaleX=u.scaleX*1/Y.scaleX,u.scaleY=u.scaleY*1/Y.scaleY}C=C.scale(u.scaleX,u.scaleY,u.cx,u.cy)}else if(u.skew!=null||u.skewX!=null||u.skewY!=null){if(I(u,x),u.skewX=u.skew!=null?u.skew:u.skewX!=null?u.skewX:0,u.skewY=u.skew!=null?u.skew:u.skewY!=null?u.skewY:0,!m){var Y=C.extract();C=C.multiply(new n.Matrix().skew(Y.skewX,Y.skewY,u.cx,u.cy).inverse())}C=C.skew(u.skewX,u.skewY,u.cx,u.cy)}else u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?x.bbox()["c"+u.flip]:u.offset:u.offset==null?(B=x.bbox(),u.flip=B.cx,u.offset=B.cy):u.flip=u.offset,C=new n.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(m?C=C.translate(u.x,u.y):(u.x!=null&&(C.e=u.x),u.y!=null&&(C.f=u.y)));return this.attr("transform",C)}}),n.extend(n.FX,{transform:function(u,m){var x=this.target(),C,B;return typeof u!="object"?(C=new n.Matrix(x).extract(),typeof u=="string"?C[u]:C):(m=!!m||!!u.relative,u.a!=null?C=new n.Matrix(u):u.rotation!=null?(I(u,x),C=new n.Rotate(u.rotation,u.cx,u.cy)):u.scale!=null||u.scaleX!=null||u.scaleY!=null?(I(u,x),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,C=new n.Scale(u.scaleX,u.scaleY,u.cx,u.cy)):u.skewX!=null||u.skewY!=null?(I(u,x),u.skewX=u.skewX!=null?u.skewX:0,u.skewY=u.skewY!=null?u.skewY:0,C=new n.Skew(u.skewX,u.skewY,u.cx,u.cy)):u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?x.bbox()["c"+u.flip]:u.offset:u.offset==null?(B=x.bbox(),u.flip=B.cx,u.offset=B.cy):u.flip=u.offset,C=new n.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(C=new n.Translate(u.x,u.y)),C?(C.relative=m,this.last().transforms.push(C),this._callStart()):this)}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var u=(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map(function(m){var x=m.trim().split("(");return[x[0],x[1].split(n.regex.delimiter).map(function(C){return parseFloat(C)})]}).reduce(function(m,x){return x[0]=="matrix"?m.multiply($(x[1])):m[x[0]].apply(m,x[1])},new n.Matrix);return u},toParent:function(u){if(this==u)return this;var m=this.screenCTM(),x=u.screenCTM().inverse();return this.addTo(u).untransform().transform(x.multiply(m)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(u,m){if(arguments.length>1&&typeof m!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(u))for(var x=0,C=this.arguments.length;x<C;++x)this[this.arguments[x]]=u[x];else if(typeof u=="object")for(var x=0,C=this.arguments.length;x<C;++x)this[this.arguments[x]]=u[this.arguments[x]];this.inversed=!1,m===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(u){for(var m=[],x=0,C=this.arguments.length;x<C;++x)m.push(this[this.arguments[x]]);var B=this._undo||new n.Matrix;return B=new n.Matrix().morph(n.Matrix.prototype[this.method].apply(B,m)).at(u),this.inversed?B.inverse():B},undo:function(u){for(var m=0,x=this.arguments.length;m<x;++m)u[this.arguments[m]]=typeof this[this.arguments[m]]>"u"?0:u[this.arguments[m]];return u.cx=this.cx,u.cy=this.cy,this._undo=new n[S(this.method)](u,!0).at(1),this}}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.Rotate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(u){var m=new n.Matrix().rotate(new n.Number().morph(this.rotation-(this._undo?this._undo.rotation:0)).at(u),this.cx,this.cy);return this.inversed?m.inverse():m},undo:function(u){return this._undo=u,this}}}),n.Scale=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),n.Skew=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),n.extend(n.Element,{style:function(u,m){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(typeof u=="object")for(m in u)this.style(m,u[m]);else if(n.regex.isCss.test(u))for(u=u.split(/\s*;\s*/).filter(function(x){return!!x}).map(function(x){return x.split(/\s*:\s*/)});m=u.pop();)this.style(m[0],m[1]);else return this.node.style[b(u)];else this.node.style[b(u)]=m===null||n.regex.isBlank.test(m)?"":m;return this}}),n.Parent=n.invent({create:function(u){this.constructor.call(this,u)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),function(u){return n.adopt(u)})},add:function(u,m){return m==null?this.node.appendChild(u.node):u.node!=this.node.childNodes[m]&&this.node.insertBefore(u.node,this.node.childNodes[m]),this},put:function(u,m){return this.add(u,m),u},has:function(u){return this.index(u)>=0},index:function(u){return[].slice.call(this.node.childNodes).indexOf(u.node)},get:function(u){return n.adopt(this.node.childNodes[u])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(u,m){var x,C,B=this.children();for(x=0,C=B.length;x<C;x++)B[x]instanceof n.Element&&u.apply(B[x],[x,B]),m&&B[x]instanceof n.Container&&B[x].each(u,m);return this},removeElement:function(u){return this.node.removeChild(u.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(u,m){return m===0||this instanceof n.Defs||this.node==n.parser.draw?this:(u=u||(this instanceof n.Doc?this:this.parent(n.Parent)),m=m||1/0,this.each(function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(u,m-1):this.toParent(u)}),this.node.firstChild||this.remove(),this)},flatten:function(u,m){return this.ungroup(u,m)}}),n.Container=n.invent({create:function(u){this.constructor.call(this,u)},inherit:n.Parent}),n.ViewBox=n.invent({create:function(u){var m=[0,0,0,0],x,C,B,Y,de,oe,$e,je=1,ze=1,at=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(u instanceof n.Element){for(oe=u,$e=u,de=(u.attr("viewBox")||"").match(at),u.bbox,B=new n.Number(u.width()),Y=new n.Number(u.height());B.unit=="%";)je*=B.value,B=new n.Number(oe instanceof n.Doc?oe.parent().offsetWidth:oe.parent().width()),oe=oe.parent();for(;Y.unit=="%";)ze*=Y.value,Y=new n.Number($e instanceof n.Doc?$e.parent().offsetHeight:$e.parent().height()),$e=$e.parent();this.x=0,this.y=0,this.width=B*je,this.height=Y*ze,this.zoom=1,de&&(x=parseFloat(de[0]),C=parseFloat(de[1]),B=parseFloat(de[2]),Y=parseFloat(de[3]),this.zoom=this.width/this.height>B/Y?this.height/Y:this.width/B,this.x=x,this.y=C,this.width=B,this.height=Y)}else u=typeof u=="string"?u.match(at).map(function(Gt){return parseFloat(Gt)}):Array.isArray(u)?u:typeof u=="object"?[u.x,u.y,u.width,u.height]:arguments.length==4?[].slice.call(arguments):m,this.x=u[0],this.y=u[1],this.width=u[2],this.height=u[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(u,m,x,C){return this.destination=new n.ViewBox(u,m,x,C),this},at:function(u){return this.destination?new n.ViewBox([this.x+(this.destination.x-this.x)*u,this.y+(this.destination.y-this.y)*u,this.width+(this.destination.width-this.width)*u,this.height+(this.destination.height-this.height)*u]):this}},parent:n.Container,construct:{viewbox:function(u,m,x,C){return arguments.length==0?new n.ViewBox(this):this.attr("viewBox",new n.ViewBox(u,m,x,C))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(u){n.Element.prototype[u]=function(m){return m==null?n.off(this,u):n.on(this,u,m),this}}),n.listenerId=0,n.on=function(u,m,x,C,B){var Y=x.bind(C||u),de=u instanceof n.Element?u.node:u;de.instance=de.instance||{_events:{}};var oe=de.instance._events;x._svgjsListenerId||(x._svgjsListenerId=++n.listenerId),m.split(n.regex.delimiter).forEach(function($e){var je=$e.split(".")[0],ze=$e.split(".")[1]||"*";oe[je]=oe[je]||{},oe[je][ze]=oe[je][ze]||{},oe[je][ze][x._svgjsListenerId]=Y,de.addEventListener(je,Y,B||!1)})},n.off=function(u,m,x,C){var B=u instanceof n.Element?u.node:u;if(B.instance&&!(typeof x=="function"&&(x=x._svgjsListenerId,!x))){var Y=B.instance._events;(m||"").split(n.regex.delimiter).forEach(function(de){var oe=de&&de.split(".")[0],$e=de&&de.split(".")[1],je,ze;if(x)Y[oe]&&Y[oe][$e||"*"]&&(B.removeEventListener(oe,Y[oe][$e||"*"][x],C||!1),delete Y[oe][$e||"*"][x]);else if(oe&&$e){if(Y[oe]&&Y[oe][$e]){for(ze in Y[oe][$e])n.off(B,[oe,$e].join("."),ze);delete Y[oe][$e]}}else if($e)for(de in Y)for(je in Y[de])$e===je&&n.off(B,[de,$e].join("."));else if(oe){if(Y[oe]){for(je in Y[oe])n.off(B,[oe,je].join("."));delete Y[oe]}}else{for(de in Y)n.off(B,de);B.instance._events={}}})}},n.extend(n.Element,{on:function(u,m,x,C){return n.on(this,u,m,x,C),this},off:function(u,m){return n.off(this.node,u,m),this},fire:function(u,m){return u instanceof i.Event?this.node.dispatchEvent(u):this.node.dispatchEvent(u=new n.CustomEvent(u,{detail:m,cancelable:!0})),this._event=u,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(u){return u==null?this.transform("x"):this.transform({x:u-this.x()},!0)},y:function(u){return u==null?this.transform("y"):this.transform({y:u-this.y()},!0)},cx:function(u){return u==null?this.gbox().cx:this.x(u-this.gbox().width/2)},cy:function(u){return u==null?this.gbox().cy:this.y(u-this.gbox().height/2)},gbox:function(){var u=this.bbox(),m=this.transform();return u.x+=m.x,u.x2+=m.x,u.cx+=m.x,u.y+=m.y,u.y2+=m.y,u.cy+=m.y,u}},construct:{group:function(){return this.put(new n.G)}}}),n.Doc=n.invent({create:function(u){u&&(u=typeof u=="string"?r.getElementById(u):u,u.nodeName=="svg"?this.constructor.call(this,u):(this.constructor.call(this,n.create("svg")),u.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){if(!this._defs){var u;(u=this.node.getElementsByTagName("defs")[0])?this._defs=n.adopt(u):this._defs=new n.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return!this.node.parentNode||this.node.parentNode.nodeName=="#document"||this.node.parentNode.nodeName=="#document-fragment"?null:this.node.parentNode},spof:function(){var u=this.node.getScreenCTM();return u&&this.style("left",-u.e%1+"px").style("top",-u.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw.parentNode||this.node.appendChild(n.parser.draw),this},clone:function(u){this.writeDataToDom();var m=this.node,x=P(m.cloneNode(!0));return u?(u.node||u).appendChild(x.node):m.parentNode.insertBefore(x.node,m.nextSibling),x}}}),n.extend(n.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var u=this.position()+1,m=this.parent();return m.removeElement(this).add(this,u),m instanceof n.Doc&&m.node.appendChild(m.defs().node),this},backward:function(){var u=this.position();return u>0&&this.parent().removeElement(this).add(this,u-1),this},front:function(){var u=this.parent();return u.node.appendChild(this.node),u instanceof n.Doc&&u.node.appendChild(u.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(u){u.remove();var m=this.position();return this.parent().add(u,m),this},after:function(u){u.remove();var m=this.position();return this.parent().add(u,m+1),this}}),n.Mask=n.invent({create:function(){this.constructor.call(this,n.create("mask")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unmask();return this.targets=[],n.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new n.Mask)}}}),n.extend(n.Element,{maskWith:function(u){return this.masker=u instanceof n.Mask?u:this.parent().mask().add(u),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),n.ClipPath=n.invent({create:function(){this.constructor.call(this,n.create("clipPath")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new n.ClipPath)}}}),n.extend(n.Element,{clipWith:function(u){return this.clipper=u instanceof n.ClipPath?u:this.parent().clip().add(u),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),n.Gradient=n.invent({create:function(u){this.constructor.call(this,n.create(u+"Gradient")),this.type=u},inherit:n.Container,extend:{at:function(u,m,x){return this.put(new n.Stop).update(u,m,x)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(u,m,x){return u=="transform"&&(u="gradientTransform"),n.Container.prototype.attr.call(this,u,m,x)}},construct:{gradient:function(u,m){return this.defs().gradient(u,m)}}}),n.extend(n.Gradient,n.FX,{from:function(u,m){return(this._target||this).type=="radial"?this.attr({fx:new n.Number(u),fy:new n.Number(m)}):this.attr({x1:new n.Number(u),y1:new n.Number(m)})},to:function(u,m){return(this._target||this).type=="radial"?this.attr({cx:new n.Number(u),cy:new n.Number(m)}):this.attr({x2:new n.Number(u),y2:new n.Number(m)})}}),n.extend(n.Defs,{gradient:function(u,m){return this.put(new n.Gradient(u)).update(m)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(u){return(typeof u=="number"||u instanceof n.Number)&&(u={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",new n.Number(u.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return this.fill()},attr:function(u,m,x){return u=="transform"&&(u="patternTransform"),n.Container.prototype.attr.call(this,u,m,x)}},construct:{pattern:function(u,m,x){return this.defs().pattern(u,m,x)}}}),n.extend(n.Defs,{pattern:function(u,m,x){return this.put(new n.Pattern).update(x).attr({x:0,y:0,width:u,height:m,patternUnits:"userSpaceOnUse"})}}),n.Shape=n.invent({create:function(u){this.constructor.call(this,u)},inherit:n.Element}),n.Bare=n.invent({create:function(u,m){if(this.constructor.call(this,n.create(u)),m)for(var x in m.prototype)typeof m.prototype[x]=="function"&&(this[x]=m.prototype[x])},inherit:n.Element,extend:{words:function(u){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(r.createTextNode(u)),this}}}),n.extend(n.Parent,{element:function(u,m){return this.put(new n.Bare(u,m))}}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(u,m){return this.attr("href",(m||"")+"#"+u,n.xlink)}},construct:{use:function(u,m){return this.put(new n.Use).element(u,m)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(u,m){return this.put(new n.Rect).size(u,m)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(u){return this.put(new n.Circle).rx(new n.Number(u).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(u){return this.attr("r",u)},ry:function(u){return this.rx(u)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(u,m){return this.put(new n.Ellipse).size(u,m).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(u){return this.attr("rx",u)},ry:function(u){return this.attr("ry",u)}}),n.extend(n.Circle,n.Ellipse,{x:function(u){return u==null?this.cx()-this.rx():this.cx(u+this.rx())},y:function(u){return u==null?this.cy()-this.ry():this.cy(u+this.ry())},cx:function(u){return u==null?this.attr("cx"):this.attr("cx",u)},cy:function(u){return u==null?this.attr("cy"):this.attr("cy",u)},width:function(u){return u==null?this.rx()*2:this.rx(new n.Number(u).divide(2))},height:function(u){return u==null?this.ry()*2:this.ry(new n.Number(u).divide(2))},size:function(u,m){var x=w(this,u,m);return this.rx(new n.Number(x.width).divide(2)).ry(new n.Number(x.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(u,m,x,C){return u==null?this.array():(typeof m<"u"?u={x1:u,y1:m,x2:x,y2:C}:u=new n.PointArray(u).toLine(),this.attr(u))},move:function(u,m){return this.attr(this.array().move(u,m).toLine())},size:function(u,m){var x=w(this,u,m);return this.attr(this.array().size(x.width,x.height).toLine())}},construct:{line:function(u,m,x,C){return n.Line.prototype.plot.apply(this.put(new n.Line),u!=null?[u,m,x,C]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(u){return this.put(new n.Polyline).plot(u||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(u){return this.put(new n.Polygon).plot(u||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(u){return u==null?this.array():this.clear().attr("points",typeof u=="string"?u:this._array=new n.PointArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("points",this.array().move(u,m))},size:function(u,m){var x=w(this,u,m);return this.attr("points",this.array().size(x.width,x.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},width:function(u){var m=this.bbox();return u==null?m.width:this.size(u,m.height)},height:function(u){var m=this.bbox();return u==null?m.height:this.size(m.width,u)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(u){return u==null?this.array():this.clear().attr("d",typeof u=="string"?u:this._array=new n.PathArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("d",this.array().move(u,m))},x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},size:function(u,m){var x=w(this,u,m);return this.attr("d",this.array().size(x.width,x.height))},width:function(u){return u==null?this.bbox().width:this.size(u,this.bbox().height)},height:function(u){return u==null?this.bbox().height:this.size(this.bbox().width,u)}},construct:{path:function(u){return this.put(new n.Path).plot(u||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(u){if(!u)return this;var m=this,x=new i.Image;return n.on(x,"load",function(){n.off(x);var C=m.parent(n.Pattern);C!==null&&(m.width()==0&&m.height()==0&&m.size(x.width,x.height),C&&C.width()==0&&C.height()==0&&C.size(m.width(),m.height()),typeof m._loaded=="function"&&m._loaded.call(m,{width:x.width,height:x.height,ratio:x.width/x.height,url:u}))}),n.on(x,"error",function(C){n.off(x),typeof m._error=="function"&&m._error.call(m,C)}),this.attr("href",x.src=this.src=u,n.xlink)},loaded:function(u){return this._loaded=u,this},error:function(u){return this._error=u,this}},construct:{image:function(u,m,x){return this.put(new n.Image).load(u).size(m||0,x||m||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(u){return u==null?this.attr("x"):this.attr("x",u)},y:function(u){var m=this.attr("y"),x=typeof m=="number"?m-this.bbox().y:0;return u==null?typeof m=="number"?m-x:m:this.attr("y",typeof u.valueOf()=="number"?u+x:u)},cx:function(u){return u==null?this.bbox().cx:this.x(u-this.bbox().width/2)},cy:function(u){return u==null?this.bbox().cy:this.y(u-this.bbox().height/2)},text:function(u){if(typeof u>"u"){for(var u="",m=this.node.childNodes,x=0,C=m.length;x<C;++x)x!=0&&m[x].nodeType!=3&&n.adopt(m[x]).dom.newLined==!0&&(u+=`
`),u+=m[x].textContent;return u}if(this.clear().build(!0),typeof u=="function")u.call(this,this);else{u=u.split(`
`);for(var x=0,B=u.length;x<B;x++)this.tspan(u[x]).newLine()}return this.build(!1).rebuild()},size:function(u){return this.attr("font-size",u).rebuild()},leading:function(u){return u==null?this.dom.leading:(this.dom.leading=new n.Number(u),this.rebuild())},lines:function(){var u=(this.textPath&&this.textPath()||this).node,m=n.utils.map(n.utils.filterSVGElements(u.childNodes),function(x){return n.adopt(x)});return new n.Set(m)},rebuild:function(u){if(typeof u=="boolean"&&(this._rebuild=u),this._rebuild){var m=this,x=0,C=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(m.textPath()||this.attr("x",m.attr("x")),this.text()==`
`?x+=C:(this.attr("dy",C+x),x=0))}),this.fire("rebuild")}return this},build:function(u){return this._build=!!u,this},setData:function(u){return this.dom=u,this.dom.leading=new n.Number(u.leading||1.3),this}},construct:{text:function(u){return this.put(new n.Text).text(u)},plain:function(u){return this.put(new n.Text).plain(u)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(u){return u==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof u=="function"?u.call(this,this):this.plain(u),this)},dx:function(u){return this.attr("dx",u)},dy:function(u){return this.attr("dy",u)},newLine:function(){var u=this.parent(n.Text);return this.dom.newLined=!0,this.dy(u.dom.leading*u.attr("font-size")).attr("x",u.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(u){return this._build===!1&&this.clear(),this.node.appendChild(r.createTextNode(u)),this},tspan:function(u){var m=(this.textPath&&this.textPath()||this).node,x=new n.Tspan;return this._build===!1&&this.clear(),m.appendChild(x.node),x.text(u)},clear:function(){for(var u=(this.textPath&&this.textPath()||this).node;u.hasChildNodes();)u.removeChild(u.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{morphArray:n.PathArray,path:function(u){for(var m=new n.TextPath,x=this.doc().defs().path(u);this.node.hasChildNodes();)m.node.appendChild(this.node.firstChild);return this.node.appendChild(m.node),m.attr("href","#"+x,n.xlink),this},array:function(){var u=this.track();return u?u.array():null},plot:function(u){var m=this.track(),x=null;return m&&(x=m.plot(u)),u==null?x:this},track:function(){var u=this.textPath();if(u)return u.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}}),n.A=n.invent({create:"a",inherit:n.Container,extend:{to:function(u){return this.attr("href",u,n.xlink)},show:function(u){return this.attr("show",u,n.xlink)},target:function(u){return this.attr("target",u)}},construct:{link:function(u){return this.put(new n.A).to(u)}}}),n.extend(n.Element,{linkTo:function(u){var m=new n.A;return typeof u=="function"?u.call(m,m):m.to(u),this.parent().put(m).put(this)}}),n.Marker=n.invent({create:"marker",inherit:n.Container,extend:{width:function(u){return this.attr("markerWidth",u)},height:function(u){return this.attr("markerHeight",u)},ref:function(u,m){return this.attr("refX",u).attr("refY",m)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(u,m,x){return this.defs().marker(u,m,x)}}}),n.extend(n.Defs,{marker:function(u,m,x){return this.put(new n.Marker).size(u,m).ref(u/2,m/2).viewbox(0,0,u,m).attr("orient","auto").update(x)}}),n.extend(n.Line,n.Polyline,n.Polygon,n.Path,{marker:function(u,m,x,C){var B=["marker"];return u!="all"&&B.push(u),B=B.join("-"),u=arguments[1]instanceof n.Marker?arguments[1]:this.doc().marker(m,x,C),this.attr(B,u)}});var f={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(u,m){return m=="color"?u:u+"-"+m}};["fill","stroke"].forEach(function(u){var m,x={};x[u]=function(C){if(typeof C>"u")return this;if(typeof C=="string"||n.Color.isRgb(C)||C&&typeof C.fill=="function")this.attr(u,C);else for(m=f[u].length-1;m>=0;m--)C[f[u][m]]!=null&&this.attr(f.prefix(u,f[u][m]),C[f[u][m]]);return this},n.extend(n.Element,n.FX,x)}),n.extend(n.Element,n.FX,{rotate:function(u,m,x){return this.transform({rotation:u,cx:m,cy:x})},skew:function(u,m,x,C){return arguments.length==1||arguments.length==3?this.transform({skew:u,cx:m,cy:x}):this.transform({skewX:u,skewY:m,cx:x,cy:C})},scale:function(u,m,x,C){return arguments.length==1||arguments.length==3?this.transform({scale:u,cx:m,cy:x}):this.transform({scaleX:u,scaleY:m,cx:x,cy:C})},translate:function(u,m){return this.transform({x:u,y:m})},flip:function(u,m){return m=typeof u=="number"?u:m,this.transform({flip:u||"both",offset:m})},matrix:function(u){return this.attr("transform",new n.Matrix(arguments.length==6?[].slice.call(arguments):u))},opacity:function(u){return this.attr("opacity",u)},dx:function(u){return this.x(new n.Number(u).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(u){return this.y(new n.Number(u).plus(this instanceof n.FX?0:this.y()),!0)},dmove:function(u,m){return this.dx(u).dy(m)}}),n.extend(n.Rect,n.Ellipse,n.Circle,n.Gradient,n.FX,{radius:function(u,m){var x=(this._target||this).type;return x=="radial"||x=="circle"?this.attr("r",new n.Number(u)):this.rx(u).ry(m??u)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(u){return this.node.getPointAtLength(u)}}),n.extend(n.Parent,n.Text,n.Tspan,n.FX,{font:function(u,m){if(typeof u=="object")for(m in u)this.font(m,u[m]);return u=="leading"?this.leading(m):u=="anchor"?this.attr("text-anchor",m):u=="size"||u=="family"||u=="weight"||u=="stretch"||u=="variant"||u=="style"?this.attr("font-"+u,m):this.attr(u,m)}}),n.Set=n.invent({create:function(u){u instanceof n.Set?this.members=u.members.slice():Array.isArray(u)?this.members=u:this.clear()},extend:{add:function(){var u,m,x=[].slice.call(arguments);for(u=0,m=x.length;u<m;u++)this.members.push(x[u]);return this},remove:function(u){var m=this.index(u);return m>-1&&this.members.splice(m,1),this},each:function(u){for(var m=0,x=this.members.length;m<x;m++)u.apply(this.members[m],[m,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(u){return this.index(u)>=0},index:function(u){return this.members.indexOf(u)},get:function(u){return this.members[u]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(this.members.length==0)return new n.RBox;var u=this.members[0].rbox(this.members[0].doc());return this.each(function(){u=u.merge(this.rbox(this.doc()))}),u}},construct:{set:function(u){return new n.Set(u)}}}),n.FX.Set=n.invent({create:function(u){this.set=u}}),n.Set.inherit=function(){var u,m=[];for(var u in n.Shape.prototype)typeof n.Shape.prototype[u]=="function"&&typeof n.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(x){n.Set.prototype[x]=function(){for(var C=0,B=this.members.length;C<B;C++)this.members[C]&&typeof this.members[C][x]=="function"&&this.members[C][x].apply(this.members[C],arguments);return x=="animate"?this.fx||(this.fx=new n.FX.Set(this)):this}}),m=[];for(var u in n.FX.prototype)typeof n.FX.prototype[u]=="function"&&typeof n.FX.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(x){n.FX.Set.prototype[x]=function(){for(var C=0,B=this.set.members.length;C<B;C++)this.set.members[C].fx[x].apply(this.set.members[C].fx,arguments);return this}})},n.extend(n.Element,{data:function(u,m,x){if(typeof u=="object")for(m in u)this.data(m,u[m]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+u))}catch{return this.attr("data-"+u)}else this.attr("data-"+u,m===null?null:x===!0||typeof m=="string"||typeof m=="number"?m:JSON.stringify(m));return this}}),n.extend(n.Element,{remember:function(u,m){if(typeof arguments[0]=="object")for(var m in u)this.remember(m,u[m]);else{if(arguments.length==1)return this.memory()[u];this.memory()[u]=m}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var u=arguments.length-1;u>=0;u--)delete this.memory()[arguments[u]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(u){var m=r.getElementById(z(u)||u);return n.adopt(m)},n.select=function(u,m){return new n.Set(n.utils.map((m||r).querySelectorAll(u),function(x){return n.adopt(x)}))},n.extend(n.Parent,{select:function(u){return n.select(u,this.node)}});function d(u,m,x,C){return x+C.replace(n.regex.dots," .")}function p(u){for(var m=u.slice(0),x=m.length;x--;)Array.isArray(m[x])&&(m[x]=p(m[x]));return m}function y(u,m){return u instanceof m}function v(u,m){return(u.matches||u.matchesSelector||u.msMatchesSelector||u.mozMatchesSelector||u.webkitMatchesSelector||u.oMatchesSelector).call(u,m)}function b(u){return u.toLowerCase().replace(/-(.)/g,function(m,x){return x.toUpperCase()})}function S(u){return u.charAt(0).toUpperCase()+u.slice(1)}function E(u){return u.length==4?["#",u.substring(1,2),u.substring(1,2),u.substring(2,3),u.substring(2,3),u.substring(3,4),u.substring(3,4)].join(""):u}function T(u){var m=u.toString(16);return m.length==1?"0"+m:m}function w(u,m,x){if(m==null||x==null){var C=u.bbox();m==null?m=C.width/C.height*x:x==null&&(x=C.height/C.width*m)}return{width:m,height:x}}function _(u,m,x){return{x:m*u.a+x*u.c+0,y:m*u.b+x*u.d+0}}function $(u){return{a:u[0],b:u[1],c:u[2],d:u[3],e:u[4],f:u[5]}}function M(u){return u instanceof n.Matrix||(u=new n.Matrix(u)),u}function I(u,m){u.cx=u.cx==null?m.bbox().cx:u.cx,u.cy=u.cy==null?m.bbox().cy:u.cy}function N(u){for(var m=0,x=u.length,C="";m<x;m++)C+=u[m][0],u[m][1]!=null&&(C+=u[m][1],u[m][2]!=null&&(C+=" ",C+=u[m][2],u[m][3]!=null&&(C+=" ",C+=u[m][3],C+=" ",C+=u[m][4],u[m][5]!=null&&(C+=" ",C+=u[m][5],C+=" ",C+=u[m][6],u[m][7]!=null&&(C+=" ",C+=u[m][7])))));return C+" "}function P(u){for(var m=u.childNodes.length-1;m>=0;m--)u.childNodes[m]instanceof i.SVGElement&&P(u.childNodes[m]);return n.adopt(u).id(n.eid(u.nodeName))}function F(u){return u.x==null&&(u.x=0,u.y=0,u.width=0,u.height=0),u.w=u.width,u.h=u.height,u.x2=u.x+u.width,u.y2=u.y+u.height,u.cx=u.x+u.width/2,u.cy=u.y+u.height/2,u}function z(u){var m=(u||"").toString().match(n.regex.reference);if(m)return m[1]}function U(u){return Math.abs(u)>1e-37?u:0}var V="abcdef".split("");if(typeof i.CustomEvent!="function"){var Z=function(u,m){m=m||{bubbles:!1,cancelable:!1,detail:void 0};var x=r.createEvent("CustomEvent");return x.initCustomEvent(u,m.bubbles,m.cancelable,m.detail),x};Z.prototype=i.Event.prototype,n.CustomEvent=Z}else n.CustomEvent=i.CustomEvent;return function(u){for(var m=0,x=["moz","webkit"],C=0;C<x.length&&!i.requestAnimationFrame;++C)u.requestAnimationFrame=u[x[C]+"RequestAnimationFrame"],u.cancelAnimationFrame=u[x[C]+"CancelAnimationFrame"]||u[x[C]+"CancelRequestAnimationFrame"];u.requestAnimationFrame=u.requestAnimationFrame||function(B){var Y=new Date().getTime(),de=Math.max(0,16-(Y-m)),oe=u.setTimeout(function(){B(Y+de)},de);return m=Y+de,oe},u.cancelAnimationFrame=u.cancelAnimationFrame||u.clearTimeout}(i),n})}(Pg)),Pg.exports}var Lye=Nye();const Zu=X1(Lye);class kye extends Mi{constructor(t){super(t)}SIMPLE="simple";UNIQUE_VALUE="unique-value";CLASS_BREAKS="class-breaks";NONE="none";CONTAINER_SIZE=32;CONTENT_SIZE=24;CONTENT_IMAGE_SIZE=28;CONTAINER_CENTER=this.CONTAINER_SIZE/2;CONTENT_PADDING=(this.CONTAINER_SIZE-this.CONTENT_SIZE)/2;getGraphicIcon(t,i){return i.getGraphicIcon(t)}getGraphicSymbol(t,i){return i.getGraphicSymbol(t)}makeRenderer(t,i,r=!1){switch(t.type){case this.SIMPLE:return new Oye(t,i);case this.CLASS_BREAKS:return new Iye(t,i,r);case this.UNIQUE_VALUE:return new Cye(t,i,r);default:throw new Error(`Unknown renderer type encountered - ${t.type}`)}}async generateWMSSymbology(t){const i=Zu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0),r={svgcode:"",imgHeight:"",imgWidth:""};if(t){const s=await this.renderSymbologyImage(t);if(s){r.svgcode=s;const n=document.createElement("span");n.innerHTML=s;const o=n.firstElementChild?.lastElementChild;r.imgHeight=o?.getAttribute("height")||"",r.imgWidth=o?.getAttribute("width")||""}else r.svgcode=i.svg()}else r.svgcode=i.svg();return r}listToSymbology(t,i){return i.map(({text:s,image:n})=>{const o={name:s,image:n,svgcode:""};return t(n).then(a=>{o.svgcode=a}),o})}listToIconSymbology(t){return this.listToSymbology(this.renderSymbologyIcon,t)}listToImageSymbology(t){return this.listToSymbology(this.renderSymbologyImage,t)}async renderSymbologyImage(t,i=null){i===null&&(i=Zu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0));const r=await this.$iApi.geo.shared.convertImagetoDataURL(t);if(r===t)return"";const{loader:s}=await this.svgDrawImage(i,r);return i.viewbox(0,0,s.width,s.height),i.svg()}async renderSymbologyIcon(t,i=null){if(i===null){const n=document.createElement("div");n.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(n),i=Zu(n).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE)}const r=await this.$iApi.geo.shared.convertImagetoDataURL(t),{image:s}=await this.svgDrawImage(i,r);return s.center(this.CONTAINER_CENTER,this.CONTAINER_CENTER),this.fitInto(s,this.CONTENT_IMAGE_SIZE),i.svg()}generatePlaceholderSymbology(t,i="#000"){const r=Zu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE);return r.rect(this.CONTENT_IMAGE_SIZE,this.CONTENT_IMAGE_SIZE).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).fill(i),r.text(t[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).tspan(t[0].toUpperCase()).addClass("grid-icons").attr({dy:"29.900000000000002",x:"7.6875"}),{name:t,svgcode:r.svg()}}async generateBlankSymbology(){return Zu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).svg()}async symbolToSvg(t){const i=this,r=1.33333,s=document.createElement("div");s.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(s);const n=Zu(s).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE),o={path({size:v,path:b}){return n.path(b).size(v*r)},circle({size:v}){return n.circle(v*r)},cross({size:v}){return n.path("M 0,10 L 20,10 M 10,0 L 10,20").size(v*r)},x({size:v}){return n.path("M 0,0 L 20,20 M 20,0 L 0,20").size(v*r)},triangle({size:v}){return n.path("M 20,20 L 10,0 0,20 Z").size(v*r)},diamond({size:v}){return n.path("M 20,10 L 10,0 0,10 10,20 Z").size(v*r)},square({size:v}){return n.path("M 0,0 20,0 20,20 0,20 Z").size(v*r)}},a={[Zr.SOLID]:"none",[Zr.NONE]:"none",[Zr.DASH]:"5.333,4",[Zr.DOT]:"1.333,4",[Zr.DASHDOT]:"5.333,4,1.333,4",[Zr.LONGDASH]:"10.666,4",[Zr.LONGDASHDOT]:"10.666,4,1.333,4",[Zr.LONGDASHDOTDOT]:"10.666,4,1.333,4,1.333,4",[Zr.SHORTDOT]:"1.333,1.333",[Zr.SHORTDASH]:"5.333,1.333",[Zr.SHORTDASHDOT]:"5.333,1.333,1.333,1.333",[Zr.SHORTDASHDOTDOT]:"5.333,1.333,1.333,1.333,1.333,1.333"},l={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},c={color:[0,0,0,0],width:0,style:a.none},f={solid:v=>({color:v.colour,opacity:v.opacity}),none:()=>"transparent",horizontal:(v,b)=>n.pattern(5,5,E=>E.line(0,5/2,5,5/2)).stroke(b),vertical:(v,b)=>n.pattern(5,5,E=>E.line(5/2,0,5/2,5)).stroke(b),"forward-diagonal":(v,b)=>n.pattern(5,5,E=>{E.line(0,0,5,5).stroke(b),E.line(0,0,5,5).move(0,5).stroke(b),E.line(0,0,5,5).move(5,0).stroke(b)}),"backward-diagonal":(v,b)=>n.pattern(5,5,E=>{E.line(5,0,0,5).stroke(b),E.line(5,0,0,5).move(5/2,5/2).stroke(b),E.line(5,0,0,5).move(-5/2,-5/2).stroke(b)}),cross:(v,b)=>n.pattern(5,5,E=>{E.line(5/2,0,5/2,5).stroke(b),E.line(0,5/2,5,5/2).stroke(b)}),"diagonal-cross":(v,b)=>n.pattern(7,7,E=>{E.line(0,0,7,7).stroke(b),E.line(7,0,0,7).stroke(b)})},d={"simple-marker"(){const v=y(t.color);t.outline=t.outline||c;const b=y(t.outline.color),S=p({color:b.colour,opacity:b.opacity,width:t.outline.width,dasharray:a[t.outline.style]}),E=o[t.style](t).fill({color:v.colour,opacity:v.opacity}).stroke(S).center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).rotate(t.angle||0);i.fitInto(E,i.CONTENT_SIZE)},"simple-line"(){const v=y(t.color),b=p({color:v.colour,opacity:v.opacity,width:t.width,linecap:"butt",dasharray:a[t.style]}),S=i.CONTENT_PADDING,E=i.CONTAINER_SIZE-i.CONTENT_PADDING;n.line(S,S,E,E).stroke(b)},esriCLS(){this["simple-line"]()},"simple-fill"(){const v=y(t.color),b=p({color:v.colour,opacity:v.opacity}),S=f[t.style](v,b);t.outline=t.outline||c;const E=y(t.outline.color),T=p({color:E.colour,opacity:E.opacity,width:t.outline.width,linecap:"butt",dasharray:a[t.outline.style]});n.rect(i.CONTENT_SIZE,i.CONTENT_SIZE).center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).fill(S).stroke(T)},text(){console.error("no support for feature service legend of text symbols")},"picture-fill"(){const v=t.imageData?`data:${t.contentType};base64,${t.imageData}`:t.url,b=t.width*t.xscale,S=t.height*t.yscale;t.outline=t.outline||c;const E=y(t.outline.color),T=p({color:E.colour,opacity:E.opacity,width:t.outline.width,dasharray:a[t.outline.style]});return i.$iApi.geo.shared.convertImagetoDataURL(v).then(_=>{const $=n.pattern(b,S,M=>M.image(_,b,S));n.rect(i.CONTENT_SIZE,i.CONTENT_SIZE).center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).fill($).stroke(T)})},"picture-marker"(){const v=t.source,b=v&&v.imageData?`data:${v.contentType};base64,${v.imageData}`:t.url;return i.$iApi.geo.shared.convertImagetoDataURL(b).then(E=>i.svgDrawImage(n,E)).then(({image:E})=>{E.center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).rotate(t.angle||0),i.fitInto(E,i.CONTENT_IMAGE_SIZE)})}};try{return await Promise.resolve(d[t.type]()),document.body.removeChild(s),n.svg()}catch(v){return console.error(v),this.generateBlankSymbology()}function p(v){return Object.assign({},l,v)}function y(v){return v?{colour:`rgb(${v.r},${v.g},${v.b})`,opacity:v.a}:{colour:"rgb(0, 0, 0)",opacity:0}}}async svgDrawImage(t,i,r=0,s=0,n=!0){return new Promise((o,a)=>{const l=t.image(i,r,s,n).loaded(c=>o({image:l,loader:c})).error(c=>{a(c),console.error(c)})})}fitInto(t,i){const r=t.node.getBoundingClientRect(),s=i/Math.max(r.width,r.height);s<1&&t.scale(s)}rendererToLegend(t){let i;const r=t.symbolUnits.slice(0);if(t.defaultUnit&&r.push(t.defaultUnit),t.falseRenderer)i=r.map(s=>[s]);else{const s=new Map;r.forEach(n=>{const o=s.get(n.label);o?o.push(n):s.set(n.label,[n])}),i=[],s.forEach(n=>i.push(n))}return i.map(s=>{const n=s[0],o={uid:this.$iApi.geo.shared.generateUUID(),label:n.label||"",definitionClause:s.length===1?n.definitionClause:`(${s.map(a=>a.definitionClause).join(" OR ")})`,svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.symbolToSvg(n.symbol).then(a=>{o.svgcode=a,s.forEach(l=>{l.svgCode=a})})};return o})}async getMapServerLegend(t){if(!t)throw new Error("Legend server request is missing the required url.");const i={query:{f:"json"}},r={layers:[]},[s,n]=await Ln(Li(`${t}/legend`,i));return n?n.data?n.data:(console.error(`Error loading legend data for ${t}`),r):(console.error(`Error loading legend for ${t}`,s),r)}async mapServerLegendToRenderer(t,i){const r=t.layers.find(n=>n.layerId===i);let s;if(typeof r<"u"){s={type:"uniqueValue",field:"fakefield",uniqueValueInfos:r.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))};const n=await Mt.RendererFromJson(s);return this.makeRenderer(n,[],!0)}else throw new Error("attempted to make renderer from non-existing legend data")}async mapServerLegendToRendererAll(t){const i=t.layers.map(n=>n.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))),r={type:"uniqueValue",field1:"fakefield",uniqueValueInfos:[].concat(...i)},s=await Mt.RendererFromJson(r);return this.makeRenderer(s,[],!0)}async mapServerToLocalLegend(t,i=void 0){const r=await this.getMapServerLegend(t);let s,n;return typeof i>"u"?(n=0,s=await this.mapServerLegendToRendererAll(r)):(n=parseInt(i),s=await this.mapServerLegendToRenderer(r,n)),this.rendererToLegend(s)}}class Rye extends Mi{constructor(t){super(t)}async arcGisServerQueryIds(t){if(!(t.filterGeometry||t.filterSql))return console.error("arcGisServerQueryIds called without any filter"),[];const i=await Mt.Query();i.returnGeometry=!1,t.filterSql&&(i.where=t.filterSql),t.filterGeometry&&(i.geometry=await this.queryGeometryHelper(t.filterGeometry,!1,this.$iApi.geo.map.getScale(),t.sourceSR),i.spatialRelationship="intersects");const r=await Mt.QueryByIds(t.url,i);return Array.isArray(r)?r:[]}async geoJsonQuery(t){const i=await Mt.Query();if(i.returnGeometry=!!t.includeGeometry,i.outFields=["*"],t.filterGeometry&&(i.geometry=await this.queryGeometryHelper(t.filterGeometry,!0),i.spatialRelationship="intersects"),t.filterSql&&(i.where=t.filterSql),t.filterOIDs&&(i.objectIds=t.filterOIDs),await t.layer.loadPromise(),!t.layer.esriLayer)throw new Error("file layer being queried contains no ESRI layer");return(await t.layer.esriLayer.queryFeatures(i)).features.map((s,n)=>{let o;return i.returnGeometry?o=this.$iApi.geo.geom.geomEsriToRamp(s.geometry,`queryResult${n}`):o=new Nl,new Tn(o,"",s.attributes)})}async queryGeometryHelper(t,i,r,s){return!i&&t.type===Ze.EXTENT&&s&&!s.isEqual(t.sr)&&!(r&&r>2e7&&t.sr.wkid===3978&&s.wkid===4326)?(await this.$iApi.geo.proj.projectExtent(s,t)).toESRI():t.toESRI()}makeClickBuffer(t,i=5){const r=this.$iApi.geo.map,s=r.getExtent(),n=i*(s.xmax-s.xmin)/r.getPixelWidth();return new ei("ze_buffer",[t.x-n,t.y-n],[t.x+n,t.y+n],t.sr)}}class Dye extends Mi{attributes;geom;layer;map;proj;query;shared;symbology;constructor(t){super(t),this.geom=Yh.geom,this.proj=Yh.proj,this.shared=Yh.sharedUtils,this.map=new M0e(t),this.layer=new oye(t),this.attributes=new Tye(t),this.query=new Rye(t),this.symbology=new kye(t),Array.isArray(Ct.request.interceptors)||(Ct.request.interceptors=[]),Ct.request.interceptors.push({before:i=>{i.url.includes("?blankTile=false")&&(i.url=i.url.replace("?blankTile=false","?blankTile=true"))}})}set proxy(t){Ct.request.proxyUrl=t}get proxy(){return Ct.request.proxyUrl||""}}const Fye=Object.assign({"../fixtures/appbar/index.ts":()=>ve(()=>import("./index-giBFf_8J.js"),__vite__mapDeps([180,1,181]),import.meta.url),"../fixtures/areas-of-interest/index.ts":()=>ve(()=>import("./index-B_GnX2rK.js"),__vite__mapDeps([182,183,184,1]),import.meta.url),"../fixtures/basemap/index.ts":()=>ve(()=>import("./index-C-jFelsv.js"),__vite__mapDeps([185,1]),import.meta.url),"../fixtures/crosshairs/index.ts":()=>ve(()=>import("./index-CyHFbc14.js"),__vite__mapDeps([186,1,187]),import.meta.url),"../fixtures/details/index.ts":()=>ve(()=>import("./index-C-n5qciL.js"),__vite__mapDeps([188,1,189]),import.meta.url),"../fixtures/draw/index.ts":()=>ve(()=>import("./index-BNk7091c.js").then(e=>e.W),__vite__mapDeps([190,1,191,192,133,66,45,41,109,38,110,111,59,60,61,39,40,3,193,65,43,63,9,11,64,194,73,74,83,195,196,197,67,24,25,125,126,198,199,200,201,202,80,4,5,203,204,104,72,205,206,207,82,208,13,209,75,210,211,212,7]),import.meta.url),"../fixtures/export-footnote/index.ts":()=>ve(()=>import("./index-Di0Rj5dx.js"),__vite__mapDeps([213,214,1]),import.meta.url),"../fixtures/export-legend/index.ts":()=>ve(()=>import("./index-B_VfvHKU.js"),__vite__mapDeps([215,214,1]),import.meta.url),"../fixtures/export-map/index.ts":()=>ve(()=>import("./index-B_hgxawH.js"),__vite__mapDeps([216,214,1]),import.meta.url),"../fixtures/export-northarrow/index.ts":()=>ve(()=>import("./index-Su6M1DgA.js"),__vite__mapDeps([217,214,1]),import.meta.url),"../fixtures/export-scalebar/index.ts":()=>ve(()=>import("./index-D-wvO5qB.js"),__vite__mapDeps([218,214,1]),import.meta.url),"../fixtures/export-timestamp/index.ts":()=>ve(()=>import("./index-DKpHfzQm.js"),__vite__mapDeps([219,214,1]),import.meta.url),"../fixtures/export-title/index.ts":()=>ve(()=>import("./index-BfMQ9ya8.js"),__vite__mapDeps([220,214,1]),import.meta.url),"../fixtures/export/index.ts":()=>ve(()=>import("./index-Bd7iPD1_.js"),__vite__mapDeps([221,1,222]),import.meta.url),"../fixtures/extentguard/index.ts":()=>ve(()=>import("./index-CYNM550p.js"),__vite__mapDeps([223,1]),import.meta.url),"../fixtures/gazebo/index.ts":()=>ve(()=>import("./index-w7fQa1xQ.js"),__vite__mapDeps([224,1]),import.meta.url),"../fixtures/geosearch/index.ts":()=>ve(()=>import("./index-DPUlGPOh.js"),__vite__mapDeps([225,1]),import.meta.url),"../fixtures/grid/index.ts":()=>ve(()=>import("./index-BTeR_sP9.js"),__vite__mapDeps([226,1,227]),import.meta.url),"../fixtures/help/index.ts":()=>ve(()=>import("./index-CC1YChPc.js"),__vite__mapDeps([228,1]),import.meta.url),"../fixtures/hilight/index.ts":()=>ve(()=>import("./index-BfV08Gz4.js"),__vite__mapDeps([229,189,1]),import.meta.url),"../fixtures/layer-reorder/index.ts":()=>ve(()=>import("./index-CP8iKphj.js"),__vite__mapDeps([230,1]),import.meta.url),"../fixtures/legend/index.ts":()=>ve(()=>import("./index-B0ovZ-6V.js"),__vite__mapDeps([231,1]),import.meta.url),"../fixtures/mapnav/index.ts":()=>ve(()=>import("./index-D76wUHCt.js"),__vite__mapDeps([232,1,192,233]),import.meta.url),"../fixtures/metadata/index.ts":()=>ve(()=>import("./index-BD1Fk3Mi.js"),__vite__mapDeps([234,1]),import.meta.url),"../fixtures/northarrow/index.ts":()=>ve(()=>import("./index-CivCJ6J_.js"),__vite__mapDeps([235,1]),import.meta.url),"../fixtures/overviewmap/index.ts":()=>ve(()=>import("./index-D8T4p259.js"),__vite__mapDeps([236,1,237]),import.meta.url),"../fixtures/panguard/index.ts":()=>ve(()=>import("./index-BnrFbOIz.js"),__vite__mapDeps([238,1,239]),import.meta.url),"../fixtures/scrollguard/index.ts":()=>ve(()=>import("./index-f1Jz97VP.js"),__vite__mapDeps([240,1,241]),import.meta.url),"../fixtures/settings/index.ts":()=>ve(()=>import("./index-BzFsSAdw.js"),__vite__mapDeps([242,1]),import.meta.url),"../fixtures/snowman/index.ts":()=>ve(()=>import("./index-DDyZPlLC.js"),__vite__mapDeps([243,1]),import.meta.url),"../fixtures/swipe/index.ts":()=>ve(()=>import("./index-9fOkyZK_.js"),__vite__mapDeps([244,1,245]),import.meta.url),"../fixtures/wizard/index.ts":()=>ve(()=>import("./index-BNzwyCMN.js"),__vite__mapDeps([246,1]),import.meta.url)});class Uye extends Mi{constructor(t){super(t)}exists(t){return t in Fs(this.$vApp.$pinia).items}async add(t,i){let r;if(t in Fs(this.$vApp.$pinia).items)return this.get(t);if(i){if(typeof i!="function")throw new Error("malformed fixture constructor");r=PT.updateBaseToInstance(new i,t,this.$iApi)}else{const s=(await Fye[`../fixtures/${t}/index.ts`]()).default;r=new s(t,this.$iApi)}return Fs(this.$vApp.$pinia).addFixture(r),this.$iApi.event.emit(Ce.FIXTURE_ADDED,r),this.$iApi.geo.map.created&&r.initialized?.(),r}remove(t){const i=this.get(t);if(!i)throw new Error(`Could not find fixture ${t} for removal`);return Fs(this.$vApp.$pinia).removeFixture(i),this.$iApi.event.emit(Ce.FIXTURE_REMOVED,i),i}flush(){const t=Fs(this.$vApp.$pinia);Object.keys(t.items).forEach(r=>{const s=this.get(r);s?.persist&&typeof s?.removed=="function"?s.removed():s&&this.remove(r)})}restore(){const t=Fs(this.$vApp.$pinia);Object.keys(t.items).forEach(r=>{const s=t.items[r];typeof s.added=="function"&&s.added(),this.$iApi.geo.map.created&&typeof s.initialized=="function"&&s.initialized()})}get(t){const i=[];typeof t=="string"?i.push(t):Array.isArray(t)?i.push(...t):i.push(t.id);const r=i.map(s=>{const n=Fs(this.$vApp.$pinia).items[s];if(n)return n});return r.length===1?r[0]:r}isLoaded(t){const i=Fs(this.$vApp.$pinia),r=Array.isArray(t)?t:[t];r.forEach(n=>{i.loadPromises[n]===void 0&&i.addLoadPromise(n)});const s=i.getLoadPromises(r);return Array.isArray(t)?Promise.all(s):s[0]}addDefaultFixtures(t){Array.isArray(t)||(t=["appbar","basemap","crosshairs","details","geosearch","grid","help","hilight","layer-reorder","legend","mapnav","northarrow","overviewmap","panguard","scrollguard","settings","wizard"]);const i=ss(this.$vApp.$pinia);return i.startingFixtures=t,Promise.all(t.map(r=>this.add(r)))}}class PT extends Mi{static updateBaseToInstance(t,i,r){const s=new PT(i,r);return Object.defineProperties(t,{id:{value:i},$iApi:{value:r},persist:{value:t.persist??!0},$vApp:{get(){return s.$vApp}},remove:{value:s.remove},extend:{value:s.extend},config:{get(){return s.config}},mount:{value:s.mount}}),t}id;persist;constructor(t,i){super(i),this.id=t,this.persist=!0}remove(){return this.$iApi.fixture.remove(this),this}extend(t,i={}){const r=rt({extends:t,iApi:this.$iApi,data(){return{...i}}}),s=Ol(r),{el:n}=this.mount(r,{props:{...i.propsData},app:s});return n}mount(t,{props:i,children:r,element:s,app:n}={}){let o=s,a=zs(t,i,r);return n&&n._context&&(a.appContext=n._context),o||(o=document.createElement("div")),Hh(a,o),{vNode:a,destroy:()=>{o&&Hh(null,o),o=null,a=null},el:o}}get config(){return ss(this.$vApp.$pinia).config.fixtures[this.id]}getLayerFixtureConfig(t){return this.getLayerFixtureConfigs()[t]}getLayerFixtureConfigs(){const t={},i=(r,s=void 0)=>{if(r.fixtures&&r.fixtures[this.id]!==void 0){let n=r.id;s!==void 0&&(n=this.$iApi.geo.layer.sublayerId(s.id,r.index)),t[n]=r.fixtures[this.id]}r.sublayers&&r.sublayers.forEach(n=>i(n,r))};return this.$iApi.geo.layer.allLayers().forEach(r=>i(r.config)),t}handlePanelWidths(t){if(this.config?.panelWidth){const i={};if(typeof this.config.panelWidth=="number")t.forEach(r=>{i[r]=this.config.panelWidth});else{this.config.panelWidth.default&&t.forEach(r=>{i[r]=this.config.panelWidth.default});for(const r in this.config.panelWidth)r!="default"&&(i[r]=this.config.panelWidth[r])}for(const r in i){const s=this.$iApi.panel.get(r);this.$iApi.panel.setStyle(s,{"flex-basis":`${i[r]}px`})}}}handlePanelTeleports(t){if(this.config?.panelTeleport){const i=pu(this.$vApp.$pinia),r=!!this.config.panelTeleport.target;t.forEach(s=>{i.items[s].teleport=r?this.config.panelTeleport:this.config.panelTeleport[s],i.items[s].style.width="100%"})}}}class jye extends Mi{panelStore=pu(this.$vApp.$pinia);updateHTML(t,i,r){const s=this.get(t),n=r?s.screens[r]:Object.values(s.screens)[0];if(Rk(n))for(const o in i)n[o].innerHTML=i[o]instanceof HTMLElement?i[o].outerHTML:i[o];else console.error("Screen must be an HTML object")}registerHTMLConfig(t){for(const r in t.content)if(typeof t.content[r]=="string"){const s=document.createElement("div");s.innerHTML=t.content[r],t.content[r]=s}const i={};return i[t.id]={screens:{},style:t.style??{width:"350px"},alertName:t.alertName},i[t.id].screens[t.id]=t.content,i}registerHTML(t){const i=this.get(t.id);if(i)return console.error("Panel already exist"),i;const r=this.registerHTMLConfig(t),s={i18n:{messages:t.i18nMap}};return this.register(r,s)}register(t,i){const r=Vye(t)?{[t.id]:t.config}:t;if(i){const n=i.i18n||{},o=this.$iApi.$i18n;Object.entries(n.messages||{}).forEach(a=>o.mergeLocaleMessage(...a)),Object.entries(n.dateTimeFormats||{}).forEach(a=>o.mergeDateTimeFormat(...a)),Object.entries(n.numberFormats||{}).forEach(a=>o.mergeNumberFormat(...a))}const s=Object.entries(r).reduce((n,[o,a])=>(n.push(new Cy(this.$iApi,o,a)),n),[]);return s.forEach(n=>this.panelStore.registerPanel(n)),s.length===1?s[0]:s.reduce((n,o)=>(n[o.id]=o,n),{})}async isRegistered(t){const i=Array.isArray(t)?t:[t];i.forEach(s=>{this.panelStore.regPromises[s]===void 0&&this.panelStore.addRegPromise(s)});const r=this.panelStore.getRegPromises(i);return Array.isArray(t)?Promise.all(r):r[0]}allRegistered(){return Object.keys(this.panelStore.items)}remove(t){const i=this.get(t);i&&(i.isOpen&&this.close(i),this.panelStore.removePanel(i))}get(t){const i=typeof t=="string"?t:t.id;return this.panelStore.items[i]}open(t){let i,r,s;if(typeof t=="string"||t instanceof Cy?i=this.get(t):(i=this.get(t.id),{screen:r,props:s}=t),!i)return i;if(i.isOpen&&!i.isVisible)i.minimize();else if(i.isOpen)return i;return r||(i.route&&!s?{screen:r,props:s}=i.route:r=Object.keys(i.screens).pop()),this.show(i,{screen:r,props:s})?(this.panelStore.openPanel(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.open",{name:i.alertName?this.$iApi.$i18n.t(i.alertName):i.id})),this.$iApi.event.emit(Ce.PANEL_OPENED,i)):console.error(`Failed to open ${i.id} panel.`),i}get opened(){return this.panelStore.orderedItems.concat(this.panelStore.teleported)}get visible(){return this.panelStore.visible.concat(this.panelStore.teleported)}close(t){const i=this.get(t);return i&&(i.isPinned&&i.pin(!1),this.panelStore.closePanel(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.close",{name:i.alertName?this.$iApi.$i18n.t(i.alertName):i.id})),this.$iApi.event.emit(Ce.PANEL_CLOSED,i),i)}minimize(t){const i=this.get(t);return i&&(i.isPinned&&i.pin(!1),this.panelStore.closePanel(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.minimize",{name:i.alertName?this.$iApi.$i18n.t(i.alertName):i.id})),this.$iApi.event.emit(Ce.PANEL_MINIMIZED,i),i)}move(t,i){const r=this.get(t);return r&&(this.panelStore.movePanel(r,i),r)}toggle(t,i){let r;return typeof t=="string"||t instanceof Cy?r=this.get(t):r=this.get(t.id),r&&(i=typeof i<"u"?i:!r.isVisible,i!==r.isVisible?i?this.open(t):this.close(r):r)}toggleMinimize(t,i){let r;return typeof t=="string"||t instanceof Cy?r=this.get(t):r=this.get(t.id),r&&(i=typeof i<"u"?i:!r.isVisible,i!==r.isVisible?i?this.open(r):this.minimize(r):r)}pin(t,i){const r=this.get(t);return!r||(i=typeof i<"u"?i:!r.isPinned,!r.isPinned&&!i)||(this.panelStore.pinned=i?r:void 0),r}get pinned(){return this.panelStore.pinned||void 0}show(t,i){const r=this.get(t);if(!r)return r;if(r.screens[i.screen]){if(r.screens[i.screen]?.props){const s=Object.keys(r.screens[i.screen]?.props).filter(o=>o!=="panel"),n=i.props?Object.keys(i.props):[];for(let o=0;o<s.length;o++)if(!n.includes(s[o])&&r.screens[i.screen].props[s[o]].required)return}return i.screen in this.$element._context.components||r.registerScreen(i.screen),r.teleport&&(i.props={header:!!r.teleport?.showHeader,...i.props}),this.panelStore.items[r.id].route=i,r}}setStyle(t,i,r=!1){const s=this.get(t);return s&&(this.panelStore.items[s.id].style=r?i:{...s.style,...i},s)}expand(t,i){const r=this.get(t);return r&&(this.panelStore.items[r.id].expanded=i!==void 0?i:!r.expanded,r)}}function Vye(e){return e.id!==void 0&&typeof e.id=="string"&&e.config!==void 0}const Bye={};function Gye(e,t){const i=wi("panel-screen");return fe(),Vt(i,{header:!1,class:"screen-spinner"},{content:$i(()=>t[0]||(t[0]=[ce("div",{class:"loader"},null,-1)])),_:1})}const zye=_a(Bye,[["render",Gye],["__scopeId","data-v-d6b3771a"]]),qye=Object.assign({"../fixtures/areas-of-interest/screen.vue":()=>ve(()=>import("./screen-CAgmz-mR.js"),__vite__mapDeps([247,183,184,1]),import.meta.url),"../fixtures/basemap/screen.vue":()=>ve(()=>import("./screen-BIy0pQYa.js"),__vite__mapDeps([248,1,249]),import.meta.url),"../fixtures/export/screen.vue":()=>ve(()=>import("./screen-CzFraCui.js"),__vite__mapDeps([250,222,1]),import.meta.url),"../fixtures/geosearch/screen.vue":()=>ve(()=>import("./screen-CYQG3q6X.js"),__vite__mapDeps([251,1,252]),import.meta.url),"../fixtures/grid/screen.vue":()=>ve(()=>import("./screen-BSN3XYI1.js"),__vite__mapDeps([253,227,1,254]),import.meta.url),"../fixtures/help/screen.vue":()=>ve(()=>import("./screen-Bhew6oFA.js"),__vite__mapDeps([255,256,1,257]),import.meta.url),"../fixtures/layer-reorder/screen.vue":()=>ve(()=>import("./screen-Bc6O7KOZ.js"),__vite__mapDeps([258,259,1,260]),import.meta.url),"../fixtures/legend/screen.vue":()=>ve(()=>import("./screen-DPYn_gfj.js"),__vite__mapDeps([261,1]),import.meta.url),"../fixtures/metadata/screen.vue":()=>ve(()=>import("./screen-DSQCPRbR.js"),__vite__mapDeps([262,256,1,263]),import.meta.url),"../fixtures/settings/screen.vue":()=>ve(()=>import("./screen-BkMDDBxz.js"),__vite__mapDeps([264,259,265,266,1,267]),import.meta.url),"../fixtures/wizard/screen.vue":()=>ve(()=>import("./screen-DaIAYcPW.js"),__vite__mapDeps([268,259,1,269]),import.meta.url)});class Cy extends Mi{id;screens;loadedScreens=[];alertName;teleport;controls;button;isScreenLoaded(t){return this.loadedScreens.indexOf(t)!==-1}registerScreen(t){const i=this.screens[t];let r;if(_ie(i)||bie(i))r=i,this.loadedScreens.push(t);else if(Rk(i))r={template:`<panel-screen :panel="this" :screenId="'${t}'">
                           </panel-screen>`};else{let s;typeof i=="string"?s=qye[`../fixtures/${i}`]():s=i();const n=new Promise((o,a)=>{s.then(l=>{this.loadedScreens.push(t),o(wie(l)?l.default:l)}),s.catch(l=>a(l))});r=D3({loader:()=>n,loadingComponent:zye,delay:200})}this.$iApi.$element.component(t,r)}style;expanded;get width(){if(!(!this.style.width||this.style.width.slice(-2)!=="px"))return parseInt(this.style.width)}route;constructor(t,i,r){if(super(t),{id:this.id,screens:this.screens,style:this.style,expanded:this.expanded,alertName:this.alertName,button:this.button,controls:this.controls}={id:i,style:{},expanded:!1,controls:{expand:!1,...r.controls},...r},Object.keys(this.screens).length===0)throw new Error("panel must have at least a single screen");this.route={screen:Object.keys(this.screens).pop()},this.style["flex-basis"]||(this.style["flex-basis"]=this.style.width||"350px"),this.style.width="80%"}open(t){return typeof t>"u"?this.$iApi.panel.open(this):this.$iApi.panel.open({id:this.id,...typeof t=="string"?{screen:t}:t}),this}get isOpen(){return this.$iApi.panel.opened.indexOf(this)!==-1}get isVisible(){return this.$iApi.panel.visible.indexOf(this)!==-1}close(){return this.$iApi.panel.close(this),this}minimize(){return this.$iApi.panel.minimize(this),this}move(t){return this.$iApi.panel.move(this,t),this}get isLeftMostPanel(){if(this.$iApi.panel.visible.length>0){for(const t of this.$iApi.panel.visible)if(!t.teleport)return this.id===t.id}return!1}get isRightMostPanel(){if(this.$iApi.panel.visible.length>0){for(let t=this.$iApi.panel.visible.length-1;t>=0;t--)if(!this.$iApi.panel.visible[t].teleport)return this.id===this.$iApi.panel.visible[t].id}return!1}remove(){return this.$iApi.panel.remove(this),this}toggle(t){return typeof t>"u"?this.$iApi.panel.toggle(this,!this.isOpen):typeof t=="boolean"?t!==this.isOpen&&this.$iApi.panel.toggle(this,t):this.$iApi.panel.toggle({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}toggleMinimize(t){return typeof t>"u"||typeof t=="boolean"?this.$iApi.panel.toggleMinimize(this,t):this.$iApi.panel.toggleMinimize({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}pin(t){return t=typeof t<"u"?t:!this.isPinned,this.$iApi.panel.pin(this,t),this}get isPinned(){return!!this.$iApi.panel.pinned&&this.$iApi.panel.pinned.id===this.id}show(t){const i=typeof t=="string"?{screen:t}:t;return this.route=i,this.$iApi.panel.show(this,i),this}setStyles(t,i=!1){return this.$iApi.panel.setStyle(this,t,i),this}expand(t){return this.$iApi.panel.expand(this,t),this}}class Hye extends Mi{constructor(t){super(t)}async easyLayer(t,i){const r=this.$iApi.geo.layer.createLayer(t);await this.$iApi.geo.map.addLayer(r);const s=this.$iApi.fixture.get("legend");return s&&(i?s.addItem(i):await s.addLayerItem(r)),r}}function Wye(e){const t={};(Array.isArray(e)?e:[e]).forEach(o=>{o.language||(console.warn("RAMP2 config with no language supplied. Defaulting to English"),o.language="en");const a=Yye(o);t[o.language]=a});const r=Object.entries(t).map(o=>{const a=o[1].fixturesEnabled;return delete o[1].fixturesEnabled,a});let s=!1;const n=r.reduce((o,a)=>o.filter(l=>{const c=a.includes(l);return s=s||!c,c}));return s&&console.warn("Configs attempted to load different sets of fixtures. Only common fixtures will be loaded (all configs must load the same fixtures)."),n.push("grid","crosshairs","scrollguard","panguard","wizard","layer-reorder","details"),{startingFixtures:n,configs:t}}function Yye(e){const t={version:"4.0",fixtures:{},layers:[],map:{},panels:{open:[]},system:{animate:!0,exposeOid:!1,exposeMeasurements:!0},fixturesEnabled:[]};return Kye(e.services,t),Jye(e.map,t),Xye(e.ui,t),e.plugins&&Qye(e.plugins,t),t}function Jye(e,t){if(e.layers&&e.layers.forEach(i=>{t.layers.unshift(Zye(i))}),e.initialBasemapId&&(t.map.initialBasemapId=e.initialBasemapId),e.components){if(e.components.geoSearch&&(e.components.geoSearch.enabled&&t.fixturesEnabled.push("geosearch"),typeof e.components.geoSearch.showGraphic<"u"&&console.warn("showGraphic property provided in geoSearch map component cannot be mapped and will be skipped."),typeof e.components.geoSearch.showInfo<"u"&&console.warn("showInfo property provided in geoSearch map component cannot be mapped and will be skipped.")),e.components.overviewMap&&e.components.overviewMap.enabled&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.startMinimized=!e.components.overviewMap.initiallyExpanded,t.fixtures.overviewmap.expandFactor=e.components.overviewMap.expandFactor??1.5),e.components.northArrow&&e.components.northArrow.enabled){const i={};e.components.northArrow.arrowIcon&&(i.arrowIcon=e.components.northArrow.arrowIcon),e.components.northArrow.poleIcon&&(i.poleIcon=e.components.northArrow.poleIcon),i&&(t.fixtures.northarrow=i,t.fixturesEnabled.push("northarrow"))}if(e.components.scaleBar&&e.components.scaleBar.enabled){switch(t.map.caption={mapCoords:{disabled:!1},scaleBar:{disabled:!1,imperialScale:e?.components?.scaleBar?.scalebarUnit==="english"||e?.components?.scaleBar?.scalebarUnit==="dual"&&Math.floor(Math.random()*2)===0}},e.components?.mouseInfo?.spatialReference?.wkid){case 4326:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break;case 3978:t.map.caption.mapCoords.formatter="CANADA_ATLAS_LAMBERT";break;case 102100:t.map.caption.mapCoords.formatter="WEB_MERCATOR";break;default:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break}e.components.scaleBar.attachTo&&console.warn("attachTo property provided in scaleBar map component cannot be mapped and will be skipped.")}e.components.basemap&&e.components.basemap.enabled&&t.fixturesEnabled.push("basemap")}e.extentSets&&(t.map.extentSets=[],e.extentSets.forEach(i=>{const r={id:i.id,default:{xmin:i.default.xmin,xmax:i.default.xmax,ymin:i.default.ymin,ymax:i.default.ymax,spatialReference:i.spatialReference}};i.full&&(r.full={xmin:i.full.xmin,xmax:i.full.xmax,ymin:i.full.ymin,ymax:i.full.ymax,spatialReference:i.spatialReference}),i.maximum&&(r.maximum={xmin:i.maximum.xmin,xmax:i.maximum.xmax,ymin:i.maximum.ymin,ymax:i.maximum.ymax,spatialReference:i.spatialReference}),t.map.extentSets.push(r)})),e.lodSets&&(t.map.lodSets=e.lodSets),e.tileSchemas&&(t.map.tileSchemas=[],e.tileSchemas.forEach(i=>{const r={id:i.id,name:i.name,extentSetId:i.extentSetId,lodSetId:i.lodSetId,thumbnailTileUrls:[],hasNorthPole:i.hasNorthPole||!1};i.overviewUrl&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.basemaps[i.id]={id:i.overviewUrl.id||`overviewmap-basemap-${i.id}`,tileSchemaId:i.id,layers:[{id:i.overviewUrl.id||`overviewmap-basemap-${i.id}-0`,layerType:i.overviewUrl.layerType==="esriDynamic"?Pe.MAPIMAGE:Pe.TILE,url:i.overviewUrl.url,opacity:i.overviewUrl.opacity??1}]}),t.map.tileSchemas.push(r)})),e.baseMaps&&(t.map.basemaps=[],e.baseMaps.forEach(i=>{const r={id:i.id,tileSchemaId:i.tileSchemaId,name:i.name,description:i.description,altText:i.altText,thumbnailUrl:i.thumbnailUrl,layers:[]};i.attribution&&(r.attribution={text:{},logo:{}},i.attribution.text&&(r.attribution.text.disabled=!i.attribution.text.enabled,r.attribution.text.value=i.attribution.text.value),i.attribution.logo&&(r.attribution.logo.disabled=!i.attribution.logo.enabled,r.attribution.logo.altText=i.attribution.logo.altText,r.attribution.logo.value=i.attribution.logo.value,r.attribution.logo.link=i.attribution.logo.link)),i.layers.forEach((s,n)=>{const o={id:s.id||`${i.id}-${n}`,layerType:s.layerType==="esriDynamic"?Pe.MAPIMAGE:Pe.TILE,url:s.url,opacity:s.opacity??1};r.layers.push(o)}),t.map.basemaps.push(r)})),e.legend&&(t.fixturesEnabled.push("legend"),e.legend.type==="autopopulate"?(t.fixtures.legend={root:{name:"I'm root",children:[]}},t.layers&&t.layers.toReversed().forEach(i=>{if(i.type==="esri-map-image"||i.type==="ogc-wms"){const r={name:i.name??`${i.id} Group`,children:[]};i.sublayers.forEach(s=>{const n={layerId:i.id};s.name&&(n.name=s.name),s.controls&&(n.controls=s.controls),s.disabledControls&&(n.disabledControls=s.disabledControls),i.type==="esri-map-image"?n.sublayerIndex=s.index:(n.sublayerId=s.id,console.warn(`sublayerId property defined in legend entry ${n.layerId} is currently not supported.`)),r.children.push(n)}),t.fixtures.legend.root.children.push(r)}else{const r={layerId:i.id};i.controls&&(r.controls=i.controls),i.disabledControls&&(r.disabledControls=i.disabledControls),t.fixtures.legend.root.children.push(r)}})):t.fixtures.legend={root:BE(e.legend.root)})}function BE(e){const t={name:e.name,children:[]};typeof e.hidden<"u"&&(t.hidden=e.hidden),typeof e.expanded<"u"&&(t.expanded=e.expanded);const i=["identify","opacity","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=Lf(e.controls,i),e.controls.includes("visibility")&&t.controls.push("visibilityButton"),(e.controls.length!==1||e.controls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported."),t.controls.push("expandButton")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=Lf(e.disabledControls,i),e.disabledControls.includes("visibility")&&t.disabledControls.push("visibilityButton"),(e.disabledControls.length!==1||e.disabledControls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported.")),e.children.forEach(r=>{if(r.layerId)t.children.push(yI(r));else if(r.infoType)r.infoType==="unboundLayer"?console.warn(`unboundLayer infoType in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`):(t.children.push({infoType:r.infoType,content:r.content}),typeof r.export<"u"&&console.warn(`export property in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`));else if(r.exclusiveVisibility){const s={name:"Visibility Set",children:[],exclusive:!0};typeof r.collapse<"u"&&console.warn(`collapse property in visibilitySet in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`),r.exclusiveVisibility.forEach(n=>{n.layerId?s.children.push(yI(n)):s.children.push(BE(n))}),t.children.push(s)}else t.children.push(BE(r))}),t}function yI(e){const t=e,i=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.layerControls=Lf(e.controls,i),t.layerControls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledLayerControls=Lf(e.disabledControls,i)),e.controlledIds&&(console.warn(`controlledIds property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),delete t.controlledIds),e.entryIndex&&(t.sublayerIndex=e.entryIndex,delete e.entryIndex),e.entryId&&console.warn(`entryId property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),t}function Zye(e){const t=_2(e);switch(t.id=e.id,t.url=e.url,e.refreshInterval&&(t.refreshInterval=e.refreshInterval,console.warn("Property refreshInterval in layer is currently not supported.")),e.expectedResponseTime&&(t.expectedLoadTime=e.expectedResponseTime),e.metadataUrl&&(t.metadata={url:e.metadataUrl}),e.catalogueUrl&&(t.catalogueUrl=e.catalogueUrl),typeof e.enableStructuredDelete<"u"&&console.warn(`enableStructuredDelete property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.tooltipField&&(t.tooltipField=e.tooltipField),e.tolerance&&(t.mouseTolerance=e.tolerance,e.layerType==="esriDynamic"&&(t.touchTolerance=e.tolerance+10)),e.customRenderer&&(t.customRenderer=e.customRenderer),e.layerType){case"esriDynamic":t.layerType="esri-map-image",typeof e.singleEntryCollapse<"u"&&(t.singleEntryCollapse=e.singleEntryCollapse),e.imageFormat&&(t.imageFormat=e.imageFormat),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(i=>{const r=_2(i);r.index=i.index,t.sublayers.push(r)}));break;case"esriFeature":t.layerType="esri-feature",e.fileType&&(t.layerType=e.fileType==="shapefile"?"file-shape":`file-${e.fileType}`,e.colour&&(t.colour=e.colour),e.latField&&(t.latField=e.latField),e.longField&&(t.longField=e.longField));break;case"ogcWfs":t.layerType="ogc-wfs",e.colour&&(t.colour=e.colour),typeof e.xyInAttribs<"u"&&(t.xyInAttribs=e.xyInAttribs);break;case"ogcWms":t.layerType="ogc-wms",e.suppressGetCapabilities&&console.warn(`suppressGetCapabilities property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.featureInfoMimeType&&(e.featureInfoMimeType==="text/html;fgpv=summary"?t.featureInfoMimeType="text/html":t.featureInfoMimeType=e.featureInfoMimeType),e.legendMimeType&&console.warn(`legendMimeType property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(i=>{const r=_2(i);r.id=i.id,i.currentStyle&&(r.currentStyle=i.currentStyle,console.warn(`currentStyle property provided in layer entry ${i.id} of layer ${e.id} is currently not supported.`)),i.allStyles&&console.warn(`allStyles property provided in layer entry ${i.id} of layer ${e.id} cannot be mapped and will be skipped.`),t.sublayers.push(r)}));break;case"esriImage":t.layerType="esri-imagery";break;case"esriTile":t.layerType="esri-tile";break;default:console.warn(`Unhandled layer type in ramp 2 config ${e.layerType}`)}return e.details&&console.warn(`Details config provided in layer ${e.id} cannot be mapped and will be skipped.`),t}function _2(e){const t={};e.name&&(t.name=e.name),e.nameField&&(t.nameField=e.nameField),e.extent&&(t.extent=e.extent);const i=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=Lf(e.controls,i),t.controls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=Lf(e.disabledControls,i)),e.state&&(t.state={opacity:e.state.opacity??1,visibility:e.state.visibility??!0,identify:e.state.query??!0,hovertips:e.state.hovertips??!0},typeof e.state.snapshot<"u"&&console.warn(`snapshot property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.state.boundingBox<"u"&&console.warn(`boundingBox property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`)),typeof e.stateOnly<"u"&&(t.cosmetic=e.stateOnly),e.initialFilteredQuery&&(t.initialFilteredQuery=e.initialFilteredQuery),ege(e,t),(typeof e.toggleSymbology<"u"||e.table)&&(t.fixtures={},typeof e.toggleSymbology<"u"&&(t.fixtures.legend={toggleSymbology:e.toggleSymbology}),e.table&&(t.fixtures.grid={},e.table.title&&(t.fixtures.grid.title=e.table.title),e.table.description&&console.warn(`description property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.maximize<"u"&&console.warn(`maximize property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.search&&(e.table.search.enabled&&(t.fixtures.grid.search=e.table.search.enabled),e.table.search.value&&(t.fixtures.grid.searchFilter=e.table.search.value)),typeof e.table.lazyFilter<"u"&&console.warn(`lazyFilter property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.applyMap<"u"&&(t.fixtures.grid.applyMap=e.table.applyMap),typeof e.table.showFilter<"u"&&(t.fixtures.grid.showFilter=e.table.showFilter),typeof e.table.filterByExtent<"u"&&(t.fixtures.grid.filterByExtent=e.table.filterByExtent),typeof e.table.searchStrictMatch<"u"&&console.warn(`searchStrictMatch property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.printEnabled<"u"&&console.warn(`printEnabled property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.columns&&(t.fixtures.grid.columns=[],e.table.columns.forEach(r=>{const s={field:r.data};r.title&&(s.title=r.title),r.description&&console.warn(`description property provided in column property in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof r.visible<"u"&&(s.visible=r.visible),r.width&&(s.width=r.width),r.sort&&(s.sort=r.sort),typeof r.searchable<"u"&&(s.searchable=r.searchable),r.filter&&(s.filter=r.filter),t.fixtures.grid.columns.push(s)})))),t}function Lf(e,t){const i=[];return e.forEach(r=>{t.includes("identify")&&r==="query"?i.push("identify"):t.includes("datatable")&&r==="data"?i.push("datatable"):t.includes(r)?i.push(r):console.warn(`Ignored invalid control: ${r}`)}),i}function Kye(e,t){if(!e)return;e.search&&(t.fixtures.geosearch={},t.fixtures.geosearch.serviceUrls={geoNames:e.search.serviceUrls.geoNames,geoLocation:e.search.serviceUrls.geoLocation,geoProvince:e.search.serviceUrls.provinces,geoTypes:e.search.serviceUrls.types},e.search.serviceUrls.geoSuggest&&console.warn("geoSuggest property provided in serviceUrls of search service cannot be mapped and will be skipped."),e.search.settings&&(t.fixtures.geosearch.settings=e.search.settings),e.search.disabledSearches&&(t.fixtures.geosearch.settings.disabledSearchTypes=e.search.disabledSearches.filter(r=>r!=="SCALE"))),e.export&&(t.fixtures.export||(t.fixtures.export={},t.fixturesEnabled.push("export")),e.export.title&&(t.fixtures.export.title={selected:e.export.title.isSelected??!0,selectable:e.export.title.isSelectable??!0,value:e.export.title.value??"RAMP-Map / PCAR-Carte"}),e.export.map&&(t.fixtures.export.map={selected:e.export.map.isSelected??!0,selectable:e.export.map.isSelectable??!0},e.export.map.value&&console.warn("value property provided in map export component cannot be mapped and will be skipped.")),e.export.mapElements&&(t.fixtures.export.mapElements={selected:e.export.mapElements.isSelected??!0,selectable:e.export.mapElements.isSelectable??!0},e.export.mapElements.value&&console.warn("value property provided in mapElements export component cannot be mapped and will be skipped.")),e.export.legend&&(t.fixtures.export.legend={selected:e.export.legend.isSelected??!0,selectable:e.export.legend.isSelectable??!0},e.export.legend.columnWidth&&(t.fixtures.export.legend.columnWidth=e.export.legend.columnWidth),e.export.legend.value&&console.warn("value property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showInfoSymbology<"u"&&console.warn("showInfoSymbology property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showControlledSymbology<"u"&&console.warn("showControlledSymbology property provided in legend export component cannot be mapped and will be skipped.")),e.export.footnote&&(t.fixtures.export.footnote={selected:e.export.footnote.isSelected??!0,selectable:e.export.footnote.isSelectable??!0,value:e.export.footnote.value??""}),e.export.timestamp&&(t.fixtures.export.timestamp={selected:e.export.timestamp.isSelected??!0,selectable:e.export.timestamp.isSelectable??!0},e.export.timestamp.value&&console.warn("value property provided in timestamp export component cannot be mapped and will be skipped.")),e.export.timeout&&console.warn("timeout property provided in export property of services config cannot be mapped and will be skipped."),typeof e.cleanCanvas<"u"&&console.warn("cleanCanvas property provided in export property of services config cannot be mapped and will be skipped.")),e.proxyUrl&&(t.system.proxyUrl=e.proxyUrl),["corsEverywhere","exportMapUrl","geometryUrl","googleAPIKey","esriLibUrl","geolocation","coordInfo","print"].forEach(r=>{typeof e[r]<"u"&&console.warn(`${r} property provided in services config cannot be mapped and will be skipped.`)})}function Xye(e,t){if(e.navBar){t.fixtures.mapnav={zoomOption:e.navBar.zoom||"buttons",items:[]};const s=["geolocator","zoom","home","basemap","help","fullscreen","geosearch","legend"];e.navBar.extra.forEach(n=>{const o=n.toLowerCase();s.includes(o)?t.fixtures.mapnav.items.push(o):console.warn(`Ignored invalid mapnav item: ${n}`)}),t.fixturesEnabled.push("mapnav")}if(e.help&&(t.fixtures.help={location:e.help.folderName&&e.help.folderName!=="default"?`./${e.help.folderName}`:"./help",panelWidth:350},t.fixturesEnabled.push("help")),e.legend){const s=["groupToggle","visibilityToggle"];e.legend.reorderable&&s.push("layerReorder"),e.legend.allowImport&&s.push("wizard"),t.fixtures.legend?t.fixtures.legend.headerControls=s:(t.fixturesEnabled.push("legend"),t.fixtures.legend={headerControls:s,root:{}}),e.legend.isOpen&&e.legend.isOpen.large&&t.panels.open.push({id:"legend"})}t.fixtures.appbar={items:[]},t.fixturesEnabled.push("appbar");const i=["layers","basemap","export","help","geoSearch"];e.appBar?(e.appBar.layers!==!1&&(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")),e.appBar.geoSearch!==!1&&t.fixturesEnabled.includes("geosearch")&&t.fixtures.appbar.items.push("geosearch"),e.appBar.basemap!==!1&&t.fixtures.appbar.items.push("basemap")):(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend"),t.fixtures.appbar.items.push("geosearch"),t.fixtures.appbar.items.push("basemap")),e.sideMenu&&e.sideMenu.items&&e.sideMenu.items.length>0&&e.sideMenu.items.forEach(s=>{s.forEach(n=>{n==="layers"&&!t.fixtures.appbar.items.includes("legend")?(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")):n!=="layers"&&i.includes(n)&&!t.fixtures.appbar.items.includes(n.toLowerCase())&&(t.fixtures.appbar.items.push(n.toLowerCase()),(n.toLowerCase()==="help"||n.toLowerCase()==="export"&&!t.fixturesEnabled.includes(n.toLowerCase()))&&t.fixturesEnabled.push(n.toLowerCase()))})}),e.tableIsOpen&&e.tableIsOpen.large,["fullscreen","theme","logoUrl","failureFeedback","title","restrictNavigation","about"].forEach(s=>{typeof e[s]<"u"&&console.warn(`${s} property provided in services config cannot be mapped and will be skipped.`)})}function Qye(e,t){e.areasOfInterest.enable&&(t.fixturesEnabled.includes("areas-of-interest")||t.fixturesEnabled.push("areas-of-interest"),e.areasOfInterest.areas&&(t.fixtures["areas-of-interest"]={areas:e.areasOfInterest.areas.map(i=>({title:`${i["title-en-CA"]} / ${i["title-fr-CA"]}`,thumbnail:i.thumbnailUrl,altText:i.altText??"",description:i.description??"",extent:{xmin:i.xmin,xmax:i.xmax,ymin:i.ymin,ymax:i.ymax,spatialReference:{wkid:i.wkid}}}))}))}function ege(e,t){const i=e.outfields&&e.outfields!=="*";if(!i&&!e.fieldMetadata)return;const r={fieldInfo:[],exclusiveFields:!1,enforceOrder:!1};e.fieldMetadata?(r.fieldInfo=e.fieldMetadata.map(s=>{const n={name:s.data};return s.alias&&(n.alias=s.alias),n}),i&&(e.outfields.split(",").map(n=>n.trim()).forEach(n=>{r.fieldInfo.findIndex(o=>o.name===n)===-1&&r.fieldInfo.push({name:n})}),r.exclusiveFields=!0)):i&&(r.fieldInfo=e.outfields.split(",").map(s=>({name:s.trim()})),r.exclusiveFields=!0),t.fieldMetadata=r}var fh={major:"4",minor:"12",patch:"0",timestamp:"Thu Jun 12 13:16:15 2025 -0400",hash:"b18fca47734e151941e929697c0855530a97469c"};console.info(`RAMP v${fh.major}.${fh.minor}.${fh.patch} [${fh.hash.slice(0,9)}] (Built on ${new Date(fh.timestamp.toString()).toLocaleString()})`);const Ed=fh;function nxe(e){return Wye(e)}const oxe=(e,t,i)=>new E0e(e,t,i),Yh=new vie;export{J1e as $,m5 as A,tr as B,W1 as C,Xe as D,FS as E,PT as F,cG as G,qp as H,Co as I,ie as J,a6 as K,Gp as L,A1e as M,j0 as N,Yi as O,jr as P,Ti as Q,m1e as R,d5 as S,rU as T,Bp as U,mt as V,T6 as W,l5 as X,nU as Y,On as Z,Zve as _,Yc as a,CI as a$,Mn as a0,ai as a1,X as a2,rr as a3,kf as a4,Hi as a5,ar as a6,j2 as a7,hS as a8,j5 as a9,wbe as aA,IU as aB,$_e as aC,oW as aD,I_e as aE,P_e as aF,S_e as aG,DS as aH,xW as aI,so as aJ,Ar as aK,FI as aL,In as aM,C_e as aN,l_e as aO,Ie as aP,W0 as aQ,Rh as aR,Uge as aS,cge as aT,wY as aU,xY as aV,EY as aW,lge as aX,gY as aY,zS as aZ,Wm as a_,rw as aa,GS as ab,Hm as ac,Kc as ad,_U as ae,Ym as af,iu as ag,wo as ah,xl as ai,aJ as aj,ge as ak,TS as al,_1 as am,w1 as an,qf as ao,Pi as ap,k1 as aq,Js as ar,mK as as,sxe as at,oP as au,lP as av,aP as aw,nP as ax,C$ as ay,q2e as az,hV as b,z_e as b$,nge as b0,ZB as b1,w6 as b2,x6 as b3,k1e as b4,P1 as b5,N1 as b6,sge as b7,b1 as b8,Li as b9,Ni as bA,hJ as bB,fJ as bC,dJ as bD,re as bE,xve as bF,Zc as bG,Iwe as bH,Cwe as bI,N_e as bJ,Qg as bK,Gbe as bL,zbe as bM,Bm as bN,Awe as bO,Pge as bP,AI as bQ,sU as bR,cp as bS,Y2 as bT,Wt as bU,W2 as bV,Z2 as bW,Xg as bX,x2 as bY,Ege as bZ,EI as b_,Jp as ba,FV as bb,Gm as bc,Mj as bd,f5 as be,Yt as bf,b_e as bg,kS as bh,M4 as bi,S5 as bj,HW as bk,ot as bl,O1 as bm,v1e as bn,Io as bo,xo as bp,h2e as bq,v1 as br,Uf as bs,F1e as bt,Ch as bu,mge as bv,dge as bw,pge as bx,Wbe as by,dt as bz,oxe as c,UB as c$,W_e as c0,H_e as c1,q_e as c2,M_e as c3,O_e as c4,mN as c5,hge as c6,tv as c7,XI as c8,ct as c9,_u as cA,So as cB,Rn as cC,ube as cD,nf as cE,Vp as cF,BB as cG,C1e as cH,jB as cI,nxe as cJ,bZ as cK,md as cL,zu as cM,EZ as cN,lk as cO,sk as cP,nk as cQ,Gi as cR,zwe as cS,Z$ as cT,jZ as cU,bB as cV,y1e as cW,b6 as cX,A_e as cY,cV as cZ,gge as c_,I1e as ca,Hbe as cb,jf as cc,sP as cd,Ube as ce,GG as cf,lW as cg,k_e as ch,aW as ci,L_e as cj,v6 as ck,Yp as cl,E1e as cm,zm as cn,$n as co,Ct as cp,D_e as cq,R_e as cr,G1e as cs,q1e as ct,z1e as cu,H1e as cv,W1e as cw,Y1e as cx,Gu as cy,SJ as cz,Ye as d,Me as d$,DI as d0,_a as d1,xe as d2,ce as d3,fe as d4,UW as d5,XW as d6,U2 as d7,Ny as d8,Kwe as d9,Xge as dA,U1e as dB,j1e as dC,Eve as dD,i2e as dE,$ve as dF,LU as dG,lve as dH,pl as dI,ao as dJ,MW as dK,$N as dL,C6 as dM,uV as dN,rt as dO,ri as dP,pu as dQ,Kme as dR,tt as dS,wi as dT,Tt as dU,At as dV,Vt as dW,$i as dX,jl as dY,mi as dZ,kt as d_,GZ as da,Zwe as db,Kbe as dc,Jm as dd,Xbe as de,Jbe as df,gu as dg,Qbe as dh,Ove as di,$ge as dj,Mwe as dk,o_e as dl,u1e as dm,w1e as dn,L2e as dp,Qm as dq,J2e as dr,Mve as ds,jy as dt,qW as du,YW as dv,JW as dw,Zge as dx,Q2e as dy,Kge as dz,t3 as e,Tbe as e$,It as e0,ki as e1,$v as e2,Hv as e3,yb as e4,Ji as e5,hr as e6,Fn as e7,go as e8,Ht as e9,x_e as eA,yU as eB,gwe as eC,ru as eD,B1 as eE,wge as eF,b1e as eG,hj as eH,lwe as eI,vs as eJ,Yve as eK,_Y as eL,dh as eM,L1 as eN,Vy as eO,Bbe as eP,yu as eQ,Nwe as eR,v2e as eS,d2e as eT,iG as eU,uG as eV,O6 as eW,Dy as eX,B2e as eY,C2e as eZ,Dbe as e_,Xme as ea,Ce as eb,ei as ec,Ke as ed,D3 as ee,e_e as ef,Z1e as eg,E2e as eh,x2e as ei,CY as ej,U6 as ek,vge as el,abe as em,N1e as en,HB as eo,WB as ep,yge as eq,K1e as er,qB as es,h4 as et,PN as eu,w_e as ev,OW as ew,rm as ex,im as ey,d_e as ez,$L as f,o7 as f$,oge as f0,TI as f1,MI as f2,OI as f3,Mge as f4,rve as f5,Su as f6,_V as f7,Ewe as f8,vwe as f9,z2e as fA,T1 as fB,JE as fC,c_e as fD,O2 as fE,Nh as fF,oB as fG,Il as fH,fbe as fI,KE as fJ,u5 as fK,uY as fL,eve as fM,tB as fN,Kh as fO,_S as fP,tve as fQ,ey as fR,X1 as fS,Ywe as fT,vV as fU,mbe as fV,zI as fW,F6 as fX,y0e as fY,xb as fZ,Jge as f_,bV as fa,tS as fb,Ebe as fc,XE as fd,rk as fe,Sl as ff,sve as fg,Zme as fh,pi as fi,qv as fj,g0e as fk,wn as fl,Z5 as fm,i6 as fn,Ff as fo,Fge as fp,nve as fq,fE as fr,v0e as fs,Xl as ft,bY as fu,L1e as fv,QB as fw,yY as fx,YB as fy,Yge as fz,Yh as g,Py as g$,Um as g0,wW as g1,$we as g2,Zj as g3,II as g4,v0 as g5,pA as g6,_I as g7,rge as g8,ZF as g9,O as gA,u_e as gB,u_ as gC,o_ as gD,Xw as gE,Vbe as gF,$2e as gG,W2e as gH,fB as gI,mS as gJ,M1e as gK,s1e as gL,tz as gM,xbe as gN,Lbe as gO,WZ as gP,K0 as gQ,da as gR,vj as gS,a5 as gT,f4 as gU,wb as gV,ht as gW,Xh as gX,C1 as gY,su as gZ,uU as g_,ige as ga,KF as gb,o5 as gc,fge as gd,d0e as ge,p0e as gf,aI as gg,Ya as gh,qD as gi,MT as gj,Pe as gk,b0e as gl,ss as gm,Vo as gn,Tn as go,fl as gp,Rl as gq,Em as gr,Mi as gs,T0 as gt,pv as gu,x0e as gv,I3 as gw,gn as gx,_b as gy,hR as gz,oU as h,eG as h$,IG as h0,FG as h1,N6 as h2,lbe as h3,Kve as h4,Pbe as h5,rS as h6,jve as h7,Uve as h8,Sj as h9,Pwe as hA,zE as hB,qE as hC,iP as hD,WG as hE,vbe as hF,sL as hG,Cve as hH,Ive as hI,Qge as hJ,Zbe as hK,A0e as hL,_0e as hM,Mt as hN,um as hO,TT as hP,f0e as hQ,Ln as hR,ET as hS,_r as hT,Ve as hU,Ype as hV,L6 as hW,LG as hX,zs as hY,$1 as hZ,Wp as h_,Ej as ha,Mbe as hb,gV as hc,r2e as hd,tm as he,wve as hf,jge as hg,f1e as hh,DV as hi,q5 as hj,M1 as hk,_1e as hl,aye as hm,_ye as hn,lye as ho,w0e as hp,vz as hq,T_e as hr,dwe as hs,Owe as ht,lJ as hu,ii as hv,pwe as hw,ywe as hx,Uwe as hy,N$ as hz,mp as i,X2e as i$,ef as i0,D1e as i1,obe as i2,Qp as i3,QV as i4,O2e as i5,Rge as i6,Dge as i7,kge as i8,YG as i9,vi as iA,Ge as iB,co as iC,VE as iD,zD as iE,C8 as iF,m0e as iG,q3 as iH,Qt as iI,al as iJ,fi as iK,A2e as iL,T2e as iM,S2e as iN,LY as iO,a_e as iP,xge as iQ,fY as iR,hY as iS,pbe as iT,dbe as iU,e0 as iV,t0 as iW,i0 as iX,QS as iY,xj as iZ,Ja as i_,G6 as ia,z6 as ib,B6 as ic,kwe as id,Rwe as ie,Lwe as ig,la as ih,KS as ii,pL as ij,KY as ik,Wf as il,Jf as im,XF as io,bge as ip,qge as iq,n_e as ir,Jh as is,bu as it,s_e as iu,LH as iv,_ge as iw,ebe as ix,I6 as iy,Dr as iz,dx as j,Kg as j$,Z2e as j0,Tge as j1,Vwe as j2,dB as j3,T4 as j4,Lge as j5,hve as j6,SV as j7,OV as j8,PV as j9,G3 as jA,yr as jB,Ave as jC,Ige as jD,Dve as jE,BZ as jF,sS as jG,El as jH,eS as jI,G_e as jJ,i_e as jK,Fwe as jL,mwe as jM,Mr as jN,Eu as jO,HS as jP,Obe as jQ,Y2e as jR,t_e as jS,F_e as jT,cbe as jU,tbe as jV,Q1e as jW,X1e as jX,Q2 as jY,Zg as jZ,ew as j_,Zh as ja,ZE as jb,r1e as jc,vS as jd,h1e as je,zN as jf,KV as jg,rj as jh,qve as ji,Hve as jj,Age as jk,tU as jl,Sge as jm,N2e as jn,P2e as jo,Gge as jp,Tf as jq,Dn as jr,rhe as js,bo as jt,td as ju,Ri as jv,jhe as jw,Ze as jx,J3 as jy,NR as jz,Jve as k,fwe as k$,lG as k0,V1e as k1,B1e as k2,bj as k3,f2e as k4,Hh as k5,fA as k6,Oh as k7,Cy as k8,Qo as k9,Twe as kA,ove as kB,Rve as kC,g1e as kD,gW as kE,Vge as kF,Swe as kG,RW as kH,CW as kI,bW as kJ,sm as kK,om as kL,VS as kM,jW as kN,VW as kO,kbe as kP,JN as kQ,FN as kR,NW as kS,Fve as kT,d4 as kU,yW as kV,ibe as kW,rbe as kX,T1e as kY,$1e as kZ,x1 as k_,Es as ka,Si as kb,h_e as kc,E_e as kd,p_e as ke,g_e as kf,m_e as kg,v_e as kh,y_e as ki,__e as kj,Ybe as kk,YT as kl,f_e as km,VG as kn,jbe as ko,rz as kp,bbe as kq,BG as kr,nw as ks,_be as kt,Sbe as ku,Cbe as kv,OL as kw,Y1 as kx,s0 as ky,wu as kz,Rf as l,R1e as l$,ML as l0,S1e as l1,l6 as l2,Yf as l3,sbe as l4,vU as l5,qT as l6,Nbe as l7,gbe as l8,ybe as l9,aj as lA,hbe as lB,xG as lC,e4 as lD,Sve as lE,WN as lF,wS as lG,B_e as lH,P1e as lI,Abe as lJ,Fbe as lK,age as lL,mB as lM,Zp as lN,p1e as lO,h5 as lP,cwe as lQ,uwe as lR,hwe as lS,X5 as lT,CL as lU,$I as lV,c1e as lW,_6 as lX,S4 as lY,t6 as lZ,O1e as l_,qG as la,V4 as lb,Rbe as lc,wwe as ld,xwe as le,_we as lf,bwe as lg,BL as lh,eK as li,R_ as lj,Q0 as lk,af as ll,VL as lm,exe as ln,_Z as lo,Mx as lp,qZ as lq,Ou as lr,wz as ls,xB as lt,j2e as lu,V2e as lv,YN as lw,$G as lx,Tve as ly,Vve as lz,pk as m,jwe as m0,p2e as m1,H2e as m2,D2e as m3,k2e as m4,Bge as m5,swe as m6,rwe as m7,Nge as m8,I2e as m9,$be as ma,G2e as mb,zge as mc,J1 as md,Dwe as me,R2e as mf,M2e as mg,mh,PY as mi,uge as mj,IY as mk,Pve as ml,x5 as mm,S1 as mn,yB as mo,d1e as mp,x1e as mq,y2e as mr,m2e as ms,Ibe as mt,F2e as mu,g2e as mv,HI as mw,ave as mx,U2e as my,Rt as n,iY as o,qm as p,kn as q,YE as r,ft as s,WE as t,Br as u,g as v,uj as w,A as x,Cge as y,Jt as z};
