import{bG as N,aX as O,ab as l}from"./main-D6UWMbWJ.js";import{s as S,q as M,o as P}from"./mat4-mplESjCB.js";import{F as p,N as r,b as _}from"./projection-F5U3p10J.js";function R(s,c,t){const E=Math.sin(s),C=Math.cos(s),u=Math.sin(c),o=Math.cos(c),n=t;return n[0]=-E,n[4]=-u*C,n[8]=o*C,n[12]=0,n[1]=C,n[5]=-u*E,n[9]=o*E,n[13]=0,n[2]=0,n[6]=o,n[10]=u,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1,n}function T(s,c,t){return R(s,c,t),S(t,t),t}function I(s,c,t,E){const C=p(s,E);if(C==null)return!1;const u=C.source.spatialReferenceId,o=C.dest.spatialReferenceId;if(u===o&&!A(o)&&(u!==r.UNKNOWN||N(s,E)))return M(t,c),!0;if(A(o)){const a=_[u][r.LON_LAT],L=_[r.LON_LAT][o];return a!=null&&L!=null&&(a(c,0,e,0),L(e,0,i,0),R(f*e[0],f*e[1],t),t[12]=i[0],t[13]=i[1],t[14]=i[2],!0)}const n=A(u);if((o===r.WEB_MERCATOR||o===r.PLATE_CARREE||o===r.WGS84||o===r.CGCS2000)&&(u===r.WGS84||n||u===r.WEB_MERCATOR||u===r.CGCS2000)){const a=_[u][r.LON_LAT],L=_[r.LON_LAT][o];return a!=null&&L!=null&&(a(c,0,e,0),L(e,0,i,0),n?T(f*e[0],f*e[1],t):P(t),t[12]=i[0],t[13]=i[1],t[14]=i[2],!0)}return!1}function A(s){return s===r.SPHERICAL_ECEF||s===r.SPHERICAL_MARS_PCPF||s===r.SPHERICAL_MOON_PCPF||s===r.WGS84_ECEF}const f=O(1),e=l(),i=l();export{I as m,R as n};
