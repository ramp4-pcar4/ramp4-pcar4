import{c9 as l}from"./main-D6UWMbWJ.js";function c(i,e,o){return e.flatten(({sublayers:n})=>n).length!==i.length?!0:!!i.some(n=>n.originIdOf("minScale")>o||n.originIdOf("maxScale")>o||n.originIdOf("renderer")>o||n.originIdOf("labelingInfo")>o||n.originIdOf("opacity")>o||n.originIdOf("labelsVisible")>o||n.originIdOf("source")>o)||!a(i,e)}function d(i,e,o){return!!i.some(r=>{const n=r.source,t=!n||n.type==="map-layer"&&n.mapLayerId===r.id&&(n.gdbVersion==null||n.gdbVersion===o);r.commitProperty("renderer"),r.commitProperty("labelingInfo"),r.commitProperty("opacity"),r.commitProperty("labelsVisible"),r.commitProperty("orderBy");const f=r.layer?.capabilities?.exportMap?.supportsSublayerOrderBy??!1;return!t||r.originIdOf("renderer")>l.SERVICE||r.originIdOf("labelingInfo")>l.SERVICE||r.originIdOf("opacity")>l.SERVICE||r.originIdOf("labelsVisible")>l.SERVICE||f&&r.originIdOf("orderBy")>l.SERVICE})||!a(i,e)}function a(i,e){if(!i?.length||e==null)return!0;const o=e.slice().reverse().flatten(({sublayers:t})=>t&&t.toArray().reverse()).map(t=>t.id).toArray();if(i.length>o.length)return!1;let r=0;const n=o.length;for(const{id:t}of i){for(;r<n&&o[r]!==t;)r++;if(r>=n)return!1}return!0}function g(i){return!!i&&i.some(e=>e.minScale!=null||e.layerDefinition?.minScale!=null)}export{c as e,d as i,g as o};
