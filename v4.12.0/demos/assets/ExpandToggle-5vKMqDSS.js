import{n as y}from"./ref-DwVaJuBu.js";import{cL as H,cR as C}from"./main-D6UWMbWJ.js";import{b as L}from"./dom-31sk8mer.js";import{n as h}from"./index-B2R0-Hjc.js";import{e as W}from"./index-BpWojg0l.js";/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.0.3 */const w=2,d=e=>e.reduce((t,o)=>t+o,0)/e.length,B=e=>{const t=e.filter(n=>n.slot!==h.menuActions),o=t?.length;return{actionWidth:o?d(t.map(n=>n.clientWidth||0)):0,actionHeight:o?d(t.map(n=>n.clientHeight||0)):0}},q=({width:e,actionWidth:t,layout:o,height:n,actionHeight:i,groupCount:r})=>{const l=o==="horizontal"?e:n,c=o==="horizontal"?t:i;return Math.floor((l-r*w)/c)},D=({layout:e,actionCount:t,actionWidth:o,width:n,actionHeight:i,height:r,groupCount:l})=>Math.max(t-q({width:n,actionWidth:o,layout:e,height:r,actionHeight:i,groupCount:l}),0),f=e=>Array.from(e.querySelectorAll("calcite-action")).filter(t=>t.closest("calcite-action-menu")?t.slot===W.trigger:!0),I=({actionGroups:e,expanded:t,overflowCount:o})=>{let n=o;e.reverse().forEach(i=>{let r=0;const l=f(i).reverse();l.forEach(c=>{c.slot===h.menuActions&&(c.removeAttribute("slot"),c.textEnabled=t)}),n>0&&l.some(c=>(l.filter(s=>!s.slot).length>1&&l.length>2&&!c.closest("calcite-action-menu")&&(c.textEnabled=!0,c.setAttribute("slot",h.menuActions),r++,r>1&&n--),n<1)),i.manager.component.requestUpdate()})},m={chevronsLeft:"chevrons-left",chevronsRight:"chevrons-right"};function R(e,t){return e||t.closest("calcite-shell-panel")?.position||"start"}function N({el:e,expanded:t}){f(e).filter(o=>o.slot!==h.menuActions).forEach(o=>o.textEnabled=t),e.querySelectorAll("calcite-action-group, calcite-action-menu").forEach(o=>o.expanded=t)}const S=({tooltip:e,referenceElement:t,expanded:o,ref:n})=>(e&&(e.referenceElement=!o&&t?t:null),n&&n(t),t),O=({expanded:e,expandText:t,collapseText:o,expandLabel:n,collapseLabel:i,toggle:r,el:l,position:c,tooltip:s,ref:g,scale:x})=>{const E=L(l)==="rtl",p=e?o:t,v=e?i:n,a=[m.chevronsLeft,m.chevronsRight];E&&a.reverse();const u=R(c,l)==="end",$=u?a[1]:a[0],b=u?a[0]:a[1];return H`<calcite-action .icon=${e?$:b} id=expand-toggle .label=${v} @click=${r} .scale=${x} .text=${p} .textEnabled=${e} title=${(!e&&!s?p:null)??C} ${y(A=>S({tooltip:s,referenceElement:A,expanded:e,ref:g}))}></calcite-action>`};export{f as A,N as B,B as D,O as G,D as H,I as k};
