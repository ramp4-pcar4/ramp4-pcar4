import{c$ as Ue,b9 as Te}from"./main-D6UWMbWJ.js";let _;const h=new Array(128).fill(void 0);function w(n){return h[n]}h.push(void 0,null,!0,!1);let B=h.length;function De(n){n<132||(h[n]=B,B=n)}function l(n){const e=w(n);return De(n),e}function g(n){B===h.length&&h.push(h.length+1);const e=B;return B=h[e],h[e]=n,e}const Me=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Me.decode();let T=null;function F(){return T!==null&&T.byteLength!==0||(T=new Uint8Array(_.memory.buffer)),T}function p(n,e){return n>>>=0,Me.decode(F().subarray(n,n+e))}function J(n,e){return n>>>=0,F().subarray(n/1,n/1+e)}const ae=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>{_.__wbindgen_export_1.get(n.dtor)(n.a,n.b)});function Le(n,e,t,r){const i={a:n,b:e,cnt:1,dtor:t},o=(...s)=>{i.cnt++;const d=i.a;i.a=0;try{return r(d,i.b,...s)}finally{--i.cnt==0?(_.__wbindgen_export_1.get(i.dtor)(d,i.b),ae.unregister(i)):i.a=d}};return o.original=i,ae.register(o,i,i),o}function Ve(n,e,t){_._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h6f3c6e2a403d1e3d(n,e,g(t))}function Ne(){_.enable_tracing()}let c=0;const $=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Ye=typeof $.encodeInto=="function"?function(n,e){return $.encodeInto(n,e)}:function(n,e){const t=$.encode(n);return e.set(t),{read:n.length,written:t.length}};function y(n,e,t){if(t===void 0){const d=$.encode(n),u=e(d.length,1)>>>0;return F().subarray(u,u+d.length).set(d),c=d.length,u}let r=n.length,i=e(r,1)>>>0;const o=F();let s=0;for(;s<r;s++){const d=n.charCodeAt(s);if(d>127)break;o[i+s]=d}if(s!==r){s!==0&&(n=n.slice(s)),i=t(i,r,r=s+3*n.length,1)>>>0;const d=F().subarray(i+s,i+r);s+=Ye(n,d).written,i=t(i,r,s,1)>>>0}return c=s,i}let I=null;function a(){return(I===null||I.buffer.detached===!0||I.buffer.detached===void 0&&I.buffer!==_.memory.buffer)&&(I=new DataView(_.memory.buffer)),I}function m(n,e){try{return n.apply(this,e)}catch(t){_.__wbindgen_exn_store(g(t))}}function Xe(n,e,t,r){_.wasm_bindgen__convert__closures__invoke2_mut__h367b7e3d952c2b06(n,e,g(t),g(r))}let M=null;function qe(){return M!==null&&M.byteLength!==0||(M=new Float64Array(_.memory.buffer)),M}function $e(n,e){return n>>>=0,qe().subarray(n/8,n/8+e)}let q=null;function Oe(){return q!==null&&q.byteLength!==0||(q=new Uint32Array(_.memory.buffer)),q}function Je(n,e){return n>>>=0,Oe().subarray(n/4,n/4+e)}function R(n,e){n>>>=0;const t=a(),r=[];for(let i=n;i<n+4*e;i+=4)r.push(l(t.getUint32(i,!0)));return r}let O=null;function Ke(){return O!==null&&O.byteLength!==0||(O=new Uint16Array(_.memory.buffer)),O}function N(n,e){const t=e(2*n.length,2)>>>0;return Ke().set(n,t/2),c=n.length,t}function Qe(n,e){const t=e(4*n.length,4)>>>0,r=a();for(let i=0;i<n.length;i++)r.setUint32(t+4*i,g(n[i]),!0);return c=n.length,t}function f(n,e){if(!(n instanceof e))throw new Error(`expected instance of ${e.name}`);return n.ptr}function Y(n,e){const t=e(8*n.length,8)>>>0;return qe().set(n,t/8),c=n.length,t}function X(n,e){const t=e(4*n.length,4)>>>0;return Oe().set(n,t/4),c=n.length,t}function b(n){return n==null}function oe(n,e){const t=e(1*n.length,1)>>>0;return F().set(n,t/1),c=n.length,t}function je(n,e,t){const r=y(n,_.__wbindgen_malloc,_.__wbindgen_realloc),i=c;return l(_.readMetadata(r,i,g(e),g(t)))}function Ze(n){const e=oe(n,_.__wbindgen_malloc),t=c;return l(_.readMetadataFromFile(e,t))}function He(n,e,t,r,i){const o=y(n,_.__wbindgen_malloc,_.__wbindgen_realloc),s=c;f(r,z);var d=r.__destroy_into_raw();let u=0;return b(i)||(f(i,k),u=i.__destroy_into_raw()),l(_.readFile(o,s,g(e),g(t),d,u))}function et(n,e){let t=0;b(n)||(f(n,k),t=n.__destroy_into_raw());const r=oe(e,_.__wbindgen_malloc),i=c;return l(_.readFileFromBinary(t,r,i))}const tt=Object.freeze({None:0,0:"None",Snappy:1,1:"Snappy"}),j=Object.freeze({Point:0,0:"Point",Polygon:1,1:"Polygon",Polyline:2,2:"Polyline",Multipoint:3,3:"Multipoint"}),_t=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeBigInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"],se=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_columndescriptor_free(n>>>0,1));class Q{static __wrap(e){e>>>=0;const t=Object.create(Q.prototype);return t.__wbg_ptr=e,se.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,se.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_columndescriptor_free(e,0)}name(){let e,t;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_name(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return e=r,t=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}physicalType(){let e,t;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_physicalType(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return e=r,t=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}logicalType(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_logicalType(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);let i;return e!==0&&(i=p(e,t).slice(),_.__wbindgen_free(e,1*t,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}encodings(){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_encodings(i,this.__wbg_ptr);var e=a().getInt32(i+0,!0),t=a().getInt32(i+4,!0),r=R(e,t).slice();return _.__wbindgen_free(e,4*t,4),r}finally{_.__wbindgen_add_to_stack_pointer(16)}}pageEncodings(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_pageEncodings(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);let i;return e!==0&&(i=R(e,t).slice(),_.__wbindgen_free(e,4*t,4)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}numValues(){return _.columndescriptor_numValues(this.__wbg_ptr)}compression(){let e,t;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_compression(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return e=r,t=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}compressedSize(){return _.columndescriptor_compressedSize(this.__wbg_ptr)}uncompressedSize(){return _.columndescriptor_uncompressedSize(this.__wbg_ptr)}nullCount(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_nullCount(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getBigInt64(r+8,!0);return e===0?void 0:t}finally{_.__wbindgen_add_to_stack_pointer(16)}}distinctCount(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_distinctCount(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getBigInt64(r+8,!0);return e===0?void 0:t}finally{_.__wbindgen_add_to_stack_pointer(16)}}minValue(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_minValue(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);let i;return e!==0&&(i=J(e,t).slice(),_.__wbindgen_free(e,1*t,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}maxValue(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_maxValue(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);let i;return e!==0&&(i=J(e,t).slice(),_.__wbindgen_free(e,1*t,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}}const ge=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_fieldmetadata_free(n>>>0,1));class V{static __wrap(e){e>>>=0;const t=Object.create(V.prototype);return t.__wbg_ptr=e,ge.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,ge.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_fieldmetadata_free(e,0)}get name(){let e,t;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.fieldmetadata_name(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return e=r,t=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}get index(){return _.fieldmetadata_index(this.__wbg_ptr)}get type(){const e=_.fieldmetadata_esri_type(this.__wbg_ptr);return _t[e]}get physicalType(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.fieldmetadata_physical_type(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);let i;return e!==0&&(i=p(e,t).slice(),_.__wbindgen_free(e,1*t,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}get logicalType(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.fieldmetadata_logical_type(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);let i;return e!==0&&(i=p(e,t).slice(),_.__wbindgen_free(e,1*t,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}}const de=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_filemetadata_free(n>>>0,1));class z{static __wrap(e){e>>>=0;const t=Object.create(z.prototype);return t.__wbg_ptr=e,de.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,de.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_filemetadata_free(e,0)}version(){return _.filemetadata_version(this.__wbg_ptr)}numRows(){return _.filemetadata_numRows(this.__wbg_ptr)>>>0}numFields(){return _.filemetadata_numFields(this.__wbg_ptr)>>>0}numColumns(){return _.filemetadata_numColumns(this.__wbg_ptr)>>>0}createdBy(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.filemetadata_createdBy(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);let i;return e!==0&&(i=p(e,t).slice(),_.__wbindgen_free(e,1*t,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}keyValueMetadata(e){try{const i=_.__wbindgen_add_to_stack_pointer(-16),o=y(e,_.__wbindgen_malloc,_.__wbindgen_realloc),s=c;_.filemetadata_keyValueMetadata(i,this.__wbg_ptr,o,s);var t=a().getInt32(i+0,!0),r=a().getInt32(i+4,!0);let d;return t!==0&&(d=p(t,r).slice(),_.__wbindgen_free(t,1*r,1)),d}finally{_.__wbindgen_add_to_stack_pointer(16)}}keys(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.filemetadata_keys(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);let i;return e!==0&&(i=R(e,t).slice(),_.__wbindgen_free(e,4*t,4)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}getFieldIndex(e){const t=y(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=c,i=_.filemetadata_getFieldIndex(this.__wbg_ptr,t,r);return i===16777215?void 0:i}getFieldByIndex(e){const t=_.filemetadata_getFieldByIndex(this.__wbg_ptr,e);return t===0?void 0:V.__wrap(t)}getFields(){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.filemetadata_getFields(i,this.__wbg_ptr);var e=a().getInt32(i+0,!0),t=a().getInt32(i+4,!0),r=R(e,t).slice();return _.__wbindgen_free(e,4*t,4),r}finally{_.__wbindgen_add_to_stack_pointer(16)}}}const ce=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_filewriter_free(n>>>0,1));class K{static __wrap(e){e>>>=0;const t=Object.create(K.prototype);return t.__wbg_ptr=e,ce.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,ce.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_filewriter_free(e,0)}static new(e,t){const r=Qe(e,_.__wbindgen_malloc),i=c,o=_.filewriter_new(r,i,t);return K.__wrap(o)}writeKeyValue(e,t){const r=y(e,_.__wbindgen_malloc,_.__wbindgen_realloc),i=c,o=y(t,_.__wbindgen_malloc,_.__wbindgen_realloc),s=c;_.filewriter_writeKeyValue(this.__wbg_ptr,r,i,o,s)}writeI32Page(e,t){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(t,E);var r=t.__destroy_into_raw();_.filewriter_writeI32Page(o,this.__wbg_ptr,e,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeI64Page(e,t){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(t,U);var r=t.__destroy_into_raw();_.filewriter_writeI64Page(o,this.__wbg_ptr,e,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeF32Page(e,t){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(t,S);var r=t.__destroy_into_raw();_.filewriter_writeF32Page(o,this.__wbg_ptr,e,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeF64Page(e,t){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(t,W);var r=t.__destroy_into_raw();_.filewriter_writeF64Page(o,this.__wbg_ptr,e,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeGeometryPage(e,t){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(t,G);var r=t.__destroy_into_raw();_.filewriter_writeBytesPage(o,this.__wbg_ptr,e,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeStringPage(e,t){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(t,D);var r=t.__destroy_into_raw();_.filewriter_writeBytesPage(o,this.__wbg_ptr,e,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeBytesPage(e,t){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(t,A);var r=t.__destroy_into_raw();_.filewriter_writeBytesPage(o,this.__wbg_ptr,e,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}finish(){try{const o=this.__destroy_into_raw(),s=_.__wbindgen_add_to_stack_pointer(-16);_.filewriter_finish(s,o);var e=a().getInt32(s+0,!0),t=a().getInt32(s+4,!0),r=a().getInt32(s+8,!0);if(a().getInt32(s+12,!0))throw l(r);var i=J(e,t).slice();return _.__wbindgen_free(e,1*t,1),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}}const we=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_geometryinfodescriptor_free(n>>>0,1));class k{static __wrap(e){e>>>=0;const t=Object.create(k.prototype);return t.__wbg_ptr=e,we.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,we.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_geometryinfodescriptor_free(e,0)}get geometryType(){const e=_.__wbg_get_geometryinfodescriptor_geometryType(this.__wbg_ptr);return e===4?void 0:e}set geometryType(e){_.__wbg_set_geometryinfodescriptor_geometryType(this.__wbg_ptr,b(e)?4:e)}get wkbIndex(){const e=_.__wbg_get_geometryinfodescriptor_wkbIndex(this.__wbg_ptr);return e===16777215?void 0:e}set wkbIndex(e){_.__wbg_set_geometryinfodescriptor_wkbIndex(this.__wbg_ptr,b(e)?16777215:e)}get lngIndex(){const e=_.__wbg_get_geometryinfodescriptor_lngIndex(this.__wbg_ptr);return e===16777215?void 0:e}set lngIndex(e){_.__wbg_set_geometryinfodescriptor_lngIndex(this.__wbg_ptr,b(e)?16777215:e)}get latIndex(){const e=_.__wbg_get_geometryinfodescriptor_latIndex(this.__wbg_ptr);return e===16777215?void 0:e}set latIndex(e){_.__wbg_set_geometryinfodescriptor_latIndex(this.__wbg_ptr,b(e)?16777215:e)}get xIndex(){const e=_.__wbg_get_geometryinfodescriptor_xIndex(this.__wbg_ptr);return e===16777215?void 0:e}set xIndex(e){_.__wbg_set_geometryinfodescriptor_xIndex(this.__wbg_ptr,b(e)?16777215:e)}get inWkid(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.__wbg_get_geometryinfodescriptor_inWkid(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);return e===0?void 0:t>>>0}finally{_.__wbindgen_add_to_stack_pointer(16)}}set inWkid(e){_.__wbg_set_geometryinfodescriptor_inWkid(this.__wbg_ptr,!b(e),b(e)?0:e)}get outWkid(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.__wbg_get_geometryinfodescriptor_outWkid(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);return e===0?void 0:t>>>0}finally{_.__wbindgen_add_to_stack_pointer(16)}}set outWkid(e){_.__wbg_set_geometryinfodescriptor_outWkid(this.__wbg_ptr,!b(e),b(e)?0:e)}static new(){const e=_.geometryinfodescriptor_new();return k.__wrap(e)}setMultiscaleInfo(e){f(e,x);var t=e.__destroy_into_raw();_.geometryinfodescriptor_setMultiscaleInfo(this.__wbg_ptr,t)}}const le=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_multiscaleinfo_free(n>>>0,1));class x{static __wrap(e){e>>>=0;const t=Object.create(x.prototype);return t.__wbg_ptr=e,le.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,le.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_multiscaleinfo_free(e,0)}static new(){const e=_.multiscaleinfo_new();return x.__wrap(e)}push(e,t,r,i,o){_.multiscaleinfo_push(this.__wbg_ptr,e,t,r,i,o)}}const ue=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderbytes_free(n>>>0,1));class A{static __wrap(e){e>>>=0;const t=Object.create(A.prototype);return t.__wbg_ptr=e,ue.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,ue.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_pagebuilderbytes_free(e,0)}static new(){const e=_.pagebuilderbytes_new();return A.__wrap(e)}push(e){var t=b(e)?0:oe(e,_.__wbindgen_malloc),r=c;_.pagebuilderbytes_push(this.__wbg_ptr,t,r)}}const be=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderf32_free(n>>>0,1));class S{static __wrap(e){e>>>=0;const t=Object.create(S.prototype);return t.__wbg_ptr=e,be.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,be.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_pagebuilderf32_free(e,0)}static new(){const e=_.pagebuilderbytes_new();return S.__wrap(e)}push(e){_.pagebuilderf32_push(this.__wbg_ptr,!b(e),b(e)?0:e)}}const pe=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderf64_free(n>>>0,1));class W{static __wrap(e){e>>>=0;const t=Object.create(W.prototype);return t.__wbg_ptr=e,pe.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,pe.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_pagebuilderf64_free(e,0)}static new(){const e=_.multiscaleinfo_new();return W.__wrap(e)}push(e){_.pagebuilderf64_push(this.__wbg_ptr,!b(e),b(e)?0:e)}}const fe=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuildergeometry_free(n>>>0,1));class G{static __wrap(e){e>>>=0;const t=Object.create(G.prototype);return t.__wbg_ptr=e,fe.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,fe.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_pagebuildergeometry_free(e,0)}static new(){const e=_.pagebuilderbytes_new();return G.__wrap(e)}writeXY(e,t){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.pagebuildergeometry_writeXY(i,this.__wbg_ptr,e,t);var r=a().getInt32(i+0,!0);if(a().getInt32(i+4,!0))throw l(r)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writePBF(e,t,r,i){try{const s=_.__wbindgen_add_to_stack_pointer(-16),d=Y(e,_.__wbindgen_malloc),u=c,P=X(t,_.__wbindgen_malloc),_e=c;_.pagebuildergeometry_writePBF(s,this.__wbg_ptr,d,u,P,_e,r,i);var o=a().getInt32(s+0,!0);if(a().getInt32(s+4,!0))throw l(o)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writePolygon(e,t){try{const i=_.__wbindgen_add_to_stack_pointer(-16),o=Y(e,_.__wbindgen_malloc),s=c,d=X(t,_.__wbindgen_malloc),u=c;_.pagebuildergeometry_writePolygon(i,this.__wbg_ptr,o,s,d,u);var r=a().getInt32(i+0,!0);if(a().getInt32(i+4,!0))throw l(r)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writePolyline(e,t){try{const i=_.__wbindgen_add_to_stack_pointer(-16),o=Y(e,_.__wbindgen_malloc),s=c,d=X(t,_.__wbindgen_malloc),u=c;_.pagebuildergeometry_writePolyline(i,this.__wbg_ptr,o,s,d,u);var r=a().getInt32(i+0,!0);if(a().getInt32(i+4,!0))throw l(r)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeMultipoint(e,t){try{const i=_.__wbindgen_add_to_stack_pointer(-16),o=Y(e,_.__wbindgen_malloc),s=c,d=X(t,_.__wbindgen_malloc),u=c;_.pagebuildergeometry_writeMultipoint(i,this.__wbg_ptr,o,s,d,u);var r=a().getInt32(i+0,!0);if(a().getInt32(i+4,!0))throw l(r)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeNone(){_.pagebuildergeometry_writeNone(this.__wbg_ptr)}}const ye=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderi32_free(n>>>0,1));class E{static __wrap(e){e>>>=0;const t=Object.create(E.prototype);return t.__wbg_ptr=e,ye.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,ye.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_pagebuilderi32_free(e,0)}static new(){const e=_.pagebuilderbytes_new();return E.__wrap(e)}push(e){_.pagebuilderi32_push(this.__wbg_ptr,!b(e),b(e)?0:e)}}const he=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderi64_free(n>>>0,1));class U{static __wrap(e){e>>>=0;const t=Object.create(U.prototype);return t.__wbg_ptr=e,he.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,he.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_pagebuilderi64_free(e,0)}static new(){const e=_.multiscaleinfo_new();return U.__wrap(e)}push(e){_.pagebuilderi64_push(this.__wbg_ptr,!b(e),b(e)?0:e)}}const me=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderstring_free(n>>>0,1));class D{static __wrap(e){e>>>=0;const t=Object.create(D.prototype);return t.__wbg_ptr=e,me.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,me.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_pagebuilderstring_free(e,0)}static new(){const e=_.pagebuilderbytes_new();return D.__wrap(e)}push(e){var t=b(e)?0:y(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=c;_.pagebuilderstring_push(this.__wbg_ptr,t,r)}}const Ie=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pageencodingdescriptor_free(n>>>0,1));class Z{static __wrap(e){e>>>=0;const t=Object.create(Z.prototype);return t.__wbg_ptr=e,Ie.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Ie.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_pageencodingdescriptor_free(e,0)}pageType(){let e,t;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.pageencodingdescriptor_pageType(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return e=r,t=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}encoding(){let e,t;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.pageencodingdescriptor_encoding(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return e=r,t=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}count(){return _.pageencodingdescriptor_count(this.__wbg_ptr)}}const ke=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_parquetchunk_free(n>>>0,1));class H{static __wrap(e){e>>>=0;const t=Object.create(H.prototype);return t.__wbg_ptr=e,ke.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,ke.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_parquetchunk_free(e,0)}size(){return _.parquetchunk_size(this.__wbg_ptr)>>>0}hasField(e){return _.parquetchunk_hasField(this.__wbg_ptr,e)!==0}readX(e){return _.parquetchunk_readX(this.__wbg_ptr,e)}readY(e){return _.parquetchunk_readY(this.__wbg_ptr,e)}readCoords(e){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.parquetchunk_readCoords(i,this.__wbg_ptr,e);var t=a().getInt32(i+0,!0),r=a().getInt32(i+4,!0);let o;return t!==0&&(o=$e(t,r).slice(),_.__wbindgen_free(t,8*r,8)),o}finally{_.__wbindgen_add_to_stack_pointer(16)}}readLengths(e){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.parquetchunk_readLengths(i,this.__wbg_ptr,e);var t=a().getInt32(i+0,!0),r=a().getInt32(i+4,!0);let o;return t!==0&&(o=Je(t,r).slice(),_.__wbindgen_free(t,4*r,4)),o}finally{_.__wbindgen_add_to_stack_pointer(16)}}readGeometryTransformed(e,t,r,i,o){const s=_.parquetchunk_readGeometryTransformed(this.__wbg_ptr,e,t,r,i,o);return s===0?void 0:ee.__wrap(s)}boundsXMin(e){return _.parquetchunk_boundsXMin(this.__wbg_ptr,e)}boundsYMin(e){return _.parquetchunk_boundsYMin(this.__wbg_ptr,e)}boundsXMax(e){return _.parquetchunk_boundsXMax(this.__wbg_ptr,e)}boundsYMax(e){return _.parquetchunk_boundsYMax(this.__wbg_ptr,e)}readAttribute(e,t){return l(_.parquetchunk_readAttribute(this.__wbg_ptr,e,t))}}const Fe=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_parquetfile_free(n>>>0,1));let Be=class Ce{static __wrap(e){e>>>=0;const t=Object.create(Ce.prototype);return t.__wbg_ptr=e,Fe.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Fe.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_parquetfile_free(e,0)}metadata(){const e=_.parquetfile_metadata(this.__wbg_ptr);return z.__wrap(e)}rowGroups(){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.parquetfile_rowGroups(i,this.__wbg_ptr);var e=a().getInt32(i+0,!0),t=a().getInt32(i+4,!0),r=R(e,t).slice();return _.__wbindgen_free(e,4*t,4),r}finally{_.__wbindgen_add_to_stack_pointer(16)}}readChunksWithCallback(e,t){const r=N(e,_.__wbindgen_malloc),i=c;return l(_.parquetfile_readChunksWithCallback(this.__wbg_ptr,r,i,g(t)))}readFirstChunk(e){const t=N(e,_.__wbindgen_malloc),r=c;return l(_.parquetfile_readFirstChunk(this.__wbg_ptr,t,r))}readAllChunks(e){const t=N(e,_.__wbindgen_malloc),r=c;return l(_.parquetfile_readAllChunks(this.__wbg_ptr,t,r))}updateChunks(e){const t=N(e,_.__wbindgen_malloc),r=c;return l(_.parquetfile_updateChunks(this.__wbg_ptr,t,r))}};const ve=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_quantizedgeometry_free(n>>>0,1));class ee{static __wrap(e){e>>>=0;const t=Object.create(ee.prototype);return t.__wbg_ptr=e,ve.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,ve.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_quantizedgeometry_free(e,0)}readCoordsUnsafe(){return l(_.quantizedgeometry_readCoordsUnsafe(this.__wbg_ptr))}readLengthsUnsafe(){return l(_.quantizedgeometry_readLengthsUnsafe(this.__wbg_ptr))}}const Re=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_rangeproviderjs_free(n>>>0,1));class C{static __wrap(e){e>>>=0;const t=Object.create(C.prototype);return t.__wbg_ptr=e,Re.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Re.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_rangeproviderjs_free(e,0)}static new(e,t){const r=_.rangeproviderjs_new(g(e),g(t));return C.__wrap(r)}static withFetch(){const e=_.rangeproviderjs_withFetch();return C.__wrap(e)}}const xe=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_rowgroup_free(n>>>0,1));class te{static __wrap(e){e>>>=0;const t=Object.create(te.prototype);return t.__wbg_ptr=e,xe.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,xe.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_rowgroup_free(e,0)}columns(){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.rowgroup_columns(i,this.__wbg_ptr);var e=a().getInt32(i+0,!0),t=a().getInt32(i+4,!0),r=R(e,t).slice();return _.__wbindgen_free(e,4*t,4),r}finally{_.__wbindgen_add_to_stack_pointer(16)}}}const ze=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_schemafield_free(n>>>0,1));class v{static __wrap(e){e>>>=0;const t=Object.create(v.prototype);return t.__wbg_ptr=e,ze.register(t,t.__wbg_ptr,t),t}static __unwrap(e){return e instanceof v?e.__destroy_into_raw():0}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,ze.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_schemafield_free(e,0)}static tryNew(e,t){try{const o=_.__wbindgen_add_to_stack_pointer(-16),s=y(e,_.__wbindgen_malloc,_.__wbindgen_realloc),d=c,u=y(t,_.__wbindgen_malloc,_.__wbindgen_realloc),P=c;_.schemafield_tryNew(o,s,d,u,P);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);if(a().getInt32(o+8,!0))throw l(i);return v.__wrap(r)}finally{_.__wbindgen_add_to_stack_pointer(16)}}name(){let e,t;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.schemafield_name(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return e=r,t=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}}async function nt(n,e){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,e)}catch(r){if(n.headers.get("Content-Type")=="application/wasm")throw r;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r)}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}function Ae(){const n={wbg:{}};return n.wbg.__wbg_new_abda76e883ba8a5f=function(){return g(new Error)},n.wbg.__wbg_stack_658279fe44541cf6=function(e,t){const r=y(w(t).stack,_.__wbindgen_malloc,_.__wbindgen_realloc),i=c;a().setInt32(e+4,i,!0),a().setInt32(e+0,r,!0)},n.wbg.__wbg_error_f851667af71bcfc6=function(e,t){let r,i;try{r=e,i=t,console.error(p(e,t))}finally{_.__wbindgen_free(r,i,1)}},n.wbg.__wbindgen_object_drop_ref=function(e){l(e)},n.wbg.__wbindgen_is_function=function(e){return typeof w(e)=="function"},n.wbg.__wbg_self_3093d5d1f7bcb682=function(){return m(function(){return g(self.self)},arguments)},n.wbg.__wbg_window_3bcfc4d31bc012f8=function(){return m(function(){return g(window.window)},arguments)},n.wbg.__wbg_globalThis_86b222e13bdf32ed=function(){return m(function(){return g(globalThis.globalThis)},arguments)},n.wbg.__wbg_global_e5a3fe56f8be9485=function(){return m(function(){return g(global.global)},arguments)},n.wbg.__wbindgen_is_undefined=function(e){return w(e)===void 0},n.wbg.__wbg_newnoargs_76313bd6ff35d0f2=function(e,t){return g(new Function(p(e,t)))},n.wbg.__wbindgen_object_clone_ref=function(e){return g(w(e))},n.wbg.__wbindgen_number_new=function(e){return g(e)},n.wbg.__wbindgen_string_new=function(e,t){return g(p(e,t))},n.wbg.__wbg_call_1084a111329e68ce=function(){return m(function(e,t){return g(w(e).call(w(t)))},arguments)},n.wbg.__wbg_call_89af060b4e1523f2=function(){return m(function(e,t,r){return g(w(e).call(w(t),w(r)))},arguments)},n.wbg.__wbg_call_7de908392845a9a5=function(){return m(function(e,t,r,i,o){return g(w(e).call(w(t),w(r),w(i),w(o)))},arguments)},n.wbg.__wbg_valueOf_563b3487b1b116aa=function(e){return w(e).valueOf()},n.wbg.__wbg_buffer_b7b08af79b0b0974=function(e){return g(w(e).buffer)},n.wbg.__wbg_new_b85e72ed1bfd57f9=function(e,t){try{var r={a:e,b:t},i=(o,s)=>{const d=r.a;r.a=0;try{return Xe(d,r.b,o,s)}finally{r.a=d}};return g(new Promise(i))}finally{r.a=r.b=0}},n.wbg.__wbg_resolve_570458cb99d56a43=function(e){return g(Promise.resolve(w(e)))},n.wbg.__wbg_then_95e6edc0f89b73b1=function(e,t){return g(w(e).then(w(t)))},n.wbg.__wbg_then_876bb3c633745cc6=function(e,t,r){return g(w(e).then(w(t),w(r)))},n.wbg.__wbg_newwithbyteoffsetandlength_b5293b0eedbac651=function(e,t,r){return g(new Int16Array(w(e),t>>>0,r>>>0))},n.wbg.__wbg_new_ea1883e1e5e86686=function(e){return g(new Uint8Array(w(e)))},n.wbg.__wbg_newwithbyteoffsetandlength_874df3e29cb555f9=function(e,t,r){return g(new Uint32Array(w(e),t>>>0,r>>>0))},n.wbg.__wbg_length_8339fcf5d8ecd12e=function(e){return w(e).length},n.wbg.__wbg_set_d1e79e2388520f18=function(e,t,r){w(e).set(w(t),r>>>0)},n.wbg.__wbindgen_throw=function(e,t){throw new Error(p(e,t))},n.wbg.__wbindgen_memory=function(){return g(_.memory)},n.wbg.__wbindgen_array_new=function(){return g([])},n.wbg.__wbindgen_array_push=function(e,t){w(e).push(l(t))},n.wbg.__wbindgen_uint8_array_new=function(e,t){var r=J(e,t).slice();return _.__wbindgen_free(e,1*t,1),g(r)},n.wbg.__wbg_queueMicrotask_48421b3cc9052b68=function(e){return g(w(e).queueMicrotask)},n.wbg.__wbindgen_cb_drop=function(e){const t=l(e).original;return t.cnt--==1?(t.a=0,!0):!1},n.wbg.__wbg_queueMicrotask_12a30234db4045d3=function(e){queueMicrotask(w(e))},n.wbg.__wbg_parquetchunk_new=function(e){return g(H.__wrap(e))},n.wbg.__wbg_parquetfile_new=function(e){return g(Be.__wrap(e))},n.wbg.__wbg_filemetadata_new=function(e){return g(z.__wrap(e))},n.wbg.__wbg_fieldmetadata_new=function(e){return g(V.__wrap(e))},n.wbg.__wbg_rowgroup_new=function(e){return g(te.__wrap(e))},n.wbg.__wbg_schemafield_unwrap=function(e){return v.__unwrap(l(e))},n.wbg.__wbg_columndescriptor_new=function(e){return g(Q.__wrap(e))},n.wbg.__wbg_pageencodingdescriptor_new=function(e){return g(Z.__wrap(e))},n.wbg.__wbindgen_closure_wrapper1827=function(e,t,r){return g(Le(e,t,163,Ve))},n}function Se(n,e){return _=n.exports,We.__wbindgen_wasm_module=e,I=null,M=null,O=null,q=null,T=null,_.__wbindgen_start(),_}function rt(n){if(_!==void 0)return _;n!==void 0&&(Object.getPrototypeOf(n)===Object.prototype?{module:n}=n:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const e=Ae();return n instanceof WebAssembly.Module||(n=new WebAssembly.Module(n)),Se(new WebAssembly.Instance(n,e),n)}async function We(n){if(_!==void 0)return _;n!==void 0&&(Object.getPrototypeOf(n)===Object.prototype?{module_or_path:n}=n:console.warn("using deprecated parameters for the initialization function; pass a single object instead"));const e=Ae();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:t,module:r}=await nt(await n,e);return Se(t,r)}const it=Object.freeze(Object.defineProperty({__proto__:null,ColumnDescriptor:Q,CompressMode:tt,FieldMetadata:V,FileMetadata:z,FileWriter:K,GeometryInfoDescriptor:k,GeometryType:j,MultiScaleInfo:x,PageBuilderBytes:A,PageBuilderF32:S,PageBuilderF64:W,PageBuilderGeometry:G,PageBuilderI32:E,PageBuilderI64:U,PageBuilderString:D,PageEncodingDescriptor:Z,ParquetChunk:H,ParquetFile:Be,QuantizedGeometry:ee,RangeProviderJs:C,RowGroup:te,SchemaField:v,default:We,enable_tracing:Ne,initSync:rt,readFile:He,readFileFromBinary:et,readMetadata:je,readMetadataFromFile:Ze},Symbol.toStringTag,{value:"Module"}));let ne=null;async function re(){return ne||(ne=ot()),ne}async function ot(){const n=await Promise.resolve().then(()=>it);return await n.default({module_or_path:Ue("esri/libs/parquet/pkg/arcgis_parquet_bg.wasm")}),n}const Ge=n=>async function(e,t,r){const i=n(),{data:o}=await Te(e,{responseType:"array-buffer",query:i,headers:{range:`bytes=${t}-${r}`}});return o},Ee=n=>async function(e){const t=n(),{data:r}=await Te(e,{responseType:"native",method:"head",query:t}),i=r.headers.get("Content-Length");if(i==null)throw new Error("Unable to parse content length");return parseInt(i,10)};class L{static async create(e,t){const r=await re(),i=await r.readMetadata(e,Ge(t),Ee(t));return L.fromFileMetadata(i)}static fromFileMetadata(e){const t=[];for(let r=0;r<e.numFields();r++){const i=e.getFieldByIndex(r);t.push({name:i.name,type:i.type,alias:i.name,index:i.index}),i.free()}return new L(e,t)}constructor(e,t){this._inner=e,this.fields=t}destroy(){this._inner.free()}[Symbol.dispose](){this.destroy()}get size(){return this._inner.numRows()}getFieldIndex(e){return this._inner.getFieldIndex(e)}tryReadGeoMetadata(){const e=this._inner.keyValueMetadata("geo");return e==null?null:JSON.parse(e)}tryReadEsriMetadata(){const e=this._inner.keyValueMetadata("esri");return e==null?null:JSON.parse(e)}}function at(n){switch(n){case"esriGeometryPoint":return j.Point;case"esriGeometryPolygon":return j.Polygon;case"esriGeometryPolyline":return j.Polyline;case"esriGeometryMultipoint":return j.Multipoint;default:throw new Error(`InternalError: Found unexpected GeometryType: ${n}`)}}function Pe(n,e,t){const r=k.new();if(r.geometryType=at(n.geometryType),n.type==="location")r.latIndex=e.getFieldIndex(n.latitudeFieldName),r.lngIndex=e.getFieldIndex(n.longitudeFieldName);else{if(n.primaryFieldName==null)throw new Error("InternalError: A primary field name or set of location fields must be defined");if(r.wkbIndex=e.getFieldIndex(n.primaryFieldName),n.multiscale){const i=x.new();for(const o of n.multiscale.levels){const[s,d]=o.transform.translate,[u,P]=o.transform.scale,_e=e.getFieldIndex(o.column);i.push(_e,s,d,u,P)}r.setMultiscaleInfo(i)}}return r.inWkid=n.spatialReference.wkid,t&&(r.outWkid=t.wkid),r}class ie{static async create(e,t){const r=await re(),i=Ge(t.getCustomParameters),o=Ee(t.getCustomParameters),s=await je(e,i,o),d=Pe(t.geometryInfo,s,t.outSpatialReference),u=await r.readFile(e,i,o,s,d);return new ie(u,L.fromFileMetadata(u.metadata()))}static async fromFile(e,t,r){const i=await re(),o=await i.readMetadataFromFile(e),s=t?Pe(t,o,r):void 0,d=await i.readFileFromBinary(s,e);return new ie(d,L.fromFileMetadata(d.metadata()))}constructor(e,t){this.inner=e,this.metadata=t}destroy(){this.inner.free(),this.metadata.destroy()}[Symbol.dispose](){this.destroy()}}export{ie as J};
