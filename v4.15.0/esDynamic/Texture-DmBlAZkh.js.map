{"version":3,"file":"Texture-DmBlAZkh.js","sources":["../../node_modules/@arcgis/core/libs/basisu/BasisUTranscoder.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BasisUtil.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/textureUtils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as s}from\"../../assets.js\";function i(){return t??=(async()=>{const i=await import(\"../../chunks/basis_transcoder.js\"),t=await i.default({locateFile:i=>s(`esri/libs/basisu/${i}`)});return t.initializeBasis(),t})(),t}let t;export{i as getBasisTranscoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getBasisTranscoder as e}from\"../../../../libs/basisu/BasisUTranscoder.js\";import{CompressedTextureFormat as t}from\"../../../webgl/enums.js\";import{Texture as n}from\"../../../webgl/Texture.js\";import{getFormatBytesPerElement as s}from\"../../../webgl/Util.js\";let r=null,i=null;async function a(){return null==i&&(i=e(),r=await i),i}function l(e,t){if(null==r)return e.byteLength;const n=new r.BasisFile(new Uint8Array(e)),s=u(n)?o(n.getNumLevels(0),n.getHasAlpha(),n.getImageWidth(0,0),n.getImageHeight(0,0),t):0;return n.close(),n.delete(),s}function g(e,t){if(null==r)return e.byteLength;const n=new r.KTX2File(new Uint8Array(e)),s=c(n)?o(n.getLevels(),n.getHasAlpha(),n.getWidth(),n.getHeight(),t):0;return n.close(),n.delete(),s}function o(e,n,r,i,a){const l=s(n?t.COMPRESSED_RGBA8_ETC2_EAC:t.COMPRESSED_RGB8_ETC2),g=a&&e>1?(4**e-1)/(3*4**(e-1)):1;return Math.ceil(r*i*l*g)}function u(e){return e.getNumImages()>=1&&!e.isUASTC()}function c(e){return e.getFaces()>=1&&e.isETC1S()}async function m(e,t,n){null==r&&(r=await a());const s=new r.BasisFile(new Uint8Array(n));if(!u(s))return null;s.startTranscoding();const i=h(e,t,s.getNumLevels(0),s.getHasAlpha(),s.getImageWidth(0,0),s.getImageHeight(0,0),(e,t)=>s.getImageTranscodedSizeInBytes(0,e,t),(e,t,n)=>s.transcodeImage(n,0,e,t,0,0));return s.close(),s.delete(),i}async function T(e,t,n){null==r&&(r=await a());const s=new r.KTX2File(new Uint8Array(n));if(!c(s))return null;s.startTranscoding();const i=h(e,t,s.getLevels(),s.getHasAlpha(),s.getWidth(),s.getHeight(),(e,t)=>s.getImageTranscodedSizeInBytes(e,0,0,t),(e,t,n)=>s.transcodeImage(n,e,0,0,t,0,-1,-1));return s.close(),s.delete(),i}function h(e,s,r,i,a,l,g,o){const{compressedTextureETC:u,compressedTextureS3TC:c}=e.capabilities,[m,T]=u?i?[1,t.COMPRESSED_RGBA8_ETC2_EAC]:[0,t.COMPRESSED_RGB8_ETC2]:c?i?[3,t.COMPRESSED_RGBA_S3TC_DXT5_EXT]:[2,t.COMPRESSED_RGB_S3TC_DXT1_EXT]:[13,6408],h=s.hasMipmap?r:Math.min(1,r),d=[];for(let t=0;t<h;t++)d.push(new Uint8Array(g(t,m))),o(t,m,d[t]);return s.internalFormat=T,s.hasMipmap=d.length>1,s.samplingMode=s.hasMipmap?9987:9729,s.width=a,s.height=l,new n(e,s,{type:\"compressed\",levels:d})}export{c as checkKTX2,m as createTextureBasis,T as createTextureKTX2,l as estimateMemoryBasis,g as estimateMemoryKTX2,a as loadBasisTranscoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Error.js\";const e=16;function n(t,n){return n=Math.floor(n/e)*e,Math.min(Math.round(t/e)*e,n)}function r(t,n){return n=Math.floor(n/e)*e,Math.min(Math.ceil(t/e)*e,n)}function o(t,e){const[n,r]=a(t,e);return t.width===n&&t.height===r?t:i(t,n,r)}function a({width:t,height:e},{maxPreferredTexturePixels:r,maxTextureSize:o}){const a=Math.max(t,e),i=t*e;if(a<=o&&i<=r)return[t,e];const h=Math.min(Math.sqrt(r/i),o/a);return[n(Math.round(t*h),o),n(Math.round(e*h),o)]}function i(t,e,n){if(t instanceof ImageData)return i(h(t),e,n);const r=document.createElement(\"canvas\");r.width=e,r.height=n;return r.getContext(\"2d\").drawImage(t,0,0,r.width,r.height),r}function h(e){const n=document.createElement(\"canvas\");n.width=e.width,n.height=e.height;const r=n.getContext(\"2d\");if(null==r)throw new t(\"texture:context-failed\",\"Failed to create 2d context from HTMLCanvasElement\");return r.putImageData(e,0,0),n}export{n as applyTextureResizeModulo,r as applyTextureResizeModuloCeil,o as ensureImageMaxSize,a as ensureTextureSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Error.js\";import{EventEmitter as t}from\"../../../../core/Evented.js\";import{disposeMaybe as r,removeMaybe as i}from\"../../../../core/maybe.js\";import{throwIfAborted as a,onAbort as s,createAbortError as o}from\"../../../../core/promiseUtils.js\";import{isUint8Array as n,isArrayBuffer as l,isTypedArray as m}from\"../../../../core/typedArrayUtil.js\";import{generateUID as h}from\"../../../../core/uid.js\";import{isBlobProtocol as p,isDataProtocol as d}from\"../../../../core/urlUtils.js\";import{whenVideoPlayable as _}from\"../../../../layers/support/videoUtils.js\";import{requestImage as u}from\"../../../../support/requestImageUtils.js\";import{loadImageAsync as c}from\"../../../../support/requestUtils.js\";import{createTextureKTX2 as g,createTextureBasis as T,estimateMemoryKTX2 as x,estimateMemoryBasis as y}from\"./BasisUtil.js\";import{createDDSTexture as f}from\"./DDSUtil.js\";import{ensureImageMaxSize as F}from\"./textureUtils.js\";import{assert as E}from\"./Util.js\";import{Texture as D}from\"../../../webgl/Texture.js\";import{TextureDescriptor as w}from\"../../../webgl/TextureDescriptor.js\";import{getFormatComponents as A}from\"../../../webgl/Util.js\";class M{constructor(e,r){this._data=e,this.id=h(),this.events=new t,this._parameters={...j,...r},this._startPreload(e)}dispose(){this.unload(),this._data=this.update=void 0}_startPreload(e){e instanceof HTMLVideoElement?(this.update=t=>this._update(e,t),this._startPreloadVideoElement(e)):e instanceof HTMLImageElement&&this._startPreloadImageElement(e)}_startPreloadVideoElement(e){if(!(p(e.src)||\"auto\"===e.preload&&e.crossOrigin)&&(e.preload=\"auto\",e.crossOrigin=\"anonymous\",e.src=e.src,e.paused&&e.autoplay)){const t=[];_(e,e=>t.push(e)).then(()=>{e.play()}).finally(()=>t.forEach(e=>e.remove()))}}_startPreloadImageElement(e){d(e.src)||p(e.src)||e.crossOrigin||(e.crossOrigin=\"anonymous\",e.src=e.src)}_createDescriptor(e){const t=new w;return t.wrapMode=this._parameters.wrap??10497,t.flipped=!this._parameters.noUnpackFlip,t.samplingMode=this._parameters.mipmap?9987:9729,t.hasMipmap=!!this._parameters.mipmap,t.preMultiplyAlpha=!!this._parameters.preMultiplyAlpha,t.maxAnisotropy=this._parameters.maxAnisotropy??(this._parameters.mipmap?e.parameters.maxMaxAnisotropy:1),t.dataType=this._parameters.dataType??t.dataType,t.pixelFormat=this._parameters.pixelFormat??t.pixelFormat,t.internalFormat=this._parameters.internalFormat??t.internalFormat,t}get glTexture(){return this._glTexture??this._emptyTexture}get loaded(){return null!=this._glTexture}get usedMemory(){return this._glTexture?.usedMemory||v(this._data,this._parameters)}load(e){if(this._loadingPromise)return this._loadingPromise;if(this._glTexture)return this._glTexture;const t=this._data;return null==t?(this._glTexture=new D(e,this._createDescriptor(e),null),this._glTexture):(this._emptyTexture=e.emptyTexture,this._parameters.reloadable||(this._data=void 0),\"string\"==typeof t?this._loadFromURL(e,t):t instanceof Image?this._loadFromImageElement(e,t):t instanceof HTMLVideoElement?this._loadFromVideoElement(e,t):t instanceof ImageData||t instanceof HTMLCanvasElement?this._loadFromImage(e,t):n(t)&&\"image/vnd-ms.dds\"===this._parameters.encoding?this._loadFromDDSData(e,t):l(t)&&\"image/vnd-ms.dds\"===this._parameters.encoding?this._loadFromDDSData(e,new Uint8Array(t)):(l(t)||n(t))&&\"image/ktx2\"===this._parameters.encoding?this._loadFromKTX2(e,t):(l(t)||n(t))&&\"image/x.basis\"===this._parameters.encoding?this._loadFromBasis(e,t):l(t)?this._loadFromPixelData(e,new Uint8Array(t)):m(t)?this._loadFromPixelData(e,t):null)}_update(e,t){return null==this._glTexture||e.readyState<HTMLMediaElement.HAVE_CURRENT_DATA||t===e.currentTime?t:(this._glTexture.setData(e),this._glTexture.descriptor.hasMipmap&&this._glTexture.generateMipmap(),this._parameters.updateCallback&&this._parameters.updateCallback(),e.currentTime)}_loadFromDDSData(e,t){return this._glTexture=f(e,this._createDescriptor(e),t),this._emptyTexture=null,this._glTexture}_loadFromKTX2(e,t){return this._loadAsync(()=>g(e,this._createDescriptor(e),t).then(e=>(this._glTexture=e,e)))}_loadFromBasis(e,t){return this._loadAsync(()=>T(e,this._createDescriptor(e),t).then(e=>(this._glTexture=e,e)))}_loadFromPixelData(e,t){E(this._parameters.width>0&&this._parameters.height>0);const r=this._createDescriptor(e);return 6407!==r.pixelFormat&&6408!==r.pixelFormat||(r.compress=this._parameters.compressionOptions),r.width=this._parameters.width??0,r.height=this._parameters.height??0,this._glTexture=new D(e,r,t),this._glTexture}_loadFromURL(e,t){return this._loadAsync(async r=>{const i=await u(t,{signal:r});return a(r),this._loadFromImage(e,i)})}_loadFromImageElement(e,t){return t.complete?this._loadFromImage(e,t):this._loadAsync(async r=>{const i=await c(t,t.src,!1,r);return a(r),this._loadFromImage(e,i)})}_loadFromVideoElement(e,t){return t.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA?this._loadFromImage(e,t):this._loadFromVideoElementAsync(e,t)}_loadFromVideoElementAsync(t,r){return this._loadAsync(a=>new Promise((n,l)=>{const m=()=>{r.removeEventListener(\"loadeddata\",h),r.removeEventListener(\"error\",p),i(d)},h=()=>{r.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA&&(m(),n(this._loadFromImage(t,r)))},p=t=>{m(),l(t||new e(\"texture:load-error\",\"Failed to load video\"))};r.addEventListener(\"loadeddata\",h),r.addEventListener(\"error\",p);const d=s(a,()=>p(o()))}))}_loadFromImage(e,t){let r=t;r instanceof HTMLVideoElement||(r=F(r,e.parameters));const i=U(r);this._parameters.width=i.width,this._parameters.height=i.height;const a=this._createDescriptor(e);return a.width=i.width,a.height=i.height,a.compress=this._parameters.compressionOptions,this._glTexture=new D(e,a,r),this._emptyTexture=null,this.events.emit(\"loaded\"),this._glTexture}_loadAsync(e){const t=new AbortController;this._loadingController=t;const r=e(t.signal);this._loadingPromise=r;const i=()=>{this._loadingController===t&&(this._loadingController=null),this._loadingPromise===r&&(this._loadingPromise=null),this._emptyTexture=null};return r.then(i,i),r}unload(){if(this._glTexture=r(this._glTexture),this._emptyTexture=null,null!=this._loadingController){const e=this._loadingController;this._loadingController=null,this._loadingPromise=null,e.abort()}this.events.emit(\"unloaded\")}get parameters(){return this._parameters}}function v(e,t){if(null==e)return 0;if(l(e)||n(e))return\"image/ktx2\"===t.encoding?x(e,!!t.mipmap):\"image/x.basis\"===t.encoding?y(e,!!t.mipmap):e.byteLength;const{width:r,height:i}=e instanceof Image||e instanceof ImageData||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement?U(e):t,a=t.pixelFormat??6408,s=A(a);return(t.mipmap?4/3:1)*r*i*s||0}function U(e){return e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e}const j={wrap:{s:10497,t:10497},mipmap:!0,noUnpackFlip:!1,preMultiplyAlpha:!1};export{M as Texture};\n"],"names":["i","t","s","r","a","e","l","n","u","o","g","c","m","h","T","d","M","j","p","_","w","v","D","f","E","F","U","x","y","A"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}