{"version":3,"file":"FeatureLayerView2D-30OQdxah.js","sources":["../../node_modules/@arcgis/core/layers/support/featurePopupQueryUtils.js","../../node_modules/@arcgis/core/AggregateGraphic.js","../../node_modules/@arcgis/core/TrackGraphic.js","../../node_modules/@arcgis/core/layers/effects/FeatureEffectView.js","../../node_modules/@arcgis/core/rest/support/AggregateFeatureSet.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/FeatureInstanceStore.js","../../node_modules/@arcgis/core/views/2d/layers/features/RenderState.js","../../node_modules/@arcgis/core/views/2d/layers/features/FeatureContainer.js","../../node_modules/@arcgis/core/views/2d/layers/features/FeaturePipelineWorkerProxy.js","../../node_modules/@arcgis/core/views/2d/layers/features/FeatureSourceEventLog.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/geometryUtils.js","../../node_modules/@arcgis/core/views/2d/layers/support/visualVariableSimpleUtils.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/labelingUtils.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/ExceedsLimitCache.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/SourceSchema.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/color.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/symbols/SymbolSchema.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/LabelMatcherSchema.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/MatcherSchema.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/SimpleProcessorSchema.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/CatalogFootprintLayerAdapter.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/featureServiceUtils.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/floorFilterUtils.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/FeatureLayerAdapter.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/InMemoryLayerAdapter.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/KnowledgeGraphSublayerAdapter.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/OGCFeatureLayerAdapter.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/OrientedImageryLayerAdapter.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/ParquetLayerAdapter.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/StreamLayerAdapter.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/SubtypeProcessorSchema.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/SubtypeGroupLayerAdapter.js","../../node_modules/@arcgis/core/views/2d/layers/support/DebouncedFeatureOverride.js","../../node_modules/@arcgis/core/views/2d/layers/support/handleNoEngineError.js","../../node_modules/@arcgis/core/views/2d/tiling/FeatureTileSubscriptionManager.js","../../node_modules/@arcgis/core/networks/support/networkFieldUtils.js","../../node_modules/@arcgis/core/views/layers/support/WhereClauseVisitor.js","../../node_modules/@arcgis/core/views/layers/FeatureLayerView.js","../../node_modules/@arcgis/core/views/2d/layers/FeatureLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{sqlAnd as e}from\"../../core/sql.js\";import{unpackFieldNames as t,featureHasFields as o}from\"./fieldUtils.js\";import{loadArcade as i}from\"../../support/loadArcade.js\";async function n(i,n,s,r){const u=new Array(n.length),l=new Map,c=new Map,a=t(i.fieldsIndex,s.outFields),d=!0===i.capabilities?.operations?.supportsQuery&&null!=i.queryFeatures,f=r?.hasRequiredFields??o;for(let e=0;e<n.length;e++){const t=n[e];if(d&&!t.isAggregate){if(s.returnGeometry||!f(t,a)){const o=t.getObjectId();if(null!=o){l.set(o,{graphic:t,index:e});continue}const i=t.getGlobalId();if(null!=i){c.set(i,{graphic:t,index:e});continue}}u[e]=t}else u[e]=t}if(!d||!i.queryFeatures||0===l.size&&0===c.size)return u.filter(Boolean);const p=[],y=(e,t)=>{t&&(e.outFields??=[],e.outFields.includes(t)||e.outFields.push(t))};if(l.size>0){const e=s.clone();y(e,i.objectIdField),\"uniqueIdFields\"in i&&i.uniqueIdFields?.length&&(e.outFields??=[],e.outFields.push(...i.uniqueIdFields)),e.objectIds=Array.from(l.keys()),p.push({type:\"object-id\",query:e,map:l})}const g=\"globalIdField\"in i?i.globalIdField:null;if(null!=g&&c.size>0){const t=s.clone();y(t,g);const o=Array.from(c.keys());t.where=e(s.where,`${g} IN (${o.map(e=>`'${e}'`).join(\",\")})`),p.push({type:\"global-id\",query:t,map:c})}const b=r?.updateSourceAttributes??!1;for(const{type:e,query:t,map:o}of p)try{const n=await i.queryFeatures(t,r);for(const t of n.features){const i=\"object-id\"===e?t.getObjectId():t.getGlobalId();if(null==i)continue;const n=o.get(i);if(!n)continue;const{graphic:s,index:r}=n;if(b&&t.attributes){s.attributes??={};for(const e of a)e in t.attributes&&(s.attributes[e]=t.attributes[e])}const{geometry:l,origin:c}=s;t.geometry||=l,t.origin=c,u[r]=t}}catch{}return u.filter(Boolean)}async function s(e){if(e.expressionInfos?.length||Array.isArray(e.content)&&e.content.some(e=>\"expression\"===e.type))return i()}export{n as fetchFeaturePopupFeatures,s as loadFeaturePopupArcadeModules};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import o from\"./Graphic.js\";import{property as e}from\"./core/accessorSupport/decorators/property.js\";import\"./core/has.js\";import\"./core/Logger.js\";import\"./core/RandomLCG.js\";import{subclass as t}from\"./core/accessorSupport/decorators/subclass.js\";let s=class extends o{constructor(){super(...arguments),this.isAggregate=!0,this.origin=null}getObjectId(){return this.attributes.aggregateId}};r([e({type:Boolean})],s.prototype,\"isAggregate\",void 0),r([e({clonable:\"reference\"})],s.prototype,\"origin\",void 0),s=r([t(\"esri.AggregateGraphic\")],s);const i=s;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import o from\"./Graphic.js\";import{property as e}from\"./core/accessorSupport/decorators/property.js\";import\"./core/has.js\";import\"./core/Logger.js\";import\"./core/RandomLCG.js\";import{subclass as t}from\"./core/accessorSupport/decorators/subclass.js\";let s=class extends o{constructor(){super(...arguments),this.isAggregate=!0,this.origin=null}getObjectId(){return this.attributes.aggregateId}};r([e({type:Boolean})],s.prototype,\"isAggregate\",void 0),r([e({clonable:\"reference\"})],s.prototype,\"origin\",void 0),s=r([t(\"esri.TrackGraphic\")],s);const i=s;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../core/Accessor.js\";import has from\"../../core/has.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as f}from\"../../core/accessorSupport/decorators/subclass.js\";import{EffectView as s}from\"./EffectView.js\";let c=class extends t{constructor(e){super(e),this._filter=null,this.duration=has(\"mapview-transitions-duration\"),this._excludedEffectView=new s(e),this._includedEffectView=new s(e)}get excludedEffects(){return this._excludedEffectView.effects}set featureEffect(e){this._get(\"featureEffect\")!==e&&this._transitionTo(e)}get filter(){return this._filter||this.featureEffect?.filter||null}get hasEffects(){return this._excludedEffectView.hasEffects||this._includedEffectView.hasEffects}get includedEffects(){return this._includedEffectView.effects}set scale(e){this._set(\"scale\",e),this._excludedEffectView.scale=e,this._includedEffectView.scale=e}get transitioning(){return this._excludedEffectView.transitioning||this._includedEffectView.transitioning}get transitioningToEmpty(){return!this._excludedEffectView.final&&!this._includedEffectView.final}transitionStep(e,t){this._set(\"scale\",t),this.transitioning?(this._includedEffectView.transitionStep(e,t),this._excludedEffectView.transitionStep(e,t),this.transitioning||(this._filter=null)):(this._excludedEffectView.scale=t,this._includedEffectView.scale=t)}endTransition(){this._includedEffectView.endTransition(),this._excludedEffectView.endTransition(),this._filter=null}_transitionTo(e){const t=this._get(\"featureEffect\"),i=e,f=i?.includedEffect,s=i?.excludedEffect,c=this._includedEffectView.canTransitionTo(f)&&this._excludedEffectView.canTransitionTo(s);this._includedEffectView.effect=f,this._excludedEffectView.effect=s,this._set(\"featureEffect\",i),this._filter=i?.filter||t?.filter||null,c||this.endTransition()}};e([i()],c.prototype,\"_filter\",void 0),e([i()],c.prototype,\"_excludedEffectView\",void 0),e([i()],c.prototype,\"_includedEffectView\",void 0),e([i()],c.prototype,\"duration\",void 0),e([i()],c.prototype,\"excludedEffects\",null),e([i()],c.prototype,\"featureEffect\",null),e([i()],c.prototype,\"filter\",null),e([i()],c.prototype,\"hasEffects\",null),e([i()],c.prototype,\"includedEffects\",null),e([i({value:0})],c.prototype,\"scale\",null),e([i()],c.prototype,\"transitioning\",null),e([i()],c.prototype,\"transitioningToEmpty\",null),c=e([f(\"esri.layers.effects.FeatureEffectView\")],c);export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import r from\"../../AggregateGraphic.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import a from\"../../geometry/SpatialReference.js\";import p from\"./FeatureSet.js\";let c=class extends p{constructor(){super(...arguments),this.features=[]}readFeatures(e,t){const o=a.fromJSON(t.spatialReference),s=[];for(let a=0;a<e.length;a++){const t=e[a],p=r.fromJSON(t),c=t.geometry?.spatialReference;null==p.geometry||c||(p.geometry.spatialReference=o);const i=t.aggregateGeometries,m=p.aggregateGeometries;if(i&&null!=m)for(const e in m){const r=m[e],t=i[e],s=t?.spatialReference;null==r||s||(r.spatialReference=o)}s.push(p)}return s}};e([t({type:[r],json:{write:!0}})],c.prototype,\"features\",void 0),e([o(\"features\")],c.prototype,\"readFeatures\",null),c=e([s(\"esri.rest.support.AggregateFeatureSet\")],c);export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{numericHash as t}from\"../../../../../../core/string.js\";import{FeatureTechniqueInstance as e}from\"./TechniqueInstance.js\";import{castInstanceId as s}from\"./mesh/instanceIdUtils.js\";class n{constructor(){this._instanceById=new Map}destroy(){this._instanceById.clear()}get size(){return this._instanceById.size}entries(){return this._instanceById.entries()}find(t){for(const e of this.values())if(e.techniqueRef.type===t)return e;return null}updateStart(t){t&&(this._instanceByIdNext=new Map,this._shaderCountByMesh=new Map,this._shaderIndices=new Map)}updateEnd(t){if(t){if(!this._instanceByIdNext)throw new Error(\"InternalError: Found updateEnd call without corresponding updateStart\");for(const t of this._instanceById.keys())this._instanceByIdNext.has(t)||this._instanceById.delete(t);for(const[t,e]of this._instanceByIdNext.entries()){const s=this._instanceById.get(t);s?s.setInput(e.getInput()):this._instanceById.set(t,e)}this._instanceByIdNext=null,this._shaderCountByMesh=null,this._shaderIndices=null}}values(){return this._instanceById.values()}ensureInstance(n,i){let r;if(\"object\"==typeof i&&\"optionalAttributes\"in i&&\"uniforms\"in i){const t=`${n.type}.${JSON.stringify(i.optionalAttributes)}`,e=t+`.${JSON.stringify(i.uniforms)}`;let s=0;null!=this._instanceByIdNext&&(this._shaderIndices.has(e)?s=this._shaderIndices.get(e):(s=this._shaderCountByMesh.get(t)??0,this._shaderCountByMesh.set(t,s+1),this._shaderIndices.set(e,s))),r=t+`.${s}`}else r=`${n.type}.${JSON.stringify(i)}`;const a=t(r);if(this._instanceByIdNext){const t=new e(s(a),n,i);return this._instanceByIdNext.set(a,t),t}if(!this._instanceById.has(a)){const t=new e(s(a),n,i);this._instanceById.set(a,t)}return this._instanceById.get(a)}getInstance(t){const e=this._instanceById.get(t);if(null==e)throw new Error(`InternalError: Unable to get instance for ${t}`);return e}}export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/CircularArray.js\";import t from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import i from\"../../../../core/Logger.js\";import{create as s}from\"../../../../geometry/support/aaBoundingRect.js\";import\"../../tiling/TileInfoView.js\";import n from\"../../tiling/TileKey.js\";import\"../../tiling/TileQueue.js\";import\"../../tiling/TileStrategy.js\";import{FeatureTile as r}from\"../../engine/webgl/FeatureTile.js\";const o=1e3;class d{constructor(t,i,s,n,r,d){this.getStage=t,this.getSubscriptionVersion=i,this.version=s,this._fader=n,this._container=r,this._tileInfoView=d,this._pendingUpdates=new e(o),this._locked=!1,this._tiles=new Map}destroy(){for(const e of this.tiles())this._fader.unregisterFeatureTile(e),e.destroy();this._pendingUpdates.clear(),this._tiles.clear(),this._container=null,this._fader=null}tiles(){return this._tiles.values()}size(){return this._tiles.size}get usedMemory(){let e=0;for(const t of this._tiles.values())e+=t.usedMemory;for(const t of this._pendingUpdates.entries)t&&(e+=l(t.inner));return e}getTile(e){return this._tiles.get(e)}setTiles(e){this._tiles.clear();for(const t of e)this._tiles.set(t.key.id,t)}lockUploads(){this._locked=!0}unlockUploads(){this._locked=!1,this.flush()}enqueueUpdate(e){this._pendingUpdates.enqueue(e)}update(e){if(!this._locked)for(;this._pendingUpdates.size;){const t=this._pendingUpdates.peek();if(null==t||t.inner.attributeEpoch>e)break;this._updateTile(t),this._pendingUpdates.dequeue()}}removeTile(e){const t=this._tiles.get(e);has(\"esri-2d-update-debug\")&&console.debug(`Tile[${e}] RenderState.removeTile`),t&&(this._fader.unregisterFeatureTile(t),t.destroy()),this._tiles.delete(e)}isTileDone(e){const t=this._tiles.get(e.id);return!!t&&(t.isReady&&t.decluttered)}flush(){for(;this._pendingUpdates.size;){const e=this._pendingUpdates.dequeue();null!=e&&this._updateTile(e)}for(const e of this._tiles.values())e.upload()}_updateTile(e){const{inner:t,objectIdMap:i}=e,s=this.getSubscriptionVersion(t.id);if(s!==t.subscriptionVesrion){if(has(\"esri-2d-update-debug\")){const e=`${t.subscriptionVesrion} != ${s}`;console.debug(`Version[${e}] Tile[${t.id}] FeatureContainer - Dropping message, outdated version]`,t)}return}if(has(\"esri-2d-update-debug\")){const e=t.debugInfo?.chunkId??\"<EnsureEnd>\";console.debug(`Version[${t.version}] Tile[${t.id}] Chunk[${e}] RenderState.updateTile [${t.type}]`,t)}const n=this._ensureTile(t.id);if(\"update\"===t.type){const[e,...s]=t.modify;n.onMessage({type:\"update\",modify:e,remove:t.remove,end:t.end,attributeEpoch:t.attributeEpoch,objectIdMap:i});for(const n of s){const e=this._tiles.get(n.tileId);e&&e.onMessage({type:\"update\",modify:n,remove:t.remove,end:!1,isPixelBuffer:!0,attributeEpoch:null,objectIdMap:i})}return}if(null==t.append)return void n.onMessage({type:\"append\",clear:t.clear,debugInfo:t.debugInfo,end:t.end,attributeEpoch:t.attributeEpoch,objectIdMap:i});const[r,...o]=t.append;n.onMessage({type:\"append\",clear:t.clear,append:r,debugInfo:t.debugInfo,end:t.end,attributeEpoch:t.attributeEpoch,objectIdMap:i});for(const d of o){const e=this._tiles.get(d.tileId);e&&e.onMessage({type:\"update\",modify:d,remove:[],sort:!1,end:!1,isPixelBuffer:!0,attributeEpoch:null,objectIdMap:i})}}_ensureTile(e){if(!this._tiles.has(e)){const t=this._createTile(e);this._copyPixelBufferedEntitiesInto(t),this._tiles.set(e,t)}return this._tiles.get(e)}_createTile(e){has(\"esri-2d-update-debug\")&&console.debug(`Version[${this.version}] Tile[${e}] RenderState.createTile`);const o=new n(e),d=this._tileInfoView.getTileBounds(s(),o),l=d[0],a=d[3],u=this._tileInfoView.getTileResolution(o.level),p=this._container.instanceStore.find(18)?.instanceId,c=new r(o,u,l,a,this._fader,p,!0);if(this._fader.registerFeatureTile(c),c.stage=this.getStage(),!c.stage){const e=new t(\"featurelayerview:webgl\",\"Cannot create tile with empty stage\");i.getLogger(\"esri.views.2d.layers.features.RenderState\").error(e)}return c}_copyPixelBufferedEntitiesInto(e){let t=7;const i=this._tileInfoView.getLODInfoAt(e.key);for(let s=-1;s<=1;s++)for(let n=-1;n<=1;n++){if(0===s&&0===n)continue;const r=e.key.getNormalizedNeighbor(n,s,i).id,o=this._tiles.get(r);if(null!=o){const i=1<<t;e.copyPixelBufferedEntitesFrom(o,i,n,s)}t--}}}function l(e){switch(e.type){case\"update\":return e.modify.reduce((e,t)=>e+a(t),0);case\"append\":return e.append?e.append.reduce((e,t)=>e+a(t),0):0}}function a(e){return e.entities.byteLength+e.data.reduce((e,t)=>e+u(t),0)}function u(e){return e.indices.byteLength+e.vertices.byteLength+(e.metrics?.byteLength??0)}export{d as RenderState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{destroyMaybe as e}from\"../../../../core/maybe.js\";import{throwIfAborted as t,createResolver as s}from\"../../../../core/promiseUtils.js\";import{UpdatingHandles as r}from\"../../../../core/support/UpdatingHandles.js\";import{AFeatureContainer as i}from\"../../engine/AFeatureContainer.js\";import n from\"../../engine/webgl/shaderGraph/techniques/FeatureInstanceStore.js\";import{Techniques as a}from\"../../engine/webgl/shaderGraph/techniques/TechniqueRegistry.js\";import{RenderState as o}from\"./RenderState.js\";import{renderHighlight as h}from\"../support/util.js\";class d{constructor(e,t){this.id=e,this.version=t,this._resolver=s(),this._done=!1}get done(){return this._done}get promise(){return this._resolver.promise}end(){this._resolver.resolve(),this._done=!0}destroy(){this._resolver.reject()}}class l extends i{constructor(e){super(e.view.featuresTilingScheme),this.updatingHandles=new r,this._hitTestsRequests=[],this._store=new n,this._visibleTiles=new Set,this._subscriptions=new Map,this._updateStatisticsRequests=[],this._lockStatisticUpdates=!1,this._shouldUnlockAttributeView=!1,this._layerView=e,this.addTransitionable(this._layerView.featureEffectView)}destroy(){this.updatingHandles.destroy(),super.destroy(),this._renderState=e(this._renderState),this._renderStateNext=e(this._renderStateNext)}renderChildren(e){if(this._updateAttributeView(),this._renderState?.update(this.attributeView.currentEpoch),this._layerView.requestUpdate(),this._renderState){const e=Array.from(this._renderState.tiles()).filter(e=>e.needsUpload);if(e.length){e[Math.floor(Math.random()*e.length)].upload(),e.length>=2&&this.requestRender()}for(const t of this._renderState.tiles())t.tryReady(this.attributeView.currentEpoch)&&(this._subscriptions.get(t.key.id)?.end(),this._layerView.requestUpdate(),this.hasLabels&&this._layerView.view.labelManager.requestUpdate(),this._layerView.view.labelManager.symbolFader.restartDeclutter(),this.requestRender())}const t=this._layerView.subscriptionManager.updateVisibility();this.setVisibleTiles(t);for(const s of this.children)s.setTransform(e.state);switch(super.renderChildren(e),e.drawPhase){case 1:return this._renderMapPhase(e);case 16:return this._renderHighlightPhase(e);case 2:return this._renderLabelPhase(e)}}subscriptions(){return this._subscriptions.values()}get hasLabels(){return this._layerView.labelingCollisionInfos.length>0}get hasHighlight(){return this._layerView.hasHighlight}get children(){return this._renderState?Array.from(this._renderState.tiles()).filter(e=>this._visibleTiles.has(e.key.id)):[]}get usedMemory(){let e=0;return this._renderState&&(e+=this._renderState.usedMemory),this._renderStateNext&&(e+=this._renderStateNext.usedMemory),e+=this.attributeView.usedMemory,e}get instanceStore(){return this._store}get layerView(){return this._layerView}get tiles(){return this._renderState?.tiles()}get _instanceStore(){return this._store}get _layer(){return this._layerView.layer}_getHeatmapInstance(e){if(null==this._instanceStore||!(e.drawPhase&a.heatmap.drawPhase))return null;for(const t of this._instanceStore.values())if(u(t))return t;return null}updateAttributeView(e){this.requestRender(),this.attributeView.requestUpdate(e),this.hasLabels&&(this._layerView.view.labelManager.requestUpdate(),this._layerView.view.labelManager.symbolFader.restartDeclutter())}updateSubscriptions(e){for(const{tileId:t,version:s}of e.subscribe){if(!this._subscriptions.has(t)){const e=new d(t,s);this._subscriptions.set(t,e),this.updatingHandles.addPromise(e.promise);continue}this._subscriptions.get(t).version=s}for(const t of e.unsubscribe){const e=this._subscriptions.get(t);e?.destroy(),this._subscriptions.delete(t),this.removeTile(t)}}isDone(e){return!!this._renderState&&this._renderState.isTileDone(e)}async updateRenderState(e){has(\"esri-2d-update-debug\")&&console.debug(`Version[${e}] FeatureContainer.updateRenderState`),this._renderStateNext=new o(()=>this._stage,e=>this._subscriptions.get(e)?.version,e,this.layerView.view.labelManager.symbolFader,this,this.tileInfoView)}getDisplayStatistics(e,t){const s=this._statisticsByLevel.get(e);return s?s.get(t):null}updateStatistics(e,t){if(this._lockStatisticUpdates)return void this._updateStatisticsRequests.push({level:e,statistics:t});let s=this._statisticsByLevel.get(e);s||(s=new Map,this._statisticsByLevel.set(e,s));for(const r of t)s.set(r.fieldName,{minValue:r.minValue,maxValue:r.maxValue})}lockForOverrides(){this._renderState?.lockUploads(),this._lockStatisticUpdates=!0,this.attributeView.locked||(this.attributeView.lockTextureUploads(),this._shouldUnlockAttributeView=!0)}unlockForOverrides(){this._renderState?.unlockUploads(),this._shouldUnlockAttributeView&&(this.attributeView.unlockTextureUploads(),this._shouldUnlockAttributeView=!1),this._lockStatisticUpdates=!1;for(const e of this._updateStatisticsRequests)this.updateStatistics(e.level,e.statistics);this._updateStatisticsRequests=[],this._renderState?.flush(),this.requestRender()}trySwapRenderState(){if(this._renderStateNext){has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._renderStateNext.version}] FeatureContainer.update.swapRenderState`);const e=new Map;for(const t of this._renderState?.tiles()||[])e.set(t.id,t.metricsVisibility);this._renderState?.destroy(),this._renderState=this._renderStateNext,this._renderState.flush();for(const t of this._renderState.tiles())t.copyMetricsVisibility(e.get(t.id)||new Set);this._renderStateNext=null}this.requestRender()}setVisibleTiles(e){this._visibleTiles=e;for(const t of this.tiles??[])t.rendering=e.has(t.key.id)}async onMessage(e,s){t(s);const r=e.inner;if(!this._subscriptions.has(r.id))return;const i=this._subscriptions.get(r.id);if(i.version!==r.subscriptionVesrion){if(has(\"esri-2d-update-debug\")){const e=`${r.subscriptionVesrion} != ${i.version}`;console.debug(`Version[${e}] Tile[${r.id}] FeatureContainer - Dropping message, outdated version]`,r)}return}const n=this._renderStateNext??this._renderState;if(!n)throw new Error(\"InternalError: No renderState defined\");n.version!==r.version&&console.error(`InternalError: Version mismatch. [renderState: ${n.version}, message: ${r.version}]`),n.enqueueUpdate(e),this.requestRender(),this._layerView.view.labelManager.requestUpdate(),this._layerView.requestUpdate()}removeTile(e){(this._renderState||this._renderStateNext)&&(this._renderState&&this._renderState.removeTile(e),this._renderStateNext&&this._renderStateNext.removeTile(e))}hitTest(e){let t=this._hitTestsRequests.find(({x:t,y:s})=>t===e.x&&s===e.y);const r=s();return t?t.resolvers.push(r):(t={x:e.x,y:e.y,resolvers:[r]},this._hitTestsRequests.push(t)),this.requestRender(),r.promise}getSortKeys(e){const t=new Set(e),s=new Map;for(const r of this.children)if(r.getSortKeys(t).forEach((e,t)=>s.set(t,e)),s.size===t.size)break;return s}get hasAnimation(){return this.hasLabels}doRender(e){const{minScale:t,maxScale:s}=this._layer.effectiveScaleRange,r=e.state.scale;r<=(t||1/0)&&r>=s&&super.doRender(e)}afterRender(e){super.afterRender(e),this._hitTestsRequests.length&&this.requestRender()}setStencilReference(e){if(null==this._getHeatmapInstance(e))super.setStencilReference(e);else for(const t of this.children)t.stencilRef=a.heatmap.getStencilReference(t)}_renderMapPhase(e){this._layerView.featureEffectView.hasEffects?(this._renderOutsideEffect(e),this._renderInsideEffect(e)):this._renderFeatures(e,0),this._hitTestsRequests.length>0&&this._renderHittest(e)}_renderHighlightPhase(e){this.hasHighlight&&h(e,!1,e=>{this._renderFeatures(e,1)})}_renderLabelPhase(e){this._renderFeatures(e,0)}_renderInsideEffect(e){const t=e.painter.effects.insideEffect;t.bind(e),this._renderFeatures(e,2),t.draw(e,this._layerView.featureEffectView.includedEffects),t.unbind()}_renderOutsideEffect(e){const t=e.painter.effects.outsideEffect;t.bind(e),this._renderFeatures(e,3),t.draw(e,this._layerView.featureEffectView.excludedEffects),t.unbind()}_renderHittest(e){const{context:t}=e,s=e.painter.effects.hittest,r=t.getBoundFramebufferObject(),i=t.getViewport(),n=e.passOptions,a=e.drawPhase;s.bind(e),e.passOptions=s.createOptions(e,this._hitTestsRequests),e.drawPhase=8;const{distance:o,smallSymbolDistance:h}=e.passOptions,d=Math.max(o,h);for(const l of this.children)l.visible&&l.containsScreenPoint(e.state,e.passOptions.position,2*d)&&this._renderTile(l,e,0);s.draw(e),s.unbind(),t.bindFramebuffer(r),t.restoreViewport(i),e.passOptions=n,e.drawPhase=a}_renderFeatures(e,t){const s=this._getHeatmapInstance(e);null!=s?this._renderHeatmapFeatures(e,t,s):this._renderGeometryFeatures(e,t)}_renderGeometryFeatures(e,t){for(const s of this.children)s.visible&&this._renderTile(s,e,t)}_renderHeatmapFeatures(e,t,s){for(const r of this.children)r.visible&&this._renderTile(r,e,t,17);s.techniqueRef.renderResolvePass(e,s)}_renderTile(e,t,s,r){const i=has(\"featurelayer-strict-draw-order\")?1:has(\"featurelayer-force-marker-text-draw-order\")?2:0,n=e.getDisplayList(this._instanceStore,i);t.selection=s,n?.render(t,r)}}function u(e){return 17===e.techniqueRef.type}export{l as FeatureContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{open as e}from\"../../../../core/workers/workers.js\";async function t(t){const o=await e(\"FeaturePipelineWorker\",{client:t,strategy:\"dedicated\"});return new n(o)}class n{constructor(e){this._connection=e,this.pipeline=this._connection.createInvokeProxy(),this.features=this._connection.createInvokeProxy(\"features\"),this.aggregates=this._connection.createInvokeProxy(\"aggregates\"),this.streamMessenger=this._connection.createInvokeProxy(\"streamMessenger\")}destroy(){this._connection.destroy()}get closed(){return this._connection.closed}}export{n as FeaturePipelineWorkerProxy,t as createFeaturePipelineWorkerProxy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../../core/Accessor.js\";import s from\"../../../../core/CircularArray.js\";import{EventEmitter as r}from\"../../../../core/Evented.js\";import i from\"../../../../core/Logger.js\";import o from\"../../../../core/ReactiveMap.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";const l=10;let u=class extends e{constructor(){super(...arguments),this.events=new r,this._updatingStrategy=!0,this._tileToEvent=new o,this._fetchStatus={outstanding:0,done:0},this._pipelineStatistics={type:\"performance\",usedMemory:0}}get hasAllData(){return!this._updatingStrategy&&this._hasAllTileData()}get pipelineStatistics(){return this._pipelineStatistics}get willQueryAllFeatures(){return this._strategyInfo?.willQueryAllFeatures??!1}get willQueryFullResolutionGeometry(){return this._strategyInfo?.willQueryAllFeatures??!1}onEvent(t){switch(t.type){case\"subscribe\":case\"unsubscribe\":case\"loaded\":case\"error\":this._handleTileEvent(t);break;case\"updateStrategyStart\":this._updatingStrategy=!0,this._fetchStatus={done:0,outstanding:0},this._strategyInfo=t.about;break;case\"updateStrategyEnd\":this._updatingStrategy=!1;break;case\"updateFieldsStart\":this._fetchStatus={done:0,outstanding:0};break;case\"updateFieldsEnd\":break;case\"updateFieldsError\":this.events.emit(\"error\",t);break;case\"fetchStart\":this._fetchStatus.outstanding+=1,this.events.emit(\"status\",this._fetchStatus);break;case\"fetchEnd\":this._fetchStatus.done+=1,this.events.emit(\"status\",this._fetchStatus),t.done&&(this._fetchStatus={done:0,outstanding:0});break;case\"performance\":this._pipelineStatistics=t}}_hasAllTileData(){for(const t of this._tileToEvent.values()){const e=t.peekLast();if(\"loaded\"!==e?.type)return!1}return!0}_handleTileEvent(t){switch(t.type){case\"subscribe\":{const e=new s(l);e.enqueue(t),this._tileToEvent.set(t.tile,e);break}case\"unsubscribe\":this._tileToEvent.delete(t.tile);break;case\"loaded\":{const e=this._tileToEvent.get(t.tile);if(!e)return;e.enqueue(t),this._tileToEvent.set(t.tile,e);break}case\"error\":{const e=this._tileToEvent.get(t.tile);if(!e)return;e.enqueue(t),this._tileToEvent.set(t.tile,e),this.events.emit(\"error\",t),i.getLogger(this).error(`Failed to load tile ${t.tile}.`,{error:t.error});break}}}};t([a({readOnly:!0})],u.prototype,\"hasAllData\",null),t([a()],u.prototype,\"pipelineStatistics\",null),t([a()],u.prototype,\"willQueryAllFeatures\",null),t([a()],u.prototype,\"willQueryFullResolutionGeometry\",null),t([a()],u.prototype,\"_updatingStrategy\",void 0),t([a()],u.prototype,\"_strategyInfo\",void 0),t([a()],u.prototype,\"_tileToEvent\",void 0),t([a()],u.prototype,\"_pipelineStatistics\",void 0),u=t([n(\"esri.views.2d.layers.features.FeatureSourceEventLog\")],u);export{u as FeatureSourceEventLog};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction e(e){switch(e.geometryType){case\"point\":return\"esriGeometryPoint\";case\"polyline\":return\"esriGeometryPolyline\";case\"mesh\":case\"polygon\":return\"esriGeometryPolygon\";case\"multipatch\":return\"esriGeometryMultiPatch\";case\"multipoint\":return\"esriGeometryMultipoint\";default:return null}}export{e as getServiceGeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{meterIn as n}from\"../../../../renderers/support/lengthUtils.js\";const e=Math.PI;function r(t,n){switch(n.transformationType){case\"additive\":return a(t,n);case\"constant\":return s(n,t);case\"clamped-linear\":return u(t,n);case\"proportional\":return o(t,n);case\"stops\":return c(t,n);case\"real-world-size\":return l(t,n);case\"identity\":return t;case\"unknown\":return null}}function i(t,n){return\"number\"==typeof t?t:r(n,t)}function a(t,n){return t+(i(n.minSize,t)||n.minDataValue)}function s(t,n){const e=t.stops;let r=e?.length&&e[0].size;return null==r&&(r=t.minSize),i(r,n)}function u(t,n){const e=n.minDataValue,r=n.maxDataValue,a=(t-e)/(r-e),s=i(n.minSize,t),u=i(n.maxSize,t);return t<=e?s:t>=r?u:s+a*(u-s)}function o(n,e){const r=n/e.minDataValue,a=i(e.minSize,n),s=i(e.maxSize,n);let u=null;return u=r*a,t(u,a,s)}function c(t,n){const[e,r,a]=m(t,n.cache.ipData);if(e===r)return i(n.stops[e].size,t);{const s=i(n.stops[e].size,t);return s+(i(n.stops[r].size,t)-s)*a}}function l(t,r){const i=n[r.valueUnit],{valueRepresentation:a}=r;let s=null;return s=\"area\"===a?2*Math.sqrt(t/e)/i:\"radius\"===a||\"distance\"===a?2*t/i:t/i,s}function m(t,n){if(!n)return;let e=0,r=n.length-1;return n.some((n,i)=>t<n?(r=i,!0):(e=i,!1)),[e,r,(t-n[e])/(n[r]-n[e])]}export{r as getSizeForValueSimple};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{pt2px as n}from\"../../../../../core/screenUtils.js\";import{getEffectiveFeatureReduction as e}from\"./featureReductionUtils.js\";import{getSizeForValueSimple as i}from\"../../support/visualVariableSimpleUtils.js\";function l(n){return(n.labelsVisible&&n.labelingInfo?.every(n=>\"none\"!==n.deconflictionStrategy))??!1}function r(n,i){const l=e(n,i);if(l?.labelsVisible&&l.labelingInfo?.length)return l.labelingInfo.every(n=>\"none\"!==n.deconflictionStrategy)}function t(e){return l=>n(i(l,e))}function o(n){const e=null!=n&&\"visualVariables\"in n&&n.visualVariables;if(!e)return null;for(const i of e)if(\"size\"===i.type)return t(i);return null}export{o as createLabelVVEvaluator,r as getFeatureReductionDeconflictionEnabled,l as getLayerDeconflictionEnabled};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{executeQuery as t,executeQueryForCount as e}from\"../../../../../rest/query/operations/query.js\";import r from\"../../../../../rest/support/StatisticDefinition.js\";import{FeatureSourceQueryInfo as a}from\"../sources/FeatureSourceQueryInfo.js\";import{FeatureMetadata as o}from\"../support/FeatureMetadata.js\";class s{constructor(){this._cache=new Map}async executeExceedsLimitQuery(t,e,r){const s=o.createFeature(t.metadata),i=a.create(t,e,s).createQuery();i.inner.orderByFields=[],i.inner.returnGeometry=!1,i.inner.cacheHint=!0;const c=\"esriGeometryPoint\"!==t.metadata.geometryType,u=JSON.stringify({source:t.source,query:i.inner.toJSON(),customParameters:i.customParameters,snapshotInfo:r,isPoints:c});let m=this._cache.get(u);return null==m&&(m=await n(t.source,c,i,r),this._cache.set(u,m)),m}}async function n(e,a,o,s){if(!s.supportsExceedsLimit)return i(e,a,o,s);try{const a=o.inner.clone(),n=new r;n.statisticType=\"exceedslimit\",n.maxPointCount=s.maxFeatureCount,n.maxRecordCount=s.maxFeatureCount,n.outStatisticFieldName=\"exceedslimit\",s.maxVertexCount&&(n.maxVertexCount=s.maxVertexCount),a.outStatistics=[n];const i=await t(e,a,void 0,{query:o.customParameters}),c=i.data.features[0]?.attributes.exceedslimit;return!(0===c)}catch(n){return i(e,a,o,s)}}async function i(t,r,a,o){if(r)return!0;const s=a.inner.clone();try{return(await e(t,s,{query:a.customParameters})).data.count>o.maxFeatureCount}catch(n){return!0}}export{s as ExceedsLimitCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../core/has.js\";async function e(e,r,i){return{type:\"feature\",service:e,strategy:await t(e,i,r,i.cache)}}async function t(e,t,r,i){const s=t.customParameters??{};t.apiKey&&(s.apiKey=t.apiKey);const n=t.displayFilterEnabled?t.displayFilterInfo?.toJSON():null,o=t.historicMoment?.getTime(),a=t.timeExtent?.toJSON(),l={...t,displayFilterInfo:n,customParameters:s,historicMoment:o,timeExtent:a};if(\"feature-service\"===e.type&&null!=r&&!await i.executeExceedsLimitQuery(e,l,r))return{type:\"snapshot\",snapshotInfo:r,partial:{availableFields:t.availableFields},full:{displayFilterInfo:null,queryScaleRanges:null,sourceRefreshVersion:t.sourceRefreshVersion,definitionExpression:t.definitionExpression,customParameters:t.customParameters,gdbVersion:t.gdbVersion,historicMoment:o,timeExtent:a}};return\"feature-service\"===e.type&&e.isSourceHosted||\"memory\"===e.type||\"ogc\"===e.type?{type:\"paged-tile\",partial:{availableFields:t.availableFields},full:{sourceRefreshVersion:t.sourceRefreshVersion,definitionExpression:t.definitionExpression,customParameters:t.customParameters,gdbVersion:t.gdbVersion,historicMoment:o,queryScaleRanges:t.queryScaleRanges,timeExtent:a,displayFilterInfo:n}}:{type:\"drill-down\",partial:{availableFields:t.availableFields},full:{sourceRefreshVersion:t.sourceRefreshVersion,definitionExpression:t.definitionExpression,customParameters:t.customParameters,gdbVersion:t.gdbVersion,historicMoment:o,queryScaleRanges:t.queryScaleRanges,timeExtent:a,displayFilterInfo:n}}}function r(e,t,r,a,l,u){const c=o(a);if(!(!!has(\"featurelayer-snapshot-enabled\")&&r?.query.supportsPagination&&!r?.operations.supportsEditing&&!t))return null;const m=n(l,u),{min:p,max:y}=c,h=m?y:p,d=s(a);let f=has(\"featurelayer-snapshot-initial-tolerance\");return\"esriGeometryPoint\"!==a&&\"esriGeometryMultipoint\"!==a||(f=null),{supportsExceedsLimit:i(e,r),initialTolerance:f,maxFeatureCount:h,maxVertexCount:d}}function i(e,t){return!(!e&&!has(\"featurelayer-snapshot-non-hosted-exceedslimit-enabled\"))&&t?.operations.supportsExceedsLimitStatistics}function s(e){switch(e){case\"esriGeometryPoint\":case\"esriGeometryPolyline\":case\"esriGeometryPolygon\":case\"esriGeometryMultiPatch\":case\"esriGeometryMultipoint\":return has(\"featurelayer-snapshot-max-vertex-count\")}}function n(e,t){const r=t?.clone().intersection(e),i=null!=r?r.width*r.height:0,s=t?t.width*t.height:0,n=0===s?0:i/s,o=has(\"featurelayer-snapshot-coverage\");return!isNaN(n)&&n>=o}function o(e){switch(e){case\"esriGeometryMultipoint\":return{min:has(\"featurelayer-snapshot-multipoint-min-threshold\"),max:has(\"featurelayer-snapshot-multipoint-max-threshold\")};case\"esriGeometryPoint\":return{min:has(\"featurelayer-snapshot-point-min-threshold\"),max:has(\"featurelayer-snapshot-point-max-threshold\")};case\"esriGeometryMultiPatch\":case\"esriGeometryPolygon\":return{min:has(\"featurelayer-snapshot-polygon-min-threshold\"),max:has(\"featurelayer-snapshot-polygon-max-threshold\")};case\"esriGeometryPolyline\":return{min:has(\"featurelayer-snapshot-polyline-min-threshold\"),max:has(\"featurelayer-snapshot-polyline-max-threshold\")}}}export{e as createFeatureSourceSchema,r as createSnapshotInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{i8888to32 as n}from\"./number.js\";function r(n,r=0,t=!1){const o=n[r+3];return n[r]*=o,n[r+1]*=o,n[r+2]*=o,t||(n[r+3]*=255),n}function t(r){if(!r)return 0;const{r:t,g:o,b:u,a:i}=r;return n(t*i,o*i,u*i,255*i)}function o(r){if(!r)return 0;const[t,o,u,i]=r;return n(t*(i/255),o*(i/255),u*(i/255),i)}function u(n,r,t=0){if(null==r)return n[t]=0,n[t+1]=0,n[t+2]=0,void(n[t+3]=0);const{r:o,g:u,b:i,a:c}=r;n[t]=o*c/255,n[t+1]=u*c/255,n[t+2]=i*c/255,n[t+3]=c}export{r as premultiplyAlpha,t as premultiplyAlphaRGBA,o as premultiplyAlphaRGBAArray,u as writeColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../../core/Logger.js\";import{pt2px as i}from\"../../../../../../../core/screenUtils.js\";import{generateGradient as a}from\"../../../../../../../renderers/support/heatmapUtils.js\";import l from\"../../../../../../../symbols/SimpleFillSymbol.js\";import r from\"../../../../../../../symbols/SimpleLineSymbol.js\";import t from\"../../../../../../../symbols/SimpleMarkerSymbol.js\";import{CIMSymbolHelper as o,slsDashToTemplateArray as s}from\"../../../../../../../symbols/cim/CIMSymbolHelper.js\";import{getSDFInfo as n}from\"../../../../../../../symbols/cim/SDFHelper.js\";import{getAlignmentFromPlacement as u}from\"../../../../../engine/webgl/alignmentUtils.js\";import{writeColor as c}from\"../../../../../engine/webgl/color.js\";import{dotDensityMaxFields as p}from\"../../../../../engine/webgl/definitions.js\";import{Techniques as f}from\"../../../../../engine/webgl/shaderGraph/techniques/TechniqueRegistry.js\";import{premultiplyColor as b}from\"../schemaUtils.js\";import{createVisualVariableUniforms as m,getMaxSizeVVSize as S,noVisualVariables as V}from\"../VisualVariablesSchema.js\";import{createComplexSymbolInstances as y}from\"./ComplexSymbolSchema.js\";import{hasSizeVVUniform as v,hasRotationVVUniform as h}from\"./utils.js\";async function z(i,a){if(!i)return[];switch(i.type){case\"simple-fill\":return U(i,a);case\"picture-fill\":return j(i,a);case\"simple-marker\":return C(i,a);case\"picture-marker\":return I(i,a);case\"simple-line\":return F(i,a,!1);case\"text\":return O(i,a);case\"label\":return A(i,a);case\"cim\":return y(i.data,a);case\"web-style\":return z(await i.fetchSymbol({acceptedFormats:[\"cim\",\"web\"]}),a);case\"line-3d\":return e.getLogger(\"esri.views.layers.FeatureLayerView\").warn(\"unsupported-symbol\",`Symbol of type \"${i.type}\" unsupported in MapView. Defaulting to simple-line`),F(new r,a,!1);case\"point-3d\":return e.getLogger(\"esri.views.layers.FeatureLayerView\").warn(\"unsupported-symbol\",`Symbol of type \"${i.type}\" unsupported in MapView. Defaulting to simple-marker`),C(new t,a);case\"polygon-3d\":return e.getLogger(\"esri.views.layers.FeatureLayerView\").warn(\"unsupported-symbol\",`Symbol of type \"${i.type}\" unsupported in MapView. Defaulting to simple-fill`),U(new l,a);case\"mesh-3d\":case\"label-3d\":return e.getLogger(\"esri.views.layers.FeatureLayerView\").warn(\"unsupported-symbol\",`Symbol of type \"${i.type}\" unsupported in MapView. Ignoring`),[];case\"CIMSymbolReference\":throw new Error(\"InternalError: CIMSymbolReference should already be resolved\")}}async function d(e,i){const{schemaOptions:a}=i,{store:r}=a,t=new Array(p),o=new Array(p/4);for(let l=0;l<p;l++){const i=l<e.attributes.length?e.attributes[l].color:null;t[l]=[0,0,0,0],c(t[l],i)}for(let l=0;l<p/4;l++)o[l]=[0,0,0,0],o[l][0]=4*l<e.attributes.length?1:0,o[l][1]=4*l+1<e.attributes.length?1:0,o[l][2]=4*l+2<e.attributes.length?1:0,o[l][3]=4*l+3<e.attributes.length?1:0;const s={uniforms:{isActive:o,colors:t,dotValue:e.dotValue,dotScale:e.referenceScale,blending:e.dotBlendingEnabled,dotSize:e.dotSize,seed:e.seed},optionalAttributes:{}},n=r.ensureInstance(f.dotDensity,s).createMeshInfo({effects:null}),u=[],b=new l({color:e.backgroundColor??[0,0,0,0],outline:null}),m=await z(b,i);if(u.push(...m),u.push(n),e.outline){const a=F(e.outline,i,!0);u.push(...a)}return u}async function g(e,l){const{store:r}=l,{radius:t,minDensity:o,maxDensity:s,referenceScale:n,field:u,valueExpression:c,colorStops:p}=e,b=a(p);return[r.ensureInstance(f.heatmap,{uniforms:{radius:i(t),minDensity:o,maxDensity:s,referenceScale:n,isFieldActive:!(!u&&!c),gradient:b,gradientHash:b.join(\",\")},optionalAttributes:{}}).createMeshInfo({effects:null})]}async function M(e,a){const{store:l}=a,r=e.outline?.width||0,t=m(e),o=l.ensureInstance(f.pieChart,{uniforms:{shader:{outlineWidth:Math.round(i(r)),defaultColor:b(e.defaultColor),outlineColor:b(e.outline?.color),othersColor:b(e.othersCategory?.color),donutRatio:e.holePercentage,sectorThreshold:e.othersCategory?.threshold||0,colors:e.attributes.map(e=>b(e.color)),visualVariableOpacity:t.visualVariableOpacity,visualVariableSizeMinMaxValue:t.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:t.visualVariableSizeScaleStops,visualVariableSizeStops:t.visualVariableSizeStops,visualVariableSizeUnitValue:t.visualVariableSizeUnitValue,hittestUniforms:null,highlightUniforms:null},numberOfFields:e.attributes.length},optionalAttributes:{}}).createMeshInfo({size:e.size,outlineWidth:r,effects:null,scaleInfo:null,minPixelBuffer:S(t)});return[...e.backgroundFillSymbol?await U(e.backgroundFillSymbol,{schemaOptions:a,uniforms:V}):[],o]}function x(e){if(\"path\"===e.style){if(null==e.path)throw new Error(\"Symbol with a style of type path must define a path\");return{type:\"sprite-rasterization-param\",overrides:[],resource:{type:\"path\",path:e.path,asFill:!0}}}const i=o.fromSimpleMarker(e);if(\"outline\"in e&&e.outline&&\"none\"!==e.outline.style){if(\"solid\"!==e.outline.style){if(!i||!i.symbolLayers)throw new Error(\"Error handling marker! \");return{type:\"sprite-rasterization-param\",resource:i.symbolLayers[0],overrides:[]}}}return{type:\"sprite-rasterization-param\",resource:n(i),overrides:[]}}async function C(e,i){const{uniforms:a,schemaOptions:l}=i,{store:r}=l;if(\"path\"===e.style||e.outline&&\"solid\"!==e.outline.style&&\"none\"!==e.outline.style){const l=o.fromSimpleMarker(e);if(!l||!l.symbolLayers)throw new Error(\"Error handling marker! \");if(a.visualVariableRotation&&(l.angleAlignment=\"Map\"),\"path\"!==e.style){const e=l.symbolLayers[0];if(v(i.uniforms)){const a=S(i.uniforms,0,1);if(a>e.size){const i=a/e.size;e.size=a;const l=e.markerGraphics?.[0].symbol;(l.symbolLayers&&l.symbolLayers[0]).width*=i}}}return y({type:\"CIMSymbolReference\",symbol:l},i)}const t=r.ensureInstance(f.marker,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity,visualVariableSizeMinMaxValue:a.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:a.visualVariableSizeScaleStops,visualVariableSizeStops:a.visualVariableSizeStops,visualVariableSizeUnitValue:a.visualVariableSizeUnitValue,visualVariableRotation:a.visualVariableRotation},optionalAttributes:{zoomRange:!1}}),s=x(e);let n=e.color?.toArray()??[0,0,0,0];\"CIMVectorMarker\"===s.resource.type&&(n=[255,255,255,255]);const u=\"triangle\"===e.style?124/116:1,c=e.size,p=c*u,b=null!=a.visualVariableColor&&(\"cross\"===e.style||\"x\"===e.style);return[t.createMeshInfo({type:\"simple\",color:n,height:c,width:p,offsetX:e.xoffset,offsetY:e.yoffset,angle:e.angle,alignment:h(a)?1:0,outlineColor:e.outline?.color?.toArray()??[0,0,0,0],outlineSize:e.outline?.width??1,referenceSize:c,sprite:s,overrideOutlineColor:b,hasSizeVV:v(a),placement:null,effects:null,transforms:null,scaleInfo:null,minPixelBuffer:S(a)})]}function I(e,i){const{uniforms:a,schemaOptions:l}=i,{store:r}=l,t=r.ensureInstance(f.marker,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity,visualVariableSizeMinMaxValue:a.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:a.visualVariableSizeScaleStops,visualVariableSizeStops:a.visualVariableSizeStops,visualVariableSizeUnitValue:a.visualVariableSizeUnitValue,visualVariableRotation:a.visualVariableRotation},optionalAttributes:{zoomRange:!1}}),s=o.createPictureMarkerRasterizationParam(e);if(!s)return[];return[t.createMeshInfo({type:\"picture\",color:[255,255,255,255],height:e.height,width:e.width,offsetX:e.xoffset,offsetY:e.yoffset,angle:e.angle,alignment:h(a)?1:0,outlineColor:null,outlineSize:0,referenceSize:e.height,sprite:s,overrideOutlineColor:!1,hasSizeVV:v(a),placement:null,effects:null,transforms:null,scaleInfo:null,minPixelBuffer:S(a)})]}function w(e,i,a){const{uniforms:l,schemaOptions:r}=a,{store:t}=r,o=t.ensureInstance(f.marker,{uniforms:{visualVariableColor:l.visualVariableColor,visualVariableOpacity:l.visualVariableOpacity,visualVariableSizeMinMaxValue:l.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:l.visualVariableSizeScaleStops,visualVariableSizeStops:l.visualVariableSizeStops,visualVariableSizeUnitValue:l.visualVariableSizeUnitValue,visualVariableRotation:l.visualVariableRotation},optionalAttributes:{zoomRange:!1}}),s=x(e),n=6,u=n*i.width,c=u,p=e.color?.toArray()??i.color?.toArray()??[0,0,0,0],b=\"cross\"===e.style||\"x\"===e.style;let m;switch(e.placement){case\"begin-end\":m=\"Both\";break;case\"begin\":m=\"JustBegin\";break;case\"end\":m=\"JustEnd\";break;default:m=\"None\"}const V={type:\"cim-marker-placement-param\",placement:{type:\"CIMMarkerPlacementAtExtremities\",angleToLine:!0,offset:0,extremityPlacement:m,offsetAlongLine:0},overrides:[]};return[o.createMeshInfo({type:\"simple\",color:p,height:c,width:u,offsetX:0,offsetY:0,angle:0,alignment:h(l)?1:0,outlineColor:p,outlineSize:b?i.width:0,referenceSize:c/n,sprite:s,overrideOutlineColor:b&&null!=l.visualVariableColor,hasSizeVV:v(l),placement:V,transforms:null,effects:null,scaleInfo:null,minPixelBuffer:S(l)})]}function O(e,i){const{uniforms:a,schemaOptions:l}=i,{store:r}=l;return[r.ensureInstance(f.text,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity,visualVariableRotation:a.visualVariableRotation,visualVariableSizeMinMaxValue:a.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:a.visualVariableSizeScaleStops,visualVariableSizeStops:a.visualVariableSizeStops,visualVariableSizeUnitValue:a.visualVariableSizeUnitValue},optionalAttributes:{zoomRange:!1,clipAngle:!1,referenceSymbol:!1,visibility:!1}}).createMeshInfo({boxBackgroundColor:e.backgroundColor?.toArray(),boxBorderLineColor:e.borderLineColor?.toArray(),boxBorderLineSize:e.borderLineSize??0,color:e.color?.toArray()??[0,0,0,0],offsetX:e.xoffset,offsetY:e.yoffset,postAngle:e.angle,fontSize:e.font.size,decoration:e.font.decoration,haloColor:e.haloColor?.toArray()??[0,0,0,0],haloSize:e.haloSize??0,outlineColor:[0,0,0,0],outlineSize:0,lineWidth:e.lineWidth,lineHeightRatio:e.lineHeight,horizontalAlignment:e.horizontalAlignment,verticalAlignment:e.verticalAlignment,useCIMAngleBehavior:!1,glyphs:{type:\"text-rasterization-param\",resource:{type:\"text\",font:e.font.toJSON(),textString:e.text,symbol:o.createCIMTextSymbolfromTextSymbol(e)},overrides:[]},referenceSize:null,effects:null,placement:null,scaleInfo:null,transforms:null,scaleFactor:1,minPixelBuffer:S(a),repeatLabel:null,repeatLabelDistance:null,allowOverrun:null,labelPosition:null,layerId:null,labelClassId:null})]}function A(e,a){const{schemaOptions:l,uniforms:r}=a,{store:t}=l,s=e.symbol,{allowOverrun:n,repeatLabel:c,repeatLabelDistance:p}=e,b={maxScale:e.maxScale??0,minScale:e.minScale??0},m=t.ensureInstance(f.label,{uniforms:{visualVariableColor:null,visualVariableOpacity:null,visualVariableRotation:r.visualVariableRotation,visualVariableSizeMinMaxValue:r.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:r.visualVariableSizeScaleStops,visualVariableSizeStops:r.visualVariableSizeStops,visualVariableSizeUnitValue:r.visualVariableSizeUnitValue},optionalAttributes:{zoomRange:!0,clipAngle:!0,referenceSymbol:!0,visibility:!0}}),V=e.labelPlacement,[y,v]=u(V);return[m.createMeshInfo({boxBackgroundColor:s.backgroundColor?.toArray(),boxBorderLineColor:s.borderLineColor?.toArray(),boxBorderLineSize:s.borderLineSize??0,color:s.color?.toArray()??[0,0,0,0],offsetX:s.xoffset,offsetY:s.yoffset,postAngle:s.angle,fontSize:s.font.size,decoration:s.font.decoration,outlineColor:[0,0,0,0],outlineSize:0,haloColor:s.haloColor?.toArray()??[0,0,0,0],haloSize:s.haloSize??0,lineWidth:s.lineWidth,lineHeightRatio:s.lineHeight,horizontalAlignment:y,verticalAlignment:v,repeatLabel:c,repeatLabelDistance:i(p),allowOverrun:n,labelPosition:e.labelPosition,scaleInfo:b,minPixelBuffer:S(r),useCIMAngleBehavior:!1,glyphs:{type:\"text-rasterization-param\",resource:{type:\"text\",font:s.font.toJSON(),textString:s.text,symbol:o.createCIMTextSymbolfromTextSymbol(s),primitiveName:\"label-override\"},useLegacyLabelEvaluationRules:null==e.labelExpressionInfo?.expression,overrides:[{valueExpressionInfo:{type:\"CIMExpressionInfo\",expression:e.labelExpressionInfo?.expression??e.labelExpression,returnType:\"String\"},primitiveName:\"label-override\",propertyName:\"textString\",defaultValue:\"\"}]},referenceSize:null,effects:null,placement:null,transforms:null,scaleFactor:1,layerId:a.layerId,labelClassId:a.labelClassId})]}function L(e,i){const a=e.width;return{outlineColor:e.color?.toArray()||[0,0,0,1],width:a,referenceWidth:a,capType:e.cap??\"round\",joinType:e.join??\"round\",miterLimit:e.miterLimit,hasSizeVV:i,outlineUsesColorVV:!1}}function R(e,i){const{uniforms:a,schemaOptions:l}=i,{store:r}=l,t=e.color?.toArray()??[0,0,0,0],o={type:\"sprite-rasterization-param\",resource:{type:\"fill-style\",style:e.style},overrides:[]};if(\"solid\"===e.outline?.style){return[r.ensureInstance(f.patternOutlineFill,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity,visualVariableSizeScaleStops:a.visualVariableSizeOutlineScaleStops,visualVariableSizeMinMaxValue:null,visualVariableSizeStops:null,visualVariableSizeUnitValue:null},optionalAttributes:{zoomRange:!1}}).createMeshInfo({color:t,...L(e.outline,!!a.visualVariableSizeOutlineScaleStops),sprite:o,scaleInfo:null,effects:null})]}const s=[],n=r.ensureInstance(f.patternFill,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity},optionalAttributes:{zoomRange:!1}}).createMeshInfo({color:e.color?.toArray()??[0,0,0,0],sprite:o,scaleInfo:null,effects:null});return s.push(n),e.outline&&s.push(...F(e.outline,i,!0)),s}function k(e,i){const{uniforms:a,schemaOptions:l}=i,{store:r}=l,t=e.color?.toArray()??[0,0,0,0];if(\"none\"!==e.style&&\"solid\"===e.outline?.style){return[r.ensureInstance(f.outlineFill,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity,visualVariableSizeScaleStops:a.visualVariableSizeOutlineScaleStops,visualVariableSizeMinMaxValue:null,visualVariableSizeStops:null,visualVariableSizeUnitValue:null},optionalAttributes:{zoomRange:!1}}).createMeshInfo({color:t,...L(e.outline,!!a.visualVariableSizeOutlineScaleStops),scaleInfo:null,effects:null})]}const o=[];if(\"none\"!==e.style){const e=r.ensureInstance(f.fill,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity},optionalAttributes:{zoomRange:!1}}).createMeshInfo({color:t,scaleInfo:null,effects:null});o.push(e)}return e.outline&&o.push(...F(e.outline,i,!0)),o}async function U(e,i){if(\"cim\"===e.type)return y(e.data,i);const{style:a}=e;return a&&\"none\"!==a&&\"solid\"!==a?R(e,i):k(e,i)}function j(e,i){const{outline:a}=e,{uniforms:l,schemaOptions:r}=i,{store:t}=r,s=[],n=o.createPictureFillRasterizationParam(e);if(!n)return[];const{width:u,height:c,xoffset:p,yoffset:b,xscale:m,yscale:S}=e,V={color:[255,255,255,255],sprite:n,height:c,aspectRatio:u/c,offsetX:p,offsetY:b,scaleX:m,scaleY:S,angle:0,applyRandomOffset:!1,sampleAlphaOnly:!1,scaleProportionally:!1,effects:null,scaleInfo:null};if(\"solid\"===a?.style){return[t.ensureInstance(f.complexOutlineFill,{uniforms:{visualVariableColor:l.visualVariableColor,visualVariableOpacity:l.visualVariableOpacity,visualVariableSizeScaleStops:l.visualVariableSizeOutlineScaleStops,visualVariableSizeMinMaxValue:null,visualVariableSizeStops:null,visualVariableSizeUnitValue:null},optionalAttributes:{zoomRange:!1}}).createMeshInfo({...V,...L(a,!!l.visualVariableSizeOutlineScaleStops)})]}const y=t.ensureInstance(f.complexFill,{uniforms:{visualVariableColor:l.visualVariableColor,visualVariableOpacity:l.visualVariableOpacity},optionalAttributes:{zoomRange:!1}});return s.push(y.createMeshInfo(V)),a&&s.push(...F(a,i,!0)),s}function F(e,i,a){const{color:l,style:r,width:t,cap:o,join:n}=e,{schemaOptions:u}=i,{store:c}=u,p=[],b=a?{...V,visualVariableSizeScaleStops:i.uniforms.visualVariableSizeOutlineScaleStops}:i.uniforms,m={uniforms:{visualVariableColor:b.visualVariableColor,visualVariableOpacity:b.visualVariableOpacity,visualVariableSizeMinMaxValue:b.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:b.visualVariableSizeScaleStops,visualVariableSizeStops:b.visualVariableSizeStops,visualVariableSizeUnitValue:b.visualVariableSizeUnitValue},optionalAttributes:{zoomRange:!1}},S={color:l?.toArray()??[0,0,0,0],width:t,referenceWidth:t,capType:o,joinType:n,miterLimit:e.miterLimit,hasSizeVV:v(b),effects:null,scaleInfo:null};if(null==r||\"solid\"===r){const e=c.ensureInstance(f.line,m).createMeshInfo(S);p.push(e)}else if(\"none\"!==r){const e=c.ensureInstance(f.texturedLine,m).createMeshInfo({...S,offsetAlongLine:0,shouldScaleDash:!0,shouldSampleAlphaOnly:!1,isSDF:!0,sprite:{type:\"sprite-rasterization-param\",resource:{type:\"dash\",dashTemplate:s(r,o)},overrides:[]}});p.push(e)}return null!=e.marker&&p.push(...w(e.marker,e,i)),p}export{d as createDotDensityMeshSchemas,g as createHeatmapMeshSchemas,F as createLineInstance,M as createPieChartMeshSchemas,z as createSymbolMeshSchemas};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{numericHash as e}from\"../../../../../../core/string.js\";import{validateLabelingInfo as l}from\"../../../../../../layers/support/labelingInfo.js\";import{getServiceGeometryType as s}from\"../../layerAdapters/geometryUtils.js\";import{createSymbolMeshSchemas as a}from\"./symbols/SymbolSchema.js\";async function o(e,a,o){const r=a.labelsVisible&&a.labelingInfo||[],i=s(a),t=l(r,i);return{type:\"label\",classes:await Promise.all(t.map((l,s)=>n(e,l,a.labelsVisible,a.labelingInfoSource,s,i,o)))}}async function n(l,s,o,n,r,i,t){const m=e(`${n} ${r}`),c=n,p=await a(s,{schemaOptions:l,uniforms:t,layerId:c,labelClassId:m});return{maxScale:s.maxScale,minScale:s.minScale,deconflictionEnabled:\"none\"!==s.deconflictionStrategy&&o,expression:s.labelExpressionInfo?.expression??s.labelExpression,where:s.where,meshes:p,layerId:c,labelClassId:m,geometryType:i}}export{o as createLabelMatcherSchema};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{createVisualVariableUniforms as e,noVisualVariables as i}from\"./VisualVariablesSchema.js\";import{createPieChartMeshSchemas as a,createHeatmapMeshSchemas as n,createSymbolMeshSchemas as s,createDotDensityMeshSchemas as t}from\"./symbols/SymbolSchema.js\";async function l(e,i){if(!i)return{type:\"simple\",meshes:[]};switch(i.type){case\"simple\":return o(e,i);case\"dot-density\":return r(e,i);case\"class-breaks\":return u(e,i);case\"unique-value\":return m(e,i);case\"dictionary\":return c(i);case\"heatmap\":return p(e,i);case\"pie-chart\":return f(e,i)}}async function o(i,a){const n=a.symbols,t=n.length?n[0]:null,l=e(a);return{type:\"simple\",meshes:await s(t,{schemaOptions:i,uniforms:l})}}async function r(i,a){const n=e(a);return{type:\"dot-density\",meshes:await t(a,{schemaOptions:i,uniforms:n})}}async function u(a,n){const t=e(n),l=n.backgroundFillSymbol,o=n.normalizationType,r=\"log\"===o?\"esriNormalizeByLog\":\"percent-of-total\"===o?\"esriNormalizeByPercentOfTotal\":\"field\"===o?\"esriNormalizeByField\":null,u=n.classBreakInfos.map(async e=>({meshes:await s(e.symbol,{path:`renderer-stop-${e.minValue}-${e.maxValue}`,schemaOptions:a,uniforms:t}),min:e.minValue,max:e.maxValue})),m=(await Promise.all(u)).sort((e,i)=>e.min-i.min),c=await s(l,{schemaOptions:a,uniforms:{...i,visualVariableSizeOutlineScaleStops:t.visualVariableSizeOutlineScaleStops}}),p=await s(n.defaultSymbol,{schemaOptions:a,uniforms:t});return{type:\"interval\",field:n.field,expression:n.valueExpression,backgroundFill:c,defaultSymbol:p,intervals:m,normalizationField:n.normalizationField,normalizationTotal:n.normalizationTotal,normalizationType:r,isMaxInclusive:n.isMaxInclusive}}async function m(a,n){const t=[],l=e(n),o=await s(n.backgroundFillSymbol,{schemaOptions:a,uniforms:{...i,visualVariableSizeOutlineScaleStops:l.visualVariableSizeOutlineScaleStops}}),r=await s(n.defaultSymbol,{schemaOptions:a,uniforms:l});for(const e of n.uniqueValueInfos??[]){const i=await s(e.symbol,{path:`renderer-unique-value-${e.value}`,schemaOptions:a,uniforms:l});t.push({value:\"\"+e.value,symbol:i})}return{type:\"map\",field:n.field,expression:n.valueExpression,field2:n.field2,field3:n.field3,fieldDelimiter:n.fieldDelimiter,backgroundFill:o,defaultSymbol:r,map:t}}async function c(i){const a=e(i),n=await i.getDictionaryInfo(),s=i.scaleExpression,t=null!=s&&\"1\"!==s?{valueExpressionInfo:{type:\"CIMExpressionInfo\",expression:i.scaleExpression,returnType:\"Numeric\"},defaultValue:1}:void 0;return{type:\"dictionary\",dictionaryInfo:n,userConfig:i.config??{},fieldMap:i.fieldMap??{},scaleExpression:t,visualVariableUniforms:a}}async function p(e,i){return{type:\"heatmap\",meshes:await n(i,e)}}async function f(e,i){return{type:\"pie-chart\",meshes:await a(i,e)}}export{l as createMatcherSchema};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../../../core/screenUtils.js\";import r from\"../../../../../../layers/support/OrderByInfo.js\";import{createLabelMatcherSchema as t}from\"./LabelMatcherSchema.js\";import{createMatcherSchema as i}from\"./MatcherSchema.js\";import{createStorageSchema as s,createTrackStorageSchema as n}from\"./StorageSchema.js\";import{createVisualVariableUniforms as a}from\"./VisualVariablesSchema.js\";async function l(e,r){const s=r.renderer,n=a(s);return{symbology:await i(e,s),labels:await t(e,r,n)}}async function o(e,r,t,i){const n=t.featureReduction;if(n)switch(n.type){case\"binning\":return f(n,e,r,t,i);case\"cluster\":return b(n,e,r,t,i)}if(t.trackInfo?.enabled)return p(t.trackInfo,e,r,t,i);const a=y(t.orderBy,t.renderer,t.objectIdField),o=s(t.renderer,r.filters),c=await l(e,t),u=m(c.symbology);return{storage:o,mesh:{properties:{sortKey:a,timeZone:r.timeZone,returnMeshObjectId:u,displayRefreshVersion:i,currentUser:r.currentUser},strategy:{type:\"feature\"},factory:c},expressionProperties:{timeExtent:r.timeExtent?.toJSON()}}}function c(e,r){return e.fields.map(e=>({...e.toJSON(),type:u(e,r)}))}function u(e,r){const{onStatisticExpression:t,onStatisticField:i,statisticType:s}=e;switch(s){case\"min\":case\"max\":case\"avg\":case\"avg_angle\":case\"sum\":case\"count\":return\"esriFieldTypeDouble\";case\"mode\":{if(t){const{returnType:e}=t;return e?\"string\"===e?\"esriFieldTypeString\":\"esriFieldTypeDouble\":\"esriFieldTypeString\"}const e=r.find(e=>e.name===i);return e?e.type:\"esriFieldTypeString\"}}}async function f(r,n,l,o,u){const f=c(r,o.fields),b=r.renderer,p=await i(n,b),y=s(b,[null,null]),d=a(b),g=await t(n,{geometryType:\"polygon\",labelingInfoSource:o.labelingInfoSource+\"-binning\",labelingInfo:r.labelingInfo,labelsVisible:r.labelsVisible},d),v=m(p),h=\"geohash\"===r.binType?{type:\"geohash\",fixBinLevel:r.fixedBinLevel??3}:{type:\"grid\",size:e(r.size),fixedBinLevel:r.fixedBinLevel};return{storage:y,mesh:{properties:{sortKey:null,timeZone:l.timeZone,returnMeshObjectId:v,displayRefreshVersion:u,currentUser:l.currentUser},strategy:{type:\"binning\",fields:f,index:h,featureFilter:l.filters[0]},factory:{labels:g,symbology:p}},expressionProperties:{timeExtent:l.timeExtent?.toJSON()}}}async function b(r,n,l,o,u){const f=c(r,o.fields),b={type:\"cluster\",feature:await i(n,r.effectiveFeatureRenderer),cluster:await i(n,r.effectiveClusterRenderer)},p=a(r.effectiveFeatureRenderer),y={type:\"cluster\",feature:await t(n,o,p),cluster:await t(n,{geometryType:\"point\",labelingInfoSource:o.labelingInfoSource+\"-clusters\",labelingInfo:r.labelingInfo,labelsVisible:r.labelsVisible},p)},d=s(r.effectiveFeatureRenderer,[null,null]),g=m(b);return{storage:d,mesh:{properties:{sortKey:null,timeZone:l.timeZone,displayRefreshVersion:u,returnMeshObjectId:g,currentUser:l.currentUser},strategy:{type:\"cluster\",fields:f,featureFilter:l.filters[0],clusterRadius:e(r.clusterRadius/2)},factory:{labels:y,symbology:b}},expressionProperties:{timeExtent:l.timeExtent?.toJSON()}}}async function p(e,r,s,l,o){const u=c(e,l.fields),f={type:\"track\",previousObservation:await i(r,e.previousObservations.renderer),latestObservation:await i(r,e.latestObservations.renderer),trackLine:await i(r,e.trackLines.renderer)},b={type:\"track\",previousObservation:await t(r,{geometryType:l.geometryType,labelingInfoSource:l.labelingInfoSource+\"-track-prev\",labelingInfo:e.previousObservations.labelingInfo,labelsVisible:e.previousObservations.labelsVisible},a(e.previousObservations.renderer)),latestObservation:await t(r,{geometryType:l.geometryType,labelingInfoSource:l.labelingInfoSource+\"-track-latest\",labelingInfo:e.latestObservations.labelingInfo,labelsVisible:e.latestObservations.labelsVisible},a(e.latestObservations.renderer)),trackLine:await t(r,{geometryType:\"polyline\",labelingInfoSource:l.labelingInfoSource+\"-track-line\",labelingInfo:e.trackLines.labelingInfo,labelsVisible:e.trackLines.labelsVisible},a(e.trackLines.renderer))},p=n(e,[null,null]),y=m(f);return{storage:p,mesh:{properties:{sortKey:null,timeZone:s.timeZone,returnMeshObjectId:y,displayRefreshVersion:o,currentUser:s.currentUser},strategy:{type:\"track\",featureFilter:s.filters[0],fields:u,maxDisplayDuration:e.maxDisplayDuration?.toMilliseconds()??0,maxDisplayObservationsPerTrack:e.maxDisplayObservationsPerTrack,showLatestObservation:e.latestObservations.visible,showPreviousObservations:e.previousObservations.visible,showTrackLine:e.trackLines.visible,timeField:e.timeField},factory:{labels:b,symbology:f}},expressionProperties:{timeExtent:s.timeExtent?.toJSON()}}}function y(e,t,i){const s=null!=t&&\"unique-value\"===t.type&&t.orderByClassesEnabled;if(\"default\"!==e||s||(e=[new r({field:i,order:\"descending\"})]),\"default\"!==e&&e?.length){e.length;const r=e[0],t=\"ascending\"===r.order?\"asc\":\"desc\";return r.field?{field:r.field,order:t}:r.valueExpression?{expression:r.valueExpression,order:t}:null}if(s){return{byRenderer:!0,order:\"asc\"}}return null}function d(e){return 2===e.techniqueType}function m(e){if(\"simple\"===e.type&&e.meshes.some(d))return!0;if(\"interval\"===e.type){if(e.intervals.some(e=>e.meshes.some(d)))return!0;if(e.backgroundFill.some(d))return!0}if(\"map\"===e.type){if(e.map.some(e=>e.symbol.some(d)))return!0;if(e.backgroundFill.some(d))return!0}return!1}export{o as createSimpleProcessorSchema,c as getAggregateFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{isHostedAgolService as r}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{getServiceGeometryType as t}from\"./geometryUtils.js\";import{getLayerDeconflictionEnabled as i,createLabelVVEvaluator as s}from\"./labelingUtils.js\";import{ExceedsLimitCache as a}from\"../schema/ExceedsLimitCache.js\";import{createFeatureSourceSchema as o}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as l}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as n}from\"../support/rendererUtils.js\";class p{constructor(e){this.layer=e,this._cache=new a}getLabelingDeconflictionInfo(e){const r=this.layer,t=i(r);return[{vvEvaluators:{0:s(r.renderer)},deconflictionEnabled:t}]}async createSourceSchema(e,r){const t=this._createServiceInfo(e);return o(t,null,{definitionExpression:this.layer.definitionExpression,queryScaleRanges:[],displayFilterEnabled:e.displayFilterEnabled,displayFilterInfo:this.layer.displayFilterInfo,customParameters:this.layer.customParameters,gdbVersion:null,historicMoment:null,timeExtent:this.layer.timeExtent,apiKey:this.layer.apiKey,sourceRefreshVersion:r,availableFields:e.availableFields,cache:this._cache})}createProcessorSchema(e,r,t){const{fields:i,geometryType:s,orderBy:a,objectIdField:o,renderer:n,labelingInfo:p,labelsVisible:d}=this.layer,u={featureReduction:null,labelingInfoSource:this.layer.id,fields:i.map(e=>e.toJSON()),geometryType:s,labelingInfo:p,labelsVisible:d,objectIdField:o,orderBy:a??\"default\",renderer:n?.clone()};return l(e,r,u,t)}get hasRequiredSupport(){return n(this.layer.renderer)}get timeOptions(){return this.layer}getUpdateHashProperties(e){return[()=>this.layer.apiKey,()=>this.layer.customParameters,()=>this.layer.definitionExpression,()=>this.layer.outFields,()=>this.layer.renderer,()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>this.layer.orderBy]}setGraphicOrigin(e){e.origin=this.layer.graphicOrigin}_createServiceInfo(i){const s=this.layer,{capabilities:a,editingInfo:o,objectIdField:l,globalIdField:n,datesInUnknownTimezone:p,dateFieldsTimeZone:d,orderBy:u,parsedUrl:c}=s,y=s.fieldsIndex.toJSON(),m=t(s),f=s.timeInfo?.toJSON(),h=s.spatialReference.toJSON(),g=e(c);let b=l;if(u?.length){const e=!u[0].valueExpression&&u[0].field;e&&(b=e)}const F=r(g.path),I=i.spatialReference.toJSON();return{type:\"feature-service\",source:g,isSourceHosted:F,orderByFields:b,outSpatialReference:I,metadata:{timeReferenceUnknownClient:p,dateFieldsTimeZone:d,globalIdField:n,fieldsIndex:y,geometryType:m,featureIdInfo:{type:\"object-id\",fieldName:l},timeInfo:f,spatialReference:h,outSpatialReference:I,subtypeField:null,subtypes:null,typeIdField:null,types:null},queryMetadata:{maxRecordCount:a.query.maxRecordCount,supportsCompactGeometry:a.query.supportsCompactGeometry,supportsDefaultSpatialReference:a.query.supportsDefaultSpatialReference,supportsFormatPBF:a.query.supportsFormatPBF,supportsMaxRecordCountFactor:a.query.supportsMaxRecordCountFactor,supportsQuantization:a.query.supportsQuantization,supportsCentroidOnDegeneratedQuantizedGeometry:a.query.supportsCentroidOnDegeneratedQuantizedGeometry,supportsDegeneratedQuantizedGeometry:a.query.supportsDegeneratedQuantizedGeometry,lastEditDate:o?.lastEditDate?.getTime()}}}}export{p as CatalogFootprintLayerAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";function e(e){const{objectIdField:i,uniqueIdFields:t}=e;return t?.length?t.length>=2?{type:\"unique-id-composite\",fieldNames:t}:{type:\"unique-id-simple\",fieldName:t[0]}:{type:\"object-id\",fieldName:i}}export{e as createFeatureIdInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{sqlAnd as e}from\"../../../../../core/sql.js\";import l from\"../../../../../layers/support/FeatureFilter.js\";function o(e,l){return null!=e.floorInfo&&(e.floorInfo.viewAllLevelIds.length>0||l.floors.length>0)}function r(e,o,r){const t=n(e,o?.where,r);return t?(o??=new l,o.where=t,o):o}function n(l,o,r){if(null==l.floorInfo||!r.floors?.length)return o;let n=r.floors;const{floorField:t,viewAllLevelIds:f}=l.floorInfo;f.length&&(n=f);const s=n.filter(e=>\"\"!==e).map(e=>\"'\"+e+\"'\");if(s.push(\"''\"),o?.includes(t)){let e=new RegExp(\"AND \\\\(\"+t+\".*NULL\\\\)\",\"g\");o=o.replace(e,\"\"),e=new RegExp(\"\\\\(\"+t+\".*NULL\\\\)\",\"g\"),o=(o=o.replace(e,\"\")).replaceAll(/\\s+/g,\" \").trim()}let i=\"(\"+t+\" IN ({ids}) OR \"+t+\" IS NULL)\";return i=i.replace(\"{ids}\",s.join(\", \")),e(o,i)}export{r as addFloorFilter,o as hasFloorFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{sqlAnd as r}from\"../../../../../core/sql.js\";import{isHostedAgolService as t}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{getEffectiveFeatureReduction as i}from\"./featureReductionUtils.js\";import{createFeatureIdInfo as s}from\"./featureServiceUtils.js\";import{addFloorFilter as a,hasFloorFilter as o}from\"./floorFilterUtils.js\";import{getServiceGeometryType as l}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as n,getLayerDeconflictionEnabled as y,createLabelVVEvaluator as p}from\"./labelingUtils.js\";import{ExceedsLimitCache as d}from\"../schema/ExceedsLimitCache.js\";import{createSnapshotInfo as c,createFeatureSourceSchema as u}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as m}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as h}from\"../support/rendererUtils.js\";class f{constructor(e){this.layer=e,this._cache=new d}getLabelingDeconflictionInfo(e){const r=this.layer,t=n(r,e)??y(r),s=i(r,e),a=[...r.labelingInfo||[],...s?.labelingInfo||[]];return[{vvEvaluators:{0:p(r.renderer)},deconflictionEnabled:t,labelingInfo:a}]}async createSourceSchema(e,t){const i=this._createServiceInfo(e),s=null!=this.layer.editingInfo?.lastEditDate,a=this.layer.refreshInterval>0,o=!s&&a,l=c(i.isSourceHosted,o,this.layer.capabilities,i.metadata.geometryType,e.extent,this.layer.fullExtent),n=null!=this.layer.subtypeCode?`${this.layer.subtypeField} = ${this.layer.subtypeCode}`:null,y=r(this.layer.definitionExpression,n);return u(i,l,{definitionExpression:y,queryScaleRanges:[],displayFilterEnabled:e.displayFilterEnabled,displayFilterInfo:this.layer.displayFilterInfo,customParameters:this.layer.customParameters,gdbVersion:this.layer.gdbVersion,historicMoment:this.layer.historicMoment,timeExtent:this.layer.timeExtent,apiKey:this.layer.apiKey,sourceRefreshVersion:t,availableFields:e.availableFields,cache:this._cache})}createProcessorSchema(e,r,t){const{fields:s,renderer:a,geometryType:o,labelingInfo:l,labelsVisible:n,orderBy:y,objectIdField:p,trackInfo:d}=this.layer,c={fields:s.map(e=>e.toJSON()),renderer:a?.clone(),labelingInfoSource:this.layer.id,featureReduction:i(this.layer,r),geometryType:o,labelingInfo:l,labelsVisible:n,objectIdField:p,orderBy:y??\"default\",trackInfo:d};return m(e,r,c,t)}get hasRequiredSupport(){return h(this.layer.renderer)}get timeOptions(){return this.layer}addFilters(e,r){return a(this.layer,e,r)}getUpdateHashProperties(e){return this.layer.destroyed?[]:[()=>this.layer.apiKey,()=>this.layer.customParameters,()=>this.layer.definitionExpression,()=>i(this.layer,e),()=>o(this.layer,e)?e.floors:null,()=>this.layer.gdbVersion,()=>this.layer.historicMoment,()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>this.layer.orderBy,()=>this.layer.outFields,()=>this.layer.renderer,()=>this.layer.subtypeCode,()=>this.layer.trackInfo]}setGraphicOrigin(e){e.origin=this.layer.graphicOrigin}setAggregateGraphicOrigin(e){e.origin=this.layer.aggregateGraphicOrigin}setTrackGraphicOrigin(e){e.origin=this.layer.trackGraphicOrigin}_createServiceInfo(r){const i=this.layer,{capabilities:a,editingInfo:o,typeIdField:n,globalIdField:y,datesInUnknownTimezone:p,dateFieldsTimeZone:d,orderBy:c,subtypeField:u}=i,m=i.fieldsIndex.toJSON(),h=l(i),f=i.timeInfo?.toJSON(),g=i.spatialReference.toJSON(),b=i.types?.map(e=>e.toJSON()),I=e(this.layer.parsedUrl);this.layer.dynamicDataSource&&(I.query={layer:JSON.stringify({source:this.layer.dynamicDataSource})});let S=this.layer.objectIdField;if(c?.length){const e=!c[0].valueExpression&&c[0].field;e&&(S=e)}const F=t(I.path),O=r.spatialReference.toJSON();return{type:\"feature-service\",source:I,isSourceHosted:F,orderByFields:S,outSpatialReference:O,metadata:{typeIdField:n??void 0,types:b,timeReferenceUnknownClient:p,dateFieldsTimeZone:d,subtypeField:u,globalIdField:y,fieldsIndex:m,geometryType:h,featureIdInfo:s(i),timeInfo:f,spatialReference:g,outSpatialReference:O,subtypes:this.layer.subtypes?.map(e=>e.toJSON())},queryMetadata:{maxRecordCount:a.query.maxRecordCount,supportsCompactGeometry:a.query.supportsCompactGeometry,supportsDefaultSpatialReference:a.query.supportsDefaultSpatialReference,supportsFormatPBF:a.query.supportsFormatPBF,supportsMaxRecordCountFactor:a.query.supportsMaxRecordCountFactor,supportsQuantization:a.query.supportsQuantization,supportsCentroidOnDegeneratedQuantizedGeometry:a.query.supportsCentroidOnDegeneratedQuantizedGeometry,supportsDegeneratedQuantizedGeometry:a.query.supportsDegeneratedQuantizedGeometry,lastEditDate:o?.lastEditDate?.getTime()}}}}export{f as FeatureLayerAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Error.js\";import{getEffectiveFeatureReduction as r}from\"./featureReductionUtils.js\";import{getServiceGeometryType as t}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as i,getLayerDeconflictionEnabled as o,createLabelVVEvaluator as a}from\"./labelingUtils.js\";import{ExceedsLimitCache as n}from\"../schema/ExceedsLimitCache.js\";import{createFeatureSourceSchema as s}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as l}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as u}from\"../support/rendererUtils.js\";function c(r){if(!(\"openPorts\"in r))throw new e(\"featurelayer:source-not-supported\",\"source is not supported\")}class p{constructor(e){this.layer=e,this._cache=new n}openMessagePorts(){return c(this.layer.source),this.layer.source.openPorts()}getLabelingDeconflictionInfo(e){const t=this.layer,n=i(t,e)??o(t),s=r(t,e),l=[...t.labelingInfo||[],...s?.labelingInfo||[]];return[{vvEvaluators:{0:a(t.renderer)},deconflictionEnabled:n,labelingInfo:l}]}async createSourceSchema(e,r){const t=this._createServiceInfo(e);return s(t,null,{definitionExpression:this.layer.definitionExpression,queryScaleRanges:[],displayFilterEnabled:e.displayFilterEnabled,displayFilterInfo:this.layer.displayFilterInfo,customParameters:this.layer.customParameters,gdbVersion:null,historicMoment:null,timeExtent:this.layer.timeExtent,apiKey:null,sourceRefreshVersion:r,availableFields:e.availableFields,cache:this._cache})}createProcessorSchema(e,t,i){const{fields:o,renderer:a,geometryType:n,labelingInfo:s,labelsVisible:u,orderBy:c,objectIdField:p}=this.layer,d=\"trackInfo\"in this.layer?this.layer.trackInfo:null,y={fields:o.map(e=>e.toJSON()),renderer:a?.clone(),labelingInfoSource:this.layer.id,featureReduction:r(this.layer,t),geometryType:n,labelingInfo:s,labelsVisible:u,objectIdField:p,orderBy:c??\"default\",trackInfo:d};return l(e,t,y,i)}get hasRequiredSupport(){return u(this.layer.renderer)}get timeOptions(){return this.layer}getUpdateHashProperties(e){return[()=>this.layer.definitionExpression,()=>this.layer.displayFilterInfo,()=>this.layer.orderBy,()=>\"outFields\"in this.layer?this.layer.outFields:null,()=>this.layer.renderer,()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>r(this.layer,e),()=>\"trackInfo\"in this.layer?this.layer.trackInfo:null]}setGraphicOrigin(e){e.origin=this.layer.graphicOrigin}setAggregateGraphicOrigin(e){e.origin=this.layer.aggregateGraphicOrigin}setTrackGraphicOrigin(e){e.origin=this.layer.trackGraphicOrigin}_createServiceInfo(e){const r=this.layer,{capabilities:i,objectIdField:o}=r,a=r.fieldsIndex.toJSON(),n=t(r),s=r.timeInfo?.toJSON(),l=r.spatialReference.toJSON();c(r.source);const u=o,p=e.spatialReference.toJSON();return{type:\"memory\",orderByFields:u,outSpatialReference:p,metadata:{fieldsIndex:a,geometryType:n,featureIdInfo:{type:\"object-id\",fieldName:r.objectIdField},timeInfo:s,spatialReference:l,outSpatialReference:p,subtypes:null,subtypeField:null,globalIdField:null,typeIdField:null,types:null,timeReferenceUnknownClient:\"datesInUnknownTimezone\"in r?r.datesInUnknownTimezone:null,dateFieldsTimeZone:\"dateFieldsTimeZone\"in r?r.dateFieldsTimeZone:null},queryMetadata:{maxRecordCount:i.query.maxRecordCount,supportsCompactGeometry:i.query.supportsCompactGeometry,supportsDefaultSpatialReference:i.query.supportsDefaultSpatialReference,supportsFormatPBF:i.query.supportsFormatPBF,supportsMaxRecordCountFactor:i.query.supportsMaxRecordCountFactor,supportsQuantization:i.query.supportsQuantization,supportsCentroidOnDegeneratedQuantizedGeometry:i.query.supportsCentroidOnDegeneratedQuantizedGeometry,supportsDegeneratedQuantizedGeometry:i.query.supportsDegeneratedQuantizedGeometry,lastEditDate:null}}}}export{p as InMemoryLayerAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{sqlAnd as e}from\"../../../../../core/sql.js\";import{systemIsSpatialFieldName as r}from\"../../../../../layers/knowledgeGraph/constants.js\";import t from\"../../../../../layers/support/FeatureFilter.js\";import{getEffectiveFeatureReduction as i}from\"./featureReductionUtils.js\";import{getServiceGeometryType as a}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as s,getLayerDeconflictionEnabled as o,createLabelVVEvaluator as n}from\"./labelingUtils.js\";import{ExceedsLimitCache as l}from\"../schema/ExceedsLimitCache.js\";import{createFeatureSourceSchema as p}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as u}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as c}from\"../support/rendererUtils.js\";class d{constructor(e){this.layer=e,this._cache=new l}getLabelingDeconflictionInfo(e){const r=this.layer,t=s(r,e)??o(r);return[{vvEvaluators:{0:n(r.renderer)},deconflictionEnabled:t}]}async createSourceSchema(e,r){const t=this._createServiceInfo(e);return p(t,null,{definitionExpression:this.layer.definitionExpression,queryScaleRanges:[],displayFilterEnabled:e.displayFilterEnabled,displayFilterInfo:this.layer.displayFilterInfo,customParameters:null,gdbVersion:null,historicMoment:null,timeExtent:this.layer.timeExtent,apiKey:null,sourceRefreshVersion:r,availableFields:e.availableFields,cache:this._cache})}createProcessorSchema(e,r,t){const{fields:a,renderer:s,geometryType:o,labelingInfo:n,labelsVisible:l,objectIdField:p}=this.layer,c={fields:a.map(e=>e.toJSON()),renderer:s?.clone(),labelingInfoSource:this.layer.id,featureReduction:i(this.layer,r),geometryType:o,labelingInfo:n,labelsVisible:l,objectIdField:p,orderBy:\"default\"};return u(e,r,c,t)}get hasRequiredSupport(){return c(this.layer.renderer)}get timeOptions(){return this.layer}getUpdateHashProperties(e){return[()=>this.layer.definitionExpression,()=>this.layer.renderer,()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>i(this.layer,e),()=>y(this.layer)]}hasFilters(e){return y(this.layer)}addFilters(i,a){if(y(this.layer)){const a=e(i?.where,`${r}=1`);if(!a)return i;i??=new t,i.where=a}return i}setGraphicOrigin(e){e.origin=this.layer.graphicOrigin}setAggregateGraphicOrigin(e){e.origin=this.layer.aggregateGraphicOrigin}openMessagePorts(){return this.layer.source.openPorts()}_createServiceInfo(e){const r=this.layer,{capabilities:t,objectIdField:i}=r,s=r.fieldsIndex.toJSON(),o=a(r),n=r.spatialReference.toJSON(),l=i,p=e.spatialReference.toJSON();return{type:\"memory\",orderByFields:l,outSpatialReference:p,metadata:{fieldsIndex:s,geometryType:o,featureIdInfo:{type:\"object-id\",fieldName:r.objectIdField},spatialReference:n,outSpatialReference:p,globalIdField:null,subtypeField:null,subtypes:null,timeInfo:r.timeInfo?.toJSON(),timeReferenceUnknownClient:null,dateFieldsTimeZone:null,typeIdField:null,types:null},queryMetadata:{maxRecordCount:t.query.maxRecordCount,supportsCompactGeometry:t.query.supportsCompactGeometry,supportsDefaultSpatialReference:t.query.supportsDefaultSpatialReference,supportsFormatPBF:t.query.supportsFormatPBF,supportsMaxRecordCountFactor:t.query.supportsMaxRecordCountFactor,supportsQuantization:t.query.supportsQuantization,supportsCentroidOnDegeneratedQuantizedGeometry:t.query.supportsCentroidOnDegeneratedQuantizedGeometry,supportsDegeneratedQuantizedGeometry:t.query.supportsDegeneratedQuantizedGeometry,lastEditDate:null}}}}function y(e){return\"link-chart\"===e.parentCompositeLayer.type&&\"hidden\"===e.parentCompositeLayer.linkChart?.linkChartProperties.nonspatialDataDisplay?.mode}export{d as KnowledgeGraphSublayerAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{getEffectiveFeatureReduction as r}from\"./featureReductionUtils.js\";import{getServiceGeometryType as t}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as i,getLayerDeconflictionEnabled as a,createLabelVVEvaluator as o}from\"./labelingUtils.js\";import{ExceedsLimitCache as s}from\"../schema/ExceedsLimitCache.js\";import{createFeatureSourceSchema as l}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as n}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as c}from\"../support/rendererUtils.js\";class u{constructor(e){this.layer=e,this._cache=new s}getLabelingDeconflictionInfo(e){const r=this.layer,t=i(r,e)??a(r);return[{vvEvaluators:{0:o(r.renderer)},deconflictionEnabled:t,labelingInfo:r.labelingInfo}]}async createSourceSchema(e,r){const t=this._createServiceInfo(e);return l(t,null,{definitionExpression:null,queryScaleRanges:[],displayFilterEnabled:e.displayFilterEnabled,displayFilterInfo:null,customParameters:this.layer.customParameters,gdbVersion:null,historicMoment:null,timeExtent:this.layer.timeExtent,apiKey:this.layer.apiKey,sourceRefreshVersion:r,availableFields:e.availableFields,cache:this._cache})}createProcessorSchema(e,t,i){const{fields:a,renderer:o,geometryType:s,labelingInfo:l,labelsVisible:c,orderBy:u,objectIdField:p}=this.layer,d={fields:a.map(e=>e.toJSON()),renderer:o?.clone(),labelingInfoSource:this.layer.id,featureReduction:r(this.layer,t),geometryType:s,labelingInfo:l,labelsVisible:c,objectIdField:p,orderBy:u??\"default\"};return n(e,t,d,i)}get hasRequiredSupport(){return c(this.layer.renderer)}get timeOptions(){return this.layer}getUpdateHashProperties(e){return[()=>this.layer.apiKey,()=>this.layer.customParameters,()=>r(this.layer,e),()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>this.layer.orderBy,()=>this.layer.renderer]}setGraphicOrigin(e){e.origin=this.layer.graphicOrigin}setAggregateGraphicOrigin(e){e.origin=this.layer.aggregateGraphicOrigin}setTrackGraphicOrigin(e){e.origin=this.layer.trackGraphicOrigin}_createServiceInfo(r){const i=this.layer,{capabilities:a}=i,o=i.fieldsIndex.toJSON(),s=t(i),l=i.timeInfo?.toJSON(),n=i.spatialReference.toJSON(),c=i.source.getSource(),u=this.layer.objectIdField,p=e(a);p.query.maxRecordCount=c.maxRecordCount;const d=r.spatialReference.toJSON();return{type:\"ogc\",source:c,orderByFields:u,outSpatialReference:d,metadata:{fieldsIndex:o,geometryType:s,featureIdInfo:{type:\"object-id\",fieldName:i.objectIdField},timeInfo:l,spatialReference:n,outSpatialReference:d,globalIdField:null,subtypeField:null,subtypes:null,timeReferenceUnknownClient:null,dateFieldsTimeZone:null,typeIdField:null,types:null},queryMetadata:{maxRecordCount:p.query.maxRecordCount,supportsCompactGeometry:p.query.supportsCompactGeometry,supportsDefaultSpatialReference:p.query.supportsDefaultSpatialReference,supportsFormatPBF:p.query.supportsFormatPBF,supportsMaxRecordCountFactor:p.query.supportsMaxRecordCountFactor,supportsQuantization:p.query.supportsQuantization,supportsCentroidOnDegeneratedQuantizedGeometry:p.query.supportsCentroidOnDegeneratedQuantizedGeometry,supportsDegeneratedQuantizedGeometry:p.query.supportsDegeneratedQuantizedGeometry,lastEditDate:null}}}}export{u as OGCFeatureLayerAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{isHostedAgolService as r}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{getEffectiveFeatureReduction as t}from\"./featureReductionUtils.js\";import{addFloorFilter as i,hasFloorFilter as s}from\"./floorFilterUtils.js\";import{getServiceGeometryType as a}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as o,getLayerDeconflictionEnabled as l,createLabelVVEvaluator as n}from\"./labelingUtils.js\";import{ExceedsLimitCache as d}from\"../schema/ExceedsLimitCache.js\";import{createSnapshotInfo as p,createFeatureSourceSchema as c}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as u}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as y}from\"../support/rendererUtils.js\";class m{constructor(e){this.layer=e,this._cache=new d}getLabelingDeconflictionInfo(e){const r=this.layer,t=o(r,e)??l(r);return[{vvEvaluators:{0:n(r.renderer)},deconflictionEnabled:t}]}async createSourceSchema(e,r){const t=this._createServiceInfo(e),i=null!=this.layer.editingInfo?.lastEditDate,s=this.layer.refreshInterval>0,a=!i&&s,o=p(t.isSourceHosted,a,this.layer.capabilities,t.metadata.geometryType,e.extent,this.layer.fullExtent);return c(t,o,{definitionExpression:this.layer.definitionExpression,queryScaleRanges:[],displayFilterEnabled:e.displayFilterEnabled,displayFilterInfo:this.layer.displayFilterInfo,customParameters:this.layer.customParameters,gdbVersion:this.layer.gdbVersion,historicMoment:this.layer.historicMoment,timeExtent:this.layer.timeExtent,apiKey:this.layer.apiKey,sourceRefreshVersion:r,availableFields:e.availableFields,cache:this._cache})}createProcessorSchema(e,r,i){const{fields:s,renderer:a,geometryType:o,labelingInfo:l,labelsVisible:n,orderBy:d,objectIdField:p}=this.layer,c={fields:s.map(e=>e.toJSON()),renderer:a?.clone(),labelingInfoSource:this.layer.id,featureReduction:t(this.layer,r),geometryType:o,labelingInfo:l,labelsVisible:n,objectIdField:p,orderBy:d??\"default\"};return u(e,r,c,i)}get hasRequiredSupport(){return y(this.layer.renderer)}get timeOptions(){return this.layer}addFilters(e,r){return i(this.layer,e,r)}getUpdateHashProperties(e){return[()=>this.layer.outFields,()=>this.layer.orderBy,()=>this.layer.definitionExpression,()=>this.layer.renderer,()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>t(this.layer,e),()=>this.layer.customParameters,()=>s(this.layer,e)?e.floors:null]}setGraphicOrigin(e){e.origin=this.layer.graphicOrigin}setAggregateGraphicOrigin(e){e.origin=this.layer.aggregateGraphicOrigin}setTrackGraphicOrigin(e){e.origin=this.layer.trackGraphicOrigin}_createServiceInfo(t){const i=this.layer,{capabilities:s,globalIdField:o,orderBy:l}=i,n=i.fieldsIndex.toJSON(),d=a(i),p=i.timeInfo?.toJSON(),c=i.spatialReference.toJSON(),u=e(this.layer.parsedUrl);let y=this.layer.objectIdField;if(l?.length){const e=!l[0].valueExpression&&l[0].field;e&&(y=e)}const m=r(u.path),h=t.spatialReference.toJSON();return{type:\"feature-service\",source:u,isSourceHosted:m,orderByFields:y,outSpatialReference:h,metadata:{globalIdField:o,fieldsIndex:n,geometryType:d,featureIdInfo:{type:\"object-id\",fieldName:i.objectIdField},timeInfo:p,spatialReference:c,outSpatialReference:h,timeReferenceUnknownClient:i.datesInUnknownTimezone,dateFieldsTimeZone:i.dateFieldsTimeZone,subtypeField:null,subtypes:null,typeIdField:null,types:null},queryMetadata:{maxRecordCount:s.query.maxRecordCount,supportsCompactGeometry:s.query.supportsCompactGeometry,supportsDefaultSpatialReference:s.query.supportsDefaultSpatialReference,supportsFormatPBF:s.query.supportsFormatPBF,supportsMaxRecordCountFactor:s.query.supportsMaxRecordCountFactor,supportsQuantization:s.query.supportsQuantization,supportsCentroidOnDegeneratedQuantizedGeometry:s.query.supportsCentroidOnDegeneratedQuantizedGeometry,supportsDegeneratedQuantizedGeometry:s.query.supportsDegeneratedQuantizedGeometry,lastEditDate:null}}}}export{m as OrientedImageryLayerAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Error.js\";import{toParquetJSONGeometryType as r}from\"../../../../../layers/support/parquetUtils.js\";import{getEffectiveFeatureReduction as t}from\"./featureReductionUtils.js\";import{getServiceGeometryType as i}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as l,getLayerDeconflictionEnabled as a,createLabelVVEvaluator as s}from\"./labelingUtils.js\";import{createSimpleProcessorSchema as n}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as o}from\"../support/rendererUtils.js\";class y{constructor(e){this.layer=e}get hasRequiredSupport(){return o(this.layer.renderer)}get timeOptions(){return null}getLabelingDeconflictionInfo(e){const r=this.layer,i=l(r,e)??a(r),n=t(r,e),o=[...r.labelingInfo||[],...n?.labelingInfo||[]];return[{vvEvaluators:{0:s(r.renderer)},deconflictionEnabled:i,labelingInfo:o}]}getUpdateHashProperties(e){return[()=>this.layer.urls.join(\",\"),()=>this.layer.outFields,()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>t(this.layer,e),()=>this.layer.customParameters,()=>this.layer.orderBy,()=>this.layer.renderer,()=>this.layer.popupTemplate]}async createSourceSchema(e,r){const t=this._createServiceInfo(e),i=e.availableFields.includes(\"*\")?this.layer.fields.map(e=>e.name):e.availableFields,l={partial:{urls:[...this.layer.urls.items],availableFields:i},full:{definitionExpression:null,sourceRefreshVersion:r,customParameters:this.layer.customParameters??null}};return{type:\"parquet\",service:t,strategy:this._createStrategy(t,l)}}_createStrategy(e,r){return e.geometryInfo.displayOptimization?{type:\"xz\",...r}:{type:\"snapshot\",...r}}createProcessorSchema(e,r,i){const l={fields:this.layer.fields.map(e=>e.toJSON()),renderer:this.layer.renderer?.clone(),labelingInfoSource:this.layer.id,featureReduction:t(this.layer,r),geometryType:this.layer.geometryType,labelingInfo:this.layer.labelingInfo,labelsVisible:this.layer.labelsVisible,objectIdField:this.layer.objectIdField,orderBy:this.layer.orderBy};return n(e,r,l,i)}setGraphicOrigin(e){e.origin=this.layer.graphicOrigin}setAggregateGraphicOrigin(e){e.origin=this.layer.aggregateGraphicOrigin}_createServiceInfo(t){const l=i(this.layer),a=t.spatialReference.toJSON(),s=this.layer.encoding;if(null==s)throw new e(\"parquet-layer:unsupported\",\"creating a parquet layer view requires an encoding\",{layer:this.layer});return{type:\"parquet\",outSpatialReference:a,geometryInfo:{geometryType:r(this.layer.geometryType),spatialReference:this.layer.spatialReference.toJSON(),encoding:s.toJSON(),displayOptimization:this.layer.displayOptimization},metadata:{spatialReference:this.layer.spatialReference.toJSON(),outSpatialReference:a,fieldsIndex:this.layer.fieldsIndex.toJSON(),featureIdInfo:{type:\"object-id\",fieldName:this.layer.objectIdField},geometryType:l,types:null,subtypes:null,timeInfo:null,typeIdField:null,subtypeField:null,globalIdField:null,timeReferenceUnknownClient:null,dateFieldsTimeZone:null}}}}export{y as ParquetLayerAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getEffectiveFeatureReduction as e}from\"./featureReductionUtils.js\";import{getServiceGeometryType as r}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as t,getLayerDeconflictionEnabled as i,createLabelVVEvaluator as l}from\"./labelingUtils.js\";import{createSimpleProcessorSchema as a}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as n}from\"../support/rendererUtils.js\";class s{constructor(e){this.layer=e}getLabelingDeconflictionInfo(r){const a=this.layer,n=t(a,r)??i(a),s=e(a,r),o=[...a.labelingInfo||[],...s?.labelingInfo||[]];return[{vvEvaluators:{0:l(a.renderer)},deconflictionEnabled:n,labelingInfo:o}]}async createSourceSchema(e,r){return{type:\"stream\",service:this._createServiceInfo(e),strategy:{type:\"stream\",partial:{sourceRefreshVersion:r},full:{availableFields:e.availableFields,geometryDefinition:this.layer.geometryDefinition?.toJSON(),definitionExpression:this.layer.definitionExpression,customParameters:this.layer.customParameters,maxReconnectionAttempts:this.layer.maxReconnectionAttempts,maxReconnectionInterval:this.layer.maxReconnectionInterval,purgeOptions:this.layer.purgeOptions.toJSON()}}}}createProcessorSchema(r,t,i){const{fields:l,renderer:n,geometryType:s,labelingInfo:o,labelsVisible:c,objectIdField:y,trackInfo:p}=this.layer,f={fields:l.map(e=>e.toJSON()),renderer:n?.clone(),labelingInfoSource:this.layer.id,featureReduction:e(this.layer,t),geometryType:s,labelingInfo:o,labelsVisible:c,objectIdField:y,orderBy:\"default\",trackInfo:p};return a(r,t,f,i)}get hasRequiredSupport(){return n(this.layer.renderer)}get timeOptions(){return this.layer}getUpdateHashProperties(r){return[()=>this.layer.definitionExpression,()=>this.layer.renderer,()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>e(this.layer,r),()=>this.layer.customParameters,()=>this.layer.geometryDefinition,()=>this.layer.definitionExpression,()=>this.layer.trackInfo]}setGraphicOrigin(e){e.origin=this.layer.graphicOrigin}setAggregateGraphicOrigin(e){e.origin=this.layer.aggregateGraphicOrigin}setTrackGraphicOrigin(e){e.origin=this.layer.trackGraphicOrigin}_createServiceInfo(e){const t=r(this.layer),i=this.layer.timeInfo?.toJSON()||null,l=this.layer.spatialReference?this.layer.spatialReference.toJSON():null,a=e.spatialReference.toJSON();return{type:\"stream\",source:this.layer.parsedUrl,outSpatialReference:a,metadata:{fieldsIndex:this.layer.fieldsIndex.toJSON(),geometryType:t,featureIdInfo:{type:\"object-id\",fieldName:this.layer.objectIdField},timeInfo:i,timeReferenceUnknownClient:null,dateFieldsTimeZone:null,spatialReference:l,outSpatialReference:a,subtypeField:null,subtypes:null,globalIdField:null,typeIdField:null,types:null}}}}export{s as StreamLayerAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{createLabelMatcherSchema as e}from\"./LabelMatcherSchema.js\";import{createMatcherSchema as r}from\"./MatcherSchema.js\";import{createVVBindings as t}from\"./StorageSchema.js\";import{createVisualVariableUniforms as s}from\"./VisualVariablesSchema.js\";import{getWebGLCapabilities as i}from\"../../../../../webgl/capabilities.js\";async function a(e,{subtypeField:t,sublayers:s}){const i=await Promise.all(s.map(({renderer:t})=>r(e,t)));return{type:\"subtype\",subtypeField:t,renderers:s.reduce((e,{subtypeCode:r},t)=>({...e,[r]:i[t]}),{})}}function n(e,r){const s=i();return{type:\"multi\",filters:e.filters,capabilities:{maxTextureSize:s.maxTextureSize},keyField:r.subtypeField,target:\"feature\",bindings:r.sublayers.reduce((e,{renderer:r,subtypeCode:s})=>{const i=t(r);return{...e,[s]:i}},{})}}async function o(r,{subtypeField:t,sublayers:i,labelingInfoSource:a}){const n=await Promise.all(i.map(t=>{const i=s(t.renderer),n={...t,geometryType:t.geometryType??null,labelingInfoSource:a};return e(r,n,i)}));return{type:\"subtype\",subtypeField:t,renderers:i.reduce((e,{subtypeCode:r},t)=>({...e,[r]:n[t]}),{})}}async function u(e,r,t,s){return{storage:n(r,t),mesh:{properties:{timeZone:r.timeZone,displayRefreshVersion:s,returnMeshObjectId:!1,sortKey:null,currentUser:r.currentUser},strategy:{type:\"feature\"},factory:{symbology:await a(e,t),labels:await o(e,t)}},expressionProperties:{timeExtent:r.timeExtent?.toJSON()}}}export{u as createSubtypeProcessorSchema};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{floatEqualAbsolute as t}from\"../../../../../core/mathUtils.js\";import{sqlAnd as r}from\"../../../../../core/sql.js\";import{isHostedAgolService as a}from\"../../../../../layers/support/arcgisLayerUrl.js\";import i from\"../../../../../layers/support/FeatureFilter.js\";import{createFeatureIdInfo as s}from\"./featureServiceUtils.js\";import{addFloorFilter as l,hasFloorFilter as o}from\"./floorFilterUtils.js\";import{getServiceGeometryType as n}from\"./geometryUtils.js\";import{getLayerDeconflictionEnabled as u}from\"./labelingUtils.js\";import{ExceedsLimitCache as c}from\"../schema/ExceedsLimitCache.js\";import{createSnapshotInfo as p,createFeatureSourceSchema as y}from\"../schema/SourceSchema.js\";import{createSubtypeProcessorSchema as m}from\"../schema/processor/SubtypeProcessorSchema.js\";class d{constructor(e){this.layer=e,this._cache=new c}getLabelingDeconflictionInfo(e){const t=this.layer;return[{vvEvaluators:{},deconflictionEnabled:t.sublayers.some(e=>u(e)),labelingInfo:t.sublayers.toArray().filter(e=>!!e.labelingInfo).flatMap(e=>e.labelingInfo)}]}async createSourceSchema(e,t){const{definitionExpression:r,customParameters:a,gdbVersion:i,historicMoment:s,timeExtent:l,apiKey:o,displayFilterInfo:n}=this.layer,u=this._createServiceInfo(e),c=null!=this.layer.editingInfo?.lastEditDate,m=this.layer.refreshInterval>0,d=!c&&m,f=p(u.isSourceHosted,d,this.layer.capabilities,u.metadata.geometryType,e.extent,this.layer.fullExtent);return y(u,f,{definitionExpression:r,queryScaleRanges:this.layer.sublayers.items.map(e=>({subtypeCode:e.subtypeCode,minScale:e.minScale,maxScale:e.maxScale})),displayFilterEnabled:e.displayFilterEnabled,displayFilterInfo:n,customParameters:a,gdbVersion:i,historicMoment:s,timeExtent:l,apiKey:o,sourceRefreshVersion:t,availableFields:e.availableFields,cache:this._cache})}createProcessorSchema(e,t,r){const a={labelingInfoSource:this.layer.id,subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers,(e,t)=>({featureReduction:null,geometryType:this.layer.geometryType,labelingInfoSource:this.layer.id+`-${t}`,labelingInfo:e.labelingInfo,labelsVisible:e.labelsVisible,renderer:e.renderer,subtypeCode:e.subtypeCode,orderBy:null}))};return m(e,t,a,r)}addFilters(e,t){e=l(this.layer,e,t);const a=this.layer.sublayers.filter(e=>!f(e,t)).map(e=>e.subtypeCode);if(!a.length)return e;e??=new i;const s=`NOT ${this.layer.subtypeField} IN (${a.join(\",\")})`;return e.where=r(e.where,s),e}get hasRequiredSupport(){return!0}get timeOptions(){return this.layer}getUpdateHashProperties(e){return[()=>this.layer.apiKey,()=>this.layer.customParameters,()=>this.layer.definitionExpression,()=>o(this.layer,e)?e.floors:null,()=>this.layer.outFields,()=>this.layer.gdbVersion,()=>this.layer.historicMoment,()=>this.layer.sublayers.map(({renderer:e,labelsVisible:t,labelingInfo:r,visible:a,minScale:i,maxScale:s})=>({renderer:e,labelsVisible:t,labelingInfo:r,visible:a,minScale:i,maxScale:s}))]}setGraphicOrigin(e){const t=this.layer.findSublayerForFeature(e);e.layer=e.sourceLayer=t,e.origin=t?.graphicOrigin}_createServiceInfo(t){const{capabilities:r,datesInUnknownTimezone:i,dateFieldsTimeZone:l,editingInfo:o,globalIdField:u,objectIdField:c,subtypeField:p}=this.layer,y=this.layer.fieldsIndex.toJSON(),m=n(this.layer),d=this.layer.timeInfo?.toJSON(),f=this.layer.spatialReference.toJSON(),h=e(this.layer.parsedUrl),b=c,g=a(h.path),S=t.spatialReference.toJSON();return{type:\"feature-service\",source:h,isSourceHosted:g,orderByFields:b,outSpatialReference:S,metadata:{timeReferenceUnknownClient:i,dateFieldsTimeZone:l,subtypeField:p,globalIdField:u,fieldsIndex:y,geometryType:m,featureIdInfo:s(this.layer),timeInfo:d,spatialReference:f,outSpatialReference:S,subtypes:this.layer.subtypes?.map(e=>e.toJSON()),typeIdField:null,types:null},queryMetadata:{maxRecordCount:r.query.maxRecordCount,supportsCompactGeometry:r.query.supportsCompactGeometry,supportsDefaultSpatialReference:r.query.supportsDefaultSpatialReference,supportsFormatPBF:r.query.supportsFormatPBF,supportsMaxRecordCountFactor:r.query.supportsMaxRecordCountFactor,supportsQuantization:r.query.supportsQuantization,supportsCentroidOnDegeneratedQuantizedGeometry:r.query.supportsCentroidOnDegeneratedQuantizedGeometry,supportsDegeneratedQuantizedGeometry:r.query.supportsDegeneratedQuantizedGeometry,lastEditDate:o?.lastEditDate?.getTime()}}}}function f(e,r){return e.visible&&(0===e.minScale||t(r.scale,e.minScale)||r.scale<e.minScale)&&(0===e.maxScale||t(r.scale,e.maxScale)||r.scale>e.maxScale)}export{d as SubtypeGroupLayerAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass e{constructor(){this._commands=new Map,this._historicMoment=null}add(e){switch(e.type){case\"override\":return this._addOverride(e);case\"override-by-id\":return this._addOverrideById(e)}}toMessage(){const e={historicMoment:this._historicMoment,commands:{updateByIdWeak:[],updateWeak:[],removeWeak:[],update:[],remove:[],release:[]}};for(const[s,r]of this._commands.entries())switch(r.type){case\"override-update-by-id\":e.commands.updateByIdWeak.push(s);break;case\"override-update\":r.isWeak?e.commands.updateWeak.push(r.feature):e.commands.update.push(r.feature);break;case\"override-remove\":r.isWeak?e.commands.removeWeak.push(s):e.commands.remove.push(s);break;case\"override-release\":e.commands.release.push(s)}return e}_addOverrideById(e){this._historicMoment=e.historicMoment;for(const s of e.updates)this._commands.set(s,{type:\"override-update-by-id\",isWeak:e.isWeak});for(const s of e.removed)this._commands.set(s,{type:\"override-remove\",isWeak:e.isWeak})}_addOverride(e){this._historicMoment=e.historicMoment;for(const s of e.updates)this._commands.set(s.objectId,{type:\"override-update\",feature:s,isWeak:e.isWeak});for(const s of e.removed)this._commands.set(s,{type:\"override-remove\",isWeak:e.isWeak});for(const s of e.release)this._commands.set(s,{type:\"override-release\"})}}export{e as DebouncedFeatureOverride};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nasync function n(n,r){try{return await n}catch(t){if(\"no-queryEngine\"!==t.name)throw t;return r}}export{n as handleNoEngineError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport s from\"./TileKey.js\";function e(s,e){const i=new Set;for(const t of s instanceof Set?s.values():s.keys())e.has(t)||i.add(t);return i}class i{constructor(s,e,i){this.target=new Map,this.previous=new Map;const t=i?s.getTileCoverage(i,0,!0,\"closest\"):null,r=s.getTileCoverage(e,0,!0,\"closest\");if(this.target.clear(),this.previous.clear(),t)for(const o of t.keys())this.previous.set(o.id,o);if(r)for(const o of r.keys())this.target.set(o.id,o)}*values(){yield*this.target.values(),yield*this.previous.values()}*keys(){yield*this.target.keys(),yield*this.previous.keys()}}class t{constructor(s){this.version=s}}class r{constructor(s){this._subscriptions=new Map,this._visible=new Set,this._version=0,this._strategy=\"eager\",this._config=s}destroy(){}get coverage(){return this._coverage}get subscriptions(){return new Set(this._subscriptions.keys())}setVisibilityStrategy(s){this._strategy=s}suspend(){this._suspendedCoverage=this._coverage,this._coverage=null,this._updateSubscriptions()}resume(){null==this._coverage&&(this._coverage=this._suspendedCoverage,this._suspendedCoverage=null,this._updateSubscriptions())}update(s,e){return this._version=(this._version+1)%Number.MAX_SAFE_INTEGER,this._coverage=new i(this._config.tileInfoView,s,e),this._updateSubscriptions(),new Set(this._visible)}updateVisibility(){const s=this._updateVisibility();return this._visible=s,this._visible}_updateSubscriptions(){if(!this._coverage)return;const s=this._updateVisibility(),i=new Set(this._coverage.keys()),r=e(this._subscriptions,s),o=e(i,this._subscriptions),n=e(r,i);this._visible=s;for(const e of o.values())this._subscriptions.set(e,new t(this._version));for(const e of n.values())this._subscriptions.delete(e);(o.size||n.size)&&this._sendUpdateSubscriptions(o,n)}_sendUpdateSubscriptions(s,e){const i=Array.from(s.values()).map(s=>({tileId:s,version:this._subscriptions.get(s).version}));this._config.updateSubscriptions({subscribe:i,unsubscribe:Array.from(e.values())})}_updateVisibility(){if(!this._coverage)return new Set;switch(this._strategy){case\"eager\":return this._updateVisibilityEager(this._coverage);case\"target-defer\":return this._updateVisibilityTargetDefer(this._coverage)}}_updateVisibilityEager(s){const e=new Set;for(const i of s.values()){if(this._config.isDone(i)){e.add(i.id);continue}if(this._addVisibleParent(e,i))continue;this._addVisibleChildren(e,i)||e.add(i.id)}return e}_updateVisibilityTargetDefer(s){const e=new Set,i=Array.from(s.target.values());if(!i.some(s=>!this._config.isDone(s))){for(const s of i)e.add(s.id);return e}for(const t of s.values()){if(this._addVisibleParent(e,t))continue;this._addVisibleChildren(e,t)||e.add(t.id)}return e}_addVisibleParent(e,i){let t=!1;for(const r of this._visible.values()){new s(r).containsChild(i)&&(e.add(r),t=!0)}return t}_addVisibleChildren(e,i){let t=!1;for(const r of this._visible.values()){const o=new s(r);i.containsChild(o)&&(e.add(r),t=!0)}return t}}export{r as FeatureTileSubscriptionManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction t(t){const e=t?.fieldsIndex,n=\"fromnetworksourceid\",o=\"fromglobalid\",i=\"fromterminalid\",r=\"fromfirstunit\",a=\"fromnumunits\",m=\"tonetworksourceid\",s=\"toglobalid\",l=\"toterminalid\",u=\"tofirstunit\",g=\"tonumunits\",f=\"status\",d=\"associationtype\",c=\"iscontentvisible\",p=\"percentalong\",I=\"globalid\";return{fromNetworkSourceId:e?.get(n)?.name??n,fromGlobalId:e?.get(o)?.name??o,fromTerminalId:e?.get(i)?.name??i,fromFirstUnit:e?.get(r)?.name??r,fromNumUnits:e?.get(a)?.name??a,toNetworkSourceId:e?.get(m)?.name??m,toGlobalId:e?.get(s)?.name??s,toTerminalId:e?.get(l)?.name??l,toFirstUnit:e?.get(u)?.name??u,toNumUnits:e?.get(g)?.name??g,status:e?.get(f)?.name??f,associationType:e?.get(d)?.name??d,isContentVisible:e?.get(c)?.name??c,percentAlong:e?.get(p)?.name??p,globalId:e?.get(t?.globalIdField??I)?.name??I}}function e(t,e){if(\"feature\"!==e.type&&\"subtype-group\"!==e.type)return[];if(!e.url)return[];const n=\"utilityNetworks\"in t.map?t.map.utilityNetworks??[]:[];for(const o of n)if(o.isUtilityLayer(e)){const t=e.fieldsIndex.get(\"assetgroup\"),n=e.fieldsIndex.get(\"assettype\");return[t?.name,n?.name].filter(t=>null!=t)}return[]}export{t as getAssociationsTableFields,e as getUtilityNetworkFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{parseWhereClause as i}from\"../../../core/sql.js\";class s{constructor(i){this._fieldsIndex=i,this._clauses=[]}async finish(){return{requiresCurrentUser:(await Promise.all(this._clauses)).some(i=>i.currentUserRequired)}}visitClientWhereClause(s){s&&this._clauses.push(i(s,this._fieldsIndex))}visitFeatureReduction(i){if(i)switch(i.type){case\"binning\":case\"cluster\":this.visitLabelingInfo(i.labelsVisible,i.labelingInfo)}}visitLabelingInfo(i,s){if(i&&null!=s)for(const e of s)this.visitClientWhereClause(e.where)}visitDisplayFilter(i,s){if(i)for(const e of s?.filters??[])this.visitClientWhereClause(e.where)}visitFilter(i){this.visitClientWhereClause(i?.where)}visitTrackInfo(i){null!=i&&(this.visitLabelingInfo(i?.latestObservations.labelsVisible,i?.latestObservations.labelingInfo),this.visitLabelingInfo(i?.previousObservations.labelsVisible,i?.previousObservations.labelingInfo),this.visitLabelingInfo(i?.trackLines.labelsVisible,i?.trackLines.labelingInfo))}}export{s as WhereClauseVisitor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import{throwIfAborted as i}from\"../../core/promiseUtils.js\";import{watch as r,on as s,syncAndInitial as l}from\"../../core/reactiveUtils.js\";import{sqlOr as o,sqlIn as n,sqlAnd as a}from\"../../core/sql.js\";import{property as u}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/RandomLCG.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{getPopupProvider as p}from\"../../graphic/getPopupProvider.js\";import{getFeatureIdInfoFieldNames as f}from\"../../layers/graphics/data/FeatureIdInfo.js\";import{systemIsSpatialFieldName as y}from\"../../layers/knowledgeGraph/constants.js\";import{getEffectiveDisplayFilter as h}from\"../../layers/support/displayFilterUtils.js\";import m from\"../../layers/support/FeatureEffect.js\";import c from\"../../layers/support/FeatureFilter.js\";import{getSignedInUser as F}from\"../../layers/support/featureLayerUtils.js\";import{fetchFeaturePopupFeatures as g,loadFeaturePopupArcadeModules as I}from\"../../layers/support/featurePopupQueryUtils.js\";import{fixFields as w,unpackFieldNames as b,collectLabelingFields as v,collectElevationFields as E,collectFilterFields as x,collectFeatureReductionFields as q,collectOrderByInfos as R,collectFields as j,collectTrackInfoFields as C,collectDisplayFilterFields as _,collectField as O,featureHasFields as k}from\"../../layers/support/fieldUtils.js\";import{getFloorFilterClause as P}from\"../../layers/support/floorFilterUtils.js\";import{getUtilityNetworkFields as U}from\"../../networks/support/networkFieldUtils.js\";import L from\"../../rest/support/Query.js\";import{createFeatureIdInfo as S}from\"../2d/layers/features/layerAdapters/featureServiceUtils.js\";import{getFetchPopupTemplate as T,getRequiredFields as D}from\"./support/popupUtils.js\";import{WhereClauseVisitor as N}from\"./support/WhereClauseVisitor.js\";const Q=Q=>{const G=Q;let A=class extends G{constructor(...e){super(...e),this._updatingRequiredPromise=null,this.filter=null,this.layer=null,this.requiresCurrentUser=!1,this.requiredFields=[],this.view=null}initialize(){this.addHandles([r(()=>{const e=this.layer,t=this.view;return[e&&\"elevationInfo\"in e?e.elevationInfo?.featureExpressionInfo:null,e&&\"displayField\"in e?e.displayField:null,e&&\"timeInfo\"in e&&e.timeInfo,e&&\"renderer\"in e&&e.renderer,e&&\"labelingInfo\"in e&&e.labelingInfo,e&&\"floorInfo\"in e&&e.floorInfo,t?.requiredFieldsOptions?.featureTitleFields&&e&&\"featureTitleFields\"in e&&e.featureTitleFields,t?.requiredFieldsOptions?.utilityNetworkFields&&U(t,e),e.displayFilterInfo,this.displayFilterEnabled,this.filter,this.featureEffect,this.timeExtent,\"knowledge-graph-sublayer\"===e?.type&&\"link-chart\"===e.parentCompositeLayer.type&&e.parentCompositeLayer.linkChart?.linkChartProperties.nonspatialDataDisplay?.mode]},()=>this._handleChange(),l),s(()=>this.view?.floors,\"change\",()=>this._handleChange()),s(()=>this.layer.displayFilterInfo?.filters,\"change\",()=>this._handleChange()),s(()=>this.layer&&\"sublayers\"in this.layer?this.layer.sublayers:null,\"change\",()=>this._handleChange())])}get availableFields(){if(!this.layer)return[];const{layer:e,layer:{fieldsIndex:t},requiredFields:i}=this;return\"outFields\"in e&&e.outFields?w(t,[...b(t,e.outFields),...i]):w(t,i)}get displayFilterEnabled(){return(this.view?.displayFilterEnabled??!0)&&(!(\"displayFilterEnabled\"in this.layer)||(this.layer?.displayFilterEnabled??!0))}get effectiveDisplayFilter(){const e=this.layer;return this.displayFilterEnabled&&e.displayFilterInfo?h(e.displayFilterInfo,this.view):null}get effectiveDisplayFilterClause(){const e=this.effectiveDisplayFilter?.where??null;return e&&this.hasHighlight?o(e,n(this.layer.objectIdField,this.highlightIds)):e}get featureEffect(){return this.layer&&\"featureEffect\"in this.layer?this.layer.featureEffect:null}set featureEffect(e){this._override(\"featureEffect\",e)}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){t.getLogger(this).error(\"#maximumNumberOfFeatures=\",\"Setting maximum number of features is not supported\")}get maximumNumberOfFeaturesExceeded(){return!1}get signedInUser(){return this.layer?.url?F(this.layer.url):Promise.resolve(null)}highlight(e,t){throw new Error(\"missing implementation\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},t=null!=this.filter?this.filter.createQuery(e):new L(e);return\"floorInfo\"in this.layer&&this.layer.floorInfo&&(t.where=a(t.where,P(this))),this.displayFilterEnabled&&(t.where=a(t.where,this.effectiveDisplayFilter?.where)),null!=this.timeExtent&&(t.timeExtent=null!=t.timeExtent?t.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),t}createAggregateQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return new L(e)}queryFeatures(e,t){throw new Error(\"missing implementation\")}queryObjectIds(e,t){throw new Error(\"missing implementation\")}queryFeatureCount(e,t){throw new Error(\"missing implementation\")}queryExtent(e,t){throw new Error(\"missing implementation\")}async fetchPopupFeaturesFromGraphics(e,t){const i=[],r=new Set;for(const l of e){const e=p(l.origin),s=T(e,{...t,checkPopupEnabled:!0});s&&(i.push(l),r.add(s))}if(0===i.length||0===r.size)return[];const s=await this._createPopupQuery(r,t);return await g(this.layer,i,s,{hasRequiredFields:(e,t)=>this._popupFeatureHasRequiredFields(e,t),...t})}_handleChange(){const e=Promise.all([this._updateRequiredFields(),this._updateClientWhereClauseRequirements()]).then(()=>{});return this._set(\"_updatingRequiredPromise\",e),e.then(()=>{this._updatingRequiredPromise===e&&this._set(\"_updatingRequiredPromise\",null)}),e}async _updateClientWhereClauseRequirements(){if(!this.layer||!this.view)return;const{layer:e}=this,i=new N(e.fieldsIndex);if(i.visitFilter(this.filter),\"featureReduction\"in e&&i.visitFeatureReduction(e.featureReduction),\"labelingInfo\"in e&&i.visitLabelingInfo(e.labelsVisible,e.labelingInfo),\"trackInfo\"in e&&i.visitTrackInfo(e.trackInfo),\"2d\"===this.view.type&&(i.visitFilter(this.featureEffect?.filter),i.visitDisplayFilter(this.displayFilterEnabled,e.displayFilterInfo),\"featureReduction\"in e&&i.visitFeatureReduction(e.featureReduction)),\"subtype-group\"===e.type)for(const t of e.sublayers)i.visitLabelingInfo(t.labelsVisible,t.labelingInfo);try{const e=await i.finish();this._set(\"requiresCurrentUser\",e.requiresCurrentUser)}catch(r){t.getLogger(this).error(r)}}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e=\"3d\"===this.view.type,{layer:i,layer:{fieldsIndex:r}}=this,s=\"renderer\"in i&&i.renderer,l=\"orderBy\"in i&&i.orderBy,o=\"featureReduction\"in i?i.featureReduction:null,n=new Set,a=[s?s.collectRequiredFields(n,r):null,v(n,i),e&&\"elevationInfo\"in i?E(n,i):null,null!=this.filter?x(n,i,this.filter):null,e||null==this.featureEffect?null:x(n,i,this.featureEffect.filter),!e&&o?q(n,i,o):null,!e&&l?R(n,i,l):null];if(\"timeInfo\"in i&&i.timeInfo&&this.timeExtent&&j(n,i.fieldsIndex,[i.timeInfo.startField,i.timeInfo.endField]),\"timeInfo\"in i&&i.timeInfo&&\"trackInfo\"in i&&i.trackInfo){const{trackInfo:e}=i;j(n,i.fieldsIndex,[i.timeInfo.trackIdField]),\"feature\"!==i.type&&\"startTimeField\"!==e.timeField||j(n,i.fieldsIndex,[i.timeInfo.startField]),\"endTimeField\"===e.timeField&&j(n,i.fieldsIndex,[i.timeInfo.endField]),await C(n,i)}if(\"floorInfo\"in i&&i.floorInfo&&j(n,i.fieldsIndex,[i.floorInfo.floorField]),\"featureTitleFields\"in i&&this.view?.requiredFieldsOptions?.featureTitleFields&&i.featureTitleFields&&j(n,i.fieldsIndex,i.featureTitleFields),\"feature\"===i.type&&i.globalIdField&&this.view?.requiredFieldsOptions?.globalIdField&&j(n,i.fieldsIndex,[i.globalIdField]),this.displayFilterEnabled&&a.push(_(n,i,i.displayFilterInfo)),\"feature\"===i.type&&e&&null!=i.infoFor3D&&(null==i.globalIdField&&t.getLogger(this).error(\"globalIdField missing on 3DObjectFeatureLayer\"),j(n,i.fieldsIndex,[i.globalIdField])),\"subtype-group\"===i.type){O(n,r,i.subtypeField);const e=i.sublayers.map(e=>Promise.all([e.renderer?.collectRequiredFields(n,r),v(n,e)]));a.push(Promise.all(e))}if(\"catalog-footprint\"===i.type&&i.parent){const e=i.parent;j(n,r,[e.itemNameField,e.itemSourceField,e.itemTypeField,e.maxScaleField,e.minScaleField])}\"knowledge-graph-sublayer\"===i.type&&\"link-chart\"===i.parentCompositeLayer.type&&O(n,r,y);const u=await Promise.allSettled(a);if(e)O(n,r,i.objectIdField);else for(const t of f(S(i)))O(n,r,t);e&&\"displayField\"in i&&i.displayField&&O(n,r,i.displayField);for(const p of u)\"rejected\"===p.status&&t.getLogger(this).error(p.reason);const d=Array.from(n).sort();this._set(\"requiredFields\",d)}_popupFeatureHasRequiredFields(e,t){return k(e,t)}async _createPopupQuery(e,t){const r=this.layer.createQuery(),s=new Set;let l=\"point\"===this.layer.geometryType;for(const o of e){if(!l){const e=await I(o);i(t),l=(e&&e.arcadeUtils.hasGeometryOperations(o))??!1}const e=await D(this.layer,o);i(t);for(const t of e)s.add(t)}return r.returnGeometry=l,r.returnZ=l,r.returnM=l,r.outFields=Array.from(s),r.outSpatialReference=this.view.spatialReference,\"floorInfo\"in this.layer&&this.layer.floorInfo&&(r.where=a(r.where,P(this))),r}canResume(){return!!super.canResume()&&(null==this.timeExtent||!this.timeExtent.isEmpty)}getTest(){}get test(){}};return e([u()],A.prototype,\"_updatingRequiredPromise\",void 0),e([u({readOnly:!0})],A.prototype,\"availableFields\",null),e([u({readOnly:!0})],A.prototype,\"displayFilterEnabled\",null),e([u({readOnly:!0})],A.prototype,\"effectiveDisplayFilter\",null),e([u({readOnly:!0})],A.prototype,\"effectiveDisplayFilterClause\",null),e([u({type:m})],A.prototype,\"featureEffect\",null),e([u({type:c})],A.prototype,\"filter\",void 0),e([u()],A.prototype,\"layer\",void 0),e([u({type:Number})],A.prototype,\"maximumNumberOfFeatures\",null),e([u({readOnly:!0,type:Boolean})],A.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([u()],A.prototype,\"requiresCurrentUser\",void 0),e([u({readOnly:!0})],A.prototype,\"requiredFields\",void 0),e([u({readOnly:!0})],A.prototype,\"signedInUser\",null),e([u()],A.prototype,\"suspended\",void 0),e([u()],A.prototype,\"view\",void 0),A=e([d(\"esri.views.layers.FeatureLayerView\")],A),A};export{Q as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../AggregateGraphic.js\";import r from\"../../../Graphic.js\";import i from\"../../../TrackGraphic.js\";import{isSome as s}from\"../../../core/arrayUtils.js\";import a from\"../../../core/Collection.js\";import{neverReached as o}from\"../../../core/compilerUtils.js\";import n from\"../../../core/Error.js\";import{makeHandle as u,handlesGroup as l}from\"../../../core/handleUtils.js\";import has from\"../../../core/has.js\";import h from\"../../../core/Logger.js\";import{destroyMaybe as c}from\"../../../core/maybe.js\";import{notDeepEqual as p}from\"../../../core/object.js\";import{createAbortError as d,createResolver as y,ignoreAbortErrors as g,throwIfNotAbortError as f,isAbortError as m}from\"../../../core/promiseUtils.js\";import{watch as w}from\"../../../core/reactiveUtils.js\";import{sqlAnd as v}from\"../../../core/sql.js\";import{getMetersPerUnitForSR as _}from\"../../../core/unitUtils.js\";import{property as b}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as S}from\"../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as A}from\"../../../core/support/UpdatingHandles.js\";import F from\"../../../geometry/Extent.js\";import{isCurvedGeometry as j}from\"../../../geometry/support/curves/curveUtils.js\";import{densifyCurvedGeometry as U}from\"../../../geometry/support/curves/densifyCurvedGeometry.js\";import x from\"../../../layers/effects/FeatureEffectView.js\";import{convertFromFeature as I}from\"../../../layers/graphics/featureConversionUtils.js\";import k from\"../../../layers/support/FeatureFilter.js\";import{checkServiceCurrentUserSupport as E}from\"../../../layers/support/featureLayerUtils.js\";import{packFields as C}from\"../../../layers/support/fieldUtils.js\";import{getEffectiveLayerCapabilities as O}from\"../../../layers/support/layerUtils.js\";import{combineTimeExtent as R}from\"../../../layers/support/timeSupport.js\";import q from\"../../../rest/support/AggregateFeatureSet.js\";import V from\"../../../rest/support/AttributeBinsFeatureSet.js\";import Q from\"../../../rest/support/AttributeBinsQuery.js\";import L from\"../../../rest/support/FeatureSet.js\";import M from\"../../../rest/support/Query.js\";import{LayerView2DMixin as T}from\"./LayerView2D.js\";import{FeatureContainer as P}from\"./features/FeatureContainer.js\";import{createFeaturePipelineWorkerProxy as H}from\"./features/FeaturePipelineWorkerProxy.js\";import{FeatureSourceEventLog as W}from\"./features/FeatureSourceEventLog.js\";import{CatalogFootprintLayerAdapter as D}from\"./features/layerAdapters/CatalogFootprintLayerAdapter.js\";import{FeatureLayerAdapter as G}from\"./features/layerAdapters/FeatureLayerAdapter.js\";import{createFeatureIdInfo as N}from\"./features/layerAdapters/featureServiceUtils.js\";import{InMemoryLayerAdapter as J}from\"./features/layerAdapters/InMemoryLayerAdapter.js\";import{KnowledgeGraphSublayerAdapter as $}from\"./features/layerAdapters/KnowledgeGraphSublayerAdapter.js\";import{OGCFeatureLayerAdapter as B}from\"./features/layerAdapters/OGCFeatureLayerAdapter.js\";import{OrientedImageryLayerAdapter as z}from\"./features/layerAdapters/OrientedImageryLayerAdapter.js\";import{ParquetLayerAdapter as Z}from\"./features/layerAdapters/ParquetLayerAdapter.js\";import{StreamLayerAdapter as K}from\"./features/layerAdapters/StreamLayerAdapter.js\";import{SubtypeGroupLayerAdapter as X}from\"./features/layerAdapters/SubtypeGroupLayerAdapter.js\";import{createComplexSymbolInstances as Y}from\"./features/schema/processor/symbols/ComplexSymbolSchema.js\";import{DebouncedFeatureOverride as ee}from\"./support/DebouncedFeatureOverride.js\";import{FeatureCommandQueue as te}from\"./support/FeatureCommandQueue.js\";import{handleNoEngineError as re}from\"./support/handleNoEngineError.js\";import{toJSONGeometryType as ie}from\"./support/util.js\";import{FeatureTileSubscriptionManager as se}from\"../tiling/FeatureTileSubscriptionManager.js\";import ae from\"../../layers/FeatureLayerView.js\";import oe from\"../../layers/LayerView.js\";import{RefreshableLayerView as ne}from\"../../layers/RefreshableLayerView.js\";import{getHighlightName as ue}from\"../../support/highlightOptionsUtils.js\";function le(e,t){const r=new Set;return e&&e.forEach(e=>r.add(e)),t&&t.forEach(e=>r.add(e)),r.has(\"*\")?[\"*\"]:Array.from(r)}const he=4294967294;function ce(e,t){return l(e.map(e=>w(()=>{const t=e();return t&&\"object\"==typeof t?\"getTime\"in t&&\"function\"==typeof t.getTime?t.getTime():JSON.stringify(t):t},t)))}function pe(e){if(!e.geometry)return e;if(!j(e.geometry))return e;const t=.001/_(e.geometry.spatialReference),r=100;return{geometry:U(e.geometry,{maxSegmentsPerCurve:12e3,maxSegmentLength:r*t,maxDeviation:0}),attributes:e.attributes}}let de=class extends(ae(ne(T(oe)))){constructor(){super(...arguments),this._commandsQueue=new te({process:e=>{switch(e.type){case\"override-batch\":return this._doOverride(e);case\"update\":return this._doUpdate();case\"highlight\":return this._updateHighlights()}}}),this._visibilityOverrides=new Set,this._lastAvailableFields=[],this._lastTargetState=null,this.eventLog=new W,this._sourceRefreshVersion=1,this._displayRefreshVersion=1,this._pipelineUpdating=!1,this._editUpdatingHandles=new A,this._fields=null,this._sourceUpdating=!1,this.featureEffectView=new x,this._lastUpdate=0}destroy(){this._editUpdatingHandles.destroy(),this._workerProxy?.destroy(),this._workerAttached.reject(d()),this._commandsQueue.destroy()}initialize(){this._workerAttached=y(),g(this._workerAttached.promise),this.addResolvingPromise(this._initProxy()),this.featureEffectView.featureEffect=this.featureEffect,this.featureEffectView.endTransition()}async _initProxy(){const e=this.layer;if(\"isTable\"in e&&e.isTable)throw new n(\"featurelayerview:table-not-supported\",\"table feature layer can't be displayed\",{layer:e});if((\"feature\"===e.type||\"subtype-group\"===e.type)&&!1===O(e)?.operations.supportsQuery)throw new n(\"featurelayerview:query-not-supported\",\"layer view requires a layer with query capability\",{layer:e});this._workerProxy&&this._workerProxy.destroy();const t=this._createClientOptions();this._workerProxy=await H(t)}async _attachProxy(){const e={tileInfoJSON:this.view?.featuresTilingScheme?.tileInfo?.toJSON()};try{await this._workerProxy.pipeline.onAttach(e),this._workerAttached.resolve()}catch(t){this._workerAttached.reject(d()),f(t)}}async _detachProxy(){return this._workerProxy.pipeline.onDetach()}async getWorker(){return await this._workerAttached.promise,this._workerProxy}get dataUpdating(){return this._sourceUpdating||this._editUpdatingHandles.updating}get hasAllFeatures(){return this.layer.visible&&!this.suspended&&this.eventLog.hasAllData&&this.eventLog.willQueryAllFeatures}get hasAllFeaturesInView(){const e=this.effectiveDisplayFilter?.where||null,t=!this.eventLog.willQueryAllFeatures&&null!=e&&\"1=1\"!==e;return this.layer.visible&&!this.suspended&&this.eventLog.hasAllData&&!t}get hasFullGeometries(){return this.layer.visible&&!this.suspended&&this.eventLog.hasAllData&&this.eventLog.willQueryFullResolutionGeometry}get labelingCollisionInfos(){const e=this.layerAdapter.getLabelingDeconflictionInfo(this.view),t=this.layer.geometryType,r=!this.suspended;return e.map(({vvEvaluators:e,deconflictionEnabled:i,labelingInfo:s})=>({labelingInfo:s,container:this.featureContainer,vvEvaluators:e,deconflictionEnabled:i,geometryType:t,visible:r}))}get layerAdapter(){switch(this.layer.type){case\"feature\":return\"memory\"===this.layer.source.type?new J(this.layer):new G(this.layer);case\"geojson\":case\"csv\":case\"wfs\":return new J(this.layer);case\"parquet\":return new Z(this.layer);case\"subtype-group\":return new X(this.layer);case\"ogc-feature\":return new B(this.layer);case\"stream\":return new K(this.layer);case\"oriented-imagery\":return new z(this.layer);case\"knowledge-graph-sublayer\":return new $(this.layer);case\"catalog-footprint\":return new D(this.layer);default:o(this.layer)}return null}get timeExtent(){return R(this.layerAdapter.timeOptions,this.view?.timeExtent,this._get(\"timeExtent\"))}get usedMemory(){return this.container.usedMemory+this.eventLog.pipelineStatistics.usedMemory}getDisplayStatistics(e,t){return this.featureContainer?.getDisplayStatistics(e,t)}async queryHeatmapStatistics(e){return(await this.getWorker()).pipeline.queryHeatmapStatistics(e)}highlight(e,t){let i;e instanceof r?i=[e.getObjectId()]:\"number\"==typeof e||\"string\"==typeof e?i=[e]:a.isCollection(e)&&e.length>0?i=e.map(e=>e?.getObjectId()).toArray():Array.isArray(e)&&e.length>0&&(i=\"number\"==typeof e[0]||\"string\"==typeof e[0]?e:e.map(e=>e?.getObjectId()));const o=i?.filter(s);if(!o?.length)return u();const n=ue(t);return this._addHighlights(o,n),u(()=>!this.destroyed&&this._removeHighlights(o,n))}async hitTest(e,s){const a=await this.featureContainer.hitTest(s);if(0===a.length)return null;const o=await this.getWorker(),{features:n,aggregates:u,tracks:l}=await o.pipeline.getDisplayFeatures(a),h=this.featureContainer.getSortKeys(a),c=({displayId:e},{displayId:t})=>h.has(e)&&h.has(t)?h.get(e)-h.get(t):e-t;n.sort(c).reverse(),u.sort(c).reverse();const p=has(\"parquetlayer-hittest-max-feature-count\")??1;return\"parquet\"===this.layer.type&&n.length>p&&(n.length=p),[...u.map(r=>this._createAggregateGraphicHit(e,t.fromJSON(r))),...l.map(t=>this._createTrackGraphicHit(e,i.fromJSON(t))),...n.map(t=>this._createFeatureGraphicHit(e,r.fromJSON(t)))]}async queryStatistics(){const e=await this.getWorker();return re(e.pipeline.queryStatistics(),{featureCount:0,ringCount:0,vertexCount:0})}async querySummaryStatistics(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.features.executeQueryForSummaryStatistics(this._cleanUpQuery(e),s,r);return re(a,{})}async queryAggregateSummaryStatistics(e,t,r){const i={...t,scale:this.view.scale},s=(await this.getWorker()).aggregates.executeQueryForSummaryStatistics(this._cleanUpAggregateQuery(e),i,r);return re(s,{})}async queryUniqueValues(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.features.executeQueryForUniqueValues(this._cleanUpQuery(e),s,r);return re(a,{uniqueValueInfos:[]})}async queryAggregateUniqueValues(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.aggregates.executeQueryForUniqueValues(this._cleanUpAggregateQuery(e),s,r);return re(a,{uniqueValueInfos:[]})}async queryClassBreaks(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.features.executeQueryForClassBreaks(this._cleanUpQuery(e),s,r);return re(a,{classBreakInfos:[]})}async queryAggregateClassBreaks(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.aggregates.executeQueryForClassBreaks(this._cleanUpAggregateQuery(e),s,r);return re(a,{classBreakInfos:[]})}async queryHistogram(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.features.executeQueryForHistogram(this._cleanUpQuery(e),s,r);return re(a,{bins:[],maxValue:null,minValue:null,normalizationTotal:null})}async queryAggregateHistogram(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.aggregates.executeQueryForHistogram(this._cleanUpAggregateQuery(e),s,r);return re(a,{bins:[],maxValue:null,minValue:null,normalizationTotal:null})}queryFeatures(e,t){return this.queryFeaturesJSON(e,t).then(e=>{const t=L.fromJSON(e);return t.features.forEach(e=>this._setOriginForFeature(e)),t})}async queryVisibleFeatures(e,t){const r=(await this.getWorker()).pipeline.queryVisibleFeatures(this._cleanUpQuery(e),t),i=await re(r,{features:[]}),s=L.fromJSON(i);return s.features.forEach(e=>this._setOriginForFeature(e)),s}async queryAggregates(e,t){const r=(await this.getWorker()).aggregates.executeQuery(this._cleanUpAggregateQuery(e),t),i=await re(r,{features:[]}),s=q.fromJSON(i);return s.features.forEach(e=>this.layerAdapter.setAggregateGraphicOrigin?.(e)),s}async queryAggregateIds(e,t){const r=(await this.getWorker()).aggregates.executeQueryForIds(this._cleanUpAggregateQuery(e),t);return re(r,[])}async queryAggregateCount(e,t){const r=(await this.getWorker()).aggregates.executeQueryForCount(this._cleanUpAggregateQuery(e),t);return re(r,0)}async queryAggregateJSON(e,t){const r=(await this.getWorker()).aggregates.executeQuery(this._cleanUpAggregateQuery(e),t);return re(r,{features:[]})}async queryFeaturesJSON(e,t){const r=(await this.getWorker()).features.executeQuery(this._cleanUpQuery(e),t);return re(r,{features:[]})}async queryObjectIds(e,t){const r=(await this.getWorker()).features.executeQueryForIds(this._cleanUpQuery(e),t);return re(r,[])}async queryFeatureCount(e,t){const r=(await this.getWorker()).features.executeQueryForCount(this._cleanUpQuery(e),t);return re(r,0)}async queryExtent(e,t){const r=(await this.getWorker()).features.executeQueryForExtent(this._cleanUpQuery(e),t),i=await re(r,{count:0,extent:null});return{count:i.count,extent:F.fromJSON(i.extent)}}async queryAttributeBins(e,t){const r=(await this.getWorker()).features.executeAttributeBinsQuery(this._cleanUpAttributeBinsQuery(e),t),i=await re(r,{features:[]});return V.fromJSON(i)}async getSampleFeatures(e){return(await this.getWorker()).pipeline.getSampleFeatures(e)}setVisibility(e,t){t?this._visibilityOverrides.delete(e):this._visibilityOverrides.add(e),this._update()}update(e){const t=performance.now();if(t-this._lastUpdate<200)return;if(this._lastUpdate=t,!this.subscriptionManager)return;this.view.animation&&!this._lastTargetState&&(this._lastTargetState=e.state.clone()),!this.view.animation&&this._lastTargetState&&(this._lastTargetState=null);const r=this.subscriptionManager.update(e.targetState,this._lastTargetState),i=new Set(this.subscriptionManager.coverage?.target.keys());for(const s of this.featureContainer.tiles||[])s.isCoverage=i.has(s.id);this.featureContainer.setVisibleTiles(r)}attach(){has(\"esri-2d-update-debug\")&&console.debug(\"FeatureLayerView2D.attach\"),g(this._updatingHandles.addPromise(this._workerAttached.promise)),g(this._attachProxy()),this.featureContainer=new P(this),this.container.addChild(this.featureContainer),this.view.timeline.record(`${this.layer.title} (FeatureLayer) Attach`),this.subscriptionManager=new se({tileInfoView:this.view.featuresTilingScheme,updateSubscriptions:e=>{this.featureContainer.updateSubscriptions(e),g(this._updatingHandles.addPromise(this.getWorker().then(t=>t.pipeline.updateSubscriptions(e))))},isDone:e=>this.featureContainer.isDone(e)}),this.requestUpdate(),this.addAttachHandles([ce([()=>this._displayRefreshVersion,()=>this.layer.displayFilterInfo,()=>this.timeExtent,()=>this.clips,()=>this.filter,()=>this.effectiveDisplayFilterClause,()=>this.featureEffect,()=>this._sourceRefreshVersion,()=>this.view.timeZone,()=>this.view.timeExtent,...this.layerAdapter.getUpdateHashProperties(this.view)],()=>this._update()),w(()=>this.updateSuspended,e=>{e||(this.subscriptionManager.resume(),this.view.labelManager.requestUpdate())}),w(()=>this.visible,e=>{this.view.labelManager.symbolFader.restartDeclutter(),this.view.labelManager.requestUpdate()})]),this._update(),\"stream\"!==this.layer.type&&\"parquet\"!==this.layer.type&&\"catalog-footprint\"!==this.layer.type&&this.addAttachHandles(this.layer.on(\"edits\",e=>this._editUpdatingHandles.addPromise(this._edit(e))))}detach(){has(\"esri-2d-update-debug\")&&console.debug(\"FeatureLayerView2D.detach\"),this._detachProxy(),this._fields=null,this.view.labelManager.removeContainer(this.featureContainer),this.featureContainer.destroy(),this.featureContainer=null,this._commandsQueue.clear(),this.container.removeAllChildren(),this.subscriptionManager=c(this.subscriptionManager),this._workerProxy.pipeline.onDetach(),this._workerAttached=y(),g(this._workerAttached.promise),this._lastAvailableFields=[],this._lastSchema=null}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}addOverrides(e){return this._commandsQueue.push({type:\"override\",options:{...e,release:[]}})}removeOverrides(e){for(const r of e)if(null==r)throw new n(\"featurelayerview:bad-override\",\"Tried to remove an override for an invalid objectId\",{objectId:r});const t={added:[],updated:[],removed:[],release:e,isWeak:!1,historicMoment:null};return this._commandsQueue.push({type:\"override\",options:t})}isUpdating(){const e=\"renderer\"in this.layer&&null!=this.layer.renderer,t=this._commandsQueue.updateTracking.updating,r=null!=this._updatingRequiredPromise,i=this.featureContainer.updatingHandles.updating,s=this.updateRequested||e&&(t||r)||i||this._pipelineUpdating||this.dataUpdating;if(has(\"esri-2d-log-updating\")){console.log(`Updating FLV2D (${this.layer.id}): ${s}\\n  -> updateRequested ${this.updateRequested}\\n  -> hasRenderer ${e}\\n  -> updatingRequiredFields ${r}\\n  -> hasPendingCommand ${t}\\n  -> dataUpdating ${this.dataUpdating}\\n  -> processing ${this._pipelineUpdating}\\n  -> updatingContainer ${i}\\n`);for(const e of this.featureContainer.subscriptions())console.log(`    -> Tile[${e.id}] Done: ${e.done}`)}return s}_createClientOptions(){const e=this;return{openMemoryPorts:async()=>{if(this.layerAdapter?.openMessagePorts){const e=await this.layerAdapter.openMessagePorts();return{result:e,transferList:e}}throw new Error(\"InternalError: Layer adapter does not support opening message ports\")},get container(){return e.featureContainer},setUpdating:e=>{this._set(\"_pipelineUpdating\",e.pipeline),this._set(\"_sourceUpdating\",e.source)},emitEvent:e=>{this.emit(e.name,e.event)},get eventLog(){return e.eventLog},fetch:async t=>{if(has(\"esri-2d-stabilize-glyphs\")){const r=[];for(const i of t)r.push(await e.view.stage.painter.textureManager.rasterizeItem(i));return r}return Promise.all(t.map(t=>e.view.stage.painter.textureManager.rasterizeItem(t)))},fetchDictionary:e=>Promise.all(e.map(e=>this._fetchDictionaryRequest(e)))}}async _fetchDictionaryRequest(e){try{if(\"subtype-group\"===this.layer.type)throw new Error(\"InternalError: SubtypeGroupLayer does not support dictionary renderer\");const t=this.layer.renderer;if(!t||\"dictionary\"!==t.type)throw new Error(\"InternalError: Expected layer to have a DictionaryRenderer\");const r=this._lastSchema.processor.mesh.factory.symbology;if(\"dictionary\"!==r.type)throw new Error(\"InternalError: Expected schema to be of type 'dictionary'\");const i={cimAnalyzer:this.view.stage.cimAnalyzer,cimResourceManager:this.view.stage.painter.textureManager.resourceManager,store:this.featureContainer.instanceStore,scaleExpression:r.scaleExpression};this._fields||(this._fields=this.layer.fields.map(e=>e.toJSON()));const s=r.visualVariableUniforms,a=ie(this.layer.geometryType),o=await t.getSymbolForControlString(e.controlString,a,!1);if(!o||!o.data)return{type:\"dictionary-response\",meshes:[]};return{type:\"dictionary-response\",meshes:await Y({...o.data,hasTextStringTemplates:!0},{uniforms:s,path:\"renderer\",schemaOptions:i})}}catch(t){return{type:\"dictionary-response\",meshes:[]}}}_cleanUpQuery(e){const t=M.from(e)||this.createQuery();return t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference),t.toJSON()}_cleanUpAttributeBinsQuery(e){const t=Q.from(e);return t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference),t.toJSON()}_cleanUpAggregateQuery(e){const t=M.from(e)||this.createAggregateQuery();t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference);const r=t.objectIds??[];for(const i of t.aggregateIds??[])r.push(i);return t.objectIds=r,t.aggregateIds=[],t.toJSON()}async _update(){return this._commandsQueue.push({type:\"update\"})}_edit(e){return this._commandsQueue.push({type:\"edit\",event:e})}async doRefresh(e){this.attached&&(this.updateSuspended&&e||(e?this.incrementSourceRefreshVersion():this.incrementDisplayRefreshVersion()))}incrementSourceRefreshVersion(){this._sourceRefreshVersion=(this._sourceRefreshVersion+1)%he+1}incrementDisplayRefreshVersion(){this._displayRefreshVersion=(this._displayRefreshVersion+1)%he+1}async _resolveIdenifiers(e){const t=[],r=[];for(const a of e)null==a.objectId||-1===a.objectId?null==a.globalId?h.getLogger(this).warn(\"mapview-apply-edits\",\"A feature identifier must contain either a GlobalId or ObjectId. Ignoring\",{identifier:a}):r.push(a.globalId):t.push(a.objectId);const i=\"globalIdField\"in this.layer&&this.layer.globalIdField,s=i&&this.availableFields.includes(i);if(r.length&&!s)return h.getLogger(this).error(new n(\"mapview-apply-edits\",`Editing the specified service requires the layer's globalIdField, ${i} to be included the layer's outFields for updates to be reflected on the map`)),t;if(r.length){const e=await this._workerProxy.pipeline.getObjectIdsFromGlobalIds(r);for(const r of e)t.push(r)}return t}_resolveOverrides(e){const t=!1,r=!1,i=ie(this.layer.geometryType),s=N(this.layer),a=[];for(const o of e.added){const e=I(pe(o),i,t,r,s);if(null==e.objectId)throw new n(\"featurelayerview:bad-override\",\"Feature does not have an objectId\",{feature:o});a.push(e)}for(const o of e.updated){const e=I(pe(o),i,t,r,s);if(null==e.objectId)throw new n(\"featurelayerview:bad-override\",\"Feature does not have an objectId\",{feature:o});a.push(e)}for(const o of e.removed)if(null==o)throw new n(\"featurelayerview:bad-override\",\"Tried to remove an invalid objectId\",{objectId:o});return{type:\"override\",updates:a,removed:e.removed,release:e.release,isWeak:e.isWeak??!1,historicMoment:e.historicMoment??null}}async _resolveEdit(e){const t=this.layer,r=e.historicMoment?.getTime()??null,i=\"layerId\"in t&&e.editedFeatures?.find(e=>e.layerId===t.layerId);if(i&&this._canEditByFeature(i)){const{adds:e,deletes:t,updates:s}=i.editedFeatures,a=this.layer.objectIdField,o=s.map(e=>e.current),n=t.map(e=>\"attributes\"in e?{objectId:a?e.attributes[a]:null}:e),u=await this._resolveIdenifiers(n);return this._resolveOverrides({added:e,updated:o,removed:u,historicMoment:r,isWeak:!0,release:[]})}const[s,a,o]=await Promise.all([this._resolveIdenifiers(e.addedFeatures),this._resolveIdenifiers(e.updatedFeatures),this._resolveIdenifiers(e.deletedFeatures)]);return{type:\"override-by-id\",updates:[...s,...a],removed:o,historicMoment:r,isWeak:!0}}_canEditByFeature(e){const{adds:t,updates:r}=e.editedFeatures;return t.every(e=>this.view.spatialReference.equals(e.geometry?.spatialReference))&&r.every(e=>this.view.spatialReference.equals(e.current.geometry?.spatialReference))}async _doUpdate(){\"featureReduction\"in this.layer&&this.layer.featureReduction&&this.layer.featureReduction!==this._lastFeatureReduction&&(this.layer.featureReduction=this.layer.featureReduction?.clone(),this._lastFeatureReduction=this.layer.featureReduction);try{if(await Promise.allSettled([this._handleChange(),E(this.layer)]),this.destroyed||!this.layerAdapter?.hasRequiredSupport||!this.subscriptionManager)return;const e=this.featureContainer.instanceStore;this.featureContainer.attributeView.lockTextureUploads();const t=this._lastSchema?.processor.mesh.factory.symbology?.type;let r=!0;\"subtype-group\"!==this.layer.type&&\"dictionary\"===this.layer.renderer?.type&&\"dictionary\"===t&&(r=!1),e.updateStart(r);const i=this.featureEffect,s={store:e,cimAnalyzer:this.view.stage.cimAnalyzer,cimResourceManager:this.view.stage.painter.textureManager.resourceManager,scaleExpression:void 0},a=await this._createViewSchemaConfig(),o={source:await this.layerAdapter.createSourceSchema(a,this._sourceRefreshVersion),processor:await this.layerAdapter.createProcessorSchema(s,a,this._displayRefreshVersion)},n=o.processor.mesh.factory.labels;n&&this.view.labelManager.setLabelSchemaStyles(n,this.featureContainer);const u=p(this._lastSchema?.source.strategy,o.source.strategy)||p(this._lastSchema?.processor,o.processor);if(!u)return this.featureContainer.requestRender(),this.featureContainer.attributeView.unlockTextureUploads(),e.updateEnd(r),void(this.featureEffectView.featureEffect=i);this._lastSchema=o,this._fields=null;const l=Math.round(performance.now());has(\"esri-2d-update-debug\")&&console.debug(`Id[${this.layer.uid}] Version[${l}] FeatureLayerView2D._doUpdate`,{changes:u});const h=await this.getWorker();await h.pipeline.updateSchema(o,l),e.updateEnd(r),this.featureEffectView.featureEffect=i,this.featureEffectView.endTransition(),this.featureContainer.restartAllAnimations(),this.featureContainer.attributeView.unlockTextureUploads(),this.featureContainer.trySwapRenderState(),this.featureContainer.requestRender();const c=o.processor.mesh.strategy,d=\"cluster\"===c.type||\"binning\"===c.type,y=\"heatmap\"===o.processor.mesh.factory.symbology.type,g=d||y?\"target-defer\":\"eager\";this.subscriptionManager.setVisibilityStrategy(g),has(\"esri-2d-update-debug\")&&console.debug(`Version[${l}] FeatureLayerView2D.updateEnd`),this.requestUpdate()}catch(e){has(\"esri-2d-update-debug\")&&console.error(\"Encountered an error during update\",e)}}async _doOverride(e){const t=await this.getWorker();try{for(const r of e.messages)switch(r.type){case\"edit\":{const e=new ee;e.add(await this._resolveEdit(r.event)),await t.pipeline.onOverride(e.toMessage());break}case\"override\":{const e=new ee;e.add(this._resolveOverrides(r.options)),await t.pipeline.onOverride(e.toMessage());break}}}catch(r){m(r),0}}_getEffectiveAvailableFields(e){const t=le(this._lastAvailableFields,e);return this._lastAvailableFields=t,C(this.layer.fieldsIndex,t)}async _createViewSchemaConfig(){const e=this.requiresCurrentUser?await this.signedInUser:null,t=[ye(this.view,this.layerAdapter,this.timeExtent,this._visibilityOverrides,this.filter,this.effectiveDisplayFilterClause),this.featureEffect?.filter?.toJSON()??null];return{availableFields:this._getEffectiveAvailableFields(this.availableFields),displayFilterEnabled:this.displayFilterEnabled,filters:t,scale:this.view.scale,timeZone:this.view.timeZone,timeExtent:this.view.timeExtent,currentUser:e,spatialReference:this.view.spatialReference,extent:this.view.extent}}_processHighlight(){this._commandsQueue.push({type:\"highlight\"})}async _updateHighlights(){const e=this._getHighlights(),t=await this.getWorker();if(this.destroyed)return;const r=t.pipeline.updateHighlight({highlights:e}).catch(e=>{m(e)||h.getLogger(this).error(e)});this._updatingHandles.addPromise(r)}_setOriginForFeature(e){e.layer=e.sourceLayer=this.layer,this.layerAdapter.setGraphicOrigin(e)}_createFeatureGraphicHit(e,t){return this._setOriginForFeature(t),this._createGraphicHit(e,t)}_createTrackGraphicHit(e,t){return t.layer=t.sourceLayer=this.layer,this.layerAdapter.setTrackGraphicOrigin?.(t),this._createGraphicHit(e,t)}_createAggregateGraphicHit(e,t){return t.layer=t.sourceLayer=this.layer,this.layerAdapter.setAggregateGraphicOrigin?.(t),this._createGraphicHit(e,t)}_createGraphicHit(e,t){return null!=t.geometry&&(t.geometry.spatialReference=this.view.spatialReference),{type:\"graphic\",graphic:t,layer:this.layer,mapPoint:e}}};function ye(e,t,r,i,s,a){s&&(s=s.clone());const o=null!=s?s.timeExtent:null,n=null!=r&&null!=o?r.intersection(o):r||o;n&&(s??=new k,s.timeExtent=n),s=t.addFilters?.(s,e)??s,a&&(s??=new k,s.where=v(s.where,a));let u=s?.toJSON()??null;return i.size&&(u??=(new k).toJSON(),u.hiddenIds=Array.from(i)),u}e([b()],de.prototype,\"_commandsQueue\",void 0),e([b()],de.prototype,\"_sourceRefreshVersion\",void 0),e([b()],de.prototype,\"_displayRefreshVersion\",void 0),e([b({readOnly:!0})],de.prototype,\"_pipelineUpdating\",void 0),e([b()],de.prototype,\"_sourceUpdating\",void 0),e([b({readOnly:!0})],de.prototype,\"dataUpdating\",null),e([b({readOnly:!0})],de.prototype,\"hasAllFeatures\",null),e([b({readOnly:!0})],de.prototype,\"hasAllFeaturesInView\",null),e([b({readOnly:!0})],de.prototype,\"hasFullGeometries\",null),e([b()],de.prototype,\"featureEffectView\",void 0),e([b()],de.prototype,\"labelingCollisionInfos\",null),e([b()],de.prototype,\"layerAdapter\",null),e([b({readOnly:!0})],de.prototype,\"timeExtent\",null),de=e([S(\"esri.views.2d.layers.FeatureLayerView2D\")],de);export{de as default};\n"],"names":["n","s","u","l","c","a","t","d","f","o","e","i","p","y","g","b","r","has","m","n$7","d$5","d$4","l$5","h","n$6","z","U","j","C","I","F","O","A","M","S","V","x","v","w","L","R","k","p$1","f$1","d$1","u$1","s$1","e$2","Q","G","P","T","N","E","q","_","D","le","he","ce","pe","de","ae","ne","oe","te","W","H","J","Z","X","B","K","$","ue","re","se","ie","Y","ee","ye"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38]}