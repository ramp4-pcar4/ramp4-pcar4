import{ab as u,k as a,I as c,G as y,bh as l,bi as p}from"./main-pOgmbpmS.js";function d(t,i){return i?{...i,query:{...t,...i.query}}:{query:t}}function g(t){return typeof t=="string"?c(t):y(t)}function f(t,i,o){const n={};for(const e in t){if(e==="declaredClass")continue;const r=t[e];if(r!=null&&typeof r!="function")if(Array.isArray(r))n[e]=r.map(s=>f(s));else if(typeof r=="object")if(r.toJSON){const s=r.toJSON(o?.[e]);n[e]=i?s:JSON.stringify(s)}else n[e]=i?r:JSON.stringify(r);else n[e]=r}return n}function m(t,i){return t?i&&p(t)?i:l(t)??a?.findCredential(t)?.token:null}async function q(t,i,o){return m(t,i)||(!a&&u.request.useIdentity&&await import("./IdentityManager-NFi_DUPP.js"),(await a.getCredential(t,o))?.token)}export{q as a,g as f,d as s,f as u};
