{"version":3,"file":"offset-DlC8LiH7.js","sources":["../../node_modules/@arcgis/core/arcade/geometry/offset.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{convertToSpatialReferenceUnit as e,toLengthUnit as r}from\"./unitConversion.js\";import{execute as t}from\"../../geometry/operators/gx/operatorOffset.js\";import{fromGeometry as o,getSpatialReference as n,fromSpatialReference as s,toGeometry as i}from\"../../geometry/operators/support/apiConverter.js\";import{fromGeometry as m,toGeometry as f}from\"../../geometry/operators/support/jsonConverter.js\";const p={round:0,bevel:1,miter:2,square:3};function u(t,m,f,p,u,a){m=e(r(f),t.spatialReference,m);const l=o(t),y=n(t),v=c(l,s(y),m,p,u,a);return i(v,y)}function a(t,o,n,s,i,p){o=e(r(n),t.spatialReference,o);const u=m(t),a=u.getGeometry(),l=u.getSpatialReference(),y=c(a,l,o,s,i,p);return f(y,l)}function c(e,r,o,n,s,i){const m=t(e,r,o,p[n],s,i);if(!m.isEmpty())return m;{const m=e.clone();m.reverseAllPaths();const f=t(m,r,-o,p[n],s,i);if(!f.isEmpty())return f.reverseAllPaths(),f}const f=Math.abs(o)/10,u=f/10;let a=i;if(\"round\"===n&&(a+=u),\"bevel\"===n||\"square\"===n){const m=t(e,r,o,p[n=\"miter\"],s,i);if(!m.isEmpty())return m}if(\"miter\"===n){const m=t(e,r,o,p[n=\"round\"],s,i);if(!m.isEmpty())return m}if(\"round\"===n)for(;a<=f;a+=u){const i=t(e,r,o,p[n],s,a);if(!i.isEmpty())return i}return null}export{u as executeOffset,a as executeOffsetJson};\n"],"names":["p","u","t","m","f","a","e","r","l","o","y","n","v","c","s","i"],"mappings":";;;;AAIkZ,MAAMA,IAAE,EAAC,OAAM,GAAE,OAAM,GAAE,OAAM,GAAE,QAAO,EAAC;AAAE,SAASC,EAAEC,GAAEC,GAAEC,GAAEJ,GAAEC,GAAEI,GAAE;AAAC,EAAAF,IAAEG,EAAEC,EAAEH,CAAC,GAAEF,EAAE,kBAAiBC,CAAC;AAAE,QAAMK,IAAEC,EAAEP,CAAC,GAAEQ,IAAEC,EAAET,CAAC,GAAEU,IAAEC,EAAEL,GAAEM,EAAEJ,CAAC,GAAEP,GAAEH,GAAEC,GAAEI,CAAC;AAAE,SAAOU,EAAEH,GAAEF,CAAC;AAAC;AAAC,SAASL,EAAEH,GAAEO,GAAEE,GAAEG,GAAEC,GAAEf,GAAE;AAAC,EAAAS,IAAEH,EAAEC,EAAEI,CAAC,GAAET,EAAE,kBAAiBO,CAAC;AAAE,QAAMR,IAAEE,EAAED,CAAC,GAAEG,IAAEJ,EAAE,eAAcO,IAAEP,EAAE,uBAAsBS,IAAEG,EAAER,GAAEG,GAAEC,GAAEK,GAAEC,GAAEf,CAAC;AAAE,SAAOI,EAAEM,GAAEF,CAAC;AAAC;AAAC,SAASK,EAAEP,GAAEC,GAAEE,GAAEE,GAAEG,GAAEC,GAAE;AAAC,QAAMZ,IAAED,EAAEI,GAAEC,GAAEE,GAAET,EAAEW,CAAC,GAAEG,GAAEC,CAAC;AAAE,MAAG,CAACZ,EAAE,UAAU,QAAOA;AAAE;AAAC,UAAMA,IAAEG,EAAE,MAAK;AAAG,IAAAH,EAAE,gBAAe;AAAG,UAAMC,IAAEF,EAAEC,GAAEI,GAAE,CAACE,GAAET,EAAEW,CAAC,GAAEG,GAAEC,CAAC;AAAE,QAAG,CAACX,EAAE,QAAO,EAAG,QAAOA,EAAE,gBAAe,GAAGA;AAAA,EAAC;AAAC,QAAMA,IAAE,KAAK,IAAIK,CAAC,IAAE,IAAGR,IAAEG,IAAE;AAAG,MAAIC,IAAEU;AAAE,MAAaJ,MAAV,YAAcN,KAAGJ,IAAaU,MAAV,WAAwBA,MAAX,UAAa;AAAC,UAAMR,IAAED,EAAEI,GAAEC,GAAEE,GAAET,EAAEW,IAAE,OAAO,GAAEG,GAAEC,CAAC;AAAE,QAAG,CAACZ,EAAE,QAAO,EAAG,QAAOA;AAAA,EAAC;AAAC,MAAaQ,MAAV,SAAY;AAAC,UAAMR,IAAED,EAAEI,GAAEC,GAAEE,GAAET,EAAEW,IAAE,OAAO,GAAEG,GAAEC,CAAC;AAAE,QAAG,CAACZ,EAAE,QAAO,EAAG,QAAOA;AAAA,EAAC;AAAC,MAAaQ,MAAV,QAAY,QAAKN,KAAGD,GAAEC,KAAGJ,GAAE;AAAC,UAAMc,IAAEb,EAAEI,GAAEC,GAAEE,GAAET,EAAEW,CAAC,GAAEG,GAAET,CAAC;AAAE,QAAG,CAACU,EAAE,QAAO,EAAG,QAAOA;AAAA,EAAC;AAAC,SAAO;AAAI;","x_google_ignoreList":[0]}