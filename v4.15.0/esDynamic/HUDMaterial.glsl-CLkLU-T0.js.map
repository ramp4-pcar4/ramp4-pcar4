{"version":3,"file":"HUDMaterial.glsl-CLkLU-T0.js","sources":["../../node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/bufferVectorMath.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterialBaseInstance.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js","../../node_modules/@arcgis/core/core/libs/gl-matrix-2/types/mat4.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDVisibility.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4DrawUniform.js","../../node_modules/@arcgis/core/chunks/HUDMaterial.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechnique.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechniqueConfiguration.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js","../../node_modules/@arcgis/core/layers/graphics/dehydratedFeatureUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as t}from\"../../../../core/unitUtils.js\";import{rotateZ as e,rotateX as r,rotateY as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{ONES as o,fromArray as s}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{c as l,s as u}from\"../../../../chunks/vec42.js\";import{clone as a,ONES as c}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectPoint as m}from\"../../../../geometry/projectionUtils.js\";import{width as p,depth as f,height as h}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as y}from\"../../../../geometry/support/aaBoundingRect.js\";import{ringsCentroid as x}from\"../../../../geometry/support/centroid.js\";import{getPointOnPath as g,getPathLength as d}from\"../../../../geometry/support/coordsUtils.js\";import{vertexSpaceOriginToPoint as j}from\"../../../../geometry/support/meshVertexSpaceUtils.js\";import{makeDehydratedPoint as v}from\"../../../../layers/graphics/dehydratedPoint.js\";import{isHydratedGeometry as z,clonePoint as b}from\"../../../../layers/graphics/hydratedFeatures.js\";function w(t,e){if(\"point\"===t.type)return F(t,e,!1);if(z(t))switch(t.type){case\"extent\":return F(t.center,e,!1);case\"polygon\":return F(P(t),e,!1);case\"polyline\":return F(M(t),e,!0);case\"mesh\":return F(j(t.vertexSpace,t.spatialReference)??t.extent.center,e,!1);case\"multipoint\":return}else switch(t.type){case\"extent\":return F(R(t),e,!0);case\"polygon\":return F(P(t),e,!0);case\"polyline\":return F(M(t),e,!0);case\"multipoint\":return}}function M(t){const e=t.paths[0];if(!e||0===e.length)return null;const r=g(e,d(e)/2);return v(r[0],r[1],r[2],t.spatialReference)}function R(t){return v(.5*(t.xmax+t.xmin),.5*(t.ymax+t.ymin),null!=t.zmin&&null!=t.zmax&&isFinite(t.zmin)&&isFinite(t.zmax)?.5*(t.zmax+t.zmin):void 0,t.spatialReference)}function P(t){const e=t.rings[0];if(!e||0===e.length)return null;const r=x(t.rings,!!t.hasZ);return v(r[0],r[1],r[2],t.spatialReference)}function F(t,e,r){const n=r?t:b(t);return e&&t?m(t,n,e)?n:null:n}function S(t){if(!t)return 0;switch(t.type){case\"point\":return t.z;case\"extent\":return t.zmax;case\"polygon\":return t.hasZ?t.rings.reduce((t,e)=>e.reduce((t,e)=>Math.max(t,e[2]),t),-1/0):void 0;case\"polyline\":return t.hasZ?t.paths.reduce((t,e)=>e.reduce((t,e)=>Math.max(t,e[2]),t),-1/0):void 0;case\"mesh\":return t.extent.zmax;case\"multipoint\":return}}function U(t,e,r,n=0){if(t){e||(e=y());const i=t;let o=.5*i.width*(r-1),s=.5*i.height*(r-1);return i.width<1e-7*i.height?o+=s/20:i.height<1e-7*i.width&&(s+=o/20),u(e,i.xmin-o-n,i.ymin-s-n,i.xmax+o+n,i.ymax+s+n),e}return null}function A(t,e,r=null){const n=a(c);return null!=t&&(n[0]=t[0],n[1]=t[1],n[2]=t[2],t.length>3&&(n[3]=t[3])),null!=e&&(n[3]=e),r&&l(n,n,r),n}function B(t,e,r,n,i,o){for(let s=0;s<3;++s)o[s]=null!=t?.[s]?t[s]:null!=r?.[s]?r[s]:i[s];return o[3]=null!=e?e:null!=n?n:i[3],o}function D(t=o,e,r,n=1){const i=new Array(3);if(null==e||null==r)i[0]=1,i[1]=1,i[2]=1;else{let n,o=0;for(let s=2;s>=0;s--){const l=t[s],u=null!=l,a=0===s&&!n&&!u,c=r[s];let m;\"symbol-value\"===l||a?m=0!==c?e[s]/c:1:u&&\"proportional\"!==l&&isFinite(l)&&(m=0!==c?l/c:1),null!=m&&(i[s]=m,n=m,o=Math.max(o,Math.abs(m)))}for(let t=2;t>=0;t--)null==i[t]?i[t]=n:0===i[t]&&(i[t]=.001*o)}for(let o=2;o>=0;o--)i[o]/=n;return s(i)}function I(t){return null!=t.isPrimitive}function Z(t){return k(I(t)?[t.width,t.depth,t.height]:t)?null:\"Symbol sizes may not be negative values\"}function k(t){const e=t=>null==t||t>=0;return Array.isArray(t)?t.every(e):e(t)}function E(t,o,s,l=i()){return t&&e(l,l,-t/180*Math.PI),o&&r(l,l,o/180*Math.PI),s&&n(l,l,s/180*Math.PI),l}function G(e,r,n){if(null!=n.minDemResolution)return n.minDemResolution;const i=t(r),o=p(e)*i,s=f(e)*i,l=h(e)*(r.isGeographic?1:i);return 0===o&&0===s&&0===l?n.minDemResolutionForPoints:.01*Math.max(o,s,l)}export{w as computeCentroid,S as computeMaxZ,E as computeObjectRotation,D as computeObjectScale,G as demResolutionForBoundingBox,U as enlargeExtent,k as isValidSize,A as mixinColorAndOpacity,B as overrideColor,Z as validateSymbolLayerSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction n(n,t){const o=n[t],c=n[t+1],u=n[t+2];return Math.sqrt(o*o+c*c+u*u)}function t(n,t){const o=n[t],c=n[t+1],u=n[t+2],f=1/Math.sqrt(o*o+c*c+u*u);n[t]*=f,n[t+1]*=f,n[t+2]*=f}function o(n,t,o){n[t]*=o,n[t+1]*=o,n[t+2]*=o}function c(n,t,o,c,u,f=t){(u=u||n)[f]=n[t]+o[c],u[f+1]=n[t+1]+o[c+1],u[f+2]=n[t+2]+o[c+2]}function u(n,t,o,c,u,f=t){(u=u||n)[f]=n[t]-o[c],u[f+1]=n[t+1]-o[c+1],u[f+2]=n[t+2]-o[c+2]}export{c as add,n as length,t as normalize,o as scale,u as subtract};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Attribute as t}from\"../lib/Attribute.js\";import{GeometryBaseInstance as n}from\"../lib/GeometryBaseInstance.js\";function e(){return o??=r(),o}function r(){const e=0,r=255,o=new t([e,e,e,r,r,e,r,r],[0,1,2,3],2,!0);return new n([[\"uv0\",o]])}let o=null;export{e as getHUDMaterialBaseInstance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{j as t,e as n,n as o,d as e,h as s,g as r,i as l,t as h,f as u}from\"../../../../chunks/vec32.js\";import{fromValues as a,clone as i,create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f32.js\";import{create as p,clone as f,fromValues as w}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{newDoubleArray as g}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as m,floatArrayFrom as M}from\"../../../../geometry/support/FloatArray.js\";import{getContinuousIndexArray as A,getZeroIndexArray as y}from\"../../../../geometry/support/Indices.js\";import{create as b,fromPositionAndNormal as j,intersectRay as d}from\"../../../../geometry/support/plane.js\";import{wrap as v}from\"../../../../geometry/support/ray.js\";import{timeStampsToAttribute as I,numTimeStampValuesPerVertex as P}from\"../../support/engineContent/line.js\";import{Attribute as x}from\"./Attribute.js\";import{scale as D,length as z,normalize as S,add as q}from\"./bufferVectorMath.js\";import{Geometry as C}from\"./Geometry.js\";import{assert as F}from\"./Util.js\";import{getHUDMaterialBaseInstance as O}from\"../materials/HUDMaterialBaseInstance.js\";const U=[[-.5,-.5,.5],[.5,-.5,.5],[.5,.5,.5],[-.5,.5,.5],[-.5,-.5,-.5],[.5,-.5,-.5],[.5,.5,-.5],[-.5,.5,-.5]],V=[0,0,1,-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1],k=[0,0,1,0,1,1,0,1],B=[0,1,2,2,3,0,4,0,3,3,7,4,1,5,6,6,2,1,1,0,4,4,5,1,3,2,6,6,7,3,5,4,7,7,6,5],G=new Array(36);for(let Pt=0;Pt<6;Pt++)for(let t=0;t<6;t++)G[6*Pt+t]=Pt;const H=new Array(36);for(let Pt=0;Pt<6;Pt++)H[6*Pt]=0,H[6*Pt+1]=1,H[6*Pt+2]=2,H[6*Pt+3]=2,H[6*Pt+4]=3,H[6*Pt+5]=0;function E(t,n){Array.isArray(n)||(n=[n,n,n]);const o=new Array(24);for(let e=0;e<8;e++)o[3*e]=U[e][0]*n[0],o[3*e+1]=U[e][1]*n[1],o[3*e+2]=U[e][2]*n[2];return new C(t,[[\"position\",new x(o,B,3,!0)],[\"normal\",new x(V,G,3)],[\"uv0\",new x(k,H,2)]])}const J=[[-.5,0,-.5],[.5,0,-.5],[.5,0,.5],[-.5,0,.5],[0,-.5,0],[0,.5,0]],K=[0,1,-1,1,1,0,0,1,1,-1,1,0,0,-1,-1,1,-1,0,0,-1,1,-1,-1,0],L=[5,1,0,5,2,1,5,3,2,5,0,3,4,0,1,4,1,2,4,2,3,4,3,0],N=[0,0,0,1,1,1,2,2,2,3,3,3,4,4,4,5,5,5,6,6,6,7,7,7];function Q(t,n){Array.isArray(n)||(n=[n,n,n]);const o=new Array(18);for(let e=0;e<6;e++)o[3*e]=J[e][0]*n[0],o[3*e+1]=J[e][1]*n[1],o[3*e+2]=J[e][2]*n[2];return new C(t,[[\"position\",new x(o,L,3,!0)],[\"normal\",new x(K,N,3)]])}const R=a(-.5,0,-.5),T=a(.5,0,-.5),W=a(0,0,.5),X=a(0,.5,0),Y=c(),Z=c(),$=c(),_=c(),tt=c();n(Y,R,X),n(Z,R,T),l($,Y,Z),o($,$),n(Y,T,X),n(Z,T,W),l(_,Y,Z),o(_,_),n(Y,W,X),n(Z,W,R),l(tt,Y,Z),o(tt,tt);const nt=[R,T,W,X],ot=[0,-1,0,$[0],$[1],$[2],_[0],_[1],_[2],tt[0],tt[1],tt[2]],et=[0,1,2,3,1,0,3,2,1,3,0,2],st=[0,0,0,1,1,1,2,2,2,3,3,3];function rt(t,n){Array.isArray(n)||(n=[n,n,n]);const o=new Array(12);for(let e=0;e<4;e++)o[3*e]=nt[e][0]*n[0],o[3*e+1]=nt[e][1]*n[1],o[3*e+2]=nt[e][2]*n[2];return new C(t,[[\"position\",new x(o,et,3,!0)],[\"normal\",new x(ot,st,3)]])}function lt(t,n,o,e,s={uv:!0}){const r=-Math.PI,l=2*Math.PI,h=-Math.PI/2,u=Math.PI,a=Math.max(3,Math.floor(o)),i=Math.max(2,Math.floor(e)),c=(a+1)*(i+1),p=m(3*c),f=m(3*c),w=m(2*c),g=[];let M=0;for(let m=0;m<=i;m++){const t=[],o=m/i,e=h+o*u,s=Math.cos(e);for(let h=0;h<=a;h++){const u=h/a,i=r+u*l,c=Math.cos(i)*s,g=Math.sin(e),m=-Math.sin(i)*s;p[3*M]=c*n,p[3*M+1]=g*n,p[3*M+2]=m*n,f[3*M]=c,f[3*M+1]=g,f[3*M+2]=m,w[2*M]=u,w[2*M+1]=o,t.push(M),++M}g.push(t)}const A=new Array;for(let m=0;m<i;m++)for(let t=0;t<a;t++){const n=g[m][t],o=g[m][t+1],e=g[m+1][t+1],s=g[m+1][t];0===m?(A.push(n),A.push(e),A.push(s)):m===i-1?(A.push(n),A.push(o),A.push(e)):(A.push(n),A.push(o),A.push(e),A.push(e),A.push(s),A.push(n))}const b=[[\"position\",new x(p,A,3,!0)],[\"normal\",new x(f,A,3,!0)]];return s.uv&&b.push([\"uv0\",new x(w,A,2,!0)]),s.offset&&(b[0][0]=\"offset\",b.push([\"position\",new x(Float64Array.from(s.offset),y(A.length),3,!0)])),new C(t,b)}function ht(t,n,o,e){const s=ut(n,o,e);return new C(t,s)}function ut(t,n,o){const e=t;let s,r;if(o)s=[0,-1,0,1,0,0,0,0,1,-1,0,0,0,0,-1,0,1,0],r=[0,1,2,0,2,3,0,3,4,0,4,1,1,5,2,2,5,3,3,5,4,4,5,1];else{const t=e*(1+Math.sqrt(5))/2;s=[-e,t,0,e,t,0,-e,-t,0,e,-t,0,0,-e,t,0,e,t,0,-e,-t,0,e,-t,t,0,-e,t,0,e,-t,0,-e,-t,0,e],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1]}for(let a=0;a<s.length;a+=3)D(s,a,t/z(s,a));let l={};function h(n,o){n>o&&([n,o]=[o,n]);const e=n.toString()+\".\"+o.toString();if(l[e])return l[e];let r=s.length;return s.length+=3,q(s,3*n,s,3*o,s,r),D(s,r,t/z(s,r)),r/=3,l[e]=r,r}for(let a=0;a<n;a++){const t=r.length,n=new Array(4*t);for(let o=0;o<t;o+=3){const t=r[o],e=r[o+1],s=r[o+2],l=h(t,e),u=h(e,s),a=h(s,t),i=4*o;n[i]=t,n[i+1]=l,n[i+2]=a,n[i+3]=e,n[i+4]=u,n[i+5]=l,n[i+6]=s,n[i+7]=a,n[i+8]=u,n[i+9]=l,n[i+10]=u,n[i+11]=a}r=n,l={}}const u=M(s);for(let a=0;a<u.length;a+=3)S(u,a);return[[\"position\",new x(M(s),r,3,!0)],[\"normal\",new x(u,r,3,!0)]]}function at(t,{normal:n,position:o,color:e,rotation:s,size:r,centerOffsetAndDistance:l,uvi:h,featureAttribute:u,olidColor:a=null}={}){const i=o?f(o):p(),c=n?f(n):w(0,0,1),g=e?[e[0],e[1],e[2],e.length>3?e[3]:255]:[255,255,255,255],m=null!=r&&2===r.length?r:[1,1],M=null!=s?[s]:[0],A=y(1),b=[[\"position\",new x(i,A,3,!0)],[\"normal\",new x(c,A,3,!0)],[\"color\",new x(g,A,4,!0)],[\"size\",new x(m,A,2)],[\"rotation\",new x(M,A,1,!0)]];if(h&&b.push([\"uvi\",new x(h,A,h.length)]),null!=l){const t=[l[0],l[1],l[2],l[3]];b.push([\"centerOffsetAndDistance\",new x(t,A,4)])}if(u){const t=[u[0],u[1],u[2],u[3]];b.push([\"featureAttribute\",new x(t,A,4)])}return new C(t,b,null,1,a,void 0,O())}const it=[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0]];function ct(t,n=it){const o=new Array(12);for(let a=0;a<4;a++)for(let t=0;t<3;t++)o[3*a+t]=n[a][t];const e=[0,1,2,2,3,0],s=[0,0,1],r=[0,0,0,0,0,0],l=[0,0,1,0,1,1,0,1],h=[255,255,255,255],u=[[\"position\",new x(o,e,3,!0)],[\"normal\",new x(s,r,3,!0)],[\"uv0\",new x(l,e,2,!0)],[\"color\",new x(h,r,4,!0)]];return new C(t,u)}function pt(t,n,o,e,s=!0,r=!0){let l=0;const h=n,u=t;let i=a(0,l,0),c=a(0,l+u,0),p=a(0,-1,0),f=a(0,1,0);e&&(l=u,c=a(0,0,0),i=a(0,l,0),p=a(0,1,0),f=a(0,-1,0));const w=[c,i],g=[p,f],M=o+2,A=Math.sqrt(u*u+h*h);if(e)for(let m=o-1;m>=0;m--){const t=m*(2*Math.PI/o),n=a(Math.cos(t)*h,l,Math.sin(t)*h);w.push(n);const e=a(u*Math.cos(t)/A,-h/A,u*Math.sin(t)/A);g.push(e)}else for(let m=0;m<o;m++){const t=m*(2*Math.PI/o),n=a(Math.cos(t)*h,l,Math.sin(t)*h);w.push(n);const e=a(u*Math.cos(t)/A,h/A,u*Math.sin(t)/A);g.push(e)}const y=new Array,b=new Array;if(s){for(let t=3;t<w.length;t++)y.push(1),y.push(t-1),y.push(t),b.push(0),b.push(0),b.push(0);y.push(w.length-1),y.push(2),y.push(1),b.push(0),b.push(0),b.push(0)}if(r){for(let t=3;t<w.length;t++)y.push(t),y.push(t-1),y.push(0),b.push(t),b.push(t-1),b.push(1);y.push(0),y.push(2),y.push(w.length-1),b.push(1),b.push(2),b.push(g.length-1)}const j=m(3*M);for(let a=0;a<M;a++)j[3*a]=w[a][0],j[3*a+1]=w[a][1],j[3*a+2]=w[a][2];const d=m(3*M);for(let a=0;a<M;a++)d[3*a]=g[a][0],d[3*a+1]=g[a][1],d[3*a+2]=g[a][2];return[[\"position\",new x(j,y,3,!0)],[\"normal\",new x(d,b,3,!0)]]}function ft(t,n,o,e,s,r=!0,l=!0){return new C(t,pt(n,o,e,s,r,l))}function wt(n,e,h,p,f,w,g){const M=f?i(f):a(1,0,0),A=w?i(w):a(0,0,0);g??=!0;const y=c();o(y,M);const b=c();s(b,y,Math.abs(e));const j=c();s(j,b,-.5),r(j,j,A);const d=a(0,1,0);Math.abs(1-u(y,d))<.2&&t(d,0,0,1);const v=c();l(v,y,d),o(v,v),l(d,v,y);const I=2*p+(g?2:0),P=p+(g?2:0),D=m(3*I),z=m(3*P),S=m(2*I),q=new Array(3*p*(g?4:2)),F=new Array(3*p*(g?4:2));g&&(D[3*(I-2)]=j[0],D[3*(I-2)+1]=j[1],D[3*(I-2)+2]=j[2],S[2*(I-2)]=0,S[2*(I-2)+1]=0,D[3*(I-1)]=D[3*(I-2)]+b[0],D[3*(I-1)+1]=D[3*(I-2)+1]+b[1],D[3*(I-1)+2]=D[3*(I-2)+2]+b[2],S[2*(I-1)]=1,S[2*(I-1)+1]=1,z[3*(P-2)]=-y[0],z[3*(P-2)+1]=-y[1],z[3*(P-2)+2]=-y[2],z[3*(P-1)]=y[0],z[3*(P-1)+1]=y[1],z[3*(P-1)+2]=y[2]);const O=(t,n,o)=>{q[t]=n,F[t]=o};let U=0;const V=c(),k=c();for(let t=0;t<p;t++){const n=t*(2*Math.PI/p);s(V,d,Math.sin(n)),s(k,v,Math.cos(n)),r(V,V,k),z[3*t]=V[0],z[3*t+1]=V[1],z[3*t+2]=V[2],s(V,V,h),r(V,V,j),D[3*t]=V[0],D[3*t+1]=V[1],D[3*t+2]=V[2],S[2*t]=t/p,S[2*t+1]=0,D[3*(t+p)]=D[3*t]+b[0],D[3*(t+p)+1]=D[3*t+1]+b[1],D[3*(t+p)+2]=D[3*t+2]+b[2],S[2*(t+p)]=t/p,S[2*t+1]=1;const o=(t+1)%p;O(U++,t,t),O(U++,t+p,t),O(U++,o,o),O(U++,o,o),O(U++,t+p,t),O(U++,o+p,o)}if(g){for(let t=0;t<p;t++){const n=(t+1)%p;O(U++,I-2,P-2),O(U++,t,P-2),O(U++,n,P-2)}for(let t=0;t<p;t++){const n=(t+1)%p;O(U++,t+p,P-1),O(U++,I-1,P-1),O(U++,n+p,P-1)}}const B=[[\"position\",new x(D,q,3,!0)],[\"normal\",new x(z,F,3,!0)],[\"uv0\",new x(S,q,2,!0)]];return new C(n,B)}function gt(t,n,o,e,s,r){e=e||10,s=null==s||s,F(n.length>1);const l=[[0,0,0]],h=[],u=[];for(let a=0;a<e;a++){h.push([0,-a-1,-(a+1)%e-1]);const t=a/e*2*Math.PI;u.push([Math.cos(t)*o,Math.sin(t)*o])}return mt(t,u,n,l,h,s,r)}function mt(h,u,i,c,f,w,g=a(0,0,0)){const M=u.length,A=m(i.length*M*3+(6*c.length||0)),y=m(i.length*M*3+(c?6:0)),I=new Array,P=new Array;let D=0,z=0;const S=p(),q=p(),F=p(),O=p(),U=p(),V=p(),k=p(),B=p(),G=p(),H=p(),E=p(),J=p(),K=p(),L=b();t(G,0,1,0),n(q,i[1],i[0]),o(q,q),w?(r(B,i[0],g),o(F,B)):t(F,0,0,1),dt(q,F,G,G,U,F,vt),e(O,F),e(J,U);for(let t=0;t<c.length;t++)s(V,U,c[t][0]),s(B,F,c[t][2]),r(V,V,B),r(V,V,i[0]),A[D++]=V[0],A[D++]=V[1],A[D++]=V[2];y[z++]=-q[0],y[z++]=-q[1],y[z++]=-q[2];for(let t=0;t<f.length;t++)I.push(f[t][0]>0?f[t][0]:-f[t][0]-1+c.length),I.push(f[t][1]>0?f[t][1]:-f[t][1]-1+c.length),I.push(f[t][2]>0?f[t][2]:-f[t][2]-1+c.length),P.push(0),P.push(0),P.push(0);let N=c.length;const Q=c.length-1;for(let t=0;t<i.length;t++){let h=!1;if(t>0){e(S,q),t<i.length-1?(n(q,i[t+1],i[t]),o(q,q)):h=!0,r(H,S,q),o(H,H),r(E,i[t-1],O),j(i[t],H,L);d(L,v(E,S),B)?(n(B,B,i[t]),o(F,B),l(U,H,F),o(U,U)):dt(H,O,J,G,U,F,vt),e(O,F),e(J,U)}w&&(r(B,i[t],g),o(K,B));for(let n=0;n<M;n++)if(s(V,U,u[n][0]),s(B,F,u[n][1]),r(V,V,B),o(k,V),y[z++]=k[0],y[z++]=k[1],y[z++]=k[2],r(V,V,i[t]),A[D++]=V[0],A[D++]=V[1],A[D++]=V[2],!h){const t=(n+1)%M;I.push(N+n),I.push(N+M+n),I.push(N+t),I.push(N+t),I.push(N+M+n),I.push(N+M+t);for(let n=0;n<6;n++){const t=I.length-6;P.push(I[t+n]-Q)}}N+=M}const R=i[i.length-1];for(let t=0;t<c.length;t++)s(V,U,c[t][0]),s(B,F,c[t][1]),r(V,V,B),r(V,V,R),A[D++]=V[0],A[D++]=V[1],A[D++]=V[2];const T=z/3;y[z++]=q[0],y[z++]=q[1],y[z++]=q[2];const W=N-M;for(let t=0;t<f.length;t++)I.push(f[t][0]>=0?N+f[t][0]:-f[t][0]-1+W),I.push(f[t][2]>=0?N+f[t][2]:-f[t][2]-1+W),I.push(f[t][1]>=0?N+f[t][1]:-f[t][1]-1+W),P.push(T),P.push(T),P.push(T);const X=[[\"position\",new x(A,I,3,!0)],[\"normal\",new x(y,P,3,!0)]];return new C(h,X)}function Mt(t,n,o,e,s){const r=g(3*n.length),l=new Array(2*(n.length-1));let h=0,u=0;for(let i=0;i<n.length;i++){for(let t=0;t<3;t++)r[h++]=n[i][t];i>0&&(l[u++]=i-1,l[u++]=i)}const a=[[\"position\",new x(r,l,3,!0)]];if(o&&o.length===n.length&&3===o[0].length){const t=m(3*o.length);let e=0;for(let s=0;s<n.length;s++)for(let n=0;n<3;n++)t[e++]=o[s][n];a.push([\"normal\",new x(t,l,3,!0)])}if(e&&a.push([\"color\",new x(e,A(e.length/4),4)]),s&&s.length===n.length){const t=I(s,1);a.push([\"timeStamps\",new x(t,l,P,!0)])}return new C(t,a,null,2)}function At(t,n,o,e,s,r=0){const l=new Array(18),h=[[-o,r,s/2],[e,r,s/2],[0,n+r,s/2],[-o,r,-s/2],[e,r,-s/2],[0,n+r,-s/2]],u=[0,1,2,3,0,2,2,5,3,1,4,5,5,2,1,1,0,3,3,4,1,4,3,5];for(let a=0;a<6;a++)l[3*a]=h[a][0],l[3*a+1]=h[a][1],l[3*a+2]=h[a][2];return new C(t,[[\"position\",new x(l,u,3,!0)]])}function yt(n,o){const e=n.getMutableAttribute(\"position\").data;for(let s=0;s<e.length;s+=3){const n=e[s],r=e[s+1],l=e[s+2];t(It,n,r,l),h(It,It,o),e[s]=It[0],e[s+1]=It[1],e[s+2]=It[2]}}function bt(t,n=t){const o=t.attributes,e=o.get(\"position\").data,s=o.get(\"normal\").data;if(s){const t=n.getMutableAttribute(\"normal\").data;for(let n=0;n<s.length;n+=3){const o=s[n+1];t[n+1]=-s[n+2],t[n+2]=o}}if(e){const t=n.getMutableAttribute(\"position\").data;for(let n=0;n<e.length;n+=3){const o=e[n+1];t[n+1]=-e[n+2],t[n+2]=o}}}function jt(t,n,e,s,r){return!(Math.abs(u(n,t))>r)&&(l(e,t,n),o(e,e),l(s,e,t),o(s,s),!0)}function dt(t,n,o,e,s,r,l){return jt(t,n,s,r,l)||jt(t,o,s,r,l)||jt(t,e,s,r,l)}const vt=.99619469809,It=p();export{bt as cgToGIS,E as createBoxGeometry,ft as createConeGeometry,pt as createConeGeometryData,wt as createCylinderGeometry,Q as createDiamondGeometry,At as createExtrudedTriangle,mt as createPathExtrusionGeometry,at as createPointGeometry,ut as createPolySphereData,ht as createPolySphereGeometry,Mt as createPolylineGeometry,lt as createSphereGeometry,ct as createSquareGeometry,rt as createTetrahedronGeometry,gt as createTubeGeometry,dt as makeOrthoBasisDirUpFallback,yt as transformInPlace};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction n(n){return n instanceof Float32Array&&n.length>=16}function r(n){return Array.isArray(n)&&n.length>=16}function t(t){return n(t)||r(t)}export{t as isMat4,n as isMat4f32,r as isMat4f64};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{addVerticalOffset as e}from\"../attributes/VerticalOffset.glsl.js\";import{ScreenSizePerspective as t,addScreenSizePerspectiveAlignment as o}from\"../util/ScreenSizePerspective.glsl.js\";import{addProjViewLocalOrigin as a,addCameraPosition as s,addViewNormal as i,addPixelRatio as n}from\"../util/View.glsl.js\";import{Float4BindUniform as r}from\"../../shaderModules/Float4BindUniform.js\";import{FloatBindUniform as l}from\"../../shaderModules/FloatBindUniform.js\";import{FloatPassUniform as f}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as c}from\"../../shaderModules/glsl.js\";const p=.5;function d(d,u){d.include(t),d.attributes.add(\"position\",\"vec3\"),d.attributes.add(\"normal\",\"vec3\"),d.attributes.add(\"centerOffsetAndDistance\",\"vec4\");const v=d.vertex;a(v,u),s(v,u),v.uniforms.add(new r(\"viewport\",e=>e.camera.fullViewport),new f(\"polygonOffset\",e=>e.shaderPolygonOffset),new l(\"cameraGroundRelative\",e=>e.camera.aboveGround?1:-1)),u.hasVerticalOffset&&e(v),v.code.add(c`struct ProjectHUDAux {\nvec3 posModel;\nvec3 posView;\nvec3 vnormal;\nfloat distanceToCamera;\nfloat absCosAngle;\n};`),v.code.add(c`\n    float applyHUDViewDependentPolygonOffset(float pointGroundDistance, float absCosAngle, inout vec3 posView) {\n      float pointGroundSign = ${u.terrainDepthTest?c.float(0):c`sign(pointGroundDistance)`};\n      if (pointGroundSign == 0.0) {\n        pointGroundSign = cameraGroundRelative;\n      }\n\n      // cameraGroundRelative is -1 if camera is below ground, 1 if above ground\n      // groundRelative is 1 if both camera and symbol are on the same side of the ground, -1 otherwise\n      float groundRelative = cameraGroundRelative * pointGroundSign;\n\n      // view angle dependent part of polygon offset emulation: we take the absolute value because the sign that is\n      // dropped is instead introduced using the ground-relative position of the symbol and the camera\n      if (polygonOffset > .0) {\n        float cosAlpha = clamp(absCosAngle, 0.01, 1.0);\n        float tanAlpha = sqrt(1.0 - cosAlpha * cosAlpha) / cosAlpha;\n        float factor = (1.0 - tanAlpha / viewport[2]);\n\n        // same side of the terrain\n        if (groundRelative > 0.0) {\n          posView *= factor;\n        }\n        // opposite sides of the terrain\n        else {\n          posView /= factor;\n        }\n      }\n\n      return groundRelative;\n    }\n  `),u.draped&&!u.hasVerticalOffset||i(v),u.draped||(v.uniforms.add(new l(\"perDistancePixelRatio\",e=>Math.tan(e.camera.fovY/2)/(e.camera.fullViewport[2]/2))),v.code.add(c`\n    void applyHUDVerticalGroundOffset(vec3 normalModel, inout vec3 posModel, inout vec3 posView) {\n      float distanceToCamera = length(posView);\n\n      // Compute offset in world units for a half pixel shift\n      float pixelOffset = distanceToCamera * perDistancePixelRatio * ${c.float(p)};\n\n      // Apply offset along normal in the direction away from the ground surface\n      vec3 modelOffset = normalModel * cameraGroundRelative * pixelOffset;\n\n      // Apply the same offset also on the view space position\n      vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;\n\n      posModel += modelOffset;\n      posView += viewOffset;\n    }\n  `)),u.screenCenterOffsetUnitsEnabled&&n(v),u.hasScreenSizePerspective&&o(v),v.code.add(c`\n    vec4 projectPositionHUD(out ProjectHUDAux aux) {\n      vec3 centerOffset = centerOffsetAndDistance.xyz;\n      float pointGroundDistance = centerOffsetAndDistance.w;\n\n      aux.posModel = position;\n      aux.posView = (view * vec4(aux.posModel, 1.0)).xyz;\n      aux.vnormal = normal;\n      ${u.draped?\"\":\"applyHUDVerticalGroundOffset(aux.vnormal, aux.posModel, aux.posView);\"}\n\n      // Screen sized offset in world space, used for example for line callouts\n      // Note: keep this implementation in sync with the CPU implementation, see\n      //   - MaterialUtil.verticalOffsetAtDistance\n      //   - HUDMaterial.applyVerticalOffsetTransformation\n\n      aux.distanceToCamera = length(aux.posView);\n\n      vec3 viewDirObjSpace = normalize(cameraPosition - aux.posModel);\n      float cosAngle = dot(aux.vnormal, viewDirObjSpace);\n\n      aux.absCosAngle = abs(cosAngle);\n\n      ${u.hasScreenSizePerspective&&(u.hasVerticalOffset||u.screenCenterOffsetUnitsEnabled)?\"vec3 perspectiveFactor = screenSizePerspectiveScaleFactor(aux.absCosAngle, aux.distanceToCamera, screenSizePerspectiveAlignment);\":\"\"}\n\n      ${u.hasVerticalOffset?u.hasScreenSizePerspective?\"float verticalOffsetScreenHeight = applyScreenSizePerspectiveScaleFactorFloat(verticalOffset.x, perspectiveFactor);\":\"float verticalOffsetScreenHeight = verticalOffset.x;\":\"\"}\n\n      ${u.hasVerticalOffset?c`\n            float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * aux.distanceToCamera, verticalOffset.z, verticalOffset.w);\n            vec3 modelOffset = aux.vnormal * worldOffset;\n            aux.posModel += modelOffset;\n            vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;\n            aux.posView += viewOffset;\n            // Since we elevate the object, we need to take that into account\n            // in the distance to ground\n            pointGroundDistance += worldOffset;`:\"\"}\n\n      float groundRelative = applyHUDViewDependentPolygonOffset(pointGroundDistance, aux.absCosAngle, aux.posView);\n\n      ${u.screenCenterOffsetUnitsEnabled?\"\":c`\n            // Apply x/y in view space, but z in screen space (i.e. along posView direction)\n            aux.posView += vec3(centerOffset.x, centerOffset.y, 0.0);\n\n            // Same material all have same z != 0.0 condition so should not lead to\n            // branch fragmentation and will save a normalization if it's not needed\n            if (centerOffset.z != 0.0) {\n              aux.posView -= normalize(aux.posView) * centerOffset.z;\n            }\n          `}\n\n      vec4 posProj = proj * vec4(aux.posView, 1.0);\n\n      ${u.screenCenterOffsetUnitsEnabled?u.hasScreenSizePerspective?\"float centerOffsetY = applyScreenSizePerspectiveScaleFactorFloat(centerOffset.y, perspectiveFactor);\":\"float centerOffsetY = centerOffset.y;\":\"\"}\n\n      ${u.screenCenterOffsetUnitsEnabled?\"posProj.xy += vec2(centerOffset.x, centerOffsetY) * pixelRatio * 2.0 / viewport.zw * posProj.w;\":\"\"}\n\n      // constant part of polygon offset emulation\n      posProj.z -= groundRelative * polygonOffset * posProj.w;\n      return posProj;\n    }\n  `)}export{d as HUD,p as HUDVerticalPixelOffset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{BooleanBindUniform as e}from\"../../shaderModules/BooleanBindUniform.js\";import{glsl as i}from\"../../shaderModules/glsl.js\";function l(l){l.uniforms.add(new e(\"alignPixelEnabled\",e=>e.alignPixelEnabled)),l.code.add(i`vec4 alignToPixelCenter(vec4 clipCoord, vec2 widthHeight) {\nif (!alignPixelEnabled)\nreturn clipCoord;\nvec2 xy = vec2(0.500123) + 0.5 * clipCoord.xy / clipCoord.w;\nvec2 pixelSz = vec2(1.0) / widthHeight;\nvec2 ij = (floor(xy * widthHeight) + vec2(0.5)) * pixelSz;\nvec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;\nreturn vec4(result, clipCoord.zw);\n}`),l.code.add(i`vec4 alignToPixelOrigin(vec4 clipCoord, vec2 widthHeight) {\nif (!alignPixelEnabled)\nreturn clipCoord;\nvec2 xy = vec2(0.5) + 0.5 * clipCoord.xy / clipCoord.w;\nvec2 pixelSz = vec2(1.0) / widthHeight;\nvec2 ij = floor((xy + 0.5 * pixelSz) * widthHeight) * pixelSz;\nvec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;\nreturn vec4(result, clipCoord.zw);\n}`)}export{l as AlignPixel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{AlignPixel as e}from\"./AlignPixel.glsl.js\";import{terrainDepthTest as o}from\"../shading/TerrainDepthTest.glsl.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";function i(i,t){const{vertex:s,fragment:p}=i;i.include(o,t),s.include(e),s.main.add(r`vec4 posProjCenter;\nif (dot(position, position) > 0.0) {\nProjectHUDAux projectAux;\nvec4 posProj = projectPositionHUD(projectAux);\nposProjCenter = alignToPixelCenter(posProj, viewport.zw);\nforwardViewPosDepth(projectAux.posView);\nvec3 vpos = projectAux.posModel;\nif (rejectBySlice(vpos)) {\nposProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n}\n} else {\nposProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n}\ngl_Position = posProjCenter;\ngl_PointSize = 1.0;`),p.main.add(r`fragColor = vec4(1);\nif(discardByTerrainDepth()) {\nfragColor.g = 0.5;\n}`)}export{i as HUDOcclusionPass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{AlignPixel as e}from\"./AlignPixel.glsl.js\";import{Float4BindUniform as r}from\"../../shaderModules/Float4BindUniform.js\";import{FloatBindUniform as o}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as i}from\"../../shaderModules/glsl.js\";import{Texture2DBindUniform as l}from\"../../shaderModules/Texture2DBindUniform.js\";function n(n){n.vertex.uniforms.add(new o(\"renderTransparentlyOccludedHUD\",e=>0===e.hudRenderStyle?1:1===e.hudRenderStyle?0:.75),new r(\"viewport\",e=>e.camera.fullViewport),new l(\"hudVisibilityTexture\",e=>e.hudVisibility?.getTexture())),n.vertex.include(e),n.vertex.code.add(i`bool testHUDVisibility(vec4 posProj) {\nvec4 posProjCenter = alignToPixelCenter(posProj, viewport.zw);\nvec4 occlusionPixel = texture(hudVisibilityTexture, .5 + .5 * posProjCenter.xy / posProjCenter.w);\nif (renderTransparentlyOccludedHUD > 0.5) {\nreturn occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g * renderTransparentlyOccludedHUD < 1.0;\n}\nreturn occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g == 1.0;\n}`)}export{n as HUDVisibility};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Uniform as r}from\"../../../../webgl/Uniform.js\";class e extends r{constructor(r,e,o){super(r,\"vec4\",2,(s,t,c)=>s.setUniform4fv(r,e(t,c),o))}}export{e as Float4DrawUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{copy as e,set as o}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as i}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{ZEROS as r,fromValues as t}from\"../core/libs/gl-matrix-2/factories/vec4f64.js\";import{earth as l}from\"../geometry/support/Ellipsoid.js\";import{RejectBySlice as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ObjectAndLayerIdColor as s}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{AlignPixel as n}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js\";import{HUD as c}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js\";import{HUDOcclusionPass as d}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js\";import{HUDVisibility as u}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/HUDVisibility.glsl.js\";import{OutputHighlight as f}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{VisualVariables as p}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{ColorConversion as m}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{ScreenSizePerspective as g,addScreenSizePerspective as v,addScreenSizePerspectiveAlignment as b}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js\";import{addPixelRatio as x}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2PassUniform as h}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float4BindUniform as w}from\"../views/3d/webgl-engine/core/shaderModules/Float4BindUniform.js\";import{Float4DrawUniform as C}from\"../views/3d/webgl-engine/core/shaderModules/Float4DrawUniform.js\";import{Float4PassUniform as z}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatBindUniform as P}from\"../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js\";import{FloatPassUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as j,If as y}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DBindUniform as A}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DBindUniform.js\";import{Texture2DPassUniform as $}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as O}from\"../views/webgl/ShaderBuilder.js\";import{alphaCutoff as D}from\"../webscene/support/AlphaCutoff.js\";function F(e){const i=new O,{signedDistanceFieldEnabled:F,occlusionTestEnabled:M,horizonCullingEnabled:U,pixelSnappingEnabled:H,hasScreenSizePerspective:E,debugDrawLabelBorder:_,hasVVSize:q,hasVVColor:R,hasRotation:k,occludedFragmentFade:I,sampleSignedDistanceFieldTexelCenter:G}=e;i.include(c,e),i.vertex.include(a,e);const{occlusionPass:J,output:K,oitPass:N}=e;if(J)return i.include(d,e),i;const{vertex:Q,fragment:W}=i;i.include(g),i.include(p,e),i.include(s,e),M&&i.include(u),W.include(m),i.varyings.add(\"vcolor\",\"vec4\"),i.varyings.add(\"vtc\",\"vec2\"),i.varyings.add(\"vsize\",\"vec2\");const X=9===K,Y=X&&M;Y&&i.varyings.add(\"voccluded\",\"float\"),Q.uniforms.add(new w(\"viewport\",e=>e.camera.fullViewport),new h(\"screenOffset\",(e,i)=>o(L,2*e.screenOffset[0]*i.camera.pixelRatio,2*e.screenOffset[1]*i.camera.pixelRatio)),new h(\"anchorPosition\",e=>B(e)),new z(\"materialColor\",e=>e.color),new S(\"materialRotation\",e=>e.rotation),new $(\"tex\",e=>e.texture)),x(Q),F&&(Q.uniforms.add(new z(\"outlineColor\",e=>e.outlineColor)),W.uniforms.add(new z(\"outlineColor\",e=>T(e)?e.outlineColor:r),new S(\"outlineSize\",e=>T(e)?e.outlineSize:0))),U&&Q.uniforms.add(new C(\"pointDistanceSphere\",(e,o)=>{const i=o.camera.eye,r=e.origin;return t(r[0]-i[0],r[1]-i[1],r[2]-i[2],l.radius)})),H&&Q.include(n),E&&(v(Q),b(Q)),_&&i.varyings.add(\"debugBorderCoords\",\"vec4\"),i.attributes.add(\"uv0\",\"vec2\"),i.attributes.add(\"uvi\",\"vec4\"),i.attributes.add(\"color\",\"vec4\"),i.attributes.add(\"size\",\"vec2\"),i.attributes.add(\"rotation\",\"float\"),(q||R)&&i.attributes.add(\"featureAttribute\",\"vec4\"),Q.code.add(U?j`bool behindHorizon(vec3 posModel) {\nvec3 camToEarthCenter = pointDistanceSphere.xyz - localOrigin;\nvec3 camToPos = pointDistanceSphere.xyz + posModel;\nfloat earthRadius = pointDistanceSphere.w;\nfloat a = dot(camToPos, camToPos);\nfloat b = dot(camToPos, camToEarthCenter);\nfloat c = dot(camToEarthCenter, camToEarthCenter) - earthRadius * earthRadius;\nreturn b > 0.0 && b < a && b * b  > a * c;\n}`:j`bool behindHorizon(vec3 posModel) { return false; }`),Q.main.add(j`\n    ProjectHUDAux projectAux;\n    vec4 posProj = projectPositionHUD(projectAux);\n    forwardObjectAndLayerIdColor();\n\n    if (rejectBySlice(projectAux.posModel)) {\n      // Project outside of clip plane\n      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n      return;\n    }\n\n    if (behindHorizon(projectAux.posModel)) {\n      // Project outside of clip plane\n      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n      return;\n    }\n\n    vec2 inputSize;\n    ${y(E,j`\n        inputSize = screenSizePerspectiveScaleVec2(size, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspective);\n        vec2 screenOffsetScaled = screenSizePerspectiveScaleVec2(screenOffset, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspectiveAlignment);`,j`\n        inputSize = size;\n        vec2 screenOffsetScaled = screenOffset;`)}\n    ${y(q,j`inputSize *= vvScale(featureAttribute).xx;`)}\n\n    vec2 combinedSize = inputSize * pixelRatio;\n    vec4 quadOffset = vec4(0.0);\n\n    ${y(M,j`\n    bool visible = testHUDVisibility(posProj);\n    if (!visible) {\n      vtc = vec2(0.0);\n      ${y(_,\"debugBorderCoords = vec4(0.5, 0.5, 1.5 / combinedSize);\")}\n      return;\n    }`)}\n    ${y(Y,j`voccluded = visible ? 0.0 : 1.0;`)}\n  `);const Z=j`\n      vec2 uv = mix(uvi.xy, uvi.zw, bvec2(uv0));\n      vec2 texSize = vec2(textureSize(tex, 0));\n      uv = mix(vec2(1.0), uv / texSize, lessThan(uv, vec2(${V})));\n      quadOffset.xy = (uv0 - anchorPosition) * 2.0 * combinedSize;\n\n      ${y(k,j`\n          float angle = radians(materialRotation + rotation);\n          float cosAngle = cos(angle);\n          float sinAngle = sin(angle);\n          mat2 rotate = mat2(cosAngle, -sinAngle, sinAngle,  cosAngle);\n\n          quadOffset.xy = rotate * quadOffset.xy;\n        `)}\n\n      quadOffset.xy = (quadOffset.xy + screenOffsetScaled) / viewport.zw * posProj.w;\n  `,ee=H?F?j`posProj = alignToPixelOrigin(posProj, viewport.zw) + quadOffset;`:j`posProj += quadOffset;\nif (inputSize.x == size.x) {\nposProj = alignToPixelOrigin(posProj, viewport.zw);\n}`:j`posProj += quadOffset;`;Q.main.add(j`\n    ${Z}\n    ${R?\"vcolor = interpolateVVColor(featureAttribute.y) * materialColor;\":\"vcolor = color / 255.0 * materialColor;\"}\n\n    ${y(10===K,j`vcolor.a = 1.0;`)}\n\n    bool alphaDiscard = vcolor.a < ${j.float(D)};\n    ${y(F,`alphaDiscard = alphaDiscard && outlineColor.a < ${j.float(D)};`)}\n    if (alphaDiscard) {\n      // \"early discard\" if both symbol color (= fill) and outline color (if applicable) are transparent\n      gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n      return;\n    } else {\n      ${ee}\n      gl_Position = posProj;\n    }\n\n    vtc = uv;\n\n    ${y(_,j`debugBorderCoords = vec4(uv01, 1.5 / combinedSize);`)}\n    vsize = inputSize;\n  `),W.uniforms.add(new $(\"tex\",e=>e.texture)),I&&!X&&W.uniforms.add(new A(\"depthMap\",e=>e.mainDepth),new P(\"occludedOpacity\",e=>e.hudOccludedFragmentOpacity));const oe=_?j`(isBorder > 0.0 ? 0.0 : ${j.float(D)})`:j.float(D),ie=j`\n    ${y(_,j`float isBorder = float(any(lessThan(debugBorderCoords.xy, debugBorderCoords.zw)) || any(greaterThan(debugBorderCoords.xy, 1.0 - debugBorderCoords.zw)));`)}\n\n    vec2 samplePos = vtc;\n\n    ${y(G,j`\n      float txSize = float(textureSize(tex, 0).x);\n      float texelSize = 1.0 / txSize;\n\n      // Calculate how much we have to add/subtract to/from each texel to reach the size of an onscreen pixel\n      vec2 scaleFactor = (vsize - txSize) * texelSize;\n      samplePos += (vec2(1.0, -1.0) * texelSize) * scaleFactor;`)}\n\n    ${F?j`\n      vec4 fillPixelColor = vcolor;\n\n      // Get distance in output units (i.e. pixels)\n\n      float sdf = texture(tex, samplePos).r;\n      float pixelDistance = sdf * vsize.x;\n\n      // Create smooth transition from the icon into its outline\n      float fillAlphaFactor = clamp(0.5 - pixelDistance, 0.0, 1.0);\n      fillPixelColor.a *= fillAlphaFactor;\n\n      if (outlineSize > 0.25) {\n        vec4 outlinePixelColor = outlineColor;\n        float clampedOutlineSize = min(outlineSize, 0.5*vsize.x);\n\n        // Create smooth transition around outline\n        float outlineAlphaFactor = clamp(0.5 - (abs(pixelDistance) - 0.5*clampedOutlineSize), 0.0, 1.0);\n        outlinePixelColor.a *= outlineAlphaFactor;\n\n        if (\n          outlineAlphaFactor + fillAlphaFactor < ${oe} ||\n          fillPixelColor.a + outlinePixelColor.a < ${j.float(D)}\n        ) {\n          discard;\n        }\n\n        // perform un-premultiplied over operator (see https://en.wikipedia.org/wiki/Alpha_compositing#Description)\n        float compositeAlpha = outlinePixelColor.a + fillPixelColor.a * (1.0 - outlinePixelColor.a);\n        vec3 compositeColor = vec3(outlinePixelColor) * outlinePixelColor.a +\n          vec3(fillPixelColor) * fillPixelColor.a * (1.0 - outlinePixelColor.a);\n\n        ${y(!X,j`fragColor = vec4(compositeColor, compositeAlpha);`)}\n      } else {\n        if (fillAlphaFactor < ${oe}) {\n          discard;\n        }\n\n        ${y(!X,j`fragColor = premultiplyAlpha(fillPixelColor);`)}\n      }\n\n      // visualize SDF:\n      // fragColor = vec4(clamp(-pixelDistance/vsize.x*2.0, 0.0, 1.0), clamp(pixelDistance/vsize.x*2.0, 0.0, 1.0), 0.0, 1.0);\n      `:j`\n          vec4 texColor = texture(tex, samplePos, -0.5);\n          if (texColor.a < ${oe}) {\n            discard;\n          }\n          ${y(!X,j`fragColor = texColor * premultiplyAlpha(vcolor);`)}\n          `}\n\n    ${y(I&&!X,j`\n        float zSample = texelFetch(depthMap, ivec2(gl_FragCoord.xy), 0).x;\n        if (zSample < gl_FragCoord.z) {\n          fragColor *= occludedOpacity;\n        }\n        `)}\n\n    ${y(!X&&_,j`fragColor = mix(fragColor, vec4(1.0, 0.0, 1.0, 1.0), isBorder * 0.5);`)}\n  `;switch(K){case 0:case 1:i.outputs.add(\"fragColor\",\"vec4\",0),1===K&&i.outputs.add(\"fragEmission\",\"vec4\",1),1===N&&i.outputs.add(\"fragAlpha\",\"float\",1===K?2:1),W.main.add(j`\n        ${ie}\n        ${y(2===N,j`fragColor.rgb /= fragColor.a;`)}\n        ${y(1===K,j`fragEmission = vec4(0.0);`)}\n        ${y(1===N,j`fragAlpha = fragColor.a;`)}`);break;case 10:W.main.add(j`\n        ${ie}\n        outputObjectAndLayerIdColor();`);break;case 9:i.include(f,e),W.main.add(j`\n        ${ie}\n        outputHighlight(${y(Y,j`voccluded == 1.0`,j`false`)});`)}return i}function T(e){return e.outlineColor[3]>0&&e.outlineSize>0}function B(o){return o.textureIsSignedDistanceField?M(o.anchorPosition,o.distanceFieldBoundingBox,L):e(L,o.anchorPosition),L}function M(e,i,r){o(r,e[0]*(i[2]-i[0])+i[0],e[1]*(i[3]-i[1])+i[1])}const L=i(),U=32e3,V=j.float(U),H=Object.freeze(Object.defineProperty({__proto__:null,build:F,calculateAnchorPosition:B,fullUV:U},Symbol.toStringTag,{value:\"Module\"}));export{H,F as b,B as c,U as f};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{glLayout as e}from\"../../support/buffer/glUtil.js\";import{newLayout as r}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmission as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as o}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{olidEnabled as i}from\"../effects/geometry/olidUtils.js\";import{getDrawBuffers as n,blending as l}from\"../lib/OrderIndependentTransparency.js\";import{H as u}from\"../../../../chunks/HUDMaterial.glsl.js\";import{PrimitiveType as a}from\"../../../webgl/enums.js\";import{makePipelineState as c,defaultColorWrite as f,defaultDepthWrite as p}from\"../../../webgl/renderState.js\";import{fromLayouts as m}from\"../../../webgl/VertexAttributeLocations.js\";class d extends s{constructor(r,t){super(r,t,new o(u,()=>import(\"./HUDMaterial.glsl.js\")),m([v,g()].map(e))),this.primitiveType=t.occlusionPass?a.POINTS:a.TRIANGLE_STRIP}initializePipeline(e){const{oitPass:r,hasPolygonOffset:o,draped:s,output:i,depthTestEnabled:u,occlusionPass:a}=e,m=u&&!s&&!(1===r)&&!a&&!(9===i);return c({blending:t(i)?l(r,!0):null,depthTest:u&&!s?{func:515}:null,depthWrite:m?p:null,drawBuffers:n(r,i),colorWrite:f,polygonOffset:o?h:null})}}const h={factor:0,units:-4},v=r().vec2u8(\"uv0\",{glNormalized:!0}),b=r().vec3f(\"position\").vec3f(\"normal\").vec4i16(\"uvi\").vec4u8(\"color\").vec2f(\"size\").f32(\"rotation\").vec4f(\"centerOffsetAndDistance\").vec4f(\"featureAttribute\"),j=b.clone().vec4u8(\"olidColor\");function g(){return i()?j:b}export{d as HUDMaterialTechnique,v as baseLayout,g as getInstanceLayout,b as instanceLayout,j as olidInstanceLayout};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as o}from\"../materials/DefaultTechniqueConfiguration.js\";class i extends o{constructor(e){super(),this.spherical=e,this.screenCenterOffsetUnitsEnabled=!1,this.occlusionTestEnabled=!0,this.signedDistanceFieldEnabled=!1,this.sampleSignedDistanceFieldTexelCenter=!1,this.hasVVSize=!1,this.hasVVColor=!1,this.hasVerticalOffset=!1,this.hasScreenSizePerspective=!1,this.hasRotation=!1,this.debugDrawLabelBorder=!1,this.hasPolygonOffset=!1,this.depthTestEnabled=!0,this.pixelSnappingEnabled=!0,this.draped=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.occlusionPass=!1,this.occludedFragmentFade=!1,this.horizonCullingEnabled=!0,this.isFocused=!0,this.olidColorInstanced=!1,this.textureCoordinateType=0,this.emissionSource=0,this.discardInvisibleFragments=!0,this.hasVVInstancing=!1,this.snowCover=!1}}e([t()],i.prototype,\"screenCenterOffsetUnitsEnabled\",void 0),e([t()],i.prototype,\"occlusionTestEnabled\",void 0),e([t()],i.prototype,\"signedDistanceFieldEnabled\",void 0),e([t()],i.prototype,\"sampleSignedDistanceFieldTexelCenter\",void 0),e([t()],i.prototype,\"hasVVSize\",void 0),e([t()],i.prototype,\"hasVVColor\",void 0),e([t()],i.prototype,\"hasVerticalOffset\",void 0),e([t()],i.prototype,\"hasScreenSizePerspective\",void 0),e([t()],i.prototype,\"hasRotation\",void 0),e([t()],i.prototype,\"debugDrawLabelBorder\",void 0),e([t()],i.prototype,\"hasPolygonOffset\",void 0),e([t()],i.prototype,\"depthTestEnabled\",void 0),e([t()],i.prototype,\"pixelSnappingEnabled\",void 0),e([t()],i.prototype,\"draped\",void 0),e([t()],i.prototype,\"terrainDepthTest\",void 0),e([t()],i.prototype,\"cullAboveTerrain\",void 0),e([t()],i.prototype,\"occlusionPass\",void 0),e([t()],i.prototype,\"occludedFragmentFade\",void 0),e([t()],i.prototype,\"horizonCullingEnabled\",void 0),e([t()],i.prototype,\"isFocused\",void 0);export{i as HUDMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clamp as e,deg2rad as t}from\"../../../../core/mathUtils.js\";import{fromMat4 as i}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{invert as r}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as n,rotate as o}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as l,create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{j as u,t as f,n as p,e as h,h as m,d,b as g,k as b,g as v,a as x,o as S,f as y}from\"../../../../chunks/vec32.js\";import{create as O,fromValues as z}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromArray as _,create as P,freeze as j}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{isMat4 as M}from\"../../../../core/libs/gl-matrix-2/types/mat4.js\";import{create as V}from\"../../../../geometry/support/aaBoundingRect.js\";import{BufferViewVec4u8 as D}from\"../../../../geometry/support/buffer/BufferView.js\";import{evaluateModelTransformScale as R}from\"../../layers/support/FastSymbolUpdates.js\";import{debugFlags as A}from\"../../support/debugFlags.js\";import{isColorEmissionHighlightOrOID as C,isColorOrColorEmission as w}from\"../core/shaderLibrary/ShaderOutput.js\";import{HUDVerticalPixelOffset as F}from\"../core/shaderLibrary/hud/HUD.glsl.js\";import{GLTextureMaterialBindParameters as T,GLTextureMaterial as L}from\"../lib/GLTextureMaterial.js\";import{Material as E}from\"../lib/Material.js\";import{SeparateScreenSizePerspectiveEvaluators as U}from\"../lib/screenSizePerspectiveUtils.js\";import{assert as B}from\"../lib/Util.js\";import{writePosition as I,writeNormal as q,writeColor as G,writeBufferVec2 as W,writeBufferFloat as H,writeBufferVec4 as N,writeBufferVec4Zeros as X,writeOlidColor as Y}from\"./internal/bufferWriterUtils.js\";import{verticalOffsetAtDistance as k}from\"./internal/MaterialUtil.js\";import{c as J,f as K}from\"../../../../chunks/HUDMaterial.glsl.js\";import{baseLayout as Q,getInstanceLayout as Z,HUDMaterialTechnique as $}from\"../shaders/HUDMaterialTechnique.js\";import{HUDMaterialTechniqueConfiguration as ee}from\"../shaders/HUDMaterialTechniqueConfiguration.js\";import{alphaCutoff as te}from\"../../../../webscene/support/AlphaCutoff.js\";class ie extends E{constructor(e,t){super(e,Ve),this.produces=new Map([[13,e=>C(e)&&!this.parameters.drawAsLabel],[14,e=>C(e)&&this.parameters.drawAsLabel],[12,()=>this.parameters.occlusionTest],[18,e=>this.parameters.draped&&C(e)]]),this._visible=!0,this._configuration=new ee(t)}getConfiguration(e,t){const i=this.parameters.draped;return super.getConfiguration(e,t,this._configuration),this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasVerticalOffset=!!this.parameters.verticalOffset,this._configuration.hasScreenSizePerspective=!!this.parameters.screenSizePerspective,this._configuration.screenCenterOffsetUnitsEnabled=\"screen\"===this.parameters.centerOffsetUnits,this._configuration.hasPolygonOffset=this.parameters.polygonOffset,this._configuration.draped=i,this._configuration.occlusionTestEnabled=this.parameters.occlusionTest,this._configuration.pixelSnappingEnabled=this.parameters.pixelSnappingEnabled,this._configuration.signedDistanceFieldEnabled=this.parameters.textureIsSignedDistanceField,this._configuration.sampleSignedDistanceFieldTexelCenter=this.parameters.sampleSignedDistanceFieldTexelCenter,this._configuration.hasRotation=this.parameters.hasRotation,this._configuration.hasVVSize=!!this.parameters.vvSize,this._configuration.hasVVColor=!!this.parameters.vvColor,this._configuration.occlusionPass=12===t.slot,this._configuration.occludedFragmentFade=!i&&this.parameters.occludedFragmentFade,this._configuration.horizonCullingEnabled=this.parameters.horizonCullingEnabled,this._configuration.isFocused=this.parameters.isFocused,this._configuration.depthTestEnabled=this.parameters.depthEnabled||12===t.slot,w(e)&&(this._configuration.debugDrawLabelBorder=!!A.LABELS_SHOW_BORDER),this._configuration.oitPass=t.oitPass,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration}intersect(e,t,s,a,n,o){const{options:{selectionMode:l,hud:c,excludeLabels:v},point:x,camera:S}=s,{parameters:y}=this;if(!l||!c||v&&y.isLabel||!e.visible||!x||!S)return;const z=e.attributes.get(\"featureAttribute\"),P=null==z?null:_(z.data,Oe),{scaleX:j,scaleY:M}=Re(P,y,S.pixelRatio);i(ge,t),e.attributes.has(\"featureAttribute\")&&ne(ge);const V=e.attributes.get(\"position\"),D=e.attributes.get(\"size\"),R=e.attributes.get(\"normal\"),A=e.attributes.get(\"rotation\"),C=e.attributes.get(\"centerOffsetAndDistance\");B(V.size>=3);const w=J(y),F=\"screen\"===this.parameters.centerOffsetUnits;for(let i=0;i<V.data.length/V.size;i++){const e=i*V.size;u(ce,V.data[e],V.data[e+1],V.data[e+2]),f(ce,ce,t),f(ce,ce,S.viewMatrix);const a=i*C.size;if(u(Se,C.data[a],C.data[a+1],C.data[a+2]),!F&&(ce[0]+=Se[0],ce[1]+=Se[1],0!==Se[2])){const e=Se[2];p(Se,ce),h(ce,ce,m(Se,Se,e))}const n=i*R.size;if(u(ue,R.data[n],R.data[n+1],R.data[n+2]),ae(ue,ge,S,ze),Ae(this.parameters,ce,ze,S,le),S.applyProjection(ce,fe),fe[0]>-1){F&&(Se[0]||Se[1])&&(fe[0]+=Se[0]*S.pixelRatio,0!==Se[1]&&(fe[1]+=le.alignmentEvaluator.apply(Se[1])*S.pixelRatio),S.unapplyProjection(fe,ce)),fe[0]+=this.parameters.screenOffset[0]*S.pixelRatio,fe[1]+=this.parameters.screenOffset[1]*S.pixelRatio,fe[0]=Math.floor(fe[0]),fe[1]=Math.floor(fe[1]);const e=i*D.size;je[0]=D.data[e],je[1]=D.data[e+1],le.evaluator.applyVec2(je,je);const t=_e*S.pixelRatio;let a=0;if(y.textureIsSignedDistanceField){a=Math.min(y.outlineSize,.5*je[0])*S.pixelRatio/2}je[0]*=j,je[1]*=M;const n=i*A.size,l=y.rotation+A.data[n];if(oe(x,fe[0],fe[1],je,t,a,l,y,w)){const e=s.ray;if(f(he,ce,r(ve,S.viewMatrix)),fe[0]=x[0],fe[1]=x[1],S.unprojectFromRenderScreen(fe,ce)){const t=O();d(t,e.direction);const i=1/g(t);m(t,t,i);o(b(e.origin,ce)*i,t,-1,he)}}}}}intersectDraped(e,t,i,s,r){const a=e.attributes.get(\"position\"),n=e.attributes.get(\"size\"),o=e.attributes.get(\"rotation\"),l=this.parameters,c=J(l),u=e.attributes.get(\"featureAttribute\"),f=null==u?null:_(u.data,Oe),{scaleX:p,scaleY:h}=Re(f,l,e.screenToWorldRatio),m=Pe*e.screenToWorldRatio;for(let d=0;d<a.data.length/a.size;d++){const t=d*a.size,u=a.data[t],f=a.data[t+1],g=d*n.size;je[0]=n.data[g],je[1]=n.data[g+1];let b=0;if(l.textureIsSignedDistanceField){b=Math.min(l.outlineSize,.5*je[0])*e.screenToWorldRatio/2}je[0]*=p,je[1]*=h;const v=d*o.size,x=l.rotation+o.data[v];oe(i,u,f,je,m,b,x,l,c)&&s(r.distance,r.normal,-1)}}createBufferWriter(){return new De}applyShaderOffsetsView(e,t,i,s,r,a,n){const o=ae(t,i,r,ze);return this._applyVerticalGroundOffsetView(e,o,r,n),Ae(this.parameters,n,o,r,a),this._applyPolygonOffsetView(n,o,s[3],r,n),this._applyCenterOffsetView(n,s,n),n}applyShaderOffsetsNDC(e,t,i,s,r){return this._applyCenterOffsetNDC(e,t,i,s),null!=r&&d(r,s),this._applyPolygonOffsetNDC(s,t,i,s),s}_applyPolygonOffsetView(t,i,s,r,a){const n=r.aboveGround?1:-1;let o=Math.sign(s);0===o&&(o=n);const l=n*o;if(this.parameters.shaderPolygonOffset<=0)return d(a,t);const c=e(Math.abs(i.cosAngle),.01,1),u=1-Math.sqrt(1-c*c)/c/r.viewport[2];return m(a,t,l>0?u:1/u),a}_applyVerticalGroundOffsetView(e,t,i,s){const r=g(e),a=i.aboveGround?1:-1,n=i.computeRenderPixelSizeAtDist(r)*F,o=m(ce,t.normal,a*n);return v(s,e,o),s}_applyCenterOffsetView(e,t,i){const s=\"screen\"!==this.parameters.centerOffsetUnits;return i!==e&&d(i,e),s&&(i[0]+=t[0],i[1]+=t[1],t[2]&&(p(ue,i),x(i,i,m(ue,ue,t[2])))),i}_applyCenterOffsetNDC(e,t,i,s){const r=\"screen\"!==this.parameters.centerOffsetUnits;return s!==e&&d(s,e),r||(s[0]+=t[0]/i.fullWidth*2,s[1]+=t[1]/i.fullHeight*2),s}_applyPolygonOffsetNDC(e,t,i,s){const r=this.parameters.shaderPolygonOffset;if(e!==s&&d(s,e),r){const e=i.aboveGround?1:-1,a=e*Math.sign(t[3]);s[2]-=(a||e)*r}return s}set visible(e){this._visible=e}get visible(){const{color:e,outlineSize:t,outlineColor:i}=this.parameters,s=e[3]>=te||t>=te&&i[3]>=te;return this._visible&&s}createGLMaterial(e){return new se(e)}calculateRelativeScreenBounds(e,t,i=V()){return re(this.parameters,e,t,i),i[2]=i[0]+e[0],i[3]=i[1]+e[1],i}}class se extends L{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.getTechnique($,e)}}function re(e,t,i,s){s[0]=e.anchorPosition[0]*-t[0]+e.screenOffset[0]*i,s[1]=e.anchorPosition[1]*-t[1]+e.screenOffset[1]*i}function ae(e,t,s,r){return M(t)&&(t=i(be,t)),S(r.normal,e,t),f(r.normal,r.normal,s.viewInverseTransposeMatrix),r.cosAngle=y(pe,Me),r}function ne(e){const t=e[0],i=e[1],s=e[2],r=e[3],a=e[4],n=e[5],o=e[6],l=e[7],c=e[8],u=1/Math.sqrt(t*t+i*i+s*s),f=1/Math.sqrt(r*r+a*a+n*n),p=1/Math.sqrt(o*o+l*l+c*c);return e[0]=t*u,e[1]=i*u,e[2]=s*u,e[3]=r*f,e[4]=a*f,e[5]=n*f,e[6]=o*p,e[7]=l*p,e[8]=c*p,e}function oe(e,i,s,r,a,l,c,u,f){let p=i-a-r[0]*f[0],h=p+r[0]+2*a,m=s-a-r[1]*f[1],d=m+r[1]+2*a;const g=u.distanceFieldBoundingBox;return u.textureIsSignedDistanceField&&null!=g&&(p+=r[0]*g[0],m+=r[1]*g[1],h-=r[0]*(1-g[2]),d-=r[1]*(1-g[3]),p-=l,h+=l,m-=l,d+=l),n(de,i,s),o(me,e,de,t(c)),me[0]>p&&me[0]<h&&me[1]>m&&me[1]<d}const le=new U,ce=O(),ue=O(),fe=P(),pe=O(),he=O(),me=c(),de=c(),ge=s(),be=s(),ve=a(),xe=P(),Se=O(),ye=O(),Oe=P(),ze={normal:pe,cosAngle:0},_e=1,Pe=2,je=l(0,0),Me=z(0,0,1);class Ve extends T{constructor(){super(...arguments),this.renderOccluded=1,this.isDecoration=!1,this.color=j(1,1,1,1),this.polygonOffset=!1,this.anchorPosition=l(.5,.5),this.screenOffset=[0,0],this.shaderPolygonOffset=1e-5,this.textureIsSignedDistanceField=!1,this.sampleSignedDistanceFieldTexelCenter=!1,this.outlineColor=j(1,1,1,1),this.outlineSize=0,this.distanceFieldBoundingBox=P(),this.rotation=0,this.hasRotation=!1,this.vvSizeEnabled=!1,this.vvSize=null,this.vvColor=null,this.vvOpacity=null,this.vvSymbolAnchor=null,this.vvSymbolRotationMatrix=null,this.hasSlicePlane=!1,this.pixelSnappingEnabled=!0,this.occlusionTest=!0,this.occludedFragmentFade=!1,this.horizonCullingEnabled=!1,this.centerOffsetUnits=\"world\",this.drawAsLabel=!1,this.depthEnabled=!0,this.isFocused=!0,this.focusStyle=\"bright\",this.draped=!1,this.isLabel=!1}get hasVVSize(){return!!this.vvSize}get hasVVColor(){return!!this.vvColor}get hasVVOpacity(){return!!this.vvOpacity}}class De{constructor(){this.layout=Q,this.instanceLayout=Z()}elementCount(e){return e.get(\"position\").indices.length}elementCountBaseInstance(e){return e.get(\"uv0\").indices.length}write(e,t,i,s,r,a){const{position:n,normal:o,color:l,size:c,rotation:u,centerOffsetAndDistance:f,featureAttribute:p,uvi:h}=r;I(i.get(\"position\"),e,n,a),q(i.get(\"normal\"),t,o,a);const m=i.get(\"position\").indices.length;let d=0,g=0,b=K,v=K;const x=i.get(\"uvi\")?.data;x&&x.length>=4&&(d=x[0],g=x[1],b=x[2],v=x[3]);for(let S=0;S<m;++S){const e=a+S;h.setValues(e,d,g,b,v)}if(G(i.get(\"color\"),4,l,a),W(i.get(\"size\"),c,a),H(i.get(\"rotation\"),u,a),i.get(\"centerOffsetAndDistance\")?N(i.get(\"centerOffsetAndDistance\"),f,a):X(f,a,m),i.get(\"featureAttribute\")?N(i.get(\"featureAttribute\"),p,a):X(p,a,m),null!=s){const e=i.get(\"position\")?.indices;if(e){const t=e.length,i=r.getField(\"olidColor\",D);Y(s,i,t,a)}}return{numVerticesPerItem:1,numItems:m}}writeBaseInstance(e,t){const{uv0:i}=t;W(e.get(\"uv0\"),i,0)}intersect(e,t,i,s,a,n,o){const{options:{selectionMode:l,hud:c,excludeLabels:x},point:S,camera:y}=s;if(!l||!c||x&&t.isLabel||!S)return;const z=this.instanceLayout.createView(e),{position:_,normal:P,rotation:j,size:M,featureAttribute:V,centerOffsetAndDistance:D}=z,R=\"screen\"===t.centerOffsetUnits,A=J(t);if(null==_||null==P||null==j||null==M||null==D||null==y)return;const C=null==V?null:V.getVec(0,Oe),{scaleX:w,scaleY:F}=Re(C,t,y.pixelRatio),T=_.count;for(let L=0;L<T;L++){if(_.getVec(L,ce),null!=i&&v(ce,ce,i),f(ce,ce,y.viewMatrix),D.getVec(L,xe),u(Se,xe[0],xe[1],xe[2]),!R&&(ce[0]+=Se[0],ce[1]+=Se[1],0!==Se[2])){const e=Se[2];p(Se,ce),h(ce,ce,m(Se,Se,e))}if(P.getVec(L,ue),ae(ue,ge,y,ze),Ae(t,ce,ze,y,le),y.applyProjection(ce,fe),fe[0]>-1){R&&(Se[0]||Se[1])&&(fe[0]+=Se[0]*y.pixelRatio,0!==Se[1]&&(fe[1]+=le.alignmentEvaluator.apply(Se[1])*y.pixelRatio),y.unapplyProjection(fe,ce)),fe[0]+=t.screenOffset[0]*y.pixelRatio,fe[1]+=t.screenOffset[1]*y.pixelRatio,fe[0]=Math.floor(fe[0]),fe[1]=Math.floor(fe[1]),M.getVec(L,je),le.evaluator.applyVec2(je,je);const e=_e*y.pixelRatio;let i=0;if(t.textureIsSignedDistanceField){i=Math.min(t.outlineSize,.5*je[0])*y.pixelRatio/2}je[0]*=w,je[1]*=F;const a=j.get(L),n=t.rotation+a;if(oe(S,fe[0],fe[1],je,e,i,n,t,A)){const e=s.ray;if(f(he,ce,r(ve,y.viewMatrix)),fe[0]=S[0],fe[1]=S[1],y.unprojectFromRenderScreen(fe,ce)){const t=O();d(t,e.direction);const i=1/g(t);m(t,t,i);o(b(e.origin,ce)*i,t,L,he)}}}}}}function Re(e,t,i){return null==e||null==t.vvSize?{scaleX:i,scaleY:i}:(R(ye,t,e),{scaleX:ye[0]*i,scaleY:ye[1]*i})}function Ae(e,t,i,s,r){if(!e.verticalOffset?.screenLength){const s=g(t);return r.update(i.cosAngle,s,e.screenSizePerspective,e.screenSizePerspectiveMinPixelReferenceSize,e.screenSizePerspectiveAlignment,null),t}const a=g(t),n=e.screenSizePerspectiveAlignment??e.screenSizePerspective,o=k(s,a,e.verticalOffset,i.cosAngle,n,e.screenSizePerspectiveMinPixelReferenceSize);return r.update(i.cosAngle,a,e.screenSizePerspective,e.screenSizePerspectiveMinPixelReferenceSize,e.screenSizePerspectiveAlignment,null),m(i.normal,i.normal,o),v(t,t,i.normal)}export{ie as HUDMaterial,Ve as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction t(t){return\"point\"===t.type}export{t as isDehydratedPoint};\n"],"names":["w","t","F","z","P","M","j","R","r","g","d","v","x","n","b","m","U","y","i","o","s","u","A","a","c","l","D","I","Z","k","E","e","G","p","f","h","V","B","Pt","H","C","J","K","L","N","Q","T","W","X","Y","$","_","tt","nt","ot","et","st","rt","lt","ht","ut","q","S","at","O","pt","ft","wt","gt","mt","dt","Mt","At","yt","It","bt","jt","ee","oe","ie","HUDMaterial_glsl","Ve","Oe","Re","ge","ne","ce","Se","ue","ae","ze","Ae","le","fe","je","_e","he","ve","Pe","De","te","se","re","be","pe","Me","de","me","xe","ye"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]}