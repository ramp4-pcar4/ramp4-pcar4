{"version":3,"file":"loader-BkseZnE7.js","sources":["../../node_modules/@arcgis/core/chunks/scalar.js","../../node_modules/@arcgis/core/views/3d/glTF/LoaderResult.js","../../node_modules/@arcgis/core/libs/dracoMeshDecoder/dracoMeshDecoder.js","../../node_modules/@arcgis/core/views/3d/glTF/internal/BinaryStreamReader.js","../../node_modules/@arcgis/core/views/3d/glTF/internal/fillDefaults.js","../../node_modules/@arcgis/core/views/3d/glTF/internal/pathUtils.js","../../node_modules/@arcgis/core/views/3d/glTF/internal/Resource.js","../../node_modules/@arcgis/core/views/3d/glTF/loader.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction e(e,t){const o=e.count;t||(t=new e.TypedArrayConstructor(o));for(let r=0;r<o;r++)t[r]=e.get(r);return t}const t=Object.freeze(Object.defineProperty({__proto__:null,makeDense:e},Symbol.toStringTag,{value:\"Module\"}));export{e as m,t as s};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction e(e={}){return{color:[1,1,1],opacity:1,alphaMode:\"OPAQUE\",alphaCutoff:.5,doubleSided:!1,castShadows:!0,receiveShadows:!0,receiveAmbientOcclusion:!0,colorTexture:null,normalTexture:null,occlusionTexture:null,emissiveTexture:null,metallicRoughnessTexture:null,colorTextureTransform:null,normalTextureTransform:null,occlusionTextureTransform:null,emissiveTextureTransform:null,metallicRoughnessTextureTransform:null,emissiveFactor:[0,0,0],metallicFactor:1,roughnessFactor:1,colorMixMode:\"multiply\",...e}}function l(e,l={}){return{data:e,parameters:{wrap:{s:10497,t:10497,...l.wrap},noUnpackFlip:!0,mipmap:!1,...l}}}export{e as makeMaterialParameters,l as makeTextureSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";let r;function t(){return r??=(async()=>{const{default:r}=await import(\"../../chunks/draco_mesh_decoder.js\");return await r({locateFile:r=>e(`esri/libs/dracoMeshDecoder/${r}`)})})(),r}export{t as getDracoMeshDecoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this._data=t,this._offset4=0,this._dataUint32=new Uint32Array(this._data,0,Math.floor(this._data.byteLength/4))}readUint32(){const t=this._offset4;return this._offset4+=1,this._dataUint32[t]}readUint8Array(t){const s=4*this._offset4;return this._offset4+=t/4,new Uint8Array(this._data,s,t)}remainingBytes(){return this._data.byteLength-4*this._offset4}}export{t as BinaryStreamReader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";const o={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1},r={pbrMetallicRoughness:o,emissiveFactor:[0,0,0],alphaMode:\"OPAQUE\",alphaCutoff:.5,doubleSided:!1},t={ESRI_externalColorMixMode:\"tint\",ESRI_receiveShadows:!0,ESRI_receiveAmbientOcclusion:!0},a=(e={})=>{const a={...o,...e.pbrMetallicRoughness},i=l({...t,...e.extras});return{...r,...e,pbrMetallicRoughness:a,extras:i}};function l(o){switch(o.ESRI_externalColorMixMode){case\"multiply\":case\"tint\":case\"ignore\":case\"replace\":break;default:e(o.ESRI_externalColorMixMode),o.ESRI_externalColorMixMode=\"tint\"}return o}const i={magFilter:9729,minFilter:9987,wrapS:10497,wrapT:10497},s=e=>({...i,...e});export{a as material,s as textureSampler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction r(r){let e,t;return r.replace(/^(.*\\/)?([^/]*)$/,(r,a,i)=>(e=a||\"\",t=i||\"\",\"\")),{dirPart:e,filePart:t}}export{r as splitURI};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../../../core/Logger.js\";import{getOrCreateMapValue as r}from\"../../../../core/MapUtils.js\";import{getKey as o}from\"../../../../core/object.js\";import{allSettledValues as n}from\"../../../../core/promiseUtils.js\";import{isDataProtocol as s,dataComponents as a,dataToArrayBuffer as i,makeAbsolute as u}from\"../../../../core/urlUtils.js\";import{Version as f}from\"../../../../core/Version.js\";import{fromXRotation as c,multiply as d,translate as l,rotate as p,scale as m}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as h,clone as b}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{getAxisAngle as w}from\"../../../../core/libs/gl-matrix-2/math/quat.js\";import{create as y}from\"../../../../core/libs/gl-matrix-2/factories/quatf64.js\";import{BufferViewVec2f as g,BufferViewVec2u32 as T,BufferViewVec2u16 as _,BufferViewVec2i16 as x,BufferViewVec2u8 as O,BufferViewVec2i8 as N,BufferViewUint32 as S,BufferViewUint16 as C,BufferViewUint8 as A,BufferViewVec3f as L,BufferViewVec4f as E,BufferViewVec4u8 as R,BufferViewVec4u16 as I,BufferViewVec3u8 as v,BufferViewVec3u16 as D}from\"../../../../geometry/support/buffer/BufferView.js\";import{m as B}from\"../../../../chunks/scalar.js\";import\"../../../../core/has.js\";import{getDracoMeshDecoder as U}from\"../../../../libs/dracoMeshDecoder/dracoMeshDecoder.js\";import{BinaryStreamReader as M}from\"./BinaryStreamReader.js\";import{material as j,textureSampler as G}from\"./fillDefaults.js\";import{splitURI as F}from\"./pathUtils.js\";import{jsonFromBinaryData as H,EncodedMeshTexture as P,imageFromBinaryData as V,isEncodedMeshTexture as z}from\"./resourceUtils.js\";import{DataType as K}from\"../../../webgl/enums.js\";const k={MAGIC:1179937895,CHUNK_TYPE_JSON:1313821514,CHUNK_TYPE_BIN:5130562};class Y{constructor(t,r,o,n){if(this._context=t,this.uri=r,this.json=o,this._glbBuffer=n,this._bufferLoaders=new Map,this._textureLoaders=new Map,this._dracoBuffersSize=0,this._textureCache=new Map,this._materialCache=new Map,this._nodeParentMap=new Map,this._nodeTransformCache=new Map,this._supportedExtensions=[\"KHR_texture_basisu\",\"KHR_texture_transform\",\"KHR_draco_mesh_compression\"],this._baseUri=F(this.uri).dirPart,this._checkVersionSupported(),this._checkRequiredExtensionsSupported(),null==o.scenes)throw new e(\"gltf-loader-unsupported-feature\",\"Scenes must be defined.\");if(null==o.meshes)throw new e(\"gltf-loader-unsupported-feature\",\"Meshes must be defined\");if(null==o.nodes)throw new e(\"gltf-loader-unsupported-feature\",\"Nodes must be defined.\");this._computeNodeParents()}static async load(t,r,o){if(s(r)){const e=a(r);if(e&&\"model/gltf-binary\"!==e.mediaType)try{const o=JSON.parse(e.isBase64?atob(e.data):e.data);return new Y(t,r,o)}catch{}const o=i(r);if(Y._isGLBData(o))return this._fromGLBData(t,r,o)}if(te.test(r)||\"gltf\"===o?.expectedType){const e=await t.loadJSON(r,o);return new Y(t,r,e)}const n=await t.loadBinary(r,o);if(Y._isGLBData(n))return this._fromGLBData(t,r,n);if(re.test(r)||\"glb\"===o?.expectedType)throw new e(\"gltf-loader-invalid-glb\",\"This is not a valid glb file.\");const u=await t.loadJSON(r,o);return new Y(t,r,u)}static _isGLBData(e){if(null==e)return!1;const t=new M(e);return t.remainingBytes()>=4&&t.readUint32()===k.MAGIC}static async _fromGLBData(e,t,r){const o=await Y._parseGLBData(r);return new Y(e,t,o.json,o.binaryData)}static async _parseGLBData(r){const o=new M(r);if(o.remainingBytes()<12)throw new e(\"gltf-loader-error\",\"glb binary data is insufficiently large.\");const n=o.readUint32(),s=o.readUint32(),a=o.readUint32();if(n!==k.MAGIC)throw new e(\"gltf-loader-error\",\"Magic first 4 bytes do not fit to expected glb value.\");if(r.byteLength<a)throw new e(\"gltf-loader-error\",\"glb binary data is smaller than header specifies.\");if(2!==s)throw new e(\"gltf-loader-unsupported-feature\",\"An unsupported glb container version was detected. Only version 2 is supported.\");let i,u,f=0;for(;o.remainingBytes()>=8;){const r=o.readUint32(),n=o.readUint32();if(0===f){if(n!==k.CHUNK_TYPE_JSON)throw new e(\"gltf-loader-error\",\"First glb chunk must be JSON.\");if(r<0)throw new e(\"gltf-loader-error\",\"No JSON data found.\");i=await H(o.readUint8Array(r))}else if(1===f){if(n!==k.CHUNK_TYPE_BIN)throw new e(\"gltf-loader-unsupported-feature\",\"Second glb chunk expected to be BIN.\");u=o.readUint8Array(r)}else t.getLogger(\"esri.views.3d.glTF\").warn(\"[Unsupported Feature] More than 2 glb chunks detected. Skipping.\");f+=1}if(!i)throw new e(\"gltf-loader-error\",\"No glb JSON chunk detected.\");return{json:i,binaryData:u}}async getBuffer(t,r){const o=this.json.buffers[t];if(null==o.uri){if(null==this._glbBuffer)throw new e(\"gltf-loader-error\",\"glb buffer not present\");return this._glbBuffer}const n=await this._getBufferLoader(t,r);if(n.byteLength!==o.byteLength)throw new e(\"gltf-loader-error\",\"Buffer byte lengths should match.\");return n}async _getBufferLoader(e,t){const r=this._bufferLoaders.get(e);if(r)return r;const o=this.json.buffers[e].uri,n=this._context.loadBinary(this._resolveUri(o),t).then(e=>new Uint8Array(e));return this._bufferLoaders.set(e,n),n}_validateAccessor(t){if(!this.json.accessors)throw new e(\"gltf-loader-unsupported-feature\",\"Accessors missing.\");const r=this.json.accessors[t];if(r.type in[\"MAT2\",\"MAT3\",\"MAT4\"])throw new e(\"gltf-loader-unsupported-feature\",`AttributeType ${r.type} is not supported`);return r}_getComponentInfo(e,t){const r=$[e.type],o=t?.componentType||e.componentType,n=W[o];return{componentType:o,componentCount:r,componentByteSize:n,denseByteStride:r*n}}getDracoAccessor(e,t){const r=this._validateAccessor(e),o=t.accessorInfos.get(e),{componentType:n,componentCount:s,componentByteSize:a,denseByteStride:i}=this._getComponentInfo(r,o);return{raw:t.data.buffer,byteStride:i,byteOffset:t.data.byteOffset+(o?.byteOffset||0),entryCount:o?.count??r.count,isDenselyPacked:!0,componentCount:s,componentByteSize:a,componentType:n,min:r.min,max:r.max,normalized:!!r.normalized}}async getAccessor(t,r){const o=this._validateAccessor(t);if(null==o?.bufferView)throw new e(\"gltf-loader-unsupported-feature\",\"Some accessor does not specify a bufferView.\");const{componentCount:n,componentByteSize:s,denseByteStride:a}=this._getComponentInfo(o),i=this.json.bufferViews[o.bufferView],u=await this.getBuffer(i.buffer,r),f=i.byteStride||a;return{raw:u.buffer,byteStride:f,byteOffset:u.byteOffset+(i.byteOffset||0)+(o.byteOffset||0),entryCount:o.count,isDenselyPacked:f===a,componentCount:n,componentByteSize:s,componentType:o.componentType,min:o.min,max:o.max,normalized:!!o.normalized}}async getIndexData(e,t,r){if(null==e.indices)return;const o=e.indices,n=r?this.getDracoAccessor(o,r):await this.getAccessor(o,t);if(n.isDenselyPacked)switch(n.componentType){case K.UNSIGNED_BYTE:return new Uint8Array(n.raw,n.byteOffset,n.entryCount);case K.UNSIGNED_SHORT:return new Uint16Array(n.raw,n.byteOffset,n.entryCount);case K.UNSIGNED_INT:return new Uint32Array(n.raw,n.byteOffset,n.entryCount)}else switch(n.componentType){case K.UNSIGNED_BYTE:return B(Z(A,n));case K.UNSIGNED_SHORT:return B(Z(C,n));case K.UNSIGNED_INT:return B(Z(S,n))}}async getPositionData(t,r,n){if(null==t.attributes.POSITION)throw new e(\"gltf-loader-unsupported-feature\",\"No POSITION vertex data found.\");const s=t.attributes.POSITION,a=n?this.getDracoAccessor(s,n):await this.getAccessor(s,r);if(a.componentType!==K.FLOAT)throw new e(\"gltf-loader-unsupported-feature\",\"Expected type FLOAT for POSITION vertex attribute, but found \"+o(K,a.componentType));if(3!==a.componentCount)throw new e(\"gltf-loader-unsupported-feature\",\"POSITION vertex attribute must have 3 components, but found \"+a.componentCount.toFixed());return Z(L,a)}async getNormalData(t,r,n){if(null==t.attributes.NORMAL)throw new e(\"gltf-loader-error\",\"No NORMAL vertex data found.\");const s=t.attributes.NORMAL,a=n?this.getDracoAccessor(s,n):await this.getAccessor(s,r);if(a.componentType!==K.FLOAT)throw new e(\"gltf-loader-unsupported-feature\",\"Expected type FLOAT for NORMAL vertex attribute, but found \"+o(K,a.componentType));if(3!==a.componentCount)throw new e(\"gltf-loader-unsupported-feature\",\"NORMAL vertex attribute must have 3 components, but found \"+a.componentCount.toFixed());return Z(L,a)}async getTangentData(t,r,n){if(null==t.attributes.TANGENT)throw new e(\"gltf-loader-error\",\"No TANGENT vertex data found.\");const s=t.attributes.TANGENT,a=n?this.getDracoAccessor(s,n):await this.getAccessor(s,r);if(a.componentType!==K.FLOAT)throw new e(\"gltf-loader-unsupported-feature\",\"Expected type FLOAT for TANGENT vertex attribute, but found \"+o(K,a.componentType));if(4!==a.componentCount)throw new e(\"gltf-loader-unsupported-feature\",\"TANGENT vertex attribute must have 4 components, but found \"+a.componentCount.toFixed());return Z(E,a)}async getTextureCoordinates(t,r,o){if(null==t.attributes.TEXCOORD_0)throw new e(\"gltf-loader-error\",\"No TEXCOORD_0 vertex data found.\");const n=t.attributes.TEXCOORD_0,s=o?this.getDracoAccessor(n,o):await this.getAccessor(n,r);if(2!==s.componentCount)throw new e(\"gltf-loader-unsupported-feature\",\"TEXCOORD_0 vertex attribute must have 2 components, but found \"+s.componentCount.toFixed());if(s.componentType===K.FLOAT)return Z(g,s);if(!s.normalized)throw new e(\"gltf-loader-unsupported-feature\",\"Integer component types are only supported for a normalized accessor for TEXCOORD_0.\");return Q(s)}async getVertexColors(t,r,n){if(null==t.attributes.COLOR_0)throw new e(\"gltf-loader-error\",\"No COLOR_0 vertex data found.\");const s=t.attributes.COLOR_0,a=n?this.getDracoAccessor(s,n):await this.getAccessor(s,r);if(4!==a.componentCount&&3!==a.componentCount)throw new e(\"gltf-loader-unsupported-feature\",\"COLOR_0 attribute must have 3 or 4 components, but found \"+a.componentCount.toFixed());if(4===a.componentCount){if(a.componentType===K.FLOAT)return Z(E,a);if(a.componentType===K.UNSIGNED_BYTE)return Z(R,a);if(a.componentType===K.UNSIGNED_SHORT)return Z(I,a)}else if(3===a.componentCount){if(a.componentType===K.FLOAT)return Z(L,a);if(a.componentType===K.UNSIGNED_BYTE)return Z(v,a);if(a.componentType===K.UNSIGNED_SHORT)return Z(D,a)}throw new e(\"gltf-loader-unsupported-feature\",\"Unsupported component type for COLOR_0 attribute: \"+o(K,a.componentType))}hasPositions(e){return void 0!==e.attributes.POSITION}hasNormals(e){return void 0!==e.attributes.NORMAL}hasVertexColors(e){return void 0!==e.attributes.COLOR_0}hasTextureCoordinates(e){return void 0!==e.attributes.TEXCOORD_0}hasTangents(e){return void 0!==e.attributes.TANGENT}async getMaterial(e,t,r){let o=e.material?this._materialCache.get(e.material):void 0;if(!o){const n=null!=e.material?j(this.json.materials[e.material]):j(),s=n.pbrMetallicRoughness,a=this.hasVertexColors(e),i=this.getTexture(s.baseColorTexture,t),u=this.getTexture(n.normalTexture,t),f=r?this.getTexture(n.occlusionTexture,t):void 0,c=r?this.getTexture(n.emissiveTexture,t):void 0,d=r?this.getTexture(s.metallicRoughnessTexture,t):void 0,l=null!=e.material?e.material:-1;o={alphaMode:n.alphaMode,alphaCutoff:n.alphaCutoff,color:s.baseColorFactor,doubleSided:!!n.doubleSided,colorTexture:await i,normalTexture:await u,name:n.name,id:l,occlusionTexture:await f,emissiveTexture:await c,emissiveFactor:n.emissiveFactor,metallicFactor:s.metallicFactor,roughnessFactor:s.roughnessFactor,metallicRoughnessTexture:await d,hasVertexColors:a,ESRI_externalColorMixMode:n.extras.ESRI_externalColorMixMode,colorTextureTransform:s?.baseColorTexture?.extensions?.KHR_texture_transform,normalTextureTransform:n.normalTexture?.extensions?.KHR_texture_transform,occlusionTextureTransform:n.occlusionTexture?.extensions?.KHR_texture_transform,emissiveTextureTransform:n.emissiveTexture?.extensions?.KHR_texture_transform,metallicRoughnessTextureTransform:s?.metallicRoughnessTexture?.extensions?.KHR_texture_transform,receiveAmbientOcclusion:n.extras.ESRI_receiveAmbientOcclusion,receiveShadows:n.extras.ESRI_receiveShadows}}return o}async decode(t,r){const o=t.extensions?.KHR_draco_mesh_compression;if(!o)return;if(null==t.indices)throw new e(\"gltf-loader-error\",\"Found Draco compressed primitive without indices.\");const n=this.json.bufferViews[o.bufferView],s=await this.getBuffer(n.buffer,r),a=(await U()).decode(new Uint8Array(s.buffer,s.byteOffset+(n.byteOffset||0),n.byteLength));this._bufferLoaders.delete(n.buffer);const i=new Map([[t.indices,a.indices],[t.attributes.POSITION,a.positions]]);return t.attributes.TEXCOORD_0&&i.set(t.attributes.TEXCOORD_0,a.uvs),t.attributes.NORMAL&&i.set(t.attributes.NORMAL,a.normals),t.attributes.COLOR_0&&i.set(t.attributes.COLOR_0,a.colors),t.attributes.TANGENT&&i.set(t.attributes.TANGENT,a.tangents),this._dracoBuffersSize+=a.buffer.byteLength,{data:a.buffer,accessorInfos:i}}async getTexture(t,o){if(!t)return;if(0!==(t.texCoord||0))throw new e(\"gltf-loader-unsupported-feature\",\"Only TEXCOORD with index 0 is supported.\");const n=t.index,s=this.json.textures[n],a=G(null!=s.sampler?this.json.samplers[s.sampler]:{}),i=ee(s),u=this.json.images[i],f=await this._loadTextureImageData(n,s,o);return r(this._textureCache,n,()=>{const t=e=>33071===e||33648===e||10497===e,r=t=>{throw new e(\"gltf-loader-error\",`Unexpected TextureSampler WrapMode: ${t}`)};return{data:f,wrapS:t(a.wrapS)?a.wrapS:r(a.wrapS),wrapT:t(a.wrapT)?a.wrapT:r(a.wrapT),minFilter:a.minFilter,name:u.name,id:n}})}getNodeTransform(e){if(void 0===e)return X;let t=this._nodeTransformCache.get(e);if(!t){const r=this.getNodeTransform(this._getNodeParent(e)),o=this.json.nodes[e];o.matrix?t=d(h(),r,o.matrix):o.translation||o.rotation||o.scale?(t=b(r),o.translation&&l(t,t,o.translation),o.rotation&&(J[3]=w(J,o.rotation),p(t,t,J[3],J)),o.scale&&m(t,t,o.scale)):t=b(r),this._nodeTransformCache.set(e,t)}return t}_resolveUri(e){return u(e,this._baseUri)}_getNodeParent(e){return this._nodeParentMap.get(e)}_checkVersionSupported(){const e=f.parse(this.json.asset.version,\"glTF\");q.validate(e)}_checkRequiredExtensionsSupported(){const t=this.json;if(t.extensionsRequired){if(!t.extensionsRequired.every(e=>this._supportedExtensions.includes(e)))throw new e(\"gltf-loader-unsupported-feature\",\"gltf loader was not able to load unsupported feature. Required extensions: \"+t.extensionsRequired.join(\", \"))}}_computeNodeParents(){this.json.nodes.forEach((e,t)=>{e.children&&e.children.forEach(e=>{this._nodeParentMap.set(e,t)})})}async _loadTextureImageData(e,t,r){const o=this._textureLoaders.get(e);if(o)return o;const n=this._createTextureLoader(t,r);return this._textureLoaders.set(e,n),n}async _createTextureLoader(t,r){const o=ee(t),n=this.json.images[o];if(n.uri){if(n.uri.endsWith(\".ktx2\")){const e=await this._context.loadBinary(this._resolveUri(n.uri),r);return new P(new Uint8Array(e))}return this._context.loadImage(this._resolveUri(n.uri),r)}if(null==n.bufferView)throw new e(\"gltf-loader-unsupported-feature\",\"Image bufferView must be defined.\");if(null==n.mimeType)throw new e(\"gltf-loader-unsupported-feature\",\"Image mimeType must be defined.\");const s=this.json.bufferViews[n.bufferView],a=await this.getBuffer(s.buffer,r);if(null!=s.byteStride)throw new e(\"gltf-loader-unsupported-feature\",\"byteStride not supported for image buffer\");const i=a.byteOffset+(s.byteOffset||0);return V(new Uint8Array(a.buffer,i,s.byteLength),n.mimeType)}async getLoadedBuffersSize(){if(this._glbBuffer)return this._glbBuffer.byteLength;const e=await n(Array.from(this._bufferLoaders.values())),t=await n(Array.from(this._textureLoaders.values()));return e.reduce((e,t)=>e+(t?.byteLength??0),0)+this._dracoBuffersSize+t.reduce((e,t)=>e+(t?z(t)?t.data.byteLength:t.width*t.height*4:0),0)}}const X=c(h(),Math.PI/2),q=new f(2,0,\"glTF\"),J=y(),$={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},W={[K.BYTE]:1,[K.UNSIGNED_BYTE]:1,[K.SHORT]:2,[K.UNSIGNED_SHORT]:2,[K.HALF_FLOAT]:2,[K.FLOAT]:4,[K.INT]:4,[K.UNSIGNED_INT]:4};function Q(e){switch(e.componentType){case K.BYTE:return new N(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case K.UNSIGNED_BYTE:return new O(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case K.SHORT:return new x(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case K.UNSIGNED_SHORT:return new _(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case K.UNSIGNED_INT:return new T(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case K.FLOAT:return new g(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount)}}function Z(e,t){return new e(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*(t.entryCount-1)+t.componentByteSize*t.componentCount)}function ee(t){if(null!=t.extensions?.KHR_texture_basisu)return t.extensions.KHR_texture_basisu.source;if(null!==t.source)return t.source;throw new e(\"gltf-loader-unsupported-feature\",\"Source is expected to be defined for a texture. It can also be omitted in favour of an KHR_texture_basisu extension tag.\")}const te=/\\.gltf$/i,re=/\\.glb$/i;export{Y as GLTFResource,X as transformGltfToEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import{getKey as o}from\"../../../core/object.js\";import{clone as t}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{makeMaterialParameters as r,makeTextureSource as s}from\"./LoaderResult.js\";import{GLTFResource as a}from\"./internal/Resource.js\";import{PrimitiveType as i}from\"../../webgl/enums.js\";let n=0;async function l(r,s,l={},m=!0){const T=await a.load(r,s,l),p=\"gltf_\"+n++,f={lods:[],materials:new Map,textures:new Map,meta:u(T)},x=!(!T.json.asset.extras||\"symbolResource\"!==T.json.asset.extras.ESRI_type),g=T.json.asset.extras?.ESRI_webstyleSymbol?.webstyle,h=new Map;let w=!1;await c(T,async(r,s,a,n)=>{const u=h.get(a)??0;h.set(a,u+1);const c=void 0!==r.mode?r.mode:i.TRIANGLES,x=c===i.TRIANGLES||c===i.TRIANGLE_STRIP||c===i.TRIANGLE_FAN?c:null;if(null==x)return void e.getLogger(\"esri.views.3d.glTF\").warn(\"[Unsupported Feature] Unsupported primitive mode (\"+o(i,c)+\"). Skipping primitive.\");if(!T.hasPositions(r))return void e.getLogger(\"esri.views.3d.glTF\").warn(\"Skipping primitive without POSITION vertex attribute.\");const g=await T.decode(r,l);w||=!!g;const v=T.getPositionData(r,l,g),S=T.getMaterial(r,l,m),R=T.hasNormals(r)?T.getNormalData(r,l,g):null,_=T.hasTangents(r)?T.getTangentData(r,l,g):null,F=T.hasTextureCoordinates(r)?T.getTextureCoordinates(r,l,g):null,y=T.hasVertexColors(r)?T.getVertexColors(r,l,g):null,E=T.getIndexData(r,l,g),I={name:n,transform:t(s),attributes:{position:await v,normal:R?await R:null,texCoord0:F?await F:null,color:y?await y:null,tangent:_?await _:null},indices:await E,primitiveType:x,material:d(f,await S,p)};let M=null;null!=f.meta?.ESRI_lod&&\"screenSpaceRadius\"===f.meta.ESRI_lod.metric&&(M=f.meta.ESRI_lod.thresholds[a]),f.lods[a]=f.lods[a]||{parts:[],name:n,lodThreshold:M},f.lods[a].parts[u]=I});for(const e of f.lods)e.parts=e.parts.filter(e=>!!e);const v=await T.getLoadedBuffersSize();return{model:f,meta:{isEsriSymbolResource:x,uri:T.uri,ESRI_webstyle:g,isDracoDecompressed:w},customMeta:{},usedMemory:v}}function u(e){const o=e.json;let t=null;return o.nodes.forEach(e=>{const o=e.extras;null!=o&&(o.ESRI_proxyEllipsoid||o.ESRI_lod)&&(t=o)}),t}async function c(o,t){const r=o.json,s=r.scenes[r.scene||0].nodes,a=s.length>1,i=[];for(const e of s){const o=r.nodes[e];if(i.push(n(e,0)),m(o)&&!a){o.extensions.MSFT_lod.ids.forEach((e,o)=>n(e,o+1))}}async function n(s,a){const l=r.nodes[s],u=o.getNodeTransform(s);if(null!=l.weights&&e.getLogger(\"esri.views.3d.glTF\").warn(\"[Unsupported Feature] Morph targets are not supported.\"),null!=l.mesh){const e=r.meshes[l.mesh];for(const o of e.primitives)i.push(t(o,u,a,e.name))}for(const e of l.children||[])i.push(n(e,a))}await Promise.all(i)}function m(e){return e.extensions?.MSFT_lod&&Array.isArray(e.extensions.MSFT_lod.ids)}function d(e,o,t){const a=o=>{const r=`${t}_tex_${o&&o.id}${o?.name?\"_\"+o.name:\"\"}`;if(o&&!e.textures.has(r)){const t=s(o.data,{wrap:{s:o.wrapS,t:o.wrapT},mipmap:T.has(o.minFilter),noUnpackFlip:!0});e.textures.set(r,t)}return r},i=`${t}_mat_${o.id}_${o.name}`;if(!e.materials.has(i)){const t=r({color:[o.color[0],o.color[1],o.color[2]],opacity:o.color[3],alphaMode:o.alphaMode,alphaCutoff:o.alphaCutoff,doubleSided:o.doubleSided,colorMixMode:o.ESRI_externalColorMixMode,colorTexture:o.colorTexture?a(o.colorTexture):void 0,normalTexture:o.normalTexture?a(o.normalTexture):void 0,occlusionTexture:o.occlusionTexture?a(o.occlusionTexture):void 0,emissiveTexture:o.emissiveTexture?a(o.emissiveTexture):void 0,metallicRoughnessTexture:o.metallicRoughnessTexture?a(o.metallicRoughnessTexture):void 0,emissiveFactor:[o.emissiveFactor[0],o.emissiveFactor[1],o.emissiveFactor[2]],colorTextureTransform:o.colorTextureTransform,normalTextureTransform:o.normalTextureTransform,occlusionTextureTransform:o.occlusionTextureTransform,emissiveTextureTransform:o.emissiveTextureTransform,metallicRoughnessTextureTransform:o.metallicRoughnessTextureTransform,metallicFactor:o.metallicFactor,roughnessFactor:o.roughnessFactor,receiveShadows:o.receiveShadows,receiveAmbientOcclusion:o.receiveAmbientOcclusion});e.materials.set(i,t)}return i}const T=new Set([9987,9985]);export{l as loadGLTF};\n"],"names":["e","t","o","r","l","s","a","i","k","Y","n","F","te","re","u","M","f","H","$","W","K","B","Z","A","C","S","L","E","g","Q","R","I","v","D","j","c","d","U","G","ee","X","h","b","J","w","p","m","q","P","V","z","y","N","O","x","_","T"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}