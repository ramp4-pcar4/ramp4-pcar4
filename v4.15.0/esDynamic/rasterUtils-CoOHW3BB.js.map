{"version":3,"file":"rasterUtils-CoOHW3BB.js","sources":["../../node_modules/@arcgis/core/views/webgl/rasterUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ZEROS as e}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{SizedPixelFormat as t,PixelType as n}from\"./enums.js\";import{Texture as a}from\"./Texture.js\";import{TextureDescriptor as r}from\"./TextureDescriptor.js\";function u(e,u,i=\"nearest\",o=!1){const s=!(o&&\"u8\"===u.pixelType),m=s?n.FLOAT:n.UNSIGNED_BYTE,l=null==u.pixels||0===u.pixels.length?null:s?u.getAsRGBAFloat():u.getAsRGBA(),c=e.capabilities.textureFloatLinear,f=new r(u.width,u.height);return f.internalFormat=s?t.RGBA32F:6408,f.samplingMode=!c||\"bilinear\"!==i&&\"cubic\"!==i?9728:9729,f.dataType=m,f.wrapMode=33071,new a(e,f,l)}function i(e,u){const{spacing:i,offsets:o,coefficients:s,size:[m,l]}=u,c=i[0]>1,f=new r(c?4*m:m,l);f.internalFormat=t.RGBA32F,f.dataType=n.FLOAT,f.samplingMode=9728,f.wrapMode=33071;const p=new Float32Array(c?m*l*16:2*o.length);if(c&&null!=s)for(let t=0,n=0;t<s.length;t++)p[n++]=s[t],t%3==2&&(p[n++]=1);else for(let t=0;t<l;t++)for(let e=0;e<m;e++){const n=4*(t*m+e),a=2*(e*l+t);p[n]=o[a],p[n+1]=o[a+1],p[n+3]=-1===o[a]?0:1}return new a(e,f,p)}function o(e,t){const n=new r(t.length/4,1);return n.internalFormat=6408,n.samplingMode=9728,n.wrapMode=33071,new a(e,n,t)}function s(e,t,u){const i=new r(u[0],u[1]);return i.internalFormat=6406,i.pixelFormat=6406,i.dataType=n.UNSIGNED_BYTE,i.samplingMode=9728,i.wrapMode=33071,new a(e,i,t)}function m(t,n,a,r=1,u=!0){return{u_flipY:u,u_applyTransform:!!t,u_opacity:r,u_transformSpacing:t?t.spacing:e,u_transformGridSize:t?t.size:e,u_targetImageSize:n,u_srcImageSize:a}}function l(e,t){return{u_colormapOffset:t||0,u_colormapMaxIndex:e?e.length/4-1:0}}function c(e){return{u_bandCount:e.bandCount,u_minOutput:e.minOutput,u_maxOutput:e.maxOutput,u_minCutOff:e.minCutOff,u_maxCutOff:e.maxCutOff,u_factor:e.factor,u_useGamma:e.useGamma,u_gamma:e.gamma,u_gammaCorrection:e.gammaCorrection}}function f(e){return{u_hillshadeType:e.hillshadeType,u_sinZcosAs:e.sinZcosAs,u_sinZsinAs:e.sinZsinAs,u_cosZs:e.cosZs,u_weights:e.weights,u_factor:e.factor,u_minValue:e.minValue,u_maxValue:e.maxValue}}export{o as createColormapTexture,s as createPixelMaskTexture,u as createRasterTexture,i as createTransformTexture,l as getColormapUniforms,m as getCommonUniforms,f as getShadedReliefUniforms,c as getStretchUniforms};\n"],"names":["u","e","i","o","s","m","n","l","c","f","r","t","a","p"],"mappings":";;;AAIwO,SAASA,EAAEC,GAAED,GAAEE,IAAE,WAAUC,IAAE,IAAG;AAAC,QAAMC,IAAE,EAAED,KAAUH,EAAE,cAAT,OAAoBK,IAAED,IAAEE,EAAE,QAAMA,EAAE,eAAcC,IAAQP,EAAE,UAAR,QAAoBA,EAAE,OAAO,WAAb,IAAoB,OAAKI,IAAEJ,EAAE,eAAc,IAAGA,EAAE,UAAS,GAAGQ,IAAEP,EAAE,aAAa,oBAAmBQ,IAAE,IAAIC,EAAEV,EAAE,OAAMA,EAAE,MAAM;AAAE,SAAOS,EAAE,iBAAeL,IAAEO,EAAE,UAAQ,MAAKF,EAAE,eAAa,CAACD,KAAgBN,MAAb,cAA0BA,MAAV,UAAY,OAAK,MAAKO,EAAE,WAASJ,GAAEI,EAAE,WAAS,OAAM,IAAIG,EAAEX,GAAEQ,GAAEF,CAAC;AAAC;AAAC,SAASL,EAAED,GAAED,GAAE;AAAC,QAAK,EAAC,SAAQE,GAAE,SAAQC,GAAE,cAAaC,GAAE,MAAK,CAACC,GAAEE,CAAC,EAAC,IAAEP,GAAEQ,IAAEN,EAAE,CAAC,IAAE,GAAEO,IAAE,IAAIC,EAAEF,IAAE,IAAEH,IAAEA,GAAEE,CAAC;AAAE,EAAAE,EAAE,iBAAeE,EAAE,SAAQF,EAAE,WAASH,EAAE,OAAMG,EAAE,eAAa,MAAKA,EAAE,WAAS;AAAM,QAAMI,IAAE,IAAI,aAAaL,IAAEH,IAAEE,IAAE,KAAG,IAAEJ,EAAE,MAAM;AAAE,MAAGK,KAASJ,KAAN,KAAQ,UAAQO,IAAE,GAAEL,IAAE,GAAEK,IAAEP,EAAE,QAAOO,IAAI,CAAAE,EAAEP,GAAG,IAAEF,EAAEO,CAAC,GAAEA,IAAE,KAAG,MAAIE,EAAEP,GAAG,IAAE;AAAA,MAAQ,UAAQK,IAAE,GAAEA,IAAEJ,GAAEI,IAAI,UAAQV,IAAE,GAAEA,IAAEI,GAAEJ,KAAI;AAAC,UAAMK,IAAE,KAAGK,IAAEN,IAAEJ,IAAGW,IAAE,KAAGX,IAAEM,IAAEI;AAAG,IAAAE,EAAEP,CAAC,IAAEH,EAAES,CAAC,GAAEC,EAAEP,IAAE,CAAC,IAAEH,EAAES,IAAE,CAAC,GAAEC,EAAEP,IAAE,CAAC,IAAOH,EAAES,CAAC,MAAR,KAAU,IAAE;AAAA,EAAC;AAAC,SAAO,IAAIA,EAAEX,GAAEQ,GAAEI,CAAC;AAAC;AAAC,SAASV,EAAEF,GAAEU,GAAE;AAAC,QAAML,IAAE,IAAII,EAAEC,EAAE,SAAO,GAAE,CAAC;AAAE,SAAOL,EAAE,iBAAe,MAAKA,EAAE,eAAa,MAAKA,EAAE,WAAS,OAAM,IAAIM,EAAEX,GAAEK,GAAEK,CAAC;AAAC;AAAC,SAASP,EAAEH,GAAEU,GAAEX,GAAE;AAAC,QAAME,IAAE,IAAIQ,EAAEV,EAAE,CAAC,GAAEA,EAAE,CAAC,CAAC;AAAE,SAAOE,EAAE,iBAAe,MAAKA,EAAE,cAAY,MAAKA,EAAE,WAASI,EAAE,eAAcJ,EAAE,eAAa,MAAKA,EAAE,WAAS,OAAM,IAAIU,EAAEX,GAAEC,GAAES,CAAC;AAAC;","x_google_ignoreList":[0]}