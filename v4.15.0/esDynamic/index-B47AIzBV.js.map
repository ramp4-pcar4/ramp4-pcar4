{"version":3,"file":"index-B47AIzBV.js","sources":["../../node_modules/es-toolkit/dist/function/throttle.mjs","../../node_modules/color-string/node_modules/color-name/index.js","../../node_modules/color-string/index.js","../../node_modules/color/node_modules/color-name/index.js","../../node_modules/color/node_modules/color-convert/conversions.js","../../node_modules/color/node_modules/color-convert/route.js","../../node_modules/color/node_modules/color-convert/index.js","../../node_modules/color/index.js","../../node_modules/@esri/calcite-components/dist/chunks/utils.js","../../node_modules/@esri/calcite-components/dist/components/calcite-swatch/customElement.js","../../node_modules/@esri/calcite-components/dist/components/calcite-input-text/customElement.js","../../node_modules/@esri/calcite-components/dist/components/calcite-color-picker-hex-input/customElement.js","../../node_modules/@esri/calcite-components/dist/components/calcite-tabs/customElement.js","../../node_modules/@esri/calcite-components/dist/chunks/core.js","../../node_modules/@esri/calcite-components/dist/components/calcite-tab-nav/customElement.js","../../node_modules/@esri/calcite-components/dist/components/calcite-swatch-group/customElement.js","../../node_modules/@esri/calcite-components/dist/chunks/XButton.js","../../node_modules/@esri/calcite-components/dist/components/calcite-tab-title/customElement.js","../../node_modules/@esri/calcite-components/dist/components/calcite-tab/customElement.js","../../node_modules/@esri/calcite-components/dist/chunks/math.js","../../node_modules/@esri/calcite-components/dist/components/calcite-color-picker/customElement.js"],"sourcesContent":["import { debounce } from './debounce.mjs';\n\nfunction throttle(func, throttleMs, { signal, edges = ['leading', 'trailing'] } = {}) {\n    let pendingAt = null;\n    const debounced = debounce(func, throttleMs, { signal, edges });\n    const throttled = function (...args) {\n        if (pendingAt == null) {\n            pendingAt = Date.now();\n        }\n        else {\n            if (Date.now() - pendingAt >= throttleMs) {\n                pendingAt = Date.now();\n                debounced.cancel();\n            }\n        }\n        debounced(...args);\n    };\n    throttled.cancel = debounced.cancel;\n    throttled.flush = debounced.flush;\n    return throttled;\n}\n\nexport { throttle };\n","export default {\n\taliceblue: [240, 248, 255],\n\tantiquewhite: [250, 235, 215],\n\taqua: [0, 255, 255],\n\taquamarine: [127, 255, 212],\n\tazure: [240, 255, 255],\n\tbeige: [245, 245, 220],\n\tbisque: [255, 228, 196],\n\tblack: [0, 0, 0],\n\tblanchedalmond: [255, 235, 205],\n\tblue: [0, 0, 255],\n\tblueviolet: [138, 43, 226],\n\tbrown: [165, 42, 42],\n\tburlywood: [222, 184, 135],\n\tcadetblue: [95, 158, 160],\n\tchartreuse: [127, 255, 0],\n\tchocolate: [210, 105, 30],\n\tcoral: [255, 127, 80],\n\tcornflowerblue: [100, 149, 237],\n\tcornsilk: [255, 248, 220],\n\tcrimson: [220, 20, 60],\n\tcyan: [0, 255, 255],\n\tdarkblue: [0, 0, 139],\n\tdarkcyan: [0, 139, 139],\n\tdarkgoldenrod: [184, 134, 11],\n\tdarkgray: [169, 169, 169],\n\tdarkgreen: [0, 100, 0],\n\tdarkgrey: [169, 169, 169],\n\tdarkkhaki: [189, 183, 107],\n\tdarkmagenta: [139, 0, 139],\n\tdarkolivegreen: [85, 107, 47],\n\tdarkorange: [255, 140, 0],\n\tdarkorchid: [153, 50, 204],\n\tdarkred: [139, 0, 0],\n\tdarksalmon: [233, 150, 122],\n\tdarkseagreen: [143, 188, 143],\n\tdarkslateblue: [72, 61, 139],\n\tdarkslategray: [47, 79, 79],\n\tdarkslategrey: [47, 79, 79],\n\tdarkturquoise: [0, 206, 209],\n\tdarkviolet: [148, 0, 211],\n\tdeeppink: [255, 20, 147],\n\tdeepskyblue: [0, 191, 255],\n\tdimgray: [105, 105, 105],\n\tdimgrey: [105, 105, 105],\n\tdodgerblue: [30, 144, 255],\n\tfirebrick: [178, 34, 34],\n\tfloralwhite: [255, 250, 240],\n\tforestgreen: [34, 139, 34],\n\tfuchsia: [255, 0, 255],\n\tgainsboro: [220, 220, 220],\n\tghostwhite: [248, 248, 255],\n\tgold: [255, 215, 0],\n\tgoldenrod: [218, 165, 32],\n\tgray: [128, 128, 128],\n\tgreen: [0, 128, 0],\n\tgreenyellow: [173, 255, 47],\n\tgrey: [128, 128, 128],\n\thoneydew: [240, 255, 240],\n\thotpink: [255, 105, 180],\n\tindianred: [205, 92, 92],\n\tindigo: [75, 0, 130],\n\tivory: [255, 255, 240],\n\tkhaki: [240, 230, 140],\n\tlavender: [230, 230, 250],\n\tlavenderblush: [255, 240, 245],\n\tlawngreen: [124, 252, 0],\n\tlemonchiffon: [255, 250, 205],\n\tlightblue: [173, 216, 230],\n\tlightcoral: [240, 128, 128],\n\tlightcyan: [224, 255, 255],\n\tlightgoldenrodyellow: [250, 250, 210],\n\tlightgray: [211, 211, 211],\n\tlightgreen: [144, 238, 144],\n\tlightgrey: [211, 211, 211],\n\tlightpink: [255, 182, 193],\n\tlightsalmon: [255, 160, 122],\n\tlightseagreen: [32, 178, 170],\n\tlightskyblue: [135, 206, 250],\n\tlightslategray: [119, 136, 153],\n\tlightslategrey: [119, 136, 153],\n\tlightsteelblue: [176, 196, 222],\n\tlightyellow: [255, 255, 224],\n\tlime: [0, 255, 0],\n\tlimegreen: [50, 205, 50],\n\tlinen: [250, 240, 230],\n\tmagenta: [255, 0, 255],\n\tmaroon: [128, 0, 0],\n\tmediumaquamarine: [102, 205, 170],\n\tmediumblue: [0, 0, 205],\n\tmediumorchid: [186, 85, 211],\n\tmediumpurple: [147, 112, 219],\n\tmediumseagreen: [60, 179, 113],\n\tmediumslateblue: [123, 104, 238],\n\tmediumspringgreen: [0, 250, 154],\n\tmediumturquoise: [72, 209, 204],\n\tmediumvioletred: [199, 21, 133],\n\tmidnightblue: [25, 25, 112],\n\tmintcream: [245, 255, 250],\n\tmistyrose: [255, 228, 225],\n\tmoccasin: [255, 228, 181],\n\tnavajowhite: [255, 222, 173],\n\tnavy: [0, 0, 128],\n\toldlace: [253, 245, 230],\n\tolive: [128, 128, 0],\n\tolivedrab: [107, 142, 35],\n\torange: [255, 165, 0],\n\torangered: [255, 69, 0],\n\torchid: [218, 112, 214],\n\tpalegoldenrod: [238, 232, 170],\n\tpalegreen: [152, 251, 152],\n\tpaleturquoise: [175, 238, 238],\n\tpalevioletred: [219, 112, 147],\n\tpapayawhip: [255, 239, 213],\n\tpeachpuff: [255, 218, 185],\n\tperu: [205, 133, 63],\n\tpink: [255, 192, 203],\n\tplum: [221, 160, 221],\n\tpowderblue: [176, 224, 230],\n\tpurple: [128, 0, 128],\n\trebeccapurple: [102, 51, 153],\n\tred: [255, 0, 0],\n\trosybrown: [188, 143, 143],\n\troyalblue: [65, 105, 225],\n\tsaddlebrown: [139, 69, 19],\n\tsalmon: [250, 128, 114],\n\tsandybrown: [244, 164, 96],\n\tseagreen: [46, 139, 87],\n\tseashell: [255, 245, 238],\n\tsienna: [160, 82, 45],\n\tsilver: [192, 192, 192],\n\tskyblue: [135, 206, 235],\n\tslateblue: [106, 90, 205],\n\tslategray: [112, 128, 144],\n\tslategrey: [112, 128, 144],\n\tsnow: [255, 250, 250],\n\tspringgreen: [0, 255, 127],\n\tsteelblue: [70, 130, 180],\n\ttan: [210, 180, 140],\n\tteal: [0, 128, 128],\n\tthistle: [216, 191, 216],\n\ttomato: [255, 99, 71],\n\tturquoise: [64, 224, 208],\n\tviolet: [238, 130, 238],\n\twheat: [245, 222, 179],\n\twhite: [255, 255, 255],\n\twhitesmoke: [245, 245, 245],\n\tyellow: [255, 255, 0],\n\tyellowgreen: [154, 205, 50]\n}\n","import colorNames from 'color-name';\n\nconst reverseNames = Object.create(null);\n\n// Create a list of reverse color names\nfor (const name in colorNames) {\n\tif (Object.hasOwn(colorNames, name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nconst cs = {\n\tto: {},\n\tget: {},\n};\n\ncs.get = function (string) {\n\tconst prefix = string.slice(0, 3).toLowerCase();\n\tlet value;\n\tlet model;\n\tswitch (prefix) {\n\t\tcase 'hsl': {\n\t\t\tvalue = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\t}\n\n\t\tcase 'hwb': {\n\t\t\tvalue = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\t}\n\n\t\tdefault: {\n\t\t\tvalue = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (!value) {\n\t\treturn null;\n\t}\n\n\treturn {model, value};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tconst abbr = /^#([a-f\\d]{3,4})$/i;\n\tconst hex = /^#([a-f\\d]{6})([a-f\\d]{2})?$/i;\n\tconst rgba = /^rgba?\\(\\s*([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)\\s*(?:[\\s,|/]\\s*([+-]?[\\d.]+)(%?)\\s*)?\\)$/;\n\tconst per = /^rgba?\\(\\s*([+-]?[\\d.]+)%\\s*,?\\s*([+-]?[\\d.]+)%\\s*,?\\s*([+-]?[\\d.]+)%\\s*(?:[\\s,|/]\\s*([+-]?[\\d.]+)(%?)\\s*)?\\)$/;\n\tconst keyword = /^(\\w+)$/;\n\n\tlet rgb = [0, 0, 0, 1];\n\tlet match;\n\tlet i;\n\tlet hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tconst i2 = i * 2;\n\t\t\trgb[i] = Number.parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = Number.parseInt(hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Number.parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = Number.parseInt(hexAlpha + hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Number.parseInt(match[i + 1], 10);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = match[5] ? Number.parseFloat(match[4]) * 0.01 : Number.parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(Number.parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = match[5] ? Number.parseFloat(match[4]) * 0.01 : Number.parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\tif (!Object.hasOwn(colorNames, match[1])) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tconst hsl = /^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d.]+)%\\s*,?\\s*([+-]?[\\d.]+)%\\s*(?:[,|/]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tconst match = string.match(hsl);\n\n\tif (match) {\n\t\tconst alpha = Number.parseFloat(match[4]);\n\t\tconst h = ((Number.parseFloat(match[1]) % 360) + 360) % 360;\n\t\tconst s = clamp(Number.parseFloat(match[2]), 0, 100);\n\t\tconst l = clamp(Number.parseFloat(match[3]), 0, 100);\n\t\tconst a = clamp(Number.isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tconst hwb = /^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*[\\s,]\\s*([+-]?[\\d.]+)%\\s*[\\s,]\\s*([+-]?[\\d.]+)%\\s*(?:[\\s,]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tconst match = string.match(hwb);\n\n\tif (match) {\n\t\tconst alpha = Number.parseFloat(match[4]);\n\t\tconst h = ((Number.parseFloat(match[1]) % 360) + 360) % 360;\n\t\tconst w = clamp(Number.parseFloat(match[2]), 0, 100);\n\t\tconst b = clamp(Number.parseFloat(match[3]), 0, 100);\n\t\tconst a = clamp(Number.isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function (...rgba) {\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function (...rgba) {\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function (...rgba) {\n\tconst r = Math.round(rgba[0] / 255 * 100);\n\tconst g = Math.round(rgba[1] / 255 * 100);\n\tconst b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function (...hsla) {\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// Hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function (...hwba) {\n\tlet a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (...rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// Helpers\nfunction clamp(number_, min, max) {\n\treturn Math.min(Math.max(min, number_), max);\n}\n\nfunction hexDouble(number_) {\n\tconst string_ = Math.round(number_).toString(16).toUpperCase();\n\treturn (string_.length < 2) ? '0' + string_ : string_;\n}\n\nexport default cs;\n","export default {\n\taliceblue: [240, 248, 255],\n\tantiquewhite: [250, 235, 215],\n\taqua: [0, 255, 255],\n\taquamarine: [127, 255, 212],\n\tazure: [240, 255, 255],\n\tbeige: [245, 245, 220],\n\tbisque: [255, 228, 196],\n\tblack: [0, 0, 0],\n\tblanchedalmond: [255, 235, 205],\n\tblue: [0, 0, 255],\n\tblueviolet: [138, 43, 226],\n\tbrown: [165, 42, 42],\n\tburlywood: [222, 184, 135],\n\tcadetblue: [95, 158, 160],\n\tchartreuse: [127, 255, 0],\n\tchocolate: [210, 105, 30],\n\tcoral: [255, 127, 80],\n\tcornflowerblue: [100, 149, 237],\n\tcornsilk: [255, 248, 220],\n\tcrimson: [220, 20, 60],\n\tcyan: [0, 255, 255],\n\tdarkblue: [0, 0, 139],\n\tdarkcyan: [0, 139, 139],\n\tdarkgoldenrod: [184, 134, 11],\n\tdarkgray: [169, 169, 169],\n\tdarkgreen: [0, 100, 0],\n\tdarkgrey: [169, 169, 169],\n\tdarkkhaki: [189, 183, 107],\n\tdarkmagenta: [139, 0, 139],\n\tdarkolivegreen: [85, 107, 47],\n\tdarkorange: [255, 140, 0],\n\tdarkorchid: [153, 50, 204],\n\tdarkred: [139, 0, 0],\n\tdarksalmon: [233, 150, 122],\n\tdarkseagreen: [143, 188, 143],\n\tdarkslateblue: [72, 61, 139],\n\tdarkslategray: [47, 79, 79],\n\tdarkslategrey: [47, 79, 79],\n\tdarkturquoise: [0, 206, 209],\n\tdarkviolet: [148, 0, 211],\n\tdeeppink: [255, 20, 147],\n\tdeepskyblue: [0, 191, 255],\n\tdimgray: [105, 105, 105],\n\tdimgrey: [105, 105, 105],\n\tdodgerblue: [30, 144, 255],\n\tfirebrick: [178, 34, 34],\n\tfloralwhite: [255, 250, 240],\n\tforestgreen: [34, 139, 34],\n\tfuchsia: [255, 0, 255],\n\tgainsboro: [220, 220, 220],\n\tghostwhite: [248, 248, 255],\n\tgold: [255, 215, 0],\n\tgoldenrod: [218, 165, 32],\n\tgray: [128, 128, 128],\n\tgreen: [0, 128, 0],\n\tgreenyellow: [173, 255, 47],\n\tgrey: [128, 128, 128],\n\thoneydew: [240, 255, 240],\n\thotpink: [255, 105, 180],\n\tindianred: [205, 92, 92],\n\tindigo: [75, 0, 130],\n\tivory: [255, 255, 240],\n\tkhaki: [240, 230, 140],\n\tlavender: [230, 230, 250],\n\tlavenderblush: [255, 240, 245],\n\tlawngreen: [124, 252, 0],\n\tlemonchiffon: [255, 250, 205],\n\tlightblue: [173, 216, 230],\n\tlightcoral: [240, 128, 128],\n\tlightcyan: [224, 255, 255],\n\tlightgoldenrodyellow: [250, 250, 210],\n\tlightgray: [211, 211, 211],\n\tlightgreen: [144, 238, 144],\n\tlightgrey: [211, 211, 211],\n\tlightpink: [255, 182, 193],\n\tlightsalmon: [255, 160, 122],\n\tlightseagreen: [32, 178, 170],\n\tlightskyblue: [135, 206, 250],\n\tlightslategray: [119, 136, 153],\n\tlightslategrey: [119, 136, 153],\n\tlightsteelblue: [176, 196, 222],\n\tlightyellow: [255, 255, 224],\n\tlime: [0, 255, 0],\n\tlimegreen: [50, 205, 50],\n\tlinen: [250, 240, 230],\n\tmagenta: [255, 0, 255],\n\tmaroon: [128, 0, 0],\n\tmediumaquamarine: [102, 205, 170],\n\tmediumblue: [0, 0, 205],\n\tmediumorchid: [186, 85, 211],\n\tmediumpurple: [147, 112, 219],\n\tmediumseagreen: [60, 179, 113],\n\tmediumslateblue: [123, 104, 238],\n\tmediumspringgreen: [0, 250, 154],\n\tmediumturquoise: [72, 209, 204],\n\tmediumvioletred: [199, 21, 133],\n\tmidnightblue: [25, 25, 112],\n\tmintcream: [245, 255, 250],\n\tmistyrose: [255, 228, 225],\n\tmoccasin: [255, 228, 181],\n\tnavajowhite: [255, 222, 173],\n\tnavy: [0, 0, 128],\n\toldlace: [253, 245, 230],\n\tolive: [128, 128, 0],\n\tolivedrab: [107, 142, 35],\n\torange: [255, 165, 0],\n\torangered: [255, 69, 0],\n\torchid: [218, 112, 214],\n\tpalegoldenrod: [238, 232, 170],\n\tpalegreen: [152, 251, 152],\n\tpaleturquoise: [175, 238, 238],\n\tpalevioletred: [219, 112, 147],\n\tpapayawhip: [255, 239, 213],\n\tpeachpuff: [255, 218, 185],\n\tperu: [205, 133, 63],\n\tpink: [255, 192, 203],\n\tplum: [221, 160, 221],\n\tpowderblue: [176, 224, 230],\n\tpurple: [128, 0, 128],\n\trebeccapurple: [102, 51, 153],\n\tred: [255, 0, 0],\n\trosybrown: [188, 143, 143],\n\troyalblue: [65, 105, 225],\n\tsaddlebrown: [139, 69, 19],\n\tsalmon: [250, 128, 114],\n\tsandybrown: [244, 164, 96],\n\tseagreen: [46, 139, 87],\n\tseashell: [255, 245, 238],\n\tsienna: [160, 82, 45],\n\tsilver: [192, 192, 192],\n\tskyblue: [135, 206, 235],\n\tslateblue: [106, 90, 205],\n\tslategray: [112, 128, 144],\n\tslategrey: [112, 128, 144],\n\tsnow: [255, 250, 250],\n\tspringgreen: [0, 255, 127],\n\tsteelblue: [70, 130, 180],\n\ttan: [210, 180, 140],\n\tteal: [0, 128, 128],\n\tthistle: [216, 191, 216],\n\ttomato: [255, 99, 71],\n\tturquoise: [64, 224, 208],\n\tviolet: [238, 130, 238],\n\twheat: [245, 222, 179],\n\twhite: [255, 255, 255],\n\twhitesmoke: [245, 245, 245],\n\tyellow: [255, 255, 0],\n\tyellowgreen: [154, 205, 50]\n}\n","/* MIT license */\n/* eslint-disable no-mixed-operators */\nimport cssKeywords from 'color-name';\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\toklab: {channels: 3, labels: ['okl', 'oka', 'okb']},\n\tlch: {channels: 3, labels: 'lch'},\n\toklch: {channels: 3, labels: ['okl', 'okc', 'okh']},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']},\n};\n\nexport default convert;\n\n// LAB f(t) constant\nconst LAB_FT = (6 / 29) ** 3;\n\n// SRGB non-linear transform functions\nfunction srgbNonlinearTransform(c) {\n\tconst cc = c > 0.003_130_8\n\t\t? ((1.055 * (c ** (1 / 2.4))) - 0.055)\n\t\t: c * 12.92;\n\treturn Math.min(Math.max(0, cc), 1);\n}\n\nfunction srgbNonlinearTransformInv(c) {\n\treturn c > 0.040_45 ? (((c + 0.055) / 1.055) ** 2.4) : (c / 12.92);\n}\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tswitch (max) {\n\t\tcase min: {\n\t\t\th = 0;\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcase r: {\n\t\t\th = (g - b) / delta;\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcase g: {\n\t\t\th = 2 + (b - r) / delta;\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcase b: {\n\t\t\th = 4 + (r - g) / delta;\n\n\t\t\tbreak;\n\t\t}\n\t// No default\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tswitch (v) {\n\t\t\tcase r: {\n\t\t\t\th = bdif - gdif;\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase g: {\n\t\t\t\th = (1 / 3) + rdif - bdif;\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase b: {\n\t\t\t\th = (2 / 3) + gdif - rdif;\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t// No default\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100,\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.oklab = function (rgb) {\n\t// Assume sRGB\n\tconst r = srgbNonlinearTransformInv(rgb[0] / 255);\n\tconst g = srgbNonlinearTransformInv(rgb[1] / 255);\n\tconst b = srgbNonlinearTransformInv(rgb[2] / 255);\n\n\tconst lp = Math.cbrt(0.412_221_470_8 * r + 0.536_332_536_3 * g + 0.051_445_992_9 * b);\n\tconst mp = Math.cbrt(0.211_903_498_2 * r + 0.680_699_545_1 * g + 0.107_396_956_6 * b);\n\tconst sp = Math.cbrt(0.088_302_461_9 * r + 0.281_718_837_6 * g + 0.629_978_700_5 * b);\n\n\tconst l = 0.210_454_255_3 * lp + 0.793_617_785 * mp - 0.004_072_046_8 * sp;\n\tconst aa = 1.977_998_495_1 * lp - 2.428_592_205 * mp + 0.450_593_709_9 * sp;\n\tconst bb = 0.025_904_037_1 * lp + 0.782_771_766_2 * mp - 0.808_675_766 * sp;\n\n\treturn [l * 100, aa * 100, bb * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Number.POSITIVE_INFINITY;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\t// Assume sRGB\n\tconst r = srgbNonlinearTransformInv(rgb[0] / 255);\n\tconst g = srgbNonlinearTransformInv(rgb[1] / 255);\n\tconst b = srgbNonlinearTransformInv(rgb[2] / 255);\n\n\tconst x = (r * 0.412_456_4) + (g * 0.357_576_1) + (b * 0.180_437_5);\n\tconst y = (r * 0.212_672_9) + (g * 0.715_152_2) + (b * 0.072_175);\n\tconst z = (r * 0.019_333_9) + (g * 0.119_192) + (b * 0.950_304_1);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > LAB_FT ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > LAB_FT ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > LAB_FT ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t3;\n\tlet value;\n\n\tif (s === 0) {\n\t\tvalue = l * 255;\n\t\treturn [value, value, value];\n\t}\n\n\tconst t2 = l < 0.5 ? l * (1 + s) : l + s - l * s;\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tvalue = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tvalue = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tvalue = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tvalue = t1;\n\t\t}\n\n\t\trgb[i] = value * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0: {\n\t\t\treturn [v, t, p];\n\t\t}\n\n\t\tcase 1: {\n\t\t\treturn [q, v, p];\n\t\t}\n\n\t\tcase 2: {\n\t\t\treturn [p, v, t];\n\t\t}\n\n\t\tcase 3: {\n\t\t\treturn [p, q, v];\n\t\t}\n\n\t\tcase 4: {\n\t\t\treturn [t, p, v];\n\t\t}\n\n\t\tcase 5: {\n\t\t\treturn [v, p, q];\n\t\t}\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\t// eslint-disable-next-line no-bitwise\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces, default-case-last */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: { r = v;  g = n;  b = wh; break;\n\t\t}\n\n\t\tcase 1: { r = n;  g = v;  b = wh; break;\n\t\t}\n\n\t\tcase 2: { r = wh; g = v;  b = n; break;\n\t\t}\n\n\t\tcase 3: { r = wh; g = n;  b = v; break;\n\t\t}\n\n\t\tcase 4: { r = n;  g = wh; b = v; break;\n\t\t}\n\n\t\tcase 5: { r = v;  g = wh; b = n; break;\n\t\t}\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces, default-case-last */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.240_454_2) + (y * -1.537_138_5) + (z * -0.498_531_4);\n\tg = (x * -0.969_266) + (y * 1.876_010_8) + (z * 0.041_556);\n\tb = (x * 0.055_643_4) + (y * -0.204_025_9) + (z * 1.057_225_2);\n\n\t// Assume sRGB\n\tr = srgbNonlinearTransform(r);\n\tg = srgbNonlinearTransform(g);\n\tb = srgbNonlinearTransform(b);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > LAB_FT ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > LAB_FT ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > LAB_FT ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.xyz.oklab = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\n\tconst lp = Math.cbrt(0.818_933_010_1 * x + 0.361_866_742_4 * y - 0.128_859_713_7 * z);\n\tconst mp = Math.cbrt(0.032_984_543_6 * x + 0.929_311_871_5 * y + 0.036_145_638_7 * z);\n\tconst sp = Math.cbrt(0.048_200_301_8 * x + 0.264_366_269_1 * y + 0.633_851_707 * z);\n\n\tconst l = 0.210_454_255_3 * lp + 0.793_617_785 * mp - 0.004_072_046_8 * sp;\n\tconst a = 1.977_998_495_1 * lp - 2.428_592_205 * mp + 0.450_593_709_9 * sp;\n\tconst b = 0.025_904_037_1 * lp + 0.782_771_766_2 * mp - 0.808_675_766 * sp;\n\n\treturn [l * 100, a * 100, b * 100];\n};\n\nconvert.oklab.oklch = function (oklab) {\n\treturn convert.lab.lch(oklab);\n};\n\nconvert.oklab.xyz = function (oklab) {\n\tconst ll = oklab[0] / 100;\n\tconst a = oklab[1] / 100;\n\tconst b = oklab[2] / 100;\n\n\tconst l = (0.999_999_998 * ll + 0.396_337_792 * a + 0.215_803_758 * b) ** 3;\n\tconst m = (1.000_000_008 * ll - 0.105_561_342 * a - 0.063_854_175 * b) ** 3;\n\tconst s = (1.000_000_055 * ll - 0.089_484_182 * a - 1.291_485_538 * b) ** 3;\n\n\tconst x = 1.227_013_851 * l - 0.557_799_98 * m + 0.281_256_149 * s;\n\tconst y = -0.040_580_178 * l + 1.112_256_87 * m - 0.071_676_679 * s;\n\tconst z = -0.076_381_285 * l - 0.421_481_978 * m + 1.586_163_22 * s;\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.oklab.rgb = function (oklab) {\n\tconst ll = oklab[0] / 100;\n\tconst aa = oklab[1] / 100;\n\tconst bb = oklab[2] / 100;\n\n\tconst l = (ll + 0.396_337_777_4 * aa + 0.215_803_757_3 * bb) ** 3;\n\tconst m = (ll - 0.105_561_345_8 * aa - 0.063_854_172_8 * bb) ** 3;\n\tconst s = (ll - 0.089_484_177_5 * aa - 1.291_485_548 * bb) ** 3;\n\n\t// Assume sRGB\n\tconst r = srgbNonlinearTransform(4.076_741_662_1 * l - 3.307_711_591_3 * m + 0.230_969_929_2 * s);\n\tconst g = srgbNonlinearTransform(-1.268_438_004_6 * l + 2.609_757_401_1 * m - 0.341_319_396_5 * s);\n\tconst b = srgbNonlinearTransform(-0.004_196_086_3 * l - 0.703_418_614_7 * m + 1.707_614_701 * s);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.oklch.oklab = function (oklch) {\n\treturn convert.lch.lab(oklch);\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > LAB_FT ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > LAB_FT ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > LAB_FT ? z2 : (z - 16 / 116) / 7.787;\n\n\t// Illuminant D65 XYZ Tristrimulus Values\n\t// https://en.wikipedia.org/wiki/CIE_1931_color_space\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t/* eslint-disable no-bitwise */\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\t\t/* eslint-enable no-bitwise */\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\t// eslint-disable-next-line no-bitwise\n\tif (r >> 4 === g >> 4 && g >> 4 === b >> 4) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\targs = args[0];\n\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (Math.trunc(args > 50) + 1) * 0.5;\n\t/* eslint-disable no-bitwise */\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\t/* eslint-enable no-bitwise */\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\targs = args[0];\n\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\t/* eslint-disable no-bitwise */\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\t/* eslint-enable no-bitwise */\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.slice(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f\\d]{6}|[a-f\\d]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = [...colorString].map(char => char + char).join('');\n\t}\n\n\tconst integer = Number.parseInt(colorString, 16);\n\t/* eslint-disable no-bitwise */\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\t/* eslint-enable no-bitwise */\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet hue;\n\n\tconst grayscale = chroma < 1 ? min / (1 - chroma) : 0;\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else if (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else if (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2 * s * l) : (2 * s * (1 - l));\n\n\tlet f = 0;\n\tif (c < 1) {\n\t\tf = (l - 0.5 * c) / (1 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0: {\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\t}\n\n\t\tcase 1: {\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\t}\n\n\t\tcase 2: {\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\t}\n\n\t\tcase 3: {\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\t}\n\n\t\tcase 4: {\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\t}\n\n\t\tdefault: {\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t\t}\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255,\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1 - c);\n\tlet f = 0;\n\n\tif (v > 0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else if (l >= 0.5 && l < 1) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65_535) * 255, (apple[1] / 65_535) * 255, (apple[2] / 65_535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65_535, (rgb[1] / 255) * 65_535, (rgb[2] / 255) * 65_535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\t/* eslint-disable no-bitwise */\n\tconst value = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (value << 16) + (value << 8) + value;\n\t/* eslint-enable no-bitwise */\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.slice(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst value = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [value / 255 * 100];\n};\n","import conversions from './conversions.js';\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let {length} = models, i = 0; i < length; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null,\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length > 0) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let {length} = adjacents, i = 0; i < length; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nfunction route(fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let {length} = models, i = 0; i < length; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n}\n\nexport default route;\n","import conversions from './conversions.js';\nimport route from './route.js';\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let {length} = result, i = 0; i < length; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfor (const fromModel of models) {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\tfor (const toModel of routeModels) {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t}\n}\n\nexport default convert;\n","import colorString from 'color-string';\nimport convert from 'color-convert';\n\nconst skippedModels = [\n\t// To be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// Gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// Shouldn't really be in color-convert either...\n\t'hex',\n];\n\nconst hashedModelKeys = {};\nfor (const model of Object.keys(convert)) {\n\thashedModelKeys[[...convert[model].labels].sort().join('')] = model;\n}\n\nconst limiters = {};\n\nfunction Color(object, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(object, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tlet i;\n\tlet channels;\n\n\tif (object == null) { // eslint-disable-line no-eq-null,eqeqeq\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (object instanceof Color) {\n\t\tthis.model = object.model;\n\t\tthis.color = [...object.color];\n\t\tthis.valpha = object.valpha;\n\t} else if (typeof object === 'string') {\n\t\tconst result = colorString.get(object);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + object);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (object.length > 0) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tconst newArray = Array.prototype.slice.call(object, 0, channels);\n\t\tthis.color = zeroArray(newArray, channels);\n\t\tthis.valpha = typeof object[channels] === 'number' ? object[channels] : 1;\n\t} else if (typeof object === 'number') {\n\t\t// This is always RGB - can be converted later on.\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(object >> 16) & 0xFF,\n\t\t\t(object >> 8) & 0xFF,\n\t\t\tobject & 0xFF,\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tconst keys = Object.keys(object);\n\t\tif ('alpha' in object) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof object.alpha === 'number' ? object.alpha : 0;\n\t\t}\n\n\t\tconst hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(object));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tconst {labels} = convert[this.model];\n\t\tconst color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(object[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// Perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tconst limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString() {\n\t\treturn this.string();\n\t},\n\n\ttoJSON() {\n\t\treturn this[this.model]();\n\t},\n\n\tstring(places) {\n\t\tlet self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tconst arguments_ = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to[self.model](...arguments_);\n\t},\n\n\tpercentString(places) {\n\t\tconst self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tconst arguments_ = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to.rgb.percent(...arguments_);\n\t},\n\n\tarray() {\n\t\treturn this.valpha === 1 ? [...this.color] : [...this.color, this.valpha];\n\t},\n\n\tobject() {\n\t\tconst result = {};\n\t\tconst {channels} = convert[this.model];\n\t\tconst {labels} = convert[this.model];\n\n\t\tfor (let i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray() {\n\t\tconst rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject() {\n\t\tconst rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround(places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color([...this.color.map(roundToPlace(places)), this.valpha], this.model);\n\t},\n\n\talpha(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color([...this.color, Math.max(0, Math.min(1, value))], this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// Rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, value => ((value % 360) + 360) % 360),\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(95.047)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(108.833)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn colorString.to.hex(...this.rgb().round().color);\n\t},\n\n\thexa(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\tconst rgbArray = this.rgb().round().color;\n\n\t\tlet alphaHex = Math.round(this.valpha * 255).toString(16).toUpperCase();\n\t\tif (alphaHex.length === 1) {\n\t\t\talphaHex = '0' + alphaHex;\n\t\t}\n\n\t\treturn colorString.to.hex(...rgbArray) + alphaHex;\n\t},\n\n\trgbNumber() {\n\t\tconst rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity() {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tconst rgb = this.rgb().color;\n\n\t\tconst lum = [];\n\t\tfor (const [i, element] of rgb.entries()) {\n\t\t\tconst chan = element / 255;\n\t\t\tlum[i] = (chan <= 0.04045) ? chan / 12.92 : ((chan + 0.055) / 1.055) ** 2.4;\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast(color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tconst lum1 = this.luminosity();\n\t\tconst lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel(color2) {\n\t\t// https://www.w3.org/TR/WCAG/#contrast-enhanced\n\t\tconst contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark() {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tconst rgb = this.rgb().color;\n\t\tconst yiq = (rgb[0] * 2126 + rgb[1] * 7152 + rgb[2] * 722) / 10000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight() {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate() {\n\t\tconst rgb = this.rgb();\n\t\tfor (let i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tlighten(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale() {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_colour_to_grayscale\n\t\tconst rgb = this.rgb().color;\n\t\tconst value = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(value, value, value);\n\t},\n\n\tfade(ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer(ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate(degrees) {\n\t\tconst hsl = this.hsl();\n\t\tlet hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix(mixinColor, weight) {\n\t\t// Ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tif (!mixinColor || !mixinColor.rgb) {\n\t\t\tthrow new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n\t\t}\n\n\t\tconst color1 = mixinColor.rgb();\n\t\tconst color2 = this.rgb();\n\t\tconst p = weight === undefined ? 0.5 : weight;\n\n\t\tconst w = 2 * p - 1;\n\t\tconst a = color1.alpha() - color2.alpha();\n\n\t\tconst w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2;\n\t\tconst w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n};\n\n// Model conversion methods and static constructors\nfor (const model of Object.keys(convert)) {\n\tif (skippedModels.includes(model)) {\n\t\tcontinue;\n\t}\n\n\tconst {channels} = convert[model];\n\n\t// Conversion methods\n\tColor.prototype[model] = function (...arguments_) {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (arguments_.length > 0) {\n\t\t\treturn new Color(arguments_, model);\n\t\t}\n\n\t\treturn new Color([...assertArray(convert[this.model][model].raw(this.color)), this.valpha], model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (...arguments_) {\n\t\tlet color = arguments_[0];\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(arguments_, channels);\n\t\t}\n\n\t\treturn new Color(color, model);\n\t};\n}\n\nfunction roundTo(number, places) {\n\treturn Number(number.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (number) {\n\t\treturn roundTo(number, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tfor (const m of model) {\n\t\t(limiters[m] ||= [])[channel] = modifier;\n\t}\n\n\tmodel = model[0];\n\n\treturn function (value) {\n\t\tlet result;\n\n\t\tif (value !== undefined) {\n\t\t\tif (modifier) {\n\t\t\t\tvalue = modifier(value);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(value) {\n\treturn Array.isArray(value) ? value : [value];\n}\n\nfunction zeroArray(array, length) {\n\tfor (let i = 0; i < length; i++) {\n\t\tif (typeof array[i] !== 'number') {\n\t\t\tarray[i] = 0;\n\t\t}\n\t}\n\n\treturn array;\n}\n\nexport default Color;\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport Color from \"color\";\nimport { c as calciteSpacingFixedXl, a as calciteSpacingFixedMd, b as calciteSpacingFixedSm } from \"./global.js\";\nconst CSS = {\n  channel: \"channel\",\n  channels: \"channels\",\n  colorField: \"color-field\",\n  colorFieldScope: \"scope--color-field\",\n  colorMode: \"color-mode\",\n  colorModeContainer: \"color-mode-container\",\n  container: \"container\",\n  control: \"control\",\n  controlAndScope: \"control-and-scope\",\n  controlSection: \"control-section\",\n  deleteColor: \"delete-color\",\n  header: \"header\",\n  hexAndChannelsGroup: \"hex-and-channels-group\",\n  hexOptions: \"color-hex-options\",\n  hueScope: \"scope--hue\",\n  hueSlider: \"hue-slider\",\n  opacityScope: \"scope--opacity\",\n  opacitySlider: \"opacity-slider\",\n  preview: \"preview\",\n  previewAndSliders: \"preview-and-sliders\",\n  saveColor: \"save-color\",\n  savedColor: \"saved-color\",\n  savedColorsButtons: \"saved-colors-buttons\",\n  savedColorsSection: \"saved-colors-section\",\n  scope: \"scope\",\n  section: \"section\",\n  slider: \"slider\",\n  sliders: \"sliders\",\n  splitSection: \"section--split\",\n  swatchGroup: \"swatch-group\"\n};\nconst DEFAULT_COLOR = Color(\"#007AC2\");\nconst DEFAULT_STORAGE_KEY_PREFIX = \"calcite-color-\";\nconst RGB_LIMITS = {\n  r: 255,\n  g: 255,\n  b: 255\n};\nconst HSV_LIMITS = {\n  h: 360,\n  s: 100,\n  v: 100\n};\nconst HUE_LIMIT_CONSTRAINED = HSV_LIMITS.h - 1;\nconst OPACITY_LIMITS = {\n  min: 0,\n  max: 100\n};\nconst STATIC_DIMENSIONS = {\n  s: {\n    gap: parseInt(calciteSpacingFixedSm),\n    slider: {\n      height: 12\n    },\n    thumb: {\n      radius: 7\n    },\n    preview: {\n      size: 20\n    },\n    minWidth: 200\n  },\n  m: {\n    gap: parseInt(calciteSpacingFixedMd),\n    slider: {\n      height: 12\n    },\n    thumb: {\n      radius: 7\n    },\n    preview: {\n      size: 24\n    },\n    minWidth: 240\n  },\n  l: {\n    gap: parseInt(calciteSpacingFixedXl),\n    slider: {\n      height: 12\n    },\n    thumb: {\n      radius: 7\n    },\n    preview: {\n      size: 32\n    },\n    minWidth: 304\n  }\n};\nconst SCOPE_SIZE = 1;\nconst ICONS = {\n  minus: \"minus\",\n  plus: \"plus\"\n};\nconst hexChar = /^[0-9A-F]$/i;\nconst shorthandHex = /^#[0-9A-F]{3}$/i;\nconst longhandHex = /^#[0-9A-F]{6}$/i;\nconst shorthandHexWithAlpha = /^#[0-9A-F]{4}$/i;\nconst longhandHexWithAlpha = /^#[0-9A-F]{8}$/i;\nconst alphaToOpacity = (alpha) => Number((alpha * 100).toFixed());\nconst opacityToAlpha = (opacity) => Number((opacity / 100).toFixed(2));\nfunction isValidHex(hex, hasAlpha = false) {\n  return isShorthandHex(hex, hasAlpha) || isLonghandHex(hex, hasAlpha);\n}\nfunction evaluateHex(hex, length, pattern) {\n  if (!hex) {\n    return false;\n  }\n  return hex.length === length && pattern.test(hex);\n}\nfunction isShorthandHex(hex, hasAlpha = false) {\n  const hexLength = hasAlpha ? 5 : 4;\n  const hexPattern = hasAlpha ? shorthandHexWithAlpha : shorthandHex;\n  return evaluateHex(hex, hexLength, hexPattern);\n}\nfunction isLonghandHex(hex, hasAlpha = false) {\n  const hexLength = hasAlpha ? 9 : 7;\n  const hexPattern = hasAlpha ? longhandHexWithAlpha : longhandHex;\n  return evaluateHex(hex, hexLength, hexPattern);\n}\nfunction normalizeHex(hex, hasAlpha = false, convertFromHexToHexa = false) {\n  hex = hex.toLowerCase();\n  if (!hex.startsWith(\"#\")) {\n    hex = `#${hex}`;\n  }\n  if (isShorthandHex(hex, hasAlpha)) {\n    return rgbToHex(hexToRGB(hex, hasAlpha));\n  }\n  if (hasAlpha && convertFromHexToHexa && isValidHex(\n    hex,\n    false\n    /* we only care about RGB hex for conversion */\n  )) {\n    const isShorthand = isShorthandHex(hex, false);\n    return rgbToHex(hexToRGB(`${hex}${isShorthand ? \"f\" : \"ff\"}`, true));\n  }\n  return hex;\n}\nfunction hexify(color, hasAlpha = false) {\n  return hasAlpha ? color.hexa() : color.hex();\n}\nfunction rgbToHex(color) {\n  const { r, g, b } = color;\n  const rChars = numToHex(r);\n  const gChars = numToHex(g);\n  const bChars = numToHex(b);\n  const alphaChars = \"a\" in color ? numToHex(color.a * 255) : \"\";\n  return `#${rChars}${gChars}${bChars}${alphaChars}`.toLowerCase();\n}\nfunction numToHex(num) {\n  return num.toString(16).padStart(2, \"0\");\n}\nfunction normalizeAlpha(colorObject) {\n  const normalized = {\n    ...colorObject,\n    a: colorObject.alpha ?? 1\n    /* Color() will omit alpha if 1 */\n  };\n  delete normalized.alpha;\n  return normalized;\n}\nfunction normalizeColor(alphaColorObject) {\n  const normalized = { ...alphaColorObject, alpha: alphaColorObject.a ?? 1 };\n  delete normalized.a;\n  return normalized;\n}\nfunction hexToRGB(hex, hasAlpha = false) {\n  if (!isValidHex(hex, hasAlpha)) {\n    return null;\n  }\n  hex = hex.replace(\"#\", \"\");\n  let r;\n  let g;\n  let b;\n  let a;\n  const isShorthand = hex.length === 3 || hex.length === 4;\n  if (isShorthand) {\n    const [first, second, third, fourth] = hex.split(\"\");\n    r = parseInt(`${first}${first}`, 16);\n    g = parseInt(`${second}${second}`, 16);\n    b = parseInt(`${third}${third}`, 16);\n    a = parseInt(`${fourth}${fourth}`, 16) / 255;\n  } else {\n    r = parseInt(hex.slice(0, 2), 16);\n    g = parseInt(hex.slice(2, 4), 16);\n    b = parseInt(hex.slice(4, 6), 16);\n    a = parseInt(hex.slice(6, 8), 16) / 255;\n  }\n  return isNaN(a) ? { r, g, b } : { r, g, b, a };\n}\nconst enumify = (x) => x;\nconst CSSColorMode = enumify({\n  HEX: \"hex\",\n  HEXA: \"hexa\",\n  RGB_CSS: \"rgb-css\",\n  RGBA_CSS: \"rgba-css\",\n  HSL_CSS: \"hsl-css\",\n  HSLA_CSS: \"hsla-css\"\n});\nconst ObjectColorMode = enumify({\n  RGB: \"rgb\",\n  RGBA: \"rgba\",\n  HSL: \"hsl\",\n  HSLA: \"hsla\",\n  HSV: \"hsv\",\n  HSVA: \"hsva\"\n});\nfunction parseMode(colorValue) {\n  if (typeof colorValue === \"string\") {\n    if (colorValue.startsWith(\"#\")) {\n      const { length } = colorValue;\n      if (length === 4 || length === 7) {\n        return CSSColorMode.HEX;\n      }\n      if (length === 5 || length === 9) {\n        return CSSColorMode.HEXA;\n      }\n    }\n    if (colorValue.startsWith(\"rgba(\")) {\n      return CSSColorMode.RGBA_CSS;\n    }\n    if (colorValue.startsWith(\"rgb(\")) {\n      return CSSColorMode.RGB_CSS;\n    }\n    if (colorValue.startsWith(\"hsl(\")) {\n      return CSSColorMode.HSL_CSS;\n    }\n    if (colorValue.startsWith(\"hsla(\")) {\n      return CSSColorMode.HSLA_CSS;\n    }\n  }\n  if (typeof colorValue === \"object\") {\n    if (hasChannels(colorValue, \"r\", \"g\", \"b\")) {\n      return hasChannels(colorValue, \"a\") ? ObjectColorMode.RGBA : ObjectColorMode.RGB;\n    }\n    if (hasChannels(colorValue, \"h\", \"s\", \"l\")) {\n      return hasChannels(colorValue, \"a\") ? ObjectColorMode.HSLA : ObjectColorMode.HSL;\n    }\n    if (hasChannels(colorValue, \"h\", \"s\", \"v\")) {\n      return hasChannels(colorValue, \"a\") ? ObjectColorMode.HSVA : ObjectColorMode.HSV;\n    }\n  }\n  return null;\n}\nfunction hasChannels(colorObject, ...channels) {\n  return channels.every((channel) => channel && colorObject && `${channel}` in colorObject);\n}\nfunction colorEqual(value1, value2) {\n  return value1?.rgb().array().toString() === value2?.rgb().array().toString();\n}\nfunction alphaCompatible(mode) {\n  return mode === CSSColorMode.HEXA || mode === CSSColorMode.RGBA_CSS || mode === CSSColorMode.HSLA_CSS || mode === ObjectColorMode.RGBA || mode === ObjectColorMode.HSLA || mode === ObjectColorMode.HSVA;\n}\nfunction toAlphaMode(mode) {\n  const alphaMode = mode === CSSColorMode.HEX ? CSSColorMode.HEXA : mode === CSSColorMode.RGB_CSS ? CSSColorMode.RGBA_CSS : mode === CSSColorMode.HSL_CSS ? CSSColorMode.HSLA_CSS : mode === ObjectColorMode.RGB ? ObjectColorMode.RGBA : mode === ObjectColorMode.HSL ? ObjectColorMode.HSLA : mode === ObjectColorMode.HSV ? ObjectColorMode.HSVA : mode;\n  return alphaMode;\n}\nfunction toNonAlphaMode(mode) {\n  const nonAlphaMode = mode === CSSColorMode.HEXA ? CSSColorMode.HEX : mode === CSSColorMode.RGBA_CSS ? CSSColorMode.RGB_CSS : mode === CSSColorMode.HSLA_CSS ? CSSColorMode.HSL_CSS : mode === ObjectColorMode.RGBA ? ObjectColorMode.RGB : mode === ObjectColorMode.HSLA ? ObjectColorMode.HSL : mode === ObjectColorMode.HSVA ? ObjectColorMode.HSV : mode;\n  return nonAlphaMode;\n}\nconst borderWidthInPx = 1;\nconst inlineSizeBorderTotalWidth = borderWidthInPx * 2;\nfunction getSliderWidth(availableWidth, activeStaticDimensions, hasAlpha) {\n  const previewWidth = hasAlpha ? STATIC_DIMENSIONS[\"l\"].preview.size : activeStaticDimensions.preview.size;\n  const effectiveWidth = availableWidth - inlineSizeBorderTotalWidth;\n  const inlineSpaceAroundElements = activeStaticDimensions.gap * 3;\n  return Math.max(effectiveWidth - inlineSpaceAroundElements - previewWidth, 0);\n}\nfunction getColorFieldDimensions(availableWidth) {\n  const colorFieldAspectRatio = 1.8;\n  const effectiveWidth = availableWidth - inlineSizeBorderTotalWidth;\n  return {\n    width: Math.max(effectiveWidth, 0),\n    height: Math.max(Math.floor(effectiveWidth / colorFieldAspectRatio), 0)\n  };\n}\nexport {\n  CSSColorMode as C,\n  DEFAULT_COLOR as D,\n  HSV_LIMITS as H,\n  ICONS as I,\n  OPACITY_LIMITS as O,\n  RGB_LIMITS as R,\n  STATIC_DIMENSIONS as S,\n  isLonghandHex as a,\n  isShorthandHex as b,\n  alphaToOpacity as c,\n  hexChar as d,\n  getColorFieldDimensions as e,\n  DEFAULT_STORAGE_KEY_PREFIX as f,\n  getSliderWidth as g,\n  hexify as h,\n  isValidHex as i,\n  alphaCompatible as j,\n  colorEqual as k,\n  normalizeColor as l,\n  CSS as m,\n  normalizeHex as n,\n  opacityToAlpha as o,\n  parseMode as p,\n  toNonAlphaMode as q,\n  rgbToHex as r,\n  HUE_LIMIT_CONSTRAINED as s,\n  toAlphaMode as t,\n  normalizeAlpha as u,\n  SCOPE_SIZE as v,\n  hexToRGB as w\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { keyed } from \"lit/directives/keyed.js\";\nimport { css, html, svg, nothing } from \"lit\";\nimport { createRef, ref } from \"lit-html/directives/ref.js\";\nimport { LitElement, createEvent, safeClassMap } from \"@arcgis/lumina\";\nimport Color from \"color\";\nimport { a as slotChangeHasAssignedElement } from \"../../chunks/dom.js\";\nimport { u as updateHostInteraction, I as InteractiveContainer } from \"../../chunks/interactive.js\";\nimport { u as useSetFocus } from \"../../chunks/useSetFocus.js\";\nimport { h as hexify } from \"../../chunks/utils.js\";\nconst CSS = {\n  imageContainer: \"image-container\",\n  container: \"container\",\n  selectable: \"selectable\",\n  nonInteractive: \"non-interactive\",\n  selected: \"selected\",\n  internalSvgContainer: \"internal-svg-container\",\n  internalSvgDisabled: \"internal-svg-disabled\",\n  internalSvgEmpty: \"internal-svg-empty\",\n  swatch: \"swatch\",\n  checker: \"checker\",\n  noColorSwatch: \"swatch--no-color\"\n};\nconst SLOTS = {\n  image: \"image\"\n};\nconst checkerSquareSize = 4;\nconst CHECKER_DIMENSIONS = {\n  squareSize: checkerSquareSize,\n  size: checkerSquareSize * 2\n};\nconst IDS = {\n  checker: \"checker\",\n  shape: \"shape\",\n  swatchRect: \"swatch-rect\",\n  swatchSolid: \"swatch-solid\",\n  swatchTransparent: \"swatch-transparent\"\n};\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:block;--calcite-internal-swatch-inset: var(--calcite-spacing-xxs)}:host([scale=s]) .container{--calcite-internal-swatch-size: var(--calcite-spacing-xl)}:host([scale=m]) .container{--calcite-internal-swatch-size: var(--calcite-spacing-xxl)}:host([scale=l]) .container{--calcite-internal-swatch-size: var(--calcite-spacing-xxxl)}.container{position:relative;box-sizing:border-box;justify-content:center;overflow:hidden;outline-color:transparent;font-size:var(--calcite-internal-swatch-font-size, var(--calcite-font-size));block-size:var(--calcite-internal-swatch-size, auto);inline-size:var(--calcite-internal-swatch-size, auto);min-inline-size:var(--calcite-internal-swatch-size, auto);border-radius:var(--calcite-swatch-corner-radius, 0)}.container:not(.non-interactive):hover{cursor:pointer;box-shadow:0 0 0 var(--calcite-border-width-md) var(--calcite-color-border-2)}.container.selectable{cursor:pointer}.container:not(.non-interactive):focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(var(--calcite-spacing-base) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.swatch{position:absolute;display:inline-flex;overflow:hidden;z-index:calc(var(--calcite-z-index) + 1);block-size:var(--calcite-internal-swatch-size, auto);inline-size:var(--calcite-internal-swatch-size, auto);min-inline-size:var(--calcite-internal-swatch-size, auto);border-radius:var(--calcite-swatch-corner-radius, 0)}:host([selected]) .swatch{inset:var(--calcite-internal-swatch-inset);block-size:calc(var(--calcite-internal-swatch-size, auto) - 2 * var(--calcite-internal-swatch-inset));inline-size:calc(var(--calcite-internal-swatch-size, auto) - 2 * var(--calcite-internal-swatch-inset));min-inline-size:calc(var(--calcite-internal-swatch-size, auto) - 2 * var(--calcite-internal-swatch-inset))}:host([selected]) .container{box-shadow:inset 0 0 0 var(--calcite-border-width-md) var(--calcite-color-text-1),inset 0 0 0 var(--calcite-border-width-lg) var(--calcite-color-foreground-1)}:host([selected]) .image-container{inset:var(--calcite-internal-swatch-inset)}.image-container{position:absolute;display:inline-flex;overflow:hidden;z-index:calc(var(--calcite-z-index) + 2);inset:var(--calcite-spacing-px);display:flex;align-items:center;justify-content:center;pointer-events:none;border-radius:var(--calcite-swatch-corner-radius, 0)}.internal-svg-container{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;z-index:calc(var(--calcite-z-index) + 2)}.swatch{overflow:hidden;block-size:inherit;inline-size:inherit}.swatch--no-color rect{fill:var(--calcite-color-foreground-1)}:host([selected]) #swatch-rect,:host([selected]) #swatch-solid,:host([selected]) #swatch-transparent{stroke-width:0}#swatch-rect,#swatch-solid,#swatch-transparent{stroke:var(--calcite-color-text-1);stroke-width:var(--calcite-border-width-md);stroke-opacity:.3;rx:var(--calcite-swatch-corner-radius)}.internal-svg-disabled{stroke:#6a6a6a;fill:#fff}.internal-svg-empty{stroke:var(--calcite-color-status-danger);stroke-width:3}.checker{fill:#cacaca}:host([hidden]){display:none}[hidden]{display:none}`;\nclass Swatch extends LitElement {\n  constructor() {\n    super();\n    this.containerEl = createRef();\n    this.focusSetter = useSetFocus()(this);\n    this.hasImage = false;\n    this.disabled = false;\n    this.interactive = false;\n    this.scale = \"m\";\n    this.selected = false;\n    this.selectionMode = \"none\";\n    this.calciteInternalSwatchKeyEvent = createEvent({ cancelable: false });\n    this.calciteInternalSwatchSelect = createEvent({ cancelable: false });\n    this.calciteInternalSyncSelectedSwatches = createEvent({ cancelable: false });\n    this.calciteSwatchSelect = createEvent({ cancelable: false });\n    this.listen(\"keydown\", this.keyDownHandler);\n  }\n  static {\n    this.properties = { hasImage: [16, {}, { state: true }], color: 1, disabled: [7, {}, { reflect: true, type: Boolean }], interactive: [5, {}, { type: Boolean }], label: 1, parentSwatchGroup: [0, {}, { attribute: false }], scale: [3, {}, { reflect: true }], selected: [7, {}, { reflect: true, type: Boolean }], selectionMode: 1, value: 1 };\n  }\n  static {\n    this.styles = styles;\n  }\n  async setFocus(options) {\n    return this.focusSetter(() => {\n      return this.el;\n    }, options);\n  }\n  async load() {\n    this.handleColorChange(this.color);\n  }\n  willUpdate(changes) {\n    if (changes.has(\"selected\") && this.hasUpdated) {\n      this.watchSelected(this.selected);\n    }\n    if (changes.has(\"color\")) {\n      this.handleColorChange(this.color);\n    }\n  }\n  updated() {\n    updateHostInteraction(this);\n  }\n  loaded() {\n    if (this.selectionMode !== \"none\" && this.interactive && this.selected) {\n      this.handleSelectionPropertyChange(this.selected);\n    }\n  }\n  watchSelected(selected) {\n    if (this.selectionMode === \"none\") {\n      return;\n    }\n    this.handleSelectionPropertyChange(selected);\n  }\n  keyDownHandler(event) {\n    if (event.target === this.el) {\n      switch (event.key) {\n        case \" \":\n        case \"Enter\":\n          this.handleEmittingEvent();\n          event.preventDefault();\n          break;\n        case \"ArrowRight\":\n        case \"ArrowLeft\":\n        case \"Home\":\n        case \"End\":\n          this.calciteInternalSwatchKeyEvent.emit(event);\n          event.preventDefault();\n          break;\n      }\n    }\n  }\n  handleSlotImageChange(event) {\n    this.hasImage = slotChangeHasAssignedElement(event);\n  }\n  handleEmittingEvent() {\n    if (this.interactive) {\n      this.calciteSwatchSelect.emit();\n    }\n  }\n  handleSelectionPropertyChange(selected) {\n    if (this.selectionMode === \"single\") {\n      this.calciteInternalSyncSelectedSwatches.emit();\n    }\n    const selectedInParent = this.parentSwatchGroup.selectedItems.includes(this.el);\n    if (!selectedInParent && selected && this.selectionMode !== \"multiple\") {\n      this.calciteInternalSwatchSelect.emit();\n    }\n    if (this.selectionMode !== \"single\") {\n      this.calciteInternalSyncSelectedSwatches.emit();\n    }\n  }\n  handleColorChange(color) {\n    this.internalColor = color ? Color(color) : null;\n  }\n  renderSwatchImage() {\n    return html`<div class=${safeClassMap(CSS.imageContainer)}><slot name=${SLOTS.image} @slotchange=${this.handleSlotImageChange}></slot></div>`;\n  }\n  renderEmptyDisplay() {\n    const scale = this.scale === \"s\" ? \"12\" : this.scale === \"m\" ? \"16\" : \"20\";\n    return html`<div class=${safeClassMap(CSS.internalSvgContainer)}><svg fill=none height=${scale} viewBox=${`0 0 ${scale} ${scale}`} width=${scale} xmlns=http://www.w3.org/2000/svg>${svg`<path class=${safeClassMap(CSS.internalSvgEmpty)} d=${`M${scale} 0L0 ${scale}`} />`}</svg></div>`;\n  }\n  renderDisabledDisplay() {\n    const svgSmMdPath = html`<svg fill=none height=14 viewBox=\"0 0 14 14\" width=14 xmlns=http://www.w3.org/2000/svg>${svg`<path class=${safeClassMap(CSS.internalSvgDisabled)} d=\"M7 0.5C10.5899 0.5 13.5 3.41015 13.5 7C13.5 10.5899 10.5899 13.5 7 13.5C3.41015 13.5 0.5 10.5899 0.5 7C0.5 3.41015 3.41015 0.5 7 0.5ZM4.78906 10.917C5.44221 11.2866 6.19529 11.5 7 11.5C9.48528 11.5 11.5 9.48528 11.5 7C11.5 6.19529 11.2866 5.44221 10.917 4.78906L4.78906 10.917ZM7 2.5C4.51472 2.5 2.5 4.51472 2.5 7C2.5 7.95644 2.79808 8.84235 3.30664 9.57129L9.57129 3.30664C8.84235 2.79808 7.95644 2.5 7 2.5Z\" />`}</svg>`;\n    const svgLgPath = html`<svg fill=none height=18 viewBox=\"0 0 18 18\" width=18 xmlns=http://www.w3.org/2000/svg>${svg`<path class=${safeClassMap(CSS.internalSvgDisabled)} d=\"M9 0.5C13.6944 0.5 17.5 4.30558 17.5 9C17.5 13.6944 13.6944 17.5 9 17.5C4.30558 17.5 0.5 13.6944 0.5 9C0.5 4.30558 4.30558 0.5 9 0.5ZM5.78125 14.2588C6.71828 14.8337 7.81941 15.167 9 15.167C12.4058 15.167 15.167 12.4058 15.167 9C15.167 7.81941 14.8337 6.71828 14.2588 5.78125L5.78125 14.2588ZM9 2.83301C5.59424 2.83301 2.83301 5.59424 2.83301 9C2.83301 10.3817 3.28731 11.6565 4.05469 12.6846L12.6846 4.05469C11.6565 3.28731 10.3817 2.83301 9 2.83301Z\" />`}</svg>`;\n    return html`<div class=${safeClassMap(CSS.internalSvgContainer)}>${this.scale === \"l\" ? svgLgPath : svgSmMdPath}</div>`;\n  }\n  renderSwatch() {\n    const { internalColor } = this;\n    const borderRadius = \"0\";\n    const isEmpty = !internalColor;\n    const commonSwatchProps = {\n      height: \"100%\",\n      rx: borderRadius,\n      width: \"100%\"\n    };\n    if (isEmpty) {\n      return svg`<clipPath id=${IDS.shape}><rect height=100% rx=${borderRadius} width=100% /></clipPath>${this.renderSwatchRect({\n        clipPath: `inset(0 round \"${borderRadius}\")`,\n        ...commonSwatchProps\n      })}<line clip-path=url(#shape) x1=100% x2=0 y1=0 y2=100% />`;\n    }\n    const alpha = internalColor.alpha();\n    const hex = hexify(internalColor);\n    const hexa = hexify(internalColor, alpha < 1);\n    return svg`<defs><pattern height=${CHECKER_DIMENSIONS.size} id=${IDS.checker} patternUnits=userSpaceOnUse width=${CHECKER_DIMENSIONS.size} x=0 y=0><rect class=${safeClassMap(CSS.checker)} height=${CHECKER_DIMENSIONS.squareSize} width=${CHECKER_DIMENSIONS.squareSize} x=0 y=0 /><rect class=${safeClassMap(CSS.checker)} height=${CHECKER_DIMENSIONS.squareSize} width=${CHECKER_DIMENSIONS.squareSize} x=${CHECKER_DIMENSIONS.squareSize} y=${CHECKER_DIMENSIONS.squareSize} /></pattern></defs>${this.renderSwatchRect({\n      fill: \"url(#checker)\",\n      rx: commonSwatchProps.rx,\n      height: commonSwatchProps.height,\n      width: commonSwatchProps.width\n    })}${this.renderSwatchRect({\n      clipPath: alpha < 1 ? \"polygon(100% 0, 0 0, 0 100%)\" : `inset(0 round \"${borderRadius}\")`,\n      fill: hex,\n      id: IDS.swatchSolid,\n      ...commonSwatchProps\n    })}${alpha < 1 ? this.renderSwatchRect({\n      clipPath: \"polygon(100% 0, 100% 100%, 0 100%)\",\n      fill: hexa,\n      id: IDS.swatchTransparent,\n      key: \"opacity-fill\",\n      ...commonSwatchProps\n    }) : null}`;\n  }\n  renderSwatchRect({ clipPath, fill, height, key, rx, stroke, strokeWidth, width, id }) {\n    return keyed(key, svg`<rect clip-path=${clipPath ?? nothing} fill=${fill ?? nothing} height=${height ?? nothing} id=${(id ? id : IDS.swatchRect) ?? nothing} rx=${rx ?? nothing} stroke=${stroke ?? nothing} stroke-width=${strokeWidth ?? nothing} width=${width ?? nothing} />`);\n  }\n  render() {\n    const { disabled } = this;\n    const disableInteraction = disabled || !disabled && !this.interactive;\n    const role = this.selectionMode === \"multiple\" && this.interactive ? \"checkbox\" : this.selectionMode !== \"none\" && this.interactive ? \"radio\" : this.interactive ? \"button\" : \"presentation\";\n    const isEmpty = !this.internalColor;\n    const classes = {\n      [CSS.swatch]: true,\n      [CSS.noColorSwatch]: isEmpty || this.hasImage && !this.internalColor\n    };\n    return InteractiveContainer({ disabled, children: html`<div .ariaChecked=${this.selectionMode !== \"none\" && this.interactive ? this.selected : void 0} .ariaLabel=${role !== \"presentation\" ? this.label : \"\"} class=${safeClassMap({\n      [CSS.container]: true,\n      [CSS.selectable]: this.selectionMode !== \"none\",\n      [CSS.selected]: this.selected,\n      [CSS.nonInteractive]: !this.interactive\n    })} @click=${this.handleEmittingEvent} .role=${role} .tabIndex=${disableInteraction ? -1 : 0} title=${this.label ?? nothing} ${ref(this.containerEl)}>${this.renderSwatchImage()}${!this.internalColor && !this.hasImage && this.renderEmptyDisplay() || \"\"}${this.disabled && this.renderDisabledDisplay() || \"\"}<svg class=${safeClassMap(classes)} role=presentation xmlns=http://www.w3.org/2000/svg>${this.renderSwatch()}</svg></div>` });\n  }\n}\ncustomElement(\"calcite-swatch\", Swatch);\nexport {\n  Swatch\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { C as CSS_UTILITY, c as customElement } from \"../../chunks/runtime.js\";\nimport { live } from \"lit/directives/live.js\";\nimport { css, html, nothing } from \"lit\";\nimport { createRef, ref } from \"lit-html/directives/ref.js\";\nimport { LitElement, createEvent, stringOrBoolean, safeClassMap } from \"@arcgis/lumina\";\nimport { useWatchAttributes } from \"@arcgis/lumina/controllers\";\nimport { v as setRequestedIcon, g as getElementDir } from \"../../chunks/dom.js\";\nimport { c as connectForm, i as internalHiddenInputInputEvent, d as disconnectForm, s as submitForm, H as HiddenFormInputSlot } from \"../../chunks/form.js\";\nimport { u as updateHostInteraction, I as InteractiveContainer } from \"../../chunks/interactive.js\";\nimport { c as connectLabel, d as disconnectLabel, g as getLabelText } from \"../../chunks/label.js\";\nimport { g as getIconScale } from \"../../chunks/component.js\";\nimport { I as InternalLabel } from \"../../chunks/InternalLabel.js\";\nimport { V as Validation } from \"../../chunks/Validation.js\";\nimport { s as syncHiddenFormInput } from \"../../chunks/input.js\";\nimport { u as useT9n } from \"../../chunks/useT9n.js\";\nimport { u as useSetFocus } from \"../../chunks/useSetFocus.js\";\nconst CSS = {\n  loader: \"loader\",\n  clearable: \"clearable\",\n  clearButton: \"clear-button\",\n  editingEnabled: \"editing-enabled\",\n  inlineChild: \"inline-child\",\n  inputIcon: \"icon\",\n  prefix: \"prefix\",\n  suffix: \"suffix\",\n  wrapper: \"element-wrapper\",\n  inputWrapper: \"wrapper\",\n  actionWrapper: \"action-wrapper\"\n};\nconst IDS = {\n  validationMessage: \"inputTextValidationMessage\"\n};\nconst SLOTS = {\n  action: \"action\"\n};\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([scale=s]) input{padding-inline-start:.5rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, .5rem)}:host([scale=s]) input,:host([scale=s]) .prefix,:host([scale=s]) .suffix{block-size:1.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .prefix,:host([scale=s]) .suffix{padding-inline:.5rem}:host([scale=s]) .action-wrapper{block-size:1.5rem}:host([scale=s]) .clear-button{min-block-size:1.5rem;min-inline-size:1.5rem}:host([scale=m]) input{padding-inline-start:.75rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, .75rem)}:host([scale=m]) input,:host([scale=m]) .prefix,:host([scale=m]) .suffix{block-size:2rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .prefix,:host([scale=m]) .suffix{padding-inline:.75rem}:host([scale=m]) .action-wrapper{block-size:2rem}:host([scale=m]) .clear-button{min-block-size:2rem;min-inline-size:2rem}:host([scale=l]) input{padding-inline-start:1rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, 1rem)}:host([scale=l]) input,:host([scale=l]) .prefix,:host([scale=l]) .suffix{block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .prefix,:host([scale=l]) .suffix{padding-inline:1rem}:host([scale=l]) .action-wrapper{block-size:2.75rem}:host([scale=l]) .clear-button{min-block-size:2.75rem;min-inline-size:2.75rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}input{transition:var(--calcite-animation-timing),block-size 0,outline-offset 0s;-webkit-appearance:none;position:relative;margin:0;box-sizing:border-box;display:flex;max-block-size:100%;inline-size:100%;max-inline-size:100%;flex:1 1 0%;text-overflow:ellipsis;border-width:1px;border-style:solid;font-family:inherit;font-weight:var(--calcite-font-weight-normal);background-color:var(--calcite-input-text-background-color, var(--calcite-color-foreground-1));color:var(--calcite-input-text-text-color, var(--calcite-color-text-1));border-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp));border-color:var(--calcite-input-text-border-color, var(--calcite-color-border-input));text-align:var(--calcite-internal-input-text-alignment)}input:placeholder-shown{text-overflow:ellipsis}input::placeholder,input:-ms-input-placeholder,input::-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-input-number-placeholder-text-color, var(--calcite-color-text-3))}input:focus{border-color:var(--calcite-color-brand);color:var(--calcite-input-text-text-color-focus, var(--calcite-color-text-1))}input[readonly]{font-weight:var(--calcite-font-weight-medium);background-color:var(--calcite-input-text-background-color, var(--calcite-color-background))}input[readonly]:focus{color:var(--calcite-input-text-text-color-focus, var(--calcite-color-text-1))}calcite-icon{color:var(--calcite-input-action-icon-color, var(--calcite-color-text-3))}input{outline-color:transparent}input:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([status=invalid]) input{border-color:var(--calcite-color-status-danger)}:host([status=invalid]) input:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-status-danger);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([scale=s]) .icon{inset-inline-start:.5rem}:host([scale=m]) .icon{inset-inline-start:.75rem}:host([scale=l]) .icon{inset-inline-start:1rem}:host([icon][scale=s]) input{padding-inline-start:2rem}:host([icon][scale=m]) input{padding-inline-start:2.5rem}:host([icon][scale=l]) input{padding-inline-start:3.5rem}.element-wrapper{position:relative;order:3;display:inline-flex;flex:1 1 0%;align-items:center;isolation:isolate}.icon{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);display:block;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;color:var(--calcite-input-text-icon-color, var(--calcite-color-text-3))}input[type=text]::-ms-clear,input[type=text]::-ms-reveal{display:none;block-size:0px;inline-size:0px}.clear-button{pointer-events:initial;order:4;margin:0;box-sizing:border-box;display:flex;min-block-size:100%;cursor:pointer;align-items:center;justify-content:center;align-self:stretch;border-width:1px;border-style:solid;outline-color:transparent;border-color:var(--calcite-input-text-border-color, var(--calcite-color-border-input));background-color:var(--calcite-input-action-background-color, var(--calcite-color-foreground-1));border-inline-start-width:0px}.clear-button:hover{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;background-color:var(--calcite-input-action-background-color-hover, var(--calcite-color-foreground-2))}.clear-button:hover calcite-icon{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;color:var(--calcite-input-action-icon-color-hover, var(--calcite-color-text-1))}.clear-button:active{background-color:var(--calcite-input-action-background-color-press, var(--calcite-color-foreground-3))}.clear-button:active calcite-icon{color:var(--calcite-input-action-icon-color-press, --calcite-color-text-1)}.clear-button:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.clear-button:disabled{opacity:var(--calcite-opacity-disabled)}.loader{inset-block-start:1px;inset-inline:1px;pointer-events:none;position:absolute;display:block}.loader calcite-progress{--calcite-progress-background-color: var(--calcite-input-loading-background-color);--calcite-progress-fill-color: var(--calcite-input-loading-fill-color)}.action-wrapper{order:7;display:flex}.prefix,.suffix{box-sizing:border-box;display:flex;block-size:auto;min-block-size:100%;-webkit-user-select:none;user-select:none;align-content:center;align-items:center;overflow-wrap:break-word;border-width:1px;border-style:solid;font-weight:var(--calcite-font-weight-medium);line-height:1;border-color:var(--calcite-input-text-border-color, var(--calcite-color-border-input))}.prefix{order:2;border-inline-end-width:0px;inline-size:var(--calcite-input-prefix-size-x, auto);background-color:var(--calcite-input-prefix-background-color, var(--calcite-color-background));color:var(--calcite-input-prefix-text-color, var(--calcite-color-text-2));border-start-start-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp));border-end-start-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp))}.suffix{order:5;border-inline-start-width:0px;inline-size:var(--calcite-input-suffix-size-x, auto);background-color:var(--calcite-input-suffix-background-color, var(--calcite-color-background));color:var(--calcite-input-suffix-text-color, var(--calcite-color-text-2));border-start-end-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp));border-end-end-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp))}:host([prefix-text]:not([prefix-text=\"\"])) input{border-start-start-radius:0;border-end-start-radius:0}:host([suffix-text]:not([suffix-text=\"\"])) input,:host .clearable input{border-start-end-radius:0;border-end-end-radius:0}:host(:not([suffix-text])) .clear-button,:host([suffix-text=\"\"]) .clear-button{border-start-end-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp));border-end-end-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp))}:host([alignment=start]){--calcite-internal-input-text-alignment: start}:host([alignment=center]){--calcite-internal-input-text-alignment: center}:host([alignment=end]){--calcite-internal-input-text-alignment: end}.wrapper{position:relative;display:flex;flex-direction:row;align-items:center}:host(.input--no-bottom-border) input{border-block-end-width:0px}:host(.input--no-top-border) input{border-block-start-width:0px}:host(.input--no-right-border) input{border-inline-end:0}:host(.input--no-left-border) input{border-inline-start:0}:host(.border-top-color-one) input{border-block-start-color:var(--calcite-color-border-1)}input.inline-child{background-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}input.inline-child .editing-enabled{background-color:inherit}input.inline-child:not(.editing-enabled){display:flex;cursor:pointer;text-overflow:ellipsis;border-color:transparent;padding-inline-start:0}.internal-label-alignment--center{align-items:center}.internal-label-alignment--end{align-items:end}.internal-label--container{display:flex;justify-content:space-between;color:var(--calcite-color-text-1)}.internal-label-required--indicator{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-status-danger);padding-inline:var(--calcite-spacing-base)}.internal-label-required--indicator:hover{cursor:help}.internal-label--text{line-height:1}:host([scale=s]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-xxs)}:host([scale=s]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label--text{font-size:var(--calcite-font-size--2)}:host([scale=m]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label--text{font-size:var(--calcite-font-size--1)}:host([scale=l]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=l]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-md)}:host([scale=l]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-md)}:host([scale=l]) .internal-label--text{font-size:var(--calcite-font-size-0)}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}:host([hidden]){display:none}[hidden]{display:none}::placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-input-placeholder-text-color, var(--calcite-color-text-3))}`;\nclass InputText extends LitElement {\n  constructor() {\n    super();\n    this.actionWrapperRef = createRef();\n    this.attributeWatch = useWatchAttributes([\"autofocus\", \"enterkeyhint\", \"inputmode\", \"spellcheck\"], this.handleGlobalAttributesChanged);\n    this.childRef = createRef();\n    this.inputWrapperRef = createRef();\n    this.onHiddenFormInputInput = (event) => {\n      if (event.target.name === this.name) {\n        this.setValue({\n          value: event.target.value,\n          origin: \"direct\"\n        });\n      }\n      this.setFocus();\n      event.stopPropagation();\n    };\n    this.previousValueOrigin = \"initial\";\n    this.userChangedValue = false;\n    this._value = \"\";\n    this.messages = useT9n();\n    this.focusSetter = useSetFocus()(this);\n    this.slottedActionElDisabledInternally = false;\n    this.alignment = \"start\";\n    this.clearable = false;\n    this.disabled = false;\n    this.editingEnabled = false;\n    this.iconFlipRtl = false;\n    this.loading = false;\n    this.readOnly = false;\n    this.required = false;\n    this.scale = \"m\";\n    this.status = \"idle\";\n    this.validity = {\n      valid: false,\n      badInput: false,\n      customError: false,\n      patternMismatch: false,\n      rangeOverflow: false,\n      rangeUnderflow: false,\n      stepMismatch: false,\n      tooLong: false,\n      tooShort: false,\n      typeMismatch: false,\n      valueMissing: false\n    };\n    this.calciteInputTextChange = createEvent();\n    this.calciteInputTextInput = createEvent();\n    this.calciteInternalInputTextBlur = createEvent();\n    this.calciteInternalInputTextFocus = createEvent();\n    this.listen(\"click\", this.clickHandler);\n    this.listen(\"keydown\", this.keyDownHandler);\n  }\n  static {\n    this.properties = { slottedActionElDisabledInternally: [16, {}, { state: true }], alignment: [3, {}, { reflect: true }], autocomplete: [0, {}, { attribute: false }], clearable: [7, {}, { reflect: true, type: Boolean }], disabled: [7, {}, { reflect: true, type: Boolean }], editingEnabled: [7, {}, { reflect: true, type: Boolean }], form: [3, {}, { reflect: true }], icon: [3, { converter: stringOrBoolean }, { reflect: true }], iconFlipRtl: [7, {}, { reflect: true, type: Boolean }], label: 1, labelText: 1, loading: [7, {}, { reflect: true, type: Boolean }], maxLength: [11, {}, { reflect: true, type: Number }], messageOverrides: [0, {}, { attribute: false }], minLength: [11, {}, { reflect: true, type: Number }], name: [3, {}, { reflect: true }], pattern: 1, placeholder: 1, prefixText: 1, readOnly: [7, {}, { reflect: true, type: Boolean }], required: [7, {}, { reflect: true, type: Boolean }], scale: [3, {}, { reflect: true }], status: [3, {}, { reflect: true }], suffixText: 1, validationIcon: [3, { converter: stringOrBoolean }, { reflect: true }], validationMessage: 1, validity: [0, {}, { attribute: false }], value: 1 };\n  }\n  static {\n    this.styles = styles;\n  }\n  get value() {\n    return this._value;\n  }\n  set value(value) {\n    const oldValue = this._value;\n    if (value !== oldValue) {\n      this._value = value;\n      this.valueWatcher(value, oldValue);\n    }\n  }\n  async selectText() {\n    this.childRef.value?.select();\n  }\n  async setFocus(options) {\n    return this.focusSetter(() => this.childRef.value, options);\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.inlineEditableEl = this.el.closest(\"calcite-inline-editable\");\n    if (this.inlineEditableEl) {\n      this.editingEnabled = this.inlineEditableEl.editingEnabled || false;\n    }\n    connectLabel(this);\n    connectForm(this);\n    this.el.addEventListener(internalHiddenInputInputEvent, this.onHiddenFormInputInput);\n  }\n  async load() {\n    this.requestedIcon = setRequestedIcon({}, this.icon, \"text\");\n    this.setPreviousEmittedValue(this.value);\n    this.setPreviousValue(this.value);\n  }\n  willUpdate(changes) {\n    if (changes.has(\"icon\")) {\n      this.requestedIcon = setRequestedIcon({}, this.icon, \"text\");\n    }\n  }\n  updated() {\n    updateHostInteraction(this);\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    disconnectLabel(this);\n    disconnectForm(this);\n    this.el.removeEventListener(internalHiddenInputInputEvent, this.onHiddenFormInputInput);\n  }\n  get isClearable() {\n    return this.clearable && this.value.length > 0;\n  }\n  handleGlobalAttributesChanged() {\n    this.requestUpdate();\n  }\n  valueWatcher(newValue, previousValue) {\n    if (!this.userChangedValue) {\n      this.setValue({\n        origin: \"direct\",\n        previousValue,\n        value: !newValue ? \"\" : newValue\n      });\n    }\n    this.userChangedValue = false;\n  }\n  keyDownHandler(event) {\n    if (this.readOnly || this.disabled || event.defaultPrevented) {\n      return;\n    }\n    if (this.isClearable && event.key === \"Escape\") {\n      this.clearInputTextValue(event);\n      event.preventDefault();\n    }\n    if (event.key === \"Enter\") {\n      if (submitForm(this)) {\n        event.preventDefault();\n      }\n    }\n  }\n  onLabelClick() {\n    this.setFocus();\n  }\n  clearInputTextValue(nativeEvent) {\n    this.setValue({\n      committing: true,\n      nativeEvent,\n      origin: \"user\",\n      value: \"\"\n    });\n  }\n  emitChangeIfUserModified() {\n    if (this.previousValueOrigin === \"user\" && this.value !== this.previousEmittedValue) {\n      this.calciteInputTextChange.emit();\n      this.setPreviousEmittedValue(this.value);\n    }\n  }\n  inputTextBlurHandler() {\n    this.calciteInternalInputTextBlur.emit({\n      element: this.childRef.value,\n      value: this.value\n    });\n    this.emitChangeIfUserModified();\n  }\n  clickHandler(event) {\n    if (this.disabled) {\n      return;\n    }\n    const composedPath = event.composedPath();\n    if (!composedPath.includes(this.inputWrapperRef.value) || composedPath.includes(this.actionWrapperRef.value)) {\n      return;\n    }\n    this.setFocus();\n  }\n  inputTextFocusHandler() {\n    this.calciteInternalInputTextFocus.emit({\n      element: this.childRef.value,\n      value: this.value\n    });\n  }\n  inputTextInputHandler(nativeEvent) {\n    if (this.disabled || this.readOnly) {\n      return;\n    }\n    this.setValue({\n      nativeEvent,\n      origin: \"user\",\n      value: nativeEvent.target.value\n    });\n  }\n  inputTextKeyDownHandler(event) {\n    if (this.disabled || this.readOnly) {\n      return;\n    }\n    if (event.key === \"Enter\") {\n      this.emitChangeIfUserModified();\n    }\n  }\n  syncHiddenFormInput(input) {\n    syncHiddenFormInput(\"text\", this, input);\n  }\n  setInputValue(newInputValue) {\n    if (!this.childRef.value) {\n      return;\n    }\n    this.childRef.value.value = newInputValue;\n  }\n  setPreviousEmittedValue(value) {\n    this.previousEmittedValue = value;\n  }\n  setPreviousValue(value) {\n    this.previousValue = value;\n  }\n  setValue({ committing = false, nativeEvent, origin, previousValue, value }) {\n    this.setPreviousValue(previousValue ?? this.value);\n    this.previousValueOrigin = origin;\n    this.userChangedValue = origin === \"user\" && value !== this.value;\n    this.value = value;\n    if (origin === \"direct\") {\n      this.setInputValue(value);\n      this.setPreviousEmittedValue(value);\n    }\n    if (nativeEvent) {\n      const calciteInputTextInputEvent = this.calciteInputTextInput.emit();\n      if (calciteInputTextInputEvent.defaultPrevented) {\n        this.value = this.previousValue;\n      } else if (committing) {\n        this.emitChangeIfUserModified();\n      }\n    }\n  }\n  render() {\n    const dir = getElementDir(this.el);\n    const loader = html`<div class=${safeClassMap(CSS.loader)}><calcite-progress .label=${this.messages.loading} type=indeterminate></calcite-progress></div>`;\n    const inputClearButton = html`<button .ariaLabel=${this.messages.clear} class=${safeClassMap(CSS.clearButton)} .disabled=${this.disabled || this.readOnly} @click=${this.clearInputTextValue} tabindex=-1 type=button><calcite-icon icon=x .scale=${getIconScale(this.scale)}></calcite-icon></button>`;\n    const iconEl = html`<calcite-icon class=${safeClassMap(CSS.inputIcon)} .flipRtl=${this.iconFlipRtl} .icon=${this.requestedIcon} .scale=${getIconScale(this.scale)}></calcite-icon>`;\n    const prefixText = html`<div class=${safeClassMap(CSS.prefix)}>${this.prefixText}</div>`;\n    const suffixText = html`<div class=${safeClassMap(CSS.suffix)}>${this.suffixText}</div>`;\n    const childEl = html`<input aria-errormessage=${IDS.validationMessage} .ariaInvalid=${this.status === \"invalid\"} .ariaLabel=${getLabelText(this)} autocomplete=${this.autocomplete ?? nothing} .autofocus=${this.el.autofocus} class=${safeClassMap({\n      [CSS.editingEnabled]: this.editingEnabled,\n      [CSS.inlineChild]: !!this.inlineEditableEl\n    })} value=${this.defaultValue ?? nothing} .disabled=${this.disabled ? true : null} enterkeyhint=${this.el.enterKeyHint ?? nothing} inputmode=${this.el.inputMode ?? nothing} maxlength=${this.maxLength ?? nothing} minlength=${this.minLength ?? nothing} name=${this.name ?? nothing} @blur=${this.inputTextBlurHandler} @focus=${this.inputTextFocusHandler} @input=${this.inputTextInputHandler} @keydown=${this.inputTextKeyDownHandler} pattern=${this.pattern ?? nothing} placeholder=${(this.placeholder || \"\") ?? nothing} .readOnly=${this.readOnly} .required=${this.required ? true : null} spellcheck=${this.el.spellcheck ?? nothing} tabindex=${(this.disabled || this.inlineEditableEl && !this.editingEnabled ? -1 : null) ?? nothing} type=text .value=${live(this.value ?? \"\")} ${ref(this.childRef)}>`;\n    return InteractiveContainer({ disabled: this.disabled, children: html`${this.labelText && InternalLabel({ labelText: this.labelText, onClick: this.onLabelClick, required: this.required, tooltipText: this.messages.required }) || \"\"}<div class=${safeClassMap({\n      [CSS.inputWrapper]: true,\n      [CSS_UTILITY.rtl]: dir === \"rtl\",\n      [CSS.clearable]: this.isClearable\n    })} ${ref(this.inputWrapperRef)}>${this.prefixText ? prefixText : null}<div class=${safeClassMap(CSS.wrapper)}>${childEl}${this.isClearable ? inputClearButton : null}${this.requestedIcon ? iconEl : null}${this.loading ? loader : null}</div><div class=${safeClassMap(CSS.actionWrapper)} ${ref(this.actionWrapperRef)}><slot name=${SLOTS.action}></slot></div>${this.suffixText ? suffixText : null}${HiddenFormInputSlot({ component: this })}</div>${this.validationMessage && this.status === \"invalid\" ? Validation({ icon: this.validationIcon, id: IDS.validationMessage, message: this.validationMessage, scale: this.scale, status: this.status }) : null}` });\n  }\n}\ncustomElement(\"calcite-input-text\", InputText);\nexport {\n  InputText\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { keyed } from \"lit/directives/keyed.js\";\nimport Color from \"color\";\nimport { css, html } from \"lit\";\nimport { LitElement, createEvent, safeClassMap } from \"@arcgis/lumina\";\nimport { createRef, ref } from \"lit/directives/ref.js\";\nimport { n as normalizeHex, h as hexify, i as isValidHex, a as isLonghandHex, b as isShorthandHex, r as rgbToHex, o as opacityToAlpha, c as alphaToOpacity, O as OPACITY_LIMITS, d as hexChar } from \"../../chunks/utils.js\";\nimport { u as useSetFocus } from \"../../chunks/useSetFocus.js\";\nconst CSS = {\n  container: \"container\",\n  hexInput: \"hex-input\",\n  opacityInput: \"opacity-input\"\n};\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}.hex-input{--calcite-input-text-background-color: var(--calcite-color-picker-input-background-color);--calcite-input-text-border-color: var(--calcite-color-picker-input-border-color);--calcite-input-text-text-color: var(--calcite-color-picker-input-text-color);--calcite-input-prefix-background-color: var(--calcite-color-picker-input-prefix-background-color);--calcite-input-prefix-text-color: var(--calcite-color-picker-input-prefix-text-color)}.opacity-input{--calcite-input-number-background-color: var(--calcite-color-picker-input-background-color);--calcite-input-number-border-color: var(--calcite-color-picker-input-border-color);--calcite-input-number-text-color: var(--calcite-color-picker-input-text-color);--calcite-input-suffix-background-color: var(--calcite-color-picker-input-suffix-background-color);--calcite-input-suffix-text-color: var(--calcite-color-picker-input-suffix-text-color)}:host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:100px;margin-inline-start:-1px}:host([hidden]){display:none}[hidden]{display:none}`;\nconst DEFAULT_COLOR = Color();\nclass ColorPickerHexInput extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.hexInputRef = createRef();\n    this.opacityInputRef = createRef();\n    this.focusSetter = useSetFocus()(this);\n    this.internalColor = DEFAULT_COLOR;\n    this.alphaChannel = false;\n    this.allowEmpty = false;\n    this.hexLabel = \"Hex\";\n    this.scale = \"m\";\n    this.value = normalizeHex(hexify(DEFAULT_COLOR, this.alphaChannel), this.alphaChannel, true);\n    this.calciteColorPickerHexInputChange = createEvent({ cancelable: false });\n  }\n  static {\n    this.properties = { internalColor: [16, {}, { state: true }], alphaChannel: [5, {}, { type: Boolean }], allowEmpty: [5, {}, { type: Boolean }], hexLabel: 1, messages: [0, {}, { attribute: false }], numberingSystem: 1, scale: [3, {}, { reflect: true }], value: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  async setFocus(options) {\n    return this.focusSetter(() => this.hexInputRef.value, options);\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.previousNonNullValue = this.value;\n    const { allowEmpty, alphaChannel, value } = this;\n    if (value) {\n      const normalized = normalizeHex(value, alphaChannel);\n      if (isValidHex(normalized, alphaChannel)) {\n        this.internalSetValue(normalized, normalized, false);\n      }\n      return;\n    }\n    if (allowEmpty) {\n      this.internalSetValue(void 0, void 0, false);\n    }\n  }\n  willUpdate(changes) {\n    if (changes.has(\"value\") && (this.hasUpdated || this.value !== normalizeHex(hexify(DEFAULT_COLOR, this.alphaChannel), this.alphaChannel, true))) {\n      this.internalSetValue(this.value, changes.get(\"value\"), false);\n    }\n  }\n  onHexInputBlur() {\n    const node = this.hexInputRef.value;\n    const inputValue = node.value;\n    const hex = `#${inputValue}`;\n    const { allowEmpty, internalColor } = this;\n    const willClearValue = allowEmpty && !inputValue;\n    const isLonghand = isLonghandHex(hex);\n    const anyShorthand = isShorthandHex(hex, true) || isShorthandHex(hex, false);\n    if (anyShorthand) {\n      this.onHexInputChange();\n    }\n    if (willClearValue || isValidHex(hex) && isLonghand) {\n      return;\n    }\n    node.value = allowEmpty && !internalColor ? \"\" : this.formatHexForInternalInput(rgbToHex(\n      // always display hex input in RRGGBB format\n      internalColor.object()\n    ));\n  }\n  onOpacityInputBlur() {\n    const node = this.opacityInputRef.value;\n    const inputValue = node.value;\n    const { allowEmpty, internalColor } = this;\n    const willClearValue = allowEmpty && !inputValue;\n    if (willClearValue) {\n      return;\n    }\n    node.value = allowEmpty && !internalColor ? \"\" : this.formatOpacityForInternalInput(internalColor);\n  }\n  onOpacityInputInput() {\n    this.onOpacityInputChange();\n  }\n  onHexInputChange() {\n    const nodeValue = this.hexInputRef.value.value;\n    let value = nodeValue;\n    if (value) {\n      const normalized = normalizeHex(value, false);\n      const preserveExistingAlpha = isValidHex(normalized) && this.alphaChannel;\n      if (preserveExistingAlpha && this.internalColor) {\n        const alphaHex = normalizeHex(this.internalColor.hexa(), true).slice(-2);\n        value = `${normalized + alphaHex}`;\n      }\n    }\n    this.internalSetValue(value, this.value);\n  }\n  onOpacityInputChange() {\n    const node = this.opacityInputRef.value;\n    let value;\n    if (!node.value) {\n      value = node.value;\n    } else {\n      const alpha = opacityToAlpha(Number(node.value));\n      value = this.internalColor?.alpha(alpha).hexa();\n    }\n    this.internalSetValue(value, this.value);\n  }\n  onInputFocus(event) {\n    const focusTarget = event.type === \"calciteInternalInputTextFocus\" ? this.hexInputRef : this.opacityInputRef;\n    focusTarget.value.selectText();\n  }\n  onHexInputInput() {\n    const hexInputValue = `#${this.hexInputRef.value.value}`;\n    const oldValue = this.value;\n    if (isValidHex(hexInputValue, this.alphaChannel) && isLonghandHex(hexInputValue, this.alphaChannel)) {\n      this.internalSetValue(hexInputValue, oldValue);\n    }\n  }\n  onInputKeyDown(event) {\n    const { altKey, ctrlKey, metaKey, shiftKey } = event;\n    const { alphaChannel, hexInputRef, internalColor, value } = this;\n    const { key } = event;\n    const composedPath = event.composedPath();\n    if (key === \"Tab\" && isShorthandHex(value, this.alphaChannel) || key === \"Enter\") {\n      if (composedPath.includes(hexInputRef.value)) {\n        this.onHexInputChange();\n      } else {\n        this.onOpacityInputChange();\n      }\n      if (key === \"Enter\") {\n        event.preventDefault();\n      }\n      return;\n    }\n    const isNudgeKey = key === \"ArrowDown\" || key === \"ArrowUp\";\n    const oldValue = this.value;\n    if (isNudgeKey) {\n      if (!value) {\n        this.internalSetValue(this.previousNonNullValue, oldValue);\n        event.preventDefault();\n        return;\n      }\n      const direction = key === \"ArrowUp\" ? 1 : -1;\n      const bump = shiftKey ? 10 : 1;\n      this.internalSetValue(hexify(this.nudgeRGBChannels(internalColor, bump * direction, composedPath.includes(hexInputRef.value) ? \"rgb\" : \"a\"), alphaChannel), oldValue);\n      event.preventDefault();\n      return;\n    }\n    const withModifiers = altKey || ctrlKey || metaKey;\n    const singleChar = key.length === 1;\n    const validHexChar = hexChar.test(key);\n    if (singleChar && !withModifiers && !validHexChar) {\n      event.preventDefault();\n    }\n  }\n  onHexInputPaste(event) {\n    const hex = event.clipboardData.getData(\"text\");\n    if (isValidHex(hex, this.alphaChannel) && isLonghandHex(hex, this.alphaChannel)) {\n      event.preventDefault();\n      this.hexInputRef.value.value = hex.slice(1);\n      this.internalSetValue(hex, this.value);\n    }\n  }\n  internalSetValue(value, oldValue, emit = true) {\n    if (value) {\n      const { alphaChannel } = this;\n      const normalized = normalizeHex(value, alphaChannel, alphaChannel);\n      if (isValidHex(normalized, alphaChannel)) {\n        const { internalColor: currentColor } = this;\n        const nextColor = Color(normalized);\n        const normalizedLonghand = normalizeHex(hexify(nextColor, alphaChannel), alphaChannel);\n        const changed = !currentColor || normalizedLonghand !== normalizeHex(hexify(currentColor, alphaChannel), alphaChannel);\n        this.internalColor = nextColor;\n        this.previousNonNullValue = normalizedLonghand;\n        this.value = normalizedLonghand;\n        if (changed && emit) {\n          this.calciteColorPickerHexInputChange.emit();\n        }\n        return;\n      }\n    } else if (this.allowEmpty) {\n      this.internalColor = void 0;\n      this.value = void 0;\n      if (emit) {\n        this.calciteColorPickerHexInputChange.emit();\n      }\n      return;\n    }\n    this.value = oldValue;\n  }\n  formatHexForInternalInput(hex) {\n    return hex ? hex.replace(\"#\", \"\").slice(0, 6) : \"\";\n  }\n  formatOpacityForInternalInput(color) {\n    return color ? `${alphaToOpacity(color.alpha())}` : \"\";\n  }\n  nudgeRGBChannels(color, amount, context) {\n    let nudgedChannels;\n    const channels = color.array();\n    const rgbChannels = channels.slice(0, 3);\n    if (context === \"rgb\") {\n      const nudgedRGBChannels = rgbChannels.map((channel) => channel + amount);\n      nudgedChannels = [\n        ...nudgedRGBChannels,\n        this.alphaChannel ? channels[3] : void 0\n      ];\n    } else {\n      const nudgedAlpha = opacityToAlpha(alphaToOpacity(color.alpha()) + amount);\n      nudgedChannels = [...rgbChannels, nudgedAlpha];\n    }\n    return Color(nudgedChannels);\n  }\n  render() {\n    const { alphaChannel, hexLabel, internalColor, messages, scale, value } = this;\n    const hexInputValue = this.formatHexForInternalInput(value);\n    const opacityInputValue = this.formatOpacityForInternalInput(internalColor);\n    const inputScale = scale === \"l\" ? \"m\" : \"s\";\n    return html`<div class=${safeClassMap(CSS.container)}><calcite-input-text class=${safeClassMap(CSS.hexInput)} .label=${messages?.hex || hexLabel} .maxLength=${this.alphaChannel ? 8 : 6} @keydown=${this.onInputKeyDown} @paste=${this.onHexInputPaste} @calciteInputTextChange=${this.onHexInputChange} @calciteInputTextInput=${this.onHexInputInput} @calciteInternalInputTextBlur=${this.onHexInputBlur} @calciteInternalInputTextFocus=${this.onInputFocus} prefix-text=# .scale=${inputScale} .value=${hexInputValue} ${ref(this.hexInputRef)}></calcite-input-text>${alphaChannel ? keyed(\"opacity-input\", html`<calcite-input-number class=${safeClassMap(CSS.opacityInput)} .label=${messages?.opacity} .max=${OPACITY_LIMITS.max} max-length=3 .min=${OPACITY_LIMITS.min} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.onInputKeyDown} @calciteInputNumberInput=${this.onOpacityInputInput} @calciteInternalInputNumberBlur=${this.onOpacityInputBlur} @calciteInternalInputNumberFocus=${this.onInputFocus} .scale=${inputScale} suffix-text=% .value=${opacityInputValue} ${ref(this.opacityInputRef)}></calcite-input-number>`) : null}</div>`;\n  }\n}\ncustomElement(\"calcite-color-picker-hex-input\", ColorPickerHexInput);\nexport {\n  ColorPickerHexInput\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { css, html } from \"lit\";\nimport { LitElement, safeClassMap } from \"@arcgis/lumina\";\nimport { createRef, ref } from \"lit/directives/ref.js\";\nimport { s as slotChangeGetAssignedElements, e as getSlotAssignedElements } from \"../../chunks/dom.js\";\nconst CSS = {\n  section: \"section\"\n};\nconst SLOTS = {\n  titleGroup: \"title-group\"\n};\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:flex;flex-direction:column}:host([bordered]){box-shadow:inset 0 1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1));background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([bordered]) section{border-color:var(--calcite-tab-border-color, var(--calcite-color-border-1));border-style:solid}section{display:flex;flex-grow:1;overflow:hidden;border-width:1px;border-block-start-style:solid;border-block-start-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered][position=bottom]){box-shadow:inset 0 1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1)),inset 0 -1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]:not([position=bottom])) ::slotted(calcite-tab-nav){margin-block-end:-1px}:host([position=bottom]){flex-direction:column-reverse}:host([position=bottom]) section{flex-direction:column-reverse;border-block-start-width:0px;border-block-end-width:1px}:host([bordered][scale=s]) section{padding:.75rem}:host([bordered][scale=m]) section{padding:.5rem}:host([bordered][scale=l]) section{padding:1rem}:host([position=bottom]:not([bordered])) section{border-block-end-style:solid;border-block-end-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}@media (forced-colors: active){:host([bordered]) section{border-block-start-width:0px;border-block-end-width:1px}:host([position=bottom][bordered]) section{border-block-start-width:1px;border-block-end-width:0px}}:host([hidden]){display:none}[hidden]{display:none}`;\nclass Tabs extends LitElement {\n  constructor() {\n    super();\n    this.slotRef = createRef();\n    this.tabs = [];\n    this.titles = [];\n    this.bordered = false;\n    this.layout = \"inline\";\n    this.position = \"top\";\n    this.scale = \"m\";\n    this.listen(\"calciteInternalTabNavSlotChange\", this.calciteInternalTabNavSlotChangeHandler);\n  }\n  static {\n    this.properties = { tabs: [16, {}, { state: true }], titles: [16, {}, { state: true }], bordered: [5, {}, { type: Boolean }], layout: [3, {}, { reflect: true }], position: [3, {}, { reflect: true }], scale: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.updateItems();\n  }\n  load() {\n    this.updateItems();\n  }\n  willUpdate(changes) {\n    if (changes.has(\"position\") && (this.hasUpdated || this.position !== \"top\") || changes.has(\"scale\") && (this.hasUpdated || this.scale !== \"m\")) {\n      this.updateItems();\n    }\n    if ((changes.has(\"titles\") || changes.has(\"tabs\")) && this.hasUpdated && this.titles?.length > 0 && this.tabs?.length > 0) {\n      this.updateAriaSettings();\n      this.updateItems();\n    }\n  }\n  calciteInternalTabNavSlotChangeHandler(event) {\n    event.stopPropagation();\n    if (event.detail.length !== this.titles.length) {\n      this.titles = event.detail;\n    }\n  }\n  defaultSlotChangeHandler(event) {\n    this.tabs = slotChangeGetAssignedElements(event, \"calcite-tab\");\n  }\n  async updateAriaSettings() {\n    await this.componentOnReady();\n    if (!this.slotRef.value) {\n      return;\n    }\n    let tabIds;\n    let titleIds;\n    const tabs = getSlotAssignedElements(this.slotRef.value, \"calcite-tab\");\n    if (tabs.some((el) => el.tab) || this.titles.some((el) => el.tab)) {\n      tabIds = tabs.sort((a, b) => a.tab.localeCompare(b.tab)).map((el) => el.id);\n      titleIds = this.titles.sort((a, b) => a.tab.localeCompare(b.tab)).map((el) => el.id);\n    } else {\n      const tabDomIndexes = await Promise.all(tabs.map((el) => el.getTabIndex()));\n      const titleDomIndexes = await Promise.all(this.titles.map((el) => el.getTabIndex()));\n      tabIds = tabDomIndexes.reduce((ids, indexInDOM, registryIndex) => {\n        ids[indexInDOM] = tabs[registryIndex].id;\n        return ids;\n      }, []);\n      titleIds = titleDomIndexes.reduce((ids, indexInDOM, registryIndex) => {\n        ids[indexInDOM] = this.titles[registryIndex].id;\n        return ids;\n      }, []);\n    }\n    tabs.forEach((el) => el._updateAriaInfo(tabIds, titleIds));\n    this.titles.forEach((el) => el._updateAriaInfo(tabIds, titleIds));\n  }\n  updateItems() {\n    const { position, scale } = this;\n    const nav = this.el.querySelector(\"calcite-tab-nav\");\n    if (nav) {\n      nav.position = position;\n      nav.scale = scale;\n    }\n    Array.from(this.el.querySelectorAll(\"calcite-tab\")).forEach((tab) => {\n      if (tab.parentElement === this.el) {\n        tab.scale = scale;\n      }\n    });\n    Array.from(this.el.querySelectorAll(\"calcite-tab-nav > calcite-tab-title\")).forEach((title) => {\n      title.position = position;\n      title.scale = scale;\n    });\n  }\n  render() {\n    return html`<slot name=${SLOTS.titleGroup}></slot><section class=${safeClassMap(CSS.section)}><slot @slotchange=${this.defaultSlotChangeHandler} ${ref(this.slotRef)}></slot></section>`;\n  }\n}\ncustomElement(\"calcite-tabs\", Tabs);\nexport {\n  Tabs\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nconst calciteSize24 = \"24px\";\nconst calciteSize32 = \"32px\";\nconst calciteSize44 = \"44px\";\nconst calciteSize48 = \"48px\";\nexport {\n  calciteSize32 as a,\n  calciteSize44 as b,\n  calciteSize24 as c,\n  calciteSize48 as d\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { C as CSS_UTILITY, c as customElement } from \"../../chunks/runtime.js\";\nimport { ref } from \"lit/directives/ref.js\";\nimport { keyed } from \"lit/directives/keyed.js\";\nimport { c as calciteSize24, a as calciteSize32, b as calciteSize44 } from \"../../chunks/core.js\";\nimport { css, html } from \"lit\";\nimport { LitElement, createEvent, safeClassMap } from \"@arcgis/lumina\";\nimport { g as getElementDir, f as filterDirectChildren, d as focusElementInGroup } from \"../../chunks/dom.js\";\nimport { c as createObserver } from \"../../chunks/observers.js\";\nimport { u as useT9n } from \"../../chunks/useT9n.js\";\nconst ICON = {\n  chevronRight: \"chevron-right\",\n  chevronLeft: \"chevron-left\"\n};\nconst CSS = {\n  container: \"container\",\n  containerHasEndTabTitleOverflow: \"container--end-overflow\",\n  containerHasStartTabTitleOverflow: \"container--start-overflow\",\n  scrollButton: \"scroll-button\",\n  scrollButtonContainer: \"scroll-button-container\",\n  scrollBackwardContainerButton: \"scroll-button-container--backward\",\n  scrollForwardContainerButton: \"scroll-button-container--forward\",\n  tabTitleSlotWrapper: \"tab-titles-slot-wrapper\",\n  scale: (scale) => `scale-${scale}`,\n  position: (position) => `position-${position}`\n};\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{--calcite-internal-tab-nav-gradient-start-side: left;--calcite-internal-tab-nav-gradient-end-side: right;position:relative;display:flex}:host([bordered]):not([selected]) .container{background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([bordered]) calcite-button{--calcite-button-border-color: var(--calcite-tab-border-color, var(--calcite-color-border-1))}.scale-s{--calcite-internal-tab-nav-button-width: 24px;min-block-size:1.5rem}.scale-m{--calcite-internal-tab-nav-button-width: 32px;min-block-size:2rem}.scale-l{--calcite-internal-tab-nav-button-width: 44px;min-block-size:2.75rem}.calcite--rtl{--calcite-internal-tab-nav-gradient-start-side: right;--calcite-internal-tab-nav-gradient-end-side: left}.container--start-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%)}.container--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%)}.container--start-overflow.container--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%,transparent 51%),linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%,transparent 51%)}.container::-webkit-scrollbar{display:none;-ms-overflow-style:none;scrollbar-width:none}:host([layout=center]) ::slotted(calcite-tab-title){display:flex;flex-grow:1;flex-shrink:0;min-inline-size:auto;white-space:nowrap}:host([layout=center]) ::slotted(calcite-tab-title[selected]){overflow:unset}:host(:not([bordered])) .scale-l{--calcite-internal-tab-nav-gap: var(--calcite-spacing-xxl)}:host(:not([bordered])) .scale-m{--calcite-internal-tab-nav-gap: var(--calcite-spacing-xl)}:host(:not([bordered])) .scale-s{--calcite-internal-tab-nav-gap: var(--calcite-spacing-lg)}:host(:not([bordered])) .tab-titles-slot-wrapper{gap:var(--calcite-internal-tab-nav-gap)}:host([layout=center]:not([bordered])) .tab-titles-slot-wrapper{padding-inline:var(--calcite-spacing-xl)}.container,.tab-titles-slot-wrapper{display:flex;inline-size:100%;justify-content:flex-start;overflow:hidden;white-space:nowrap}.scroll-button-container{position:absolute;inset-block:0px}.scroll-button-container calcite-button{--calcite-button-text-color: var(--calcite-tab-text-color, var(--calcite-color-text-3));--calcite-button-background-color: var(--calcite-color-transparent);--calcite-offset-invert-focus: 1;block-size:var(--calcite-container-size-content-fluid)}.scroll-button-container calcite-button:hover .scroll-button-container calcite-button:focus{--calcite-button-background-color: var(--calcite-color-transparent-hover)}.scroll-button-container calcite-button:active{--calcite-button-background-color: var(--calcite-color-transparent-press)}.scroll-button-container--forward{inset-inline-end:0;z-index:var(--calcite-z-index)}.scroll-button-container--backward{inset-inline-start:0;z-index:var(--calcite-z-index)}:host(:not([bordered])) .scroll-button-container--backward:before,:host(:not([bordered])) .scroll-button-container--forward:before{background-color:var(--calcite-tab-border-color, var(--calcite-color-border-1));opacity:.5;content:\"\";inline-size:var(--calcite-border-width-sm);inset-block-start:var(--calcite-border-width-md);inset-block-end:var(--calcite-border-width-md);position:absolute}:host(:not([bordered])) .scroll-button-container--backward:before{inset-inline-end:0}:host(:not([bordered])) .scroll-button-container--forward:before{inset-inline-start:0}:host([hidden]){display:none}[hidden]{display:none}`;\nclass TabNav extends LitElement {\n  constructor() {\n    super();\n    this.effectiveDir = \"ltr\";\n    this.lastScrollWheelAxis = \"x\";\n    this.resizeObserver = createObserver(\"resize\", () => {\n      this.updateScrollingState();\n    });\n    this.makeFirstVisibleTabClosable = false;\n    this.messages = useT9n();\n    this.hasOverflowingEndTabTitle = false;\n    this.hasOverflowingStartTabTitle = false;\n    this.bordered = false;\n    this.layout = \"inline\";\n    this.position = \"bottom\";\n    this.scale = \"m\";\n    this.selectedTitle = null;\n    this.calciteInternalTabChange = createEvent({ cancelable: false });\n    this.calciteInternalTabNavSlotChange = createEvent();\n    this.calciteTabChange = createEvent({ cancelable: false });\n    this.listen(\"calciteInternalTabsFocusPrevious\", this.focusPreviousTabHandler);\n    this.listen(\"calciteInternalTabsFocusNext\", this.focusNextTabHandler);\n    this.listen(\"calciteInternalTabsFocusFirst\", this.focusFirstTabHandler);\n    this.listen(\"calciteInternalTabsFocusLast\", this.focusLastTabHandler);\n    this.listen(\"calciteInternalTabsActivate\", this.internalActivateTabHandler);\n    this.listen(\"calciteInternalTabsClose\", this.internalCloseTabHandler);\n    this.listen(\"calciteInternalTabTitleRegister\", this.updateTabTitles);\n    this.listenOn(document.body, \"calciteInternalTabChange\", this.globalInternalTabChangeHandler);\n  }\n  static {\n    this.properties = { hasOverflowingEndTabTitle: [16, {}, { state: true }], hasOverflowingStartTabTitle: [16, {}, { state: true }], selectedTabId: [16, {}, { state: true }], bordered: [7, {}, { reflect: true, type: Boolean }], layout: [3, {}, { reflect: true }], messageOverrides: [0, {}, { attribute: false }], position: 1, scale: 1, selectedTitle: [0, {}, { attribute: false }], storageId: [3, {}, { reflect: true }], syncId: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.parentTabsEl = this.el.closest(\"calcite-tabs\");\n    this.resizeObserver?.observe(this.el);\n  }\n  async load() {\n    const storageKey = `calcite-tab-nav-${this.storageId}`;\n    if (localStorage && this.storageId && localStorage.getItem(storageKey)) {\n      const storedTab = JSON.parse(localStorage.getItem(storageKey));\n      this.selectedTabId = storedTab;\n    }\n  }\n  willUpdate(changes) {\n    if (changes.has(\"selectedTitle\") && (this.hasUpdated || this.selectedTitle !== null)) {\n      this.calciteInternalTabChange.emit({\n        tab: this.selectedTabId\n      });\n    }\n    if (changes.has(\"selectedTabId\")) {\n      this.selectedTabIdChanged();\n    }\n    const { parentTabsEl } = this;\n    this.layout = parentTabsEl?.layout;\n    this.bordered = parentTabsEl?.bordered;\n    this.effectiveDir = getElementDir(this.el);\n  }\n  loaded() {\n    this.scrollTabTitleIntoView(this.selectedTitle, \"instant\");\n    if (this.tabTitles.length && this.tabTitles.every((title) => !title.selected) && !this.selectedTabId) {\n      this.tabTitles[0].getTabIdentifier().then((tab) => {\n        this.calciteInternalTabChange.emit({\n          tab\n        });\n      });\n    }\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.resizeObserver?.disconnect();\n  }\n  get enabledTabTitles() {\n    return filterDirectChildren(this.el, \"calcite-tab-title:not([disabled])\").filter((tabTitle) => !tabTitle.closed);\n  }\n  get scrollerButtonWidth() {\n    const { scale } = this;\n    return parseInt(scale === \"s\" ? calciteSize24 : scale === \"m\" ? calciteSize32 : calciteSize44);\n  }\n  get tabTitles() {\n    return filterDirectChildren(this.el, \"calcite-tab-title\");\n  }\n  focusPreviousTabHandler(event) {\n    this.handleTabFocus(event, event.target, \"previous\");\n  }\n  focusNextTabHandler(event) {\n    this.handleTabFocus(event, event.target, \"next\");\n  }\n  focusFirstTabHandler(event) {\n    this.handleTabFocus(event, event.target, \"first\");\n  }\n  focusLastTabHandler(event) {\n    this.handleTabFocus(event, event.target, \"last\");\n  }\n  internalActivateTabHandler(event) {\n    const activatedTabTitle = event.target;\n    const currentSelectedTabTitle = this.selectedTitle;\n    this.selectedTabId = event.detail.tab ? event.detail.tab : this.getIndexOfTabTitle(activatedTabTitle);\n    event.stopPropagation();\n    this.selectedTitle = activatedTabTitle;\n    if (currentSelectedTabTitle?.id !== activatedTabTitle.id && event.detail.userTriggered) {\n      this.calciteTabChange.emit();\n    }\n    this.scrollTabTitleIntoView(activatedTabTitle);\n  }\n  scrollTabTitleIntoView(activatedTabTitle, behavior = \"smooth\") {\n    if (!activatedTabTitle) {\n      return;\n    }\n    requestAnimationFrame(() => {\n      const isLTR = this.effectiveDir === \"ltr\";\n      const tabTitleContainer = this.tabTitleContainerEl;\n      const containerBounds = tabTitleContainer.getBoundingClientRect();\n      const tabTitleBounds = activatedTabTitle.getBoundingClientRect();\n      const scrollPosition = tabTitleContainer.scrollLeft;\n      const overflowingStartTabTitle = isLTR ? this.hasOverflowingStartTabTitle : this.hasOverflowingEndTabTitle;\n      const overflowingEndTabTitle = isLTR ? this.hasOverflowingEndTabTitle : this.hasOverflowingStartTabTitle;\n      if (tabTitleBounds.left < containerBounds.left + (overflowingStartTabTitle ? this.scrollerButtonWidth : 0)) {\n        const left = scrollPosition + (tabTitleBounds.left - containerBounds.left) - this.scrollerButtonWidth;\n        tabTitleContainer.scrollTo({ left, behavior });\n      } else if (tabTitleBounds.right > containerBounds.right - (overflowingEndTabTitle ? this.scrollerButtonWidth : 0)) {\n        const left = scrollPosition + (tabTitleBounds.right - containerBounds.right) + this.scrollerButtonWidth;\n        tabTitleContainer.scrollTo({ left, behavior });\n      }\n    });\n  }\n  internalCloseTabHandler(event) {\n    const closedTabTitleEl = event.target;\n    this.handleTabTitleClose(closedTabTitleEl);\n    event.stopPropagation();\n  }\n  async updateTabTitles(event) {\n    if (event.target.selected) {\n      this.selectedTabId = event.detail;\n      this.selectedTitle = await this.getTabTitleById(this.selectedTabId);\n    }\n  }\n  globalInternalTabChangeHandler(event) {\n    if (this.syncId && event.target !== this.el && event.target.syncId === this.syncId && this.selectedTabId !== event.detail.tab) {\n      this.selectedTabId = event.detail.tab;\n    }\n    event.stopPropagation();\n  }\n  async selectedTabIdChanged() {\n    await this.componentOnReady();\n    if (localStorage && this.storageId && this.selectedTabId !== void 0 && this.selectedTabId !== null) {\n      localStorage.setItem(`calcite-tab-nav-${this.storageId}`, JSON.stringify(this.selectedTabId));\n    }\n    this.calciteInternalTabChange.emit({\n      tab: this.selectedTabId\n    });\n  }\n  onTabTitleWheel(event) {\n    event.preventDefault();\n    const { deltaX, deltaY } = event;\n    const x = Math.abs(deltaX);\n    const y = Math.abs(deltaY);\n    let scrollBy;\n    if (x === y) {\n      scrollBy = this.lastScrollWheelAxis === \"x\" ? deltaX : deltaY;\n    } else if (x > y) {\n      scrollBy = deltaX;\n      this.lastScrollWheelAxis = \"x\";\n    } else {\n      scrollBy = deltaY;\n      this.lastScrollWheelAxis = \"y\";\n    }\n    const scrollByX = (this.effectiveDir === \"rtl\" ? -1 : 1) * scrollBy;\n    event.currentTarget.scrollBy(scrollByX, 0);\n  }\n  onSlotChange() {\n    this.intersectionObserver?.disconnect();\n    const tabTitles = this.tabTitles;\n    tabTitles.forEach((child) => {\n      this.intersectionObserver?.observe(child);\n    });\n    const visibleTabTitlesIndices = this.getVisibleTabTitlesIndices(tabTitles);\n    const totalVisibleTabTitles = visibleTabTitlesIndices.length;\n    if (totalVisibleTabTitles > 1 && this.makeFirstVisibleTabClosable) {\n      tabTitles[visibleTabTitlesIndices[0]].closable = true;\n      this.makeFirstVisibleTabClosable = false;\n    }\n    this.calciteInternalTabNavSlotChange.emit(tabTitles);\n  }\n  storeTabTitleWrapperRef(el) {\n    if (!el) {\n      return;\n    }\n    this.tabTitleContainerEl = el;\n    this.intersectionObserver = createObserver(\"intersection\", () => this.updateScrollingState(), {\n      root: el,\n      threshold: [0, 0.5, 1]\n    });\n  }\n  updateScrollingState() {\n    const tabTitleContainer = this.tabTitleContainerEl;\n    if (!tabTitleContainer) {\n      return;\n    }\n    let isOverflowStart;\n    let isOverflowEnd;\n    const scrollPosition = tabTitleContainer.scrollLeft;\n    const visibleWidth = tabTitleContainer.clientWidth;\n    const totalContentWidth = tabTitleContainer.scrollWidth;\n    if (this.effectiveDir === \"ltr\") {\n      isOverflowStart = scrollPosition > 0;\n      isOverflowEnd = scrollPosition + visibleWidth < totalContentWidth;\n    } else {\n      isOverflowStart = scrollPosition < 0;\n      isOverflowEnd = scrollPosition !== -(totalContentWidth - visibleWidth);\n    }\n    this.hasOverflowingStartTabTitle = isOverflowStart;\n    this.hasOverflowingEndTabTitle = isOverflowEnd;\n  }\n  scrollToTabTitles(direction) {\n    requestAnimationFrame(() => {\n      const tabTitleContainer = this.tabTitleContainerEl;\n      const containerBounds = tabTitleContainer.getBoundingClientRect();\n      const tabTitles = Array.from(this.el.querySelectorAll(\"calcite-tab-title\"));\n      const { effectiveDir } = this;\n      if (direction === \"forward\") {\n        tabTitles.reverse();\n      }\n      let closestToEdge = null;\n      tabTitles.forEach((tabTitle) => {\n        const tabTitleBounds = tabTitle.getBoundingClientRect();\n        const containerEndX = containerBounds.x + containerBounds.width;\n        const tabTitleEndX = tabTitleBounds.x + tabTitleBounds.width;\n        if (direction === \"forward\" && effectiveDir === \"ltr\" || direction === \"backward\" && effectiveDir === \"rtl\") {\n          const afterContainerEnd = tabTitleBounds.x > containerEndX;\n          if (afterContainerEnd) {\n            closestToEdge = tabTitle;\n          } else {\n            const crossingContainerEnd = tabTitleEndX > containerEndX && tabTitleBounds.x > containerBounds.x;\n            if (crossingContainerEnd) {\n              closestToEdge = tabTitle;\n            }\n          }\n        } else {\n          const beforeContainerStart = tabTitleEndX < containerBounds.x;\n          if (beforeContainerStart) {\n            closestToEdge = tabTitle;\n          } else {\n            const crossingContainerStart = tabTitleEndX < containerEndX && tabTitleBounds.x < containerBounds.x;\n            if (crossingContainerStart) {\n              closestToEdge = tabTitle;\n            }\n          }\n        }\n      });\n      if (closestToEdge) {\n        const { scrollerButtonWidth } = this;\n        const offsetAdjustment = direction === \"forward\" && effectiveDir === \"ltr\" || direction === \"backward\" && effectiveDir === \"rtl\" ? -scrollerButtonWidth : closestToEdge.offsetWidth - tabTitleContainer.clientWidth + scrollerButtonWidth;\n        const scrollTo = closestToEdge.offsetLeft + offsetAdjustment;\n        tabTitleContainer.scrollTo({\n          left: scrollTo,\n          behavior: \"smooth\"\n        });\n      }\n    });\n  }\n  scrollToNextTabTitles() {\n    this.scrollToTabTitles(\"forward\");\n  }\n  scrollToPreviousTabTitles() {\n    this.scrollToTabTitles(\"backward\");\n  }\n  handleTabFocus(event, el, destination) {\n    const focused = focusElementInGroup(this.enabledTabTitles, el, destination);\n    this.scrollTabTitleIntoView(focused, \"instant\");\n    event.stopPropagation();\n  }\n  getIndexOfTabTitle(el, tabTitles = this.tabTitles) {\n    return tabTitles.indexOf(el);\n  }\n  onTabTitleScroll() {\n    this.updateScrollingState();\n  }\n  async getTabTitleById(id) {\n    return Promise.all(this.tabTitles.map((el) => el.getTabIdentifier())).then((ids) => {\n      return this.tabTitles[ids.indexOf(id)];\n    });\n  }\n  getVisibleTabTitlesIndices(tabTitles) {\n    return tabTitles.reduce((tabTitleIndices, tabTitle, index) => !tabTitle.closed ? [...tabTitleIndices, index] : tabTitleIndices, []);\n  }\n  handleTabTitleClose(closedTabTitleEl) {\n    const { tabTitles } = this;\n    const selectionModified = closedTabTitleEl.selected;\n    const visibleTabTitlesIndices = this.getVisibleTabTitlesIndices(tabTitles);\n    const totalVisibleTabTitles = visibleTabTitlesIndices.length;\n    if (totalVisibleTabTitles === 1 && tabTitles[visibleTabTitlesIndices[0]].closable) {\n      this.makeFirstVisibleTabClosable = true;\n      tabTitles[visibleTabTitlesIndices[0]].closable = false;\n      this.selectedTabId = visibleTabTitlesIndices[0];\n      if (selectionModified) {\n        tabTitles[visibleTabTitlesIndices[0]].activateTab();\n      }\n    } else if (totalVisibleTabTitles > 1) {\n      const closedTabTitleIndex = tabTitles.findIndex((el) => el === closedTabTitleEl);\n      const nextTabTitleIndex = visibleTabTitlesIndices.find((value) => value > closedTabTitleIndex);\n      if (this.selectedTabId === closedTabTitleIndex) {\n        this.selectedTabId = nextTabTitleIndex ? nextTabTitleIndex : totalVisibleTabTitles - 1;\n        tabTitles[this.selectedTabId].activateTab();\n      }\n    }\n    requestAnimationFrame(() => {\n      tabTitles[this.selectedTabId].focus();\n    });\n  }\n  render() {\n    this.el.role = \"tablist\";\n    return html`<div class=${safeClassMap({\n      [CSS.container]: true,\n      [CSS.containerHasStartTabTitleOverflow]: !!this.hasOverflowingStartTabTitle,\n      [CSS.containerHasEndTabTitleOverflow]: !!this.hasOverflowingEndTabTitle,\n      [CSS.scale(this.scale)]: true,\n      [CSS.position(this.position)]: true,\n      [CSS_UTILITY.rtl]: this.effectiveDir === \"rtl\"\n    })}>${this.renderScrollButton(\"start\")}<div class=${safeClassMap({\n      [CSS.tabTitleSlotWrapper]: true\n    })} @scroll=${this.onTabTitleScroll} @wheel=${this.onTabTitleWheel} ${ref(this.storeTabTitleWrapperRef)}><slot @slotchange=${this.onSlotChange}></slot></div>${this.renderScrollButton(\"end\")}</div>`;\n  }\n  renderScrollButton(overflowDirection) {\n    const { bordered, messages, hasOverflowingStartTabTitle, hasOverflowingEndTabTitle, scale } = this;\n    const isEnd = overflowDirection === \"end\";\n    return keyed(overflowDirection, html`<div class=${safeClassMap({\n      [CSS.scrollButtonContainer]: true,\n      [CSS.scrollBackwardContainerButton]: !isEnd,\n      [CSS.scrollForwardContainerButton]: isEnd\n    })} .hidden=${isEnd && !hasOverflowingEndTabTitle || !isEnd && !hasOverflowingStartTabTitle}><calcite-button .appearance=${bordered ? \"outline-fill\" : \"transparent\"} .ariaLabel=${isEnd ? messages.nextTabTitles : messages.previousTabTitles} class=${safeClassMap({\n      [CSS.scrollButton]: true\n    })} icon-flip-rtl=both .iconStart=${isEnd ? ICON.chevronRight : ICON.chevronLeft} kind=neutral @click=${isEnd ? this.scrollToNextTabTitles : this.scrollToPreviousTabTitles} .scale=${scale} tabindex=-1></calcite-button></div>`);\n  }\n}\ncustomElement(\"calcite-tab-nav\", TabNav);\nexport {\n  TabNav\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { css, html } from \"lit\";\nimport { createRef, ref } from \"lit-html/directives/ref.js\";\nimport { LitElement, createEvent, safeClassMap } from \"@arcgis/lumina\";\nimport { d as focusElementInGroup, s as slotChangeGetAssignedElements } from \"../../chunks/dom.js\";\nimport { u as updateHostInteraction, I as InteractiveContainer } from \"../../chunks/interactive.js\";\nimport { u as useSetFocus } from \"../../chunks/useSetFocus.js\";\nconst CSS = {\n  container: \"container\"\n};\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex}.container{display:flex;flex-wrap:wrap;gap:var(--calcite-swatch-group-space, var(--calcite-spacing-sm))}:host([scale=s]) .container{gap:var(--calcite-swatch-group-space, var(--calcite-spacing-xs))}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`;\nclass SwatchGroup extends LitElement {\n  constructor() {\n    super();\n    this.items = [];\n    this.slotRefEl = createRef();\n    this.focusSetter = useSetFocus()(this);\n    this.disabled = false;\n    this.scale = \"m\";\n    this.selectedItems = [];\n    this.selectionMode = \"none\";\n    this.calciteSwatchGroupSelect = createEvent({ cancelable: false });\n    this.listen(\"calciteInternalSwatchKeyEvent\", this.calciteInternalSwatchKeyEventListener);\n    this.listen(\"calciteSwatchSelect\", this.calciteSwatchSelectListener);\n    this.listen(\"calciteInternalSwatchSelect\", this.calciteInternalSwatchSelectListener);\n    this.listen(\"calciteInternalSyncSelectedSwatches\", this.calciteInternalSyncSelectedSwatches);\n  }\n  static {\n    this.properties = { disabled: [7, {}, { reflect: true, type: Boolean }], label: 1, scale: [3, {}, { reflect: true }], selectedItems: [0, {}, { attribute: false }], selectionMode: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  async setFocus(options) {\n    return this.focusSetter(() => {\n      return this.el;\n    }, options);\n  }\n  willUpdate(changes) {\n    if (changes.has(\"selectionMode\") && (this.hasUpdated || this.selectionMode !== \"none\")) {\n      this.updateItems();\n    }\n  }\n  updated() {\n    updateHostInteraction(this);\n  }\n  calciteInternalSwatchKeyEventListener(event) {\n    if (event.composedPath().includes(this.el)) {\n      const interactiveItems = this.items?.filter((el) => !el.disabled);\n      switch (event.detail.key) {\n        case \"ArrowRight\":\n          focusElementInGroup(interactiveItems, event.detail.target, \"next\");\n          break;\n        case \"ArrowLeft\":\n          focusElementInGroup(interactiveItems, event.detail.target, \"previous\");\n          break;\n        case \"Home\":\n          focusElementInGroup(interactiveItems, event.detail.target, \"first\");\n          break;\n        case \"End\":\n          focusElementInGroup(interactiveItems, event.detail.target, \"last\");\n          break;\n      }\n    }\n    event.stopPropagation();\n  }\n  calciteSwatchSelectListener(event) {\n    if (event.composedPath().includes(this.el)) {\n      this.setSelectedItems(true, event.target);\n    }\n    event.stopPropagation();\n  }\n  calciteInternalSwatchSelectListener(event) {\n    if (event.composedPath().includes(this.el)) {\n      this.setSelectedItems(false, event.target);\n    }\n    event.stopPropagation();\n  }\n  calciteInternalSyncSelectedSwatches(event) {\n    if (event.composedPath().includes(this.el)) {\n      this.updateSelectedItems();\n      if (this.selectionMode === \"single\" && this.selectedItems.length > 1) {\n        this.setSelectedItems(false, event.target);\n      }\n    }\n    event.stopPropagation();\n  }\n  updateItems(event) {\n    const itemsFromSlot = this.slotRefEl.value?.assignedElements({ flatten: true }).filter((el) => el?.matches(\"calcite-swatch\"));\n    this.items = !event ? itemsFromSlot : slotChangeGetAssignedElements(event);\n    if (this.items?.length < 1) {\n      return;\n    }\n    this.items?.forEach((el) => {\n      el.interactive = true;\n      el.scale = this.scale;\n      el.selectionMode = this.selectionMode;\n      el.parentSwatchGroup = this.el;\n    });\n    this.setSelectedItems(false);\n  }\n  updateSelectedItems() {\n    this.selectedItems = this.items?.filter((el) => el.selected);\n  }\n  setSelectedItems(emit, elToMatch) {\n    if (elToMatch) {\n      this.items?.forEach((el) => {\n        const matchingEl = elToMatch === el;\n        switch (this.selectionMode) {\n          case \"multiple\":\n            if (matchingEl) {\n              el.selected = !el.selected;\n            }\n            break;\n          case \"single\":\n            el.selected = matchingEl ? !el.selected : false;\n            break;\n          case \"single-persist\":\n            el.selected = !!matchingEl;\n            break;\n        }\n      });\n    }\n    this.updateSelectedItems();\n    if (emit) {\n      this.calciteSwatchGroupSelect.emit();\n    }\n  }\n  render() {\n    const role = this.selectionMode === \"none\" || this.selectionMode === \"multiple\" ? \"group\" : \"radiogroup\";\n    const { disabled } = this;\n    return InteractiveContainer({ disabled, children: html`<div .ariaLabel=${this.label} class=${safeClassMap(CSS.container)} .role=${role}><slot @slotchange=${this.updateItems} ${ref(this.slotRefEl)}></slot></div>` });\n  }\n}\ncustomElement(\"calcite-swatch-group\", SwatchGroup);\nexport {\n  SwatchGroup\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { ref } from \"lit/directives/ref.js\";\nimport { keyed } from \"lit/directives/keyed.js\";\nimport { nothing, html } from \"lit-html\";\nimport { safeClassMap } from \"@arcgis/lumina\";\nimport { g as getIconScale } from \"./component.js\";\nconst CSS = {\n  button: \"x-button\",\n  buttonRound: \"x-button--round\"\n};\nconst XButton = ({ disabled, focusable, key, label, onClick, ref: ref$1, round = true, scale, title }) => keyed(key, html`<button .ariaLabel=${label} class=${safeClassMap({\n  [((scale2) => `x-button--${scale2}`)(scale)]: true,\n  [CSS.button]: true,\n  [CSS.buttonRound]: round\n})} .disabled=${disabled} @click=${onClick} .tabIndex=${focusable ? 0 : -1} title=${title ?? nothing} type=button ${ref(ref$1)}><calcite-icon icon=x .scale=${getIconScale(scale)}></calcite-icon></button>`);\nexport {\n  CSS as C,\n  XButton as X\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { keyed } from \"lit/directives/keyed.js\";\nimport { css, isServer, html } from \"lit\";\nimport { createRef, ref } from \"lit-html/directives/ref.js\";\nimport { LitElement, createEvent, safeClassMap, setAttribute } from \"@arcgis/lumina\";\nimport { n as nodeListToArray, g as getElementDir, t as toAriaBoolean } from \"../../chunks/dom.js\";\nimport { g as guid } from \"../../chunks/guid.js\";\nimport { u as updateHostInteraction, I as InteractiveContainer } from \"../../chunks/interactive.js\";\nimport { c as createObserver, u as updateRefObserver } from \"../../chunks/observers.js\";\nimport { g as getIconScale } from \"../../chunks/component.js\";\nimport { X as XButton } from \"../../chunks/XButton.js\";\nimport { u as useT9n } from \"../../chunks/useT9n.js\";\nconst CSS = {\n  container: \"container\",\n  containerBottom: \"container--bottom\",\n  content: \"content\",\n  contentHasText: \"content--has-text\",\n  iconEnd: \"icon-end\",\n  iconPresent: \"icon-present\",\n  iconStart: \"icon-start\",\n  titleIcon: \"calcite-tab-title--icon\",\n  scale: (scale) => `scale-${scale}`,\n  selectedIndicator: \"selected-indicator\"\n};\nconst idPrefix = \"calcite-tab-title\";\nconst IDS = {\n  host: (id) => `${idPrefix}-${id}`\n};\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block;outline:2px solid transparent;outline-offset:2px;margin-inline-start:0px}:host([layout=inline]){flex:0 1 auto}:host([layout=center]){flex:1 1 auto}.content{position:relative;margin-block-end:.125rem;box-sizing:border-box;display:flex;block-size:100%;align-items:center;justify-content:center}.scale-s .content{padding-block:.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}.scale-s .x-button{inline-size:1.25rem}.scale-m .content{padding-block:.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}.scale-m .x-button{inline-size:1.75rem}.scale-l .content{padding-block:.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}.scale-l .x-button{inline-size:2rem}:host([closable]) .content{border-block-end-color:transparent}:host([layout=inline]) .content,:host([layout=center]) .content{padding-inline:.25rem}:host([layout=center]) .scale-s,:host([layout=center]) .scale-m,:host([layout=center]) .scale-l{margin-block:0px;justify-content:center;text-align:center}:host([layout=center]) .scale-s .content,:host([layout=center]) .scale-m .content,:host([layout=center]) .scale-l .content{flex:1 1 auto;flex-grow:1}.container{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;align-content:center;justify-content:space-between;padding-inline:0px;font-size:var(--calcite-font-size--1);line-height:1rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;outline-color:transparent;color:var(--calcite-tab-text-color, var(--calcite-color-text-3));background-color:var(--calcite-tab-background-color, transparent)}.selected-indicator{position:absolute;display:block;block-size:.125rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;inset-block-end:0;inset-inline-start:0;inset-inline-end:0;inline-size:100%}:host([bordered][selected]) .container:after{position:absolute;display:block;block-size:.125rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;inset-block-end:-1px;inset-inline-start:0;inset-inline-end:0;inline-size:100%;content:\"\"}:host([bordered][selected]) .container.container--bottom:after{inset-block-start:-1px}:host([bordered][selected]:focus) .container:after{background:transparent}.container--bottom .selected-indicator{inset-block-end:unset;inset-block-start:0}:host(:not([bordered])) .container:hover,:host(:not([bordered])) .container:active{color:var(--calcite-color-text-1)}:host([bordered]:not([selected]):hover:not(:focus)) .selected-indicator{background-color:var(--calcite-color-foreground-2)}:host([bordered]:not([selected]):hover:not(:focus)) .container:not(.container--bottom) .selected-indicator{box-shadow:inset 0 1px var(--calcite-color-border-1)}:host([bordered]:not([selected]):hover:not(:focus)) .container.container--bottom .selected-indicator{box-shadow:inset 0 -1px var(--calcite-color-border-1)}:host([selected]:focus) .selected-indicator{block-size:4px}.calcite-tab-title--icon{position:relative;margin:0;display:inline-flex;align-self:center}.calcite-tab-title--icon svg{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.content--has-text .icon-start,.content--has-text .calcite-tab-title--icon.icon-start{color:var(--calcite-tab-icon-color-start, var(--calcite-icon-color))}.content--has-text .calcite-tab-title--icon.icon-start .icon-end,.content--has-text .calcite-tab-title--icon.icon-end{color:var(--calcite-tab-icon-color-end, var(--calcite-icon-color))}.content--has-text{padding:.25rem}.content--has-text .calcite-tab-title--icon.icon-start{margin-inline-end:var(--calcite-spacing-sm)}.content--has-text .calcite-tab-title--icon.icon-end{margin-inline-start:var(--calcite-spacing-sm)}.x-button{display:flex;block-size:100%;cursor:pointer;appearance:none;align-content:center;align-items:center;justify-content:center;align-self:center;border-style:none;background-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;outline-color:transparent;margin-inline-start:var(--calcite-spacing-sm);margin-inline-end:var(--calcite-spacing-px);block-size:calc(100% - var(--calcite-spacing-xxs));color:var(--calcite-tab-close-icon-color, var(--calcite-color-text-3));background-color:var(--calcite-tab-close-icon-background-color, var(--calcite-color-transparent))}.x-button:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus)}.x-button:focus,.x-button:hover,.x-button:active{color:var(--calcite-tab-close-icon-color-press, var(--calcite-color-text-1));background-color:var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container{border-color:transparent;border-inline-width:var(--calcite-spacing-px);border-inline-style:solid}:host([bordered]) .container:hover,:host([bordered]) .container:active{color:var(--calcite-color-text-1)}:host([bordered]) .container .x-button calcite-icon{margin-block-start:var(--calcite-spacing-px)}:host([bordered]) .container .x-button:focus,:host([bordered]) .container .x-button:hover,:host([bordered]) .container .x-button:active{box-shadow:0 2px 0 0 var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container.container--bottom{border-block-start-style:solid;border-block-start-width:1px}:host([bordered]) .container.container--bottom .selected-indicator{inset-block-start:unset;inset-block-end:0}:host([bordered]) .container.container--bottom .x-button{box-shadow:0 -2px 0 0 var(--calcite-tab-close-icon-background-color, var(--calcite-color-transparent))}:host([bordered]) .container.container--bottom .x-button:focus,:host([bordered]) .container.container--bottom .x-button:hover,:host([bordered]) .container.container--bottom .x-button:active{box-shadow:0 -2px 0 0 var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container.container--bottom .x-button calcite-icon{margin-block-end:var(--calcite-spacing-px)}:host([bordered]) .container:not(.container--bottom){border-block-end-style:solid;border-block-end-width:1px}:host([bordered]) .container:not(.container--bottom) .x-button{block-size:calc(100% - var(--calcite-spacing-px));margin-block-start:-1px}:host([bordered]) .container .selected-indicator{inset-block-start:0;inset-block-end:unset;inset-inline-start:-1px;inset-inline-end:0;inline-size:calc(100% + var(--calcite-spacing-base))}:host([bordered]) .container:host(:not([selected])) .container .x-button{box-shadow:0 2px 0 0 transparent}:host([bordered]) .container:host(:not([selected])):host(:hover) .container:not(.container--bottom){border-block-end-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) .selected-indicator{box-shadow:inset 0 var(--calcite-internal-tab-shadow-length) var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) :not(.container--bottom){--calcite-internal-tab-shadow-length: 1px}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) .container--bottom{--calcite-internal-tab-shadow-length: -1px}:host([bordered]) .container:hover{background-color:var(--calcite-tab-background-color-hover, var(--calcite-color-foreground-2));border-block-end-color:var(--calcite-color-border-1)}:host(:hover) .selected-indicator{background-color:var(--calcite-color-border-3)}:host([selected]) .selected-indicator,:host([selected]:hover) .selected-indicator,:host(:focus) .selected-indicator,:host(:active) .selected-indicator{background-color:var(--calcite-tab-accent-color-press, var(--calcite-color-brand))}:host([closed]){display:none}:host([selected]) .container{border-color:transparent;color:var(--calcite-tab-text-color, var(--calcite-color-text-1))}:host([selected][bordered]) .container{border-inline-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([selected][bordered]) .container:after{background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([selected][bordered]) .container:hover,:host([selected][bordered]) .container:active{background:transparent}:host(:focus) .container{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host(:focus) .container:focus-within{outline-color:transparent}:host([icon-start][icon-end]) .calcite-tab-title--icon:first-child{margin-inline-end:var(--calcite-spacing-sm)}:host([layout=inline][bordered]) .scale-m .content,:host([layout=center][bordered]) .scale-m .content{padding-inline:.75rem}:host([layout=inline][bordered]) .scale-s .content,:host([layout=center][bordered]) .scale-s .content{padding-inline:.5rem}:host([layout=inline][bordered]) .scale-l .content,:host([layout=center][bordered]) .scale-l .content{padding-inline:1rem}:host([layout=inline][closable]) .scale-s .content,:host([layout=inline][closable]) .scale-m .content,:host([layout=inline][closable]) .scale-l .content{padding-inline-end:0}@media (forced-colors: active){:host{outline-width:0;outline-offset:0}:host(:focus) .container{outline-color:highlight}:host([bordered][selected]) .container{border-block-end-style:none}:host([bordered][selected]) .container--bottom{border-block-start-style:none}.x-button{z-index:var(--calcite-z-index)}.selected-indicator{background-color:highlight}}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) .container{pointer-events:none;opacity:.5}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`;\nclass TabTitle extends LitElement {\n  constructor() {\n    super();\n    this.closeButtonRef = createRef();\n    this.guid = IDS.host(guid());\n    this.mutationObserver = createObserver(\"mutation\", () => this.updateHasText());\n    this.resizeObserver = createObserver(\"resize\", () => {\n      this.calciteInternalTabIconChanged.emit();\n    });\n    this.messages = useT9n();\n    this.hasText = false;\n    this.bordered = false;\n    this.closable = false;\n    this.closed = false;\n    this.disabled = false;\n    this.position = \"top\";\n    this.scale = \"m\";\n    this.selected = false;\n    this.calciteInternalTabIconChanged = createEvent({ cancelable: false });\n    this.calciteInternalTabTitleRegister = createEvent({ cancelable: false });\n    this.calciteInternalTabsActivate = createEvent({ cancelable: false });\n    this.calciteInternalTabsClose = createEvent({ cancelable: false });\n    this.calciteInternalTabsFocusFirst = createEvent({ cancelable: false });\n    this.calciteInternalTabsFocusLast = createEvent({ cancelable: false });\n    this.calciteInternalTabsFocusNext = createEvent({ cancelable: false });\n    this.calciteInternalTabsFocusPrevious = createEvent({ cancelable: false });\n    this.calciteTabsActivate = createEvent({ cancelable: false });\n    this.calciteTabsClose = createEvent({ cancelable: false });\n    this.listenOn(document.body, \"calciteInternalTabChange\", this.internalTabChangeHandler);\n    this.listen(\"click\", this.onClick);\n    this.listen(\"keydown\", this.keyDownHandler);\n  }\n  static {\n    this.properties = { controls: [16, {}, { state: true }], hasText: [16, {}, { state: true }], bordered: [7, {}, { reflect: true, type: Boolean }], closable: [7, {}, { reflect: true, type: Boolean }], closed: [7, {}, { reflect: true, type: Boolean }], disabled: [7, {}, { reflect: true, type: Boolean }], iconEnd: [3, {}, { reflect: true }], iconFlipRtl: [3, {}, { reflect: true }], iconStart: [3, {}, { reflect: true }], layout: [3, {}, { reflect: true }], messageOverrides: [0, {}, { attribute: false }], position: 1, scale: 1, selected: [7, {}, { reflect: true, type: Boolean }], tab: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  async activateTab(userTriggered = true) {\n    if (this.disabled || this.closed) {\n      return;\n    }\n    const payload = { tab: this.tab, userTriggered };\n    this.calciteInternalTabsActivate.emit(payload);\n    if (userTriggered) {\n      requestAnimationFrame(() => this.calciteTabsActivate.emit());\n    }\n  }\n  async getTabIdentifier() {\n    return this.tab ? this.tab : this.getTabIndex();\n  }\n  async getTabIndex() {\n    return Array.prototype.indexOf.call(nodeListToArray(this.el.parentElement.children).filter((el) => el.matches(\"calcite-tab-title\")), this.el);\n  }\n  _updateAriaInfo(tabIds = [], titleIds = []) {\n    this.controls = tabIds[titleIds.indexOf(this.el.id)] || null;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.setupTextContentObserver();\n    this.parentTabsEl = this.el.closest(\"calcite-tabs\");\n  }\n  async load() {\n    if (!isServer) {\n      this.updateHasText();\n    }\n    if (this.tab && this.selected) {\n      this.activateTab(false);\n    }\n  }\n  willUpdate(changes) {\n    if (changes.has(\"selected\") && (this.hasUpdated || this.selected !== false)) {\n      this.selectedHandler();\n    }\n    if (this.parentTabsEl) {\n      this.layout = this.parentTabsEl.layout;\n      this.bordered = this.parentTabsEl.bordered;\n    }\n  }\n  updated() {\n    updateHostInteraction(this);\n  }\n  async loaded() {\n    this.calciteInternalTabTitleRegister.emit(await this.getTabIdentifier());\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.mutationObserver?.disconnect();\n    document.body?.dispatchEvent(new CustomEvent(\"calciteTabTitleUnregister\", {\n      detail: this.el\n    }));\n    this.resizeObserver?.disconnect();\n  }\n  selectedHandler() {\n    if (this.selected) {\n      this.activateTab(false);\n    }\n  }\n  internalTabChangeHandler(event) {\n    const targetTabsEl = event.composedPath().find((el) => el.tagName === \"CALCITE-TABS\");\n    if (targetTabsEl !== this.parentTabsEl) {\n      return;\n    }\n    if (this.tab) {\n      this.selected = this.tab === event.detail.tab;\n    } else {\n      this.getTabIndex().then((index) => {\n        this.selected = index === event.detail.tab;\n      });\n    }\n    event.stopPropagation();\n  }\n  onClick() {\n    this.activateTab();\n  }\n  keyDownHandler(event) {\n    switch (event.key) {\n      case \" \":\n      case \"Enter\":\n        if (!event.composedPath().includes(this.closeButtonRef.value)) {\n          this.activateTab();\n          event.preventDefault();\n        }\n        break;\n      case \"ArrowRight\":\n        event.preventDefault();\n        if (getElementDir(this.el) === \"ltr\") {\n          this.calciteInternalTabsFocusNext.emit();\n        } else {\n          this.calciteInternalTabsFocusPrevious.emit();\n        }\n        break;\n      case \"ArrowLeft\":\n        event.preventDefault();\n        if (getElementDir(this.el) === \"ltr\") {\n          this.calciteInternalTabsFocusPrevious.emit();\n        } else {\n          this.calciteInternalTabsFocusNext.emit();\n        }\n        break;\n      case \"Home\":\n        event.preventDefault();\n        this.calciteInternalTabsFocusFirst.emit();\n        break;\n      case \"End\":\n        event.preventDefault();\n        this.calciteInternalTabsFocusLast.emit();\n        break;\n    }\n  }\n  closeClickHandler() {\n    this.closeTabTitleAndNotify();\n  }\n  updateHasText() {\n    this.hasText = this.el.textContent.trim().length > 0;\n  }\n  setContainerRef(el) {\n    updateRefObserver(this.resizeObserver, this.containerEl, el);\n    this.containerEl = el;\n  }\n  setupTextContentObserver() {\n    this.mutationObserver?.observe(this.el, { childList: true, subtree: true });\n  }\n  closeTabTitleAndNotify() {\n    this.closed = true;\n    this.calciteInternalTabsClose.emit({ tab: this.tab });\n    this.calciteTabsClose.emit();\n  }\n  render() {\n    const { el, closed } = this;\n    const id = el.id || this.guid;\n    const iconStartEl = html`<calcite-icon class=${safeClassMap({ [CSS.titleIcon]: true, [CSS.iconStart]: true })} .flipRtl=${this.iconFlipRtl === \"start\" || this.iconFlipRtl === \"both\"} .icon=${this.iconStart} .scale=${getIconScale(this.scale)}></calcite-icon>`;\n    const iconEndEl = html`<calcite-icon class=${safeClassMap({ [CSS.titleIcon]: true, [CSS.iconEnd]: true })} .flipRtl=${this.iconFlipRtl === \"end\" || this.iconFlipRtl === \"both\"} .icon=${this.iconEnd} .scale=${getIconScale(this.scale)}></calcite-icon>`;\n    setAttribute(this.el, \"aria-controls\", this.controls);\n    this.el.ariaSelected = toAriaBoolean(this.selected);\n    setAttribute(this.el, \"id\", id);\n    this.el.role = \"tab\";\n    setAttribute(this.el, \"tabIndex\", this.selected && !this.disabled ? 0 : -1);\n    return InteractiveContainer({ disabled: this.disabled, children: html`<div class=${safeClassMap({\n      [CSS.container]: true,\n      [CSS.containerBottom]: this.position === \"bottom\",\n      [CSS.iconPresent]: !!this.iconStart || !!this.iconEnd,\n      [CSS.scale(this.scale)]: true\n    })} .hidden=${closed} ${ref(this.setContainerRef)}><div class=${safeClassMap({ [CSS.content]: true, [CSS.contentHasText]: this.hasText })}>${this.iconStart ? iconStartEl : null}<slot></slot>${this.iconEnd ? iconEndEl : null}</div>${this.renderCloseButton()}<div class=${safeClassMap(CSS.selectedIndicator)}></div></div>` });\n  }\n  renderCloseButton() {\n    const { closable, messages } = this;\n    return closable ? keyed(\"close-button\", XButton({ disabled: false, focusable: true, label: messages.close, onClick: this.closeClickHandler, ref: this.closeButtonRef, round: false, scale: this.scale, title: messages.close })) : null;\n  }\n}\ncustomElement(\"calcite-tab-title\", TabTitle);\nexport {\n  TabTitle\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { css, html } from \"lit\";\nimport { LitElement, setAttribute, safeClassMap } from \"@arcgis/lumina\";\nimport { n as nodeListToArray } from \"../../chunks/dom.js\";\nimport { g as guid } from \"../../chunks/guid.js\";\nconst CSS = {\n  container: \"container\",\n  content: \"content\",\n  scale: (scale) => `scale-${scale}`\n};\nconst IDS = {\n  tabTitleId: (id) => `calcite-tab-title-${id}`\n};\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:none}:host,.container,.content{block-size:100%;inline-size:100%}:host([selected]),:host([selected]) .container{display:flex;flex-direction:column}.content{box-sizing:border-box;padding-block:var(--calcite-tab-content-space-y, var(--calcite-tab-content-block-padding, var(--calcite-internal-tab-content-space-y)))}.scale-s{--calcite-internal-tab-content-space-y: .25rem;font-size:var(--calcite-font-size-sm);line-height:1rem}.scale-m{--calcite-internal-tab-content-space-y: .5rem;font-size:var(--calcite-font-size);line-height:1rem}.scale-l{--calcite-internal-tab-content-space-y: .625rem;font-size:var(--calcite-font-size-md);line-height:1.25rem}.container{display:none;block-size:100%;inline-size:100%;overflow:auto;outline-color:transparent}.container:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([hidden]){display:none}[hidden]{display:none}`;\nclass Tab extends LitElement {\n  constructor() {\n    super();\n    this.guid = IDS.tabTitleId(guid());\n    this.scale = \"m\";\n    this.selected = false;\n    this.listenOn(document.body, \"calciteInternalTabChange\", this.internalTabChangeHandler);\n  }\n  static {\n    this.properties = { labeledBy: [16, {}, { state: true }], scale: 1, selected: [7, {}, { reflect: true, type: Boolean }], tab: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  async getTabIndex() {\n    return Array.prototype.indexOf.call(nodeListToArray(this.el.parentElement.children).filter((el) => el.matches(\"calcite-tab\")), this.el);\n  }\n  _updateAriaInfo(tabIds = [], titleIds = []) {\n    this.labeledBy = titleIds[tabIds.indexOf(this.el.id)] || null;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.parentTabsEl = this.el.closest(\"calcite-tabs\");\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    document.body?.dispatchEvent(new CustomEvent(\"calciteTabUnregister\", {\n      detail: this.el\n    }));\n  }\n  internalTabChangeHandler(event) {\n    const targetTabsEl = event.composedPath().find((el) => el.tagName === \"CALCITE-TABS\");\n    if (targetTabsEl !== this.parentTabsEl) {\n      return;\n    }\n    if (this.tab) {\n      this.selected = this.tab === event.detail.tab;\n    } else {\n      this.getTabIndex().then((index) => {\n        this.selected = index === event.detail.tab;\n      });\n    }\n    event.stopPropagation();\n  }\n  render() {\n    const id = this.el.id || this.guid;\n    setAttribute(this.el, \"aria-labelledby\", this.labeledBy);\n    setAttribute(this.el, \"id\", id);\n    return html`<div class=${safeClassMap({ [CSS.container]: true, [CSS.scale(this.scale)]: true })} role=tabpanel .tabIndex=${this.selected ? 0 : -1}><section class=${safeClassMap(CSS.content)}><slot></slot></section></div>`;\n  }\n}\ncustomElement(\"calcite-tab\", Tab);\nexport {\n  Tab\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nconst clamp = (value, min, max) => Math.max(min, Math.min(value, max));\nconst decimalNumberRegex = new RegExp(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\nconst decimalPlaces = (value) => {\n  const match = (\"\" + value).match(decimalNumberRegex);\n  if (!match || parseInt(match[1]) === 0) {\n    return 0;\n  }\n  return Math.max(\n    0,\n    // Number of digits right of decimal point.\n    (match[1] ? match[1].length : 0) - // Adjust for scientific notation.\n    (match[2] ? +match[2] : 0)\n  );\n};\nfunction getDecimals(value) {\n  if (decimalPlaces(value) > 0 && value > 0) {\n    return parseFloat(`0.${value.toString().split(\".\")[1]}`);\n  }\n  return value;\n}\nfunction remap(value, fromMin, fromMax, toMin, toMax) {\n  return (value - fromMin) * (toMax - toMin) / (fromMax - fromMin) + toMin;\n}\nfunction closeToRangeEdge(value, range, threshold) {\n  return value < threshold ? -1 : value > range - threshold ? 1 : 0;\n}\nexport {\n  closeToRangeEdge as a,\n  clamp as c,\n  decimalPlaces as d,\n  getDecimals as g,\n  remap as r\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { repeat } from \"lit/directives/repeat.js\";\nimport { keyed } from \"lit/directives/keyed.js\";\nimport Color from \"color\";\nimport { throttle } from \"es-toolkit\";\nimport { css, html, nothing } from \"lit\";\nimport { LitElement, createEvent, safeClassMap, safeStyleMap } from \"@arcgis/lumina\";\nimport { createRef, ref } from \"lit/directives/ref.js\";\nimport { i as isPrimaryPointerButton, g as getElementDir } from \"../../chunks/dom.js\";\nimport { u as updateHostInteraction, I as InteractiveContainer } from \"../../chunks/interactive.js\";\nimport { i as isActivationKey } from \"../../chunks/key.js\";\nimport { c as clamp, r as remap, a as closeToRangeEdge } from \"../../chunks/math.js\";\nimport { u as useT9n } from \"../../chunks/useT9n.js\";\nimport { u as useCancelable } from \"../../chunks/useCancelable.js\";\nimport { c as createObserver } from \"../../chunks/observers.js\";\nimport { u as useSetFocus } from \"../../chunks/useSetFocus.js\";\nimport { D as DEFAULT_COLOR, C as CSSColorMode, g as getSliderWidth, e as getColorFieldDimensions, S as STATIC_DIMENSIONS, n as normalizeHex, h as hexify, p as parseMode, f as DEFAULT_STORAGE_KEY_PREFIX, j as alphaCompatible, k as colorEqual, l as normalizeColor, O as OPACITY_LIMITS, R as RGB_LIMITS, H as HSV_LIMITS, m as CSS, o as opacityToAlpha, t as toAlphaMode, q as toNonAlphaMode, s as HUE_LIMIT_CONSTRAINED, u as normalizeAlpha, c as alphaToOpacity, v as SCOPE_SIZE, I as ICONS } from \"../../chunks/utils.js\";\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}calcite-input-number{--calcite-input-number-background-color: var(--calcite-color-picker-input-background-color);--calcite-input-number-border-color: var(--calcite-color-picker-input-border-color);--calcite-input-number-text-color: var(--calcite-color-picker-input-text-color);--calcite-input-prefix-background-color: var(--calcite-color-picker-input-prefix-background-color);--calcite-input-prefix-text-color: var(--calcite-color-picker-input-prefix-text-color);--calcite-input-suffix-background-color: var(--calcite-color-picker-input-suffix-background-color);--calcite-input-suffix-text-color: var(--calcite-color-picker-input-suffix-text-color)}calcite-button{--calcite-button-text-color: var(--calcite-color-picker-action-text-color);--calcite-button-text-color-press: var(--calcite-color-picker-action-text-color-press)}calcite-button:hover,calcite-button:focus{--calcite-button-text-color: var(--calcite-color-picker-action-text-color-hover)}calcite-button:active{--calcite-button-text-color: var(--calcite-color-picker-action-text-color-press)}calcite-tabs{--calcite-tab-border-color: var(--calcite-color-picker-tab-border-color);--calcite-tab-accent-color-press: var(--calcite-color-picker-tab-accent-color);--calcite-swatch-corner-radius: var(--calcite-color-picker-swatch-corner-radius);--calcite-tab-text-color: var(--calcite-color-picker-tab-text-color)}calcite-tab-title:hover{--calcite-color-text-1: var(--calcite-color-picker-tab-text-color-hover)}calcite-swatch{--calcite-swatch-corner-radius: var(--calcite-color-picker-swatch-corner-radius)}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal);inline-size:var(--calcite-internal-color-picker-min-width);min-inline-size:var(--calcite-internal-color-picker-min-width)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]){--calcite-internal-color-picker-min-width: 200px;--calcite-color-picker-spacing: var(--calcite-spacing-sm)}:host([scale=m]){--calcite-internal-color-picker-min-width: 240px;--calcite-color-picker-spacing: var(--calcite-spacing-md)}:host([scale=l]){--calcite-internal-color-picker-min-width: 304px;--calcite-color-picker-spacing: var(--calcite-spacing-lg);font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}:host([scale=l]) .control-section{display:flex;flex-direction:column;flex-wrap:wrap;align-items:baseline}:host([scale=l]) .color-hex-options{inline-size:100%;display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around}:host([scale=l]) .color-mode-container{flex-shrink:3}.container{display:flex;flex-direction:column;block-size:min-content;border:1px solid var(--calcite-color-picker-border-color, var(--calcite-color-border-1));background-color:var(--calcite-color-picker-background-color, var(--calcite-color-foreground-1));border-radius:var(--calcite-color-picker-corner-radius, var(--calcite-corner-radius-none));box-shadow:var(--calcite-color-picker-shadow, var(--calcite-shadow-none))}.control-and-scope{position:relative;display:flex;cursor:pointer;touch-action:none}.color-field,.control-and-scope{-webkit-user-select:none;user-select:none;border-radius:var(--calcite-color-picker-corner-radius, var(--calcite-corner-radius-none)) var(--calcite-color-picker-corner-radius, var(--calcite-corner-radius-none)) var(--calcite-corner-radius-none) var(--calcite-corner-radius-none)}.scope{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);block-size:1px;inline-size:1px;border-radius:9999px;background-color:transparent;font-size:var(--calcite-font-size--1);outline-color:transparent}.scope:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(var(--calcite-spacing-base) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))));outline-offset:6px}.hex-and-channels-group{display:flex;inline-size:100%;flex-direction:column;flex-wrap:wrap}.section{padding-block:0 var(--calcite-color-picker-spacing);padding-inline:var(--calcite-color-picker-spacing)}.section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}.sliders{display:flex;flex-direction:column;justify-content:space-between;margin-inline-start:var(--calcite-color-picker-spacing);gap:var(--calcite-spacing-xxs)}.preview-and-sliders{display:flex;align-items:center;padding:var(--calcite-color-picker-spacing)}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;color:var(--calcite-color-picker-text-color, var(--calcite-color-text-1))}.color-mode-container{padding-block-start:var(--calcite-color-picker-spacing)}.channels{display:flex}.channel{flex-grow:1}.channel[data-channel-index=\"3\"]{margin-inline-start:-1px;min-inline-size:81px}:host([scale=s]) .channel[data-channel-index=\"3\"]{min-inline-size:68px}:host([scale=l]) .channel[data-channel-index=\"3\"]{min-inline-size:88px}.saved-colors-buttons{display:flex}.swatch-group{margin-block-start:var(--calcite-color-picker-spacing)}:host([hidden]){display:none}[hidden]{display:none}`;\nconst throttleFor60FpsInMs = 16;\nclass ColorPicker extends LitElement {\n  constructor() {\n    super();\n    this._color = DEFAULT_COLOR;\n    this.colorFieldScopeRef = createRef();\n    this.hueScopeRef = createRef();\n    this.internalColorUpdateContext = null;\n    this.isActiveChannelInputEmpty = false;\n    this.mode = CSSColorMode.HEX;\n    this.opacityScopeRef = createRef();\n    this.resizeObserver = createObserver(\"resize\", (entries) => this.resizeCanvas(entries));\n    this.shiftKeyChannelAdjustment = 0;\n    this.upOrDownArrowKeyTracker = null;\n    this._valueWasSet = false;\n    this.messages = useT9n({ blocking: true });\n    this.captureColorFieldColor = (x, y, skipEqual = true) => {\n      const { width, height } = this.dynamicDimensions.colorField;\n      const saturation = Math.round(HSV_LIMITS.s / width * x);\n      const value = Math.round(HSV_LIMITS.v / height * (height - y));\n      this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(saturation).value(value), skipEqual);\n    };\n    this.cancelable = useCancelable()(this);\n    this.drawColorControls = throttle((type = \"all\") => {\n      if ((type === \"all\" || type === \"color-field\") && this.colorFieldRenderingContext) {\n        this.drawColorField();\n      }\n      if ((type === \"all\" || type === \"hue-slider\") && this.hueSliderRenderingContext) {\n        this.drawHueSlider();\n      }\n      if (this.alphaChannel && (type === \"all\" || type === \"opacity-slider\") && this.opacitySliderRenderingContext) {\n        this.drawOpacitySlider();\n      }\n    }, throttleFor60FpsInMs);\n    this.globalPointerMoveHandler = (event) => {\n      const { activeCanvasInfo, el } = this;\n      if (!el.isConnected || !activeCanvasInfo) {\n        return;\n      }\n      const { context, bounds } = activeCanvasInfo;\n      let samplingX;\n      let samplingY;\n      const { clientX, clientY } = event;\n      if (context.canvas.matches(\":hover\")) {\n        samplingX = clientX - bounds.x;\n        samplingY = clientY - bounds.y;\n      } else {\n        if (clientX < bounds.x + bounds.width && clientX > bounds.x) {\n          samplingX = clientX - bounds.x;\n        } else if (clientX < bounds.x) {\n          samplingX = 0;\n        } else {\n          samplingX = bounds.width;\n        }\n        if (clientY < bounds.y + bounds.height && clientY > bounds.y) {\n          samplingY = clientY - bounds.y;\n        } else if (clientY < bounds.y) {\n          samplingY = 0;\n        } else {\n          samplingY = bounds.height;\n        }\n      }\n      if (context === this.colorFieldRenderingContext) {\n        this.captureColorFieldColor(samplingX, samplingY, false);\n      } else if (context === this.hueSliderRenderingContext) {\n        this.captureHueSliderColor(samplingX);\n      } else if (context === this.opacitySliderRenderingContext) {\n        this.captureOpacitySliderValue(samplingX);\n      }\n    };\n    this.globalPointerUpHandler = (event) => {\n      if (!isPrimaryPointerButton(event)) {\n        return;\n      }\n      const previouslyDragging = this.activeCanvasInfo;\n      this.activeCanvasInfo = null;\n      this.drawColorControls();\n      if (previouslyDragging) {\n        this.calciteColorPickerChange.emit();\n      }\n    };\n    this.resizeCanvas = throttle((entries) => {\n      if (!this.hasUpdated) {\n        return;\n      }\n      const [first] = entries;\n      const availableWidth = Math.floor(first.contentBoxSize[0].inlineSize);\n      if (this.dynamicDimensions.colorField.width === availableWidth) {\n        return;\n      }\n      this.updateDynamicDimensions(availableWidth);\n      this.updateCanvasSize();\n      this.drawColorControls();\n    }, throttleFor60FpsInMs);\n    this.updateDynamicDimensions = (width) => {\n      const sliderDims = {\n        width: getSliderWidth(width, this.staticDimensions, this.alphaChannel),\n        height: this.staticDimensions.slider.height\n      };\n      this.dynamicDimensions = {\n        colorField: getColorFieldDimensions(width),\n        slider: sliderDims\n      };\n    };\n    this.focusSetter = useSetFocus()(this);\n    this.channelMode = \"rgb\";\n    this.channels = this.toChannels(DEFAULT_COLOR);\n    this.staticDimensions = STATIC_DIMENSIONS.m;\n    this.savedColors = [];\n    this.allowEmpty = false;\n    this.alphaChannel = false;\n    this.channelsDisabled = false;\n    this.clearable = false;\n    this.disabled = false;\n    this.fieldDisabled = false;\n    this.format = \"auto\";\n    this.hexDisabled = false;\n    this.savedDisabled = false;\n    this.scale = \"m\";\n    this.calciteColorPickerChange = createEvent({ cancelable: false });\n    this.calciteColorPickerInput = createEvent({ cancelable: false });\n    this.listen(\"keydown\", this.handleChannelKeyUpOrDown, { capture: true });\n    this.listen(\"keyup\", this.handleChannelKeyUpOrDown, { capture: true });\n  }\n  static {\n    this.properties = { channelMode: [16, {}, { state: true }], channels: [16, {}, { state: true }], colorFieldScopeLeft: [16, {}, { state: true }], colorFieldScopeTop: [16, {}, { state: true }], staticDimensions: [16, {}, { state: true }], hueScopeLeft: [16, {}, { state: true }], opacityScopeLeft: [16, {}, { state: true }], savedColors: [16, {}, { state: true }], scopeOrientation: [16, {}, { state: true }], allowEmpty: [7, {}, { reflect: true, type: Boolean }], alphaChannel: [5, {}, { type: Boolean }], channelsDisabled: [5, {}, { type: Boolean }], clearable: [7, {}, { reflect: true, type: Boolean }], color: [0, {}, { attribute: false }], disabled: [7, {}, { reflect: true, type: Boolean }], fieldDisabled: [7, {}, { reflect: true, type: Boolean }], format: [3, {}, { reflect: true }], hexDisabled: [5, {}, { type: Boolean }], messageOverrides: [0, {}, { attribute: false }], numberingSystem: [3, {}, { reflect: true }], savedDisabled: [7, {}, { reflect: true, type: Boolean }], scale: [3, {}, { reflect: true }], storageId: [3, {}, { reflect: true }], value: 1 };\n  }\n  static {\n    this.styles = styles;\n  }\n  get color() {\n    return this._color;\n  }\n  set color(color) {\n    const oldColor = this._color;\n    this._color = color;\n    this.handleColorChange(color, oldColor);\n  }\n  get value() {\n    return this._value;\n  }\n  set value(value) {\n    const oldValue = this._value;\n    this._value = value;\n    this.handleValueChange(value, oldValue);\n    this._valueWasSet = true;\n  }\n  async setFocus(options) {\n    return this.focusSetter(() => this.el, options);\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.observeResize();\n    this.cancelable.add([this.drawColorControls, this.resizeCanvas]);\n  }\n  async load() {\n    if (!this._valueWasSet) {\n      this._value ??= normalizeHex(hexify(DEFAULT_COLOR, this.alphaChannel));\n    }\n    this.handleAllowEmptyOrClearableChange();\n    const { isClearable, color, format, value } = this;\n    const willSetNoColor = isClearable && !value;\n    const parsedMode = parseMode(value);\n    const valueIsCompatible = willSetNoColor || format === \"auto\" && parsedMode || format === parsedMode;\n    const initialColor = willSetNoColor ? null : valueIsCompatible ? this.colorFromValue(value, isClearable, parsedMode) : color;\n    if (!valueIsCompatible) {\n      this.showIncompatibleColorWarning(value, format);\n    }\n    this.setMode(format, false);\n    this.internalColorSet(initialColor, false, \"initial\");\n    this.updateStaticDimensions(this.scale);\n    this.updateDynamicDimensions(STATIC_DIMENSIONS[this.scale].minWidth);\n    const storageKey = `${DEFAULT_STORAGE_KEY_PREFIX}${this.storageId}`;\n    if (this.storageId && localStorage.getItem(storageKey)) {\n      this.savedColors = JSON.parse(localStorage.getItem(storageKey));\n    }\n  }\n  willUpdate(changes) {\n    if (changes.has(\"allowEmpty\") && (this.hasUpdated || this.allowEmpty !== false) || changes.has(\"clearable\") && (this.hasUpdated || this.clearable !== false)) {\n      this.handleAllowEmptyOrClearableChange();\n    }\n    if (changes.has(\"alphaChannel\") && (this.hasUpdated || this.alphaChannel !== false)) {\n      this.handleAlphaChannelChange(this.alphaChannel);\n    }\n    if (this.hasUpdated && (changes.has(\"alphaChannel\") && this.alphaChannel !== false || changes.has(\"staticDimensions\") && this.staticDimensions !== STATIC_DIMENSIONS.m)) {\n      this.handleAlphaChannelDimensionsChange();\n    }\n    if (changes.has(\"alphaChannel\") && (this.hasUpdated || this.alphaChannel !== false) || changes.has(\"format\") && (this.hasUpdated || this.format !== \"auto\")) {\n      this.handleFormatOrAlphaChannelChange();\n    }\n    if (changes.has(\"scale\") && (this.hasUpdated || this.scale !== \"m\")) {\n      this.handleScaleChange(this.scale);\n    }\n  }\n  updated() {\n    updateHostInteraction(this);\n  }\n  loaded() {\n    this.handleAlphaChannelDimensionsChange();\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    window.removeEventListener(\"pointermove\", this.globalPointerMoveHandler);\n    window.removeEventListener(\"pointerup\", this.globalPointerUpHandler);\n    this.resizeObserver?.disconnect();\n  }\n  get baseColorFieldColor() {\n    return this.color || this.previousColor || DEFAULT_COLOR;\n  }\n  get effectiveSliderWidth() {\n    return this.dynamicDimensions.slider.width;\n  }\n  observeResize() {\n    this.resizeObserver?.observe(this.el);\n  }\n  handleAllowEmptyOrClearableChange() {\n    this.isClearable = this.clearable || this.allowEmpty;\n  }\n  handleAlphaChannelChange(alphaChannel) {\n    const { format } = this;\n    if (alphaChannel && format !== \"auto\" && !alphaCompatible(format)) {\n      console.warn(`ignoring alphaChannel as the current format (${format}) does not support alpha`);\n      this.alphaChannel = false;\n    }\n  }\n  handleAlphaChannelDimensionsChange() {\n    this.drawColorControls();\n  }\n  handleColorChange(color, oldColor) {\n    this.drawColorControls();\n    this.updateChannelsFromColor(color);\n    this.previousColor = oldColor;\n  }\n  handleFormatOrAlphaChannelChange() {\n    this.setMode(this.format);\n    this.internalColorSet(this.color, false, \"internal\");\n  }\n  handleScaleChange(scale = \"m\") {\n    this.updateStaticDimensions(scale);\n    this.updateCanvasSize();\n    this.drawColorControls();\n  }\n  handleValueChange(value, oldValue) {\n    const { isClearable, format } = this;\n    const checkMode = !isClearable || value;\n    let modeChanged = false;\n    if (checkMode) {\n      const nextMode = parseMode(value);\n      if (!nextMode || format !== \"auto\" && nextMode !== format) {\n        this.showIncompatibleColorWarning(value, format);\n        this._value = oldValue;\n        return;\n      }\n      modeChanged = this.mode !== nextMode;\n      this.setMode(nextMode, this.internalColorUpdateContext === null);\n    }\n    const dragging = this.activeCanvasInfo;\n    if (this.internalColorUpdateContext === \"initial\") {\n      return;\n    }\n    if (this.internalColorUpdateContext === \"user-interaction\") {\n      this.calciteColorPickerInput.emit();\n      if (!dragging) {\n        this.calciteColorPickerChange.emit();\n      }\n      return;\n    }\n    const color = this.colorFromValue(value, isClearable, this.mode);\n    const colorChanged = !colorEqual(color, this.color);\n    if (modeChanged || colorChanged) {\n      this.internalColorSet(color, this.alphaChannel && !(this.mode.endsWith(\"a\") || this.mode.endsWith(\"a-css\")) || this.internalColorUpdateContext === \"internal\", \"internal\");\n    }\n  }\n  colorFromValue(value, clearable = false, mode) {\n    if (clearable && !value) {\n      return null;\n    }\n    return Color(value != null && typeof value === \"object\" && alphaCompatible(mode) ? normalizeColor(value) : value);\n  }\n  handleTabActivate(event) {\n    this.channelMode = event.currentTarget.getAttribute(\"data-color-mode\");\n    this.updateChannelsFromColor(this.color);\n  }\n  handleColorFieldScopeKeyDown(event) {\n    const { key } = event;\n    const arrowKeyToXYOffset = {\n      ArrowUp: { x: 0, y: -10 },\n      ArrowRight: { x: 10, y: 0 },\n      ArrowDown: { x: 0, y: 10 },\n      ArrowLeft: { x: -10, y: 0 }\n    };\n    if (arrowKeyToXYOffset[key]) {\n      event.preventDefault();\n      this.scopeOrientation = key === \"ArrowDown\" || key === \"ArrowUp\" ? \"vertical\" : \"horizontal\";\n      this.captureColorFieldColor(this.colorFieldScopeLeft + arrowKeyToXYOffset[key].x || 0, this.colorFieldScopeTop + arrowKeyToXYOffset[key].y || 0, false);\n    }\n  }\n  handleHueScopeKeyDown(event) {\n    const modifier = event.shiftKey ? 10 : 1;\n    const { key } = event;\n    const arrowKeyToXOffset = {\n      ArrowUp: 1,\n      ArrowRight: 1,\n      ArrowDown: -1,\n      ArrowLeft: -1\n    };\n    if (arrowKeyToXOffset[key]) {\n      event.preventDefault();\n      const delta = arrowKeyToXOffset[key] * modifier;\n      const hue = this.baseColorFieldColor.hue();\n      const color = this.baseColorFieldColor.hue(hue + delta);\n      this.internalColorSet(color, false);\n    }\n  }\n  handleHexInputChange(event) {\n    event.stopPropagation();\n    const { isClearable, color } = this;\n    const input = event.target;\n    const hex = input.value;\n    if (isClearable && !hex) {\n      this.internalColorSet(null);\n      return;\n    }\n    const normalizedHex = color && normalizeHex(hexify(color, alphaCompatible(this.mode)));\n    if (hex !== normalizedHex) {\n      this.internalColorSet(Color(hex));\n    }\n  }\n  handleSavedColorSelect(event) {\n    const swatch = event.currentTarget;\n    this.internalColorSet(Color(swatch.color));\n  }\n  handleChannelInput(event) {\n    const input = event.currentTarget;\n    const channelIndex = Number(input.getAttribute(\"data-channel-index\"));\n    const isAlphaChannel = channelIndex === 3;\n    const limit = isAlphaChannel ? OPACITY_LIMITS.max : this.channelMode === \"rgb\" ? RGB_LIMITS[Object.keys(RGB_LIMITS)[channelIndex]] : HSV_LIMITS[Object.keys(HSV_LIMITS)[channelIndex]];\n    let inputValue;\n    if (!input.value) {\n      inputValue = \"\";\n      this.isActiveChannelInputEmpty = true;\n      this.upOrDownArrowKeyTracker = null;\n    } else {\n      const value = Number(input.value);\n      const adjustedValue = value + this.shiftKeyChannelAdjustment;\n      const clamped = clamp(adjustedValue, 0, limit);\n      inputValue = clamped.toString();\n    }\n    input.value = inputValue;\n    if (inputValue !== \"\" && this.shiftKeyChannelAdjustment !== 0) {\n      this.handleChannelChange(event);\n    } else if (inputValue !== \"\") {\n      this.handleChannelChange(event);\n    }\n  }\n  handleChannelBlur(event) {\n    const input = event.currentTarget;\n    const channelIndex = Number(input.getAttribute(\"data-channel-index\"));\n    const channels = [...this.channels];\n    const restoreValueDueToEmptyInput = !input.value && !this.isClearable;\n    if (restoreValueDueToEmptyInput) {\n      input.value = channels[channelIndex]?.toString();\n    }\n  }\n  handleChannelFocus(event) {\n    const input = event.currentTarget;\n    input.selectText();\n  }\n  handleChannelKeyUpOrDown(event) {\n    this.shiftKeyChannelAdjustment = 0;\n    const { key } = event;\n    if (key !== \"ArrowUp\" && key !== \"ArrowDown\" || !event.composedPath().some((node) => node.classList?.contains(CSS.channel))) {\n      return;\n    }\n    const { shiftKey } = event;\n    event.preventDefault();\n    if (!this.color) {\n      this.internalColorSet(this.previousColor);\n      event.stopPropagation();\n      return;\n    }\n    const complementaryBump = 9;\n    this.shiftKeyChannelAdjustment = key === \"ArrowUp\" && shiftKey ? complementaryBump : key === \"ArrowDown\" && shiftKey ? -complementaryBump : 0;\n    if (key === \"ArrowUp\") {\n      this.upOrDownArrowKeyTracker = \"up\";\n    }\n    if (key === \"ArrowDown\") {\n      this.upOrDownArrowKeyTracker = \"down\";\n    }\n  }\n  getChannelInputLimit(channelIndex) {\n    return this.channelMode === \"rgb\" ? RGB_LIMITS[Object.keys(RGB_LIMITS)[channelIndex]] : HSV_LIMITS[Object.keys(HSV_LIMITS)[channelIndex]];\n  }\n  handleChannelChange(event) {\n    const input = event.currentTarget;\n    const channelIndex = Number(input.getAttribute(\"data-channel-index\"));\n    const channels = [...this.channels];\n    const shouldClearChannels = this.isClearable && !input.value;\n    if (shouldClearChannels) {\n      this.channels = [null, null, null, null];\n      this.internalColorSet(null);\n      return;\n    }\n    const isAlphaChannel = channelIndex === 3;\n    if (this.isActiveChannelInputEmpty && this.upOrDownArrowKeyTracker) {\n      input.value = this.upOrDownArrowKeyTracker === \"up\" ? (channels[channelIndex] + 1 <= this.getChannelInputLimit(channelIndex) ? channels[channelIndex] + 1 : this.getChannelInputLimit(channelIndex)).toString() : (channels[channelIndex] - 1 >= 0 ? channels[channelIndex] - 1 : 0).toString();\n      this.isActiveChannelInputEmpty = false;\n      this.upOrDownArrowKeyTracker = null;\n    }\n    const value = input.value ? Number(input.value) : channels[channelIndex];\n    channels[channelIndex] = isAlphaChannel ? opacityToAlpha(value) : value;\n    this.updateColorFromChannels(channels);\n  }\n  handleSavedColorKeyDown(event) {\n    if (isActivationKey(event.key)) {\n      event.preventDefault();\n      this.handleSavedColorSelect(event);\n    }\n  }\n  handleColorFieldPointerDown(event) {\n    this.handleCanvasControlPointerDown(event, this.colorFieldRenderingContext, this.captureColorFieldColor, this.colorFieldScopeRef.value);\n  }\n  focusScope(focusEl) {\n    requestAnimationFrame(() => {\n      focusEl.focus();\n    });\n  }\n  handleHueSliderPointerDown(event) {\n    this.handleCanvasControlPointerDown(event, this.hueSliderRenderingContext, this.captureHueSliderColor, this.hueScopeRef.value);\n  }\n  handleOpacitySliderPointerDown(event) {\n    this.handleCanvasControlPointerDown(event, this.opacitySliderRenderingContext, this.captureOpacitySliderValue, this.opacityScopeRef.value);\n  }\n  handleCanvasControlPointerDown(event, renderingContext, captureValue, scopeNode) {\n    if (!isPrimaryPointerButton(event)) {\n      return;\n    }\n    window.addEventListener(\"pointermove\", this.globalPointerMoveHandler);\n    window.addEventListener(\"pointerup\", this.globalPointerUpHandler, {\n      once: true\n    });\n    this.activeCanvasInfo = {\n      context: renderingContext,\n      bounds: renderingContext.canvas.getBoundingClientRect()\n    };\n    captureValue.call(this, event.offsetX, event.offsetY);\n    this.focusScope(scopeNode);\n  }\n  handleKeyDown(event) {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n    }\n  }\n  showIncompatibleColorWarning(value, format) {\n    console.warn(`ignoring color value (${value}) as it is not compatible with the current format (${format})`);\n  }\n  setMode(format, warn = true) {\n    const mode = format === \"auto\" ? this.mode : format;\n    this.mode = this.ensureCompatibleMode(mode, warn);\n  }\n  ensureCompatibleMode(mode, warn) {\n    const { alphaChannel } = this;\n    const isAlphaCompatible = alphaCompatible(mode);\n    if (alphaChannel && !isAlphaCompatible) {\n      const alphaMode = toAlphaMode(mode);\n      if (warn) {\n        console.warn(`setting format to (${alphaMode}) as the provided one (${mode}) does not support alpha`);\n      }\n      return alphaMode;\n    }\n    if (!alphaChannel && isAlphaCompatible) {\n      const nonAlphaMode = toNonAlphaMode(mode);\n      if (warn) {\n        console.warn(`setting format to (${nonAlphaMode}) as the provided one (${mode}) does not support alpha`);\n      }\n      return nonAlphaMode;\n    }\n    return mode;\n  }\n  captureHueSliderColor(x) {\n    const hue = HUE_LIMIT_CONSTRAINED / this.effectiveSliderWidth * x;\n    this.internalColorSet(this.baseColorFieldColor.hue(hue), false);\n  }\n  captureOpacitySliderValue(x) {\n    const alpha = opacityToAlpha(OPACITY_LIMITS.max / this.effectiveSliderWidth * x);\n    this.internalColorSet(this.baseColorFieldColor.alpha(alpha), false);\n  }\n  internalColorSet(color, skipEqual = true, context = \"user-interaction\") {\n    if (skipEqual && colorEqual(color, this.color)) {\n      return;\n    }\n    this.internalColorUpdateContext = context;\n    this.color = color;\n    this.value = this.toValue(color);\n    this.internalColorUpdateContext = null;\n  }\n  toValue(color, format = this.mode) {\n    if (!color) {\n      return null;\n    }\n    const hexMode = \"hex\";\n    if (format.includes(hexMode)) {\n      const hasAlpha = format === CSSColorMode.HEXA;\n      return normalizeHex(hexify(color.round(), hasAlpha), hasAlpha);\n    }\n    if (format.includes(\"-css\")) {\n      const value = color[format.replace(\"-css\", \"\").replace(\"a\", \"\")]().round().string();\n      const needToInjectAlpha = (format.endsWith(\"a\") || format.endsWith(\"a-css\")) && color.alpha() === 1;\n      if (needToInjectAlpha) {\n        const model = value.slice(0, 3);\n        const values = value.slice(4, -1);\n        return `${model}a(${values}, ${color.alpha()})`;\n      }\n      return value;\n    }\n    const colorObject = (\n      /* Color() does not support hsva, hsla nor rgba, so we use the non-alpha mode */\n      color[toNonAlphaMode(format)]().round().object()\n    );\n    if (format.endsWith(\"a\")) {\n      return normalizeAlpha(colorObject);\n    }\n    return colorObject;\n  }\n  getSliderCapSpacing() {\n    const { staticDimensions: { slider: { height }, thumb: { radius } } } = this;\n    return radius * 2 - height;\n  }\n  updateStaticDimensions(scale = \"m\") {\n    this.staticDimensions = STATIC_DIMENSIONS[scale];\n  }\n  deleteColor() {\n    const colorToDelete = hexify(this.color, this.alphaChannel);\n    const inStorage = this.savedColors.indexOf(colorToDelete) > -1;\n    if (!inStorage) {\n      return;\n    }\n    const savedColors = this.savedColors.filter((color) => color !== colorToDelete);\n    this.savedColors = savedColors;\n    const storageKey = `${DEFAULT_STORAGE_KEY_PREFIX}${this.storageId}`;\n    if (this.storageId) {\n      localStorage.setItem(storageKey, JSON.stringify(savedColors));\n    }\n  }\n  saveColor() {\n    const colorToSave = hexify(this.color, this.alphaChannel);\n    const alreadySaved = this.savedColors.indexOf(colorToSave) > -1;\n    if (alreadySaved) {\n      return;\n    }\n    const savedColors = [...this.savedColors, colorToSave];\n    this.savedColors = savedColors;\n    const storageKey = `${DEFAULT_STORAGE_KEY_PREFIX}${this.storageId}`;\n    if (this.storageId) {\n      localStorage.setItem(storageKey, JSON.stringify(savedColors));\n    }\n  }\n  drawColorField() {\n    const context = this.colorFieldRenderingContext;\n    const { width, height } = this.dynamicDimensions.colorField;\n    context.fillStyle = this.baseColorFieldColor.hsv().saturationv(100).value(100).alpha(1).string();\n    context.fillRect(0, 0, width, height);\n    const whiteGradient = context.createLinearGradient(0, 0, width, 0);\n    whiteGradient.addColorStop(0, \"rgba(255,255,255,1)\");\n    whiteGradient.addColorStop(1, \"rgba(255,255,255,0)\");\n    context.fillStyle = whiteGradient;\n    context.fillRect(0, 0, width, height);\n    const blackGradient = context.createLinearGradient(0, 0, 0, height);\n    blackGradient.addColorStop(0, \"rgba(0,0,0,0)\");\n    blackGradient.addColorStop(1, \"rgba(0,0,0,1)\");\n    context.fillStyle = blackGradient;\n    context.fillRect(0, 0, width, height);\n    this.drawActiveColorFieldColor();\n  }\n  setCanvasContextSize(canvas, { height, width }) {\n    if (!canvas) {\n      return;\n    }\n    const devicePixelRatio = window.devicePixelRatio || 1;\n    canvas.width = width * devicePixelRatio;\n    canvas.height = height * devicePixelRatio;\n    canvas.style.height = `${height}px`;\n    canvas.style.width = `${width}px`;\n    const context = canvas.getContext(\"2d\");\n    context.scale(devicePixelRatio, devicePixelRatio);\n  }\n  initColorField(canvas) {\n    if (!canvas) {\n      return;\n    }\n    this.colorFieldRenderingContext = canvas.getContext(\"2d\");\n    this.updateCanvasSize(\"color-field\");\n    this.drawColorControls();\n  }\n  initHueSlider(canvas) {\n    if (!canvas) {\n      return;\n    }\n    this.hueSliderRenderingContext = canvas.getContext(\"2d\");\n    this.updateCanvasSize(\"hue-slider\");\n    this.drawHueSlider();\n  }\n  initOpacitySlider(canvas) {\n    if (!canvas) {\n      return;\n    }\n    this.opacitySliderRenderingContext = canvas.getContext(\"2d\");\n    this.updateCanvasSize(\"opacity-slider\");\n    this.drawOpacitySlider();\n  }\n  updateCanvasSize(context = \"all\") {\n    const { dynamicDimensions, staticDimensions } = this;\n    if (context === \"all\" || context === \"color-field\") {\n      this.setCanvasContextSize(this.colorFieldRenderingContext?.canvas, dynamicDimensions.colorField);\n    }\n    const adjustedSliderDimensions = {\n      width: this.effectiveSliderWidth,\n      height: staticDimensions.slider.height + (staticDimensions.thumb.radius - dynamicDimensions.slider.height / 2) * 2\n    };\n    if (context === \"all\" || context === \"hue-slider\") {\n      this.setCanvasContextSize(this.hueSliderRenderingContext?.canvas, adjustedSliderDimensions);\n    }\n    if (context === \"all\" || context === \"opacity-slider\") {\n      this.setCanvasContextSize(this.opacitySliderRenderingContext?.canvas, adjustedSliderDimensions);\n    }\n  }\n  drawActiveColorFieldColor() {\n    const { color } = this;\n    if (!color) {\n      return;\n    }\n    const hsvColor = color.hsv();\n    const { staticDimensions: { thumb: { radius } } } = this;\n    const { width, height } = this.dynamicDimensions.colorField;\n    const x = hsvColor.saturationv() / (HSV_LIMITS.s / width);\n    const y = height - hsvColor.value() / (HSV_LIMITS.v / height);\n    requestAnimationFrame(() => {\n      this.colorFieldScopeLeft = x;\n      this.colorFieldScopeTop = y;\n    });\n    this.drawThumb(this.colorFieldRenderingContext, radius, x, y, hsvColor, false);\n  }\n  drawThumb(context, radius, x, y, color, applyAlpha) {\n    const startAngle = 0;\n    const endAngle = 2 * Math.PI;\n    const outlineWidth = 1;\n    context.beginPath();\n    context.arc(x, y, radius, startAngle, endAngle);\n    context.fillStyle = \"#fff\";\n    context.fill();\n    context.strokeStyle = \"rgba(0,0,0,0.3)\";\n    context.lineWidth = outlineWidth;\n    context.stroke();\n    if (applyAlpha && color.alpha() < 1) {\n      const pattern = context.createPattern(this.getCheckeredBackgroundPattern(), \"repeat\");\n      context.beginPath();\n      context.arc(x, y, radius - 3, startAngle, endAngle);\n      context.fillStyle = pattern;\n      context.fill();\n    }\n    context.globalCompositeOperation = \"source-atop\";\n    context.beginPath();\n    context.arc(x, y, radius - 3, startAngle, endAngle);\n    const alpha = applyAlpha ? color.alpha() : 1;\n    context.fillStyle = color.rgb().alpha(alpha).string();\n    context.fill();\n    context.globalCompositeOperation = \"source-over\";\n  }\n  drawActiveHueSliderColor() {\n    const { color } = this;\n    if (!color) {\n      return;\n    }\n    const hsvColor = color.hsv().saturationv(100).value(100);\n    const { staticDimensions: { thumb: { radius } } } = this;\n    const width = this.effectiveSliderWidth;\n    const x = hsvColor.hue() / (HUE_LIMIT_CONSTRAINED / width);\n    const y = radius;\n    const sliderBoundX = this.getSliderBoundX(x, width, radius);\n    requestAnimationFrame(() => {\n      this.hueScopeLeft = sliderBoundX;\n    });\n    this.drawThumb(this.hueSliderRenderingContext, radius, sliderBoundX, y, hsvColor, false);\n  }\n  drawHueSlider() {\n    const context = this.hueSliderRenderingContext;\n    const { staticDimensions: { slider: { height }, thumb: { radius: thumbRadius } } } = this;\n    const x = 0;\n    const y = thumbRadius - height / 2;\n    const width = this.effectiveSliderWidth;\n    const gradient = context.createLinearGradient(0, 0, width, 0);\n    const hueSliderColorStopKeywords = [\n      \"red\",\n      \"yellow\",\n      \"lime\",\n      \"cyan\",\n      \"blue\",\n      \"magenta\",\n      \"#ff0004\"\n    ];\n    const offset = 1 / (hueSliderColorStopKeywords.length - 1);\n    let currentOffset = 0;\n    hueSliderColorStopKeywords.forEach((keyword) => {\n      gradient.addColorStop(currentOffset, Color(keyword).string());\n      currentOffset += offset;\n    });\n    context.clearRect(0, 0, width, height + this.getSliderCapSpacing() * 2);\n    this.drawSliderPath(context, height, width, x, y);\n    context.fillStyle = gradient;\n    context.fill();\n    context.strokeStyle = \"rgba(0,0,0,0.3)\";\n    context.lineWidth = 1;\n    context.stroke();\n    this.drawActiveHueSliderColor();\n  }\n  drawOpacitySlider() {\n    const context = this.opacitySliderRenderingContext;\n    const { baseColorFieldColor: previousColor, staticDimensions: { slider: { height }, thumb: { radius: thumbRadius } } } = this;\n    const x = 0;\n    const y = thumbRadius - height / 2;\n    const width = this.effectiveSliderWidth;\n    context.clearRect(0, 0, width, height + this.getSliderCapSpacing() * 2);\n    const gradient = context.createLinearGradient(0, y, width, 0);\n    const startColor = previousColor.rgb().alpha(0);\n    const midColor = previousColor.rgb().alpha(0.5);\n    const endColor = previousColor.rgb().alpha(1);\n    gradient.addColorStop(0, startColor.string());\n    gradient.addColorStop(0.5, midColor.string());\n    gradient.addColorStop(1, endColor.string());\n    this.drawSliderPath(context, height, width, x, y);\n    const pattern = context.createPattern(this.getCheckeredBackgroundPattern(), \"repeat\");\n    context.fillStyle = pattern;\n    context.fill();\n    context.fillStyle = gradient;\n    context.fill();\n    context.strokeStyle = \"rgba(0,0,0,0.3)\";\n    context.lineWidth = 1;\n    context.stroke();\n    this.drawActiveOpacitySliderColor();\n  }\n  drawSliderPath(context, height, width, x, y) {\n    const radius = height / 2 + 1;\n    context.beginPath();\n    context.moveTo(x + radius, y);\n    context.lineTo(x + width - radius, y);\n    context.quadraticCurveTo(x + width, y, x + width, y + radius);\n    context.lineTo(x + width, y + height - radius);\n    context.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n    context.lineTo(x + radius, y + height);\n    context.quadraticCurveTo(x, y + height, x, y + height - radius);\n    context.lineTo(x, y + radius);\n    context.quadraticCurveTo(x, y, x + radius, y);\n    context.closePath();\n  }\n  getCheckeredBackgroundPattern() {\n    if (this.checkerPattern) {\n      return this.checkerPattern;\n    }\n    const pattern = document.createElement(\"canvas\");\n    pattern.width = 10;\n    pattern.height = 10;\n    const patternContext = pattern.getContext(\"2d\");\n    patternContext.fillStyle = \"#ccc\";\n    patternContext.fillRect(0, 0, 10, 10);\n    patternContext.fillStyle = \"#fff\";\n    patternContext.fillRect(0, 0, 5, 5);\n    patternContext.fillRect(5, 5, 5, 5);\n    this.checkerPattern = pattern;\n    return pattern;\n  }\n  drawActiveOpacitySliderColor() {\n    const { color } = this;\n    if (!color) {\n      return;\n    }\n    const hsvColor = color;\n    const { staticDimensions: { thumb: { radius } } } = this;\n    const width = this.effectiveSliderWidth;\n    const x = alphaToOpacity(hsvColor.alpha()) / (OPACITY_LIMITS.max / width);\n    const y = radius;\n    const sliderBoundX = this.getSliderBoundX(x, width, radius);\n    requestAnimationFrame(() => {\n      this.opacityScopeLeft = sliderBoundX;\n    });\n    this.drawThumb(this.opacitySliderRenderingContext, radius, sliderBoundX, y, hsvColor, true);\n  }\n  getSliderBoundX(x, width, radius) {\n    const closeToEdge = closeToRangeEdge(x, width, radius);\n    return closeToEdge === 0 ? x : closeToEdge === -1 ? remap(x, 0, width, radius, radius * 2) : remap(x, 0, width, width - radius * 2, width - radius);\n  }\n  handleOpacityScopeKeyDown(event) {\n    const modifier = event.shiftKey ? 10 : 1;\n    const { key } = event;\n    const arrowKeyToXOffset = {\n      ArrowUp: 0.01,\n      ArrowRight: 0.01,\n      ArrowDown: -0.01,\n      ArrowLeft: -0.01\n    };\n    if (arrowKeyToXOffset[key]) {\n      event.preventDefault();\n      const delta = arrowKeyToXOffset[key] * modifier;\n      const alpha = this.baseColorFieldColor.alpha();\n      const color = this.baseColorFieldColor.alpha(alpha + delta);\n      this.internalColorSet(color, false);\n    }\n  }\n  updateColorFromChannels(channels) {\n    this.internalColorSet(Color(channels, this.channelMode));\n  }\n  updateChannelsFromColor(color) {\n    this.channels = color ? this.toChannels(color) : [null, null, null, null];\n  }\n  toChannels(color) {\n    const { channelMode } = this;\n    const channels = color[channelMode]().round().array();\n    if (channels.length === 3) {\n      channels.push(1);\n    }\n    return channels;\n  }\n  getAdjustedScopePosition(left, top) {\n    return [left - SCOPE_SIZE / 2, top - SCOPE_SIZE / 2];\n  }\n  render() {\n    const { channelsDisabled, color, colorFieldScopeLeft, colorFieldScopeTop, staticDimensions: { thumb: { radius: thumbRadius } }, fieldDisabled, hexDisabled, hueScopeLeft, messages, alphaChannel, opacityScopeLeft, savedColors, savedDisabled, scale, scopeOrientation } = this;\n    const sliderWidth = this.effectiveSliderWidth;\n    const selectedColorInHex = color ? hexify(color, alphaChannel) : null;\n    const hueTop = thumbRadius;\n    const hueLeft = hueScopeLeft ?? sliderWidth * DEFAULT_COLOR.hue() / HSV_LIMITS.h;\n    const opacityTop = thumbRadius;\n    const opacityLeft = opacityScopeLeft ?? sliderWidth * alphaToOpacity(DEFAULT_COLOR.alpha()) / OPACITY_LIMITS.max;\n    const noColor = color === void 0;\n    const vertical = scopeOrientation === \"vertical\";\n    const [adjustedColorFieldScopeLeft, adjustedColorFieldScopeTop] = this.getAdjustedScopePosition(colorFieldScopeLeft, colorFieldScopeTop);\n    const [adjustedHueScopeLeft, adjustedHueScopeTop] = this.getAdjustedScopePosition(hueLeft, hueTop);\n    const [adjustedOpacityScopeLeft, adjustedOpacityScopeTop] = this.getAdjustedScopePosition(opacityLeft, opacityTop);\n    return InteractiveContainer({ disabled: this.disabled, children: html`<div class=${safeClassMap(CSS.container)}>${fieldDisabled ? null : html`<div class=${safeClassMap(CSS.controlAndScope)}><canvas class=${safeClassMap(CSS.colorField)} @pointerdown=${this.handleColorFieldPointerDown} ${ref(this.initColorField)}></canvas><div .ariaLabel=${vertical ? messages.value : messages.saturation} .ariaValueMax=${vertical ? HSV_LIMITS.v : HSV_LIMITS.s} aria-valuemin=0 .ariaValueNow=${(vertical ? color?.saturationv() : color?.value()) || \"0\"} class=${safeClassMap({ [CSS.scope]: true, [CSS.colorFieldScope]: true })} @keydown=${this.handleColorFieldScopeKeyDown} role=slider style=${safeStyleMap({\n      top: `${adjustedColorFieldScopeTop || 0}px`,\n      left: `${adjustedColorFieldScopeLeft || 0}px`\n    })} tabindex=0 ${ref(this.colorFieldScopeRef)}></div></div>`}<div class=${safeClassMap(CSS.previewAndSliders)}><calcite-swatch class=${safeClassMap(CSS.preview)} .color=${selectedColorInHex} .label=${selectedColorInHex} .scale=${this.alphaChannel ? \"l\" : this.scale}></calcite-swatch><div class=${safeClassMap(CSS.sliders)}><div class=${safeClassMap(CSS.controlAndScope)}><canvas class=${safeClassMap({ [CSS.slider]: true, [CSS.hueSlider]: true })} @pointerdown=${this.handleHueSliderPointerDown} ${ref(this.initHueSlider)}></canvas><div .ariaLabel=${messages.hue} .ariaValueMax=${HSV_LIMITS.h} aria-valuemin=0 .ariaValueNow=${color?.round().hue() || DEFAULT_COLOR.round().hue()} class=${safeClassMap({ [CSS.scope]: true, [CSS.hueScope]: true })} @keydown=${this.handleHueScopeKeyDown} role=slider style=${safeStyleMap({\n      top: `${adjustedHueScopeTop}px`,\n      left: `${adjustedHueScopeLeft}px`\n    })} tabindex=0 ${ref(this.hueScopeRef)}></div></div>${alphaChannel ? html`<div class=${safeClassMap(CSS.controlAndScope)}><canvas class=${safeClassMap({ [CSS.slider]: true, [CSS.opacitySlider]: true })} @pointerdown=${this.handleOpacitySliderPointerDown} ${ref(this.initOpacitySlider)}></canvas><div .ariaLabel=${messages.opacity} .ariaValueMax=${OPACITY_LIMITS.max} .ariaValueMin=${OPACITY_LIMITS.min} .ariaValueNow=${(color || DEFAULT_COLOR).round().alpha()} class=${safeClassMap({ [CSS.scope]: true, [CSS.opacityScope]: true })} @keydown=${this.handleOpacityScopeKeyDown} role=slider style=${safeStyleMap({\n      top: `${adjustedOpacityScopeTop}px`,\n      left: `${adjustedOpacityScopeLeft}px`\n    })} tabindex=0 ${ref(this.opacityScopeRef)}></div></div>` : null}</div></div>${hexDisabled && channelsDisabled ? null : html`<div class=${safeClassMap({\n      [CSS.controlSection]: true,\n      [CSS.section]: true\n    })}><div class=${safeClassMap(CSS.hexAndChannelsGroup)}>${hexDisabled ? null : html`<div class=${safeClassMap(CSS.hexOptions)}><calcite-color-picker-hex-input .allowEmpty=${this.isClearable} .alphaChannel=${alphaChannel} class=${safeClassMap(CSS.control)} .messages=${messages} .numberingSystem=${this.numberingSystem} @calciteColorPickerHexInputChange=${this.handleHexInputChange} .scale=${scale} .value=${selectedColorInHex}></calcite-color-picker-hex-input></div>`}${channelsDisabled ? null : html`<calcite-tabs class=${safeClassMap({\n      [CSS.colorModeContainer]: true,\n      [CSS.splitSection]: true\n    })} .scale=${scale === \"l\" ? \"m\" : \"s\"}><calcite-tab-nav slot=title-group>${this.renderChannelsTabTitle(\"rgb\")}${this.renderChannelsTabTitle(\"hsv\")}</calcite-tab-nav>${this.renderChannelsTab(\"rgb\")}${this.renderChannelsTab(\"hsv\")}</calcite-tabs>`}</div></div>`}${savedDisabled ? null : html`<div class=${safeClassMap({ [CSS.savedColorsSection]: true, [CSS.section]: true })}><div class=${safeClassMap(CSS.header)}><label>${messages.saved}</label><div class=${safeClassMap(CSS.savedColorsButtons)}><calcite-button appearance=transparent class=${safeClassMap(CSS.deleteColor)} .disabled=${noColor} .iconStart=${ICONS.minus} kind=neutral .label=${messages.deleteColor} @click=${this.deleteColor} .scale=${scale} type=button></calcite-button><calcite-button appearance=transparent class=${safeClassMap(CSS.saveColor)} .disabled=${noColor} .iconStart=${ICONS.plus} kind=neutral .label=${messages.saveColor} @click=${this.saveColor} .scale=${scale} type=button></calcite-button></div></div>${savedColors.length > 0 ? html`<calcite-swatch-group class=${safeClassMap(CSS.swatchGroup)} .label=${messages.saved} .scale=${scale} selection-mode=none>${repeat(savedColors, (color2) => color2, (color2) => html`<calcite-swatch class=${safeClassMap(CSS.savedColor)} .color=${color2} .label=${color2} @click=${this.handleSavedColorSelect} @keydown=${this.handleSavedColorKeyDown} .scale=${scale} tabindex=0></calcite-swatch>`)}</calcite-swatch-group>` : null}</div>`}</div>` });\n  }\n  renderChannelsTabTitle(channelMode) {\n    const { channelMode: activeChannelMode, messages } = this;\n    const selected = channelMode === activeChannelMode;\n    const label = channelMode === \"rgb\" ? messages.rgb : messages.hsv;\n    return keyed(channelMode, html`<calcite-tab-title class=${safeClassMap(CSS.colorMode)} data-color-mode=${channelMode ?? nothing} @calciteTabsActivate=${this.handleTabActivate} .selected=${selected}>${label}</calcite-tab-title>`);\n  }\n  renderChannelsTab(channelMode) {\n    const { isClearable, channelMode: activeChannelMode, channels, messages, alphaChannel } = this;\n    const selected = channelMode === activeChannelMode;\n    const isRgb = channelMode === \"rgb\";\n    const channelAriaLabels = isRgb ? [messages.red, messages.green, messages.blue] : [messages.hue, messages.saturation, messages.value];\n    const direction = getElementDir(this.el);\n    const channelsToRender = alphaChannel ? channels : channels.slice(0, 3);\n    return keyed(channelMode, html`<calcite-tab class=${safeClassMap(CSS.control)} .selected=${selected}><div class=${safeClassMap(CSS.channels)} dir=ltr>${channelsToRender.map((channelValue, index) => {\n      const isAlphaChannel = index === 3;\n      if (isAlphaChannel) {\n        channelValue = isClearable && !channelValue ? channelValue : alphaToOpacity(channelValue);\n      }\n      return this.renderChannel(channelValue, index, channelAriaLabels[index], direction, isAlphaChannel ? \"%\" : \"\");\n    })}</div></calcite-tab>`);\n  }\n  renderChannel(value, index, ariaLabel, direction, suffix) {\n    return keyed(index, html`<calcite-input-number class=${safeClassMap(CSS.channel)} data-channel-index=${index ?? nothing} dir=${direction ?? nothing} .label=${ariaLabel} lang=${this.messages._lang ?? nothing} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.handleKeyDown} @calciteInputNumberChange=${this.handleChannelChange} @calciteInputNumberInput=${this.handleChannelInput} @calciteInternalInputNumberBlur=${this.handleChannelBlur} @calciteInternalInputNumberFocus=${this.handleChannelFocus} .scale=${this.scale === \"l\" ? \"m\" : \"s\"} style=${safeStyleMap({\n      marginLeft: index > 0 && !(this.scale === \"s\" && this.alphaChannel && index === 3) ? \"-1px\" : \"\"\n    })} .suffixText=${suffix} .value=${value?.toString()}></calcite-input-number>`);\n  }\n}\ncustomElement(\"calcite-color-picker\", ColorPicker);\nexport {\n  ColorPicker\n};\n"],"names":["throttle","func","throttleMs","signal","edges","pendingAt","debounced","debounce","throttled","args","colorNames","reverseNames","name","cs","string","prefix","value","model","abbr","hex","rgba","per","keyword","rgb","match","i","hexAlpha","i2","clamp","hsl","alpha","h","s","a","hwb","w","b","hexDouble","r","g","hsla","hwba","number_","min","max","string_","cssKeywords","reverseKeywords","key","convert","LAB_FT","srgbNonlinearTransform","c","cc","srgbNonlinearTransformInv","channels","labels","delta","l","rdif","gdif","bdif","v","diff","diffc","lp","mp","sp","aa","bb","k","m","y","comparativeDistance","x","reversed","currentClosestDistance","currentClosestKeyword","distance","z","xyz","t3","t2","t1","smin","lmin","sv","hsv","hi","f","p","q","t","vmin","sl","wh","bl","ratio","n","cmyk","oklab","ll","oklch","lab","y2","x2","z2","lch","hr","saturation","ansi","color","mult","rem","colorString","char","integer","chroma","hue","grayscale","hcg","pure","mg","apple","gray","buildGraph","graph","models","conversions","length","deriveBFS","fromModel","queue","current","adjacents","adjacent","node","link","from","to","wrapConversion","toModel","path","fn","cur","route","conversion","wrapRaw","wrappedFn","arg0","wrapRounded","result","routes","routeModels","skippedModels","hashedModelKeys","limiters","Color","object","newArray","zeroArray","keys","hashedKeys","limit","places","self","arguments_","roundToPlace","getset","maxfn","rgbArray","alphaHex","lum","element","chan","color2","lum1","lum2","contrastRatio","degrees","mixinColor","weight","color1","w1","w2","assertArray","roundTo","number","channel","modifier","array","CSS","DEFAULT_COLOR","DEFAULT_STORAGE_KEY_PREFIX","RGB_LIMITS","HSV_LIMITS","HUE_LIMIT_CONSTRAINED","OPACITY_LIMITS","STATIC_DIMENSIONS","calciteSpacingFixedSm","calciteSpacingFixedMd","calciteSpacingFixedXl","SCOPE_SIZE","ICONS","hexChar","shorthandHex","longhandHex","shorthandHexWithAlpha","longhandHexWithAlpha","alphaToOpacity","opacityToAlpha","opacity","isValidHex","hasAlpha","isShorthandHex","isLonghandHex","evaluateHex","pattern","normalizeHex","convertFromHexToHexa","rgbToHex","hexToRGB","isShorthand","hexify","rChars","numToHex","gChars","bChars","alphaChars","num","normalizeAlpha","colorObject","normalized","normalizeColor","alphaColorObject","first","second","third","fourth","enumify","CSSColorMode","ObjectColorMode","parseMode","colorValue","hasChannels","colorEqual","value1","value2","alphaCompatible","mode","toAlphaMode","toNonAlphaMode","borderWidthInPx","inlineSizeBorderTotalWidth","getSliderWidth","availableWidth","activeStaticDimensions","previewWidth","effectiveWidth","inlineSpaceAroundElements","getColorFieldDimensions","SLOTS","checkerSquareSize","CHECKER_DIMENSIONS","IDS","styles","css","Swatch","LitElement","createRef","useSetFocus","createEvent","options","changes","updateHostInteraction","selected","event","slotChangeHasAssignedElement","html","safeClassMap","scale","svg","svgSmMdPath","svgLgPath","internalColor","borderRadius","isEmpty","commonSwatchProps","hexa","clipPath","fill","height","rx","stroke","strokeWidth","width","id","keyed","nothing","disabled","disableInteraction","role","classes","InteractiveContainer","ref","customElement","InputText","useWatchAttributes","useT9n","stringOrBoolean","oldValue","connectLabel","connectForm","internalHiddenInputInputEvent","setRequestedIcon","disconnectLabel","disconnectForm","newValue","previousValue","submitForm","nativeEvent","composedPath","input","syncHiddenFormInput","newInputValue","committing","origin","dir","getElementDir","loader","inputClearButton","getIconScale","iconEl","prefixText","suffixText","childEl","getLabelText","live","InternalLabel","CSS_UTILITY","HiddenFormInputSlot","Validation","ColorPickerHexInput","allowEmpty","alphaChannel","inputValue","willClearValue","isLonghand","hexInputValue","altKey","ctrlKey","metaKey","shiftKey","hexInputRef","isNudgeKey","direction","bump","withModifiers","singleChar","validHexChar","emit","currentColor","nextColor","normalizedLonghand","changed","amount","context","nudgedChannels","rgbChannels","nudgedAlpha","hexLabel","messages","opacityInputValue","inputScale","Tabs","slotChangeGetAssignedElements","tabIds","titleIds","tabs","getSlotAssignedElements","el","tabDomIndexes","titleDomIndexes","ids","indexInDOM","registryIndex","position","nav","tab","title","calciteSize24","calciteSize32","calciteSize44","ICON","TabNav","createObserver","storageKey","storedTab","parentTabsEl","filterDirectChildren","tabTitle","activatedTabTitle","currentSelectedTabTitle","behavior","isLTR","tabTitleContainer","containerBounds","tabTitleBounds","scrollPosition","overflowingStartTabTitle","overflowingEndTabTitle","left","closedTabTitleEl","deltaX","deltaY","scrollBy","scrollByX","tabTitles","child","visibleTabTitlesIndices","isOverflowStart","isOverflowEnd","visibleWidth","totalContentWidth","effectiveDir","closestToEdge","containerEndX","tabTitleEndX","scrollerButtonWidth","offsetAdjustment","scrollTo","destination","focused","focusElementInGroup","tabTitleIndices","index","selectionModified","totalVisibleTabTitles","closedTabTitleIndex","nextTabTitleIndex","overflowDirection","bordered","hasOverflowingStartTabTitle","hasOverflowingEndTabTitle","isEnd","SwatchGroup","interactiveItems","itemsFromSlot","elToMatch","matchingEl","XButton","focusable","label","onClick","ref$1","round","scale2","idPrefix","TabTitle","guid","userTriggered","payload","nodeListToArray","updateRefObserver","closed","iconStartEl","iconEndEl","setAttribute","toAriaBoolean","closable","Tab","remap","fromMin","fromMax","toMin","toMax","closeToRangeEdge","range","threshold","throttleFor60FpsInMs","ColorPicker","entries","skipEqual","useCancelable","type","activeCanvasInfo","bounds","samplingX","samplingY","clientX","clientY","isPrimaryPointerButton","previouslyDragging","sliderDims","oldColor","isClearable","format","willSetNoColor","parsedMode","valueIsCompatible","initialColor","checkMode","modeChanged","nextMode","dragging","colorChanged","clearable","arrowKeyToXYOffset","arrowKeyToXOffset","normalizedHex","swatch","channelIndex","adjustedValue","complementaryBump","isAlphaChannel","isActivationKey","focusEl","renderingContext","captureValue","scopeNode","warn","isAlphaCompatible","alphaMode","nonAlphaMode","values","radius","colorToDelete","savedColors","colorToSave","whiteGradient","blackGradient","canvas","devicePixelRatio","dynamicDimensions","staticDimensions","adjustedSliderDimensions","hsvColor","applyAlpha","endAngle","outlineWidth","sliderBoundX","thumbRadius","gradient","hueSliderColorStopKeywords","offset","currentOffset","previousColor","startColor","midColor","endColor","patternContext","closeToEdge","channelMode","top","channelsDisabled","colorFieldScopeLeft","colorFieldScopeTop","fieldDisabled","hexDisabled","hueScopeLeft","opacityScopeLeft","savedDisabled","scopeOrientation","sliderWidth","selectedColorInHex","hueTop","hueLeft","opacityTop","opacityLeft","noColor","vertical","adjustedColorFieldScopeLeft","adjustedColorFieldScopeTop","adjustedHueScopeLeft","adjustedHueScopeTop","adjustedOpacityScopeLeft","adjustedOpacityScopeTop","safeStyleMap","repeat","activeChannelMode","channelAriaLabels","channelsToRender","channelValue","ariaLabel","suffix"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]}