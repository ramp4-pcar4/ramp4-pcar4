import{u as s}from"./workerHelper-C6PU7PQL.js";import{c as l,f as c,d as u,t as d,g as f,a as g}from"./edgeProcessing-D3ktGFXF.js";class p{async extract(e){const t=o(e),i=l(t),a=[t.data.buffer];return{result:h(i,a),transferList:a}}async extractComponentsEdgeLocations(e){const t=o(e),i=c(t.data,t.skipDeduplicate,t.indices,t.indicesLength),a=u(i,w),r=[];return{result:s(a.regular.instancesData,r),transferList:r}}async extractEdgeLocations(e){const t=o(e),i=c(t.data,t.skipDeduplicate,t.indices,t.indicesLength),a=u(i,m),r=[];return{result:s(a.regular.instancesData,r),transferList:r}}}function o(n){return{data:d.createView(n.dataBuffer),indices:n.indicesType==="Uint32Array"?new Uint32Array(n.indices):n.indicesType==="Uint16Array"?new Uint16Array(n.indices):n.indices,indicesLength:n.indicesLength,writerSettings:n.writerSettings,skipDeduplicate:n.skipDeduplicate}}function h(n,e){return e.push(n.regular.lodInfo.lengths.buffer),e.push(n.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:s(n.regular.instancesData,e),lodInfo:{lengths:n.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:s(n.silhouette.instancesData,e),lodInfo:{lengths:n.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:n.averageEdgeLength}}class L{allocate(e){return g.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,i){e.position0.setVec(t,i.position0),e.position1.setVec(t,i.position1)}}class D{allocate(e){return f.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,i){e.position0.setVec(t,i.position0),e.position1.setVec(t,i.position1),e.componentIndex.set(t,i.componentIndex)}}const m=new L,w=new D;export{p as default};
