var Pr,Jt=(Pr=typeof document<"u"?document.currentScript?.src:void 0,function(se={}){var Dr,Z,u=se,le=new Promise((r,e)=>{Dr=r,Z=e}),de=typeof window=="object",rr=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type;var fr,er,Sr=Object.assign({},u),Tr="./this.program",$="";function ue(r){return u.locateFile?u.locateFile(r,$):$+r}(de||rr)&&(rr?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),Pr&&($=Pr),$=$.startsWith("blob:")?"":$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1),rr&&(er=r=>{var e=new XMLHttpRequest;return e.open("GET",r,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),fr=async r=>{var e=await fetch(r,{credentials:"same-origin"});if(e.ok)return e.arrayBuffer();throw new Error(e.status+" : "+e.url)});var hr=u.print||console.log.bind(console),O=u.printErr||console.error.bind(console);Object.assign(u,Sr),Sr=null,u.arguments&&u.arguments,u.thisProgram&&(Tr=u.thisProgram);var tr,A,F,X,or,E,y,Mr,Cr,nr=u.wasmBinary,jr=!1;function Rr(){var r=tr.buffer;u.HEAP8=A=new Int8Array(r),u.HEAP16=X=new Int16Array(r),u.HEAPU8=F=new Uint8Array(r),u.HEAPU16=or=new Uint16Array(r),u.HEAP32=E=new Int32Array(r),u.HEAPU32=y=new Uint32Array(r),u.HEAPF32=Mr=new Float32Array(r),u.HEAPF64=Cr=new Float64Array(r)}var $r=[],Nr=[],xr=[];function ce(){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)me(u.preRun.shift());vr($r)}function fe(){u.noFSInit||n.initialized||n.init(),n.ignorePermissions=!1,vr(Nr)}function he(){if(u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;)ve(u.postRun.shift());vr(xr)}function me(r){$r.unshift(r)}function pe(r){Nr.unshift(r)}function ve(r){xr.unshift(r)}var W=0,G=null;function zr(r){W++,u.monitorRunDependencies?.(W)}function mr(r){if(W--,u.monitorRunDependencies?.(W),W==0&&G){var e=G;G=null,e()}}function ar(r){u.onAbort?.(r),O(r="Aborted("+r+")"),jr=!0,r+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(r);throw Z(e),e}var pr,v,b,we="data:application/octet-stream;base64,",Or=r=>r.startsWith(we);function ye(){var r="dxt_encoder.wasm";return Or(r)?r:ue(r)}function ge(r){if(r==pr&&nr)return new Uint8Array(nr);if(er)return er(r);throw"both async and sync fetching of the wasm failed"}async function Ee(r){if(!nr)try{var e=await fr(r);return new Uint8Array(e)}catch{}return ge(r)}async function ke(r,e){try{var t=await Ee(r);return await WebAssembly.instantiate(t,e)}catch(o){O(`failed to asynchronously prepare wasm: ${o}`),ar(o)}}async function be(r,e,t){if(!r&&typeof WebAssembly.instantiateStreaming=="function"&&!Or(e)&&typeof fetch=="function")try{var o=fetch(e,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(o,t)}catch(a){O(`wasm streaming compile failed: ${a}`),O("falling back to ArrayBuffer instantiation")}return ke(e,t)}function _e(){return{a:Kt}}async function Ae(){function r(a,i){return T=a.exports,tr=T.G,Rr(),qr=T.J,pe(T.H),mr(),T}function e(a){r(a.instance)}zr();var t=_e();if(u.instantiateWasm)try{return u.instantiateWasm(t,r)}catch(a){O(`Module.instantiateWasm callback failed with error: ${a}`),Z(a)}pr??=ye();try{var o=await be(nr,pr,t);return e(o),o}catch(a){return void Z(a)}}var vr=r=>{for(;r.length>0;)r.shift()(u)};u.noExitRuntime;class Fe{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){y[this.ptr+4>>2]=e}get_type(){return y[this.ptr+4>>2]}set_destructor(e){y[this.ptr+8>>2]=e}get_destructor(){return y[this.ptr+8>>2]}set_caught(e){e=e?1:0,A[this.ptr+12]=e}get_caught(){return A[this.ptr+12]!=0}set_rethrown(e){e=e?1:0,A[this.ptr+13]=e}get_rethrown(){return A[this.ptr+13]!=0}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){y[this.ptr+16>>2]=e}get_adjusted_ptr(){return y[this.ptr+16>>2]}}var Wr,Br,Ur,Pe=(r,e,t)=>{throw new Fe(r).init(e,t),r},De=()=>ar(""),Se=(r,e,t,o,a)=>{},Te=()=>{for(var r=new Array(256),e=0;e<256;++e)r[e]=String.fromCharCode(e);Wr=r},M=r=>{for(var e="",t=r;F[t];)e+=Wr[F[t++]];return e},H={},B={},ir={},S=r=>{throw new Br(r)},Lr=r=>{throw new Ur(r)},Me=(r,e,t)=>{function o(l){var d=t(l);d.length!==r.length&&Lr("Mismatched type converter count");for(var c=0;c<r.length;++c)N(r[c],d[c])}r.forEach(l=>ir[l]=e);var a=new Array(e.length),i=[],s=0;e.forEach((l,d)=>{B.hasOwnProperty(l)?a[d]=B[l]:(i.push(l),H.hasOwnProperty(l)||(H[l]=[]),H[l].push(()=>{a[d]=B[l],++s===i.length&&o(a)}))}),i.length===0&&o(a)};function Ce(r,e,t={}){var o=e.name;if(r||S(`type "${o}" must have a positive integer typeid pointer`),B.hasOwnProperty(r)){if(t.ignoreDuplicateRegistrations)return;S(`Cannot register type '${o}' twice`)}if(B[r]=e,delete ir[r],H.hasOwnProperty(r)){var a=H[r];delete H[r],a.forEach(i=>i())}}function N(r,e,t={}){return Ce(r,e,t)}var U=8,je=(r,e,t,o)=>{N(r,{name:e=M(e),fromWireType:function(a){return!!a},toWireType:function(a,i){return i?t:o},argPackAdvance:U,readValueFromPointer:function(a){return this.fromWireType(F[a])},destructorFunction:null})},wr=[],x=[],yr=r=>{r>9&&--x[r+1]===0&&(x[r]=void 0,wr.push(r))},Re=()=>x.length/2-5-wr.length,$e=()=>{x.push(0,1,void 0,1,null,1,!0,1,!1,1),u.count_emval_handles=Re},P={toValue:r=>(r||S("Cannot use deleted val. handle = "+r),x[r]),toHandle:r=>{switch(r){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const e=wr.pop()||x.length;return x[e]=r,x[e+1]=1,e}}}};function gr(r){return this.fromWireType(y[r>>2])}var Ne={name:"emscripten::val",fromWireType:r=>{var e=P.toValue(r);return yr(r),e},toWireType:(r,e)=>P.toHandle(e),argPackAdvance:U,readValueFromPointer:gr,destructorFunction:null},xe=r=>N(r,Ne),ze=(r,e)=>{switch(e){case 4:return function(t){return this.fromWireType(Mr[t>>2])};case 8:return function(t){return this.fromWireType(Cr[t>>3])};default:throw new TypeError(`invalid float width (${e}): ${r}`)}},Oe=(r,e,t)=>{N(r,{name:e=M(e),fromWireType:o=>o,toWireType:(o,a)=>a,argPackAdvance:U,readValueFromPointer:ze(e,t),destructorFunction:null})},sr=(r,e)=>Object.defineProperty(e,"name",{value:r}),Hr=r=>{for(;r.length;){var e=r.pop();r.pop()(e)}};function Ir(r){for(var e=1;e<r.length;++e)if(r[e]!==null&&r[e].destructorFunction===void 0)return!0;return!1}function Vr(r,e){if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var t=sr(r.name||"unknownFunctionName",function(){});t.prototype=r.prototype;var o=new t,a=r.apply(o,e);return a instanceof Object?a:o}function We(r,e,t,o){for(var a=Ir(r),i=r.length-2,s=[],l=["fn"],d=0;d<i;++d)s.push(`arg${d}`),l.push(`arg${d}Wired`);s=s.join(","),l=l.join(",");var c=`return function (${s}) {
`;a&&(c+=`var destructors = [];
`);var f=a?"destructors":"null",h=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];for(d=0;d<i;++d)c+=`var arg${d}Wired = argType${d}['toWireType'](${f}, arg${d});
`,h.push(`argType${d}`);if(c+=(t||o?"var rv = ":"")+`invoker(${l});
`,a)c+=`runDestructors(destructors);
`;else for(d=2;d<r.length;++d){var m=d===1?"thisWired":"arg"+(d-2)+"Wired";r[d].destructorFunction!==null&&(c+=`${m}_dtor(${m});
`,h.push(`${m}_dtor`))}return t&&(c+=`var ret = retType['fromWireType'](rv);
return ret;
`),[h,c+=`}
`]}function Be(r,e,t,o,a,i){var s=e.length;s<2&&S("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var l=e[1]!==null&&t!==null,d=Ir(e),c=e[0].name!=="void",f=[r,S,o,a,Hr,e[0],e[1]],h=0;h<s-2;++h)f.push(e[h+2]);if(!d)for(h=2;h<e.length;++h)e[h].destructorFunction!==null&&f.push(e[h].destructorFunction);let[m,w]=We(e,l,c,i);m.push(w);var k=Vr(Function,m)(...f);return sr(r,k)}var qr,Xr,Ue=(r,e,t)=>{if(r[e].overloadTable===void 0){var o=r[e];r[e]=function(...a){return r[e].overloadTable.hasOwnProperty(a.length)||S(`Function '${t}' called with an invalid number of arguments (${a.length}) - expects one of (${r[e].overloadTable})!`),r[e].overloadTable[a.length].apply(this,a)},r[e].overloadTable=[],r[e].overloadTable[o.argCount]=o}},Le=(r,e,t)=>{u.hasOwnProperty(r)?((t===void 0||u[r].overloadTable!==void 0&&u[r].overloadTable[t]!==void 0)&&S(`Cannot register public name '${r}' twice`),Ue(u,r,r),u[r].overloadTable.hasOwnProperty(t)&&S(`Cannot register multiple overloads of a function with the same number of arguments (${t})!`),u[r].overloadTable[t]=e):(u[r]=e,u[r].argCount=t)},He=(r,e)=>{for(var t=[],o=0;o<r;o++)t.push(y[e+4*o>>2]);return t},Ie=(r,e,t)=>{u.hasOwnProperty(r)||Lr("Replacing nonexistent public symbol"),u[r].overloadTable!==void 0&&t!==void 0?u[r].overloadTable[t]=e:(u[r]=e,u[r].argCount=t)},Ve=(r,e,t)=>(r=r.replace(/p/g,"i"),(0,u["dynCall_"+r])(e,...t)),lr=[],Gr=r=>{var e=lr[r];return e||(r>=lr.length&&(lr.length=r+1),lr[r]=e=qr.get(r)),e},qe=(r,e,t=[])=>r.includes("j")?Ve(r,e,t):Gr(e)(...t),Xe=(r,e)=>(...t)=>qe(r,e,t),Ge=(r,e)=>{function t(){return r.includes("j")?Xe(r,e):Gr(e)}r=M(r);var o=t();return typeof o!="function"&&S(`unknown function pointer with signature ${r}: ${e}`),o},Ke=(r,e)=>{var t=sr(e,function(o){this.name=e,this.message=o;var a=new Error(o).stack;a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},t},Kr=r=>{var e=ae(r),t=M(e);return z(e),t},Je=(r,e)=>{var t=[],o={};function a(i){o[i]||B[i]||(ir[i]?ir[i].forEach(a):(t.push(i),o[i]=!0))}throw e.forEach(a),new Xr(`${r}: `+t.map(Kr).join([", "]))},Qe=r=>{const e=(r=r.trim()).indexOf("(");return e!==-1?r.substr(0,e):r},Ye=(r,e,t,o,a,i,s,l)=>{var d=He(e,t);r=M(r),r=Qe(r),a=Ge(o,a),Le(r,function(){Je(`Cannot call ${r} due to unbound types`,d)},e-1),Me([],d,c=>{var f=[c[0],null].concat(c.slice(1));return Ie(r,Be(r,f,null,a,i,s),e-1),[]})},Ze=(r,e,t)=>{switch(e){case 1:return t?o=>A[o]:o=>F[o];case 2:return t?o=>X[o>>1]:o=>or[o>>1];case 4:return t?o=>E[o>>2]:o=>y[o>>2];default:throw new TypeError(`invalid integer width (${e}): ${r}`)}},rt=(r,e,t,o,a)=>{e=M(e);var i=c=>c;if(o===0){var s=32-8*t;i=c=>c<<s>>>s}var l=e.includes("unsigned"),d=(c,f)=>{};N(r,{name:e,fromWireType:i,toWireType:l?function(c,f){return d(f,this.name),f>>>0}:function(c,f){return d(f,this.name),f},argPackAdvance:U,readValueFromPointer:Ze(e,t,o!==0),destructorFunction:null})},et=(r,e,t)=>{var o=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function a(i){var s=y[i>>2],l=y[i+4>>2];return new o(A.buffer,l,s)}N(r,{name:t=M(t),fromWireType:a,argPackAdvance:U,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})},Er=(r,e,t,o)=>{if(!(o>0))return 0;for(var a=t,i=t+o-1,s=0;s<r.length;++s){var l=r.charCodeAt(s);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&r.charCodeAt(++s)),l<=127){if(t>=i)break;e[t++]=l}else if(l<=2047){if(t+1>=i)break;e[t++]=192|l>>6,e[t++]=128|63&l}else if(l<=65535){if(t+2>=i)break;e[t++]=224|l>>12,e[t++]=128|l>>6&63,e[t++]=128|63&l}else{if(t+3>=i)break;e[t++]=240|l>>18,e[t++]=128|l>>12&63,e[t++]=128|l>>6&63,e[t++]=128|63&l}}return e[t]=0,t-a},K=(r,e,t)=>Er(r,F,e,t),kr=r=>{for(var e=0,t=0;t<r.length;++t){var o=r.charCodeAt(t);o<=127?e++:o<=2047?e+=2:o>=55296&&o<=57343?(e+=4,++t):e+=3}return e},Jr=typeof TextDecoder<"u"?new TextDecoder:void 0,I=(r,e=0,t=NaN)=>{for(var o=e+t,a=e;r[a]&&!(a>=o);)++a;if(a-e>16&&r.buffer&&Jr)return Jr.decode(r.subarray(e,a));for(var i="";e<a;){var s=r[e++];if(128&s){var l=63&r[e++];if((224&s)!=192){var d=63&r[e++];if((s=(240&s)==224?(15&s)<<12|l<<6|d:(7&s)<<18|l<<12|d<<6|63&r[e++])<65536)i+=String.fromCharCode(s);else{var c=s-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&s)<<6|l)}else i+=String.fromCharCode(s)}return i},Qr=(r,e)=>r?I(F,r,e):"",tt=(r,e)=>{N(r,{name:e=M(e),fromWireType(t){for(var o,a=y[t>>2],i=t+4,s=i,l=0;l<=a;++l){var d=i+l;if(l==a||F[d]==0){var c=Qr(s,d-s);o===void 0?o=c:(o+="\0",o+=c),s=d+1}}return z(t),o},toWireType(t,o){var a;o instanceof ArrayBuffer&&(o=new Uint8Array(o));var i=typeof o=="string";i||o instanceof Uint8Array||o instanceof Uint8ClampedArray||o instanceof Int8Array||S("Cannot pass non-string to std::string"),a=i?kr(o):o.length;var s=Fr(4+a+1),l=s+4;if(y[s>>2]=a,i)K(o,l,a+1);else if(i)for(var d=0;d<a;++d){var c=o.charCodeAt(d);c>255&&(z(l),S("String has UTF-16 code units that do not fit in 8 bits")),F[l+d]=c}else for(d=0;d<a;++d)F[l+d]=o[d];return t!==null&&t.push(z,s),s},argPackAdvance:U,readValueFromPointer:gr,destructorFunction(t){z(t)}})},Yr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,ot=(r,e)=>{for(var t=r,o=t>>1,a=o+e/2;!(o>=a)&&or[o];)++o;if((t=o<<1)-r>32&&Yr)return Yr.decode(F.subarray(r,t));for(var i="",s=0;!(s>=e/2);++s){var l=X[r+2*s>>1];if(l==0)break;i+=String.fromCharCode(l)}return i},nt=(r,e,t)=>{if(t??=2147483647,t<2)return 0;for(var o=e,a=(t-=2)<2*r.length?t/2:r.length,i=0;i<a;++i){var s=r.charCodeAt(i);X[e>>1]=s,e+=2}return X[e>>1]=0,e-o},at=r=>2*r.length,it=(r,e)=>{for(var t=0,o="";!(t>=e/4);){var a=E[r+4*t>>2];if(a==0)break;if(++t,a>=65536){var i=a-65536;o+=String.fromCharCode(55296|i>>10,56320|1023&i)}else o+=String.fromCharCode(a)}return o},st=(r,e,t)=>{if(t??=2147483647,t<4)return 0;for(var o=e,a=o+t-4,i=0;i<r.length;++i){var s=r.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&r.charCodeAt(++i)),E[e>>2]=s,(e+=4)+4>a)break}return E[e>>2]=0,e-o},lt=r=>{for(var e=0,t=0;t<r.length;++t){var o=r.charCodeAt(t);o>=55296&&o<=57343&&++t,e+=4}return e},dt=(r,e,t)=>{var o,a,i,s;t=M(t),e===2?(o=ot,a=nt,s=at,i=l=>or[l>>1]):e===4&&(o=it,a=st,s=lt,i=l=>y[l>>2]),N(r,{name:t,fromWireType:l=>{for(var d,c=y[l>>2],f=l+4,h=0;h<=c;++h){var m=l+4+h*e;if(h==c||i(m)==0){var w=o(f,m-f);d===void 0?d=w:(d+="\0",d+=w),f=m+e}}return z(l),d},toWireType:(l,d)=>{typeof d!="string"&&S(`Cannot pass non-string to C++ string type ${t}`);var c=s(d),f=Fr(4+c+e);return y[f>>2]=c/e,a(d,f+4,c+e),l!==null&&l.push(z,f),f},argPackAdvance:U,readValueFromPointer:gr,destructorFunction(l){z(l)}})},ut=(r,e)=>{N(r,{isVoid:!0,name:e=M(e),argPackAdvance:0,fromWireType:()=>{},toWireType:(t,o)=>{}})},ct=(r,e,t)=>F.copyWithin(r,e,e+t),Zr=(r,e)=>{var t=B[r];return t===void 0&&S(`${e} has unknown type ${Kr(r)}`),t},re=(r,e,t)=>{var o=[],a=r.toWireType(o,t);return o.length&&(y[e>>2]=P.toHandle(o)),a},ft=(r,e,t)=>(r=P.toValue(r),e=Zr(e,"emval::as"),re(e,t,r)),dr=[],ht=(r,e,t,o)=>(r=dr[r])(null,e=P.toValue(e),t,o),mt={},ur=r=>{var e=mt[r];return e===void 0?M(r):e},pt=(r,e,t,o,a)=>(r=dr[r])(e=P.toValue(e),e[t=ur(t)],o,a),ee=()=>typeof globalThis=="object"?globalThis:Function("return this")(),vt=r=>r===0?P.toHandle(ee()):(r=ur(r),P.toHandle(ee()[r])),wt=r=>{var e=dr.length;return dr.push(r),e},yt=(r,e)=>{for(var t=new Array(r),o=0;o<r;++o)t[o]=Zr(y[e+4*o>>2],"parameter "+o);return t},gt=(r,e,t)=>{var o=yt(r,e),a=o.shift();r--;var i=`return function (obj, func, destructorsRef, args) {
`,s=0,l=[];t===0&&l.push("obj");for(var d=["retType"],c=[a],f=0;f<r;++f)l.push("arg"+f),d.push("argType"+f),c.push(o[f]),i+=`  var arg${f} = argType${f}.readValueFromPointer(args${s?"+"+s:""});
`,s+=o[f].argPackAdvance;i+=`  var rv = ${t===1?"new func":"func.call"}(${l.join(", ")});
`,a.isVoid||(d.push("emval_returnValue"),c.push(re),i+=`  return emval_returnValue(retType, destructorsRef, rv);
`),i+=`};
`,d.push(i);var h=Vr(Function,d)(...c),m=`methodCaller<(${o.map(w=>w.name).join(", ")}) => ${a.name}>`;return wt(sr(m,h))},Et=r=>(r=ur(r),P.toHandle(u[r])),kt=(r,e)=>(r=P.toValue(r),e=P.toValue(e),P.toHandle(r[e])),bt=r=>{r>9&&(x[r+1]+=1)},_t=r=>P.toHandle(ur(r)),At=r=>{var e=P.toValue(r);Hr(e),yr(r)},Ft=(r,e,t,o)=>{var a=new Date().getFullYear(),i=new Date(a,0,1),s=new Date(a,6,1),l=i.getTimezoneOffset(),d=s.getTimezoneOffset(),c=Math.max(l,d);y[r>>2]=60*c,E[e>>2]=+(l!=d);var f=w=>{var k=w>=0?"-":"+",D=Math.abs(w);return`UTC${k}${String(Math.floor(D/60)).padStart(2,"0")}${String(D%60).padStart(2,"0")}`},h=f(l),m=f(d);d<l?(K(h,t,17),K(m,o,17)):(K(h,o,17),K(m,t,17))},Pt=()=>2147483648,Dt=(r,e)=>Math.ceil(r/e)*e,St=r=>{var e=(r-tr.buffer.byteLength+65535)/65536|0;try{return tr.grow(e),Rr(),1}catch{}},Tt=r=>{var e=F.length;r>>>=0;var t=Pt();if(r>t)return!1;for(var o=1;o<=4;o*=2){var a=e*(1+.2/o);a=Math.min(a,r+100663296);var i=Math.min(t,Dt(Math.max(r,a),65536));if(St(i))return!0}return!1},br={},Mt=()=>Tr||"./this.program",J=()=>{if(!J.strings){var r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Mt()};for(var e in br)br[e]===void 0?delete r[e]:r[e]=br[e];var t=[];for(var e in r)t.push(`${e}=${r[e]}`);J.strings=t}return J.strings},Ct=(r,e)=>{for(var t=0;t<r.length;++t)A[e++]=r.charCodeAt(t);A[e]=0},jt=(r,e)=>{var t=0;return J().forEach((o,a)=>{var i=e+t;y[r+4*a>>2]=i,Ct(o,i),t+=o.length+1}),0},Rt=(r,e)=>{var t=J();y[r>>2]=t.length;var o=0;return t.forEach(a=>o+=a.length+1),y[e>>2]=o,0},g={isAbs:r=>r.charAt(0)==="/",splitPath:r=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(r).slice(1),normalizeArray:(r,e)=>{for(var t=0,o=r.length-1;o>=0;o--){var a=r[o];a==="."?r.splice(o,1):a===".."?(r.splice(o,1),t++):t&&(r.splice(o,1),t--)}if(e)for(;t;t--)r.unshift("..");return r},normalize:r=>{var e=g.isAbs(r),t=r.substr(-1)==="/";return(r=g.normalizeArray(r.split("/").filter(o=>!!o),!e).join("/"))||e||(r="."),r&&t&&(r+="/"),(e?"/":"")+r},dirname:r=>{var e=g.splitPath(r),t=e[0],o=e[1];return t||o?(o&&(o=o.substr(0,o.length-1)),t+o):"."},basename:r=>{if(r==="/")return"/";var e=(r=(r=g.normalize(r)).replace(/\/$/,"")).lastIndexOf("/");return e===-1?r:r.substr(e+1)},join:(...r)=>g.normalize(r.join("/")),join2:(r,e)=>g.normalize(r+"/"+e)},$t=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return r=>crypto.getRandomValues(r);ar("initRandomDevice")},te=r=>(te=$t())(r),V={resolve:(...r)=>{for(var e="",t=!1,o=r.length-1;o>=-1&&!t;o--){var a=o>=0?r[o]:n.cwd();if(typeof a!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!a)return"";e=a+"/"+e,t=g.isAbs(a)}return(t?"/":"")+(e=g.normalizeArray(e.split("/").filter(i=>!!i),!t).join("/"))||"."},relative:(r,e)=>{function t(c){for(var f=0;f<c.length&&c[f]==="";f++);for(var h=c.length-1;h>=0&&c[h]==="";h--);return f>h?[]:c.slice(f,h-f+1)}r=V.resolve(r).substr(1),e=V.resolve(e).substr(1);for(var o=t(r.split("/")),a=t(e.split("/")),i=Math.min(o.length,a.length),s=i,l=0;l<i;l++)if(o[l]!==a[l]){s=l;break}var d=[];for(l=s;l<o.length;l++)d.push("..");return(d=d.concat(a.slice(s))).join("/")}},_r=[];function oe(r,e,t){var o=kr(r)+1,a=new Array(o),i=Er(r,a,0,a.length);return a.length=i,a}var Nt=()=>{if(!_r.length){var r=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(r=window.prompt("Input: "))!==null&&(r+=`
`),!r)return null;_r=oe(r)}return _r.shift()},L={ttys:[],init(){},shutdown(){},register(r,e){L.ttys[r]={input:[],output:[],ops:e},n.registerDevice(r,L.stream_ops)},stream_ops:{open(r){var e=L.ttys[r.node.rdev];if(!e)throw new n.ErrnoError(43);r.tty=e,r.seekable=!1},close(r){r.tty.ops.fsync(r.tty)},fsync(r){r.tty.ops.fsync(r.tty)},read(r,e,t,o,a){if(!r.tty||!r.tty.ops.get_char)throw new n.ErrnoError(60);for(var i=0,s=0;s<o;s++){var l;try{l=r.tty.ops.get_char(r.tty)}catch{throw new n.ErrnoError(29)}if(l===void 0&&i===0)throw new n.ErrnoError(6);if(l==null)break;i++,e[t+s]=l}return i&&(r.node.atime=Date.now()),i},write(r,e,t,o,a){if(!r.tty||!r.tty.ops.put_char)throw new n.ErrnoError(60);try{for(var i=0;i<o;i++)r.tty.ops.put_char(r.tty,e[t+i])}catch{throw new n.ErrnoError(29)}return o&&(r.node.mtime=r.node.ctime=Date.now()),i}},default_tty_ops:{get_char:r=>Nt(),put_char(r,e){e===null||e===10?(hr(I(r.output)),r.output=[]):e!=0&&r.output.push(e)},fsync(r){r.output&&r.output.length>0&&(hr(I(r.output)),r.output=[])},ioctl_tcgets:r=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(r,e,t)=>0,ioctl_tiocgwinsz:r=>[24,80]},default_tty1_ops:{put_char(r,e){e===null||e===10?(O(I(r.output)),r.output=[]):e!=0&&r.output.push(e)},fsync(r){r.output&&r.output.length>0&&(O(I(r.output)),r.output=[])}}},ne=r=>{ar()},p={ops_table:null,mount:r=>p.createNode(null,"/",16895,0),createNode(r,e,t,o){if(n.isBlkdev(t)||n.isFIFO(t))throw new n.ErrnoError(63);p.ops_table||={dir:{node:{getattr:p.node_ops.getattr,setattr:p.node_ops.setattr,lookup:p.node_ops.lookup,mknod:p.node_ops.mknod,rename:p.node_ops.rename,unlink:p.node_ops.unlink,rmdir:p.node_ops.rmdir,readdir:p.node_ops.readdir,symlink:p.node_ops.symlink},stream:{llseek:p.stream_ops.llseek}},file:{node:{getattr:p.node_ops.getattr,setattr:p.node_ops.setattr},stream:{llseek:p.stream_ops.llseek,read:p.stream_ops.read,write:p.stream_ops.write,allocate:p.stream_ops.allocate,mmap:p.stream_ops.mmap,msync:p.stream_ops.msync}},link:{node:{getattr:p.node_ops.getattr,setattr:p.node_ops.setattr,readlink:p.node_ops.readlink},stream:{}},chrdev:{node:{getattr:p.node_ops.getattr,setattr:p.node_ops.setattr},stream:n.chrdev_stream_ops}};var a=n.createNode(r,e,t,o);return n.isDir(a.mode)?(a.node_ops=p.ops_table.dir.node,a.stream_ops=p.ops_table.dir.stream,a.contents={}):n.isFile(a.mode)?(a.node_ops=p.ops_table.file.node,a.stream_ops=p.ops_table.file.stream,a.usedBytes=0,a.contents=null):n.isLink(a.mode)?(a.node_ops=p.ops_table.link.node,a.stream_ops=p.ops_table.link.stream):n.isChrdev(a.mode)&&(a.node_ops=p.ops_table.chrdev.node,a.stream_ops=p.ops_table.chrdev.stream),a.atime=a.mtime=a.ctime=Date.now(),r&&(r.contents[e]=a,r.atime=r.mtime=r.ctime=a.atime),a},getFileDataAsTypedArray:r=>r.contents?r.contents.subarray?r.contents.subarray(0,r.usedBytes):new Uint8Array(r.contents):new Uint8Array(0),expandFileStorage(r,e){var t=r.contents?r.contents.length:0;if(!(t>=e)){var o=1048576;e=Math.max(e,t*(t<o?2:1.125)>>>0),t!=0&&(e=Math.max(e,256));var a=r.contents;r.contents=new Uint8Array(e),r.usedBytes>0&&r.contents.set(a.subarray(0,r.usedBytes),0)}},resizeFileStorage(r,e){if(r.usedBytes!=e)if(e==0)r.contents=null,r.usedBytes=0;else{var t=r.contents;r.contents=new Uint8Array(e),t&&r.contents.set(t.subarray(0,Math.min(e,r.usedBytes))),r.usedBytes=e}},node_ops:{getattr(r){var e={};return e.dev=n.isChrdev(r.mode)?r.id:1,e.ino=r.id,e.mode=r.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=r.rdev,n.isDir(r.mode)?e.size=4096:n.isFile(r.mode)?e.size=r.usedBytes:n.isLink(r.mode)?e.size=r.link.length:e.size=0,e.atime=new Date(r.atime),e.mtime=new Date(r.mtime),e.ctime=new Date(r.ctime),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr(r,e){for(const t of["mode","atime","mtime","ctime"])e[t]&&(r[t]=e[t]);e.size!==void 0&&p.resizeFileStorage(r,e.size)},lookup(r,e){throw p.doesNotExistError},mknod:(r,e,t,o)=>p.createNode(r,e,t,o),rename(r,e,t){var o;try{o=n.lookupNode(e,t)}catch{}if(o){if(n.isDir(r.mode))for(var a in o.contents)throw new n.ErrnoError(55);n.hashRemoveNode(o)}delete r.parent.contents[r.name],e.contents[t]=r,r.name=t,e.ctime=e.mtime=r.parent.ctime=r.parent.mtime=Date.now()},unlink(r,e){delete r.contents[e],r.ctime=r.mtime=Date.now()},rmdir(r,e){var t=n.lookupNode(r,e);for(var o in t.contents)throw new n.ErrnoError(55);delete r.contents[e],r.ctime=r.mtime=Date.now()},readdir:r=>[".","..",...Object.keys(r.contents)],symlink(r,e,t){var o=p.createNode(r,e,41471,0);return o.link=t,o},readlink(r){if(!n.isLink(r.mode))throw new n.ErrnoError(28);return r.link}},stream_ops:{read(r,e,t,o,a){var i=r.node.contents;if(a>=r.node.usedBytes)return 0;var s=Math.min(r.node.usedBytes-a,o);if(s>8&&i.subarray)e.set(i.subarray(a,a+s),t);else for(var l=0;l<s;l++)e[t+l]=i[a+l];return s},write(r,e,t,o,a,i){if(e.buffer===A.buffer&&(i=!1),!o)return 0;var s=r.node;if(s.mtime=s.ctime=Date.now(),e.subarray&&(!s.contents||s.contents.subarray)){if(i)return s.contents=e.subarray(t,t+o),s.usedBytes=o,o;if(s.usedBytes===0&&a===0)return s.contents=e.slice(t,t+o),s.usedBytes=o,o;if(a+o<=s.usedBytes)return s.contents.set(e.subarray(t,t+o),a),o}if(p.expandFileStorage(s,a+o),s.contents.subarray&&e.subarray)s.contents.set(e.subarray(t,t+o),a);else for(var l=0;l<o;l++)s.contents[a+l]=e[t+l];return s.usedBytes=Math.max(s.usedBytes,a+o),o},llseek(r,e,t){var o=e;if(t===1?o+=r.position:t===2&&n.isFile(r.node.mode)&&(o+=r.node.usedBytes),o<0)throw new n.ErrnoError(28);return o},allocate(r,e,t){p.expandFileStorage(r.node,e+t),r.node.usedBytes=Math.max(r.node.usedBytes,e+t)},mmap(r,e,t,o,a){if(!n.isFile(r.node.mode))throw new n.ErrnoError(43);var i,s,l=r.node.contents;if(2&a||!l||l.buffer!==A.buffer){if(s=!0,!(i=ne()))throw new n.ErrnoError(48);l&&((t>0||t+e<l.length)&&(l=l.subarray?l.subarray(t,t+e):Array.prototype.slice.call(l,t,t+e)),A.set(l,i))}else s=!1,i=l.byteOffset;return{ptr:i,allocated:s}},msync:(r,e,t,o,a)=>(p.stream_ops.write(r,e,0,o,t,!1),0)}},xt=async r=>{var e=await fr(r);return new Uint8Array(e)},zt=(r,e,t,o,a,i)=>{n.createDataFile(r,e,t,o,a,i)},Ot=u.preloadPlugins||[],Wt=(r,e,t,o)=>{typeof Browser<"u"&&Browser.init();var a=!1;return Ot.forEach(i=>{a||i.canHandle(e)&&(i.handle(r,e,t,o),a=!0)}),a},Bt=(r,e,t,o,a,i,s,l,d,c)=>{var f=e?V.resolve(g.join2(r,e)):r;function h(m){function w(k){c?.(),l||zt(r,e,k,o,a,d),i?.(),mr()}Wt(m,f,w,()=>{s?.(),mr()})||w(m)}zr(),typeof t=="string"?xt(t).then(h,s):h(t)},Ut=r=>{var e={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[r];if(e===void 0)throw new Error(`Unknown file open mode: ${r}`);return e},Ar=(r,e)=>{var t=0;return r&&(t|=365),e&&(t|=146),t},n={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{name="ErrnoError";constructor(r){this.errno=r}},filesystems:null,syncFSRequests:0,readFiles:{},FSStream:class{shared={};get object(){return this.node}set object(r){this.node=r}get isRead(){return(2097155&this.flags)!=1}get isWrite(){return!!(2097155&this.flags)}get isAppend(){return 1024&this.flags}get flags(){return this.shared.flags}set flags(r){this.shared.flags=r}get position(){return this.shared.position}set position(r){this.shared.position=r}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(r,e,t,o){r||(r=this),this.parent=r,this.mount=r.mount,this.id=n.nextInode++,this.name=e,this.mode=t,this.rdev=o,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(r){r?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(r){r?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return n.isDir(this.mode)}get isDevice(){return n.isChrdev(this.mode)}},lookupPath(r,e={}){if(!r)return{path:"",node:null};e.follow_mount??=!0,g.isAbs(r)||(r=n.cwd()+"/"+r);r:for(var t=0;t<40;t++){for(var o=r.split("/").filter(c=>!!c&&c!=="."),a=n.root,i="/",s=0;s<o.length;s++){var l=s===o.length-1;if(l&&e.parent)break;if(o[s]!==".."){i=g.join2(i,o[s]);try{a=n.lookupNode(a,o[s])}catch(c){if(c?.errno===44&&l&&e.noent_okay)return{path:i};throw c}if(!n.isMountpoint(a)||l&&!e.follow_mount||(a=a.mounted.root),n.isLink(a.mode)&&(!l||e.follow)){if(!a.node_ops.readlink)throw new n.ErrnoError(52);var d=a.node_ops.readlink(a);g.isAbs(d)||(d=g.dirname(i)+"/"+d),r=d+"/"+o.slice(s+1).join("/");continue r}}else i=g.dirname(i),a=a.parent}return{path:i,node:a}}throw new n.ErrnoError(32)},getPath(r){for(var e;;){if(n.isRoot(r)){var t=r.mount.mountpoint;return e?t[t.length-1]!=="/"?`${t}/${e}`:t+e:t}e=e?`${r.name}/${e}`:r.name,r=r.parent}},hashName(r,e){for(var t=0,o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o)|0;return(r+t>>>0)%n.nameTable.length},hashAddNode(r){var e=n.hashName(r.parent.id,r.name);r.name_next=n.nameTable[e],n.nameTable[e]=r},hashRemoveNode(r){var e=n.hashName(r.parent.id,r.name);if(n.nameTable[e]===r)n.nameTable[e]=r.name_next;else for(var t=n.nameTable[e];t;){if(t.name_next===r){t.name_next=r.name_next;break}t=t.name_next}},lookupNode(r,e){var t=n.mayLookup(r);if(t)throw new n.ErrnoError(t);for(var o=n.hashName(r.id,e),a=n.nameTable[o];a;a=a.name_next){var i=a.name;if(a.parent.id===r.id&&i===e)return a}return n.lookup(r,e)},createNode(r,e,t,o){var a=new n.FSNode(r,e,t,o);return n.hashAddNode(a),a},destroyNode(r){n.hashRemoveNode(r)},isRoot:r=>r===r.parent,isMountpoint:r=>!!r.mounted,isFile:r=>(61440&r)==32768,isDir:r=>(61440&r)==16384,isLink:r=>(61440&r)==40960,isChrdev:r=>(61440&r)==8192,isBlkdev:r=>(61440&r)==24576,isFIFO:r=>(61440&r)==4096,isSocket:r=>!(49152&~r),flagsToPermissionString(r){var e=["r","w","rw"][3&r];return 512&r&&(e+="w"),e},nodePermissions:(r,e)=>n.ignorePermissions||(!e.includes("r")||292&r.mode)&&(!e.includes("w")||146&r.mode)&&(!e.includes("x")||73&r.mode)?0:2,mayLookup(r){if(!n.isDir(r.mode))return 54;var e=n.nodePermissions(r,"x");return e||(r.node_ops.lookup?0:2)},mayCreate(r,e){if(!n.isDir(r.mode))return 54;try{return n.lookupNode(r,e),20}catch{}return n.nodePermissions(r,"wx")},mayDelete(r,e,t){var o;try{o=n.lookupNode(r,e)}catch(i){return i.errno}var a=n.nodePermissions(r,"wx");if(a)return a;if(t){if(!n.isDir(o.mode))return 54;if(n.isRoot(o)||n.getPath(o)===n.cwd())return 10}else if(n.isDir(o.mode))return 31;return 0},mayOpen:(r,e)=>r?n.isLink(r.mode)?32:n.isDir(r.mode)&&(n.flagsToPermissionString(e)!=="r"||512&e)?31:n.nodePermissions(r,n.flagsToPermissionString(e)):44,MAX_OPEN_FDS:4096,nextfd(){for(var r=0;r<=n.MAX_OPEN_FDS;r++)if(!n.streams[r])return r;throw new n.ErrnoError(33)},getStreamChecked(r){var e=n.getStream(r);if(!e)throw new n.ErrnoError(8);return e},getStream:r=>n.streams[r],createStream:(r,e=-1)=>(r=Object.assign(new n.FSStream,r),e==-1&&(e=n.nextfd()),r.fd=e,n.streams[e]=r,r),closeStream(r){n.streams[r]=null},dupStream(r,e=-1){var t=n.createStream(r,e);return t.stream_ops?.dup?.(t),t},chrdev_stream_ops:{open(r){var e=n.getDevice(r.node.rdev);r.stream_ops=e.stream_ops,r.stream_ops.open?.(r)},llseek(){throw new n.ErrnoError(70)}},major:r=>r>>8,minor:r=>255&r,makedev:(r,e)=>r<<8|e,registerDevice(r,e){n.devices[r]={stream_ops:e}},getDevice:r=>n.devices[r],getMounts(r){for(var e=[],t=[r];t.length;){var o=t.pop();e.push(o),t.push(...o.mounts)}return e},syncfs(r,e){typeof r=="function"&&(e=r,r=!1),n.syncFSRequests++,n.syncFSRequests>1&&O(`warning: ${n.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var t=n.getMounts(n.root.mount),o=0;function a(s){return n.syncFSRequests--,e(s)}function i(s){if(s)return i.errored?void 0:(i.errored=!0,a(s));++o>=t.length&&a(null)}t.forEach(s=>{if(!s.type.syncfs)return i(null);s.type.syncfs(s,r,i)})},mount(r,e,t){var o,a=t==="/",i=!t;if(a&&n.root)throw new n.ErrnoError(10);if(!a&&!i){var s=n.lookupPath(t,{follow_mount:!1});if(t=s.path,o=s.node,n.isMountpoint(o))throw new n.ErrnoError(10);if(!n.isDir(o.mode))throw new n.ErrnoError(54)}var l={type:r,opts:e,mountpoint:t,mounts:[]},d=r.mount(l);return d.mount=l,l.root=d,a?n.root=d:o&&(o.mounted=l,o.mount&&o.mount.mounts.push(l)),d},unmount(r){var e=n.lookupPath(r,{follow_mount:!1});if(!n.isMountpoint(e.node))throw new n.ErrnoError(28);var t=e.node,o=t.mounted,a=n.getMounts(o);Object.keys(n.nameTable).forEach(s=>{for(var l=n.nameTable[s];l;){var d=l.name_next;a.includes(l.mount)&&n.destroyNode(l),l=d}}),t.mounted=null;var i=t.mount.mounts.indexOf(o);t.mount.mounts.splice(i,1)},lookup:(r,e)=>r.node_ops.lookup(r,e),mknod(r,e,t){var o=n.lookupPath(r,{parent:!0}).node,a=g.basename(r);if(!a||a==="."||a==="..")throw new n.ErrnoError(28);var i=n.mayCreate(o,a);if(i)throw new n.ErrnoError(i);if(!o.node_ops.mknod)throw new n.ErrnoError(63);return o.node_ops.mknod(o,a,e,t)},statfs(r){var e={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:n.nextInode,ffree:n.nextInode-1,fsid:42,flags:2,namelen:255},t=n.lookupPath(r,{follow:!0}).node;return t?.node_ops.statfs&&Object.assign(e,t.node_ops.statfs(t.mount.opts.root)),e},create:(r,e=438)=>(e&=4095,e|=32768,n.mknod(r,e,0)),mkdir:(r,e=511)=>(e&=1023,e|=16384,n.mknod(r,e,0)),mkdirTree(r,e){for(var t=r.split("/"),o="",a=0;a<t.length;++a)if(t[a]){o+="/"+t[a];try{n.mkdir(o,e)}catch(i){if(i.errno!=20)throw i}}},mkdev:(r,e,t)=>(t===void 0&&(t=e,e=438),e|=8192,n.mknod(r,e,t)),symlink(r,e){if(!V.resolve(r))throw new n.ErrnoError(44);var t=n.lookupPath(e,{parent:!0}).node;if(!t)throw new n.ErrnoError(44);var o=g.basename(e),a=n.mayCreate(t,o);if(a)throw new n.ErrnoError(a);if(!t.node_ops.symlink)throw new n.ErrnoError(63);return t.node_ops.symlink(t,o,r)},rename(r,e){var t,o,a=g.dirname(r),i=g.dirname(e),s=g.basename(r),l=g.basename(e);if(t=n.lookupPath(r,{parent:!0}).node,o=n.lookupPath(e,{parent:!0}).node,!t||!o)throw new n.ErrnoError(44);if(t.mount!==o.mount)throw new n.ErrnoError(75);var d,c=n.lookupNode(t,s),f=V.relative(r,i);if(f.charAt(0)!==".")throw new n.ErrnoError(28);if((f=V.relative(e,a)).charAt(0)!==".")throw new n.ErrnoError(55);try{d=n.lookupNode(o,l)}catch{}if(c!==d){var h=n.isDir(c.mode),m=n.mayDelete(t,s,h);if(m)throw new n.ErrnoError(m);if(m=d?n.mayDelete(o,l,h):n.mayCreate(o,l))throw new n.ErrnoError(m);if(!t.node_ops.rename)throw new n.ErrnoError(63);if(n.isMountpoint(c)||d&&n.isMountpoint(d))throw new n.ErrnoError(10);if(o!==t&&(m=n.nodePermissions(t,"w")))throw new n.ErrnoError(m);n.hashRemoveNode(c);try{t.node_ops.rename(c,o,l),c.parent=o}catch(w){throw w}finally{n.hashAddNode(c)}}},rmdir(r){var e=n.lookupPath(r,{parent:!0}).node,t=g.basename(r),o=n.lookupNode(e,t),a=n.mayDelete(e,t,!0);if(a)throw new n.ErrnoError(a);if(!e.node_ops.rmdir)throw new n.ErrnoError(63);if(n.isMountpoint(o))throw new n.ErrnoError(10);e.node_ops.rmdir(e,t),n.destroyNode(o)},readdir(r){var e=n.lookupPath(r,{follow:!0}).node;if(!e.node_ops.readdir)throw new n.ErrnoError(54);return e.node_ops.readdir(e)},unlink(r){var e=n.lookupPath(r,{parent:!0}).node;if(!e)throw new n.ErrnoError(44);var t=g.basename(r),o=n.lookupNode(e,t),a=n.mayDelete(e,t,!1);if(a)throw new n.ErrnoError(a);if(!e.node_ops.unlink)throw new n.ErrnoError(63);if(n.isMountpoint(o))throw new n.ErrnoError(10);e.node_ops.unlink(e,t),n.destroyNode(o)},readlink(r){var e=n.lookupPath(r).node;if(!e)throw new n.ErrnoError(44);if(!e.node_ops.readlink)throw new n.ErrnoError(28);return e.node_ops.readlink(e)},stat(r,e){var t=n.lookupPath(r,{follow:!e}).node;if(!t)throw new n.ErrnoError(44);if(!t.node_ops.getattr)throw new n.ErrnoError(63);return t.node_ops.getattr(t)},lstat:r=>n.stat(r,!0),chmod(r,e,t){var o;if(!(o=typeof r=="string"?n.lookupPath(r,{follow:!t}).node:r).node_ops.setattr)throw new n.ErrnoError(63);o.node_ops.setattr(o,{mode:4095&e|-4096&o.mode,ctime:Date.now()})},lchmod(r,e){n.chmod(r,e,!0)},fchmod(r,e){var t=n.getStreamChecked(r);n.chmod(t.node,e)},chown(r,e,t,o){var a;if(!(a=typeof r=="string"?n.lookupPath(r,{follow:!o}).node:r).node_ops.setattr)throw new n.ErrnoError(63);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown(r,e,t){n.chown(r,e,t,!0)},fchown(r,e,t){var o=n.getStreamChecked(r);n.chown(o.node,e,t)},truncate(r,e){if(e<0)throw new n.ErrnoError(28);var t;if(!(t=typeof r=="string"?n.lookupPath(r,{follow:!0}).node:r).node_ops.setattr)throw new n.ErrnoError(63);if(n.isDir(t.mode))throw new n.ErrnoError(31);if(!n.isFile(t.mode))throw new n.ErrnoError(28);var o=n.nodePermissions(t,"w");if(o)throw new n.ErrnoError(o);t.node_ops.setattr(t,{size:e,timestamp:Date.now()})},ftruncate(r,e){var t=n.getStreamChecked(r);if(!(2097155&t.flags))throw new n.ErrnoError(28);n.truncate(t.node,e)},utime(r,e,t){var o=n.lookupPath(r,{follow:!0}).node;o.node_ops.setattr(o,{atime:e,mtime:t})},open(r,e,t=438){if(r==="")throw new n.ErrnoError(44);var o;if(t=64&(e=typeof e=="string"?Ut(e):e)?4095&t|32768:0,typeof r=="object")o=r;else{var a=n.lookupPath(r,{follow:!(131072&e),noent_okay:!0});o=a.node,r=a.path}var i=!1;if(64&e)if(o){if(128&e)throw new n.ErrnoError(20)}else o=n.mknod(r,t,0),i=!0;if(!o)throw new n.ErrnoError(44);if(n.isChrdev(o.mode)&&(e&=-513),65536&e&&!n.isDir(o.mode))throw new n.ErrnoError(54);if(!i){var s=n.mayOpen(o,e);if(s)throw new n.ErrnoError(s)}512&e&&!i&&n.truncate(o,0),e&=-131713;var l=n.createStream({node:o,path:n.getPath(o),flags:e,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1});return l.stream_ops.open&&l.stream_ops.open(l),!u.logReadFiles||1&e||r in n.readFiles||(n.readFiles[r]=1),l},close(r){if(n.isClosed(r))throw new n.ErrnoError(8);r.getdents&&(r.getdents=null);try{r.stream_ops.close&&r.stream_ops.close(r)}catch(e){throw e}finally{n.closeStream(r.fd)}r.fd=null},isClosed:r=>r.fd===null,llseek(r,e,t){if(n.isClosed(r))throw new n.ErrnoError(8);if(!r.seekable||!r.stream_ops.llseek)throw new n.ErrnoError(70);if(t!=0&&t!=1&&t!=2)throw new n.ErrnoError(28);return r.position=r.stream_ops.llseek(r,e,t),r.ungotten=[],r.position},read(r,e,t,o,a){if(o<0||a<0)throw new n.ErrnoError(28);if(n.isClosed(r))throw new n.ErrnoError(8);if((2097155&r.flags)==1)throw new n.ErrnoError(8);if(n.isDir(r.node.mode))throw new n.ErrnoError(31);if(!r.stream_ops.read)throw new n.ErrnoError(28);var i=a!==void 0;if(i){if(!r.seekable)throw new n.ErrnoError(70)}else a=r.position;var s=r.stream_ops.read(r,e,t,o,a);return i||(r.position+=s),s},write(r,e,t,o,a,i){if(o<0||a<0)throw new n.ErrnoError(28);if(n.isClosed(r))throw new n.ErrnoError(8);if(!(2097155&r.flags))throw new n.ErrnoError(8);if(n.isDir(r.node.mode))throw new n.ErrnoError(31);if(!r.stream_ops.write)throw new n.ErrnoError(28);r.seekable&&1024&r.flags&&n.llseek(r,0,2);var s=a!==void 0;if(s){if(!r.seekable)throw new n.ErrnoError(70)}else a=r.position;var l=r.stream_ops.write(r,e,t,o,a,i);return s||(r.position+=l),l},allocate(r,e,t){if(n.isClosed(r))throw new n.ErrnoError(8);if(e<0||t<=0)throw new n.ErrnoError(28);if(!(2097155&r.flags))throw new n.ErrnoError(8);if(!n.isFile(r.node.mode)&&!n.isDir(r.node.mode))throw new n.ErrnoError(43);if(!r.stream_ops.allocate)throw new n.ErrnoError(138);r.stream_ops.allocate(r,e,t)},mmap(r,e,t,o,a){if(2&o&&!(2&a)&&(2097155&r.flags)!=2)throw new n.ErrnoError(2);if((2097155&r.flags)==1)throw new n.ErrnoError(2);if(!r.stream_ops.mmap)throw new n.ErrnoError(43);if(!e)throw new n.ErrnoError(28);return r.stream_ops.mmap(r,e,t,o,a)},msync:(r,e,t,o,a)=>r.stream_ops.msync?r.stream_ops.msync(r,e,t,o,a):0,ioctl(r,e,t){if(!r.stream_ops.ioctl)throw new n.ErrnoError(59);return r.stream_ops.ioctl(r,e,t)},readFile(r,e={}){if(e.flags=e.flags||0,e.encoding=e.encoding||"binary",e.encoding!=="utf8"&&e.encoding!=="binary")throw new Error(`Invalid encoding type "${e.encoding}"`);var t,o=n.open(r,e.flags),a=n.stat(r).size,i=new Uint8Array(a);return n.read(o,i,0,a,0),e.encoding==="utf8"?t=I(i):e.encoding==="binary"&&(t=i),n.close(o),t},writeFile(r,e,t={}){t.flags=t.flags||577;var o=n.open(r,t.flags,t.mode);if(typeof e=="string"){var a=new Uint8Array(kr(e)+1),i=Er(e,a,0,a.length);n.write(o,a,0,i,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(e))throw new Error("Unsupported data type");n.write(o,e,0,e.byteLength,void 0,t.canOwn)}n.close(o)},cwd:()=>n.currentPath,chdir(r){var e=n.lookupPath(r,{follow:!0});if(e.node===null)throw new n.ErrnoError(44);if(!n.isDir(e.node.mode))throw new n.ErrnoError(54);var t=n.nodePermissions(e.node,"x");if(t)throw new n.ErrnoError(t);n.currentPath=e.path},createDefaultDirectories(){n.mkdir("/tmp"),n.mkdir("/home"),n.mkdir("/home/web_user")},createDefaultDevices(){n.mkdir("/dev"),n.registerDevice(n.makedev(1,3),{read:()=>0,write:(o,a,i,s,l)=>s,llseek:()=>0}),n.mkdev("/dev/null",n.makedev(1,3)),L.register(n.makedev(5,0),L.default_tty_ops),L.register(n.makedev(6,0),L.default_tty1_ops),n.mkdev("/dev/tty",n.makedev(5,0)),n.mkdev("/dev/tty1",n.makedev(6,0));var r=new Uint8Array(1024),e=0,t=()=>(e===0&&(e=te(r).byteLength),r[--e]);n.createDevice("/dev","random",t),n.createDevice("/dev","urandom",t),n.mkdir("/dev/shm"),n.mkdir("/dev/shm/tmp")},createSpecialDirectories(){n.mkdir("/proc");var r=n.mkdir("/proc/self");n.mkdir("/proc/self/fd"),n.mount({mount(){var e=n.createNode(r,"fd",16895,73);return e.stream_ops={llseek:p.stream_ops.llseek},e.node_ops={lookup(t,o){var a=+o,i=n.getStreamChecked(a),s={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>i.path},id:a+1};return s.parent=s,s},readdir:()=>Array.from(n.streams.entries()).filter(([t,o])=>o).map(([t,o])=>t.toString())},e}},{},"/proc/self/fd")},createStandardStreams(r,e,t){r?n.createDevice("/dev","stdin",r):n.symlink("/dev/tty","/dev/stdin"),e?n.createDevice("/dev","stdout",null,e):n.symlink("/dev/tty","/dev/stdout"),t?n.createDevice("/dev","stderr",null,t):n.symlink("/dev/tty1","/dev/stderr"),n.open("/dev/stdin",0),n.open("/dev/stdout",1),n.open("/dev/stderr",1)},staticInit(){n.nameTable=new Array(4096),n.mount(p,{},"/"),n.createDefaultDirectories(),n.createDefaultDevices(),n.createSpecialDirectories(),n.filesystems={MEMFS:p}},init(r,e,t){n.initialized=!0,r??=u.stdin,e??=u.stdout,t??=u.stderr,n.createStandardStreams(r,e,t)},quit(){n.initialized=!1;for(var r=0;r<n.streams.length;r++){var e=n.streams[r];e&&n.close(e)}},findObject(r,e){var t=n.analyzePath(r,e);return t.exists?t.object:null},analyzePath(r,e){try{r=(o=n.lookupPath(r,{follow:!e})).path}catch{}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var o=n.lookupPath(r,{parent:!0});t.parentExists=!0,t.parentPath=o.path,t.parentObject=o.node,t.name=g.basename(r),o=n.lookupPath(r,{follow:!e}),t.exists=!0,t.path=o.path,t.object=o.node,t.name=o.node.name,t.isRoot=o.path==="/"}catch(a){t.error=a.errno}return t},createPath(r,e,t,o){r=typeof r=="string"?r:n.getPath(r);for(var a=e.split("/").reverse();a.length;){var i=a.pop();if(i){var s=g.join2(r,i);try{n.mkdir(s)}catch{}r=s}}return s},createFile(r,e,t,o,a){var i=g.join2(typeof r=="string"?r:n.getPath(r),e),s=Ar(o,a);return n.create(i,s)},createDataFile(r,e,t,o,a,i){var s=e;r&&(r=typeof r=="string"?r:n.getPath(r),s=e?g.join2(r,e):r);var l=Ar(o,a),d=n.create(s,l);if(t){if(typeof t=="string"){for(var c=new Array(t.length),f=0,h=t.length;f<h;++f)c[f]=t.charCodeAt(f);t=c}n.chmod(d,146|l);var m=n.open(d,577);n.write(m,t,0,t.length,0,i),n.close(m),n.chmod(d,l)}},createDevice(r,e,t,o){var a=g.join2(typeof r=="string"?r:n.getPath(r),e),i=Ar(!!t,!!o);n.createDevice.major??=64;var s=n.makedev(n.createDevice.major++,0);return n.registerDevice(s,{open(l){l.seekable=!1},close(l){o?.buffer?.length&&o(10)},read(l,d,c,f,h){for(var m=0,w=0;w<f;w++){var k;try{k=t()}catch{throw new n.ErrnoError(29)}if(k===void 0&&m===0)throw new n.ErrnoError(6);if(k==null)break;m++,d[c+w]=k}return m&&(l.node.atime=Date.now()),m},write(l,d,c,f,h){for(var m=0;m<f;m++)try{o(d[c+m])}catch{throw new n.ErrnoError(29)}return f&&(l.node.mtime=l.node.ctime=Date.now()),m}}),n.mkdev(a,i,s)},forceLoadFile(r){if(r.isDevice||r.isFolder||r.link||r.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{r.contents=er(r.url),r.usedBytes=r.contents.length}catch{throw new n.ErrnoError(29)}},createLazyFile(r,e,t,o,a){class i{lengthKnown=!1;chunks=[];get(h){if(!(h>this.length-1||h<0)){var m=h%this.chunkSize,w=h/this.chunkSize|0;return this.getter(w)[m]}}setDataGetter(h){this.getter=h}cacheLength(){var h=new XMLHttpRequest;if(h.open("HEAD",t,!1),h.send(null),!(h.status>=200&&h.status<300||h.status===304))throw new Error("Couldn't load "+t+". Status: "+h.status);var m,w=Number(h.getResponseHeader("Content-length")),k=(m=h.getResponseHeader("Accept-Ranges"))&&m==="bytes",D=(m=h.getResponseHeader("Content-Encoding"))&&m==="gzip",C=1048576;k||(C=w);var j=(R,q)=>{if(R>q)throw new Error("invalid range ("+R+", "+q+") or no bytes requested!");if(q>w-1)throw new Error("only "+w+" bytes available! programmer error!");var _=new XMLHttpRequest;if(_.open("GET",t,!1),w!==C&&_.setRequestHeader("Range","bytes="+R+"-"+q),_.responseType="arraybuffer",_.overrideMimeType&&_.overrideMimeType("text/plain; charset=x-user-defined"),_.send(null),!(_.status>=200&&_.status<300||_.status===304))throw new Error("Couldn't load "+t+". Status: "+_.status);return _.response!==void 0?new Uint8Array(_.response||[]):oe(_.responseText||"")},Y=this;Y.setDataGetter(R=>{var q=R*C,_=(R+1)*C-1;if(_=Math.min(_,w-1),Y.chunks[R]===void 0&&(Y.chunks[R]=j(q,_)),Y.chunks[R]===void 0)throw new Error("doXHR failed!");return Y.chunks[R]}),!D&&w||(C=w=1,w=this.getter(0).length,C=w,hr("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=w,this._chunkSize=C,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!rr)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s={isDevice:!1,contents:new i}}else s={isDevice:!1,url:t};var l=n.createFile(r,e,s,o,a);s.contents?l.contents=s.contents:s.url&&(l.contents=null,l.url=s.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var d={};function c(f,h,m,w,k){var D=f.node.contents;if(k>=D.length)return 0;var C=Math.min(D.length-k,w);if(D.slice)for(var j=0;j<C;j++)h[m+j]=D[k+j];else for(j=0;j<C;j++)h[m+j]=D.get(k+j);return C}return Object.keys(l.stream_ops).forEach(f=>{var h=l.stream_ops[f];d[f]=(...m)=>(n.forceLoadFile(l),h(...m))}),d.read=(f,h,m,w,k)=>(n.forceLoadFile(l),c(f,h,m,w,k)),d.mmap=(f,h,m,w,k)=>{n.forceLoadFile(l);var D=ne();if(!D)throw new n.ErrnoError(48);return c(f,A,D,h,m),{ptr:D,allocated:!0}},l.stream_ops=d,l}},Q={DEFAULT_POLLMASK:5,calculateAt(r,e,t){if(g.isAbs(e))return e;var o;if(o=r===-100?n.cwd():Q.getStreamFromFD(r).path,e.length==0){if(!t)throw new n.ErrnoError(44);return o}return o+"/"+e},doStat(r,e,t){var o=r(e);E[t>>2]=o.dev,E[t+4>>2]=o.mode,y[t+8>>2]=o.nlink,E[t+12>>2]=o.uid,E[t+16>>2]=o.gid,E[t+20>>2]=o.rdev,b=[o.size>>>0,(v=o.size,+Math.abs(v)>=1?v>0?+Math.floor(v/4294967296)>>>0:~~+Math.ceil((v-+(~~v>>>0))/4294967296)>>>0:0)],E[t+24>>2]=b[0],E[t+28>>2]=b[1],E[t+32>>2]=4096,E[t+36>>2]=o.blocks;var a=o.atime.getTime(),i=o.mtime.getTime(),s=o.ctime.getTime();return b=[Math.floor(a/1e3)>>>0,(v=Math.floor(a/1e3),+Math.abs(v)>=1?v>0?+Math.floor(v/4294967296)>>>0:~~+Math.ceil((v-+(~~v>>>0))/4294967296)>>>0:0)],E[t+40>>2]=b[0],E[t+44>>2]=b[1],y[t+48>>2]=a%1e3*1e3*1e3,b=[Math.floor(i/1e3)>>>0,(v=Math.floor(i/1e3),+Math.abs(v)>=1?v>0?+Math.floor(v/4294967296)>>>0:~~+Math.ceil((v-+(~~v>>>0))/4294967296)>>>0:0)],E[t+56>>2]=b[0],E[t+60>>2]=b[1],y[t+64>>2]=i%1e3*1e3*1e3,b=[Math.floor(s/1e3)>>>0,(v=Math.floor(s/1e3),+Math.abs(v)>=1?v>0?+Math.floor(v/4294967296)>>>0:~~+Math.ceil((v-+(~~v>>>0))/4294967296)>>>0:0)],E[t+72>>2]=b[0],E[t+76>>2]=b[1],y[t+80>>2]=s%1e3*1e3*1e3,b=[o.ino>>>0,(v=o.ino,+Math.abs(v)>=1?v>0?+Math.floor(v/4294967296)>>>0:~~+Math.ceil((v-+(~~v>>>0))/4294967296)>>>0:0)],E[t+88>>2]=b[0],E[t+92>>2]=b[1],0},doMsync(r,e,t,o,a){if(!n.isFile(e.node.mode))throw new n.ErrnoError(43);if(2&o)return 0;var i=F.slice(r,r+t);n.msync(e,i,a,t,o)},getStreamFromFD:r=>n.getStreamChecked(r),varargs:void 0,getStr:r=>Qr(r)};function Lt(r){try{var e=Q.getStreamFromFD(r);return n.close(e),0}catch(t){if(n===void 0||t.name!=="ErrnoError")throw t;return t.errno}}var Ht=(r,e,t,o)=>{for(var a=0,i=0;i<t;i++){var s=y[e>>2],l=y[e+4>>2];e+=8;var d=n.read(r,A,s,l,o);if(d<0)return-1;if(a+=d,d<l)break}return a};function It(r,e,t,o){try{var a=Q.getStreamFromFD(r),i=Ht(a,e,t);return y[o>>2]=i,0}catch(s){if(n===void 0||s.name!=="ErrnoError")throw s;return s.errno}}var Vt=(r,e)=>e+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*e:NaN;function qt(r,e,t,o,a){var i=Vt(e,t);try{if(isNaN(i))return 61;var s=Q.getStreamFromFD(r);return n.llseek(s,i,o),b=[s.position>>>0,(v=s.position,+Math.abs(v)>=1?v>0?+Math.floor(v/4294967296)>>>0:~~+Math.ceil((v-+(~~v>>>0))/4294967296)>>>0:0)],E[a>>2]=b[0],E[a+4>>2]=b[1],s.getdents&&i===0&&o===0&&(s.getdents=null),0}catch(l){if(n===void 0||l.name!=="ErrnoError")throw l;return l.errno}}var Xt=(r,e,t,o)=>{for(var a=0,i=0;i<t;i++){var s=y[e>>2],l=y[e+4>>2];e+=8;var d=n.write(r,A,s,l,o);if(d<0)return-1;if(a+=d,d<l)break}return a};function Gt(r,e,t,o){try{var a=Q.getStreamFromFD(r),i=Xt(a,e,t);return y[o>>2]=i,0}catch(s){if(n===void 0||s.name!=="ErrnoError")throw s;return s.errno}}Te(),Br=u.BindingError=class extends Error{constructor(r){super(r),this.name="BindingError"}},Ur=u.InternalError=class extends Error{constructor(r){super(r),this.name="InternalError"}},$e(),Xr=u.UnboundTypeError=Ke(Error,"UnboundTypeError"),n.createPreloadedFile=Bt,n.staticInit(),p.doesNotExistError=new n.ErrnoError(44),p.doesNotExistError.stack="<generic error, no stack>";var T,Kt={q:Pe,w:De,s:Se,D:je,B:xe,p:Oe,i:Ye,c:rt,a:et,C:tt,j:dt,E:ut,A:ct,n:ft,l:ht,k:pt,b:yr,F:vt,g:gt,m:Et,e:kt,h:bt,f:_t,d:At,t:Ft,z:Tt,u:jt,v:Rt,x:Lt,y:It,r:qt,o:Gt};Ae();var cr,ae=r=>(ae=T.I)(r),Fr=r=>(Fr=T.K)(r),z=r=>(z=T.L)(r);function ie(){function r(){cr||(cr=!0,u.calledRun=!0,jr||(fe(),Dr(u),u.onRuntimeInitialized?.(),he()))}W>0||(ce(),W>0||(u.setStatus?(u.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>u.setStatus(""),1),r()},1)):r()))}if(u.dynCall_jiji=(r,e,t,o,a)=>(u.dynCall_jiji=T.M)(r,e,t,o,a),u.dynCall_viijii=(r,e,t,o,a,i,s)=>(u.dynCall_viijii=T.N)(r,e,t,o,a,i,s),u.dynCall_iiiiij=(r,e,t,o,a,i,s)=>(u.dynCall_iiiiij=T.O)(r,e,t,o,a,i,s),u.dynCall_iiiiijj=(r,e,t,o,a,i,s,l,d)=>(u.dynCall_iiiiijj=T.P)(r,e,t,o,a,i,s,l,d),u.dynCall_iiiiiijj=(r,e,t,o,a,i,s,l,d,c)=>(u.dynCall_iiiiiijj=T.Q)(r,e,t,o,a,i,s,l,d,c),G=function r(){cr||ie(),cr||(G=r)},u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();return ie(),le});export{Jt as default};
