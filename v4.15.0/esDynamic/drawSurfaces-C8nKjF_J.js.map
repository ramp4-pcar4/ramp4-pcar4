{"version":3,"file":"drawSurfaces-C8nKjF_J.js","sources":["../../node_modules/@arcgis/core/layers/graphics/dehydratedFeatureComparison.js","../../node_modules/@arcgis/core/views/interactive/sketch/constraintUtils.js","../../node_modules/@arcgis/core/views/interactive/ManipulatorCollection.js","../../node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js","../../node_modules/@arcgis/core/views/draw/DrawingMode.js","../../node_modules/@arcgis/core/views/draw/LegacyDrawManipulator.js","../../node_modules/@arcgis/core/views/interactive/dragEventPipeline.js","../../node_modules/@arcgis/core/views/interactive/snapping/SnappingDragPipelineStep.js","../../node_modules/@arcgis/core/views/interactive/snapping/SnappingOperation.js","../../node_modules/@arcgis/core/views/draw/DrawOperation.js","../../node_modules/@arcgis/core/views/draw/drawSurfaces.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{floatEqualAbsolute as e}from\"../../core/mathUtils.js\";import{equals as n}from\"../../geometry/support/spatialReferenceUtils.js\";function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++){const r=e[t],a=n[t];if(r.length!==a.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==a[e])return!1}return!0}function r(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}function a(e,t){return e===t||null!=e&&null!=t&&n(e.spatialReference,t.spatialReference)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.m===t.m}function i(t,r,a){return t===r||null!=t&&null!=r&&n(t.spatialReference,r.spatialReference)&&e(t.x,r.x,a)&&e(t.y,r.y,a)&&e(t.z??0,r.z??0,a)&&e(t.m??0,r.m??0,a)}function u(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&(!!n(e.spatialReference,t.spatialReference)&&r(e.paths,t.paths))}function l(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&(!!n(e.spatialReference,t.spatialReference)&&r(e.rings,t.rings))}function s(e,r){return e.hasZ===r.hasZ&&e.hasM===r.hasM&&(!!n(e.spatialReference,r.spatialReference)&&t(e.points,r.points))}function f(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&(!!n(e.spatialReference,t.spatialReference)&&(e.xmin===t.xmin&&e.ymin===t.ymin&&e.zmin===t.zmin&&e.xmax===t.xmax&&e.ymax===t.ymax&&e.zmax===t.zmax))}function c(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(e.type!==n.type)return!1;switch(e.type){case\"point\":return a(e,n);case\"extent\":return f(e,n);case\"polyline\":return u(e,n);case\"polygon\":return l(e,n);case\"multipoint\":return s(e,n);case\"mesh\":return!1;default:return}}function o(e,n){if(e===n)return!0;if(!e||!n)return!1;const t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(const a of t)if(e[a]!==n[a])return!1;return!0}function h(e,n){return e===n||null!=e&&null!=n&&e.objectId===n.objectId&&(!!c(e.geometry,n.geometry)&&!!o(e.attributes,n.attributes))}export{h as equals,c as geometryEquals,a as pointEquals,i as pointNear};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{valueInUnit as e,createAngle as n,createLength as t}from\"../../../core/quantityUtils.js\";import{lengthUnitFromSpatialReference as r,verticalLengthUnitFromSpatialReference as o}from\"../../../core/unitUtils.js\";import{e as i,d as l,g as u}from\"../../../chunks/vec32.js\";import s from\"../../../geometry/SpatialReference.js\";import{projectVectorToVector as c}from\"../../../geometry/projection/projectVectorToVector.js\";import{geodesicCompatibleSpatialReference as a}from\"../../../geometry/support/geodesicUtils.js\";import{makeDehydratedPoint as f}from\"../../../layers/graphics/dehydratedPoint.js\";import{getConvertedElevationFromXYZ as m}from\"../../../support/elevationInfoUtils.js\";import{CoordinateConstraint as d,VerticalCylinderConstraint as p,constraintOrSet as v,HorizontalPlaneConstraint as g,VerticalHalfPlaneConstraint as R,GeodesicConstraint as w,PointConstraint as j}from\"./constraints.js\";import{createWritable as y,fromPoint as h,toElevationAlignedDehydratedPoint as x}from\"./normalizedPoint.js\";import{getDegreesGeographic as S,directionBetweenPoints as I,pointFromDistanceAlongAzimuth as U}from\"../../support/angularMeasurementUtils.js\";function b(e,n,t,r,o,i){let l=\"geodesic\",u=a(t);const s=y();return h(e,n,r,s),s[2]=0,u&&c(s,t,s,u)||(l=\"euclidean\",u=t),{mode:l,view:n,elevationInfo:r,hasZ:o,directionMode:i,spatialReference:e.spatialReference,measurementSR:u,origin:s}}function M(n,t,o){if(null==t||null==n)return;const i=r(o.measurementSR);if(null==i)return;const l=W(n,o);if(null==l)return;const u=e(t,i);return new p(l,u)}function Z(e,t,r,o){if(null==r||null==e)return;const i=W(e,o);if(null==i)return;const l=S(r),u=10,s=e=>{if(null==e)return;const t=y(),r=n(e,\"degrees\",\"geographic\");return U(t,i,o.measurementSR,u,r,o.mode)?new R(i,t):void 0},c=()=>{if(null!=t&&null!=e)return S(I(t,e))};switch(o.directionMode){case\"absolute\":return s(l);case\"relative\":{const e=c();if(null==e)return;return s(e+l)}case\"relative-bilateral\":{const e=c();if(null==e)return;return v([s(e+l),s(e-l)])}}}function P(e,n){const t=B(e,n);return null!=t?new g(t):void 0}function T(e,n,t){const{context:r,longitude:o,latitude:i,direction:l,distance:u,elevation:s}=t;if(null!=o||null!=i||null!=u||null!=s||null!=l){if(null!=o||null!=i){const e=S(o),n=S(i),t=B(s,r);return new d(e,n,t)}return V(e,n,t)}}function V(n,t,{context:r,direction:o,distance:i,elevation:l}){if(null==t)return P(l,r);const{view:u,elevationInfo:s,measurementSR:a}=r,f=h(t,u,s);if(!a||!c(f,t.spatialReference,D,a))return;const[m,d]=D,p=null!=i?e(i,\"meters\"):void 0,g=S(o),R=B(l,r),y=e=>{const n=new w([m,d],a,p,R,e);return null==p||null==e||null==R&&r.hasZ?n:new j(n.closestTo(f))};if(null==g)return y(void 0);const x=()=>{if(null!=n&&null!=t)return S(I(n,t))};switch(r.directionMode){case\"absolute\":return y(g);case\"relative\":{const e=x();if(null==e)return;return y(e+g)}case\"relative-bilateral\":{const e=x();if(null==e)return;return v([y(e+g),y(e-g)])}}}function k(e){return\"geodesic\"===e.context.mode?T(null,null,e):z(e)}function q(e,n,t){const{context:r,x:o,y:i,distance:l,direction:u,elevation:s}=t;return\"geodesic\"===r.mode?T(n,e,t):null!=o||null!=i?z(t):G([M(e,l,r),Z(e,n,u,r),P(s,r)])}function z({x:e,y:n,elevation:t,context:r}){H.x=e?.value??0,H.y=n?.value??0,H.spatialReference=r.spatialReference;const o=W(H,r,E);return new d(null!=e&&null!=o?o[0]:void 0,null!=n&&null!=o?o[1]:void 0,B(t,r))}function G(e){let n;for(const t of e)t&&(n=n?.intersect(t)??t);return n}function W(e,n,t=y()){const{view:r,elevationInfo:o,measurementSR:l,origin:u,mode:s}=n;if(h(e,r,o,t),c(t,e.spatialReference,t,l))return\"geodesic\"!==s&&i(t,t,u),t}function A(e,n,t,r){const{view:o,measurementSR:i,spatialReference:s,origin:a,mode:f}=t;if(\"geodesic\"===f?l(F,e):u(F,e,a),c(F,i,F,s))return x(F,o,n,t,r)}function B(e,n){return C(e,n)?.value??void 0}function C(n,{view:r,origin:i,elevationInfo:l,hasZ:u,measurementSR:s}){if(null==n||!u)return;const c=o(s);if(null==c)return;const[a,f]=i,d=e(n,c),p=\"3d\"===r?.type?m(r,a,f,d,s,l):d;return null!=p?t(p,c):void 0}const D=y(),E=y(),F=y(),H=f(0,0,0,s.WGS84);export{A as constraintSpaceToPoint,b as getConstraintContext,T as getGeodesicConstraint,k as getPointConstraint,q as getPolylineOrPolygonConstraint,G as intersectAll,W as pointToConstraintSpace};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Collection.js\";class a{constructor(){this._isToolEditable=!0,this._manipulators=new t,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(t){this._isToolEditable=t}get length(){return this._manipulators.length}add(t,a=0){this.addMany([t],a)}addMany(t,a=0){for(const i of t){const t={manipulator:i,visibilityPredicate:a,attached:!1};this._manipulators.add(t),this._attached&&this._updateManipulatorAttachment(t)}}remove(t){for(let a=0;a<this._manipulators.length;a++)if(this._manipulators.at(a).manipulator===t){const t=this._manipulators.splice(a,1)[0];this._detachManipulator(t);break}}removeAll(){this._manipulators.forEach(t=>{this._detachManipulator(t)}),this._manipulators.removeAll()}attach(){this._manipulators.forEach(t=>{this._updateManipulatorAttachment(t)}),this._attached=!0}detach(){this._manipulators.forEach(t=>{this._detachManipulator(t)}),this._attached=!1}destroy(){this.detach(),this._manipulators.forEach(({manipulator:t})=>t.destroy()),this._manipulators.destroy(),this._resourceContexts=null}on(t,a){return this._manipulators.on(t,t=>{a(t)})}forEach(t){for(const a of this._manipulators.items)t(a)}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach(a=>t.push(a.manipulator)),t}intersect(t,a){let i=null,e=Number.MAX_VALUE;return this._manipulators.forEach(({manipulator:s,attached:r})=>{if(!r||!s.interactive)return;const o=s.intersectionDistance(t,a);null!=o&&o<e&&(e=o,i=s)}),i}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t)}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0)}_detachManipulator(t){if(!t.attached)return;const a=t.manipulator;a.grabbing=!1,a.dragging=!1,a.hovering=!1,a.selected=!1,a.detach&&a.detach(this._resourceContexts),t.attached=!1}_isManipulatorItemVisible(t){return 2===t.visibilityPredicate||(this._isToolEditable?0===t.visibilityPredicate:1===t.visibilityPredicate)}}export{a as ManipulatorCollection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import{EventedAccessor as e}from\"../../core/Evented.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{ManipulatorCollection as s}from\"./ManipulatorCollection.js\";let r=class extends e{constructor(t){super(t),this.manipulators=new s,this.automaticManipulatorSelection=!0,this.hasGrabbedManipulators=!1,this.hasHoveredManipulators=!1,this.firstGrabbedManipulator=null,this.created=!1,this.removeIncompleteOnCancel=!0,this._editableFlags=new Map([[1,!0],[0,!0]]),this._creationFinishedResolver=i()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(t){this._get(\"visible\")!==t&&(this._set(\"visible\",t),this._syncVisible())}get editable(){return this.getEditableFlag(0)}set editable(t){this.setEditableFlag(0,t)}get updating(){return!1}get cursor(){return null}get hasFocusedManipulators(){return this.hasGrabbedManipulators||this.hasHoveredManipulators}destroy(){this.manipulators.destroy(),this._set(\"view\",null)}onAdd(){this._syncVisible()}activate(){null!=this.view&&(this.view.focus(),this.onActivate())}deactivate(){this.onDeactivate()}cancel(){this.emit(\"cancel\")}handleInputEvent(t){this.onInputEvent(t)}handleInputEventAfter(t){this.onInputEventAfter(t)}setEditableFlag(t,e){this._editableFlags.set(t,e),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),0===t&&this.notifyChange(\"editable\"),this.onEditableChange(),this.onManipulatorSelectionChanged()}getEditableFlag(t){return this._editableFlags.get(t)??!1}endDrag(){const t=this.view.inputManager.latestPointerInfo?.location;if(!t)return;let e=!1;this.manipulators.forEach(({manipulator:i})=>{i.dragging&&(e=!0,i.events.emit(\"drag\",{action:\"end\",start:t,screenPoint:t}))}),e&&(this.view.toolViewManager.activeTool=null)}whenCreated(){return this._creationFinishedResolver.promise}onManipulatorSelectionChanged(){}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(0)&&this.getEditableFlag(1)}finishToolCreation(){this.created||this._creationFinishedResolver.resolve(this),this._set(\"created\",!0)}_syncVisible(){if(this.initialized)if(this.visible)this._show();else if(this._hide(),this.active)return void(this.view.activeTool=null)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach()}};t([a({constructOnly:!0})],r.prototype,\"view\",void 0),t([a({readOnly:!0})],r.prototype,\"active\",null),t([a({value:!0})],r.prototype,\"visible\",null),t([a({value:!0})],r.prototype,\"editable\",null),t([a({readOnly:!0})],r.prototype,\"manipulators\",void 0),t([a({readOnly:!0})],r.prototype,\"updating\",null),t([a()],r.prototype,\"cursor\",null),t([a({readOnly:!0})],r.prototype,\"automaticManipulatorSelection\",void 0),t([a()],r.prototype,\"hasFocusedManipulators\",null),t([a()],r.prototype,\"hasGrabbedManipulators\",void 0),t([a()],r.prototype,\"hasHoveredManipulators\",void 0),t([a()],r.prototype,\"firstGrabbedManipulator\",void 0),t([a({readOnly:!0})],r.prototype,\"created\",void 0),t([a({readOnly:!0})],r.prototype,\"removeIncompleteOnCancel\",void 0),r=t([o(\"esri.views.interactive.InteractiveToolBase\")],r);export{r as InteractiveToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst c=[\"freehand\",\"hybrid\",\"click\"],e=\"click\";export{e as defaultDrawingMode,c as drawingModes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import r from\"../../core/Accessor.js\";import{EventEmitter as e}from\"../../core/Evented.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let i=class extends r{constructor(o){super(o),this.events=new e,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0}intersectionDistance(o,r){return 0}attach(){}detach(){}onElevationChange(){}onViewChange(){}};o([t()],i.prototype,\"interactive\",void 0),o([t()],i.prototype,\"selectable\",void 0),o([t()],i.prototype,\"cursor\",void 0),o([t()],i.prototype,\"grabbing\",void 0),o([t()],i.prototype,\"grabbable\",void 0),o([t()],i.prototype,\"consumesClicks\",void 0),o([t()],i.prototype,\"grabbableForEvent\",void 0),o([t()],i.prototype,\"dragging\",void 0),o([t()],i.prototype,\"hovering\",void 0),o([t()],i.prototype,\"selected\",void 0),i=o([s(\"esri.views.draw.LegacyDrawManipulator\")],i);export{i as LegacyDrawManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{clone as n}from\"../../core/lang.js\";import{clamp as e}from\"../../core/mathUtils.js\";import{createScreenPoint as r}from\"../../core/screenUtils.js\";import{project as a}from\"../../geometry/projectionUtils.js\";import{isMeshWithRelativeVertexSpace as o}from\"../../geometry/support/meshVertexSpaceUtils.js\";import{clonePoint as l,hydratedSpatialReference as c}from\"../../layers/graphics/hydratedFeatures.js\";import{getZForElevationMode as s}from\"../../support/elevationInfoUtils.js\";import{EditGeometryOperations as u}from\"./editGeometry/EditGeometryOperations.js\";function i(t,n){let e=null,r=null;return a=>{if(\"cancel\"===a.action)return void(null!=r&&(r.execute({action:\"cancel\"}),e=null,r=null));const o={action:a.action,screenStart:a.start,screenEnd:a.screenPoint};\"start\"===a.action&&null==e&&(e=new D,r=new D,n(t,e,r,a.pointerType,o)),null!=e&&e.execute(o),\"end\"===a.action&&null!=e&&(e=null,r=null)}}function p(t,n){return t.events.on(\"drag\",i(t,n))}function m(t,n){const e=[t.x,t.y,t.z??0],r=n,a=[Math.cos(r),Math.sin(r)],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]);if(0===o)return null;a[0]/=o,a[1]/=o;const l=t=>{const n=(t.x-e[0])*a[0]+(t.y-e[1])*a[1];t.x=e[0]+n*a[0],t.y=e[1]+n*a[1]};return t=>(l(t.mapStart),l(t.mapEnd),{...t,axis:a})}function f(t){let n=null;const e=j();return r=>{if(\"start\"===r.action&&(n=y(t,r.mapStart.spatialReference)),null==n)return null;const a=e(r);if(!a)return null;const{translationX:o,translationY:l,translationZ:c}=a;return n.move(o,l,c,r.action),a}}function d(t,n){return null==t?null:t.spatialReference.equals(n)?t.clone():a(t,n)}function y(t,n){const e=t.operations;if(!e)return null;const r=e.data.geometry,l=c(n);if(r.spatialReference.equals(l))return x(t,e,()=>{});if(\"mesh\"!==r.type){const n=d(r,l);if(null==n)return null;const o=r.spatialReference,c=u.fromGeometry(n,e.viewingMode);return x(t,c,()=>{const t=c.data.geometry,n=a(t,o);e.trySetGeometry(n)})}if(o(r)){const n=d(r.origin,l);if(!n)return null;const o=r.spatialReference,c=u.fromGeometry(n,e.viewingMode);return x(t,e,()=>{const t=a(c.data.geometry,o),n=t.x-r.origin.x,l=t.y-r.origin.y,s=(t.z??0)-(r.origin.z??0);e.move(n,l,s)})}return null}function x(t,n,e){let r=0,a=0,o=0;return{move:(l,c,s,u)=>{\"start\"===u&&(r=0,a=0,o=0);const i=l-r,p=c-a,m=s-o;n.move(i,p,m),r+=i,a+=p,o+=m,e(),\"end\"===u&&t.endInteraction?.()}}}function E(t,n=null,e){let r=null;const o=null==n||t.spatialReference?.equals(n)?t=>t:t=>null!=t?a(t,n):t,l={exclude:[],...e};return n=>{if(\"start\"===n.action&&(r=o(t.toMap(n.screenStart,l))),null==r)return null;const e=o(t.toMap(n.screenEnd,l));return null!=e?{...n,mapStart:r,mapEnd:e}:null}}function S(n){const e=n.map(t=>f(t)).filter(t),r=j();return t=>{const n=r(t);return e.forEach(n=>n(t)),n}}function h(t,e){const r=new Map;for(const a of e)r.set(a,n(t[a]));return n=>(r.forEach((n,e)=>{t[e]=n}),n)}function g(t){const n=t.operations?.createResetState();return t=>(n?.remove(),t)}function v(t){const n=t.map(t=>g(t)).filter(t=>null!=t);return t=>(n.forEach(n=>n(t)),t)}function z(){let t=0,n=0,e=0;return r=>{\"start\"===r.action&&(t=r.mapStart.x,n=r.mapStart.y,e=r.mapStart.z??0);const a=r.mapEnd.x-t,o=r.mapEnd.y-n,l=(r.mapEnd.z??0)-e;return t=r.mapEnd.x,n=r.mapEnd.y,e=r.mapEnd.z,{...r,mapDeltaX:a,mapDeltaY:o,mapDeltaZ:l,mapDeltaSpatialReference:r.mapStart.spatialReference}}}function j(){let t=0,n=0,e=0;return r=>{\"start\"===r.action&&(t=r.mapStart.x,n=r.mapStart.y,e=r.mapStart.z??0);const a=r.mapEnd.x-t,o=r.mapEnd.y-n,l=(r.mapEnd.z??0)-e;return{...r,translationX:a,translationY:o,translationZ:l}}}function M(){let t=0,n=0;return e=>{\"start\"===e.action&&(t=e.screenStart.x,n=e.screenStart.y);const r=e.screenEnd.x-t,a=e.screenEnd.y-n;return t=e.screenEnd.x,n=e.screenEnd.y,{...e,screenDeltaX:r,screenDeltaY:a}}}function R(t,n){let a=null,o=0,l=0;return c=>{if(\"start\"===c.action&&(a=t.toScreen?.(n),null!=a&&(a.x<0||a.x>t.width||a.y<0||a.y>t.height?a=null:(o=c.screenStart.x-a.x,l=c.screenStart.y-a.y))),null==a)return null;const s=e(c.screenEnd.x-o,0,t.width),u=e(c.screenEnd.y-l,0,t.height),i=r(s,u);return c.screenStart=a,c.screenEnd=i,c}}const w=()=>{};class D{constructor(){this.execute=w}next(t,n=new D){return null!=t&&(this.execute=e=>{const r=t(e);null!=r&&n.execute(r)}),n}}function U(t,n,e=[]){if(\"2d\"===t.type)return t=>t;let r=null;return a=>{\"start\"===a.action&&(r=t.toMap(a.screenStart,{exclude:e}),null!=r&&(r.z=s(r,t,n)));const o=t.toMap(a.screenEnd,{exclude:e});null!=o&&(o.z=s(o,t,n));const l=null!=r&&null!=o?{sceneStart:r,sceneEnd:o}:null;return{...a,scenePoints:l}}}function G(t,n,e){const r=n.elevationProvider.getElevation(t.x,t.y,t.z??0,t.spatialReference,\"scene\")??0,a=l(t);return a.z=r,a.hasZ=!0,a.z=s(a,n,e),a}function q(t,n){if(\"2d\"===t.type)return t=>t;let e=null;return r=>{\"start\"===r.action&&(e=G(r.mapStart,t,n));const a=G(r.mapEnd,t,n),o=null!=e&&null!=a?{sceneStart:e,sceneEnd:a}:null;return{...r,scenePoints:o}}}export{D as EventPipeline,z as addMapDelta,j as addMapTranslation,M as addScreenDelta,m as constrainToMapAxis,i as createDragEventPipelineCallback,p as createManipulatorDragEventPipeline,R as dragAtLocation,f as dragManipulatedObject,S as dragManipulatedObjectMany,g as resetManipulatedObject,v as resetManipulatedObjectMany,h as resetProperties,U as sceneSnappingAtLocation,q as sceneSnappingAtProjectedLocation,E as screenToMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{abortMaybe as n,removeMaybe as e}from\"../../../core/maybe.js\";import{ignoreAbortErrors as t,debounce as o}from\"../../../core/promiseUtils.js\";import{watch as r}from\"../../../core/reactiveUtils.js\";import{pointEquals as i}from\"../../../layers/graphics/dehydratedFeatureComparison.js\";import{clonePoint as a}from\"../../../layers/graphics/hydratedFeatures.js\";import{absoluteHeightElevationInfo as l}from\"../../../support/elevationInfoUtils.js\";import{EventPipeline as s}from\"../dragEventPipeline.js\";import{SnappingContext as u}from\"./SnappingContext.js\";import{ImmediateTask as p,TaskPriority as c}from\"../../support/Scheduler.js\";function f({predicate:o=()=>!0,snappingManager:i,snappingContext:a,updatingHandles:u,useZ:p=!0}){const c=new s;if(null==i)return{snappingStep:[y,c],cancelSnapping:y};let f,Z=null,j=null,z=null;const T=()=>{Z=n(Z),i.doneSnapping(),j?.frameTask.remove(),j=null,f=e(f),z=null},k=d(i,p,c);let w=null,I=null,U=null;return{snappingStep:[n=>{if(!o(n))return n;const{action:e}=n;if(\"start\"===e){const{info:e}=n,t=m(i.view);if(j=g(a,n,t),j.context.selfSnappingZ=null,!p&&null!=e){const n=S(a.coordinateHelper,e.handle.part);null!=n&&(j.context.selfSnappingZ={value:n,elevationInfo:a.elevationInfo??l})}}if(null!=j){const{context:o,originalScenePos:a,originalPos:l}=j,{mapEnd:s,mapStart:c,scenePoints:d}=n,m=x(l,v(s,c)),g=v(c,l),S={...n,action:\"update\"},y=j.context,T=P(a,d),C=i.update({point:m,scenePoint:T,context:o});if(U=C,h(s,C,g,p),w=m,I=T,\"end\"!==e){const{frameTask:n}=j;null==Z&&(Z=new AbortController),z=e=>{u.addPromise(t(k({frameTask:n,event:S,context:y,point:m,scenePoint:T,delta:g,getLastState:()=>({point:w,scenePoint:I,updatePoint:e.forceUpdate?null:U})},Z.signal)))},z({forceUpdate:!1}),null==f&&(f=r(()=>i.options.effectiveEnabled,()=>z?.({forceUpdate:!0})))}}return\"end\"===e&&T(),n},c],cancelSnapping:n=>(T(),n)}}function d(n,e,t){return o(async({frameTask:o,point:r,scenePoint:a,context:l,event:s,delta:u,getLastState:p},c)=>{const f=await o.schedule(()=>n.snap({point:r,scenePoint:a,context:l,signal:c}),c);if(f.valid){let a=await o.schedule(()=>f.apply(),c);const d=p();null!=d.point&&r!==d.point&&(a=n.update({point:d.point,scenePoint:d.scenePoint,context:l})),null!=d.updatePoint&&i(a,d.updatePoint)||(h(s.mapEnd,a,u,e),t.execute(s))}})}function m(n){return\"3d\"===n.type?n.resourceController.scheduler.registerTask(c.SNAPPING):p}function g(n,e,t){return{context:new u({editGeometryOperations:n.editGeometryOperations,elevationInfo:n.elevationInfo,pointer:n.pointer,vertexHandle:null!=e.info?e.info.handle:null,excludeFeature:n.excludeFeature,feature:n.feature,visualizer:n.visualizer}),originalPos:null!=e.snapOrigin?n.coordinateHelper.vectorToDehydratedPoint(e.snapOrigin):e.mapStart,originalScenePos:null!=e.scenePoints?e.scenePoints.sceneStart:null,frameTask:t}}function x(n,[e,t,o]){const r=a(n);return r.x+=e,r.y+=t,r.hasZ&&(r.z+=o),r}function P(n,e){return null==n||null==e?null:x(n,v(e.sceneEnd,e.sceneStart))}function v(n,e){const t=n.hasZ&&e.hasZ?n.z-e.z:0;return[n.x-e.x,n.y-e.y,t]}function h(n,e,[t,o,r],i){n.x=e.x+t,n.y=e.y+o,i&&n.hasZ&&e.hasZ&&(n.z=e.z+r)}function S(n,e){if(!n.hasZ())return null;const t=e.vertices;let o=null;for(const r of t){const e=n.getZ(r.pos);if(null!=o&&null!=e&&Math.abs(e-o)>1e-6)return null;null==o&&(o=e)}return o}function y(n){return n}export{f as createSnapDragEventPipelineStep};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import s from\"../../../core/Accessor.js\";import{abortMaybe as o,removeMaybe as i}from\"../../../core/maybe.js\";import{debounce as n}from\"../../../core/promiseUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ImmediateTask as a,TaskPriority as l}from\"../../support/Scheduler.js\";let p=class extends s{constructor(t){super(t),this.constrainResult=t=>t,this._snapPoints=null,this._frameTask=null,this._abortController=null,this._stagedPoint=null,this._snap=n(async(t,s,o,i)=>{const n=this._frameTask;if(null==n)return;const r=await n.schedule(()=>s.snap({...t,context:o,signal:i}),i);r.valid&&await n.schedule(()=>{this.stagedPoint=r.apply(),t!==this._snapPoints&&null!=this._snapPoints&&(this.stagedPoint=s.update({...this._snapPoints,context:o}))},i)})}get stagedPoint(){return this._stagedPoint}set stagedPoint(t){this._stagedPoint=this.constrainResult(t)}initialize(){const t=\"3d\"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=null!=t?t.registerTask(l.SNAPPING):a}destroy(){this._abortController=o(this._abortController),this._frameTask=i(this._frameTask)}update(t,s,o){this._snapPoints=t;const{point:i,scenePoint:n}=t,r=s.update({point:i,scenePoint:n,context:o});return this.stagedPoint=r,r}async snap(t,s,o){const{point:i,scenePoint:n}=t;return this.stagedPoint=s.update({point:i,scenePoint:n,context:o}),this._snapPoints=t,null==this._abortController&&(this._abortController=new AbortController),this._snap(t,s,o,this._abortController.signal)}async snapAgainNearPreviousMapPoint(t,s){null!=this._snapPoints&&await this.snap(this._snapPoints,t,s)}abort(){this._abortController=o(this._abortController),this._snapPoints=null}};t([r({constructOnly:!0})],p.prototype,\"view\",void 0),t([r()],p.prototype,\"stagedPoint\",null),t([r()],p.prototype,\"constrainResult\",void 0),t([r()],p.prototype,\"_stagedPoint\",void 0),p=t([e(\"esri.views.interactive.snapping.SnappingOperation\")],p);export{p as SnappingOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import{EventedAccessor as e}from\"../../core/Evented.js\";import{clone as i}from\"../../core/lang.js\";import{equalsMaybe as n,destroyMaybe as r}from\"../../core/maybe.js\";import{memoize as s}from\"../../core/memoize.js\";import{ignoreAbortErrors as o}from\"../../core/promiseUtils.js\";import a from\"../../core/ReactiveSet.js\";import{watch as p,syncAndInitial as c}from\"../../core/reactiveUtils.js\";import{createScreenPoint as l}from\"../../core/screenUtils.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import{diff as u}from\"../../core/accessorSupport/diffUtils.js\";import{UpdatingHandles as g}from\"../../core/support/UpdatingHandles.js\";import{pointEquals as m,pointNear as y}from\"../../layers/graphics/dehydratedFeatureComparison.js\";import{getEffectiveElevationInfo as _}from\"../../support/elevationInfoUtils.js\";import{defaultDrawingMode as v}from\"./DrawingMode.js\";import{LegacyDrawManipulator as f}from\"./LegacyDrawManipulator.js\";import{createCoordinateHelper as x}from\"../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as P,sceneSnappingAtLocation as b}from\"../interactive/dragEventPipeline.js\";import{EditGeometry as T,Part as S}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as C}from\"../interactive/editGeometry/EditGeometryOperations.js\";import{isPoint as V}from\"../interactive/sketch/constraints.js\";import{getPointConstraint as w,getPolylineOrPolygonConstraint as O,pointToConstraintSpace as M,constraintSpaceToPoint as D}from\"../interactive/sketch/constraintUtils.js\";import E from\"../interactive/sketch/SketchLabelOptions.js\";import{SnappingContext as I}from\"../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as H}from\"../interactive/snapping/SnappingDragPipelineStep.js\";import{SnappingOperation as j}from\"../interactive/snapping/SnappingOperation.js\";import{setupSnappingToggleHandles as G}from\"../interactive/snapping/snappingUtils.js\";const k=\"crosshair\",Z=\"progress\",L=Symbol(),U=Symbol();let A=class extends e{constructor(t){super(t),this._createOperationCompleted=!1,this._hideDefaultCursor=!1,this._pointerDownStates=new a,this._stagedScreenPoint=null,this._stagedPointerType=null,this._updatingHandles=new g,this._stagedPointerId=null,this.constraintsEnabled=!1,this.constraints=void 0,this._getPointConstraint=s(w),this._getPolylineOrPolygonConstraint=s(O),this.constraintZ=null,this.defaultZ=null,this.isDraped=!0,this.labelOptions=new E,this.cursor=null,this.loading=!1,this.snapToSceneEnabled=null,this.firstVertex=null,this.lastVertex=null,this.secondToLastVertex=null,null==t.elevationInfo&&(this.elevationInfo=_(!!t.hasZ))}initializePointer(){const t=this.view.inputManager?.latestPointerInfo;null!=t&&this._updatePointer(t.location,t.id,t.type)}initialize(){const{geometryType:t,view:e}=this,i=e.spatialReference,r=\"viewingMode\"in e.state?e.state.viewingMode:2,s=\"segment\"===t||\"multipoint\"===t?\"polyline\":t;this.coordinateHelper=x(this.hasZ,this.hasM,i),this._editGeometryOperations=new C(new T(s,this.coordinateHelper),r),this._snappingOperation=new j({view:e}),this.addHandles([p(()=>({stagedPoint:this._snappingOperation.stagedPoint,constraint:this._constraint}),({stagedPoint:t,constraint:e},i)=>{const{snappingOptions:n}=this;n&&(n.forceDisabled=null!=e&&V(e));if(null!=i&&t===i.stagedPoint&&e!==i.constraint)return this._onKeyboardBasedChange();this._processCursor(t??this._screenToMap(this._stagedScreenPoint))},{equals:(t,e)=>t.stagedPoint===e.stagedPoint&&n(t.constraint,e.constraint)}),p(()=>this.view.viewpoint,(t,e)=>{t&&e&&u(t,e)&&this._onKeyboardBasedChange()})]),this._activePart=new S(i,r),this._editGeometryOperations.data.parts.push(this._activePart);const a=this.segmentLabels;null!=a&&(a.context={view:e,editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,labelOptions:this.labelOptions,automaticLengthMeasurementUtils:this.automaticLengthMeasurementUtils},this.addHandles(p(()=>this.labelOptions.enabled,t=>{a.visible=t},c))),this.addHandles(this._editGeometryOperations.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\"],t=>{const e=t.vertices.map(t=>({componentIndex:0,vertexIndex:t.index,coordinates:this.coordinateHelper.vectorToArray(t.pos)})),i=e.map(t=>t.coordinates),n=this.coordinateHelper.vectorToDehydratedPoint(this._activePart.getFirstVertex()?.pos)??null;m(n,this.firstVertex)||(this.firstVertex=n);const r=this.coordinateHelper.vectorToDehydratedPoint(this._activePart.getLastVertex()?.pos)??null;m(r,this.lastVertex)||(this.lastVertex=r);const s=this.coordinateHelper.vectorToDehydratedPoint(this._activePart.segments.at(-1)?.leftVertex?.pos)??null;switch(m(s,this.secondToLastVertex)||(this.secondToLastVertex=s),this._processCursor(this.cursorVertex),t.type){case\"vertex-add\":this.emit(t.type,{...t,added:i,vertices:e});break;case\"vertex-update\":this.emit(t.type,{...t,updated:i,vertices:e});break;case\"vertex-remove\":this.emit(t.type,{...t,removed:i,vertices:e})}}));const l=this._manipulator=new f({consumesClicks:!1,grabbableForEvent:t=>\"click\"!==this.drawingMode||\"touch\"===t.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size});this.manipulators.add(l),l.grabbable=\"point\"!==t&&\"multipoint\"!==t,this.addHandles([l.events.on(\"immediate-click\",t=>this._onImmediateClick(t)),l.events.on(\"immediate-double-click\",t=>this._onImmediateDoubleClick(t)),p(()=>this.drawingMode,()=>{this.removeHandles(L),this.addHandles(this._createManipulatorDragPipeline(l),L)},c),p(()=>({effectiveCursor:this.effectiveCursor}),({effectiveCursor:t})=>{l.cursor=t},c)]),G(this,()=>{const t=this.view.inputManager.latestPointerInfo?.type??\"mouse\",e=this._getSnappingContext(t);if(null!=this.snappingManager){const t=this._snappingOperation.snapAgainNearPreviousMapPoint(this.snappingManager,e);this._updatingHandles.addPromise(o(t))}})}destroy(){r(this.segmentLabels),r(this._snappingOperation),this._editGeometryOperations=r(this._editGeometryOperations),this._updatingHandles.destroy()}get _isDragging(){const{_stagedPointerId:t,_manipulator:e}=this;return null!=t&&this._pointerDownStates.has(t)||e.grabbing||!e.interactive}get _snappingEnabled(){return null!=this.snappingManager&&this.snappingManager.options.effectiveEnabled}get _requiresScenePoint(){const t=this._updateAndGetEffectiveDrawSurface();return\"3d\"===this.view.type&&this.drawSurface!==t}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activePart.vertices.map(t=>this.coordinateHelper.vectorToArray(t.pos))}get _constraint(){const{constraints:t,constraintsEnabled:e}=this;if(t&&e)switch(this.geometryType){case\"point\":case\"multipoint\":return this._getPointConstraint(t);case\"polygon\":case\"polyline\":return this._getPolylineOrPolygonConstraint(this.lastVertex,this.secondToLastVertex,t)}}set drawingMode(t){this._set(\"drawingMode\",t??v)}get effectiveCursor(){return this.loading?Z:this._hideDefaultCursor?null:this.cursor||k}get interactive(){return this._manipulator.interactive}set interactive(t){this._manipulator.interactive=t}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activePart.vertices.length}get snappingOptions(){return null!=this.snappingManager?this.snappingManager.options:null}get cursorVertex(){return this._get(\"cursorVertex\")}get visualizationCursorVertex(){return\"mouse\"===this._stagedPointerType?this.cursorVertex:null}get committableVertex(){const{cursorVertex:t,lastVertex:e,firstVertex:i,geometryType:n}=this;return\"polygon\"===n&&y(t,i)||y(t,e)?null:t}get updating(){return this._updatingHandles.updating}get geometryIncludingUncommittedVertices(){const{committedVertices:t,committableVertex:e,coordinateHelper:i}=this,n=t.slice();return null!=e&&n.push(i.pointToArray(e)),n}cancel(){this.complete({aborted:!0})}commitStagedVertex(){this._snappingOperation.abort();const{committableVertex:t}=this;null!=t&&this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(t),this._activePart)}complete(t){const e=t?.aborted||!1;this._snappingOperation.abort(),this.snappingManager?.doneSnapping();const{geometryType:i,numCommittedVertices:n}=this,r=\"multipoint\"===i&&0===n||\"polyline\"===i&&n<2||\"polygon\"===i&&n<3;\"segment\"!==i&&\"point\"!==i||this.commitStagedVertex(),this._createOperationCompleted=!r,(this.isCompleted||e)&&(this._stagedScreenPoint=null,this._stagedPointerId=null,this._stagedPointerType=null,this._processCursor(null),this.emit(\"complete\",{vertices:this.committedVertices.map((t,e)=>({componentIndex:0,vertexIndex:e,coordinates:t})),aborted:e,type:\"complete\"}))}onInputEvent(t){switch(t.type){case\"pointer-down\":this._pointerDownStates.add(t.pointerId);break;case\"pointer-up\":this._pointerDownStates.delete(t.pointerId)}switch(t.type){case\"pointer-move\":return this._onPointerMove(t);case\"hold\":return this._onHold(t)}}redo(){this._editGeometryOperations.redo()}undo(){null!=this.snappingManager&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_processCursor(t){const e=i(this.cursorVertex),n=i(t),r=n&&(this._updateAndGetEffectiveDrawSurface()?.constrainZ(n)??n),s=this._snapToClosingVertex(r),o=this._applyConstraints(s);y(e,o)||(this._set(\"cursorVertex\",o),this.segmentLabels?.set(\"stagedVertex\",null!=o?this.coordinateHelper.pointToVector(o):null),null==o||\"mouse\"!==this._stagedPointerType?this.emit(\"cursor-remove\"):this.emit(\"cursor-update\",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activePart.vertices.length,coordinates:this.coordinateHelper.pointToArray(o)}],operation:\"apply\",type:\"vertex-update\"}))}_snapToClosingVertex(t){if(null==t||this._isDragging||\"polygon\"!==this.geometryType||this.numCommittedVertices<=2)return t;const e=this._mapToScreen(t);if(!e)return t;const i=this._activePart;return this._vertexWithinPointerDistance(i.vertices[0].pos,e)?this.firstVertex:this._vertexWithinPointerDistance(i.vertices.at(-1).pos,e)?this.lastVertex:t}_createManipulatorDragPipeline(t){switch(this.drawingMode){case\"click\":return this._createManipulatorDragPipelineClick(t);case\"freehand\":return this._createManipulatorDragPipelineFreehand(t);case\"hybrid\":return this._createManipulatorDragPipelineHybrid(t)}}_createManipulatorDragPipelineClick(t){return P(t,(t,e,i,n)=>{const r=\"touch\"===n&&this._snappingEnabled;if(this.isCompleted||!r)return;const{snappingStep:s,cancelSnapping:o}=H({predicate:()=>r,snappingManager:this.snappingManager,snappingContext:new I({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,feature:this.graphic,pointer:n,visualizer:this.snappingVisualizer,drawConstraints:this.constraints}),updatingHandles:this._updatingHandles,useZ:!this._requiresScenePoint});i=i.next(t=>(r&&null!=this.snappingManager&&this.snappingManager.doneSnapping(),t)).next(o),e.next(this._screenToMapDragEventStep()).next(t=>(\"start\"===t.action&&(this._processCursor(t.mapStart),(\"segment\"===this.geometryType||r&&!this.numCommittedVertices)&&this.commitStagedVertex()),t)).next(b(this.view,this.elevationInfo)).next(...s).next(t=>(r&&(this._processCursor(t.mapEnd),\"end\"===t.action&&this.commitStagedVertex()),t)).next(t=>(\"end\"===t.action&&(\"mouse\"!==this._stagedPointerType&&this._snappingOperation.abort(),\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()),t))})}_createManipulatorDragPipelineFreehand(t){return P(t,(t,e)=>{this.isCompleted||e.next(this._screenToMapDragEventStep()).next(t=>(\"start\"===t.action&&(this._snappingOperation.abort(),null==this.committableVertex&&this._processCursor(t.mapStart),\"segment\"===this.geometryType&&this.commitStagedVertex()),t)).next(t=>{switch(t.action){case\"start\":case\"update\":this._processCursor(t.mapEnd),\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":this.complete()}return t})})}_createManipulatorDragPipelineHybrid(t){return P(t,(t,e)=>{this.isCompleted||e.next(this._screenToMapDragEventStep()).next(t=>(\"start\"===t.action&&(this._snappingOperation.abort(),this.addHandles(this._editGeometryOperations.createUndoGroup(),U),this._processCursor(t.mapStart),this.commitStagedVertex()),t)).next(t=>{switch(t.action){case\"start\":case\"update\":this._processCursor(t.mapEnd),\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":\"mouse\"!==this._stagedPointerType&&this._snappingOperation.abort(),this.removeHandles(U),\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()}return t})})}get _drawAtFixedElevation(){const{constraintsEnabled:t,constraintZ:e,geometryType:i,numCommittedVertices:n}=this;return t?null!=e||\"segment\"===i&&n>0:(\"segment\"===i||\"polygon\"===i)&&n>0}_updateAndGetEffectiveDrawSurface(){const{constraintsEnabled:t,coordinateHelper:e,drawSurface:i,elevationDrawSurface:n,snapToSceneEnabled:r}=this;if(null==n)return i;if(!this.hasZ)return n.defaultZ=null,n;const s=this.elevationInfo?.mode;let o=this.defaultZ,a=t||\"absolute-height\"===s;if(null!=r&&(a=r),\"on-the-ground\"===s&&(a=!1),this._drawAtFixedElevation){o=(t?this.constraintZ:null)??e.getZ(this._activePart.vertices[0].pos),a=!1}return a?i:(n.defaultZ=o,n)}_mapToScreen(t){return this._updateAndGetEffectiveDrawSurface()?.mapToScreen(t)}_onHold(t){this._snappingOperation.abort(),\"click\"===this.drawingMode&&\"touch\"===t.pointerType&&this._snappingEnabled&&this._processCursor(t.mapPoint),t.stopPropagation()}_onImmediateClick(t){if(!(\"mouse\"===t.pointerType&&2===t.button||this._manipulator.dragging))try{const{drawingMode:e,geometryType:i}=this;this._stagedPointerType=t.pointerType,this._stagedScreenPoint=t.screenPoint;const n=this._screenToMap(t.screenPoint);if(null==n)return;if(null==n||\"freehand\"===e&&\"point\"!==i&&\"multipoint\"!==i)return;if(this._snappingEnabled&&null!=this.cursorVertex||this._processCursor(n),null==this.committableVertex)return void this.complete();this.commitStagedVertex(),\"mouse\"!==t.pointerType&&this._processCursor(null),(\"freehand\"===e&&\"multipoint\"!==this.geometryType||\"point\"===i||\"segment\"===i&&2===this.numCommittedVertices||\"segment\"===i&&\"hybrid\"===e&&1===this.numCommittedVertices)&&this.complete()}finally{t.stopPropagation()}}_onImmediateDoubleClick(t){this._manipulator.dragging||\"point\"===this.geometryType||(this.complete(),t.stopPropagation())}_onPointerMove(t){const e=l(t.x,t.y);this._updatePointer(e,t.pointerId,t.pointerType)&&t.stopPropagation()}_updatePointer(t,e,i){return this._stagedScreenPoint=t,this._stagedPointerType=i,this._stagedPointerId=e,this._isDragging?(this._snappingOperation.abort(),!1):(this._processCursorMovementRelativeToSurface(t,i),!0)}_onKeyboardBasedChange(){\"mouse\"===this._stagedPointerType&&this._stagedScreenPoint&&null!=this._stagedPointerId&&!this._isDragging?this._processCursorMovementRelativeToSurface(this._stagedScreenPoint,this._stagedPointerType):this._snappingOperation.abort()}_processCursorMovementRelativeToSurface(t,e){const i=this._snappingOperation,n=this._screenToMap(t),r=this._requiresScenePoint?this.drawSurface?.screenToMap(t):null;if(null==n)return this._hideDefaultCursor=!0,this._processCursor(null),void i.abort();this._hideDefaultCursor=!1;const s=this.snappingManager;if(null==s)return this._processCursor(n),void i.abort();const a=this._getSnappingContext(e);this._updatingHandles.addPromise(o(i.snap({point:n,scenePoint:r},s,a)))}_applyConstraints(t){const{_constraint:e,constraints:i}=this;if(!t||!i||!e)return t;const{context:n}=i,r=M(t,n),s=r?e.closestTo(r):void 0;if(!s)return t;const o=D(s,t,n),a=\"2d\"===this.view.type||\"absolute-height\"!==n.elevationInfo.mode;return null!=o&&a&&null!=this.constraintZ&&this.hasZ&&(o.z=this.constraintZ),o}_screenToMap(t){return t?this._updateAndGetEffectiveDrawSurface()?.screenToMap(t):null}_screenToMapDragEventStep(){let t=null;return e=>{if(\"start\"===e.action&&(t=this._screenToMap(e.screenStart)),null==t)return null;const i=this._screenToMap(e.screenEnd);return null!=i?{...e,mapStart:t,mapEnd:i}:null}}_vertexWithinPointerDistance(t,e){const i=25,n=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(t));return null!=n&&z(n,e,i)}_getSnappingContext(t){const e=this._drawAtFixedElevation?this.elevationDrawSurface?.defaultZ:null;return new I({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:t,feature:this.graphic,visualizer:this.snappingVisualizer,selfSnappingZ:null!=e?{value:e,elevationInfo:this.elevationInfo}:null,drawConstraints:this.constraints})}};function z(t,e,i){const n=t.x-e.x,r=t.y-e.y;return n*n+r*r<=i}t([d()],A.prototype,\"_hideDefaultCursor\",void 0),t([d()],A.prototype,\"_stagedPointerId\",void 0),t([d()],A.prototype,\"_isDragging\",null),t([d()],A.prototype,\"_snappingOperation\",void 0),t([d()],A.prototype,\"_snappingEnabled\",null),t([d({constructOnly:!0})],A.prototype,\"graphic\",void 0),t([d()],A.prototype,\"constraintsEnabled\",void 0),t([d()],A.prototype,\"constraints\",void 0),t([d()],A.prototype,\"_constraint\",null),t([d()],A.prototype,\"constraintZ\",void 0),t([d()],A.prototype,\"defaultZ\",void 0),t([d()],A.prototype,\"isDraped\",void 0),t([d({constructOnly:!0})],A.prototype,\"automaticLengthMeasurementUtils\",void 0),t([d({value:v})],A.prototype,\"drawingMode\",null),t([d({constructOnly:!0})],A.prototype,\"elevationDrawSurface\",void 0),t([d({constructOnly:!0})],A.prototype,\"elevationInfo\",void 0),t([d({constructOnly:!0,type:E})],A.prototype,\"labelOptions\",void 0),t([d({constructOnly:!0})],A.prototype,\"geometryType\",void 0),t([d({constructOnly:!0})],A.prototype,\"hasM\",void 0),t([d({constructOnly:!0})],A.prototype,\"hasZ\",void 0),t([d()],A.prototype,\"cursor\",void 0),t([d()],A.prototype,\"effectiveCursor\",null),t([d()],A.prototype,\"loading\",void 0),t([d({constructOnly:!0})],A.prototype,\"manipulators\",void 0),t([d({constructOnly:!0})],A.prototype,\"drawSurface\",void 0),t([d({constructOnly:!0})],A.prototype,\"segmentLabels\",void 0),t([d({constructOnly:!0})],A.prototype,\"snappingManager\",void 0),t([d({constructOnly:!0})],A.prototype,\"snappingVisualizer\",void 0),t([d()],A.prototype,\"snapToSceneEnabled\",void 0),t([d({readOnly:!0})],A.prototype,\"cursorVertex\",null),t([d({readOnly:!0})],A.prototype,\"visualizationCursorVertex\",null),t([d()],A.prototype,\"committableVertex\",null),t([d()],A.prototype,\"firstVertex\",void 0),t([d()],A.prototype,\"lastVertex\",void 0),t([d()],A.prototype,\"secondToLastVertex\",void 0),t([d()],A.prototype,\"updating\",null),t([d({constructOnly:!0})],A.prototype,\"view\",void 0),A=t([h(\"esri.views.draw.DrawOperation\")],A);export{A as DrawOperation,k as defaultCursor,Z as defaultLoadingCursor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e,createScreenPoint as t}from\"../../core/screenUtils.js\";import s from\"../../geometry/Point.js\";import r from\"../../geometry/SpatialReference.js\";import{makeDehydratedPoint as n}from\"../../layers/graphics/dehydratedPoint.js\";import{clonePoint as i}from\"../../layers/graphics/hydratedFeatures.js\";import{getConvertedElevation as o,getZForElevationMode as a}from\"../../support/elevationInfoUtils.js\";class c{constructor(e,t,s,r=null){this._elevationInfo=e,this.defaultZ=t,this._view=s,this._excludeGraphics=r}screenToMap(t){const{defaultZ:s,_view:r}=this,n=r.sceneIntersectionHelper.intersectElevationFromScreen(e(t.x,t.y),this._elevationInfo,s??0,this._excludeGraphics);return null==s&&null!=n&&(n.z=void 0),n}mapToScreen(e){const t=n(e.x,e.y,o(this._view,e,this._elevationInfo),e.spatialReference);return this._view.toScreen(t)}constrainZ(e){const{defaultZ:t}=this;return null!=t&&e.z!==t&&((e=i(e)).z=t),e}}class l{constructor(e,t,s=[]){this.view=e,this.elevationInfo=t,this.exclude=s}screenToMap(e){const t=this.view.toMap(e,{exclude:this.exclude,excludeLabels:!0});return null!=t&&(t.z=a(t,this.view,this.elevationInfo)),t}mapToScreen(e){let t=e;return null!=this.elevationInfo&&(t=n(e.x,e.y,o(this.view,e,this.elevationInfo),e.spatialReference)),this.view.toScreen(t)}constrainZ(e){return e}}class h{constructor(e,t=!1,s=0){this.view=e,this.hasZ=t,this.defaultZ=s,this.mapToScreen=t=>e.toScreen(t),this.screenToMap=t?t=>{const r=e.toMap(t);return r.z=s,r}:t=>e.toMap(t)}constrainZ(e){const{defaultZ:t}=this;return this.hasZ&&e.z!==t&&((e=i(e)).z=t),e}}class u{screenToMap(e){const{x:t,y:r}=e;return new s({x:t,y:r,spatialReference:u.spatialReference})}mapToScreen(e){return t(e.x,e.y)}constrainZ(e){return e}static{this.spatialReference=new r}}export{c as ElevationDrawSurface,h as MapDrawSurface,l as SceneDrawSurface,u as ScreenDrawSurface};\n"],"names":["a","e","t","n","i","r","b","o","l","u","s","y","h","c","M","W","p","Z","S","U","R","I","v","P","B","g","T","d","V","f","D","m","w","j","x","k","z","q","G","H","E","A","F","C","L","O","_"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10]}