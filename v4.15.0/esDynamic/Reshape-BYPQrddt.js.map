{"version":3,"file":"Reshape-BYPQrddt.js","sources":["../../node_modules/@arcgis/core/views/draw/support/ConnectedReshapeManager.js","../../node_modules/@arcgis/core/views/interactive/tooltip/infos/TranslateVertexTooltipInfo.js","../../node_modules/@arcgis/core/views/draw/support/reshapeTooltipUtils.js","../../node_modules/@arcgis/core/views/draw/support/reshapeUtils.js","../../node_modules/@arcgis/core/views/draw/support/Reshape.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import i from\"../../../core/Accessor.js\";import{createTask as t}from\"../../../core/asyncUtils.js\";import{makeHandle as r,handlesGroup as s}from\"../../../core/handleUtils.js\";import a from\"../../../core/Logger.js\";import{getOrCreateMapValue as o}from\"../../../core/MapUtils.js\";import{throwIfAborted as n}from\"../../../core/promiseUtils.js\";import{whenOnce as p,watch as d}from\"../../../core/reactiveUtils.js\";import{addMaybe as c}from\"../../../core/SetUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as u}from\"../../../core/support/UpdatingHandles.js\";import m from\"../../../layers/GraphicsLayer.js\";import{isSubtypeSublayer as y,isKnowledgeGraphSublayer as g}from\"../../../layers/support/layerUtils.js\";import{getDisplayedSymbol as f}from\"../../../symbols/support/symbolUtils.js\";import{GraphicState as v}from\"../../3d/layers/graphics/GraphicState.js\";const _=()=>a.getLogger(\"esri.views.draw.support.ConnectedReshapeManager\"),w=Symbol();let G=class extends i{constructor(e){super(e),this.activeOperationType=null,this.providerFactories=[],this.view=null,this._activeProviders=new Set,this._graphics=new Map,this._modifiedFeatures=new Map,this._modifiedGraphicsLayer=new m({listMode:\"hide\",internal:!0,title:\"Connected Reshape Modified Graphics (Internal)\"}),this._pendingGraphicsLayer=new m({listMode:\"hide\",internal:!0,title:\"Connected Reshape Pending Graphics (Internal)\"}),this._pendingFeatures=new Map,this._updatingHandles=new u}initialize(){this.view.map.addMany([this._modifiedGraphicsLayer,this._pendingGraphicsLayer])}destroy(){this.view.destroyed||this.view.map.removeMany([this._modifiedGraphicsLayer,this._pendingGraphicsLayer]),this._modifiedGraphicsLayer.destroy(),this._pendingGraphicsLayer.destroy(),this._updatingHandles.destroy()}get updating(){return this._updatingHandles.updating||Array.from(this._activeProviders).some(e=>e.updating)}startFeatureMove(e){this.activeOperationType=0,this._activeProviders.clear();for(const i of this.providerFactories)c(this._activeProviders,i.getFeatureReshapeProvider(e))}startVertexMove(e,i){this.activeOperationType=1,this._activeProviders.clear();for(const t of this.providerFactories)c(this._activeProviders,t.getVertexReshapeProvider(e,i))}finish(){this.activeOperationType=null,this._activeProviders.clear();for(const[e,i]of this._pendingFeatures){this._pendingFeatures.delete(e),this._modifiedFeatures.set(e,i);const t=this._graphics.get(e);t&&(this._modifiedGraphicsLayer.add(t),this._pendingGraphicsLayer.remove(t))}}translate(e,i,t=0){if(null===this.activeOperationType)return;const r=P(e),s=P(i),a=P(t);for(const o of this._activeProviders){const e=o.translate(r,s,a);this._update(e)}}async _initializeGraphic(e,i){e.symbol??=await this._updatingHandles.addPromise(f(e,{scale:this.view.scale,useSourceLayer:!0})),this._pendingFeatures.has(i.uniqueId)?this._pendingGraphicsLayer.add(e):this._modifiedFeatures.has(i.uniqueId)&&this._modifiedGraphicsLayer.add(e),this.addHandles(await L(i.originalGraphic,e,this.view),w)}_update(e){for(const i of e){const e=this._modifiedFeatures.delete(i.uniqueId);this._pendingFeatures.set(i.uniqueId,i);const t=o(this._graphics,i.uniqueId,()=>{const e=i.graphic.cloneShallow();return this._initializeGraphic(e,i),e});t.geometry=i.graphic.geometry,e&&(this._modifiedGraphicsLayer.remove(t),this._pendingGraphicsLayer.add(t))}}get test(){return{activeProviders:this._activeProviders,modifiedFeatures:this._modifiedFeatures,modifiedGraphicsLayer:this._modifiedGraphicsLayer,pendingFeatures:this._pendingFeatures,pendingGraphicsLayer:this._pendingGraphicsLayer}}};async function L(e,i,a){const o=e.sourceLayer,d=e.getObjectId();if(null==d)return _().error(\"editing:cannot-hide-graphic\",\"Unable to hide original graphic because it has no objectId.\"),r();let c=null;function h(e){c?.abort(),c=t(async i=>{const t=await b(a,o);n(i),t&&t.setVisibility?.(d,e)})}return await F(a,i),h(!1),s([j(a,i,e=>h(!e)),r(async()=>{h(!0);const e=await b(a,o);await p(()=>!e?.updating)})])}function j(e,i,t){if(\"3d\"===e.type){const r=new v({graphic:i});return s([e.trackGraphicState(r),d(()=>r.displaying,t)])}return d(()=>i.visible,t)}async function F(e,i){if(\"3d\"===e.type){const t=new v({graphic:i}),r=e.trackGraphicState(t);await p(()=>t.displaying||t.error),r.remove()}else await p(()=>i.visible)}async function b(e,i){const t=y(i)||g(i)?i.parent:i;return t?e.whenLayerView(t):null}function P(e){return isNaN(e)?0:e}e([h()],G.prototype,\"activeOperationType\",void 0),e([h()],G.prototype,\"providerFactories\",void 0),e([h()],G.prototype,\"updating\",null),e([h({constructOnly:!0})],G.prototype,\"view\",void 0),G=e([l(\"esri.views.draw.support.ConnectedReshapeManager\")],G);export{G as ConnectedReshapeManager,L as swapForEditingSession,j as watchGraphicVisibility,F as whenGraphicDisplayed};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import{zeroMeters as o}from\"../../../../core/quantityUtils.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{SketchTooltipInfo as s}from\"./SketchTooltipInfo.js\";let i=class extends s{constructor(t){super(t),this.type=\"translate-vertex\",this.distance=o,this.elevation=null,this.area=null,this.totalLength=null}clear(){this.distance=o,this.elevation=null,this.area=null,this.totalLength=null}};t([e()],i.prototype,\"type\",void 0),t([e()],i.prototype,\"distance\",void 0),t([e()],i.prototype,\"elevation\",void 0),t([e()],i.prototype,\"area\",void 0),t([e()],i.prototype,\"totalLength\",void 0),i=t([r(\"esri.views.interactive.tooltip.infos.TranslateVertexTooltipInfo\")],i);export{i as TranslateVertexTooltipInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{handlesGroup as t}from\"../../../core/handleUtils.js\";import{zeroMeters as e}from\"../../../core/quantityUtils.js\";import{watch as o,syncAndInitial as n,sync as i}from\"../../../core/reactiveUtils.js\";import{createScreenPoint as r}from\"../../../core/screenUtils.js\";import a from\"../../../geometry/Point.js\";import{isCurvedGeometry as s}from\"../../../geometry/support/curves/curveUtils.js\";import{connectPasteEvent as c,getXYZDeltasFromTooltipInfo as l}from\"../../interactive/tooltip/tooltipCommonUtils.js\";import{MovePointTooltipInfo as p}from\"../../interactive/tooltip/infos/MovePointTooltipInfo.js\";import{SelectedVertexTooltipInfo as m}from\"../../interactive/tooltip/infos/SelectedVertexTooltipInfo.js\";import{TranslateTooltipInfo as u}from\"../../interactive/tooltip/infos/TranslateTooltipInfo.js\";import{TranslateVertexTooltipInfo as f}from\"../../interactive/tooltip/infos/TranslateVertexTooltipInfo.js\";import{elevationFromPoint as y}from\"../../support/euclideanLengthMeasurementUtils.js\";function v(t){const e={sketchOptions:t,viewType:\"2d\"};return{movePoint:new p(e),selectedVertex:new m(e),translateGraphic:new u(e),translateVertices:new f(e)}}function g(e,r){function a(){const t=r(),e=t.sketchOptions.tooltips.effectiveEnabled?t.activeTooltipInfo:null;return{...t,activeTooltipInfo:e}}let s=!1;function l(t){s||(s=!0,t(),s=!1)}return t([o(()=>{const t=a();return{context:t,geometry:t.graphic?.geometry,vertexGeometry:t.selectedVertex?.geometry}},({context:t})=>{l(()=>{h(t),e.info=t.activeTooltipInfo})},n),o(()=>{const t=a(),{activeTooltipInfo:e}=t;if(e&&\"key\"in e)return{context:t,key:e.key}},(t,e)=>{t&&e&&t.key!==e.key&&l(()=>j(t.context))},i),c(e,{onBeforePaste:()=>{s=!0},onAfterPaste:()=>{j(a()),s=!1}})])}function h(t){const e=t.activeTooltipInfo;if(e){switch(e?.type){case\"move-point\":return d(e,t);case\"selected-vertex\":return x(e,t)}e.sketchOptions=t.sketchOptions}}function d(t,{graphic:e}){T(t,e,e?.geometry)}function x(t,{graphic:e,selectedVertex:o,automaticAreaMeasurementUtils:n,automaticLengthMeasurementUtils:i}){T(t,e,o?.geometry);const r=e?.geometry;if(!r||!s(r))switch(r?.type){case\"polygon\":t.geometryType=\"polygon\",t.totalLength.visible=!1,t.area.actual=n.autoArea2D(r);break;case\"polyline\":t.geometryType=\"polyline\",t.totalLength.actual=i.autoLength2D(r),t.area.visible=!1;break;case\"multipoint\":t.geometryType=\"multipoint\",t.area.visible=!1,t.totalLength.visible=!1}}function T(t,e,o){e&&\"point\"===o?.type&&(t.setLocationFromPoint(o),t.elevation.actual=y(o),t.elevation.visible=!!e.geometry?.hasZ,t.elevation.readOnly=!1,t.elevation.showAsZ=!0)}function j(t){function e(e,o){const n=o?.geometry;if(!n||\"point\"!==n.type)return;const{dx:i,dy:r,dz:s}=l(e,n);if(0===i&&0===r&&0===s)return;const{x:c,y:p,z:m,m:u,spatialReference:f}=n,y=new a({x:c+i,y:p+r,z:null!=m?m+s:void 0,m:u,spatialReference:f});t.updateGeometry(o,y,n,i,r)}const{activeTooltipInfo:o,graphic:n,selectedVertex:i}=t;switch(o?.type){case\"move-point\":return e(o,n);case\"selected-vertex\":return e(o,i)}}function U(t,e,o,n){t.clear(),w(t,e,n,o)}function k(t,e,o,n,i){if(t.clear(),o&&s(o))return;const{automaticAreaMeasurementUtils:r,automaticLengthMeasurementUtils:a}=n;\"polygon\"===o?.type?t.area=r.autoArea2D(o):\"polyline\"===o?.type&&(t.totalLength=a.autoLength2D(o)),w(t,e,i,n)}function w(t,o,n,{automaticLengthMeasurementUtils:i}){if(!n)return;const{x:a,y:s}=n.origin,c=o.toMap(n),l=o.toMap(r(a,s)),p=i.autoDistanceBetweenPoints2D(l,c);t.distance=null!=p?p:e}export{g as connectTooltip,v as createTooltipInfos,U as updateTranslateTooltipInfo,k as updateTranslateVertexTooltipInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../Graphic.js\";import{equals as t}from\"../../../core/arrayUtils.js\";import o from\"../../../geometry/Point.js\";import r from\"../../../geometry/Polyline.js\";import{getMidpoint as n}from\"../../../geometry/support/coordsUtils.js\";import{isMultipoint as i,isPolygon as s,isPolyline as l}from\"../../../geometry/support/typeUtils.js\";import{interpolateBezierCurve as c,splitBezierCurve as a}from\"../../../geometry/support/curves/bezierCurveUtils.js\";import{interpolateCircle as p}from\"../../../geometry/support/curves/circleUtils.js\";import{deriveCircleFromCircularArc as u,splitCircularArc as m}from\"../../../geometry/support/curves/circularArcUtils.js\";import{getEndpoint as d,isCoordinate as f,isBezierCurve as h,isEllipticArc4 as y,isCircularArc as v,isEllipticArc as g,isEllipticArc7 as x}from\"../../../geometry/support/curves/curveUtils.js\";import{deriveCircleFromEllipticArc4 as b,splitEllipticArc4 as w}from\"../../../geometry/support/curves/ellipticArc4Utils.js\";import{deriveEllipse as z,interpolateEllipse as I,splitEllipticArc7 as j}from\"../../../geometry/support/curves/ellipticArc7Utils.js\";import P from\"../../../symbols/SimpleLineSymbol.js\";import S from\"../../../symbols/SimpleMarkerSymbol.js\";import{settings as C}from\"./settings.js\";const R={pathIndex:\"pathIndex\",pointIndex:\"pointIndex\",pointIndexStart:\"pointIndexStart\",pointIndexEnd:\"pointIndexEnd\",controlPointKind:\"kind\",relatedGraphicIndices:\"relatedGraphicIndices\",curveFromStraightEdgeFlag:\"curveFromStraightEdgeFlag\",tool:\"esriSketchTool\"},U={bezier:{cp1:\"bezier-cp-1\",cp2:\"bezier-cp-2\",line1:\"bezier-line-1\",line2:\"bezier-line-2\"},circle:{interior:\"circle-interior\"}},k=\"box\",E=C.reshapeGraphics,T={vertices:{default:new S({style:\"circle\",size:E.vertex.size,color:E.vertex.color,outline:{color:E.vertex.outlineColor,width:1}}),hover:new S({style:\"circle\",size:E.vertex.hoverSize,color:E.vertex.hoverColor,outline:{color:E.vertex.hoverOutlineColor,width:1}}),selected:new S({style:\"circle\",size:E.selected.size,color:E.selected.color,outline:{color:E.selected.outlineColor,width:1}})},controlPoints:{default:new S({style:\"diamond\",size:E.vertex.size,color:E.vertex.color,outline:{color:E.vertex.outlineColor,width:1}}),hover:new S({style:\"diamond\",size:E.vertex.hoverSize,color:E.vertex.hoverColor,outline:{color:E.vertex.hoverOutlineColor,width:1}}),selected:new S({style:\"diamond\",size:E.selected.size,color:E.selected.color,outline:{color:E.selected.outlineColor,width:1}})},midpoints:{default:new S({style:\"circle\",size:E.midpoint.size,color:E.midpoint.color,outline:{color:E.midpoint.outlineColor,width:1}}),hover:new S({style:\"circle\",size:E.midpoint.size,color:E.midpoint.color,outline:{color:E.midpoint.outlineColor,width:1}})},constructionLines:new P({style:\"solid\",width:1,color:E.vertex.color})};function K(t,o,r){const n=[];return t?.forEach((t,i)=>{t.forEach((t,s)=>{n.push(new e({geometry:r.arrayToPoint(d(t)),symbol:o?.vertices?.default,attributes:{[R.tool]:k,[R.pathIndex]:i,[R.pointIndex]:s}}))})}),n}function F(t,o,r){const n=[];for(let i=0;i<t.length;i++){const s=t[i];if(!Z(t,i))for(let t=1;t<s.length;t++){const l=s[t];if(f(l))continue;const c=d(s[t-1]),a={[R.tool]:k,[R.pathIndex]:i,[R.pointIndex]:t};if(h(l)){const t=l.b.slice(1);n.push(...t.map((t,n)=>new e({geometry:r.arrayToPoint(t),symbol:o?.controlPoints?.default,attributes:{...a,[R.controlPointKind]:0===n?U.bezier.cp1:U.bezier.cp2}})))}const m=v(l),g=y(l);if(m||g){const t=m?u(c,l):b(c,l),i=p(t,.25);n.push(new e({geometry:r.arrayToPoint(i),symbol:o?.controlPoints?.default,attributes:{...a,[R.controlPointKind]:U.circle.interior}}))}}}return n}function G(t,o,n){const i=[],{spatialReference:s}=n;for(let l=0;l<t.length;l++){const n=t[l];for(let t=1;t<n.length;t++){const c=n[t];if(!h(c))continue;const[a,p,u]=c.b,m=d(n[t-1]),f={[R.tool]:k,[R.pathIndex]:l,[R.pointIndex]:t};i.push(new e({geometry:new r({paths:[[[m[0],m[1]],p]],spatialReference:s}),symbol:o?.constructionLines,attributes:{...f,[R.controlPointKind]:U.bezier.line1}}),new e({geometry:new r({paths:[[[a[0],a[1]],u]],spatialReference:s}),symbol:o?.constructionLines,attributes:{...f,[R.controlPointKind]:U.bezier.line2}}))}}return i}function L(t,o,r,n){const i=[];for(let s=0;s<t.length;s++){const l=t[s],c=O(t,s);for(let t=0;t<l.length;t++){const a=(t+1)%l.length;if((!n||c)&&0===a)continue;const p=M(l[t],l[a],r);i.push(new e({geometry:p,symbol:o.midpoints.default,attributes:{[R.tool]:k,[R.pathIndex]:s,[R.pointIndexStart]:t,[R.pointIndexEnd]:a}}))}}return i}function M(e,t,r){const i=d(e),s=d(t),{spatialReference:l}=r,a=r.arrayToVector(i),m=r.arrayToVector(s),g=r.toXYZ(a),x=r.toXYZ(m),[w,j,P]=n(g,x),S=r.hasM()?0:void 0;if(f(t))return new o({x:w,y:j,z:P,m:S,spatialReference:l});if(h(t)){const[e,r]=c(i,t,.5);return new o({x:e,y:r,z:P,m:S,spatialReference:l})}if(v(t)){const e=u(i,t),[r,n]=p(e,.5);return new o({x:r,y:n,z:P,m:S,spatialReference:l})}if(y(t)){const e=b(i,t),[r,n]=p(e,.5);return new o({x:r,y:n,z:P,m:S,spatialReference:l})}const C=z(i,t),[R,U]=I(C,.5);return new o({x:R,y:U,z:P,m:S,spatialReference:l})}function Z(e,o){const r=e.at(o);return 2===r?.length&&t(d(r[1]),d(r[0]))&&y(r[1])}function A(e,o){const r=e.at(o);return 2===r?.length&&t(d(r[1]),d(r[0]))&&x(r[1])}function O(e,o){const r=e.at(o);return 2===r?.length&&t(d(r[1]),d(r[0]))&&g(r[1])}function V(e,t){if(i(e))return void(e.points=t.flat());const o=t.some(e=>e.some(e=>!f(e)));s(e)?o?(e.curveRings=t,e.rings=[]):(e.rings=t,e.curveRings=void 0):l(e)&&(o?(e.curvePaths=t,e.paths=[]):(e.curvePaths=void 0,e.paths=t))}function X(e,t,o,r){const n=d(t);let i=[];switch(!0){case h(t):i=a(e,t,o);break;case v(t):{const r=u(e,t);i=m(r,t,o);break}case y(t):{const r=b(e,t);i=w(r,t,o);break}default:{const r=z(e,t);i=j(r,t,o);break}}if(i.length<2)return i;if(r.hasZ()){const t=e.at(2)??0,r=n.at(2)??0,s=t+(r-t)*o;d(i[0])[2]=s,d(i[1])[2]=r}if(r.hasM()){const e=r.hasZ()?3:2;d(i[0])[e]=0,d(i[1])[e]=n.at(-1)??0}return i}export{R as attributeKeys,U as controlPointKinds,G as createCurveConstructionLineGraphics,F as createCurveControlPointGraphics,L as createMidpointGraphics,K as createVertexGraphics,T as defaultSymbols,M as getMidpoint,Z as isSingleSegmentCircle,A as isSingleSegmentEllipse,O as isSingleSegmentPolygon,V as saveUpdatedCurveOrCoordinate,X as splitCurve,k as toolIdAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../Graphic.js\";import{createTask as i}from\"../../../core/asyncUtils.js\";import s from\"../../../core/Collection.js\";import o from\"../../../core/Error.js\";import{EventedAccessor as r}from\"../../../core/Evented.js\";import n from\"../../../core/Logger.js\";import{getOrCreateMapValue as a}from\"../../../core/MapUtils.js\";import{destroyMaybe as h,assertIsSome as p,abortMaybe as c}from\"../../../core/maybe.js\";import{pausable as l,when as d,watch as m,initial as v,sync as u}from\"../../../core/reactiveUtils.js\";import{property as y}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import g from\"../../../geometry/Point.js\";import f from\"../../../geometry/Polyline.js\";import{fromGeometry as G,toGeometry as x}from\"../../../geometry/operators/support/apiConverter.js\";import{closeRingsAndFixWinding as M,geometryToCoordinates as b}from\"../../../geometry/support/coordsUtils.js\";import{isPoint as C}from\"../../../geometry/support/typeUtils.js\";import{interpolateCircle as S}from\"../../../geometry/support/curves/circleUtils.js\";import{deriveCircleFromCircularArc as E,toEllipticArc7 as w}from\"../../../geometry/support/curves/circularArcUtils.js\";import{getEndpoint as O,isCircularArc as V,isEllipticArc4 as I,isBezierCurve as P,isCoordinate as k,isEllipticArc7 as H}from\"../../../geometry/support/curves/curveUtils.js\";import{deriveCircleFromEllipticArc4 as R}from\"../../../geometry/support/curves/ellipticArc4Utils.js\";import{wrapAtan2 as T}from\"../../../geometry/support/curves/mathUtils.js\";import A from\"../../../layers/GraphicsLayer.js\";import{SnappingVisualizer2D as j}from\"../../2d/interactive/SnappingVisualizer2D.js\";import{ConnectedReshapeManager as L}from\"./ConnectedReshapeManager.js\";import{screenDeltaToMapDelta as U,cloneMove as F}from\"./drawUtils.js\";import D from\"./GraphicMover.js\";import z from\"./HighlightHelper.js\";import{addUniqueLayer as K,isConnectedReshapeSupportedLayer as N}from\"./layerUtils.js\";import{createTooltipInfos as q,connectTooltip as Z,updateTranslateTooltipInfo as $,updateTranslateVertexTooltipInfo as B}from\"./reshapeTooltipUtils.js\";import{defaultSymbols as J,createMidpointGraphics as Q,createVertexGraphics as W,createCurveControlPointGraphics as X,createCurveConstructionLineGraphics as Y,attributeKeys as tt,getMidpoint as et,controlPointKinds as it,saveUpdatedCurveOrCoordinate as st,toolIdAttribute as ot,splitCurve as rt,isSingleSegmentCircle as nt,isSingleSegmentEllipse as at}from\"./reshapeUtils.js\";import{ViewEventPriorities as ht}from\"../../input/InputManager.js\";import{createCoordinateHelper as pt}from\"../../interactive/coordinateHelper.js\";import{sketchKeys as ct}from\"../../interactive/keybindings.js\";import{EditGeometryOperations as lt}from\"../../interactive/editGeometry/EditGeometryOperations.js\";import dt from\"../../interactive/sketch/SketchOptions.js\";import{SnappingContext as mt}from\"../../interactive/snapping/SnappingContext.js\";import{makeTooltip as vt,enterInputModeIfAvailable as ut}from\"../../interactive/tooltip/tooltipCommonUtils.js\";const yt=Symbol();let _t=class extends r{constructor(t){super(t),this._updateHandlesOnExternalGeometryChange=null,this._activeOperationInfo=null,this._connectedReshapeManager=null,this._editGeometryOperations=null,this._mover=null,this._snappingContext=null,this._snappingGraphicsLayer=null,this._hoverGraphic=null,this._snappingTask=null,this._stagedVertex=null,this.tooltip=null,this.activeTooltipInfo=null,this.callbacks={onReshapeStart(){},onReshape(){},onReshapeStop(){},onMoveStart(){},onMove(){},onMoveStop(){},onGraphicClick(){}},this.connectedReshapeProviders=null,this.enableMidpoints=!0,this.enableCurveOnMidpoint=!1,this.enableMovement=!0,this.enableVertices=!0,this.graphic=null,this.highlightName=null,this.highlightsEnabled=!0,this.layer=null,this.snappingManager=null,this.symbols=J,this.sketchOptions=new dt,this.type=\"reshape\",this.vertexGraphics=new s,this.curveControlPointGraphics=new s,this.constructionLineGraphics=new s,this.midpointGraphics=new s,this.selectedManipulators=new s,this.view=null}initialize(){const t=this.view;this._highlightHelper=new z({view:t}),this._setup(),this._updateHandlesOnExternalGeometryChange=l(()=>this.graphic?.geometry,t=>{if(!t)return;const e=new Set(this.selectedManipulators.map(wt));this._highlightHelper.removeAll(),this._setUpHighlights(),this._setupGraphics(),this._clearSelection(),this.vertexGraphics.filter(t=>e.has(wt(t))).forEach(t=>this._addToSelection(t));const{enableMovement:i,_mover:s,graphic:o,midpointGraphics:r,vertexGraphics:n,curveControlPointGraphics:a}=this,h=n.concat(r,a).items;i&&h.push(o),s?.set(\"graphics\",h)},u),this.tooltip=vt(()=>({view:t,options:this.sketchOptions.tooltips})),this.tooltipInfos=q(this.sketchOptions),this.addHandles([d(()=>t?.ready,()=>{const{layer:t,view:e}=this;K(e,t),this.addHandles(e.on(\"key-down\",t=>this._keyDownHandler(t),ht.TOOL))},{once:!0,initial:!0}),m(()=>this.graphic,()=>this.refresh()),m(()=>this.layer,(t,e)=>{e&&(this._clearSelection(),this._resetGraphics(e)),this.refresh()}),m(()=>[this.highlightsEnabled,this.highlightName],()=>{this._highlightHelper?.removeAll(),this._setUpHighlights()}),m(()=>this.enableMidpoints,()=>this.refresh()),Z(this.tooltip,()=>this._tooltipsContext),m(()=>this.view.effectiveTheme.accentColor,()=>this._updateSymbolsForTheme(),v),this._updateHandlesOnExternalGeometryChange]),this._updateTooltip()}destroy(){this._reset(),this._mover?.destroy(),this._mover=null,this._connectedReshapeManager=h(this._connectedReshapeManager),this.tooltip=h(this.tooltip)}get _coordinateHelper(){return this._editGeometryOperations?.data.coordinateHelper??pt(!!this.graphic.geometry?.hasZ,!!this.graphic.geometry?.hasM,this.view.spatialReference)}get _selectedManipulator(){return 1===this.selectedManipulators.length?this.selectedManipulators.at(0):void 0}get _tooltipsContext(){const{automaticAreaMeasurementUtils:t,automaticLengthMeasurementUtils:e,sketchOptions:i,activeTooltipInfo:s,graphic:o}=this;return{sketchOptions:i,activeTooltipInfo:s,graphic:o,selectedVertex:this._selectedManipulator,automaticAreaMeasurementUtils:t,automaticLengthMeasurementUtils:e,updateGeometry:(t,e,i,s,o)=>{this._setUpGeometryHelper();const r=t===this.graphic;r?this._emitMoveStartEvent(0,0):this._emitReshapeStartEvent(t);const n=!0;if(this._syncGeometryAfterVertexMove(t,e,s,o,n),r){const{view:t}=this,s=t.toScreen(i),o=t.toScreen(e),r=(o?.x??0)-(s?.x??0),n=(o?.y??0)-(s?.y??0);this._emitMoveEvent(r,n),this._emitMoveStopEvent(r,n)}else this._emitReshapeEvent(t),this._emitReshapeStopEvent(t);this._editGeometryOperations=h(this._editGeometryOperations)}}}get state(){const t=this.view.ready,e=!(!this.graphic||!this.layer);return t&&e?\"active\":t?\"ready\":\"disabled\"}isUIGraphic(t){return t===this.graphic||this._isMidpoint(t)||this._isCurveControlPoint(t)||this._isVertex(t)||this._isConstructionLine(t)}refresh(){this._reset(),this._setup()}reset(){this.graphic=null}clearSelection(){this._clearSelection()}removeSelectedVertices(){const{selectedManipulators:t}=this;t.length&&this._removeVertices(t)}_setup(){const{graphic:t,layer:e}=this;if(!e||null==t?.geometry)return;const i=t.geometry;\"mesh\"!==i.type&&\"extent\"!==i.type?(\"polygon\"===i.type&&M(i),this._setUpHighlights(),this._setupGraphics(),this._setupMover(),this._setupConnectedReshapeManager()):this._logGeometryTypeError()}_setUpHighlights(){this.highlightsEnabled&&this.graphic&&this._highlightHelper?.add(this.graphic,this.highlightName)}_setUpGeometryHelper(){const t=this.graphic.geometry;null!=t&&\"mesh\"!==t.type&&\"extent\"!==t.type?this._editGeometryOperations??=lt.fromGeometry(t,2,{allowCurves:!0}):this._logGeometryTypeError()}_saveSnappingContextForHandle(t,e){this._snappingGraphicsLayer=new A({listMode:\"hide\",internal:!0,title:\"Reshape snapping layer\"}),this.view.map.layers.add(this._snappingGraphicsLayer);const i=this._editGeometryOperations;p(i),this._snappingContext=new mt({editGeometryOperations:i,elevationInfo:{mode:\"on-the-ground\",offset:0},pointer:e.viewEvent?.pointerType||\"mouse\",excludeFeature:this.graphic,feature:this.graphic,visualizer:new j(this._snappingGraphicsLayer),vertexHandle:this._getVertexFromEditGeometry(t)})}_reset(){this._clearSelection(),this._highlightHelper?.removeAll(),this._updateTooltip(),this._resetGraphics(),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._mover?.destroy(),this._mover=null,this.removeHandles(yt)}_resetSnappingStateVars(){null!=this.snappingManager&&this.snappingManager.doneSnapping(),null!=this._snappingGraphicsLayer&&(this.view?.map&&this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy()),this._editGeometryOperations=h(this._editGeometryOperations),this._snappingTask=c(this._snappingTask),this._snappingTask=null,this._snappingContext=null,this._stagedVertex=null}_resetGraphics(t){this._removeMidpointGraphics(t),this._removeVertexGraphics(t),this._removeCurveGraphics(t),this._updateTooltip()}_removeMidpointGraphics(t=this.layer){const{midpointGraphics:e}=this;t?.removeMany(e.items),e.drain(h)}_removeVertexGraphics(t=this.layer){const{vertexGraphics:e}=this;t?.removeMany(e.items),e.drain(h)}_removeCurveGraphics(t=this.layer){const{curveControlPointGraphics:e,constructionLineGraphics:i}=this;t?.removeMany(e.items),t?.removeMany(i.items),e.drain(h),i.drain(h)}_setupGraphics(){const t=this.graphic.geometry;if(null!=t&&(\"polyline\"===t.type||\"polygon\"===t.type||\"multipoint\"===t.type)){const e=gt(t);this.enableMidpoints&&\"multipoint\"!==t.type&&this._setUpMidpointGraphics(e),this.enableVertices&&(this._setUpVertexGraphics(e),this._setupCurveGraphics(e))}}_setUpMidpointGraphics(t){this._removeMidpointGraphics();const e=Q(t,this.symbols,this._coordinateHelper,\"polygon\"===this.graphic.geometry?.type);this.midpointGraphics.addMany(e),this.layer.addMany(e)}_setUpVertexGraphics(t){this._removeVertexGraphics();const e=W(t,this.symbols,this._coordinateHelper);this.vertexGraphics.addMany(e),this._storeRelatedVertexIndices(),this.layer.addMany(e)}_setupCurveGraphics(t){this._removeCurveGraphics();const e=X(t,this.symbols,this._coordinateHelper),i=Y(t,this.symbols,this._coordinateHelper);this.curveControlPointGraphics.addMany(e),this.constructionLineGraphics.addMany(i),this.layer.addMany(i),this.layer.addMany(e)}_updateSymbolsForTheme(){const t=this.view.effectiveTheme.accentColor;this.symbols={vertices:{...this.symbols.vertices,default:this.symbols.vertices.default.clone().set(\"color\",t),hover:this.symbols.vertices.hover?.clone().set(\"color\",t)},controlPoints:{...this.symbols.controlPoints,default:this.symbols.controlPoints.default.clone().set(\"color\",t),hover:this.symbols.controlPoints.hover?.clone().set(\"color\",t)},midpoints:{...this.symbols.midpoints},constructionLines:this.symbols.constructionLines.clone().set(\"color\",t)};for(const e of this.vertexGraphics)this._isSelected(e)?e.symbol=this.symbols.vertices.selected:this._hoverGraphic===e?e.symbol=this.symbols.vertices.hover:e.symbol=this.symbols.vertices.default;for(const e of this.curveControlPointGraphics)this._isSelected(e)?e.symbol=this.symbols.controlPoints.selected:this._hoverGraphic===e?e.symbol=this.symbols.controlPoints.hover:e.symbol=this.symbols.controlPoints.default;for(const e of this.constructionLineGraphics)e.symbol=this.symbols.constructionLines}_storeRelatedVertexIndices(){const t=this.vertexGraphics.items;if(!t)return;const e=t.map(({geometry:t})=>({x:t.x,y:t.y}));for(let i=0;i<e.length;i++){const s=[];for(let t=0;t<e.length;t++){if(i===t)continue;const o=e[i],r=e[t];o.x===r.x&&o.y===r.y&&s.push(t)}t[i].attributes[tt.relatedGraphicIndices]=s}}_setupMover(){const{enableMovement:t,graphic:e,midpointGraphics:i,vertexGraphics:s,view:o}=this,r=s.concat(i,this.curveControlPointGraphics).items;t&&\"multipoint\"!==e.geometry?.type&&r.push(e),this._mover=new D({enableMoveAllGraphics:!1,highlightsEnabled:!1,indicatorsEnabled:!1,graphics:r,view:o,callbacks:{onGraphicClick:t=>this._onGraphicClickCallback(t),onGraphicMoveStart:t=>this._onGraphicMoveStartCallback(t),onGraphicMove:t=>this._onGraphicMoveCallback(t),onGraphicMoveStop:t=>this._onGraphicMoveStopCallback(t),onGraphicPointerOver:t=>this._onGraphicPointerOverCallback(t),onGraphicPointerOut:t=>this._onGraphicPointerOutCallback(t)}})}_setupConnectedReshapeManager(){const{connectedReshapeProviders:t}=this;null!=t&&0!==t.length&&(this._connectedReshapeManager=new L({providerFactories:t,view:this.view}))}_onGraphicClickCallback(t){t.viewEvent.stopPropagation();const e=t.graphic,i=this._isCurveControlPoint(e);if(e===this.graphic)this.clearSelection(),this.emit(\"graphic-click\",t),this.callbacks.onGraphicClick?.(t);else if(this._isMidpoint(e)){if(2===t.viewEvent.button)return;const i=this.graphic.clone(),s=this._handleMidpointClickOrStartMove(t);this.refresh(),s.length&&this._emitVertexAddEvent([e],i,s)}else if(this._isVertex(e)||i){if(t.viewEvent.stopPropagation(),2===t.viewEvent.button)return void(i||this._removeVertices(e));t.viewEvent.native.shiftKey||this._clearSelection(),this.selectedManipulators.includes(e)?this._removeFromSelection(e,!0):this._addToSelection(e)}}_setUpOperation(t){const{graphic:e,dx:i,dy:s}=t,o=e===this.graphic;this._resetSnappingStateVars(),this._setUpGeometryHelper(),this._saveSnappingContextForHandle(e,t),this._activeOperationInfo={target:this.graphic,mover:e,operationType:o?\"move\":\"reshape\",totalDx:i,totalDy:s}}_onGraphicMoveStartCallback(t){const{dx:e,dy:i,graphic:s}=t,o=this._connectedReshapeManager,r=o?Vt(this.graphic):null;if(s===this.graphic){const{geometry:n}=s;return this._setUpOperation(t),this._emitMoveStartEvent(e,i),r&&o?.startFeatureMove([r]),void(null!=n&&\"point\"===n.type&&this._onHandleMove(s,e,i,t,()=>{this._updateTooltip(this.graphic,t.viewEvent),this._emitMoveEvent(e,i)}))}const{selectedManipulators:n}=this;if(!n.includes(s)){if(this._clearSelection(),this._isMidpoint(s)){const e=this.graphic.clone(),i=this._handleMidpointClickOrStartMove(t);i.length&&(this._emitVertexAddEvent([s],e,i),this._refreshGraphicIndicesAttributes(i[0]))}this._addToSelection(s)}if(this._setUpOperation(t),r){const t=n.filter(t=>this._isVertex(t));o?.startVertexMove(r,It(t))}this._emitReshapeStartEvent(s),this._onHandleMove(s,e,i,t,()=>{this._updateTooltip(s,t.viewEvent),this._emitReshapeEvent(s)})}_onGraphicMoveCallback(t){const e=this._activeOperationInfo;if(!e)return;const{dx:i,dy:s,graphic:o}=t;e.totalDx+=i,e.totalDy+=s;const{operationType:r}=e,{geometry:n}=o;if(null!=n)if(\"move\"!==r)this._onHandleMove(o,i,s,t,()=>{this._updateTooltip(o,t.viewEvent),this._emitReshapeEvent(o)});else if(\"point\"===n.type)this._onHandleMove(o,i,s,t,()=>{this._updateTooltip(this.graphic,t.viewEvent),this._emitMoveEvent(i,s)});else if(\"polyline\"===n.type||\"polygon\"===n.type){const e=gt(n);this._updateVertexGraphicLocations(e);const{dxMap:o,dyMap:r}=U(i,s,this.view);this._connectedReshapeManager?.translate(o,r,0),this._updateTooltip(this.graphic,t.viewEvent),this._emitMoveEvent(i,s)}}_onGraphicMoveStopCallback(t){const e=this._activeOperationInfo;if(!e)return;const{dx:i,dy:s,graphic:o}=t,{operationType:r}=e;e.totalDx+=i,e.totalDy+=s,this._onHandleMove(o,i,s,t,()=>\"move\"===r?this._emitMoveStopEvent():this._emitReshapeStopEvent(o)),this._isMidpoint(o)||o.getAttribute(tt.curveFromStraightEdgeFlag)?this.refresh():(this._updateTooltip(this._isVertex(o)?o:null),this._resetSnappingStateVars(),this._connectedReshapeManager?.finish(),this._activeOperationInfo=null)}_updateVertexGraphicLocations(t){const{_coordinateHelper:e}=this;for(const i of this.vertexGraphics){const{pathIndex:s,pointIndex:o}=i.attributes;i.geometry=e.arrayToPoint(O(t[s][o]))}this._updateMidpointGraphicLocations(t),this._updateCurveGraphicLocations(t)}_updateMidpointGraphicLocations(t){const{_coordinateHelper:e}=this;for(const i of this.midpointGraphics){const{pathIndex:s,pointIndexStart:o,pointIndexEnd:r}=i.attributes,n=t[s];i.geometry=et(n[o],n[r],e)}}_updateCurveGraphicLocations(t){const{spatialReference:e}=this._coordinateHelper,i=new Map;for(const s of this.selectedManipulators){const[t,e]=Et(s);null!=t&&null!=e&&s.getAttribute(tt.controlPointKind)&&a(i,t,()=>new Set)?.add(e)}for(const s of this.curveControlPointGraphics){const[e,o]=Et(s);if(i.get(e)?.has(o))continue;const r=t[e][o];if(V(r)||I(r)){const i=O(t[e][o-1]),n=V(r)?E(i,r):R(i,r),[a,h]=S(n,.25);s.geometry=new g({x:a,y:h,spatialReference:this._coordinateHelper.spatialReference})}else if(P(r)){const t=s.getAttribute(tt.controlPointKind),[e,i]=t===it.bezier.cp1?r.b[1]:r.b[2];s.geometry=new g({x:e,y:i,spatialReference:this._coordinateHelper.spatialReference})}}for(const s of this.constructionLineGraphics){const i=s.getAttribute(tt.controlPointKind),[o,r]=Et(s),n=t[o],a=O(n[r-1]),h=O(n[r]),p=t[o][r];i===it.bezier.line1?s.geometry=new f({paths:[[[a[0],a[1]],[...p.b[1]]]],spatialReference:e}):s.geometry=new f({paths:[[[h[0],h[1]],[...p.b[2]]]],spatialReference:e})}}_refreshGraphicIndicesAttributes(t){const{componentIndex:e,vertexIndex:i}=t,s=t=>{const[s,o]=Et(t);s===e&&o>=i&&t.setAttribute(tt.pointIndex,o+1)};this.vertexGraphics.forEach(s),this.curveControlPointGraphics.forEach(s),this.constructionLineGraphics.forEach(s);for(const o of this.midpointGraphics){if(o.getAttribute(tt.pathIndex)!==e)continue;const t=o.getAttribute(tt.pointIndexStart);t>=i&&(o.setAttribute(tt.pointIndexStart,t+1),o.setAttribute(tt.pointIndexEnd,o.getAttribute(tt.pointIndexEnd)+1))}}_getVertexFromEditGeometry(t){const[e,i]=Et(t);return p(this._editGeometryOperations),this._editGeometryOperations.data.parts[e].vertices[i]}_onHandleMove(t,e,s,o,r){c(this._snappingTask);const n=this._snappingContext;if(!n)return;const a=t.geometry,h=\"graphic-move-stop\"===o.type;if(a&&C(a))if(null!=this.snappingManager&&this.selectedManipulators.length<2&&!h){const o=this.snappingManager;this._stagedVertex=o.update({point:a,context:n}),this._syncGeometryAfterVertexMove(t,new g(this._stagedVertex),e,s,h),r(),this._snappingTask=i(async i=>{const p=await o.snap({point:a,context:n,signal:i});p.valid&&(this._stagedVertex=p.apply(),this._syncGeometryAfterVertexMove(t,new g(this._stagedVertex),e,s,h),r())})}else{const i=null!=this._stagedVertex?new g(this._stagedVertex):a;this._syncGeometryAfterVertexMove(t,i,e,s,h),r()}else r()}_syncGeometryAfterVertexMove(t,e,i,s,o=!1){const r=this._editGeometryOperations?.data.geometry;if(!r)return;const{_coordinateHelper:n}=this,a=n.pointToVector(e),h=this._getVertexFromEditGeometry(t);if(h){const t=n.getZ(a),e=a[0]-h.pos[0],i=a[1]-h.pos[1],s=null!=t?t-h.pos[2]:0;\"point\"!==r.type&&\"mesh\"!==r.type||this._editGeometryOperations?.moveVertices([h],e,i,s),this._connectedReshapeManager?.translate(e,i,s)}if(\"point\"===r.type)t.geometry=e;else if(\"mesh\"===r.type)t.geometry=r.centerAt(e);else{if(t!==this.graphic){const o=n.spatialReference,[a,h]=Et(t);let p=ft(r);const c=n.pointToArray(e);this._updateGeometryFromGraphic(t,p,a,h,c,o,\"polygon\"===r.type),this._isVertex(t)||this._isCurveControlPoint(t)?(p=this._moveRelatedCoordinates(p,t,c),p=this._moveSelectedHandleCoordinates(p,t,i,s,\"polygon\"===r.type),this._updateMidpointGraphicLocations(p),this._updateCurveGraphicLocations(p)):this._isMidpoint(t)&&this._updateCurveGraphicLocations(p),st(r,p)}this._updateGraphicGeometry(r.clone()),this._editGeometryOperations=lt.fromGeometry(r,2,{allowCurves:!0}),o&&(this._mover?this._mover.updateGeometry(this._mover.graphics.indexOf(t),e):t.geometry=e)}}_moveRelatedCoordinates(t,e,i){const{relatedGraphicIndices:s}=e.attributes,o=this._coordinateHelper.spatialReference;if(!s?.length)return t;for(const r of s){const s=this.vertexGraphics.at(r),[n,a]=Et(s);St(t,n,a,i,o),s.geometry=e.geometry}return t}_moveSelectedHandleCoordinates(t,e,i,s,o){const r=this._coordinateHelper.spatialReference;for(const n of this.selectedManipulators)if(n!==e){const[e,a]=Et(n),h=n.getAttribute(tt.relatedGraphicIndices),p=F(n.geometry,i,s,this.view),c=b(p);if(n.geometry=p,this._updateGeometryFromGraphic(n,t,e,a,c,r,o),h?.length)for(const i of h){const e=this.vertexGraphics.at(i),[s,o]=Et(e);St(t,s,o,c,r),e.geometry=p}}return t}_updateGeometryFromGraphic(t,e,i,s,o,r,n){const a=e[i].length-1;this._isCurveControlPoint(t)?xt(e,i,s,[o[0],o[1]],t.getAttribute(tt.controlPointKind)):(St(e,i,s,o,r),n&&(0===s?St(e,i,a,o,r):s===a&&(e[i][0]=o)))}_onGraphicPointerOverCallback(t){const e=t.graphic;this._hoverGraphic=e;const i=this._isVertex(e);i&&!this._isSelected(e)?e.symbol=this.symbols.vertices.hover:this._isCurveControlPoint(e)&&!this._isSelected(e)&&(e.symbol=this.symbols.controlPoints.hover),this._updateTooltip(i?e:null),this._updateHoverCursor(e)}_onGraphicPointerOutCallback(t){const e=t.graphic;this._hoverGraphic=null,this._isVertex(e)&&!this._isSelected(e)&&(e.symbol=this.symbols.vertices.default),this._isCurveControlPoint(e)&&!this._isSelected(e)&&(e.symbol=this.symbols.controlPoints.default),this.removeHandles(yt),this._updateTooltip()}_handleMidpointClickOrStartMove(t){const{graphic:e}=t,i=this.graphic.geometry;if(null==i||\"polygon\"!==i.type&&\"polyline\"!==i.type)return[];const s=i.clone(),o=[],{[tt.pathIndex]:r,[tt.pointIndexStart]:n,[tt.pointIndexEnd]:a}=e.attributes,h=b(e.geometry),p=0===a?n+1:a;e.attributes={[tt.tool]:ot,[tt.pathIndex]:r,[tt.pointIndex]:p,[tt.relatedGraphicIndices]:[]};const c=ft(s),l=c[r][a];if(k(l)){if(this.enableCurveOnMidpoint&&t.viewEvent.native.shiftKey){const t=O(c[r][p]);c[r].splice(p,1,{c:[t,[h[0],h[1]]]}),e.setAttribute(tt.controlPointKind,it.circle.interior),e.setAttribute(tt.curveFromStraightEdgeFlag,!0),this.midpointGraphics.remove(e),this.curveControlPointGraphics.push(e),st(s,c)}else c[r].splice(p,0,h),o.push({coordinates:c[r][p],componentIndex:r,vertexIndex:p})}else{const t=O(c[r][n]),e=rt(t,l,.5,this._coordinateHelper);c[r].splice(a,1,...e),o.push({coordinates:O(c[r][p]),componentIndex:r,vertexIndex:p})}return this._updateGraphicGeometry(s),o}_addToSelection(t){const e=Ot(t);for(const i of e)this._isCurveControlPoint(i)?i.symbol=this.symbols.controlPoints.selected:i.symbol=this.symbols.vertices.selected,this.selectedManipulators.add(i),this._updateTooltip(i);this._emitSelectEvent(e)}_removeFromSelection(t,e){if(this._isVertex(t)){const{vertices:i}=this.symbols;t.symbol=e?i.hover:i.default}else if(this._isCurveControlPoint(t)){const{controlPoints:i}=this.symbols;t.symbol=e?i.hover:i.default}this.selectedManipulators.remove(t),this._emitDeselectEvent([t]),this._updateTooltip()}_clearSelection(){const t=this.selectedManipulators.toArray(),{controlPoints:e,vertices:i}=this.symbols;if(t.length>0){for(const s of t)this._isVertex(s)?s.symbol=i.default:this._isCurveControlPoint(s)&&(s.symbol=e.default);this.selectedManipulators.removeAll(),this._emitDeselectEvent(t),this._updateTooltip()}}_keyDownHandler(t){null==this._activeOperationInfo&&ut(t,this.tooltip)||ct.delete.includes(t.key)&&!t.repeat&&this.selectedManipulators.length&&this._removeVertices(this.selectedManipulators)}_removeVertices(t){const e=this.graphic.geometry,i=this.vertexGraphics.length;if(null==e||\"polygon\"!==e.type&&\"polyline\"!==e.type&&\"multipoint\"!==e.type)return;if(\"polygon\"===e.type&&i<4||\"multipoint\"===e.type&&i<2||\"polyline\"===e.type&&i<3)return;const s=this.graphic.clone(),o=e.clone();let r=ft(o);const n=[],a=Ot(t);for(const h of a){if(this._isCurveControlPoint(h))continue;const{x:t,y:e}=h.geometry;for(let i=0;i<r.length;i++){const s=r[i];for(let o=0;o<s.length;o++){const[a,h]=O(s[o]);if(t===a&&e===h){n.push({coordinates:O(r[i][o]),componentIndex:i,vertexIndex:o}),r[i].splice(Number(o),1);const t=r[i][o];t&&!k(t)&&(r[i][o]=O(t))}}}}if(\"polygon\"===o.type)r=r.filter(t=>{if(t.length<2)return!1;const[e,i]=O(t[0]),[s,o]=O(t[t.length-1]);return(2!==t.length||e!==s||i!==o)&&(e===s&&i===o||t.push(t[0]),!0)});else if(\"polyline\"===o.type)for(const h of r)1===h.length&&r.splice(r.indexOf(h),1);st(o,r),this._updateGraphicGeometry(o),this.refresh(),this._emitVertexRemoveEvent(a,s,n)}_isVertex(t){return this.vertexGraphics.includes(t)}_isCurveControlPoint(t){return this.curveControlPointGraphics.includes(t)}_isConstructionLine(t){return this.constructionLineGraphics.includes(t)}_isSelected(t){return(this._isVertex(t)||this.curveControlPointGraphics.includes(t))&&this.selectedManipulators.includes(t)}_isMidpoint(t){return this.midpointGraphics.includes(t)}_updateHoverCursor(t){const e=this._isMidpoint(t)?\"copy\":\"move\";this.addHandles(this.view.acquireCursor(e,\"high\"),yt)}_updateTooltip(t,e){let i=null;const{graphic:s,view:o,tooltipInfos:r}=this,n=s?.geometry;\"point\"===n?.type?i=r.movePoint:this._selectedManipulator?i=r.selectedVertex:t===this.graphic?(i=r.translateGraphic,$(i,o,this._tooltipsContext,e)):t&&this.selectedManipulators.length>1&&(i=r.translateVertices,B(i,o,n,this._tooltipsContext,e)),this.activeTooltipInfo=i}_updateGraphicGeometry(t){this._updateHandlesOnExternalGeometryChange?.pause(),this.graphic.geometry=t,this._updateHandlesOnExternalGeometryChange?.resume()}_emitMoveStartEvent(t,e){const i={type:\"move-start\",mover:this.graphic,dx:t,dy:e};this.emit(\"move-start\",i),this.callbacks.onMoveStart?.(i)}_emitMoveEvent(t,e){const i={type:\"move\",mover:this.graphic,dx:t,dy:e};this.emit(\"move\",i),this.callbacks.onMove?.(i)}_emitMoveStopEvent(t,e){if(null==t||null==e){const i=this._activeOperationInfo;if(!i)return;t=i.totalDx,e=i.totalDy}const i={type:\"move-stop\",mover:this.graphic,dx:t,dy:e};this.emit(\"move-stop\",i),this.callbacks.onMoveStop?.(i)}_emitReshapeStartEvent(t){const e={type:\"reshape-start\",graphic:this.graphic,mover:t,selected:this.selectedManipulators.toArray()};this.emit(\"reshape-start\",e),this.callbacks.onReshapeStart?.(e)}_emitReshapeEvent(t){const e={type:\"reshape\",graphic:this.graphic,mover:t,selected:this.selectedManipulators.toArray()};this.emit(\"reshape\",e),this.callbacks.onReshape?.(e)}_emitReshapeStopEvent(t){const e={type:\"reshape-stop\",graphic:this.graphic,mover:t,selected:this.selectedManipulators.toArray()};this.emit(\"reshape-stop\",e),this.callbacks.onReshapeStop?.(e)}_emitSelectEvent(t){const e={type:\"vertex-select\",added:t};this.emit(\"select\",e),this.callbacks.onVertexSelect?.(e)}_emitDeselectEvent(t){const e={type:\"vertex-deselect\",removed:t};this.emit(\"deselect\",e),this.callbacks.onVertexDeselect?.(e)}_emitVertexAddEvent(t,e,i){const s={type:\"vertex-add\",added:t,graphic:this.graphic,oldGraphic:e,vertices:i};this.emit(\"vertex-add\",s),this.callbacks.onVertexAdd?.(s)}_emitVertexRemoveEvent(t,e,i){const s={type:\"vertex-remove\",removed:t,graphic:this.graphic,oldGraphic:e,vertices:i};this.emit(\"vertex-remove\",s),this.callbacks.onVertexRemove?.(s)}_logGeometryTypeError(){n.getLogger(this).error(new o(\"reshape:invalid-geometry\",\"Reshape operation not supported for the provided graphic. The geometry type is not supported.\"))}};function gt(t){const e=ft(t.clone());if(\"polygon\"===t.type)for(const i of e){const t=i[i.length-1];if(!k(t))continue;const e=i[0];e[0]===t[0]&&e[1]===t[1]&&i.length>2&&i.pop()}return e}function ft(t){return\"polygon\"===t.type?t.curveRings?.slice()??t.rings.slice():\"polyline\"===t.type?t.curvePaths?.slice()??t.paths.slice():t.points.map(t=>[t])}function Gt(t,e,i,s){const o=t[e][i];if(V(o))o.c[1]=s;else if(I(o)){const o=O(t[e][i]);t[e][i]={c:[o,s]}}}function xt(t,e,i,s,o){switch(o){case it.circle.interior:Gt(t,e,i,s);break;case it.bezier.cp1:t[e][i].b[1]=s;break;case it.bezier.cp2:t[e][i].b[2]=s}}function Mt(t,e){return t<1e-8*e}function bt(t,{cx:e,cy:i,isInvalid:s,thetaStart:o,thetaEnd:r},n,a){const[h,p]=t,[c,l]=n,d=c-h,m=l-p;e-=h,i-=p;const v=a?o>r:o<r,[u,y]=s?[e,i]:v?[-i,e]:[i,-e],[_,g]=[d,m],[f,G]=[u,y],x=_*G-g*f,M=(d**2+m**2)/2;if(Mt(Math.abs(x),M))return[(h+c)/2,(p+l)/2];const[b,C]=[G/x*M,-f/x*M],S=b**2+C**2,[E,w]=[d/2-b,m/2-C];if(Mt(E**2+w**2,S)){const[t,e]=v?[-C,b]:[C,-b];return[t+b+h,e+C+p]}const O=Math.sqrt((b**2+C**2)/(E**2+w**2))*Math.sign(d*u+m*y);return[E*O+b+h,w*O+C+p]}function Ct(t,e,i){const s=G(new f({curvePaths:[[t,e]],spatialReference:i})),{curvePaths:o}=x(s,i),r=o[0][1];return H(r)?r:w(t,r)}function St(t,e,i,s,o){const r=t[e][i],n=t[e].at(i+1);if(nt(t,e)){const i=t[e][1];return t[e][0]=[...s],void(t[e][1]={a:[[...s],[...i.a[1]],0,0]})}if(at(t,e)){const i=t[e][1],[o,r]=i.a[1],[n,a]=s,h=Math.hypot(n-o,a-r),[p,c]=[n-o,a-r],l=T(c,p);return t[e][0]=[...s],void(t[e][1]={a:[[...s],[...i.a[1]],0,0,l,h,i.a[6]]})}const a=O(r);if(k(r))r.splice(0,r.length,...s);else if(P(r))r.b[0].splice(0,r.b[0].length,...s);else if(V(r)||I(r)){const o=O(t[e][i-1]),n=V(r)?E(o,r):R(o,r);t[e].splice(i,1,{c:[[...s],bt(o,n,s,!0)]})}else if(H(r)){r.a[0].splice(0,r.a[0].length,...s);const n=O(t[e][i-1]);r.a=Ct(n,r,o).a}if(n&&!k(n)&&!P(r))if(V(n)||I(n)){const o=O(n),r=V(n)?E(a,n):R(a,n);t[e].splice(i+1,1,{c:[o,bt(o,r,s,!1)]})}else if(H(n)){const t=O(r);n.a=Ct(t,n,o).a}}function Et({attributes:t}){return[t?.[tt.pathIndex]||0,t?.[tt.pointIndex]||0]}function wt({attributes:t}){return`${t?.[tt.pathIndex]}-${t?.[tt.pointIndex]}`}function Ot(t){return t instanceof e?[t]:[...t]}function Vt(t){const e=t.sourceLayer??t.layer;return N(e)?{graphic:t,layer:e}:null}function It(t){return t.toArray().map(({attributes:t})=>({pathIndex:t[tt.pathIndex],vertexIndex:t[tt.pointIndex]}))}t([y()],_t.prototype,\"_activeOperationInfo\",void 0),t([y()],_t.prototype,\"_connectedReshapeManager\",void 0),t([y()],_t.prototype,\"_coordinateHelper\",null),t([y()],_t.prototype,\"_editGeometryOperations\",void 0),t([y()],_t.prototype,\"tooltip\",void 0),t([y()],_t.prototype,\"tooltipInfos\",void 0),t([y()],_t.prototype,\"activeTooltipInfo\",void 0),t([y({constructOnly:!0})],_t.prototype,\"automaticAreaMeasurementUtils\",void 0),t([y({constructOnly:!0})],_t.prototype,\"automaticLengthMeasurementUtils\",void 0),t([y()],_t.prototype,\"_selectedManipulator\",null),t([y()],_t.prototype,\"_tooltipsContext\",null),t([y()],_t.prototype,\"callbacks\",void 0),t([y()],_t.prototype,\"connectedReshapeProviders\",void 0),t([y()],_t.prototype,\"enableMidpoints\",void 0),t([y()],_t.prototype,\"enableCurveOnMidpoint\",void 0),t([y()],_t.prototype,\"enableMovement\",void 0),t([y()],_t.prototype,\"enableVertices\",void 0),t([y()],_t.prototype,\"graphic\",void 0),t([y()],_t.prototype,\"highlightName\",void 0),t([y()],_t.prototype,\"highlightsEnabled\",void 0),t([y()],_t.prototype,\"layer\",void 0),t([y()],_t.prototype,\"snappingManager\",void 0),t([y({readOnly:!0})],_t.prototype,\"state\",null),t([y()],_t.prototype,\"symbols\",void 0),t([y({type:dt})],_t.prototype,\"sketchOptions\",void 0),t([y({readOnly:!0})],_t.prototype,\"type\",void 0),t([y({readOnly:!0})],_t.prototype,\"vertexGraphics\",void 0),t([y({readOnly:!0})],_t.prototype,\"curveControlPointGraphics\",void 0),t([y({readOnly:!0})],_t.prototype,\"constructionLineGraphics\",void 0),t([y({readOnly:!0})],_t.prototype,\"midpointGraphics\",void 0),t([y({readOnly:!0})],_t.prototype,\"selectedManipulators\",void 0),t([y()],_t.prototype,\"view\",void 0),_t=t([_(\"esri.views.draw.support.Reshape\")],_t);const Pt=_t;export{Pt as default};\n"],"names":["_","a","w","G","i","e","m","u","c","t","r","P","o","f","L","d","h","b","n","F","s","j","p","v","y","g","l","x","T","U","k","R","E","C","S","K","Z","O","M","z","I","A","V","X","yt","_t","J","dt","wt","vt","q","ht","pt","lt","mt","gt","Q","W","Y","tt","D","Vt","It","et","Et","it","ft","st","St","xt","ot","rt","Ot","ut","ct","$","B","Gt","Mt","bt","Ct","H","nt","at","N","Pt"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}