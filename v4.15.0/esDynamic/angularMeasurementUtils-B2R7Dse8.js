import{a as P,n as U}from"./Cyclical-DzzhhXF6.js";import{h as d,c}from"./quantityUtils-BD77gkq3.js";import{an as v,T as _,az as u,eo as k}from"./main-pOgmbpmS.js";import{n as A,_ as B}from"./vec2f64-CkowXrDb.js";import{H as C,s as D,o as b}from"./vec32-DlcWpOx5.js";import{n as h}from"./projectVectorToVector-DAx0Hk-r.js";import{N as z,q as E,b as F,j as H}from"./geodesicUtils-DIr9siuq.js";function M(e,t){if(e==null||t==null)return;const r=w(e,t);return r!=null?c(r,"radians","geographic"):void 0}const w=(()=>{const e=u(),t=u();return(r,a)=>(b(e,r.x,r.y,r.z??0),b(t,a.x,a.y,a.z??0),x(e,t,r.spatialReference,a.spatialReference))})(),x=(()=>{const e=A(),t=u(),r=u();return(a,n,f,g)=>{if(C(a,n))return;const s=z(f),o=z(g);if(s&&o&&_(s,o)&&h(a,f,t,s)&&h(n,g,r,o)){const{azimuth:m}=E(Y,t,r,s);return m!=null?v(m,"degrees","radians"):void 0}e[0]=n[0]-a[0],e[1]=n[1]-a[1];let i=k(B,e);return e[0]<0&&(i=Z-i),i}})();function L(e,t,r,a="absolute"){if(t&&r)switch(a){case"absolute":return M(t,r);case"relative":return y(R(e,t,r),"relative");case"relative-bilateral":return y(R(e,t,r),"relative-bilateral")}}function R(e,t,r){if(!e||!t||!r)return;const a=w(e,t),n=w(t,r);return a!=null&&n!=null?c(n-a,"radians","geographic"):void 0}function y(e,t){if(e!=null)switch(t){case"absolute":return T(e);case"relative":{const r=l(e);let a=q.normalize(r,0,!0);return a===-180&&(a=180),c(a,"degrees","geographic")}case"relative-bilateral":{const r=l(e),a=Math.abs(q.normalize(r,0,!0));return c(a,"degrees","geographic")}}}function T(e){const t=l(e),r=$.normalize(t,0,!0);return c(r,"degrees","geographic")}const V=(()=>{const e=u();return(t,r,a,n,f,g="geodesic")=>{D(e,r);const s=l(f);if(g==="geodesic"){const p=z(a);if(p&&h(e,a,e,p))return H(t,e,s,n,p),t[2]=r[2],!!h(t,p,t,a)}const o=d(s,"geographic","arithmetic"),i=v(o,"degrees","radians"),m=r[0]+n*Math.cos(i),I=r[1]+n*Math.sin(i),N=r[2];return b(t,m,I,N),!0}})();function l(e){if(e!=null)return d(j(e),e.rotationType,"geographic")}function X(e){if(e!=null)return d(j(e),e.rotationType,"arithmetic")}function j(e){return v(e.value,e.unit,"degrees")}const Y=new F,Z=2*Math.PI,$=P,q=new U(-180,180);export{T as M,l as R,V as U,M as j,X as q,y as w,L as x,x as y};
