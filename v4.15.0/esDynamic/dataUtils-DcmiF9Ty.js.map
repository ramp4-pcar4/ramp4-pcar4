{"version":3,"file":"dataUtils-DcmiF9Ty.js","sources":["../../node_modules/@arcgis/core/views/2d/engine/flow/dataUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import{moduloPositive as e,deg2rad as n}from\"../../../../core/mathUtils.js\";import{throwIfAborted as r}from\"../../../../core/promiseUtils.js\";import o from\"../../../../core/RandomLCG.js\";import i from\"../../../../geometry/Extent.js\";import{getInfo as l}from\"../../../../geometry/support/spatialReferenceUtils.js\";const s=()=>t.getLogger(\"esri.views.2d.engine.flow.dataUtils\"),a=10;async function c(t,e,n,o){const i=performance.now(),l=f(e,n),c=performance.now(),h=d(e,l,n.width,n.height),u=performance.now(),m=w(h,!0),y=performance.now(),x=\"Streamlines\"===t?p(m,a):g(m),M=performance.now();return has(\"esri-2d-profiler\")&&(s().info(\"I.1\",\"_createFlowFieldFromData (ms)\",Math.round(c-i)),s().info(\"I.2\",\"_getStreamlines (ms)\",Math.round(u-c)),s().info(\"I.3\",\"createAnimatedLinesData (ms)\",Math.round(y-u)),s().info(\"I.4\",\"create{Streamlines|Particles}Mesh (ms)\",Math.round(M-y)),s().info(\"I.5\",\"createFlowMesh (ms)\",Math.round(M-i)),s().info(\"I.6\",\"Mesh size (bytes)\",x.vertexData.buffer.byteLength+x.indexData.buffer.byteLength)),await Promise.resolve(),r(o),x}function f(t,e){const n=m(e.data,e.width,e.height,t.smoothing);if(t.interpolate){return(t,r)=>{const o=Math.floor(t),i=Math.floor(r);if(o<0||o>=e.width)return[0,0];if(i<0||i>=e.height)return[0,0];const l=t-o,s=r-i,a=o,c=i,f=o<e.width-1?o+1:o,h=i<e.height-1?i+1:i,u=n[2*(c*e.width+a)],d=n[2*(c*e.width+f)],m=n[2*(h*e.width+a)],w=n[2*(h*e.width+f)],p=n[2*(c*e.width+a)+1],g=n[2*(c*e.width+f)+1];return[(u*(1-s)+m*s)*(1-l)+(d*(1-s)+w*s)*l,(p*(1-s)+n[2*(h*e.width+a)+1]*s)*(1-l)+(g*(1-s)+n[2*(h*e.width+f)+1]*s)*l]}}return(t,r)=>{const o=Math.round(t),i=Math.round(r);return o<0||o>=e.width||i<0||i>=e.height?[0,0]:[n[2*(i*e.width+o)],n[2*(i*e.width+o)+1]]}}function h(t,n,r,o,i,l,s,a){const c=[],{raster:f,width:h,height:u,resolutionFactor:d}=a;let m=o,w=i,p=0,[g,y]=r(m,w);g*=n.velocityScale,y*=n.velocityScale;const x=Math.sqrt(g*g+y*y);let M,A;c.push({x:m,y:w,t:p,speed:x});for(let v=0;v<n.verticesPerLine;v++){let[o,i]=r(m,w);o*=n.velocityScale,i*=n.velocityScale;const a=Math.sqrt(o*o+i*i);if(a<n.minSpeedThreshold)return c;const g=t*o/a,y=t*i/a;m+=g*n.segmentLength,w+=y*n.segmentLength,n.wrapAround&&(m=e(m,l[0]));if(p+=t*n.segmentLength/a,Math.acos(g*M+y*A)>n.maxTurnAngle)return c;if(n.collisions){let t=Math.round(m*d);const r=Math.round(w*d);if(n.wrapAround&&(t=e(t,h)),t<0||t>h-1||r<0||r>u-1)return c;const o=f[r*h+t];if(-1!==o&&o!==s)return c;f[r*h+t]=s}c.push({x:m,y:w,t:p,speed:a}),M=g,A=y}return c}function u(t,e,n,r,o,i,l,s){const a=Math.round((.2+.6*l.getFloat())*t.verticesPerLine),c=t.verticesPerLine-a,f=h(-1,{...t,verticesPerLine:c},e,n,r,o,i,s),u=h(1,{...t,verticesPerLine:a},e,n,r,o,i,s),d=f.reverse();d.splice(-1,1);return d.concat(u)}function d(t,e,n,r,i={positions:[]}){if(t.density<=0)return[];const{positions:l}=i,s=[],a=new o,c=1/Math.max(t.lineCollisionWidth,1),f=Math.round(n*c),d=Math.round(r*c),m=new Int32Array(f*d);for(let o=0;o<m.length;o++)m[o]=-1;const w={raster:m,width:f,height:d,resolutionFactor:c},p={},g=t.lineSpacing/Math.sqrt(t.density),y=Math.floor(r/g),x=Math.floor(n/g);for(let o=0;o<y;o++){const t=o*g;for(let e=0;e<x;e++){const n=e*g;p[`${e}-${o}`]={x:n,y:t,positions:[]}}}for(const{x:o,y:h}of l){const t=p[`${Math.floor(o/g)}-${Math.floor(h/g)}`];t&&t.positions.push([o,h])}const M=[];for(const o in p){const t=p[o];if(0===t.positions.length)M.push({x:t.x+g/2,y:t.y+g/2,sort:.66+.33*a.getFloat(),stage:0});else{const[e]=t.positions.splice(0,1);M.push({x:e[0],y:e[1],sort:.33*a.getFloat(),stage:1});for(const[n,r]of t.positions)M.push({x:n,y:r,sort:.33+.33*a.getFloat(),stage:2})}}M.sort((t,e)=>t.sort-e.sort);for(const{x:o,y:A,stage:v}of M){const i=t.onlyForwardTracing?h(1,t,e,o,A,[n,r],s.length,w):u(t,e,o,A,[n,r],s.length,a,w);i.length<2||s.push({stage:v,vertices:i})}return s}function m(t,e,n,r){if(0===r)return t;const o=Math.round(3*r),i=new Array(2*o+1);let l=0;for(let c=-o;c<=o;c++){const t=Math.exp(-c*c/(r*r));i[c+o]=t,l+=t}for(let c=-o;c<=o;c++)i[c+o]/=l;const s=new Float32Array(t.length);for(let c=0;c<n;c++)for(let n=0;n<e;n++){let r=0,l=0;for(let s=-o;s<=o;s++){if(n+s<0||n+s>=e)continue;const a=i[s+o];r+=a*t[2*(c*e+(n+s))],l+=a*t[2*(c*e+(n+s))+1]}s[2*(c*e+n)]=r,s[2*(c*e+n)+1]=l}const a=new Float32Array(t.length);for(let c=0;c<e;c++)for(let t=0;t<n;t++){let r=0,l=0;for(let a=-o;a<=o;a++){if(t+a<0||t+a>=n)continue;const f=i[a+o];r+=f*s[2*((t+a)*e+c)],l+=f*s[2*((t+a)*e+c)+1]}a[2*(t*e+c)]=r,a[2*(t*e+c)+1]=l}return a}function w(t,e){const n=new o,r=t.reduce((t,e)=>t+e.vertices.length,0),i=new Float32Array(4*r),l=new Array(t.length);let s=0,a=0;for(const{vertices:o}of t){const t=s;for(const e of o)i[4*s]=e.x,i[4*s+1]=e.y,i[4*s+2]=e.t,i[4*s+3]=e.speed,s++;l[a++]={startVertex:t,numberOfVertices:o.length,totalTime:o[o.length-1].t,timeSeed:e?n.getFloat():0}}return{lineVertices:i,lineDescriptors:l}}function p(t,e){const n=9,{lineVertices:r,lineDescriptors:o}=t;let i=0,l=0;for(const d of o){i+=2*d.numberOfVertices;l+=6*(d.numberOfVertices-1)}const s=new Float32Array(i*n),a=new Uint32Array(l);let c=0,f=0;function h(){a[f++]=c-2,a[f++]=c,a[f++]=c-1,a[f++]=c,a[f++]=c+1,a[f++]=c-1}function u(t,e,r,o,i,l,a,f){const h=c*n;let u=0;s[h+u++]=t,s[h+u++]=e,s[h+u++]=1,s[h+u++]=r,s[h+u++]=l,s[h+u++]=a,s[h+u++]=o/2,s[h+u++]=i/2,s[h+u++]=f,c++,s[h+u++]=t,s[h+u++]=e,s[h+u++]=-1,s[h+u++]=r,s[h+u++]=l,s[h+u++]=a,s[h+u++]=-o/2,s[h+u++]=-i/2,s[h+u++]=f,c++}for(const d of o){const{totalTime:t,timeSeed:n}=d;let o=null,i=null,l=null,s=null,a=null,c=null;for(let f=0;f<d.numberOfVertices;f++){const m=r[4*(d.startVertex+f)],w=r[4*(d.startVertex+f)+1],p=r[4*(d.startVertex+f)+2],g=r[4*(d.startVertex+f)+3];let y=null,x=null,M=null,A=null;if(f>0){y=m-o,x=w-i;const r=Math.sqrt(y*y+x*x);if(y/=r,x/=r,f>1){let t=y+a,n=x+c;const r=Math.sqrt(t*t+n*n);t/=r,n/=r;const o=Math.min(1/(t*y+n*x),e);t*=o,n*=o,M=-n,A=t}else M=-x,A=y;null!==M&&null!==A&&(u(o,i,l,M,A,t,n,g),h())}o=m,i=w,l=p,a=y,c=x,s=g}u(o,i,l,-c,a,t,n,s)}return{vertexData:s,indexData:a}}function g(t){const e=16,n=1,r=2,{lineVertices:o,lineDescriptors:i}=t;let l=0,s=0;for(const S of i){const t=S.numberOfVertices-1;l+=4*t*2,s+=6*t*2}const a=new Float32Array(l*e),c=new Uint32Array(s);let f,h,u,d,m,w,p,g,y,x,M,A,v,F,I=0,V=0;function L(){c[V++]=I-8,c[V++]=I-7,c[V++]=I-6,c[V++]=I-7,c[V++]=I-5,c[V++]=I-6,c[V++]=I-4,c[V++]=I-3,c[V++]=I-2,c[V++]=I-3,c[V++]=I-1,c[V++]=I-2}function b(t,o,i,l,s,c,f,h,u,d,m,w,p,g){const y=I*e;let x=0;for(const e of[n,r])for(const n of[1,2,3,4])a[y+x++]=t,a[y+x++]=o,a[y+x++]=i,a[y+x++]=l,a[y+x++]=f,a[y+x++]=h,a[y+x++]=u,a[y+x++]=d,a[y+x++]=e,a[y+x++]=n,a[y+x++]=p,a[y+x++]=g,a[y+x++]=s/2,a[y+x++]=c/2,a[y+x++]=m/2,a[y+x++]=w/2,I++}function k(t,e){let n=y+M,r=x+A;const o=Math.sqrt(n*n+r*r);n/=o,r/=o;const i=y*n+x*r;n/=i,r/=i;let l=M+v,s=A+F;const a=Math.sqrt(l*l+s*s);l/=a,s/=a;const c=M*l+A*s;l/=c,s/=c,b(f,h,u,d,-r,n,m,w,p,g,-s,l,t,e),L()}function D(t,e,n,r,o,i){if(y=M,x=A,M=v,A=F,null==y&&null==x&&(y=M,x=A),null!=m&&null!=w){v=t-m,F=e-w;const n=Math.sqrt(v*v+F*F);v/=n,F/=n}null!=y&&null!=x&&k(o,i),f=m,h=w,u=p,d=g,m=t,w=e,p=n,g=r}function P(t,e){y=M,x=A,M=v,A=F,null==y&&null==x&&(y=M,x=A),null!=y&&null!=x&&k(t,e)}for(const S of i){f=null,h=null,u=null,d=null,m=null,w=null,p=null,g=null,y=null,x=null,M=null,A=null,v=null,F=null;const{totalTime:t,timeSeed:e}=S;for(let n=0;n<S.numberOfVertices;n++){D(o[4*(S.startVertex+n)],o[4*(S.startVertex+n)+1],o[4*(S.startVertex+n)+2],o[4*(S.startVertex+n)+3],t,e)}P(t,e)}return{vertexData:a,indexData:c}}function y(t,e,r=e.width,o=e.height,i=0,l=0){const s=e.pixels,a=r*o,c=2,f=new Float32Array(a*c),h=e.width,u=(t,e)=>t+i+(e+l)*h,d=(t,e)=>t+e*r;let m;if(null!=e.mask)if(r!==e.width||o!==e.height||0!==i||0!==l){m=new Uint8Array(a*c);const t=e.mask;for(let e=0;e<o;++e)for(let n=0;n<r;++n){const r=u(n,e),o=d(n,e);m[c*o]=t[c*r],m[c*o+1]=t[c*r+1]}}else m=e.mask;else m=new Uint8Array(a*c),m.fill(255);if(\"vector-uv\"===t)for(let n=0;n<o;++n)for(let t=0;t<r;++t){const e=u(t,n),r=d(t,n);f[c*r]=s[0][e],f[c*r+1]=-s[1][e]}else if(\"vector-magdir\"===t){const{cos:t,sin:e}=Math;for(let i=0;i<o;++i)for(let o=0;o<r;++o){const r=u(o,i),l=d(o,i),a=s[0][r],h=n(s[1][r]),m=t(h-Math.PI/2),w=e(h-Math.PI/2);f[c*l]=m*a,f[c*l+1]=w*a}}return{data:f,mask:m,width:r,height:o}}async function x(t,e,n,r,o,a){const c=performance.now(),f=l(e.spatialReference);if(!f){const i=await M(t,e,n,r,o,a);return has(\"esri-2d-profiler\")&&s().info(\"I.7\",\"loadImagery, early exit (ms)\",Math.round(performance.now()-c)),has(\"esri-2d-profiler\")&&s().info(\"I.9\",\"Number of parts\",1),i}const[h,u]=f.valid,d=u-h,m=Math.ceil(e.width/d),w=e.width/m,p=Math.round(n/m);let g=e.xmin;const y=[],x=performance.now();for(let l=0;l<m;l++){const n=new i({xmin:g,xmax:g+w,ymin:e.ymin,ymax:e.ymax,spatialReference:e.spatialReference});y.push(M(t,n,p,r,o,a)),g+=w}const A=await Promise.all(y);if(has(\"esri-2d-profiler\")&&s().info(\"I.8\",\"All calls to _fetchPart (ms)\",Math.round(performance.now()-x)),has(\"esri-2d-profiler\")&&s().info(\"I.9\",\"Number of parts\",A.length),1===A.length)return has(\"esri-2d-profiler\")&&s().info(\"I.10\",\"loadImagery, general exit without stitching back (ms)\",Math.round(performance.now()-c)),A[0];const v={data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r};let F=0;for(const i of A){for(let t=0;t<i.height;t++)for(let e=0;e<i.width;e++)F+e>=n||(v.data[2*(t*n+F+e)]=i.data[2*(t*i.width+e)],v.data[2*(t*n+F+e)+1]=i.data[2*(t*i.width+e)+1],v.mask[t*n+F+e]=i.mask[t*i.width+e]);F+=i.width}return has(\"esri-2d-profiler\")&&s().info(\"I.10\",\"loadImagery, general exit (ms)\",Math.round(performance.now()-c)),v}async function M(t,e,n,r,o,i){const l={requestProjectedLocalDirections:!0,signal:i};if(null!=o&&(l.timeExtent=o),\"imagery\"===t.type){await t.load({signal:i});const o=await t.internalFetchImage(e,n,r,l);if(null==o?.pixelData?.pixelBlock)return{data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r};return y(t.rasterInfo.dataType,o.pixelData.pixelBlock)}await t.load({signal:i});const s=await t.fetchPixels(e,n,r,l);if(null==s?.pixelBlock)return{data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r};return y(t.serviceRasterInfo.dataType,s.pixelBlock)}export{w as createAnimatedLinesData,f as createFlowFieldFromData,c as createFlowMesh,g as createParticlesMesh,p as createStreamlinesMesh,x as loadImagery,y as toFlowData,d as traceFlowPaths};\n"],"names":["s","t","a","c","e","n","o","i","l","f","h","d","u","m","w","y","x","p","g","M","has","r","A","v","S","F","I","V","L","b","k","D","P"],"mappings":";AAI4Y,MAAMA,IAAE,MAAIC,GAAE,UAAU,qCAAqC,GAAEC,KAAE;AAAG,eAAeC,GAAEF,GAAEG,GAAEC,GAAEC,GAAE;AAAC,QAAMC,IAAE,YAAY,IAAG,GAAGC,IAAEC,GAAEL,GAAEC,CAAC,GAAE,IAAE,YAAY,IAAG,GAAGK,IAAEC,GAAEP,GAAEI,GAAEH,EAAE,OAAMA,EAAE,MAAM,GAAEO,IAAE,YAAY,IAAG,GAAGC,IAAEC,GAAEJ,CAAI,GAAEK,IAAE,YAAY,IAAG,GAAGC,IAAkBf,MAAhB,gBAAkBgB,GAAEJ,GAAEX,EAAC,IAAEgB,GAAEL,CAAC,GAAEM,IAAE,YAAY;AAAM,SAAOC,EAAI,kBAAkB,MAAIpB,EAAC,EAAG,KAAK,OAAM,iCAAgC,KAAK,MAAM,IAAEO,CAAC,CAAC,GAAEP,EAAC,EAAG,KAAK,OAAM,wBAAuB,KAAK,MAAMY,IAAE,CAAC,CAAC,GAAEZ,EAAC,EAAG,KAAK,OAAM,gCAA+B,KAAK,MAAMe,IAAEH,CAAC,CAAC,GAAEZ,EAAC,EAAG,KAAK,OAAM,0CAAyC,KAAK,MAAMmB,IAAEJ,CAAC,CAAC,GAAEf,IAAI,KAAK,OAAM,uBAAsB,KAAK,MAAMmB,IAAEZ,CAAC,CAAC,GAAEP,EAAC,EAAG,KAAK,OAAM,qBAAoBgB,EAAE,WAAW,OAAO,aAAWA,EAAE,UAAU,OAAO,UAAU,IAAG,MAAM,QAAQ,QAAO,GAAGK,GAAEf,CAAC,GAAEU;AAAC;AAAC,SAASP,GAAER,GAAEG,GAAE;AAAC,QAAMC,IAAEQ,GAAET,EAAE,MAAKA,EAAE,OAAMA,EAAE,QAAOH,EAAE,SAAS;AAAE,SAAGA,EAAE,cAAmB,CAACA,GAAEoB,MAAI;AAAC,UAAMf,IAAE,KAAK,MAAML,CAAC,GAAEM,IAAE,KAAK,MAAMc,CAAC;AAAE,QAAGf,IAAE,KAAGA,KAAGF,EAAE,MAAM,QAAM,CAAC,GAAE,CAAC;AAAE,QAAGG,IAAE,KAAGA,KAAGH,EAAE,OAAO,QAAM,CAAC,GAAE,CAAC;AAAE,UAAMI,IAAEP,IAAEK,GAAEN,IAAEqB,IAAEd,GAAEL,IAAEI,GAAEH,IAAEI,GAAEE,IAAEH,IAAEF,EAAE,QAAM,IAAEE,IAAE,IAAEA,GAAEI,IAAEH,IAAEH,EAAE,SAAO,IAAEG,IAAE,IAAEA,GAAEK,IAAEP,EAAE,KAAGF,IAAEC,EAAE,QAAMF,EAAE,GAAES,IAAEN,EAAE,KAAGF,IAAEC,EAAE,QAAMK,EAAE,GAAEI,IAAER,EAAE,KAAGK,IAAEN,EAAE,QAAMF,EAAE,GAAEY,IAAET,EAAE,KAAGK,IAAEN,EAAE,QAAMK,EAAE,GAAEQ,IAAEZ,EAAE,KAAGF,IAAEC,EAAE,QAAMF,KAAG,CAAC,GAAEgB,IAAEb,EAAE,KAAGF,IAAEC,EAAE,QAAMK,KAAG,CAAC;AAAE,WAAM,EAAEG,KAAG,IAAEZ,KAAGa,IAAEb,MAAI,IAAEQ,MAAIG,KAAG,IAAEX,KAAGc,IAAEd,KAAGQ,IAAGS,KAAG,IAAEjB,KAAGK,EAAE,KAAGK,IAAEN,EAAE,QAAMF,KAAG,CAAC,IAAEF,MAAI,IAAEQ,MAAIU,KAAG,IAAElB,KAAGK,EAAE,KAAGK,IAAEN,EAAE,QAAMK,KAAG,CAAC,IAAET,KAAGQ,CAAC;AAAA,EAAC,IAAQ,CAACP,GAAEoB,MAAI;AAAC,UAAMf,IAAE,KAAK,MAAML,CAAC,GAAEM,IAAE,KAAK,MAAMc,CAAC;AAAE,WAAOf,IAAE,KAAGA,KAAGF,EAAE,SAAOG,IAAE,KAAGA,KAAGH,EAAE,SAAO,CAAC,GAAE,CAAC,IAAE,CAACC,EAAE,KAAGE,IAAEH,EAAE,QAAME,EAAE,GAAED,EAAE,KAAGE,IAAEH,EAAE,QAAME,KAAG,CAAC,CAAC;AAAA,EAAC;AAAC;AAAC,SAASI,EAAET,GAAEI,GAAEgB,GAAEf,GAAEC,GAAEC,GAAER,GAAEE,GAAE;AAAC,QAAMC,IAAE,IAAG,EAAC,QAAOM,GAAE,OAAMC,GAAE,QAAOE,GAAE,kBAAiBD,EAAC,IAAET;AAAE,MAAIW,IAAEP,GAAEQ,IAAEP,GAAEU,IAAE,GAAE,CAACC,GAAE,CAAC,IAAEG,EAAER,GAAEC,CAAC;AAAE,EAAAI,KAAGb,EAAE,eAAc,KAAGA,EAAE;AAAc,QAAMW,IAAE,KAAK,KAAKE,IAAEA,IAAE,IAAE,CAAC;AAAE,MAAIC,GAAEG;AAAE,EAAAnB,EAAE,KAAK,EAAC,GAAEU,GAAE,GAAEC,GAAE,GAAEG,GAAE,OAAMD,EAAC,CAAC;AAAE,WAAQO,IAAE,GAAEA,IAAElB,EAAE,iBAAgBkB,KAAI;AAAC,QAAG,CAACjB,GAAEC,CAAC,IAAEc,EAAER,GAAEC,CAAC;AAAE,IAAAR,KAAGD,EAAE,eAAcE,KAAGF,EAAE;AAAc,UAAMH,IAAE,KAAK,KAAKI,IAAEA,IAAEC,IAAEA,CAAC;AAAE,QAAGL,IAAEG,EAAE,kBAAkB,QAAOF;AAAE,UAAMe,IAAEjB,IAAEK,IAAEJ,GAAEa,IAAEd,IAAEM,IAAEL;AAAwE,QAAtEW,KAAGK,IAAEb,EAAE,eAAcS,KAAGC,IAAEV,EAAE,eAAcA,EAAE,eAAaQ,IAAET,EAAES,GAAEL,EAAE,CAAC,CAAC,IAAMS,KAAGhB,IAAEI,EAAE,gBAAcH,GAAE,KAAK,KAAKgB,IAAEC,IAAEJ,IAAEO,CAAC,IAAEjB,EAAE,aAAa,QAAOF;AAAE,QAAGE,EAAE,YAAW;AAAC,UAAIJ,IAAE,KAAK,MAAMY,IAAEF,CAAC;AAAE,YAAMU,IAAE,KAAK,MAAMP,IAAEH,CAAC;AAAE,UAAGN,EAAE,eAAaJ,IAAEG,EAAEH,GAAES,CAAC,IAAGT,IAAE,KAAGA,IAAES,IAAE,KAAGW,IAAE,KAAGA,IAAET,IAAE,EAAE,QAAOT;AAAE,YAAMG,IAAEG,EAAEY,IAAEX,IAAET,CAAC;AAAE,UAAQK,MAAL,MAAQA,MAAIN,EAAE,QAAOG;AAAE,MAAAM,EAAEY,IAAEX,IAAET,CAAC,IAAED;AAAA,IAAC;AAAC,IAAAG,EAAE,KAAK,EAAC,GAAEU,GAAE,GAAEC,GAAE,GAAEG,GAAE,OAAMf,EAAC,CAAC,GAAEiB,IAAED,GAAEI,IAAEP;AAAA,EAAC;AAAC,SAAOZ;AAAC;AAAC,SAASS,GAAEX,GAAEG,GAAEC,GAAEgB,GAAEf,GAAEC,GAAEC,GAAE,GAAE;AAAC,QAAMN,IAAE,KAAK,OAAO,MAAG,MAAGM,EAAE,SAAQ,KAAIP,EAAE,eAAe,GAAEE,IAAEF,EAAE,kBAAgBC,GAAEO,IAAEC,EAAE,IAAG,EAAC,GAAGT,GAAE,iBAAgBE,EAAC,GAAEC,GAAEC,GAAEgB,GAAEf,GAAEC,GAAE,CAAC,GAAEK,IAAEF,EAAE,GAAE,EAAC,GAAGT,GAAE,iBAAgBC,EAAC,GAAEE,GAAEC,GAAEgB,GAAEf,GAAEC,GAAE,CAAC,GAAEI,IAAEF,EAAE,QAAO;AAAG,SAAAE,EAAE,OAAO,IAAG,CAAC,GAASA,EAAE,OAAOC,CAAC;AAAC;AAAC,SAASD,GAAEV,GAAEG,GAAEC,GAAEgB,GAAEd,IAAE,EAAC,WAAU,CAAA,EAAE,GAAE;AAAC,MAAGN,EAAE,WAAS,EAAE,QAAM,CAAA;AAAG,QAAK,EAAC,WAAUO,EAAC,IAAED,GAAEP,IAAE,CAAA,GAAGE,IAAE,IAAII,KAAEH,IAAE,IAAE,KAAK,IAAIF,EAAE,oBAAmB,CAAC,GAAEQ,IAAE,KAAK,MAAMJ,IAAEF,CAAC,GAAEQ,IAAE,KAAK,MAAMU,IAAElB,CAAC,GAAEU,IAAE,IAAI,WAAWJ,IAAEE,CAAC;AAAE,WAAQL,IAAE,GAAEA,IAAEO,EAAE,QAAOP,IAAI,CAAAO,EAAEP,CAAC,IAAE;AAAG,QAAMQ,IAAE,EAAC,QAAOD,GAAE,OAAMJ,GAAE,QAAOE,GAAE,kBAAiBR,EAAC,GAAEc,IAAE,CAAA,GAAGC,IAAEjB,EAAE,cAAY,KAAK,KAAKA,EAAE,OAAO,GAAEc,IAAE,KAAK,MAAMM,IAAEH,CAAC,GAAEF,IAAE,KAAK,MAAMX,IAAEa,CAAC;AAAE,WAAQZ,IAAE,GAAEA,IAAES,GAAET,KAAI;AAAC,UAAML,IAAEK,IAAEY;AAAE,aAAQd,IAAE,GAAEA,IAAEY,GAAEZ,KAAI;AAAC,YAAMC,IAAED,IAAEc;AAAE,MAAAD,EAAE,GAAGb,CAAC,IAAIE,CAAC,EAAE,IAAE,EAAC,GAAED,GAAE,GAAEJ,GAAE,WAAU,CAAA,EAAE;AAAA,IAAC;AAAA,EAAC;AAAC,aAAS,EAAC,GAAEK,GAAE,GAAEI,EAAC,KAAIF,GAAE;AAAC,UAAMP,IAAEgB,EAAE,GAAG,KAAK,MAAMX,IAAEY,CAAC,CAAC,IAAI,KAAK,MAAMR,IAAEQ,CAAC,CAAC,EAAE;AAAE,IAAAjB,KAAGA,EAAE,UAAU,KAAK,CAACK,GAAEI,CAAC,CAAC;AAAA,EAAC;AAAC,QAAMS,IAAE;AAAG,aAAUb,KAAKW,GAAE;AAAC,UAAMhB,IAAEgB,EAAEX,CAAC;AAAE,QAAOL,EAAE,UAAU,WAAhB,EAAuB,CAAAkB,EAAE,KAAK,EAAC,GAAElB,EAAE,IAAEiB,IAAE,GAAE,GAAEjB,EAAE,IAAEiB,IAAE,GAAE,MAAK,OAAI,OAAIhB,EAAE,SAAQ,GAAG,OAAM,EAAC,CAAC;AAAA,SAAM;AAAC,YAAK,CAACE,CAAC,IAAEH,EAAE,UAAU,OAAO,GAAE,CAAC;AAAE,MAAAkB,EAAE,KAAK,EAAC,GAAEf,EAAE,CAAC,GAAE,GAAEA,EAAE,CAAC,GAAE,MAAK,OAAIF,EAAE,YAAW,OAAM,EAAC,CAAC;AAAE,iBAAS,CAACG,GAAEgB,CAAC,KAAIpB,EAAE,UAAU,CAAAkB,EAAE,KAAK,EAAC,GAAEd,GAAE,GAAEgB,GAAE,MAAK,OAAI,OAAInB,EAAE,SAAQ,GAAG,OAAM,EAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAC,EAAAiB,EAAE,KAAK,CAAClB,GAAEG,MAAIH,EAAE,OAAKG,EAAE,IAAI;AAAE,aAAS,EAAC,GAAEE,GAAE,GAAEgB,GAAE,OAAMC,EAAC,KAAIJ,GAAE;AAAC,UAAMZ,IAAEN,EAAE,qBAAmBS,EAAE,GAAET,GAAEG,GAAEE,GAAEgB,GAAE,CAACjB,GAAEgB,CAAC,GAAErB,EAAE,QAAOc,CAAC,IAAEF,GAAEX,GAAEG,GAAEE,GAAEgB,GAAE,CAACjB,GAAEgB,CAAC,GAAErB,EAAE,QAAOE,GAAEY,CAAC;AAAE,IAAAP,EAAE,SAAO,KAAGP,EAAE,KAAK,EAAC,OAAMuB,GAAE,UAAShB,EAAC,CAAC;AAAA,EAAC;AAAC,SAAOP;AAAC;AAAC,SAASa,GAAEZ,GAAEG,GAAEC,GAAEgB,GAAE;AAAC,MAAOA,MAAJ,EAAM,QAAOpB;AAAE,QAAMK,IAAE,KAAK,MAAM,IAAEe,CAAC,GAAEd,IAAE,IAAI,MAAM,IAAED,IAAE,CAAC;AAAE,MAAIE,IAAE;AAAE,WAAQL,IAAE,CAACG,GAAEH,KAAGG,GAAEH,KAAI;AAAC,UAAMF,IAAE,KAAK,IAAI,CAACE,IAAEA,KAAGkB,IAAEA,EAAE;AAAE,IAAAd,EAAEJ,IAAEG,CAAC,IAAEL,GAAEO,KAAGP;AAAA,EAAC;AAAC,WAAQE,IAAE,CAACG,GAAEH,KAAGG,GAAEH,IAAI,CAAAI,EAAEJ,IAAEG,CAAC,KAAGE;AAAE,QAAM,IAAE,IAAI,aAAaP,EAAE,MAAM;AAAE,WAAQE,IAAE,GAAEA,IAAEE,GAAEF,IAAI,UAAQE,IAAE,GAAEA,IAAED,GAAEC,KAAI;AAAC,QAAIgB,IAAE,GAAEb,IAAE;AAAE,aAAQR,IAAE,CAACM,GAAEN,KAAGM,GAAEN,KAAI;AAAC,UAAGK,IAAEL,IAAE,KAAGK,IAAEL,KAAGI,EAAE;AAAS,YAAMF,IAAEK,EAAEP,IAAEM,CAAC;AAAE,MAAAe,KAAGnB,IAAED,EAAE,KAAGE,IAAEC,KAAGC,IAAEL,GAAG,GAAEQ,KAAGN,IAAED,EAAE,KAAGE,IAAEC,KAAGC,IAAEL,MAAI,CAAC;AAAA,IAAC;AAAC,MAAE,KAAGG,IAAEC,IAAEC,EAAE,IAAEgB,GAAE,EAAE,KAAGlB,IAAEC,IAAEC,KAAG,CAAC,IAAEG;AAAA,EAAC;AAAC,QAAMN,IAAE,IAAI,aAAaD,EAAE,MAAM;AAAE,WAAQE,IAAE,GAAEA,IAAEC,GAAED,IAAI,UAAQF,IAAE,GAAEA,IAAEI,GAAEJ,KAAI;AAAC,QAAIoB,IAAE,GAAEb,IAAE;AAAE,aAAQN,IAAE,CAACI,GAAEJ,KAAGI,GAAEJ,KAAI;AAAC,UAAGD,IAAEC,IAAE,KAAGD,IAAEC,KAAGG,EAAE;AAAS,YAAM,IAAEE,EAAEL,IAAEI,CAAC;AAAE,MAAAe,KAAG,IAAE,EAAE,MAAIpB,IAAEC,KAAGE,IAAED,EAAE,GAAEK,KAAG,IAAE,EAAE,MAAIP,IAAEC,KAAGE,IAAED,KAAG,CAAC;AAAA,IAAC;AAAC,IAAAD,EAAE,KAAGD,IAAEG,IAAED,EAAE,IAAEkB,GAAEnB,EAAE,KAAGD,IAAEG,IAAED,KAAG,CAAC,IAAEK;AAAA,EAAC;AAAC,SAAON;AAAC;AAAC,SAASY,GAAEb,GAAEG,GAAE;AAAC,QAAMC,IAAE,IAAIC,KAAEe,IAAEpB,EAAE,OAAO,CAACA,GAAEG,MAAIH,IAAEG,EAAE,SAAS,QAAO,CAAC,GAAEG,IAAE,IAAI,aAAa,IAAEc,CAAC,GAAEb,IAAE,IAAI,MAAMP,EAAE,MAAM;AAAE,MAAID,IAAE,GAAEE,IAAE;AAAE,aAAS,EAAC,UAASI,EAAC,KAAIL,GAAE;AAAC,UAAMA,IAAED;AAAE,eAAUI,KAAKE,EAAE,CAAAC,EAAE,IAAEP,CAAC,IAAEI,EAAE,GAAEG,EAAE,IAAEP,IAAE,CAAC,IAAEI,EAAE,GAAEG,EAAE,IAAEP,IAAE,CAAC,IAAEI,EAAE,GAAEG,EAAE,IAAEP,IAAE,CAAC,IAAEI,EAAE,OAAMJ;AAAI,IAAAQ,EAAEN,GAAG,IAAE,EAAC,aAAYD,GAAE,kBAAiBK,EAAE,QAAO,WAAUA,EAAEA,EAAE,SAAO,CAAC,EAAE,GAAE,UAAWD,EAAE,SAAQ,EAAI;AAAA,EAAC;AAAC,SAAM,EAAC,cAAaE,GAAE,iBAAgBC,EAAC;AAAC;AAAC,SAASS,GAAEhB,GAAEG,GAAE;AAAC,QAAU,EAAC,cAAaiB,GAAE,iBAAgBf,EAAC,IAAEL;AAAE,MAAIM,IAAE,GAAEC,IAAE;AAAE,aAAUG,KAAKL;AAAG,IAAAC,KAAG,IAAEI,EAAE,kBAAiBH,KAAG,KAAGG,EAAE,mBAAiB;AAAG,QAAM,IAAE,IAAI,aAAaJ,IAAE,CAAC,GAAEL,IAAE,IAAI,YAAYM,CAAC;AAAE,MAAIL,IAAE,GAAEM,IAAE;AAAE,WAASC,IAAG;AAAC,IAAAR,EAAEO,GAAG,IAAEN,IAAE,GAAED,EAAEO,GAAG,IAAEN,GAAED,EAAEO,GAAG,IAAEN,IAAE,GAAED,EAAEO,GAAG,IAAEN,GAAED,EAAEO,GAAG,IAAEN,IAAE,GAAED,EAAEO,GAAG,IAAEN,IAAE;AAAA,EAAC;AAAC,WAASS,EAAEX,GAAEG,GAAEiB,GAAEf,GAAEC,GAAEC,GAAEN,GAAEO,GAAE;AAAC,UAAMC,IAAEP,IAAE;AAAE,QAAIS,IAAE;AAAE,MAAEF,IAAEE,GAAG,IAAEX,GAAE,EAAES,IAAEE,GAAG,IAAER,GAAE,EAAEM,IAAEE,GAAG,IAAE,GAAE,EAAEF,IAAEE,GAAG,IAAES,GAAE,EAAEX,IAAEE,GAAG,IAAEJ,GAAE,EAAEE,IAAEE,GAAG,IAAEV,GAAE,EAAEQ,IAAEE,GAAG,IAAEN,IAAE,GAAE,EAAEI,IAAEE,GAAG,IAAEL,IAAE,GAAE,EAAEG,IAAEE,GAAG,IAAEH,GAAEN,KAAI,EAAEO,IAAEE,GAAG,IAAEX,GAAE,EAAES,IAAEE,GAAG,IAAER,GAAE,EAAEM,IAAEE,GAAG,IAAE,IAAG,EAAEF,IAAEE,GAAG,IAAES,GAAE,EAAEX,IAAEE,GAAG,IAAEJ,GAAE,EAAEE,IAAEE,GAAG,IAAEV,GAAE,EAAEQ,IAAEE,GAAG,IAAE,CAACN,IAAE,GAAE,EAAEI,IAAEE,GAAG,IAAE,CAACL,IAAE,GAAE,EAAEG,IAAEE,GAAG,IAAEH,GAAEN;AAAA,EAAG;AAAC,aAAUQ,KAAKL,GAAE;AAAC,UAAK,EAAC,WAAUL,GAAE,UAASI,EAAC,IAAEM;AAAE,QAAIL,IAAE,MAAKC,IAAE,MAAKC,IAAE,MAAKR,IAAE,MAAKE,IAAE,MAAKC,IAAE;AAAK,aAAQM,IAAE,GAAEA,IAAEE,EAAE,kBAAiBF,KAAI;AAAC,YAAMI,IAAEQ,EAAE,KAAGV,EAAE,cAAYF,EAAE,GAAEK,IAAEO,EAAE,KAAGV,EAAE,cAAYF,KAAG,CAAC,GAAEQ,IAAEI,EAAE,KAAGV,EAAE,cAAYF,KAAG,CAAC,GAAES,IAAEG,EAAE,KAAGV,EAAE,cAAYF,KAAG,CAAC;AAAE,UAAIM,IAAE,MAAKC,IAAE,MAAKG,IAAE,MAAKG,IAAE;AAAK,UAAGb,IAAE,GAAE;AAAC,QAAAM,IAAEF,IAAEP,GAAEU,IAAEF,IAAEP;AAAE,cAAMc,IAAE,KAAK,KAAKN,IAAEA,IAAEC,IAAEA,CAAC;AAAE,YAAGD,KAAGM,GAAEL,KAAGK,GAAEZ,IAAE,GAAE;AAAC,cAAIR,IAAEc,IAAEb,GAAEG,IAAEW,IAAEb;AAAE,gBAAMkB,IAAE,KAAK,KAAKpB,IAAEA,IAAEI,IAAEA,CAAC;AAAE,UAAAJ,KAAGoB,GAAEhB,KAAGgB;AAAE,gBAAMf,IAAE,KAAK,IAAI,KAAGL,IAAEc,IAAEV,IAAEW,IAAGZ,CAAC;AAAE,UAAAH,KAAGK,GAAED,KAAGC,GAAEa,IAAE,CAACd,GAAEiB,IAAErB;AAAA,QAAC,MAAM,CAAAkB,IAAE,CAACH,GAAEM,IAAEP;AAAE,QAAOI,MAAP,QAAiBG,MAAP,SAAWV,EAAEN,GAAEC,GAAEC,GAAEW,GAAEG,GAAErB,GAAEI,GAAEa,CAAC,GAAER,EAAC;AAAA,MAAG;AAAC,MAAAJ,IAAEO,GAAEN,IAAEO,GAAEN,IAAES,GAAEf,IAAEa,GAAEZ,IAAEa,GAAEhB,IAAEkB;AAAA,IAAC;AAAC,IAAAN,EAAEN,GAAEC,GAAEC,GAAE,CAACL,GAAED,GAAED,GAAEI,GAAEL,CAAC;AAAA,EAAC;AAAC,SAAM,EAAC,YAAW,GAAE,WAAUE,EAAC;AAAC;AAAC,SAASgB,GAAEjB,GAAE;AAAC,QAAmB,EAAC,cAAaK,GAAE,iBAAgBC,EAAC,IAAEN;AAAE,MAAIO,IAAE,GAAE,IAAE;AAAE,aAAUgB,KAAKjB,GAAE;AAAC,UAAMN,IAAEuB,EAAE,mBAAiB;AAAE,IAAAhB,KAAG,IAAEP,IAAE,GAAE,KAAG,IAAEA,IAAE;AAAA,EAAC;AAAC,QAAMC,IAAE,IAAI,aAAaM,IAAE,EAAC,GAAEL,IAAE,IAAI,YAAY,CAAC;AAAE,MAAIM,GAAEC,GAAEE,GAAED,GAAEE,GAAEC,GAAEG,GAAEC,GAAEH,GAAEC,GAAEG,GAAEG,GAAEC,GAAEE,GAAEC,IAAE,GAAEC,IAAE;AAAE,WAASC,IAAG;AAAC,IAAAzB,EAAEwB,GAAG,IAAED,IAAE,GAAEvB,EAAEwB,GAAG,IAAED,IAAE,GAAEvB,EAAEwB,GAAG,IAAED,IAAE,GAAEvB,EAAEwB,GAAG,IAAED,IAAE,GAAEvB,EAAEwB,GAAG,IAAED,IAAE,GAAEvB,EAAEwB,GAAG,IAAED,IAAE,GAAEvB,EAAEwB,GAAG,IAAED,IAAE,GAAEvB,EAAEwB,GAAG,IAAED,IAAE,GAAEvB,EAAEwB,GAAG,IAAED,IAAE,GAAEvB,EAAEwB,GAAG,IAAED,IAAE,GAAEvB,EAAEwB,GAAG,IAAED,IAAE,GAAEvB,EAAEwB,GAAG,IAAED,IAAE;AAAA,EAAC;AAAC,WAASG,EAAE5B,GAAEK,GAAEC,GAAEC,GAAER,GAAEG,GAAEM,GAAEC,GAAEE,GAAED,GAAEE,GAAEC,GAAEG,GAAEC,GAAE;AAAC,UAAMH,IAAEW,IAAE;AAAE,QAAIV,IAAE;AAAE,eAAUZ,MAAI,CAAC,GAAE,CAAC,EAAE,YAAUC,MAAI,CAAC,GAAE,GAAE,GAAE,CAAC,EAAE,CAAAH,EAAEa,IAAEC,GAAG,IAAEf,GAAEC,EAAEa,IAAEC,GAAG,IAAEV,GAAEJ,EAAEa,IAAEC,GAAG,IAAET,GAAEL,EAAEa,IAAEC,GAAG,IAAER,GAAEN,EAAEa,IAAEC,GAAG,IAAEP,GAAEP,EAAEa,IAAEC,GAAG,IAAEN,GAAER,EAAEa,IAAEC,GAAG,IAAEJ,GAAEV,EAAEa,IAAEC,GAAG,IAAEL,GAAET,EAAEa,IAAEC,GAAG,IAAEZ,IAAEF,EAAEa,IAAEC,GAAG,IAAEX,IAAEH,EAAEa,IAAEC,GAAG,IAAEC,GAAEf,EAAEa,IAAEC,GAAG,IAAEE,GAAEhB,EAAEa,IAAEC,GAAG,IAAEhB,IAAE,GAAEE,EAAEa,IAAEC,GAAG,IAAEb,IAAE,GAAED,EAAEa,IAAEC,GAAG,IAAEH,IAAE,GAAEX,EAAEa,IAAEC,GAAG,IAAEF,IAAE,GAAEY;AAAA,EAAG;AAAC,WAASI,EAAE7B,GAAEG,GAAE;AAAC,QAAIC,IAAEU,IAAEI,GAAEE,IAAEL,IAAEM;AAAE,UAAMhB,IAAE,KAAK,KAAKD,IAAEA,IAAEgB,IAAEA,CAAC;AAAE,IAAAhB,KAAGC,GAAEe,KAAGf;AAAE,UAAMC,IAAEQ,IAAEV,IAAEW,IAAEK;AAAE,IAAAhB,KAAGE,GAAEc,KAAGd;AAAE,QAAIC,IAAEW,IAAEI,GAAEvB,IAAEsB,IAAEG;AAAE,UAAMvB,IAAE,KAAK,KAAKM,IAAEA,IAAER,IAAEA,CAAC;AAAE,IAAAQ,KAAGN,GAAEF,KAAGE;AAAE,UAAMC,IAAEgB,IAAEX,IAAEc,IAAEtB;AAAE,IAAAQ,KAAGL,GAAEH,KAAGG,GAAE0B,EAAEpB,GAAEC,GAAEE,GAAED,GAAE,CAACU,GAAEhB,GAAEQ,GAAEC,GAAEG,GAAEC,GAAE,CAAClB,GAAEQ,GAAEP,GAAEG,CAAC,GAAEwB,EAAC;AAAA,EAAE;AAAC,WAASG,EAAE9B,GAAEG,GAAEC,GAAEgB,GAAEf,GAAEC,GAAE;AAAC,QAAGQ,IAAEI,GAAEH,IAAEM,GAAEH,IAAEI,GAAED,IAAEG,GAAQV,KAAN,QAAeC,KAAN,SAAUD,IAAEI,GAAEH,IAAEM,IAAST,KAAN,QAAeC,KAAN,MAAQ;AAAC,MAAAS,IAAEtB,IAAEY,GAAEY,IAAErB,IAAEU;AAAE,YAAMT,IAAE,KAAK,KAAKkB,IAAEA,IAAEE,IAAEA,CAAC;AAAE,MAAAF,KAAGlB,GAAEoB,KAAGpB;AAAA,IAAC;AAAC,IAAMU,KAAN,QAAeC,KAAN,QAASc,EAAExB,GAAEC,CAAC,GAAEE,IAAEI,GAAEH,IAAEI,GAAEF,IAAEK,GAAEN,IAAEO,GAAEL,IAAEZ,GAAEa,IAAEV,GAAEa,IAAEZ,GAAEa,IAAEG;AAAA,EAAC;AAAC,WAASW,EAAE/B,GAAEG,GAAE;AAAC,IAAAW,IAAEI,GAAEH,IAAEM,GAAEH,IAAEI,GAAED,IAAEG,GAAQV,KAAN,QAAeC,KAAN,SAAUD,IAAEI,GAAEH,IAAEM,IAASP,KAAN,QAAeC,KAAN,QAASc,EAAE7B,GAAEG,CAAC;AAAA,EAAC;AAAC,aAAUoB,KAAKjB,GAAE;AAAC,IAAAE,IAAE,MAAKC,IAAE,MAAKE,IAAE,MAAKD,IAAE,MAAKE,IAAE,MAAKC,IAAE,MAAKG,IAAE,MAAKC,IAAE,MAAKH,IAAE,MAAKC,IAAE,MAAKG,IAAE,MAAKG,IAAE,MAAKC,IAAE,MAAKE,IAAE;AAAK,UAAK,EAAC,WAAUxB,GAAE,UAASG,EAAC,IAAEoB;AAAE,aAAQnB,IAAE,GAAEA,IAAEmB,EAAE,kBAAiBnB;AAAK,MAAA0B,EAAEzB,EAAE,KAAGkB,EAAE,cAAYnB,EAAE,GAAEC,EAAE,KAAGkB,EAAE,cAAYnB,KAAG,CAAC,GAAEC,EAAE,KAAGkB,EAAE,cAAYnB,KAAG,CAAC,GAAEC,EAAE,KAAGkB,EAAE,cAAYnB,KAAG,CAAC,GAAEJ,GAAEG,CAAC;AAAE,IAAA4B,EAAE/B,GAAEG,CAAC;AAAA,EAAC;AAAC,SAAM,EAAC,YAAWF,GAAE,WAAUC,EAAC;AAAC;AAAC,SAASY,EAAEd,GAAEG,GAAEiB,IAAEjB,EAAE,OAAME,IAAEF,EAAE,QAAOG,IAAE,GAAEC,IAAE,GAAE;AAAC,QAAMR,IAAEI,EAAE,QAAOF,IAAEmB,IAAEf,GAAEH,IAAE,GAAEM,IAAE,IAAI,aAAaP,IAAEC,CAAC,GAAEO,IAAEN,EAAE,OAAMQ,IAAE,CAACX,GAAEG,MAAIH,IAAEM,KAAGH,IAAEI,KAAGE,GAAEC,IAAE,CAACV,GAAEG,MAAIH,IAAEG,IAAEiB;AAAE,MAAIR;AAAE,MAAST,EAAE,QAAR,KAAa,KAAGiB,MAAIjB,EAAE,SAAOE,MAAIF,EAAE,UAAYG,MAAJ,KAAWC,MAAJ,GAAM;AAAC,IAAAK,IAAE,IAAI,WAAWX,IAAEC,CAAC;AAAE,UAAMF,IAAEG,EAAE;AAAK,aAAQA,IAAE,GAAEA,IAAEE,GAAE,EAAEF,EAAE,UAAQC,IAAE,GAAEA,IAAEgB,GAAE,EAAEhB,GAAE;AAAC,YAAMgB,IAAET,EAAEP,GAAED,CAAC,GAAEE,IAAEK,EAAEN,GAAED,CAAC;AAAE,MAAAS,EAAEV,IAAEG,CAAC,IAAEL,EAAEE,IAAEkB,CAAC,GAAER,EAAEV,IAAEG,IAAE,CAAC,IAAEL,EAAEE,IAAEkB,IAAE,CAAC;AAAA,IAAC;AAAA,EAAC,MAAM,CAAAR,IAAET,EAAE;AAAA,MAAU,CAAAS,IAAE,IAAI,WAAWX,IAAEC,CAAC,GAAEU,EAAE,KAAK,GAAG;AAAE,MAAiBZ,MAAd,YAAgB,UAAQI,IAAE,GAAEA,IAAEC,GAAE,EAAED,EAAE,UAAQJ,IAAE,GAAEA,IAAEoB,GAAE,EAAEpB,GAAE;AAAC,UAAMG,IAAEQ,EAAEX,GAAEI,CAAC,GAAEgB,IAAEV,EAAEV,GAAEI,CAAC;AAAE,IAAAI,EAAEN,IAAEkB,CAAC,IAAErB,EAAE,CAAC,EAAEI,CAAC,GAAEK,EAAEN,IAAEkB,IAAE,CAAC,IAAE,CAACrB,EAAE,CAAC,EAAEI,CAAC;AAAA,EAAC;AAAA,WAA2BH,MAAlB,iBAAoB;AAAC,UAAK,EAAC,KAAIA,GAAE,KAAIG,EAAC,IAAE;AAAK,aAAQG,IAAE,GAAEA,IAAED,GAAE,EAAEC,EAAE,UAAQD,IAAE,GAAEA,IAAEe,GAAE,EAAEf,GAAE;AAAC,YAAMe,IAAET,EAAEN,GAAEC,CAAC,GAAEC,IAAEG,EAAEL,GAAEC,CAAC,GAAEL,IAAEF,EAAE,CAAC,EAAEqB,CAAC,GAAEX,IAAEL,GAAEL,EAAE,CAAC,EAAEqB,CAAC,CAAC,GAAER,IAAEZ,EAAES,IAAE,KAAK,KAAG,CAAC,GAAEI,IAAEV,EAAEM,IAAE,KAAK,KAAG,CAAC;AAAE,MAAAD,EAAEN,IAAEK,CAAC,IAAEK,IAAEX,GAAEO,EAAEN,IAAEK,IAAE,CAAC,IAAEM,IAAEZ;AAAA,IAAC;AAAA,EAAC;AAAC,SAAM,EAAC,MAAKO,GAAE,MAAKI,GAAE,OAAMQ,GAAE,QAAOf,EAAC;AAAC;AAAC,eAAeU,GAAEf,GAAEG,GAAEC,GAAEgB,GAAEf,GAAEJ,GAAE;AAAC,QAAM,IAAE,YAAY,OAAMO,IAAED,GAAEJ,EAAE,gBAAgB;AAAE,MAAG,CAACK,GAAE;AAAC,UAAMF,IAAE,MAAMY,EAAElB,GAAEG,GAAEC,GAAEgB,GAAEf,GAAEJ,CAAC;AAAE,WAAOkB,EAAI,kBAAkB,KAAGpB,EAAC,EAAG,KAAK,OAAM,gCAA+B,KAAK,MAAM,YAAY,QAAM,CAAC,CAAC,GAAEoB,EAAI,kBAAkB,KAAGpB,EAAC,EAAG,KAAK,OAAM,mBAAkB,CAAC,GAAEO;AAAA,EAAC;AAAC,QAAK,CAACG,GAAEE,CAAC,IAAEH,EAAE,OAAME,IAAEC,IAAEF,GAAEG,IAAE,KAAK,KAAKT,EAAE,QAAMO,CAAC,GAAEG,IAAEV,EAAE,QAAMS,GAAEI,IAAE,KAAK,MAAMZ,IAAEQ,CAAC;AAAE,MAAIK,IAAEd,EAAE;AAAK,QAAMW,IAAE,CAAA,GAAGC,IAAE,YAAY,IAAG;AAAG,WAAQR,IAAE,GAAEA,IAAEK,GAAEL,KAAI;AAAC,UAAMH,IAAE,IAAIE,GAAE,EAAC,MAAKW,GAAE,MAAKA,IAAEJ,GAAE,MAAKV,EAAE,MAAK,MAAKA,EAAE,MAAK,kBAAiBA,EAAE,iBAAgB,CAAC;AAAE,IAAAW,EAAE,KAAKI,EAAElB,GAAEI,GAAEY,GAAEI,GAAEf,GAAEJ,CAAC,CAAC,GAAEgB,KAAGJ;AAAA,EAAC;AAAC,QAAMQ,IAAE,MAAM,QAAQ,IAAIP,CAAC;AAAE,MAAGK,EAAI,kBAAkB,KAAGpB,IAAI,KAAK,OAAM,gCAA+B,KAAK,MAAM,YAAY,IAAG,IAAGgB,CAAC,CAAC,GAAEI,EAAI,kBAAkB,KAAGpB,EAAC,EAAG,KAAK,OAAM,mBAAkBsB,EAAE,MAAM,GAAMA,EAAE,WAAN,EAAa,QAAOF,EAAI,kBAAkB,KAAGpB,EAAC,EAAG,KAAK,QAAO,yDAAwD,KAAK,MAAM,YAAY,IAAG,IAAG,CAAC,CAAC,GAAEsB,EAAE,CAAC;AAAE,QAAMC,IAAE,EAAC,MAAK,IAAI,aAAalB,IAAEgB,IAAE,CAAC,GAAE,MAAK,IAAI,WAAWhB,IAAEgB,CAAC,GAAE,OAAMhB,GAAE,QAAOgB,EAAC;AAAE,MAAII,IAAE;AAAE,aAAUlB,KAAKe,GAAE;AAAC,aAAQrB,IAAE,GAAEA,IAAEM,EAAE,QAAON,IAAI,UAAQG,IAAE,GAAEA,IAAEG,EAAE,OAAMH,IAAI,CAAAqB,IAAErB,KAAGC,MAAIkB,EAAE,KAAK,KAAGtB,IAAEI,IAAEoB,IAAErB,EAAE,IAAEG,EAAE,KAAK,KAAGN,IAAEM,EAAE,QAAMH,EAAE,GAAEmB,EAAE,KAAK,KAAGtB,IAAEI,IAAEoB,IAAErB,KAAG,CAAC,IAAEG,EAAE,KAAK,KAAGN,IAAEM,EAAE,QAAMH,KAAG,CAAC,GAAEmB,EAAE,KAAKtB,IAAEI,IAAEoB,IAAErB,CAAC,IAAEG,EAAE,KAAKN,IAAEM,EAAE,QAAMH,CAAC;AAAG,IAAAqB,KAAGlB,EAAE;AAAA,EAAK;AAAC,SAAOa,EAAI,kBAAkB,KAAGpB,EAAC,EAAG,KAAK,QAAO,kCAAiC,KAAK,MAAM,YAAY,IAAG,IAAG,CAAC,CAAC,GAAEuB;AAAC;AAAC,eAAeJ,EAAElB,GAAEG,GAAEC,GAAEgB,GAAEf,GAAEC,GAAE;AAAC,QAAMC,IAAE,EAAC,iCAAgC,IAAG,QAAOD,EAAC;AAAE,MAASD,KAAN,SAAUE,EAAE,aAAWF,IAAeL,EAAE,SAAd,WAAmB;AAAC,UAAMA,EAAE,KAAK,EAAC,QAAOM,EAAC,CAAC;AAAE,UAAMD,IAAE,MAAML,EAAE,mBAAmBG,GAAEC,GAAEgB,GAAEb,CAAC;AAAE,WAASF,GAAG,WAAW,cAApB,OAAqC,EAAC,MAAK,IAAI,aAAaD,IAAEgB,IAAE,CAAC,GAAE,MAAK,IAAI,WAAWhB,IAAEgB,CAAC,GAAE,OAAMhB,GAAE,QAAOgB,EAAC,IAASN,EAAEd,EAAE,WAAW,UAASK,EAAE,UAAU,UAAU;AAAA,EAAC;AAAC,QAAML,EAAE,KAAK,EAAC,QAAOM,EAAC,CAAC;AAAE,QAAM,IAAE,MAAMN,EAAE,YAAYG,GAAEC,GAAEgB,GAAEb,CAAC;AAAE,SAAS,GAAG,cAAT,OAA0B,EAAC,MAAK,IAAI,aAAaH,IAAEgB,IAAE,CAAC,GAAE,MAAK,IAAI,WAAWhB,IAAEgB,CAAC,GAAE,OAAMhB,GAAE,QAAOgB,EAAC,IAASN,EAAEd,EAAE,kBAAkB,UAAS,EAAE,UAAU;AAAC;","x_google_ignoreList":[0]}