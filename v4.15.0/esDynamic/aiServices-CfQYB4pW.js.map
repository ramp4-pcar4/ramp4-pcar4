{"version":3,"file":"aiServices-CfQYB4pW.js","sources":["../../node_modules/@arcgis/core/rest/support/TranslateResult.js","../../node_modules/@arcgis/core/rest/translate.js","../../node_modules/@arcgis/core/rest/support/TranslateContent.js","../../node_modules/@arcgis/core/rest/support/TranslateParameters.js","../../node_modules/@arcgis/core/chunks/aiServices.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(e){super(e),this.text=null,this.detectedLanguage=\"en\",this.detectedLanguageScore=-1}};e([r({type:String,json:{write:!0}})],s.prototype,\"key\",void 0),e([r({type:String,json:{write:!0}})],s.prototype,\"text\",void 0),e([r({type:String,json:{read:{source:\"detectedLanguage.language\"},write:{target:\"detectedLanguage.language\"}}})],s.prototype,\"detectedLanguage\",void 0),e([r({type:Number,json:{read:{source:\"detectedLanguage.score\"},write:{target:\"detectedLanguage.score\"}}})],s.prototype,\"detectedLanguageScore\",void 0),e([r({type:Object,json:{write:!0}})],s.prototype,\"translation\",void 0),s=e([o(\"esri.rest.support.TranslateResult\")],s);export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../request.js\";import{getToken as o,parseUrl as r,asValidOptions as s}from\"./utils.js\";import a from\"./support/TranslateResult.js\";async function n(n,e,p){const i=e.toJSON();i.contents=JSON.stringify(i.contents),i.token=await o(e.portalUrl,e.apiKey,{signal:p?.signal,prompt:\"no-prompt\"!==p?.authMode});const m=r(n),u=s(m.query,{...p,query:i,method:\"post\",authMode:\"anonymous\"});return(await t(m.path,u)).data.results.map(t=>a.fromJSON(t))}export{n as translate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let s=class extends o{constructor(r){super(r)}};r([t({type:String,json:{write:!0}})],s.prototype,\"key\",void 0),r([t({type:String,json:{write:!0}})],s.prototype,\"text\",void 0),s=r([e(\"esri.rest.support.TranslateContent\")],s);export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import{apiKey as s}from\"./commonProperties.js\";import p from\"./TranslateContent.js\";let i=class extends r{constructor(t){super(t),this.to=null,this.contents=null,this.portalUrl=\"https://www.arcgis.com\",this.translator=\"esri\",this.from=null,this.apiKey=null,this.requestSource=null}};t([o({type:[String],json:{write:!0}})],i.prototype,\"to\",void 0),t([o({type:[p],json:{write:!0}})],i.prototype,\"contents\",void 0),t([o({type:String,json:{write:!0}})],i.prototype,\"portalUrl\",void 0),t([o({type:String,json:{write:!0,default:\"esri\"}})],i.prototype,\"translator\",void 0),t([o({type:String,json:{write:!0}})],i.prototype,\"from\",void 0),t([o(s)],i.prototype,\"apiKey\",void 0),t([o({type:String,json:{name:\"x-esri-request-source\"}})],i.prototype,\"requestSource\",void 0),i=t([e(\"esri.rest.support.TranslateParameters\")],i);export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{toSymbolId as t}from\"../arcade/arcadeEnvironment.js\";import e from\"../arcade/Dictionary.js\";import{ArcadeExecutionError as s}from\"../arcade/executionError.js\";import{B as r,j as n,M as o}from\"./languageUtils.js\";import a from\"../core/Error.js\";import i from\"../core/Logger.js\";import{getOrCreateMapValue as c}from\"../core/MapUtils.js\";import l from\"../portal/Portal.js\";import{translate as u}from\"../rest/translate.js\";import h from\"../rest/support/TranslateContent.js\";import m from\"../rest/support/TranslateParameters.js\";import f from\"../rest/support/TranslateResult.js\";import{isString as p,isArray as _}from\"../support/guards.js\";class d{constructor(t,e){this.portal=t,this._debugLog=e}async translate(t){this.portal.loaded||await this.portal.load();const e=this.portal.helperServices?.aiUtilityServices;if(null==e)return{success:!1};const s=e.url+e.translateUtility;try{t.requestSource??=\"arcade\";return{success:!0,results:(await u(s,t,{authMode:\"no-prompt\"})).map(t=>t.toJSON())}}catch(r){return null!=this._debugLog&&(r instanceof Error||r instanceof a)&&this._debugLog(`TranslateText error: ${r.message}`),i.getLogger(\"esri.arcade.functions.aiServices\").error(r),{success:!1}}}}class g{constructor(t,e,s){this._parameters=t,this._maxTotalContentSize=e,this._maxContentsLength=s,this._requests=[],this._normalizedContents=new Map,this._contentsTotalSize=0}tryAdd(t){const e=new Set(t.filter(t=>!this._normalizedContents.has(t.text)).map(t=>t.text));if(this._requests.length+e.size>this._maxContentsLength)return null;let s=0;for(const n of e)s+=n.length;if((s+this._contentsTotalSize)*(this._parameters.to.length??1)>this._maxTotalContentSize)return null;const r=this._requests.length;for(const{key:n,text:o}of t)c(this._normalizedContents,o,()=>[]).push({batchIdx:r,key:n});return this._requests.push(t),this._contentsTotalSize+=s,r}async send(t){const e=[],s=[];let r=0;for(const[i,c]of this._normalizedContents)e.push(new h({key:String(r++),text:i})),s.push(c);const n=new m(this._parameters);n.contents=e;const o=await t.translate(n);if(!o.success)return Array.from(this._requests,()=>o);const a=Array.from(this._requests,()=>({success:!0,results:[]}));for(const i of o.results){const t=Number(i.key);for(const e of s[t])a[e.batchIdx].results.push({...i,key:e.key})}return a}}function y(t){const e=[...new Set(t.to)].sort(),s=t.from??null,r=t.portalUrl,n=t.translator,o=t.apiKey??null;return JSON.stringify([e,s,r,n,o])}async function w(t,e,s){try{return(await t.yieldFor(s))[e]}catch{return{success:!1}}}class x{constructor(t,e,{maxTotalContentSize:s=5e4,maxContentsLength:r=1e3}={}){this._executor=t,this._service=e,this._openBatches=new Map,this._maxTotalContentSize=s,this._maxContentsLength=r}create(t){return{translate:async e=>{const s=y(e),{contents:r,to:n,from:o,translator:a,portalUrl:i,apiKey:c}=e;if(null==n)return{success:!1};if(null==r||r.every(t=>0===t.text.length))return{success:!1};const l=this._openBatches.get(s);if(null!=l){const e=l.data.tryAdd(r);if(null!=e)return await w(t,e,l);l.send()}const u=new g({to:n,from:o,translator:a,portalUrl:i,apiKey:c},this._maxTotalContentSize,this._maxContentsLength),h=u.tryAdd(r);if(null!=h){const e=this._executor.openBatch(u,{open:t=>{this._openBatches.set(s,t)},execute:t=>t.send(this._service),close:t=>{this._openBatches.get(s)===t&&this._openBatches.delete(s)}});return await w(t,h,e)}return await this._service.translate(e)}}}}function S(a){\"async\"===a.mode&&(a.functions[t(\"TranslateText\")]=function(t,i){return a.standardFunctionAsync(t,i,async(t,a,i)=>{if(r(i,2,3,t,a),!p(i[0])&&!_(i[0])&&!n(i[0]))throw new s(t,\"InvalidParameter\",a);const c=o(i[0]);if(!p(i[1])&&!_(i[1])&&!n(i[1]))throw new s(t,\"InvalidParameter\",a);const u=o(i[1]);let g=null;if(i.length>=3){if(!p(i[2]))throw new s(t,\"InvalidParameter\",a);g=i[2]}const w=c.map((t,e)=>new h({key:String(e),text:t})),x=t.services?.portal??l.getDefault(),S=new m({to:u,contents:w,from:g,portalUrl:x.restUrl.replace(/\\/sharing\\/rest$/,\"\")}),T=new Map;let v=null;if(null!=t.lrucache){const e=t.lrucache;v??=y(S),S.contents=S.contents?.filter(t=>{const s=e.getCachedTranslation(v,t.text);return null==s||(T.set(t.key,{...s,key:t.key,text:t.text}),!1)})}if(S.contents?.length){const r=t.services?.translation??new d(x,t.console),n=await r.translate(S);if(!n.success)return new e({__proto__:null,success:!1});for(const e of n.results){const r=S.contents?.find(t=>t.key===e.key)?.text;if(null==r)throw new s(null,\"NeverReach\",null);T.set(e.key,e),null!=t.lrucache&&(v??=y(S),t.lrucache.setCachedTranslation(v,r,{detectedLanguage:e.detectedLanguage,translation:e.translation}))}}const C=Array.from(w,r=>{const n=f.fromJSON(T.get(r.key));if(null==n)throw new s(null,\"NeverReach\",null);return n.text=r.text,e.convertJsonToArcade(n.toJSON(),t.timeZone??\"system\",!0)});return new e({__proto__:null,success:!0,results:C})})})}const T=Object.freeze(Object.defineProperty({__proto__:null,BatchTranslationServiceFactory:x,PortalTranslationService:d,getTranslateParametersKey:y,registerFunctions:S},Symbol.toStringTag,{value:\"Module\"}));export{T as A,x as B,d as P,y as g,S as r};\n"],"names":["s","t","e","r","o","n","p","i","m","u","a","d","g","c","h","y","w","x","l","S","_","T","v","C","f"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}