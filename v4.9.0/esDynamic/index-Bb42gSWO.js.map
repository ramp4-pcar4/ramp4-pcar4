{"version":3,"file":"index-Bb42gSWO.js","sources":["../../src/fixtures/help/api/help.ts","../../src/fixtures/help/nav-button.vue","../../src/fixtures/help/lang/lang.csv?raw","../../src/fixtures/help/index.ts"],"sourcesContent":["import { FixtureInstance } from '@/api';\nimport { useHelpStore } from '../store';\nimport type { HelpConfig } from '../store';\n\nexport class HelpAPI extends FixtureInstance {\n    /**\n     * Toggles help panel\n     *\n     * @param {boolean} [open] force panel open or closed\n     * @memberof HelpAPI\n     */\n    toggleHelp(open?: boolean) {\n        const panel = this.$iApi.panel.get('help');\n        this.$iApi.panel.toggle(panel, open);\n    }\n\n    /**\n     * Returns `HelpConfig` section of the global config file.\n     *\n     * @readonly\n     * @type {HelpConfig}\n     * @memberof HelpAPI\n     */\n    get config(): HelpConfig | undefined {\n        return super.config;\n    }\n\n    /**\n     * Parses the help config JSON snippet from the config file and save to the fixture store.\n     *\n     * @param {HelpConfig} [helpConfig]\n     * @memberof HelpAPI\n     */\n    _parseConfig(helpConfig?: HelpConfig) {\n        const helpStore = useHelpStore(this.$vApp.$pinia);\n        helpStore.location = helpConfig?.location ?? './help/';\n        this.handlePanelWidths(['help']);\n        this.handlePanelTeleports(['help']);\n    }\n}\n","<template>\n    <mapnav-button :onClickFunction=\"onClick\" :tooltip=\"t('help.title')\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class=\"fill-current w-32 h-20\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path\n                d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z\"\n            />\n        </svg>\n    </mapnav-button>\n</template>\n\n<script setup lang=\"ts\">\nimport { inject } from 'vue';\nimport { GlobalEvents } from '@/api/internal';\nimport type { InstanceAPI } from '@/api/internal';\nimport { useI18n } from 'vue-i18n';\n\nconst iApi = inject<InstanceAPI>('iApi')!;\nconst { t } = useI18n();\n\nconst onClick = () => iApi.event.emit(GlobalEvents.HELP_TOGGLE);\n</script>\n\n<style lang=\"scss\" scoped></style>\n","export default \"key,enValue,enValid,frValue,frValid\\nhelp.title,Help,1,Aide,1\\nhelp.search,Search Help,1,Aide à la recherche,1\\nhelp.section.expand,Expand section,1,Développer une section,1\\nhelp.section.collapse,Collapse section,1,Réduire une section,1\\nhelp.noResults,Nothing is found. Please try a different search.,1,Aucun résultat. Veuillez essayer une autre recherche.,1\"","import { markRaw } from 'vue';\nimport { HelpAPI } from './api/help';\nimport HelpScreenV from './screen.vue';\nimport HelpNavButtonV from './nav-button.vue';\n\nimport messages from './lang/lang.csv?raw';\nimport { useMapnavStore } from '../mapnav/store';\nimport { useHelpStore } from './store';\n\nclass HelpFixture extends HelpAPI {\n    added() {\n        // console.log(`[fixture] ${this.id} added`);\n\n        this.$iApi.component('help-nav-button', HelpNavButtonV);\n\n        this.$iApi.panel.register(\n            {\n                help: {\n                    screens: {\n                        'help-screen': markRaw(HelpScreenV)\n                    },\n                    style: {\n                        'flex-grow': '1',\n                        'max-width': '750px'\n                    },\n                    alertName: 'help.title'\n                }\n            },\n            {\n                i18n: { messages }\n            }\n        );\n        // parse help section of config and store information in help store\n        this._parseConfig(this.config);\n        const unwatch = this.$vApp.$watch(\n            () => this.config,\n            (value: any) => this._parseConfig(value)\n        );\n\n        // override the removed method here to get access to scope\n        this.removed = () => {\n            // console.log(`[fixture] ${this.id} removed`);\n            unwatch();\n\n            if (this.$iApi.fixture.exists('mapnav')) {\n                const mapnavStore = useMapnavStore(this.$vApp.$pinia);\n                mapnavStore.removeItem('help');\n            }\n\n            const helpStore = useHelpStore(this.$vApp.$pinia);\n            helpStore.$reset();\n\n            this.$iApi.panel.remove('help');\n        };\n    }\n}\n\nexport default HelpFixture;\n"],"names":["HelpAPI","FixtureInstance","open","panel","helpConfig","helpStore","useHelpStore","iApi","inject","t","useI18n","onClick","GlobalEvents","messages","HelpFixture","HelpNavButtonV","markRaw","HelpScreenV","unwatch","value","useMapnavStore"],"mappings":";;AAIO,MAAMA,UAAgBC,EAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOzC,WAAWC,GAAgB;AACvB,UAAMC,IAAQ,KAAK,MAAM,MAAM,IAAI,MAAM;AACzC,SAAK,MAAM,MAAM,OAAOA,GAAOD,CAAI;AAAA,EACvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,IAAI,SAAiC;AACjC,WAAO,MAAM;AAAA,EACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,aAAaE,GAAyB;AAClC,UAAMC,IAAYC,EAAa,KAAK,MAAM,MAAM;AACtC,IAAAD,EAAA,WAAWD,GAAY,YAAY,WACxC,KAAA,kBAAkB,CAAC,MAAM,CAAC,GAC1B,KAAA,qBAAqB,CAAC,MAAM,CAAC;AAAA,EACtC;AACJ;;;;ACtBM,UAAAG,IAAOC,EAAoB,MAAM,GACjC,EAAE,GAAAC,MAAMC,KAERC,IAAU,MAAMJ,EAAK,MAAM,KAAKK,EAAa,WAAW;;;;;;;;;;;;;;;;;;;;;;;;ICpB/CC,IAAA,EAAC,IAAK,EAAC,cAAa,QAAO,eAAc,eAAc,uBAAsB,kBAAiB,yBAAwB,oBAAmB,kBAAiB,mDAAkD,GAAE,IAAK,EAAC,cAAa,QAAO,eAAc,uBAAsB,uBAAsB,0BAAyB,yBAAwB,uBAAsB,kBAAiB,wDAAuD,EAAC;ACSjc,MAAMC,UAAoBd,EAAQ;AAAA,EAC9B,QAAQ;AAGC,SAAA,MAAM,UAAU,mBAAmBe,CAAc,GAEtD,KAAK,MAAM,MAAM;AAAA,MACb;AAAA,QACI,MAAM;AAAA,UACF,SAAS;AAAA,YACL,eAAeC,EAAQC,CAAW;AAAA,UACtC;AAAA,UACA,OAAO;AAAA,YACH,aAAa;AAAA,YACb,aAAa;AAAA,UACjB;AAAA,UACA,WAAW;AAAA,QACf;AAAA,MACJ;AAAA,MACA;AAAA,QACI,MAAM,EAAE,UAAAJ,EAAS;AAAA,MACrB;AAAA,IAAA,GAGC,KAAA,aAAa,KAAK,MAAM;AACvB,UAAAK,IAAU,KAAK,MAAM;AAAA,MACvB,MAAM,KAAK;AAAA,MACX,CAACC,MAAe,KAAK,aAAaA,CAAK;AAAA,IAAA;AAI3C,SAAK,UAAU,MAAM;AAET,MAAAD,KAEJ,KAAK,MAAM,QAAQ,OAAO,QAAQ,KACdE,EAAe,KAAK,MAAM,MAAM,EACxC,WAAW,MAAM,GAGfd,EAAa,KAAK,MAAM,MAAM,EACtC,OAAO,GAEZ,KAAA,MAAM,MAAM,OAAO,MAAM;AAAA,IAAA;AAAA,EAEtC;AACJ;"}