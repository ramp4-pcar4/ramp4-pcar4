{"version":3,"file":"TileContainer-BApmx8zG.js","sources":["../../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{WGLDrawPhase as e}from\"./enums.js\";import r from\"./WGLContainer.js\";import s from\"./brushes/WGLBrushStencil.js\";import t from\"./brushes/WGLBrushTileDebugInfo.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends r{constructor(e){super(),this._tileInfoView=e}renderChildren(e){this.sortChildren(n),this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:\"stencil\",brushes:[s],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT|e.LABEL,target:()=>this.getStencilTarget()})),has(\"esri-tiles-debug\")&&n.push(r.registerRenderPass({name:\"tileInfo\",brushes:[t],drawPhase:e.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}export{i as default};\n"],"names":["n","e","r","i","s","has","t"],"mappings":";;;AAIkN,MAAMA,IAAE,CAACC,GAAEC,MAAID,EAAE,IAAI,QAAMC,EAAE,IAAI,SAAO,IAAED,EAAE,IAAI,QAAMC,EAAE,IAAI,QAAMD,EAAE,IAAI,MAAIC,EAAE,IAAI,OAAK,IAAED,EAAE,IAAI,MAAIC,EAAE,IAAI,MAAID,EAAE,IAAI,MAAIC,EAAE,IAAI;AAAI,MAAMC,UAAUD,EAAC;AAAA,EAAC,YAAY,GAAE;AAAC,UAAO,GAAC,KAAK,gBAAc;AAAA,EAAC;AAAA,EAAC,eAAe,GAAE;AAAC,SAAK,aAAaF,CAAC,GAAE,KAAK,oBAAoB,CAAC,GAAE,MAAM,eAAe,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAmB,GAAE;AAAC,UAAK,EAAC,OAAM,EAAC,IAAE,GAAEI,IAAE,MAAM,mBAAmB,CAAC;AAAE,WAAOA,EAAE,gBAAc,KAAK,cAAc,uBAAuB,EAAE,KAAK,EAAE,OAAMA,EAAE,eAAa,KAAK,cAAc,SAAS,YAAY,EAAE,KAAK,GAAEA;AAAA,EAAC;AAAA,EAAC,oBAAoBF,GAAE;AAAC,UAAMF,IAAE,MAAM,oBAAoBE,CAAC;AAAE,WAAOF,EAAE,KAAKE,EAAE,mBAAmB,EAAC,MAAK,WAAU,SAAQ,CAACE,CAAC,GAAE,WAAUH,EAAE,QAAMA,EAAE,MAAIA,EAAE,YAAUA,EAAE,OAAM,QAAO,MAAI,KAAK,iBAAgB,EAAE,CAAC,CAAC,GAAEI,EAAI,kBAAkB,KAAGL,EAAE,KAAKE,EAAE,mBAAmB,EAAC,MAAK,YAAW,SAAQ,CAACI,CAAC,GAAE,WAAUL,EAAE,OAAM,QAAO,MAAI,KAAK,SAAQ,CAAC,CAAC,GAAED;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,WAAO,KAAK;AAAA,EAAQ;AAAA,EAAC,oBAAoB,GAAE;AAAC,QAAI,IAAE;AAAE,eAAUI,KAAK,KAAK,SAAS,CAAAA,EAAE,aAAW;AAAA,EAAG;AAAC;","x_google_ignoreList":[0]}