{"version":3,"file":"testSVGPremultipliedAlpha-CsOO2Ipl.js","sources":["../../node_modules/@arcgis/core/views/webgl/capabilities/DisjointTimerQuery.js","../../node_modules/@arcgis/core/views/webgl/WebGLDriverTestModule.js","../../node_modules/@arcgis/core/views/webgl/testSVGPremultipliedAlpha.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nclass e{constructor(e,E,t,T,r,_,i,u,n){this.createQuery=e,this.deleteQuery=E,this.resultAvailable=t,this.getResult=T,this.disjoint=r,this.beginTimeElapsed=_,this.endTimeElapsed=i,this.createTimestamp=u,this.timestampBits=n}}let E=!1;function t(t,T){if(T.disjointTimerQuery)return null;let r=t.getExtension(\"EXT_disjoint_timer_query_webgl2\");return r?new e((()=>t.createQuery()),(e=>{t.deleteQuery(e),E=!1}),(e=>t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE)),(e=>t.getQueryParameter(e,t.QUERY_RESULT)),(()=>t.getParameter(r.GPU_DISJOINT_EXT)),(e=>{E||(E=!0,t.beginQuery(r.TIME_ELAPSED_EXT,e))}),(()=>{t.endQuery(r.TIME_ELAPSED_EXT),E=!1}),(e=>r.queryCounterEXT(e,r.TIMESTAMP_EXT)),(()=>t.getQuery(r.TIMESTAMP_EXT,r.QUERY_COUNTER_BITS_EXT))):(r=t.getExtension(\"EXT_disjoint_timer_query\"),r?new e((()=>r.createQueryEXT()),(e=>{r.deleteQueryEXT(e),E=!1}),(e=>r.getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT)),(e=>r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)),(()=>t.getParameter(r.GPU_DISJOINT_EXT)),(e=>{E||(E=!0,r.beginQueryEXT(r.TIME_ELAPSED_EXT,e))}),(()=>{r.endQueryEXT(r.TIME_ELAPSED_EXT),E=!1}),(e=>r.queryCounterEXT(e,r.TIMESTAMP_EXT)),(()=>r.getQueryEXT(r.TIMESTAMP_EXT,r.QUERY_COUNTER_BITS_EXT))):null)}export{e as DisjointTimerQuery,t as createDisjointTimerQuery,E as hasRunningElapsedTimer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as s}from\"../../core/maybe.js\";class t{constructor(){this._result=!1}dispose(){this._program=s(this._program)}get result(){return null!=this._program&&(this._result=this._test(this._program),this.dispose()),this._result}}export{t as WebGLDriverTestModule};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{Pos2us as e}from\"../2d/engine/webgl/DefaultVertexAttributeLayouts.js\";import{BufferObject as r}from\"./BufferObject.js\";import{TextureWrapMode as t,TextureSamplingMode as o,Usage as n,ClearBufferBit as s,PrimitiveType as i,PixelFormat as a,PixelType as p}from\"./enums.js\";import{FramebufferObject as m}from\"./FramebufferObject.js\";import{Texture as u}from\"./Texture.js\";import{TextureDescriptor as c}from\"./TextureDescriptor.js\";import{VertexArrayObject as d}from\"./VertexArrayObject.js\";import{WebGLDriverTestModule as g}from\"./WebGLDriverTestModule.js\";class f extends g{constructor(e){super(),this._rctx=e;const r=\"\\n    precision highp float;\\n\\n    attribute vec2 a_pos;\\n    varying vec2 v_uv;\\n\\n    void main() {\\n      v_uv = a_pos;\\n      gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\\n    }\\n    \",t=\"\\n    precision highp float;\\n\\n    varying vec2 v_uv;\\n\\n    uniform sampler2D u_texture;\\n\\n    void main() {\\n      gl_FragColor = texture2D(u_texture, v_uv);\\n    }\\n    \";this._program=e.programCache.acquire(r,t,new Map([[\"a_pos\",0]]))}dispose(){super.dispose()}_test(g){const f=this._rctx;if(!f.gl)return g.dispose(),!0;const l=new c(1);l.wrapMode=t.CLAMP_TO_EDGE,l.samplingMode=o.NEAREST;const w=new m(f,l),v=r.createVertex(f,n.STATIC_DRAW,new Uint16Array([0,0,1,0,0,1,1,1])),x=new d(f,new Map([[\"a_pos\",0]]),e,{geometry:v}),h=new c;h.samplingMode=o.LINEAR,h.wrapMode=t.CLAMP_TO_EDGE;const b=new u(f,h,_);f.useProgram(g),f.bindTexture(b,0),g.setUniform1i(\"u_texture\",0);const A=f.getBoundFramebufferObject(),{x:E,y:T,width:j,height:C}=f.getViewport();f.bindFramebuffer(w),f.setViewport(0,0,1,1),f.setClearColor(0,0,0,0),f.setBlendingEnabled(!1),f.clearSafe(s.COLOR_BUFFER_BIT),f.bindVAO(x),f.drawArrays(i.TRIANGLE_STRIP,0,4);const y=new Uint8Array(4);return w.readPixels(0,0,1,1,a.RGBA,p.UNSIGNED_BYTE,y),x.dispose(),w.dispose(),b.dispose(),f.setViewport(E,T,j,C),f.bindFramebuffer(A),255!==y[0]}}const _=new Image;_.src=\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='5' height='5' version='1.1' viewBox='0 0 5 5' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='5' height='5' fill='%23f00' fill-opacity='.5'/%3E%3C/svg%3E%0A\",_.width=5,_.height=5,_.decode();export{f as SVGPremultipliedAlpha};\n"],"names":["e","E","t","T","r","_","i","u","n","s","f","g","l","c","o","w","m","v","x","d","h","b","A","j","C","y","a","p"],"mappings":"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","x_google_ignoreList":[0,1,2]}