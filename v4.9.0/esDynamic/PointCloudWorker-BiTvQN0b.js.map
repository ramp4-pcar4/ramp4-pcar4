{"version":3,"file":"PointCloudWorker-BiTvQN0b.js","sources":["../../node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js","../../node_modules/@arcgis/core/views/3d/layers/PointCloudWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../renderers/PointCloudClassBreaksRenderer.js\";import r from\"../../../../renderers/PointCloudStretchRenderer.js\";import o from\"../../../../renderers/PointCloudUniqueValueRenderer.js\";import{createGeometryIndexFromSchema as t,createTypedView as n,readBinaryAttribute as l}from\"./I3SBinaryReader.js\";import{decodeXYZ as s}from\"./LEPCC.js\";function i(t,n,l,s){const{rendererJSON:i,isRGBRenderer:u}=t;let c=null,a=null;if(n&&u)c=n;else if(n&&\"pointCloudUniqueValueRenderer\"===i?.type){a=o.fromJSON(i);const e=a.colorUniqueValueInfos;c=new Uint8Array(3*s);const r=d(a.fieldTransformType);for(let o=0;o<s;o++){const t=(r?r(n[o]):n[o])+\"\";for(let r=0;r<e.length;r++)if(e[r].values.includes(t)){c[3*o]=e[r].color.r,c[3*o+1]=e[r].color.g,c[3*o+2]=e[r].color.b;break}}}else if(n&&\"pointCloudStretchRenderer\"===i?.type){a=r.fromJSON(i);const e=a.stops;c=new Uint8Array(3*s);const o=d(a.fieldTransformType);for(let r=0;r<s;r++){const t=o?o(n[r]):n[r],l=e.length-1;if(t<e[0].value)c[3*r]=e[0].color.r,c[3*r+1]=e[0].color.g,c[3*r+2]=e[0].color.b;else if(t>=e[l].value)c[3*r]=e[l].color.r,c[3*r+1]=e[l].color.g,c[3*r+2]=e[l].color.b;else for(let o=1;o<e.length;o++)if(t<e[o].value){const n=(t-e[o-1].value)/(e[o].value-e[o-1].value);c[3*r]=e[o].color.r*n+e[o-1].color.r*(1-n),c[3*r+1]=e[o].color.g*n+e[o-1].color.g*(1-n),c[3*r+2]=e[o].color.b*n+e[o-1].color.b*(1-n);break}}}else if(n&&\"pointCloudClassBreaksRenderer\"===i?.type){a=e.fromJSON(i);const r=a.colorClassBreakInfos;c=new Uint8Array(3*s);const o=d(a.fieldTransformType);for(let e=0;e<s;e++){const t=o?o(n[e]):n[e];for(let o=0;o<r.length;o++)if(t>=r[o].minValue&&t<=r[o].maxValue){c[3*e]=r[o].color.r,c[3*e+1]=r[o].color.g,c[3*e+2]=r[o].color.b;break}}}else c=new Uint8Array(3*s).fill(255);if(l&&a?.colorModulation){const e=a.colorModulation.minValue,r=a.colorModulation.maxValue,o=.3;for(let t=0;t<s;t++){const n=l[t],s=n>=r?1:n<=e?o:o+(1-o)*(n-e)/(r-e);c[3*t]=s*c[3*t],c[3*t+1]=s*c[3*t+1],c[3*t+2]=s*c[3*t+2]}}return c}function u(e,r){if(null==e.encoding||\"\"===e.encoding){const o=t(r,e);if(null==o.vertexAttributes.position)return;const l=n(r,o.vertexAttributes.position),s=o.header.fields,i=[s.offsetX,s.offsetY,s.offsetZ],u=[s.scaleX,s.scaleY,s.scaleZ],c=l.length/3,a=new Float64Array(3*c);for(let e=0;e<c;e++)a[3*e]=l[3*e]*u[0]+i[0],a[3*e+1]=l[3*e+1]*u[1]+i[1],a[3*e+2]=l[3*e+2]*u[2]+i[2];return a}if(\"lepcc-xyz\"===e.encoding)return s(r).result}function c(e,r,o){return e?.attributeInfo.useElevation?r?a(r,o):null:e?.attributeInfo.storageInfo?l(e.attributeInfo.storageInfo,e.buffer,o):null}function a(e,r){const o=new Float64Array(r);for(let t=0;t<r;t++)o[t]=e[3*t+2];return o}function f(e,r,o,t,n){const l=e.length/3;let s=0;for(let i=0;i<l;i++){let l=!0;for(let e=0;e<t.length&&l;e++){const{filterJSON:r}=t[e],o=n[e].values[i];switch(r.type){case\"pointCloudValueFilter\":{const e=\"exclude\"===r.mode;r.values.includes(o)===e&&(l=!1);break}case\"pointCloudBitfieldFilter\":{const e=p(r.requiredSetBits),t=p(r.requiredClearBits);(o&e)===e&&0==(o&t)||(l=!1);break}case\"pointCloudReturnFilter\":{const e=15&o,t=o>>>4&15,n=t>1,s=1===e,i=e===t;let u=!1;for(const o of r.includedReturns)if(\"last\"===o&&i||\"firstOfMany\"===o&&s&&n||\"lastOfMany\"===o&&i&&n||\"single\"===o&&!n){u=!0;break}u||(l=!1);break}}}l&&(o[s]=i,e[3*s]=e[3*i],e[3*s+1]=e[3*i+1],e[3*s+2]=e[3*i+2],r[3*s]=r[3*i],r[3*s+1]=r[3*i+1],r[3*s+2]=r[3*i+2],s++)}return s}function d(e){switch(e){default:case null:case\"none\":return e=>e;case\"low-four-bit\":return e=>15&e;case\"high-four-bit\":return e=>(240&e)>>4;case\"absolute-value\":return e=>Math.abs(e);case\"modulo-ten\":return e=>e%10}}function p(e){let r=0;for(const o of e||[])r|=1<<o;return r}export{a as elevationFromPositions,i as evaluateRenderer,f as filterInPlace,c as getAttributeValues,u as readGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/arrayUtils.js\";import{isArrayBuffer as r}from\"../../../core/typedArrayUtil.js\";import{conjugate as e}from\"../../../core/libs/gl-matrix-2/math/quat.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/quatf64.js\";import{u as o}from\"../../../chunks/vec32.js\";import{clone as i,create as f}from\"../../../core/libs/gl-matrix-2/factories/vec3f32.js\";import n from\"../../../geometry/SpatialReference.js\";import{projectBuffer as s}from\"../../../geometry/projection/projectBuffer.js\";import{readGeometry as u,getAttributeValues as l,evaluateRenderer as m,filterInPlace as b}from\"./i3s/PointCloudWorkerUtil.js\";import{Obb as p}from\"../support/orientedBoundingBox.js\";class c{transform(t){const e=this._transform(t),a=[e.points.buffer,e.rgb.buffer];null!=e.pointIdFilterMap&&a.push(e.pointIdFilterMap.buffer);for(const o of e.attributes)\"buffer\"in o.values&&r(o.values.buffer)&&o.values.buffer!==e.rgb.buffer&&a.push(o.values.buffer);return Promise.resolve({result:e,transferList:a})}_transform(r){const e=u(r.schema,r.geometryBuffer);let a=e.length/3,o=null;const i=new Array,f=l(r.primaryAttributeData,e,a);null!=r.primaryAttributeData&&f&&i.push({attributeInfo:r.primaryAttributeData.attributeInfo,values:f});const s=l(r.modulationAttributeData,e,a);null!=r.modulationAttributeData&&s&&i.push({attributeInfo:r.modulationAttributeData.attributeInfo,values:s});let c=m(r.rendererInfo,f,s,a);if(r.filterInfo&&r.filterInfo.length>0&&null!=r.filterAttributesData){const f=r.filterAttributesData.filter(t).map((t=>{const r=l(t,e,a),o={attributeInfo:t.attributeInfo,values:r};return i.push(o),o}));o=new Uint32Array(a),a=b(e,c,o,r.filterInfo,f)}for(const t of r.userAttributesData){const r=l(t,e,a);i.push({attributeInfo:t.attributeInfo,values:r})}3*a<c.length&&(c=new Uint8Array(c.buffer.slice(0,3*a))),this._applyElevationOffsetInPlace(e,a,r.elevationOffset);const h=this._transformCoordinates(e,a,p.fromData(r.obbData),n.fromJSON(r.inSR),n.fromJSON(r.outSR));return{obbData:r.obbData,points:h,rgb:c,attributes:i,pointIdFilterMap:o}}_transformCoordinates(t,r,a,n,u){if(!s(t,n,0,t,u,0,r))throw new Error(\"Can't reproject\");const l=i(a.center),m=f(),b=f(),p=i(a.halfSize);e(h,a.quaternion);const c=new Float32Array(3*r);for(let e=0;e<r;e++){let r=3*e;m[0]=t[r]-l[0],m[1]=t[r+1]-l[1],m[2]=t[r+2]-l[2],o(b,m,h),p[0]=Math.max(p[0],Math.abs(b[0])),p[1]=Math.max(p[1],Math.abs(b[1])),p[2]=Math.max(p[2],Math.abs(b[2])),c[r++]=m[0],c[r++]=m[1],c[r]=m[2]}return a.halfSize=p,c}_applyElevationOffsetInPlace(t,r,e){if(0!==e)for(let a=0;a<r;a++)t[3*a+2]+=e}}const h=a();function I(){return new c}export{I as default};\n"],"names":["i","t","n","s","u","c","a","o","r","d","l","e","f","p","m","b","h","I"],"mappings":"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","x_google_ignoreList":[0,1]}