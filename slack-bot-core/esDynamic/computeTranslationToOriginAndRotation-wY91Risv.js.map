{"version":3,"file":"computeTranslationToOriginAndRotation-wY91Risv.js","sources":["../../node_modules/@arcgis/core/geometry/spatialReferenceEllipsoidUtils.js","../../node_modules/@arcgis/core/geometry/projection/localRotationUtils.js","../../node_modules/@arcgis/core/geometry/projection/computeTranslationToOriginAndRotation.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{SphericalECEFSpatialReferenceLike as e,SphericalPCPFMarsLike as t,SphericalPCPFMoonLike as s,WGS84ECEFSpatialReferenceLike as n}from\"./ellipsoidUtils.js\";import o from\"./SpatialReference.js\";import{isWKIDFromMars as i,isWKIDFromMoon as r}from\"./support/spatialReferenceUtils.js\";const p=new o(e),l=new o(t),f=new o(s),w=new o(n);function a(e){const t=c.get(e);if(t)return t;let s=p;if(e)if(e===l)s=l;else if(e===f)s=f;else{const t=e.wkid,n=e.latestWkid;if(null!=t||null!=n)i(t)||i(n)?s=l:(r(t)||r(n))&&(s=f);else{const t=e.wkt2??e.wkt;if(t){const e=t.toUpperCase();e===k?s=l:e===m&&(s=f)}}}return c.set(e,s),s}const c=new Map,k=l.wkt.toUpperCase(),m=f.wkt.toUpperCase();export{p as SphericalECEFSpatialReference,l as SphericalPCPFMars,f as SphericalPCPFMoon,w as WGS84ECEFSpatialReference,a as getSphericalPCPF};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{transpose as t}from\"../../core/libs/gl-matrix-2/math/mat4.js\";function n(t,n,o){const r=Math.sin(t),a=Math.cos(t),i=Math.sin(n),s=Math.cos(n),c=o;return c[0]=-r,c[4]=-i*a,c[8]=s*a,c[12]=0,c[1]=a,c[5]=-i*r,c[9]=s*r,c[13]=0,c[2]=0,c[6]=s,c[10]=i,c[14]=0,c[3]=0,c[7]=0,c[11]=0,c[15]=1,c}function o(o,r,a){return n(o,r,a),t(a,a),a}export{n as computeENUToSphericalPCPFLocalRotation,o as computeSphericalPCPFToENULocalRotation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{deg2rad as r}from\"../../core/mathUtils.js\";import{fromTranslation as t,identity as o}from\"../../core/libs/gl-matrix-2/math/mat4.js\";import{create as i}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeENUToSphericalPCPFLocalRotation as l,computeSphericalPCPFToENULocalRotation as n}from\"./localRotationUtils.js\";import{classifySpatialReference as E,sourceClassificationCache as s,destClassificationCache as e,ProjectionID as m,projectionTable as A}from\"./projectors.js\";import{equals as C}from\"../support/spatialReferenceUtils.js\";function R(r,i,R,c){if(null==r||null==c)return!1;const p=E(r,s),P=E(c,e);if(p===P&&!f(P)&&(p!==m.UNKNOWN||C(r,c)))return t(R,i),!0;if(f(P)){const r=A[p][m.LON_LAT],t=A[m.LON_LAT][P];return null!=r&&null!=t&&(r(i,0,L,0),t(L,0,_,0),l(u*L[0],u*L[1],R),R[12]=_[0],R[13]=_[1],R[14]=_[2],!0)}if((P===m.WEB_MERCATOR||P===m.PLATE_CARREE||P===m.WGS84)&&(p===m.WGS84||p===m.CGCS2000&&P===m.PLATE_CARREE||p===m.SPHERICAL_ECEF||p===m.WEB_MERCATOR)){const r=A[p][m.LON_LAT],t=A[m.LON_LAT][P];return null!=r&&null!=t&&(r(i,0,L,0),t(L,0,_,0),p===m.SPHERICAL_ECEF?n(u*L[0],u*L[1],R):o(R),R[12]=_[0],R[13]=_[1],R[14]=_[2],!0)}return!1}function f(r){return r===m.SPHERICAL_ECEF||r===m.SPHERICAL_MARS_PCPF||r===m.SPHERICAL_MOON_PCPF}const u=r(1),L=i(),_=i();export{R as computeTranslationToOriginAndRotation};\n"],"names":["p","o","e","l","t","f","s","n","a","c","i","r","k","m","R","E","P","C","A","L","_","u"],"mappings":"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","x_google_ignoreList":[0,1,2]}